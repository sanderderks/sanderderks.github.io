var oN=Object.defineProperty;var aN=(t,e,n)=>e in t?oN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jo=(t,e,n)=>(aN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ip(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Yt={},kl=[],xi=()=>{},lN=()=>!1,uN=/^on[^a-z]/,Td=t=>uN.test(t),m0=t=>t.startsWith("onUpdate:"),un=Object.assign,g0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cN=Object.prototype.hasOwnProperty,kt=(t,e)=>cN.call(t,e),Ue=Array.isArray,xl=t=>gu(t)==="[object Map]",Fa=t=>gu(t)==="[object Set]",y_=t=>gu(t)==="[object Date]",dN=t=>gu(t)==="[object RegExp]",tt=t=>typeof t=="function",cn=t=>typeof t=="string",Hl=t=>typeof t=="symbol",Gt=t=>t!==null&&typeof t=="object",v0=t=>(Gt(t)||tt(t))&&tt(t.then)&&tt(t.catch),tC=Object.prototype.toString,gu=t=>tC.call(t),hN=t=>gu(t).slice(8,-1),nC=t=>gu(t)==="[object Object]",y0=t=>cn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,pc=Ip(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ap=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},fN=/-(\w)/g,Hr=Ap(t=>t.replace(fN,(e,n)=>n?n.toUpperCase():"")),pN=/\B([A-Z])/g,ci=Ap(t=>t.replace(pN,"-$1").toLowerCase()),Ed=Ap(t=>t.charAt(0).toUpperCase()+t.slice(1)),mc=Ap(t=>t?`on${Ed(t)}`:""),To=(t,e)=>!Object.is(t,e),Pl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},yf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},wf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},bf=t=>{const e=cn(t)?Number(t):NaN;return isNaN(e)?t:e};let w_;const wv=()=>w_||(w_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),mN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",gN=Ip(mN);function On(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=cn(r)?bN(r):On(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(cn(t)||Gt(t))return t}const vN=/;(?![^(]*\))/g,yN=/:([^]+)/,wN=/\/\*[^]*?\*\//g;function bN(t){const e={};return t.replace(wN,"").split(vN).forEach(n=>{if(n){const r=n.split(yN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function De(t){let e="";if(cn(t))e=t;else if(Ue(t))for(let n=0;n<t.length;n++){const r=De(t[n]);r&&(e+=r+" ")}else if(Gt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Tn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!cn(e)&&(t.class=De(e)),n&&(t.style=On(n)),t}const _N="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TN=Ip(_N);function rC(t){return!!t||t===""}function EN(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Eo(t[r],e[r]);return n}function Eo(t,e){if(t===e)return!0;let n=y_(t),r=y_(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Hl(t),r=Hl(e),n||r)return t===e;if(n=Ue(t),r=Ue(e),n||r)return n&&r?EN(t,e):!1;if(n=Gt(t),r=Gt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Eo(t[o],e[o]))return!1}}return String(t)===String(e)}function kp(t,e){return t.findIndex(n=>Eo(n,e))}const Ke=t=>cn(t)?t:t==null?"":Ue(t)||Gt(t)&&(t.toString===tC||!tt(t.toString))?JSON.stringify(t,iC,2):String(t),iC=(t,e)=>e&&e.__v_isRef?iC(t,e.value):xl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Fa(e)?{[`Set(${e.size})`]:[...e.values()]}:Gt(e)&&!Ue(e)&&!nC(e)?String(e):e;let Xr;class w0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xr,!e&&Xr&&(this.index=(Xr.scopes||(Xr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Xr;try{return Xr=this,e()}finally{Xr=n}}}on(){Xr=this}off(){Xr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function xp(t){return new w0(t)}function sC(t,e=Xr){e&&e.active&&e.effects.push(t)}function Pp(){return Xr}function b0(t){Xr&&Xr.cleanups.push(t)}const _0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},oC=t=>(t.w&So)>0,aC=t=>(t.n&So)>0,SN=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=So},CN=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];oC(i)&&!aC(i)?i.delete(t):e[n++]=i,i.w&=~So,i.n&=~So}e.length=n}},_f=new WeakMap;let Ju=0,So=1;const bv=30;let Si;const ua=Symbol(""),_v=Symbol("");class Wl{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,sC(this,r)}run(){if(!this.active)return this.fn();let e=Si,n=co;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Si,Si=this,co=!0,So=1<<++Ju,Ju<=bv?SN(this):b_(this),this.fn()}finally{Ju<=bv&&CN(this),So=1<<--Ju,Si=this.parent,co=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Si===this?this.deferStop=!0:this.active&&(b_(this),this.onStop&&this.onStop(),this.active=!1)}}function b_(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function IN(t,e){t.effect instanceof Wl&&(t=t.effect.fn);const n=new Wl(t);e&&(un(n,e),e.scope&&sC(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function AN(t){t.effect.stop()}let co=!0;const lC=[];function vu(){lC.push(co),co=!1}function yu(){const t=lC.pop();co=t===void 0?!0:t}function Kr(t,e,n){if(co&&Si){let r=_f.get(t);r||_f.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=_0()),uC(i)}}function uC(t,e){let n=!1;Ju<=bv?aC(t)||(t.n|=So,n=!oC(t)):n=!t.has(Si),n&&(t.add(Si),Si.deps.push(t))}function Ss(t,e,n,r,i,s){const o=_f.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ue(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Hl(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ue(t)?y0(n)&&a.push(o.get("length")):(a.push(o.get(ua)),xl(t)&&a.push(o.get(_v)));break;case"delete":Ue(t)||(a.push(o.get(ua)),xl(t)&&a.push(o.get(_v)));break;case"set":xl(t)&&a.push(o.get(ua));break}if(a.length===1)a[0]&&Tv(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Tv(_0(l))}}function Tv(t,e){const n=Ue(t)?t:[...t];for(const r of n)r.computed&&__(r);for(const r of n)r.computed||__(r)}function __(t,e){(t!==Si||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function kN(t,e){var n;return(n=_f.get(t))==null?void 0:n.get(e)}const xN=Ip("__proto__,__v_isRef,__isVue"),cC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hl)),T_=PN();function PN(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ft(this);for(let s=0,o=this.length;s<o;s++)Kr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ft)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){vu();const r=ft(this)[e].apply(this,n);return yu(),r}}),t}function DN(t){const e=ft(this);return Kr(e,"has",t),e.hasOwnProperty(t)}class dC{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&r===(i?s?vC:gC:s?mC:pC).get(e))return e;const o=Ue(e);if(!i){if(o&&kt(T_,n))return Reflect.get(T_,n,r);if(n==="hasOwnProperty")return DN}const a=Reflect.get(e,n,r);return(Hl(n)?cC.has(n):xN(n))||(i||Kr(e,"get",n),s)?a:zt(a)?o&&y0(n)?a:a.value:Gt(a)?i?E0(a):$n(a):a}}class hC extends dC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(wa(s)&&zt(s)&&!zt(r))return!1;if(!this._shallow&&(!Vc(r)&&!wa(r)&&(s=ft(s),r=ft(r)),!Ue(e)&&zt(s)&&!zt(r)))return s.value=r,!0;const o=Ue(e)&&y0(n)?Number(n)<e.length:kt(e,n),a=Reflect.set(e,n,r,i);return e===ft(i)&&(o?To(r,s)&&Ss(e,"set",n,r):Ss(e,"add",n,r)),a}deleteProperty(e,n){const r=kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ss(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Hl(n)||!cC.has(n))&&Kr(e,"has",n),r}ownKeys(e){return Kr(e,"iterate",Ue(e)?"length":ua),Reflect.ownKeys(e)}}class fC extends dC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const RN=new hC,ON=new fC,NN=new hC(!0),MN=new fC(!0),T0=t=>t,Dp=t=>Reflect.getPrototypeOf(t);function lh(t,e,n=!1,r=!1){t=t.__v_raw;const i=ft(t),s=ft(e);n||(To(e,s)&&Kr(i,"get",e),Kr(i,"get",s));const{has:o}=Dp(i),a=r?T0:n?C0:Bc;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function uh(t,e=!1){const n=this.__v_raw,r=ft(n),i=ft(t);return e||(To(t,i)&&Kr(r,"has",t),Kr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ch(t,e=!1){return t=t.__v_raw,!e&&Kr(ft(t),"iterate",ua),Reflect.get(t,"size",t)}function E_(t){t=ft(t);const e=ft(this);return Dp(e).has.call(e,t)||(e.add(t),Ss(e,"add",t,t)),this}function S_(t,e){e=ft(e);const n=ft(this),{has:r,get:i}=Dp(n);let s=r.call(n,t);s||(t=ft(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?To(e,o)&&Ss(n,"set",t,e):Ss(n,"add",t,e),this}function C_(t){const e=ft(this),{has:n,get:r}=Dp(e);let i=n.call(e,t);i||(t=ft(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ss(e,"delete",t,void 0),s}function I_(){const t=ft(this),e=t.size!==0,n=t.clear();return e&&Ss(t,"clear",void 0,void 0),n}function dh(t,e){return function(r,i){const s=this,o=s.__v_raw,a=ft(o),l=e?T0:t?C0:Bc;return!t&&Kr(a,"iterate",ua),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function hh(t,e,n){return function(...r){const i=this.__v_raw,s=ft(i),o=xl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?T0:e?C0:Bc;return!e&&Kr(s,"iterate",l?_v:ua),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Bs(t){return function(...e){return t==="delete"?!1:this}}function LN(){const t={get(s){return lh(this,s)},get size(){return ch(this)},has:uh,add:E_,set:S_,delete:C_,clear:I_,forEach:dh(!1,!1)},e={get(s){return lh(this,s,!1,!0)},get size(){return ch(this)},has:uh,add:E_,set:S_,delete:C_,clear:I_,forEach:dh(!1,!0)},n={get(s){return lh(this,s,!0)},get size(){return ch(this,!0)},has(s){return uh.call(this,s,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:dh(!0,!1)},r={get(s){return lh(this,s,!0,!0)},get size(){return ch(this,!0)},has(s){return uh.call(this,s,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:dh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=hh(s,!1,!1),n[s]=hh(s,!0,!1),e[s]=hh(s,!1,!0),r[s]=hh(s,!0,!0)}),[t,n,e,r]}const[$N,UN,FN,VN]=LN();function Rp(t,e){const n=e?t?VN:FN:t?UN:$N;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kt(n,i)&&i in r?n:r,i,s)}const BN={get:Rp(!1,!1)},jN={get:Rp(!1,!0)},HN={get:Rp(!0,!1)},WN={get:Rp(!0,!0)},pC=new WeakMap,mC=new WeakMap,gC=new WeakMap,vC=new WeakMap;function YN(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KN(t){return t.__v_skip||!Object.isExtensible(t)?0:YN(hN(t))}function $n(t){return wa(t)?t:Op(t,!1,RN,BN,pC)}function yC(t){return Op(t,!1,NN,jN,mC)}function E0(t){return Op(t,!0,ON,HN,gC)}function zN(t){return Op(t,!0,MN,WN,vC)}function Op(t,e,n,r,i){if(!Gt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=KN(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Xi(t){return wa(t)?Xi(t.__v_raw):!!(t&&t.__v_isReactive)}function wa(t){return!!(t&&t.__v_isReadonly)}function Vc(t){return!!(t&&t.__v_isShallow)}function S0(t){return Xi(t)||wa(t)}function ft(t){const e=t&&t.__v_raw;return e?ft(e):t}function Sd(t){return yf(t,"__v_skip",!0),t}const Bc=t=>Gt(t)?$n(t):t,C0=t=>Gt(t)?E0(t):t;function I0(t){co&&Si&&(t=ft(t),uC(t.dep||(t.dep=_0())))}function Np(t,e){t=ft(t);const n=t.dep;n&&Tv(n)}function zt(t){return!!(t&&t.__v_isRef===!0)}function le(t){return bC(t,!1)}function wC(t){return bC(t,!0)}function bC(t,e){return zt(t)?t:new GN(t,e)}class GN{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ft(e),this._value=n?e:Bc(e)}get value(){return I0(this),this._value}set value(e){const n=this.__v_isShallow||Vc(e)||wa(e);e=n?e:ft(e),To(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Bc(e),Np(this))}}function qN(t){Np(t)}function x(t){return zt(t)?t.value:t}function QN(t){return tt(t)?t():x(t)}const XN={get:(t,e,n)=>x(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return zt(i)&&!zt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function A0(t){return Xi(t)?t:new Proxy(t,XN)}class JN{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>I0(this),()=>Np(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function ZN(t){return new JN(t)}function _C(t){const e=Ue(t)?new Array(t.length):{};for(const n in t)e[n]=TC(t,n);return e}class eM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return kN(ft(this._object),this._key)}}class tM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Yl(t,e,n){return zt(t)?t:tt(t)?new tM(t):Gt(t)&&arguments.length>1?TC(t,e,n):le(t)}function TC(t,e,n){const r=t[e];return zt(r)?r:new eM(t,e,n)}class nM{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Wl(e,()=>{this._dirty||(this._dirty=!0,Np(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ft(this);return I0(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function rM(t,e,n=!1){let r,i;const s=tt(t);return s?(r=t,i=xi):(r=t.get,i=t.set),new nM(r,i,s||!i,n)}function iM(t,...e){}function sM(t,e){}function Cs(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Va(s,e,n)}return i}function ni(t,e,n,r){if(tt(t)){const s=Cs(t,e,n,r);return s&&v0(s)&&s.catch(o=>{Va(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ni(t[s],e,n,r));return i}function Va(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Cs(l,null,10,[t,o,a]);return}}oM(t,n,i,r)}function oM(t,e,n,r=!0){console.error(t)}let jc=!1,Ev=!1;const fr=[];let ji=0;const Dl=[];let ms=null,Zo=0;const EC=Promise.resolve();let k0=null;function Dr(t){const e=k0||EC;return t?e.then(this?t.bind(this):t):e}function aM(t){let e=ji+1,n=fr.length;for(;e<n;){const r=e+n>>>1,i=fr[r],s=Hc(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Mp(t){(!fr.length||!fr.includes(t,jc&&t.allowRecurse?ji+1:ji))&&(t.id==null?fr.push(t):fr.splice(aM(t.id),0,t),SC())}function SC(){!jc&&!Ev&&(Ev=!0,k0=EC.then(CC))}function lM(t){const e=fr.indexOf(t);e>ji&&fr.splice(e,1)}function Tf(t){Ue(t)?Dl.push(...t):(!ms||!ms.includes(t,t.allowRecurse?Zo+1:Zo))&&Dl.push(t),SC()}function A_(t,e=jc?ji+1:0){for(;e<fr.length;e++){const n=fr[e];n&&n.pre&&(fr.splice(e,1),e--,n())}}function Ef(t){if(Dl.length){const e=[...new Set(Dl)];if(Dl.length=0,ms){ms.push(...e);return}for(ms=e,ms.sort((n,r)=>Hc(n)-Hc(r)),Zo=0;Zo<ms.length;Zo++)ms[Zo]();ms=null,Zo=0}}const Hc=t=>t.id==null?1/0:t.id,uM=(t,e)=>{const n=Hc(t)-Hc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function CC(t){Ev=!1,jc=!0,fr.sort(uM);const e=xi;try{for(ji=0;ji<fr.length;ji++){const n=fr[ji];n&&n.active!==!1&&Cs(n,null,14)}}finally{ji=0,fr.length=0,Ef(),jc=!1,k0=null,(fr.length||Dl.length)&&CC()}}let dl,fh=[];function IC(t,e){var n,r;dl=t,dl?(dl.enabled=!0,fh.forEach(({event:i,args:s})=>dl.emit(i,...s)),fh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{IC(s,e)}),setTimeout(()=>{dl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,fh=[])},3e3)):fh=[]}function cM(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Yt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=r[c]||Yt;h&&(i=n.map(f=>cn(f)?f.trim():f)),d&&(i=n.map(wf))}let a,l=r[a=mc(e)]||r[a=mc(Hr(e))];!l&&s&&(l=r[a=mc(ci(e))]),l&&ni(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ni(u,t,6,i)}}function AC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!tt(t)){const l=u=>{const c=AC(u,e,!0);c&&(a=!0,un(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Gt(t)&&r.set(t,null),null):(Ue(s)?s.forEach(l=>o[l]=null):un(o,s),Gt(t)&&r.set(t,o),o)}function Lp(t,e){return!t||!Td(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,ci(e))||kt(t,e))}let Wn=null,$p=null;function Wc(t){const e=Wn;return Wn=t,$p=t&&t.type.__scopeId||null,e}function kC(t){$p=t}function xC(){$p=null}const dM=t=>ge;function ge(t,e=Wn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Pv(-1);const s=Wc(e);let o;try{o=t(...i)}finally{Wc(s),r._d&&Pv(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Qh(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t;let y,T;const v=Wc(t);try{if(n.shapeFlag&4){const m=i||r;y=Jr(c.call(m,m,d,s,f,h,p)),T=l}else{const m=e;y=Jr(m.length>1?m(s,{attrs:l,slots:a,emit:u}):m(s,null)),T=e.props?l:fM(l)}}catch(m){yc.length=0,Va(m,t,1),y=ae(vr)}let _=y;if(T&&g!==!1){const m=Object.keys(T),{shapeFlag:w}=_;m.length&&w&7&&(o&&m.some(m0)&&(T=pM(T,o)),_=is(_,T))}return n.dirs&&(_=is(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,Wc(v),y}function hM(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Co(r)){if(r.type!==vr||r.children==="v-if"){if(e)return;e=r}}else return}return e}const fM=t=>{let e;for(const n in t)(n==="class"||n==="style"||Td(n))&&((e||(e={}))[n]=t[n]);return e},pM=(t,e)=>{const n={};for(const r in t)(!m0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function mM(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?k_(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!Lp(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?k_(r,o,u):!0:!!o;return!1}function k_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Lp(n,s))return!0}return!1}function x0({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const P0="components",gM="directives";function ls(t,e){return D0(P0,t,!0,e)||t}const PC=Symbol.for("v-ndc");function Cd(t){return cn(t)?D0(P0,t,!1)||t:t||PC}function vM(t){return D0(gM,t)}function D0(t,e,n=!0,r=!1){const i=Wn||xn;if(i){const s=i.type;if(t===P0){const a=Ov(s,!1);if(a&&(a===e||a===Hr(e)||a===Ed(Hr(e))))return s}const o=x_(i[t]||s[t],e)||x_(i.appContext[t],e);return!o&&r?s:o}}function x_(t,e){return t&&(t[e]||t[Hr(e)]||t[Ed(Hr(e))])}const DC=t=>t.__isSuspense,yM={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){t==null?bM(e,n,r,i,s,o,a,l,u):_M(t,e,n,r,i,o,a,l,u)},hydrate:TM,create:R0,normalize:EM},wM=yM;function Yc(t,e){const n=t.props&&t.props[e];tt(n)&&n()}function bM(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=R0(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(Yc(t,"onPending"),Yc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Rl(h,t.ssFallback)):h.resolve(!1,!0)}function _M(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:y,isHydrating:T}=d;if(g)d.pendingBranch=h,Ci(h,g)?(l(g,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():y&&(l(p,f,n,r,i,null,s,o,a),Rl(d,f))):(d.pendingId++,T?(d.isHydrating=!1,d.activeBranch=g):u(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),y?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,s,o,a),Rl(d,f))):p&&Ci(h,p)?(l(p,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&Ci(h,p))l(p,h,n,r,i,d,s,o,a),Rl(d,h);else if(Yc(e,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:v,pendingId:_}=d;v>0?setTimeout(()=>{d.pendingId===_&&d.fallback(f)},v):v===0&&d.fallback(f)}}function R0(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:g,remove:y}}=u;let T;const v=SM(t);v&&e!=null&&e.pendingBranch&&(T=e.pendingId,e.deps++);const _=t.props?bf(t.props.timeout):void 0,m={vnode:t,parent:e,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(w=!1,E=!1){const{vnode:L,activeBranch:k,pendingBranch:A,pendingId:C,effects:$,parentComponent:V,container:I}=m;let H=!1;if(m.isHydrating)m.isHydrating=!1;else if(!w){H=k&&A.transition&&A.transition.mode==="out-in",H&&(k.transition.afterLeave=()=>{C===m.pendingId&&(h(A,I,W,0),Tf($))});let{anchor:W}=m;k&&(W=p(k),f(k,V,m,!0)),H||h(A,I,W,0)}Rl(m,A),m.pendingBranch=null,m.isInFallback=!1;let M=m.parent,O=!1;for(;M;){if(M.pendingBranch){M.effects.push(...$),O=!0;break}M=M.parent}!O&&!H&&Tf($),m.effects=[],v&&e&&e.pendingBranch&&T===e.pendingId&&(e.deps--,e.deps===0&&!E&&e.resolve()),Yc(L,"onResolve")},fallback(w){if(!m.pendingBranch)return;const{vnode:E,activeBranch:L,parentComponent:k,container:A,isSVG:C}=m;Yc(E,"onFallback");const $=p(L),V=()=>{m.isInFallback&&(d(null,w,A,$,k,null,C,a,l),Rl(m,w))},I=w.transition&&w.transition.mode==="out-in";I&&(L.transition.afterLeave=V),m.isInFallback=!0,f(L,k,null,!0),I||V()},move(w,E,L){m.activeBranch&&h(m.activeBranch,w,E,L),m.container=w},next(){return m.activeBranch&&p(m.activeBranch)},registerDep(w,E){const L=!!m.pendingBranch;L&&m.deps++;const k=w.vnode.el;w.asyncDep.catch(A=>{Va(A,w,0)}).then(A=>{if(w.isUnmounted||m.isUnmounted||m.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:C}=w;Dv(w,A,!1),k&&(C.el=k);const $=!k&&w.subTree.el;E(w,C,g(k||w.subTree.el),k?null:p(w.subTree),m,o,l),$&&y($),x0(w,C.el),L&&--m.deps===0&&m.resolve()})},unmount(w,E){m.isUnmounted=!0,m.activeBranch&&f(m.activeBranch,n,w,E),m.pendingBranch&&f(m.pendingBranch,n,w,E)}};return m}function TM(t,e,n,r,i,s,o,a,l){const u=e.suspense=R0(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function EM(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=P_(r?n.default:n),t.ssFallback=r?P_(n.fallback):ae(vr)}function P_(t){let e;if(tt(t)){const n=Ta&&t._c;n&&(t._d=!1,D()),t=t(),n&&(t._d=!0,e=Vr,lI())}return Ue(t)&&(t=hM(t)),t=Jr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function RC(t,e){e&&e.pendingBranch?Ue(t)?e.effects.push(...t):e.effects.push(t):Tf(t)}function Rl(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,x0(r,i))}function SM(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function OC(t,e){return Id(t,null,e)}function NC(t,e){return Id(t,null,{flush:"post"})}function CM(t,e){return Id(t,null,{flush:"sync"})}const ph={};function yn(t,e,n){return Id(t,e,n)}function Id(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Yt){var a;const l=Pp()===((a=xn)==null?void 0:a.scope)?xn:null;let u,c=!1,d=!1;if(zt(t)?(u=()=>t.value,c=Vc(t)):Xi(t)?(u=()=>t,r=!0):Ue(t)?(d=!0,c=t.some(m=>Xi(m)||Vc(m)),u=()=>t.map(m=>{if(zt(m))return m.value;if(Xi(m))return ra(m);if(tt(m))return Cs(m,l,2)})):tt(t)?e?u=()=>Cs(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),ni(t,l,3,[f])}:u=xi,e&&r){const m=u;u=()=>ra(m())}let h,f=m=>{h=v.onStop=()=>{Cs(m,l,4)}},p;if(zl)if(f=xi,e?n&&ni(e,l,3,[u(),d?[]:void 0,f]):u(),i==="sync"){const m=vI();p=m.__watcherHandles||(m.__watcherHandles=[])}else return xi;let g=d?new Array(t.length).fill(ph):ph;const y=()=>{if(v.active)if(e){const m=v.run();(r||c||(d?m.some((w,E)=>To(w,g[E])):To(m,g)))&&(h&&h(),ni(e,l,3,[m,g===ph?void 0:d&&g[0]===ph?[]:g,f]),g=m)}else v.run()};y.allowRecurse=!!e;let T;i==="sync"?T=y:i==="post"?T=()=>Xn(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),T=()=>Mp(y));const v=new Wl(u,T);e?n?y():g=v.run():i==="post"?Xn(v.run.bind(v),l&&l.suspense):v.run();const _=()=>{v.stop(),l&&l.scope&&g0(l.scope.effects,v)};return p&&p.push(_),_}function IM(t,e,n){const r=this.proxy,i=cn(t)?t.includes(".")?MC(r,t):()=>r[t]:t.bind(r,r);let s;tt(e)?s=e:(s=e.handler,n=e);const o=xn;Io(this);const a=Id(i,s.bind(r),n);return o?Io(o):ho(),a}function MC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ra(t,e){if(!Gt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),zt(t))ra(t.value,e);else if(Ue(t))for(let n=0;n<t.length;n++)ra(t[n],e);else if(Fa(t)||xl(t))t.forEach(n=>{ra(n,e)});else if(nC(t))for(const n in t)ra(t[n],e);return t}function Ji(t,e){const n=Wn;if(n===null)return t;const r=jp(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=Yt]=e[s];o&&(tt(o)&&(o={mounted:o,updated:o}),o.deep&&ra(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function Fi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(vu(),ni(l,n,8,[t.el,a,t,e]),yu())}}const Qs=Symbol("_leaveCb"),mh=Symbol("_enterCb");function O0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fn(()=>{t.isMounted=!0}),kd(()=>{t.isUnmounting=!0}),t}const li=[Function,Array],N0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:li,onEnter:li,onAfterEnter:li,onEnterCancelled:li,onBeforeLeave:li,onLeave:li,onAfterLeave:li,onLeaveCancelled:li,onBeforeAppear:li,onAppear:li,onAfterAppear:li,onAppearCancelled:li},AM={name:"BaseTransition",props:N0,setup(t,{slots:e}){const n=us(),r=O0();let i;return()=>{const s=e.default&&Up(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const g of s)if(g.type!==vr){o=g;break}}const a=ft(t),{mode:l}=a;if(r.isLeaving)return qm(o);const u=D_(o);if(!u)return qm(o);const c=Kl(u,a,r,n);ba(u,c);const d=n.subTree,h=d&&D_(d);let f=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();i===void 0?i=g:g!==i&&(i=g,f=!0)}if(h&&h.type!==vr&&(!Ci(u,h)||f)){const g=Kl(h,a,r,n);if(ba(h,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},qm(o);l==="in-out"&&u.type!==vr&&(g.delayLeave=(y,T,v)=>{const _=$C(r,h);_[String(h.key)]=h,y[Qs]=()=>{T(),y[Qs]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return o}}},LC=AM;function $C(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Kl(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:T,onAppearCancelled:v}=e,_=String(t.key),m=$C(n,t),w=(k,A)=>{k&&ni(k,r,9,A)},E=(k,A)=>{const C=A[1];w(k,A),Ue(k)?k.every($=>$.length<=1)&&C():k.length<=1&&C()},L={mode:s,persisted:o,beforeEnter(k){let A=a;if(!n.isMounted)if(i)A=g||a;else return;k[Qs]&&k[Qs](!0);const C=m[_];C&&Ci(t,C)&&C.el[Qs]&&C.el[Qs](),w(A,[k])},enter(k){let A=l,C=u,$=c;if(!n.isMounted)if(i)A=y||l,C=T||u,$=v||c;else return;let V=!1;const I=k[mh]=H=>{V||(V=!0,H?w($,[k]):w(C,[k]),L.delayedLeave&&L.delayedLeave(),k[mh]=void 0)};A?E(A,[k,I]):I()},leave(k,A){const C=String(t.key);if(k[mh]&&k[mh](!0),n.isUnmounting)return A();w(d,[k]);let $=!1;const V=k[Qs]=I=>{$||($=!0,A(),I?w(p,[k]):w(f,[k]),k[Qs]=void 0,m[C]===t&&delete m[C])};m[C]=t,h?E(h,[k,V]):V()},clone(k){return Kl(k,e,n,r)}};return L}function qm(t){if(Ad(t))return t=is(t),t.children=null,t}function D_(t){return Ad(t)?t.children?t.children[0]:void 0:t}function ba(t,e){t.shapeFlag&6&&t.component?ba(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Up(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ie?(o.patchFlag&128&&i++,r=r.concat(Up(o.children,e,a))):(e||o.type!==vr)&&r.push(a!=null?is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ae(t,e){return tt(t)?(()=>un({name:t.name},e,{setup:t}))():t}const ca=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function kM(t){tt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((g,y)=>{a(p,()=>g(d()),()=>y(p),c+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ae({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const f=xn;if(u)return()=>Qm(u,f);const p=v=>{l=null,Va(v,f,13,!r)};if(o&&f.suspense||zl)return h().then(v=>()=>Qm(v,f)).catch(v=>(p(v),()=>r?ae(r,{error:v}):null));const g=le(!1),y=le(),T=le(!!i);return i&&setTimeout(()=>{T.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!y.value){const v=new Error(`Async component timed out after ${s}ms.`);p(v),y.value=v}},s),h().then(()=>{g.value=!0,f.parent&&Ad(f.parent.vnode)&&Mp(f.parent.update)}).catch(v=>{p(v),y.value=v}),()=>{if(g.value&&u)return Qm(u,f);if(y.value&&r)return ae(r,{error:y.value});if(n&&!T.value)return ae(n)}}})}function Qm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=ae(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Ad=t=>t.type.__isKeepAlive,xM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=us(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(v,_,m,w,E)=>{const L=v.component;u(v,_,m,0,a),l(L.vnode,v,_,m,L,a,w,v.slotScopeIds,E),Xn(()=>{L.isDeactivated=!1,L.a&&Pl(L.a);const k=v.props&&v.props.onVnodeMounted;k&&$r(k,L.parent,v)},a)},r.deactivate=v=>{const _=v.component;u(v,h,null,1,a),Xn(()=>{_.da&&Pl(_.da);const m=v.props&&v.props.onVnodeUnmounted;m&&$r(m,_.parent,v),_.isDeactivated=!0},a)};function f(v){Xm(v),c(v,n,a,!0)}function p(v){i.forEach((_,m)=>{const w=Ov(_.type);w&&(!v||!v(w))&&g(m)})}function g(v){const _=i.get(v);!o||!Ci(_,o)?f(_):o&&Xm(o),i.delete(v),s.delete(v)}yn(()=>[t.include,t.exclude],([v,_])=>{v&&p(m=>Zu(v,m)),_&&p(m=>!Zu(_,m))},{flush:"post",deep:!0});let y=null;const T=()=>{y!=null&&i.set(y,Jm(n.subTree))};return fn(T),Vp(T),kd(()=>{i.forEach(v=>{const{subTree:_,suspense:m}=n,w=Jm(_);if(v.type===w.type&&v.key===w.key){Xm(w);const E=w.component.da;E&&Xn(E,m);return}f(v)})}),()=>{if(y=null,!e.default)return null;const v=e.default(),_=v[0];if(v.length>1)return o=null,v;if(!Co(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let m=Jm(_);const w=m.type,E=Ov(ca(m)?m.type.__asyncResolved||{}:w),{include:L,exclude:k,max:A}=t;if(L&&(!E||!Zu(L,E))||k&&E&&Zu(k,E))return o=m,_;const C=m.key==null?w:m.key,$=i.get(C);return m.el&&(m=is(m),_.shapeFlag&128&&(_.ssContent=m)),y=C,$?(m.el=$.el,m.component=$.component,m.transition&&ba(m,m.transition),m.shapeFlag|=512,s.delete(C),s.add(C)):(s.add(C),A&&s.size>parseInt(A,10)&&g(s.values().next().value)),m.shapeFlag|=256,o=m,DC(_.type)?_:m}}},PM=xM;function Zu(t,e){return Ue(t)?t.some(n=>Zu(n,e)):cn(t)?t.split(",").includes(e):dN(t)?t.test(e):!1}function UC(t,e){VC(t,"a",e)}function FC(t,e){VC(t,"da",e)}function VC(t,e,n=xn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Fp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Ad(i.parent.vnode)&&DM(r,e,n,i),i=i.parent}}function DM(t,e,n,r){const i=Fp(e,t,r,!0);Ba(()=>{g0(r[e],i)},n)}function Xm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Jm(t){return t.shapeFlag&128?t.ssContent:t}function Fp(t,e,n=xn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;vu(),Io(n);const a=ni(e,n,t,o);return ho(),yu(),a});return r?i.unshift(s):i.push(s),s}}const $s=t=>(e,n=xn)=>(!zl||t==="sp")&&Fp(t,(...r)=>e(...r),n),BC=$s("bm"),fn=$s("m"),M0=$s("bu"),Vp=$s("u"),kd=$s("bum"),Ba=$s("um"),jC=$s("sp"),HC=$s("rtg"),WC=$s("rtc");function YC(t,e=xn){Fp("ec",t,e)}function ut(t,e,n,r){let i;const s=n&&n[r];if(Ue(t)||cn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Gt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function nr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ue(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Pe(t,e,n={},r,i){if(Wn.isCE||Wn.parent&&ca(Wn.parent)&&Wn.parent.isCE)return e!=="default"&&(n.name=e),ae("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),D();const o=s&&KC(s(n)),a=he(Ie,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function KC(t){return t.some(e=>Co(e)?!(e.type===vr||e.type===Ie&&!KC(e.children)):!0)?t:null}function RM(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:mc(r)]=t[r];return n}const Sv=t=>t?hI(t)?jp(t)||t.proxy:Sv(t.parent):null,gc=un(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sv(t.parent),$root:t=>Sv(t.root),$emit:t=>t.emit,$options:t=>L0(t),$forceUpdate:t=>t.f||(t.f=()=>Mp(t.update)),$nextTick:t=>t.n||(t.n=Dr.bind(t.proxy)),$watch:t=>IM.bind(t)}),Zm=(t,e)=>t!==Yt&&!t.__isScriptSetup&&kt(t,e),Cv={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Zm(r,e))return o[e]=1,r[e];if(i!==Yt&&kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&kt(u,e))return o[e]=3,s[e];if(n!==Yt&&kt(n,e))return o[e]=4,n[e];Iv&&(o[e]=0)}}const c=gc[e];let d,h;if(c)return e==="$attrs"&&Kr(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Yt&&kt(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,kt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Zm(i,e)?(i[e]=n,!0):r!==Yt&&kt(r,e)?(r[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Yt&&kt(t,o)||Zm(e,o)||(a=s[0])&&kt(a,o)||kt(r,o)||kt(gc,o)||kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},OM=un({},Cv,{get(t,e){if(e!==Symbol.unscopables)return Cv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!gN(e)}});function NM(){return null}function MM(){return null}function LM(t){}function $M(t){}function UM(){return null}function FM(){}function VM(t,e){return null}function Oo(){return zC().slots}function BM(){return zC().attrs}function jM(t,e,n){const r=us();if(n&&n.local){const i=le(t[e]);return yn(()=>t[e],s=>i.value=s),yn(i,s=>{s!==t[e]&&r.emit(`update:${e}`,s)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){r.emit(`update:${e}`,i)}}}function zC(){const t=us();return t.setupContext||(t.setupContext=mI(t))}function Kc(t){return Ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function HM(t,e){const n=Kc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Ue(i)||tt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function WM(t,e){return!t||!e?t||e:Ue(t)&&Ue(e)?t.concat(e):un({},Kc(t),Kc(e))}function YM(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function KM(t){const e=us();let n=t();return ho(),v0(n)&&(n=n.catch(r=>{throw Io(e),r})),[n,()=>Io(e)]}let Iv=!0;function zM(t){const e=L0(t),n=t.proxy,r=t.ctx;Iv=!1,e.beforeCreate&&R_(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:y,beforeDestroy:T,beforeUnmount:v,destroyed:_,unmounted:m,render:w,renderTracked:E,renderTriggered:L,errorCaptured:k,serverPrefetch:A,expose:C,inheritAttrs:$,components:V,directives:I,filters:H}=e;if(u&&GM(u,r,null),o)for(const W in o){const X=o[W];tt(X)&&(r[W]=X.bind(n))}if(i){const W=i.call(n,n);Gt(W)&&(t.data=$n(W))}if(Iv=!0,s)for(const W in s){const X=s[W],F=tt(X)?X.bind(n,n):tt(X.get)?X.get.bind(n,n):xi,b=!tt(X)&&tt(X.set)?X.set.bind(n):xi,Q=re({get:F,set:b});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>Q.value,set:te=>Q.value=te})}if(a)for(const W in a)GC(a[W],r,n,W);if(l){const W=tt(l)?l.call(n):l;Reflect.ownKeys(W).forEach(X=>{Ol(X,W[X])})}c&&R_(c,t,"c");function O(W,X){Ue(X)?X.forEach(F=>W(F.bind(n))):X&&W(X.bind(n))}if(O(BC,d),O(fn,h),O(M0,f),O(Vp,p),O(UC,g),O(FC,y),O(YC,k),O(WC,E),O(HC,L),O(kd,v),O(Ba,m),O(jC,A),Ue(C))if(C.length){const W=t.exposed||(t.exposed={});C.forEach(X=>{Object.defineProperty(W,X,{get:()=>n[X],set:F=>n[X]=F})})}else t.exposed||(t.exposed={});w&&t.render===xi&&(t.render=w),$!=null&&(t.inheritAttrs=$),V&&(t.components=V),I&&(t.directives=I)}function GM(t,e,n=xi){Ue(t)&&(t=Av(t));for(const r in t){const i=t[r];let s;Gt(i)?"default"in i?s=Wr(i.from||r,i.default,!0):s=Wr(i.from||r):s=Wr(i),zt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function R_(t,e,n){ni(Ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function GC(t,e,n,r){const i=r.includes(".")?MC(n,r):()=>n[r];if(cn(t)){const s=e[t];tt(s)&&yn(i,s)}else if(tt(t))yn(i,t.bind(n));else if(Gt(t))if(Ue(t))t.forEach(s=>GC(s,e,n,r));else{const s=tt(t.handler)?t.handler.bind(n):e[t.handler];tt(s)&&yn(i,s,t)}}function L0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Sf(l,u,o,!0)),Sf(l,e,o)),Gt(e)&&s.set(e,l),l}function Sf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Sf(t,s,n,!0),i&&i.forEach(o=>Sf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=qM[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const qM={data:O_,props:N_,emits:N_,methods:ec,computed:ec,beforeCreate:Sr,created:Sr,beforeMount:Sr,mounted:Sr,beforeUpdate:Sr,updated:Sr,beforeDestroy:Sr,beforeUnmount:Sr,destroyed:Sr,unmounted:Sr,activated:Sr,deactivated:Sr,errorCaptured:Sr,serverPrefetch:Sr,components:ec,directives:ec,watch:XM,provide:O_,inject:QM};function O_(t,e){return e?t?function(){return un(tt(t)?t.call(this,this):t,tt(e)?e.call(this,this):e)}:e:t}function QM(t,e){return ec(Av(t),Av(e))}function Av(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Sr(t,e){return t?[...new Set([].concat(t,e))]:e}function ec(t,e){return t?un(Object.create(null),t,e):e}function N_(t,e){return t?Ue(t)&&Ue(e)?[...new Set([...t,...e])]:un(Object.create(null),Kc(t),Kc(e??{})):e}function XM(t,e){if(!t)return e;if(!e)return t;const n=un(Object.create(null),t);for(const r in e)n[r]=Sr(t[r],e[r]);return n}function qC(){return{app:null,config:{isNativeTag:lN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let JM=0;function ZM(t,e){return function(r,i=null){tt(r)||(r=un({},r)),i!=null&&!Gt(i)&&(i=null);const s=qC(),o=new WeakSet;let a=!1;const l=s.app={_uid:JM++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:wI,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&tt(u.install)?(o.add(u),u.install(l,...c)):tt(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=ae(r,i);return h.appContext=s,c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,jp(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){zc=l;try{return u()}finally{zc=null}}};return l}}let zc=null;function Ol(t,e){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[t]=e}}function Wr(t,e,n=!1){const r=xn||Wn;if(r||zc){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:zc._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&tt(e)?e.call(r&&r.proxy):e}}function QC(){return!!(xn||Wn||zc)}function e2(t,e,n,r=!1){const i={},s={};yf(s,Bp,1),t.propsDefaults=Object.create(null),XC(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:yC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function t2(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=ft(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Lp(t.emitsOptions,h))continue;const f=e[h];if(l)if(kt(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const p=Hr(h);i[p]=kv(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{XC(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!kt(e,d)&&((c=ci(d))===d||!kt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=kv(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!kt(e,d))&&(delete s[d],u=!0)}u&&Ss(t,"set","$attrs")}function XC(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(pc(l))continue;const u=e[l];let c;i&&kt(i,c=Hr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Lp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=ft(n),u=a||Yt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=kv(i,l,d,u[d],t,!kt(u,d))}}return o}function kv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&tt(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Io(i),r=u[n]=l.call(null,e),ho())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===ci(n))&&(r=!0))}return r}function JC(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!tt(t)){const c=d=>{l=!0;const[h,f]=JC(d,e,!0);un(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Gt(t)&&r.set(t,kl),kl;if(Ue(s))for(let c=0;c<s.length;c++){const d=Hr(s[c]);M_(d)&&(o[d]=Yt)}else if(s)for(const c in s){const d=Hr(c);if(M_(d)){const h=s[c],f=o[d]=Ue(h)||tt(h)?{type:h}:un({},h);if(f){const p=U_(Boolean,f.type),g=U_(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||kt(f,"default"))&&a.push(d)}}}const u=[o,a];return Gt(t)&&r.set(t,u),u}function M_(t){return t[0]!=="$"}function L_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function $_(t,e){return L_(t)===L_(e)}function U_(t,e){return Ue(e)?e.findIndex(n=>$_(n,t)):tt(e)&&$_(e,t)?0:-1}const ZC=t=>t[0]==="_"||t==="$stable",$0=t=>Ue(t)?t.map(Jr):[Jr(t)],n2=(t,e,n)=>{if(e._n)return e;const r=ge((...i)=>$0(e(...i)),n);return r._c=!1,r},eI=(t,e,n)=>{const r=t._ctx;for(const i in t){if(ZC(i))continue;const s=t[i];if(tt(s))e[i]=n2(i,s,r);else if(s!=null){const o=$0(s);e[i]=()=>o}}},tI=(t,e)=>{const n=$0(e);t.slots.default=()=>n},r2=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ft(e),yf(e,"_",n)):eI(e,t.slots={})}else t.slots={},e&&tI(t,e);yf(t.slots,Bp,1)},i2=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Yt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(un(i,e),!n&&a===1&&delete i._):(s=!e.$stable,eI(e,i)),o=e}else e&&(tI(t,e),o={default:1});if(s)for(const a in i)!ZC(a)&&o[a]==null&&delete i[a]};function Cf(t,e,n,r,i=!1){if(Ue(t)){t.forEach((h,f)=>Cf(h,e&&(Ue(e)?e[f]:e),n,r,i));return}if(ca(r)&&!i)return;const s=r.shapeFlag&4?jp(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Yt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(cn(u)?(c[u]=null,kt(d,u)&&(d[u]=null)):zt(u)&&(u.value=null)),tt(l))Cs(l,a,12,[o,c]);else{const h=cn(l),f=zt(l);if(h||f){const p=()=>{if(t.f){const g=h?kt(d,l)?d[l]:c[l]:l.value;i?Ue(g)&&g0(g,s):Ue(g)?g.includes(s)||g.push(s):h?(c[l]=[s],kt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,kt(d,l)&&(d[l]=o)):f&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Xn(p,n)):p()}}}let js=!1;const gh=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",vh=t=>t.nodeType===8;function s2(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(_,m)=>{if(!m.hasChildNodes()){n(null,_,m),Ef(),m._vnode=_;return}js=!1,d(m.firstChild,_,null,null,null),Ef(),m._vnode=_,js&&console.error("Hydration completed but contains mismatches.")},d=(_,m,w,E,L,k=!1)=>{const A=vh(_)&&_.data==="[",C=()=>g(_,m,w,E,L,A),{type:$,ref:V,shapeFlag:I,patchFlag:H}=m;let M=_.nodeType;m.el=_,H===-2&&(k=!1,m.dynamicChildren=null);let O=null;switch($){case _a:M!==3?m.children===""?(l(m.el=i(""),o(_),_),O=_):O=C():(_.data!==m.children&&(js=!0,_.data=m.children),O=s(_));break;case vr:v(_)?(O=s(_),T(m.el=_.content.firstChild,_,w)):M!==8||A?O=C():O=s(_);break;case da:if(A&&(_=s(_),M=_.nodeType),M===1||M===3){O=_;const W=!m.children.length;for(let X=0;X<m.staticCount;X++)W&&(m.children+=O.nodeType===1?O.outerHTML:O.data),X===m.staticCount-1&&(m.anchor=O),O=s(O);return A?s(O):O}else C();break;case Ie:A?O=p(_,m,w,E,L,k):O=C();break;default:if(I&1)(M!==1||m.type.toLowerCase()!==_.tagName.toLowerCase())&&!v(_)?O=C():O=h(_,m,w,E,L,k);else if(I&6){m.slotScopeIds=L;const W=o(_);if(A?O=y(_):vh(_)&&_.data==="teleport start"?O=y(_,_.data,"teleport end"):O=s(_),e(m,W,null,w,E,gh(W),k),ca(m)){let X;A?(X=ae(Ie),X.anchor=O?O.previousSibling:W.lastChild):X=_.nodeType===3?et(""):ae("div"),X.el=_,m.component.subTree=X}}else I&64?M!==8?O=C():O=m.type.hydrate(_,m,w,E,L,k,t,f):I&128&&(O=m.type.hydrate(_,m,w,E,gh(o(_)),L,k,t,d))}return V!=null&&Cf(V,null,E,m),O},h=(_,m,w,E,L,k)=>{k=k||!!m.dynamicChildren;const{type:A,props:C,patchFlag:$,shapeFlag:V,dirs:I,transition:H}=m,M=A==="input"&&I||A==="option";if(M||$!==-1){if(I&&Fi(m,null,w,"created"),C)if(M||!k||$&48)for(const X in C)(M&&X.endsWith("value")||Td(X)&&!pc(X))&&r(_,X,null,C[X],!1,void 0,w);else C.onClick&&r(_,"onClick",null,C.onClick,!1,void 0,w);let O;(O=C&&C.onVnodeBeforeMount)&&$r(O,w,m);let W=!1;if(v(_)){W=sI(E,H)&&w&&w.vnode.props&&w.vnode.props.appear;const X=_.content.firstChild;W&&H.beforeEnter(X),T(X,_,w),m.el=_=X}if(I&&Fi(m,null,w,"beforeMount"),((O=C&&C.onVnodeMounted)||I||W)&&RC(()=>{O&&$r(O,w,m),W&&H.enter(_),I&&Fi(m,null,w,"mounted")},E),V&16&&!(C&&(C.innerHTML||C.textContent))){let X=f(_.firstChild,m,_,w,E,L,k);for(;X;){js=!0;const F=X;X=X.nextSibling,a(F)}}else V&8&&_.textContent!==m.children&&(js=!0,_.textContent=m.children)}return _.nextSibling},f=(_,m,w,E,L,k,A)=>{A=A||!!m.dynamicChildren;const C=m.children,$=C.length;for(let V=0;V<$;V++){const I=A?C[V]:C[V]=Jr(C[V]);if(_)_=d(_,I,E,L,k,A);else{if(I.type===_a&&!I.children)continue;js=!0,n(null,I,w,null,E,L,gh(w),k)}}return _},p=(_,m,w,E,L,k)=>{const{slotScopeIds:A}=m;A&&(L=L?L.concat(A):A);const C=o(_),$=f(s(_),m,C,w,E,L,k);return $&&vh($)&&$.data==="]"?s(m.anchor=$):(js=!0,l(m.anchor=u("]"),C,$),$)},g=(_,m,w,E,L,k)=>{if(js=!0,m.el=null,k){const $=y(_);for(;;){const V=s(_);if(V&&V!==$)a(V);else break}}const A=s(_),C=o(_);return a(_),n(null,m,C,A,w,E,gh(C),L),A},y=(_,m="[",w="]")=>{let E=0;for(;_;)if(_=s(_),_&&vh(_)&&(_.data===m&&E++,_.data===w)){if(E===0)return s(_);E--}return _},T=(_,m,w)=>{const E=m.parentNode;E&&E.replaceChild(_,m);let L=w;for(;L;)L.vnode.el===m&&(L.vnode.el=L.subTree.el=_),L=L.parent},v=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,d]}const Xn=RC;function nI(t){return iI(t)}function rI(t){return iI(t,s2)}function iI(t,e){const n=wv();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=xi,insertStaticContent:p}=t,g=(S,P,R,N=null,Y=null,oe=null,fe=!1,ye=null,ve=!!P.dynamicChildren)=>{if(S===P)return;S&&!Ci(S,P)&&(N=G(S),te(S,Y,oe,!0),S=null),P.patchFlag===-2&&(ve=!1,P.dynamicChildren=null);const{type:pe,ref:Te,shapeFlag:_e}=P;switch(pe){case _a:y(S,P,R,N);break;case vr:T(S,P,R,N);break;case da:S==null&&v(P,R,N,fe);break;case Ie:V(S,P,R,N,Y,oe,fe,ye,ve);break;default:_e&1?w(S,P,R,N,Y,oe,fe,ye,ve):_e&6?I(S,P,R,N,Y,oe,fe,ye,ve):(_e&64||_e&128)&&pe.process(S,P,R,N,Y,oe,fe,ye,ve,z)}Te!=null&&Y&&Cf(Te,S&&S.ref,oe,P||S,!P)},y=(S,P,R,N)=>{if(S==null)r(P.el=a(P.children),R,N);else{const Y=P.el=S.el;P.children!==S.children&&u(Y,P.children)}},T=(S,P,R,N)=>{S==null?r(P.el=l(P.children||""),R,N):P.el=S.el},v=(S,P,R,N)=>{[S.el,S.anchor]=p(S.children,P,R,N,S.el,S.anchor)},_=({el:S,anchor:P},R,N)=>{let Y;for(;S&&S!==P;)Y=h(S),r(S,R,N),S=Y;r(P,R,N)},m=({el:S,anchor:P})=>{let R;for(;S&&S!==P;)R=h(S),i(S),S=R;i(P)},w=(S,P,R,N,Y,oe,fe,ye,ve)=>{fe=fe||P.type==="svg",S==null?E(P,R,N,Y,oe,fe,ye,ve):A(S,P,Y,oe,fe,ye,ve)},E=(S,P,R,N,Y,oe,fe,ye)=>{let ve,pe;const{type:Te,props:_e,shapeFlag:$e,transition:Ge,dirs:nt}=S;if(ve=S.el=o(S.type,oe,_e&&_e.is,_e),$e&8?c(ve,S.children):$e&16&&k(S.children,ve,null,N,Y,oe&&Te!=="foreignObject",fe,ye),nt&&Fi(S,null,N,"created"),L(ve,S,S.scopeId,fe,N),_e){for(const q in _e)q!=="value"&&!pc(q)&&s(ve,q,null,_e[q],oe,S.children,N,Y,B);"value"in _e&&s(ve,"value",null,_e.value),(pe=_e.onVnodeBeforeMount)&&$r(pe,N,S)}nt&&Fi(S,null,N,"beforeMount");const pt=sI(Y,Ge);pt&&Ge.beforeEnter(ve),r(ve,P,R),((pe=_e&&_e.onVnodeMounted)||pt||nt)&&Xn(()=>{pe&&$r(pe,N,S),pt&&Ge.enter(ve),nt&&Fi(S,null,N,"mounted")},Y)},L=(S,P,R,N,Y)=>{if(R&&f(S,R),N)for(let oe=0;oe<N.length;oe++)f(S,N[oe]);if(Y){let oe=Y.subTree;if(P===oe){const fe=Y.vnode;L(S,fe,fe.scopeId,fe.slotScopeIds,Y.parent)}}},k=(S,P,R,N,Y,oe,fe,ye,ve=0)=>{for(let pe=ve;pe<S.length;pe++){const Te=S[pe]=ye?Xs(S[pe]):Jr(S[pe]);g(null,Te,P,R,N,Y,oe,fe,ye)}},A=(S,P,R,N,Y,oe,fe)=>{const ye=P.el=S.el;let{patchFlag:ve,dynamicChildren:pe,dirs:Te}=P;ve|=S.patchFlag&16;const _e=S.props||Yt,$e=P.props||Yt;let Ge;R&&Ho(R,!1),(Ge=$e.onVnodeBeforeUpdate)&&$r(Ge,R,P,S),Te&&Fi(P,S,R,"beforeUpdate"),R&&Ho(R,!0);const nt=Y&&P.type!=="foreignObject";if(pe?C(S.dynamicChildren,pe,ye,R,N,nt,oe):fe||X(S,P,ye,null,R,N,nt,oe,!1),ve>0){if(ve&16)$(ye,P,_e,$e,R,N,Y);else if(ve&2&&_e.class!==$e.class&&s(ye,"class",null,$e.class,Y),ve&4&&s(ye,"style",_e.style,$e.style,Y),ve&8){const pt=P.dynamicProps;for(let q=0;q<pt.length;q++){const U=pt[q],K=_e[U],j=$e[U];(j!==K||U==="value")&&s(ye,U,K,j,Y,S.children,R,N,B)}}ve&1&&S.children!==P.children&&c(ye,P.children)}else!fe&&pe==null&&$(ye,P,_e,$e,R,N,Y);((Ge=$e.onVnodeUpdated)||Te)&&Xn(()=>{Ge&&$r(Ge,R,P,S),Te&&Fi(P,S,R,"updated")},N)},C=(S,P,R,N,Y,oe,fe)=>{for(let ye=0;ye<P.length;ye++){const ve=S[ye],pe=P[ye],Te=ve.el&&(ve.type===Ie||!Ci(ve,pe)||ve.shapeFlag&70)?d(ve.el):R;g(ve,pe,Te,null,N,Y,oe,fe,!0)}},$=(S,P,R,N,Y,oe,fe)=>{if(R!==N){if(R!==Yt)for(const ye in R)!pc(ye)&&!(ye in N)&&s(S,ye,R[ye],null,fe,P.children,Y,oe,B);for(const ye in N){if(pc(ye))continue;const ve=N[ye],pe=R[ye];ve!==pe&&ye!=="value"&&s(S,ye,pe,ve,fe,P.children,Y,oe,B)}"value"in N&&s(S,"value",R.value,N.value)}},V=(S,P,R,N,Y,oe,fe,ye,ve)=>{const pe=P.el=S?S.el:a(""),Te=P.anchor=S?S.anchor:a("");let{patchFlag:_e,dynamicChildren:$e,slotScopeIds:Ge}=P;Ge&&(ye=ye?ye.concat(Ge):Ge),S==null?(r(pe,R,N),r(Te,R,N),k(P.children,R,Te,Y,oe,fe,ye,ve)):_e>0&&_e&64&&$e&&S.dynamicChildren?(C(S.dynamicChildren,$e,R,Y,oe,fe,ye),(P.key!=null||Y&&P===Y.subTree)&&U0(S,P,!0)):X(S,P,R,Te,Y,oe,fe,ye,ve)},I=(S,P,R,N,Y,oe,fe,ye,ve)=>{P.slotScopeIds=ye,S==null?P.shapeFlag&512?Y.ctx.activate(P,R,N,fe,ve):H(P,R,N,Y,oe,fe,ve):M(S,P,ve)},H=(S,P,R,N,Y,oe,fe)=>{const ye=S.component=dI(S,N,Y);if(Ad(S)&&(ye.ctx.renderer=z),fI(ye),ye.asyncDep){if(Y&&Y.registerDep(ye,O),!S.el){const ve=ye.subTree=ae(vr);T(null,ve,P,R)}return}O(ye,S,P,R,Y,oe,fe)},M=(S,P,R)=>{const N=P.component=S.component;if(mM(S,P,R))if(N.asyncDep&&!N.asyncResolved){W(N,P,R);return}else N.next=P,lM(N.update),N.update();else P.el=S.el,N.vnode=P},O=(S,P,R,N,Y,oe,fe)=>{const ye=()=>{if(S.isMounted){let{next:Te,bu:_e,u:$e,parent:Ge,vnode:nt}=S,pt=Te,q;Ho(S,!1),Te?(Te.el=nt.el,W(S,Te,fe)):Te=nt,_e&&Pl(_e),(q=Te.props&&Te.props.onVnodeBeforeUpdate)&&$r(q,Ge,Te,nt),Ho(S,!0);const U=Qh(S),K=S.subTree;S.subTree=U,g(K,U,d(K.el),G(K),S,Y,oe),Te.el=U.el,pt===null&&x0(S,U.el),$e&&Xn($e,Y),(q=Te.props&&Te.props.onVnodeUpdated)&&Xn(()=>$r(q,Ge,Te,nt),Y)}else{let Te;const{el:_e,props:$e}=P,{bm:Ge,m:nt,parent:pt}=S,q=ca(P);if(Ho(S,!1),Ge&&Pl(Ge),!q&&(Te=$e&&$e.onVnodeBeforeMount)&&$r(Te,pt,P),Ho(S,!0),_e&&Se){const U=()=>{S.subTree=Qh(S),Se(_e,S.subTree,S,Y,null)};q?P.type.__asyncLoader().then(()=>!S.isUnmounted&&U()):U()}else{const U=S.subTree=Qh(S);g(null,U,R,N,S,Y,oe),P.el=U.el}if(nt&&Xn(nt,Y),!q&&(Te=$e&&$e.onVnodeMounted)){const U=P;Xn(()=>$r(Te,pt,U),Y)}(P.shapeFlag&256||pt&&ca(pt.vnode)&&pt.vnode.shapeFlag&256)&&S.a&&Xn(S.a,Y),S.isMounted=!0,P=R=N=null}},ve=S.effect=new Wl(ye,()=>Mp(pe),S.scope),pe=S.update=()=>ve.run();pe.id=S.uid,Ho(S,!0),pe()},W=(S,P,R)=>{P.component=S;const N=S.vnode.props;S.vnode=P,S.next=null,t2(S,P.props,N,R),i2(S,P.children,R),vu(),A_(),yu()},X=(S,P,R,N,Y,oe,fe,ye,ve=!1)=>{const pe=S&&S.children,Te=S?S.shapeFlag:0,_e=P.children,{patchFlag:$e,shapeFlag:Ge}=P;if($e>0){if($e&128){b(pe,_e,R,N,Y,oe,fe,ye,ve);return}else if($e&256){F(pe,_e,R,N,Y,oe,fe,ye,ve);return}}Ge&8?(Te&16&&B(pe,Y,oe),_e!==pe&&c(R,_e)):Te&16?Ge&16?b(pe,_e,R,N,Y,oe,fe,ye,ve):B(pe,Y,oe,!0):(Te&8&&c(R,""),Ge&16&&k(_e,R,N,Y,oe,fe,ye,ve))},F=(S,P,R,N,Y,oe,fe,ye,ve)=>{S=S||kl,P=P||kl;const pe=S.length,Te=P.length,_e=Math.min(pe,Te);let $e;for($e=0;$e<_e;$e++){const Ge=P[$e]=ve?Xs(P[$e]):Jr(P[$e]);g(S[$e],Ge,R,null,Y,oe,fe,ye,ve)}pe>Te?B(S,Y,oe,!0,!1,_e):k(P,R,N,Y,oe,fe,ye,ve,_e)},b=(S,P,R,N,Y,oe,fe,ye,ve)=>{let pe=0;const Te=P.length;let _e=S.length-1,$e=Te-1;for(;pe<=_e&&pe<=$e;){const Ge=S[pe],nt=P[pe]=ve?Xs(P[pe]):Jr(P[pe]);if(Ci(Ge,nt))g(Ge,nt,R,null,Y,oe,fe,ye,ve);else break;pe++}for(;pe<=_e&&pe<=$e;){const Ge=S[_e],nt=P[$e]=ve?Xs(P[$e]):Jr(P[$e]);if(Ci(Ge,nt))g(Ge,nt,R,null,Y,oe,fe,ye,ve);else break;_e--,$e--}if(pe>_e){if(pe<=$e){const Ge=$e+1,nt=Ge<Te?P[Ge].el:N;for(;pe<=$e;)g(null,P[pe]=ve?Xs(P[pe]):Jr(P[pe]),R,nt,Y,oe,fe,ye,ve),pe++}}else if(pe>$e)for(;pe<=_e;)te(S[pe],Y,oe,!0),pe++;else{const Ge=pe,nt=pe,pt=new Map;for(pe=nt;pe<=$e;pe++){const Ne=P[pe]=ve?Xs(P[pe]):Jr(P[pe]);Ne.key!=null&&pt.set(Ne.key,pe)}let q,U=0;const K=$e-nt+1;let j=!1,ne=0;const ce=new Array(K);for(pe=0;pe<K;pe++)ce[pe]=0;for(pe=Ge;pe<=_e;pe++){const Ne=S[pe];if(U>=K){te(Ne,Y,oe,!0);continue}let Je;if(Ne.key!=null)Je=pt.get(Ne.key);else for(q=nt;q<=$e;q++)if(ce[q-nt]===0&&Ci(Ne,P[q])){Je=q;break}Je===void 0?te(Ne,Y,oe,!0):(ce[Je-nt]=pe+1,Je>=ne?ne=Je:j=!0,g(Ne,P[Je],R,null,Y,oe,fe,ye,ve),U++)}const Ve=j?o2(ce):kl;for(q=Ve.length-1,pe=K-1;pe>=0;pe--){const Ne=nt+pe,Je=P[Ne],Lt=Ne+1<Te?P[Ne+1].el:N;ce[pe]===0?g(null,Je,R,Lt,Y,oe,fe,ye,ve):j&&(q<0||pe!==Ve[q]?Q(Je,R,Lt,2):q--)}}},Q=(S,P,R,N,Y=null)=>{const{el:oe,type:fe,transition:ye,children:ve,shapeFlag:pe}=S;if(pe&6){Q(S.component.subTree,P,R,N);return}if(pe&128){S.suspense.move(P,R,N);return}if(pe&64){fe.move(S,P,R,z);return}if(fe===Ie){r(oe,P,R);for(let _e=0;_e<ve.length;_e++)Q(ve[_e],P,R,N);r(S.anchor,P,R);return}if(fe===da){_(S,P,R);return}if(N!==2&&pe&1&&ye)if(N===0)ye.beforeEnter(oe),r(oe,P,R),Xn(()=>ye.enter(oe),Y);else{const{leave:_e,delayLeave:$e,afterLeave:Ge}=ye,nt=()=>r(oe,P,R),pt=()=>{_e(oe,()=>{nt(),Ge&&Ge()})};$e?$e(oe,nt,pt):pt()}else r(oe,P,R)},te=(S,P,R,N=!1,Y=!1)=>{const{type:oe,props:fe,ref:ye,children:ve,dynamicChildren:pe,shapeFlag:Te,patchFlag:_e,dirs:$e}=S;if(ye!=null&&Cf(ye,null,R,S,!0),Te&256){P.ctx.deactivate(S);return}const Ge=Te&1&&$e,nt=!ca(S);let pt;if(nt&&(pt=fe&&fe.onVnodeBeforeUnmount)&&$r(pt,P,S),Te&6)we(S.component,R,N);else{if(Te&128){S.suspense.unmount(R,N);return}Ge&&Fi(S,null,P,"beforeUnmount"),Te&64?S.type.remove(S,P,R,Y,z,N):pe&&(oe!==Ie||_e>0&&_e&64)?B(pe,P,R,!1,!0):(oe===Ie&&_e&384||!Y&&Te&16)&&B(ve,P,R),N&&Z(S)}(nt&&(pt=fe&&fe.onVnodeUnmounted)||Ge)&&Xn(()=>{pt&&$r(pt,P,S),Ge&&Fi(S,null,P,"unmounted")},R)},Z=S=>{const{type:P,el:R,anchor:N,transition:Y}=S;if(P===Ie){ue(R,N);return}if(P===da){m(S);return}const oe=()=>{i(R),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(S.shapeFlag&1&&Y&&!Y.persisted){const{leave:fe,delayLeave:ye}=Y,ve=()=>fe(R,oe);ye?ye(S.el,oe,ve):ve()}else oe()},ue=(S,P)=>{let R;for(;S!==P;)R=h(S),i(S),S=R;i(P)},we=(S,P,R)=>{const{bum:N,scope:Y,update:oe,subTree:fe,um:ye}=S;N&&Pl(N),Y.stop(),oe&&(oe.active=!1,te(fe,S,P,R)),ye&&Xn(ye,P),Xn(()=>{S.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},B=(S,P,R,N=!1,Y=!1,oe=0)=>{for(let fe=oe;fe<S.length;fe++)te(S[fe],P,R,N,Y)},G=S=>S.shapeFlag&6?G(S.component.subTree):S.shapeFlag&128?S.suspense.next():h(S.anchor||S.el),se=(S,P,R)=>{S==null?P._vnode&&te(P._vnode,null,null,!0):g(P._vnode||null,S,P,null,null,null,R),A_(),Ef(),P._vnode=S},z={p:g,um:te,m:Q,r:Z,mt:H,mc:k,pc:X,pbc:C,n:G,o:t};let de,Se;return e&&([de,Se]=e(z)),{render:se,hydrate:de,createApp:ZM(se,de)}}function Ho({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function sI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function U0(t,e,n=!1){const r=t.children,i=e.children;if(Ue(r)&&Ue(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Xs(i[s]),a.el=o.el),n||U0(o,a)),a.type===_a&&(a.el=o.el)}}function o2(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const a2=t=>t.__isTeleport,vc=t=>t&&(t.disabled||t.disabled===""),F_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,xv=(t,e)=>{const n=t&&t.to;return cn(n)?e?e(n):null:n},l2={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:y}}=u,T=vc(e.props);let{shapeFlag:v,children:_,dynamicChildren:m}=e;if(t==null){const w=e.el=g(""),E=e.anchor=g("");f(w,n,r),f(E,n,r);const L=e.target=xv(e.props,p),k=e.targetAnchor=g("");L&&(f(k,L),o=o||F_(L));const A=(C,$)=>{v&16&&c(_,C,$,i,s,o,a,l)};T?A(n,E):L&&A(L,k)}else{e.el=t.el;const w=e.anchor=t.anchor,E=e.target=t.target,L=e.targetAnchor=t.targetAnchor,k=vc(t.props),A=k?n:E,C=k?w:L;if(o=o||F_(E),m?(h(t.dynamicChildren,m,A,i,s,o,a),U0(t,e,!0)):l||d(t,e,A,C,i,s,o,a,!1),T)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):yh(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=xv(e.props,p);$&&yh(e,$,null,u,0)}else k&&yh(e,E,L,u,1)}aI(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=t;if(d&&s(c),o&&s(u),a&16){const f=o||!vc(h);for(let p=0;p<l.length;p++){const g=l[p];i(g,e,n,f,!!g.dynamicChildren)}}},move:yh,hydrate:u2};function yh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||vc(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function u2(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=xv(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(vc(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}aI(e)}return e.anchor&&o(e.anchor)}const oI=l2;function aI(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ie=Symbol.for("v-fgt"),_a=Symbol.for("v-txt"),vr=Symbol.for("v-cmt"),da=Symbol.for("v-stc"),yc=[];let Vr=null;function D(t=!1){yc.push(Vr=t?null:[])}function lI(){yc.pop(),Vr=yc[yc.length-1]||null}let Ta=1;function Pv(t){Ta+=t}function uI(t){return t.dynamicChildren=Ta>0?Vr||kl:null,lI(),Ta>0&&Vr&&Vr.push(t),t}function J(t,e,n,r,i,s){return uI(ee(t,e,n,r,i,s,!0))}function he(t,e,n,r,i){return uI(ae(t,e,n,r,i,!0))}function Co(t){return t?t.__v_isVNode===!0:!1}function Ci(t,e){return t.type===e.type&&t.key===e.key}function c2(t){}const Bp="__vInternal",cI=({key:t})=>t??null,Xh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?cn(t)||zt(t)||tt(t)?{i:Wn,r:t,k:e,f:!!n}:t:null);function ee(t,e=null,n=null,r=0,i=null,s=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cI(e),ref:e&&Xh(e),scopeId:$p,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Wn};return a?(F0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=cn(n)?8:16),Ta>0&&!o&&Vr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Vr.push(l),l}const ae=d2;function d2(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===PC)&&(t=vr),Co(t)){const a=is(t,e,!0);return n&&F0(a,n),Ta>0&&!s&&Vr&&(a.shapeFlag&6?Vr[Vr.indexOf(t)]=a:Vr.push(a)),a.patchFlag|=-2,a}if(w2(t)&&(t=t.__vccOpts),e){e=tr(e);let{class:a,style:l}=e;a&&!cn(a)&&(e.class=De(a)),Gt(l)&&(S0(l)&&!Ue(l)&&(l=un({},l)),e.style=On(l))}const o=cn(t)?1:DC(t)?128:a2(t)?64:Gt(t)?4:tt(t)?2:0;return ee(t,e,n,r,i,o,s,!0)}function tr(t){return t?S0(t)||Bp in t?un({},t):t:null}function is(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Ht(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&cI(a),ref:e&&e.ref?n&&i?Ue(i)?i.concat(Xh(e)):[i,Xh(e)]:Xh(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&is(t.ssContent),ssFallback:t.ssFallback&&is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function et(t=" ",e=0){return ae(_a,null,t,e)}function h2(t,e){const n=ae(da,null,t);return n.staticCount=e,n}function ie(t="",e=!1){return e?(D(),he(vr,null,t)):ae(vr,null,t)}function Jr(t){return t==null||typeof t=="boolean"?ae(vr):Ue(t)?ae(Ie,null,t.slice()):typeof t=="object"?Xs(t):ae(_a,null,String(t))}function Xs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:is(t)}function F0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ue(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),F0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Bp in e)?e._ctx=Wn:i===3&&Wn&&(Wn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:Wn},n=32):(e=String(e),r&64?(n=16,e=[et(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ht(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=De([e.class,r.class]));else if(i==="style")e.style=On([e.style,r.style]);else if(Td(i)){const s=e[i],o=r[i];o&&s!==o&&!(Ue(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function $r(t,e,n,r=null){ni(t,e,7,[n,r])}const f2=qC();let p2=0;function dI(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||f2,s={uid:p2++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new w0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:JC(r,i),emitsOptions:AC(r,i),emit:null,emitted:null,propsDefaults:Yt,inheritAttrs:r.inheritAttrs,ctx:Yt,data:Yt,props:Yt,attrs:Yt,slots:Yt,refs:Yt,setupState:Yt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=cM.bind(null,s),t.ce&&t.ce(s),s}let xn=null;const us=()=>xn||Wn;let V0,Za,V_="__VUE_INSTANCE_SETTERS__";(Za=wv()[V_])||(Za=wv()[V_]=[]),Za.push(t=>xn=t),V0=t=>{Za.length>1?Za.forEach(e=>e(t)):Za[0](t)};const Io=t=>{V0(t),t.scope.on()},ho=()=>{xn&&xn.scope.off(),V0(null)};function hI(t){return t.vnode.shapeFlag&4}let zl=!1;function fI(t,e=!1){zl=e;const{props:n,children:r}=t.vnode,i=hI(t);e2(t,n,i,e),r2(t,r);const s=i?m2(t,e):void 0;return zl=!1,s}function m2(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Sd(new Proxy(t.ctx,Cv));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?mI(t):null;Io(t),vu();const s=Cs(r,t,0,[t.props,i]);if(yu(),ho(),v0(s)){if(s.then(ho,ho),e)return s.then(o=>{Dv(t,o,e)}).catch(o=>{Va(o,t,0)});t.asyncDep=s}else Dv(t,s,e)}else pI(t,e)}function Dv(t,e,n){tt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Gt(e)&&(t.setupState=A0(e)),pI(t,n)}let If,Rv;function g2(t){If=t,Rv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,OM))}}const v2=()=>!If;function pI(t,e,n){const r=t.type;if(!t.render){if(!e&&If&&!r.render){const i=r.template||L0(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=un(un({isCustomElement:s,delimiters:a},o),l);r.render=If(i,u)}}t.render=r.render||xi,Rv&&Rv(t)}{Io(t),vu();try{zM(t)}finally{yu(),ho()}}}function y2(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Kr(t,"get","$attrs"),e[n]}}))}function mI(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return y2(t)},slots:t.slots,emit:t.emit,expose:e}}function jp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(A0(Sd(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gc)return gc[n](t)},has(e,n){return n in e||n in gc}}))}function Ov(t,e=!0){return tt(t)?t.displayName||t.name:t.name||e&&t.__name}function w2(t){return tt(t)&&"__vccOpts"in t}const re=(t,e)=>rM(t,e,zl);function wu(t,e,n){const r=arguments.length;return r===2?Gt(e)&&!Ue(e)?Co(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Co(n)&&(n=[n]),ae(t,e,n))}const gI=Symbol.for("v-scx"),vI=()=>Wr(gI);function b2(){}function _2(t,e,n,r){const i=n[r];if(i&&yI(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function yI(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(To(n[r],e[r]))return!1;return Ta>0&&Vr&&Vr.push(t),!0}const wI="3.3.8",T2={createComponentInstance:dI,setupComponent:fI,renderComponentRoot:Qh,setCurrentRenderingInstance:Wc,isVNode:Co,normalizeVNode:Jr},E2=T2,S2=null,C2=null,I2="http://www.w3.org/2000/svg",ea=typeof document<"u"?document:null,B_=ea&&ea.createElement("template"),A2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?ea.createElementNS(I2,t):ea.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ea.createTextNode(t),createComment:t=>ea.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ea.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{B_.innerHTML=r?`<svg>${t}</svg>`:t;const a=B_.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Hs="transition",Mu="animation",Gl=Symbol("_vtc"),Us=(t,{slots:e})=>wu(LC,_I(t),e);Us.displayName="Transition";const bI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},k2=Us.props=un({},N0,bI),Wo=(t,e=[])=>{Ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},j_=t=>t?Ue(t)?t.some(e=>e.length>1):t.length>1:!1;function _I(t){const e={};for(const V in t)V in bI||(e[V]=t[V]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=x2(i),g=p&&p[0],y=p&&p[1],{onBeforeEnter:T,onEnter:v,onEnterCancelled:_,onLeave:m,onLeaveCancelled:w,onBeforeAppear:E=T,onAppear:L=v,onAppearCancelled:k=_}=e,A=(V,I,H)=>{Gs(V,I?c:a),Gs(V,I?u:o),H&&H()},C=(V,I)=>{V._isLeaving=!1,Gs(V,d),Gs(V,f),Gs(V,h),I&&I()},$=V=>(I,H)=>{const M=V?L:v,O=()=>A(I,V,H);Wo(M,[I,O]),H_(()=>{Gs(I,V?l:s),fs(I,V?c:a),j_(M)||W_(I,r,g,O)})};return un(e,{onBeforeEnter(V){Wo(T,[V]),fs(V,s),fs(V,o)},onBeforeAppear(V){Wo(E,[V]),fs(V,l),fs(V,u)},onEnter:$(!1),onAppear:$(!0),onLeave(V,I){V._isLeaving=!0;const H=()=>C(V,I);fs(V,d),EI(),fs(V,h),H_(()=>{V._isLeaving&&(Gs(V,d),fs(V,f),j_(m)||W_(V,r,y,H))}),Wo(m,[V,H])},onEnterCancelled(V){A(V,!1),Wo(_,[V])},onAppearCancelled(V){A(V,!0),Wo(k,[V])},onLeaveCancelled(V){C(V),Wo(w,[V])}})}function x2(t){if(t==null)return null;if(Gt(t))return[eg(t.enter),eg(t.leave)];{const e=eg(t);return[e,e]}}function eg(t){return bf(t)}function fs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Gl]||(t[Gl]=new Set)).add(e)}function Gs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Gl];n&&(n.delete(e),n.size||(t[Gl]=void 0))}function H_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let P2=0;function W_(t,e,n,r){const i=t._endId=++P2,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=TI(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function TI(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Hs}Delay`),s=r(`${Hs}Duration`),o=Y_(i,s),a=r(`${Mu}Delay`),l=r(`${Mu}Duration`),u=Y_(a,l);let c=null,d=0,h=0;e===Hs?o>0&&(c=Hs,d=o,h=s.length):e===Mu?u>0&&(c=Mu,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Hs:Mu:null,h=c?c===Hs?s.length:l.length:0);const f=c===Hs&&/\b(transform|all)(,|$)/.test(r(`${Hs}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function Y_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>K_(n)+K_(t[r])))}function K_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function EI(){return document.body.offsetHeight}function D2(t,e,n){const r=t[Gl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const B0=Symbol("_vod"),Is={beforeMount(t,{value:e},{transition:n}){t[B0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Lu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Lu(t,!0),r.enter(t)):r.leave(t,()=>{Lu(t,!1)}):Lu(t,e))},beforeUnmount(t,{value:e}){Lu(t,e)}};function Lu(t,e){t.style.display=e?t[B0]:"none"}function R2(){Is.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function O2(t,e,n){const r=t.style,i=cn(n);if(n&&!i){if(e&&!cn(e))for(const s in e)n[s]==null&&Nv(r,s,"");for(const s in n)Nv(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),B0 in t&&(r.display=s)}}const z_=/\s*!important$/;function Nv(t,e,n){if(Ue(n))n.forEach(r=>Nv(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=N2(t,e);z_.test(n)?t.setProperty(ci(r),n.replace(z_,""),"important"):t[r]=n}}const G_=["Webkit","Moz","ms"],tg={};function N2(t,e){const n=tg[e];if(n)return n;let r=Hr(e);if(r!=="filter"&&r in t)return tg[e]=r;r=Ed(r);for(let i=0;i<G_.length;i++){const s=G_[i]+r;if(s in t)return tg[e]=s}return e}const q_="http://www.w3.org/1999/xlink";function M2(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(q_,e.slice(6,e.length)):t.setAttributeNS(q_,e,n);else{const s=TN(e);n==null||s&&!rC(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function L2(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,c=n??"";u!==c&&(t.value=c),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=rC(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function vs(t,e,n,r){t.addEventListener(e,n,r)}function $2(t,e,n,r){t.removeEventListener(e,n,r)}const Q_=Symbol("_vei");function U2(t,e,n,r,i=null){const s=t[Q_]||(t[Q_]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=F2(e);if(r){const u=s[e]=j2(r,i);vs(t,a,u,l)}else o&&($2(t,a,o,l),s[e]=void 0)}}const X_=/(?:Once|Passive|Capture)$/;function F2(t){let e;if(X_.test(t)){e={};let r;for(;r=t.match(X_);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ci(t.slice(2)),e]}let ng=0;const V2=Promise.resolve(),B2=()=>ng||(V2.then(()=>ng=0),ng=Date.now());function j2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ni(H2(r,n.value),e,5,[r])};return n.value=t,n.attached=B2(),n}function H2(t,e){if(Ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const J_=/^on[a-z]/,W2=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?D2(t,r,i):e==="style"?O2(t,n,r):Td(e)?m0(e)||U2(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Y2(t,e,r,i))?L2(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),M2(t,e,r,i))};function Y2(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&J_.test(e)&&tt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||J_.test(e)&&cn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function SI(t,e){const n=Ae(t);class r extends Hp{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const K2=t=>SI(t,MI),z2=typeof HTMLElement<"u"?HTMLElement:class{};class Hp extends z2{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Dr(()=>{this._connected||(Gc(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!Ue(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=bf(this._props[l])),(a||(a=Object.create(null)))[Hr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=Ue(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Hr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Hr(e);this._numberProps&&this._numberProps[r]&&(n=bf(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(ci(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ci(e),n+""):n||this.removeAttribute(ci(e))))}_update(){Gc(this._createVNode(),this.shadowRoot)}_createVNode(){const e=ae(this._def,un({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),ci(s)!==s&&r(ci(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Hp){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function G2(t="$style"){{const e=us();if(!e)return Yt;const n=e.type.__cssModules;if(!n)return Yt;const r=n[t];return r||Yt}}function q2(t){const e=us();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Lv(s,i))},r=()=>{const i=t(e.proxy);Mv(e.subTree,i),n(i)};NC(r),fn(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Ba(()=>i.disconnect())})}function Mv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Mv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Lv(t.el,e);else if(t.type===Ie)t.children.forEach(n=>Mv(n,e));else if(t.type===da){let{el:n,anchor:r}=t;for(;n&&(Lv(n,e),n!==r);)n=n.nextSibling}}function Lv(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const CI=new WeakMap,II=new WeakMap,Af=Symbol("_moveCb"),Z_=Symbol("_enterCb"),AI={name:"TransitionGroup",props:un({},k2,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=us(),r=O0();let i,s;return Vp(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!eL(i[0].el,n.vnode.el,o))return;i.forEach(X2),i.forEach(J2);const a=i.filter(Z2);EI(),a.forEach(l=>{const u=l.el,c=u.style;fs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Af]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[Af]=null,Gs(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=ft(t),a=_I(o);let l=o.tag||Ie;i=s,s=e.default?Up(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&ba(c,Kl(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];ba(c,Kl(c,a,r,n)),CI.set(c,c.el.getBoundingClientRect())}return ae(l,null,s)}}},Q2=t=>delete t.mode;AI.props;const kI=AI;function X2(t){const e=t.el;e[Af]&&e[Af](),e[Z_]&&e[Z_]()}function J2(t){II.set(t,t.el.getBoundingClientRect())}function Z2(t){const e=CI.get(t),n=II.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function eL(t,e,n){const r=t.cloneNode(),i=t[Gl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=TI(r);return s.removeChild(r),o}const Ao=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ue(e)?n=>Pl(e,n):e};function tL(t){t.target.composing=!0}function e1(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pi=Symbol("_assign"),kf={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[pi]=Ao(i);const s=r||i.props&&i.props.type==="number";vs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=wf(a)),t[pi](a)}),n&&vs(t,"change",()=>{t.value=t.value.trim()}),e||(vs(t,"compositionstart",tL),vs(t,"compositionend",e1),vs(t,"change",e1))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[pi]=Ao(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&wf(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Wp={deep:!0,created(t,e,n){t[pi]=Ao(n),vs(t,"change",()=>{const r=t._modelValue,i=ql(t),s=t.checked,o=t[pi];if(Ue(r)){const a=kp(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Fa(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(xI(t,s))})},mounted:t1,beforeUpdate(t,e,n){t[pi]=Ao(n),t1(t,e,n)}};function t1(t,{value:e,oldValue:n},r){t._modelValue=e,Ue(e)?t.checked=kp(e,r.props.value)>-1:Fa(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Eo(e,xI(t,!0)))}const j0={created(t,{value:e},n){t.checked=Eo(e,n.props.value),t[pi]=Ao(n),vs(t,"change",()=>{t[pi](ql(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[pi]=Ao(r),e!==n&&(t.checked=Eo(e,r.props.value))}},H0={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Fa(e);vs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?wf(ql(o)):ql(o));t[pi](t.multiple?i?new Set(s):s:s[0])}),t[pi]=Ao(r)},mounted(t,{value:e}){n1(t,e)},beforeUpdate(t,e,n){t[pi]=Ao(n)},updated(t,{value:e}){n1(t,e)}};function n1(t,e){const n=t.multiple;if(!(n&&!Ue(e)&&!Fa(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=ql(s);if(n)Ue(e)?s.selected=kp(e,o)>-1:s.selected=e.has(o);else if(Eo(ql(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ql(t){return"_value"in t?t._value:t.value}function xI(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const PI={created(t,e,n){wh(t,e,n,null,"created")},mounted(t,e,n){wh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){wh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){wh(t,e,n,r,"updated")}};function DI(t,e){switch(t){case"SELECT":return H0;case"TEXTAREA":return kf;default:switch(e){case"checkbox":return Wp;case"radio":return j0;default:return kf}}}function wh(t,e,n,r,i){const o=DI(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function nL(){kf.getSSRProps=({value:t})=>({value:t}),j0.getSSRProps=({value:t},e)=>{if(e.props&&Eo(e.props.value,t))return{checked:!0}},Wp.getSSRProps=({value:t},e)=>{if(Ue(t)){if(e.props&&kp(t,e.props.value)>-1)return{checked:!0}}else if(Fa(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},PI.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=DI(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const rL=["ctrl","shift","alt","meta"],iL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>rL.some(n=>t[`${n}Key`]&&!e.includes(n))},Pt=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=iL[e[i]];if(s&&s(n,e))return}return t(n,...r)},sL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>n=>{if(!("key"in n))return;const r=ci(n.key);if(e.some(i=>i===r||sL[i]===r))return t(n)},RI=un({patchProp:W2},A2);let wc,r1=!1;function OI(){return wc||(wc=nI(RI))}function NI(){return wc=r1?wc:rI(RI),r1=!0,wc}const Gc=(...t)=>{OI().render(...t)},MI=(...t)=>{NI().hydrate(...t)},LI=(...t)=>{const e=OI().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=$I(r);if(!i)return;const s=e._component;!tt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},oL=(...t)=>{const e=NI().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=$I(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function $I(t){return cn(t)?document.querySelector(t):t}let i1=!1;const aL=()=>{i1||(i1=!0,nL(),R2())},lL=()=>{},uL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:LC,BaseTransitionPropsValidators:N0,Comment:vr,EffectScope:w0,Fragment:Ie,KeepAlive:PM,ReactiveEffect:Wl,Static:da,Suspense:wM,Teleport:oI,Text:_a,Transition:Us,TransitionGroup:kI,VueElement:Hp,assertNumber:sM,callWithAsyncErrorHandling:ni,callWithErrorHandling:Cs,camelize:Hr,capitalize:Ed,cloneVNode:is,compatUtils:C2,compile:lL,computed:re,createApp:LI,createBlock:he,createCommentVNode:ie,createElementBlock:J,createElementVNode:ee,createHydrationRenderer:rI,createPropsRestProxy:YM,createRenderer:nI,createSSRApp:oL,createSlots:nr,createStaticVNode:h2,createTextVNode:et,createVNode:ae,customRef:ZN,defineAsyncComponent:kM,defineComponent:Ae,defineCustomElement:SI,defineEmits:MM,defineExpose:LM,defineModel:FM,defineOptions:$M,defineProps:NM,defineSSRCustomElement:K2,defineSlots:UM,get devtools(){return dl},effect:IN,effectScope:xp,getCurrentInstance:us,getCurrentScope:Pp,getTransitionRawChildren:Up,guardReactiveProps:tr,h:wu,handleError:Va,hasInjectionContext:QC,hydrate:MI,initCustomFormatter:b2,initDirectivesForSSR:aL,inject:Wr,isMemoSame:yI,isProxy:S0,isReactive:Xi,isReadonly:wa,isRef:zt,isRuntimeOnly:v2,isShallow:Vc,isVNode:Co,markRaw:Sd,mergeDefaults:HM,mergeModels:WM,mergeProps:Ht,nextTick:Dr,normalizeClass:De,normalizeProps:Tn,normalizeStyle:On,onActivated:UC,onBeforeMount:BC,onBeforeUnmount:kd,onBeforeUpdate:M0,onDeactivated:FC,onErrorCaptured:YC,onMounted:fn,onRenderTracked:WC,onRenderTriggered:HC,onScopeDispose:b0,onServerPrefetch:jC,onUnmounted:Ba,onUpdated:Vp,openBlock:D,popScopeId:xC,provide:Ol,proxyRefs:A0,pushScopeId:kC,queuePostFlushCb:Tf,reactive:$n,readonly:E0,ref:le,registerRuntimeCompiler:g2,render:Gc,renderList:ut,renderSlot:Pe,resolveComponent:ls,resolveDirective:vM,resolveDynamicComponent:Cd,resolveFilter:S2,resolveTransitionHooks:Kl,setBlockTracking:Pv,setDevtoolsHook:IC,setTransitionHooks:ba,shallowReactive:yC,shallowReadonly:zN,shallowRef:wC,ssrContextKey:gI,ssrUtils:E2,stop:AN,toDisplayString:Ke,toHandlerKey:mc,toHandlers:RM,toRaw:ft,toRef:Yl,toRefs:_C,toValue:QN,transformVNodeArgs:c2,triggerRef:qN,unref:x,useAttrs:BM,useCssModule:G2,useCssVars:q2,useModel:jM,useSSRContext:vI,useSlots:Oo,useTransitionState:O0,vModelCheckbox:Wp,vModelDynamic:PI,vModelRadio:j0,vModelSelect:H0,vModelText:kf,vShow:Is,version:wI,warn:iM,watch:yn,watchEffect:OC,watchPostEffect:NC,watchSyncEffect:CM,withAsyncContext:KM,withCtx:ge,withDefaults:VM,withDirectives:Ji,withKeys:at,withMemo:_2,withModifiers:Pt,withScopeId:dM},Symbol.toStringTag,{value:"Module"}));function cL(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const xf=cL();let s1=0;const dL=()=>{const t=s1;return s1+=1,t},UI=()=>(t,e)=>{const n={...t,id:dL(),group:t.group||""};return xf.emit("notify",{notification:n,timeout:e}),()=>xf.emit("close",n.id)},FI="context",$v=Ae({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Wr(FI),i=$n({notifications:[],timeouts:{}}),s=re(()=>i.notifications.filter(c=>c.group===r.group)),o=re(()=>r.position==="bottom"?[...s.value].slice(0,n.maxNotifications):[...s.value].reverse().slice(0,n.maxNotifications)),a=c=>{i.notifications.splice(i.notifications.findIndex(d=>d.id===c),1),clearTimeout(i.timeouts[c])},l=({notification:c,timeout:d})=>{i.notifications.push(c),i.timeouts[c.id]=window.setTimeout(()=>{d!==-1&&a(c.id)},Math.max(d||3e3,0))},u=c=>{e("close"),a(c)};return fn(()=>{xf.on("notify",l),xf.on("close",a)}),(c,d)=>(D(),he(kI,{"enter-active-class":x(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ge(()=>[Pe(c.$slots,"default",{notifications:x(o),close:u})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),o1=Ae({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Ol(FI,{group:e.group,position:e.position}),(n,r)=>Pe(n.$slots,"default",{group:t.group})}});function hL(t){t.config.globalProperties.$notify=UI(),t.component("Notification",$v),t.component("NotificationGroup",o1),t.component("notification",$v),t.component("notificationGroup",o1)}const fL={install:hL},pL=UI(),mL={class:"px-4 py-2 -mx-3"},gL={class:"mx-3"},vL={class:"font-semibold text-white"},yL={class:"text-sm text-gray-100"},rg=Ae({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(D(),he(x($v),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ge(({notifications:r})=>[(D(!0),J(Ie,null,ut(r,i=>(D(),J("div",{key:i.id},[i.type===e.type?(D(),J("div",{key:0,class:De("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-lg shadow-md "+e.color)},[ee("div",mL,[ee("div",gL,[ee("span",vL,Ke(i.title),1),ee("p",yL,Ke(i.text),1)])])],2)):ie("",!0)]))),128))]),_:1}))}}),wL={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},bL={class:"w-full max-w-sm"},_L=Ae({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=ls("NotificationGroup",!0);return D(),he(r,null,{default:ge(()=>[ee("div",wL,[ee("div",bL,[ae(rg,{type:"error",color:"bg-red-800"}),ae(rg,{type:"warning",color:"bg-yellow-800"}),ae(rg,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const hl=typeof window<"u";function TL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const jt=Object.assign;function ig(t,e){const n={};for(const r in e){const i=e[r];n[r]=Ni(i)?i.map(t):t(i)}return n}const bc=()=>{},Ni=Array.isArray,EL=/\/$/,SL=t=>t.replace(EL,"");function sg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=kL(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function CL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function a1(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function IL(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ql(e.matched[r],n.matched[i])&&VI(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ql(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function VI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!AL(t[n],e[n]))return!1;return!0}function AL(t,e){return Ni(t)?l1(t,e):Ni(e)?l1(e,t):t===e}function l1(t,e){return Ni(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function kL(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var qc;(function(t){t.pop="pop",t.push="push"})(qc||(qc={}));var _c;(function(t){t.back="back",t.forward="forward",t.unknown=""})(_c||(_c={}));function xL(t){if(!t)if(hl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),SL(t)}const PL=/^[^#]+#/;function DL(t,e){return t.replace(PL,"#")+e}function RL(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Yp=()=>({left:window.pageXOffset,top:window.pageYOffset});function OL(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=RL(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function u1(t,e){return(history.state?history.state.position-e:-1)+t}const Uv=new Map;function NL(t,e){Uv.set(t,e)}function ML(t){const e=Uv.get(t);return Uv.delete(t),e}let LL=()=>location.protocol+"//"+location.host;function BI(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),a1(l,"")}return a1(n,t)+r+i}function $L(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=BI(t,location),p=n.value,g=e.value;let y=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}y=g?h.position-g.position:0}else r(f);i.forEach(T=>{T(n.value,p,{delta:y,type:qc.pop,direction:y?y>0?_c.forward:_c.back:_c.unknown})})};function l(){o=n.value}function u(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(jt({},h.state,{scroll:Yp()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function c1(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Yp():null}}function UL(t){const{history:e,location:n}=window,r={value:BI(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:LL()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function o(l,u){const c=jt({},e.state,c1(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=jt({},i.value,e.state,{forward:l,scroll:Yp()});s(c.current,c,!0);const d=jt({},c1(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function FL(t){t=xL(t);const e=UL(t),n=$L(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=jt({location:"",base:t,go:r,createHref:DL.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function VL(t){return typeof t=="string"||t&&typeof t=="object"}function jI(t){return typeof t=="string"||typeof t=="symbol"}const Ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},HI=Symbol("");var d1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(d1||(d1={}));function Xl(t,e){return jt(new Error,{type:t,[HI]:!0},e)}function hs(t,e){return t instanceof Error&&HI in t&&(e==null||!!(t.type&e))}const h1="[^/]+?",BL={sensitive:!1,strict:!1,start:!0,end:!0},jL=/[.+*?^${}()[\]/\\]/g;function HL(t,e){const n=jt({},BL,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(jL,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:g,optional:y,regexp:T}=h;s.push({name:p,repeatable:g,optional:y});const v=T||h1;if(v!==h1){f+=10;try{new RegExp(`(${v})`)}catch(m){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+m.message)}}let _=g?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(_=y&&u.length<2?`(?:/${_})`:"/"+_),y&&(_+="?"),i+=_,f+=20,y&&(f+=-8),g&&(f+=-20),v===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:y}=f,T=p in u?u[p]:"";if(Ni(T)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Ni(T)?T.join("/"):T;if(!v)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function WL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function YL(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=WL(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(f1(r))return 1;if(f1(i))return-1}return i.length-r.length}function f1(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const KL={type:0,value:""},zL=/[a-zA-Z0-9_]/;function GL(t){if(!t)return[[]];if(t==="/")return[[KL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:zL.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function qL(t,e,n){const r=HL(GL(t.path),n),i=jt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function QL(t,e){const n=[],r=new Map;e=g1({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,h){const f=!h,p=XL(c);p.aliasOf=h&&h.record;const g=g1(e,c),y=[p];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const m of _)y.push(jt({},p,{components:h?h.record.components:p.components,path:m,aliasOf:h?h.record:p}))}let T,v;for(const _ of y){const{path:m}=_;if(d&&m[0]!=="/"){const w=d.record.path,E=w[w.length-1]==="/"?"":"/";_.path=d.record.path+(m&&E+m)}if(T=qL(_,d,g),h?h.alias.push(T):(v=v||T,v!==T&&v.alias.push(T),f&&c.name&&!m1(T)&&o(c.name)),p.children){const w=p.children;for(let E=0;E<w.length;E++)s(w[E],T,h&&h.children[E])}h=h||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&l(T)}return v?()=>{o(v)}:bc}function o(c){if(jI(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&YL(c,n[d])>=0&&(c.record.path!==n[d].record.path||!WI(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!m1(c)&&r.set(c.record.name,c)}function u(c,d){let h,f={},p,g;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw Xl(1,{location:c});g=h.record.name,f=jt(p1(d.params,h.keys.filter(v=>!v.optional).map(v=>v.name)),c.params&&p1(c.params,h.keys.map(v=>v.name))),p=h.stringify(f)}else if("path"in c)p=c.path,h=n.find(v=>v.re.test(p)),h&&(f=h.parse(p),g=h.record.name);else{if(h=d.name?r.get(d.name):n.find(v=>v.re.test(d.path)),!h)throw Xl(1,{location:c,currentLocation:d});g=h.record.name,f=jt({},d.params,c.params),p=h.stringify(f)}const y=[];let T=h;for(;T;)y.unshift(T.record),T=T.parent;return{name:g,path:p,params:f,matched:y,meta:ZL(y)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function p1(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function XL(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:JL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function JL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function m1(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ZL(t){return t.reduce((e,n)=>jt(e,n.meta),{})}function g1(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function WI(t,e){return e.children.some(n=>n===t||WI(t,n))}const YI=/#/g,e$=/&/g,t$=/\//g,n$=/=/g,r$=/\?/g,KI=/\+/g,i$=/%5B/g,s$=/%5D/g,zI=/%5E/g,o$=/%60/g,GI=/%7B/g,a$=/%7C/g,qI=/%7D/g,l$=/%20/g;function W0(t){return encodeURI(""+t).replace(a$,"|").replace(i$,"[").replace(s$,"]")}function u$(t){return W0(t).replace(GI,"{").replace(qI,"}").replace(zI,"^")}function Fv(t){return W0(t).replace(KI,"%2B").replace(l$,"+").replace(YI,"%23").replace(e$,"%26").replace(o$,"`").replace(GI,"{").replace(qI,"}").replace(zI,"^")}function c$(t){return Fv(t).replace(n$,"%3D")}function d$(t){return W0(t).replace(YI,"%23").replace(r$,"%3F")}function h$(t){return t==null?"":d$(t).replace(t$,"%2F")}function Pf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function f$(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(KI," "),o=s.indexOf("="),a=Pf(o<0?s:s.slice(0,o)),l=o<0?null:Pf(s.slice(o+1));if(a in e){let u=e[a];Ni(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function v1(t){let e="";for(let n in t){const r=t[n];if(n=c$(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ni(r)?r.map(s=>s&&Fv(s)):[r&&Fv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function p$(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Ni(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const m$=Symbol(""),y1=Symbol(""),Kp=Symbol(""),QI=Symbol(""),Vv=Symbol("");function $u(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Js(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Xl(4,{from:n,to:e})):d instanceof Error?a(d):VL(d)?a(Xl(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},u=t.call(r&&r.instances[i],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function og(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(g$(a)){const u=(a.__vccOpts||a)[e];u&&i.push(Js(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=TL(u)?u.default:u;s.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&Js(h,n,r,s,o)()}))}}return i}function g$(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function w1(t){const e=Wr(Kp),n=Wr(QI),r=re(()=>e.resolve(x(t.to))),i=re(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Ql.bind(null,c));if(h>-1)return h;const f=b1(l[u-2]);return u>1&&b1(c)===f&&d[d.length-1].path!==f?d.findIndex(Ql.bind(null,l[u-2])):h}),s=re(()=>i.value>-1&&b$(n.params,r.value.params)),o=re(()=>i.value>-1&&i.value===n.matched.length-1&&VI(n.params,r.value.params));function a(l={}){return w$(l)?e[x(t.replace)?"replace":"push"](x(t.to)).catch(bc):Promise.resolve()}return{route:r,href:re(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const v$=Ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:w1,setup(t,{slots:e}){const n=$n(w1(t)),{options:r}=Wr(Kp),i=re(()=>({[_1(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_1(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:wu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),y$=v$;function w$(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function b$(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ni(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function b1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _1=(t,e,n)=>t??e??n,_$=Ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Wr(Vv),i=re(()=>t.route||r.value),s=Wr(y1,0),o=re(()=>{let u=x(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=re(()=>i.value.matched[o.value]);Ol(y1,re(()=>o.value+1)),Ol(m$,a),Ol(Vv,i);const l=le();return yn(()=>[l.value,a.value,t.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Ql(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return T1(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,y=wu(h,jt({},p,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return T1(n.default,{Component:y,route:u})||y}}});function T1(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const XI=_$;function T$(t){const e=QL(t.routes,t),n=t.parseQuery||f$,r=t.stringifyQuery||v1,i=t.history,s=$u(),o=$u(),a=$u(),l=wC(Ws);let u=Ws;hl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ig.bind(null,G=>""+G),d=ig.bind(null,h$),h=ig.bind(null,Pf);function f(G,se){let z,de;return jI(G)?(z=e.getRecordMatcher(G),de=se):de=G,e.addRoute(de,z)}function p(G){const se=e.getRecordMatcher(G);se&&e.removeRoute(se)}function g(){return e.getRoutes().map(G=>G.record)}function y(G){return!!e.getRecordMatcher(G)}function T(G,se){if(se=jt({},se||l.value),typeof G=="string"){const R=sg(n,G,se.path),N=e.resolve({path:R.path},se),Y=i.createHref(R.fullPath);return jt(R,N,{params:h(N.params),hash:Pf(R.hash),redirectedFrom:void 0,href:Y})}let z;if("path"in G)z=jt({},G,{path:sg(n,G.path,se.path).path});else{const R=jt({},G.params);for(const N in R)R[N]==null&&delete R[N];z=jt({},G,{params:d(R)}),se.params=d(se.params)}const de=e.resolve(z,se),Se=G.hash||"";de.params=c(h(de.params));const S=CL(r,jt({},G,{hash:u$(Se),path:de.path})),P=i.createHref(S);return jt({fullPath:S,hash:Se,query:r===v1?p$(G.query):G.query||{}},de,{redirectedFrom:void 0,href:P})}function v(G){return typeof G=="string"?sg(n,G,l.value.path):jt({},G)}function _(G,se){if(u!==G)return Xl(8,{from:se,to:G})}function m(G){return L(G)}function w(G){return m(jt(v(G),{replace:!0}))}function E(G){const se=G.matched[G.matched.length-1];if(se&&se.redirect){const{redirect:z}=se;let de=typeof z=="function"?z(G):z;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=v(de):{path:de},de.params={}),jt({query:G.query,hash:G.hash,params:"path"in de?{}:G.params},de)}}function L(G,se){const z=u=T(G),de=l.value,Se=G.state,S=G.force,P=G.replace===!0,R=E(z);if(R)return L(jt(v(R),{state:typeof R=="object"?jt({},Se,R.state):Se,force:S,replace:P}),se||z);const N=z;N.redirectedFrom=se;let Y;return!S&&IL(r,de,z)&&(Y=Xl(16,{to:N,from:de}),Q(de,de,!0,!1)),(Y?Promise.resolve(Y):C(N,de)).catch(oe=>hs(oe)?hs(oe,2)?oe:b(oe):X(oe,N,de)).then(oe=>{if(oe){if(hs(oe,2))return L(jt({replace:P},v(oe.to),{state:typeof oe.to=="object"?jt({},Se,oe.to.state):Se,force:S}),se||N)}else oe=V(N,de,!0,P,Se);return $(N,de,oe),oe})}function k(G,se){const z=_(G,se);return z?Promise.reject(z):Promise.resolve()}function A(G){const se=ue.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(G):G()}function C(G,se){let z;const[de,Se,S]=E$(G,se);z=og(de.reverse(),"beforeRouteLeave",G,se);for(const R of de)R.leaveGuards.forEach(N=>{z.push(Js(N,G,se))});const P=k.bind(null,G,se);return z.push(P),B(z).then(()=>{z=[];for(const R of s.list())z.push(Js(R,G,se));return z.push(P),B(z)}).then(()=>{z=og(Se,"beforeRouteUpdate",G,se);for(const R of Se)R.updateGuards.forEach(N=>{z.push(Js(N,G,se))});return z.push(P),B(z)}).then(()=>{z=[];for(const R of G.matched)if(R.beforeEnter&&!se.matched.includes(R))if(Ni(R.beforeEnter))for(const N of R.beforeEnter)z.push(Js(N,G,se));else z.push(Js(R.beforeEnter,G,se));return z.push(P),B(z)}).then(()=>(G.matched.forEach(R=>R.enterCallbacks={}),z=og(S,"beforeRouteEnter",G,se),z.push(P),B(z))).then(()=>{z=[];for(const R of o.list())z.push(Js(R,G,se));return z.push(P),B(z)}).catch(R=>hs(R,8)?R:Promise.reject(R))}function $(G,se,z){for(const de of a.list())A(()=>de(G,se,z))}function V(G,se,z,de,Se){const S=_(G,se);if(S)return S;const P=se===Ws,R=hl?history.state:{};z&&(de||P?i.replace(G.fullPath,jt({scroll:P&&R&&R.scroll},Se)):i.push(G.fullPath,Se)),l.value=G,Q(G,se,z,P),b()}let I;function H(){I||(I=i.listen((G,se,z)=>{if(!we.listening)return;const de=T(G),Se=E(de);if(Se){L(jt(Se,{replace:!0}),de).catch(bc);return}u=de;const S=l.value;hl&&NL(u1(S.fullPath,z.delta),Yp()),C(de,S).catch(P=>hs(P,12)?P:hs(P,2)?(L(P.to,de).then(R=>{hs(R,20)&&!z.delta&&z.type===qc.pop&&i.go(-1,!1)}).catch(bc),Promise.reject()):(z.delta&&i.go(-z.delta,!1),X(P,de,S))).then(P=>{P=P||V(de,S,!1),P&&(z.delta&&!hs(P,8)?i.go(-z.delta,!1):z.type===qc.pop&&hs(P,20)&&i.go(-1,!1)),$(de,S,P)}).catch(bc)}))}let M=$u(),O=$u(),W;function X(G,se,z){b(G);const de=O.list();return de.length?de.forEach(Se=>Se(G,se,z)):console.error(G),Promise.reject(G)}function F(){return W&&l.value!==Ws?Promise.resolve():new Promise((G,se)=>{M.add([G,se])})}function b(G){return W||(W=!G,H(),M.list().forEach(([se,z])=>G?z(G):se()),M.reset()),G}function Q(G,se,z,de){const{scrollBehavior:Se}=t;if(!hl||!Se)return Promise.resolve();const S=!z&&ML(u1(G.fullPath,0))||(de||!z)&&history.state&&history.state.scroll||null;return Dr().then(()=>Se(G,se,S)).then(P=>P&&OL(P)).catch(P=>X(P,G,se))}const te=G=>i.go(G);let Z;const ue=new Set,we={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:y,getRoutes:g,resolve:T,options:t,push:m,replace:w,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:O.add,isReady:F,install(G){const se=this;G.component("RouterLink",y$),G.component("RouterView",XI),G.config.globalProperties.$router=se,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>x(l)}),hl&&!Z&&l.value===Ws&&(Z=!0,m(i.location).catch(Se=>{}));const z={};for(const Se in Ws)z[Se]=re(()=>l.value[Se]);G.provide(Kp,se),G.provide(QI,$n(z)),G.provide(Vv,l);const de=G.unmount;ue.add(G),G.unmount=function(){ue.delete(G),ue.size<1&&(u=Ws,I&&I(),I=null,l.value=Ws,Z=!1,W=!1),de()}}};function B(G){return G.reduce((se,z)=>se.then(()=>A(z)),Promise.resolve())}return we}function E$(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ql(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ql(u,l))||i.push(l))}return[n,r,i]}function JI(){return Wr(Kp)}const S$=Ae({__name:"App",setup(t){return(e,n)=>(D(),J(Ie,null,[ae(x(XI)),ae(_L)],64))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw bu(e)},bu=function(t){return new Error("Firebase Database ("+ZI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new I$;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(t){const e=eA(t);return zp.encodeByteArray(e,!0)},Df=function(t){return tA(t).replace(/\./g,"")},Rf=function(t){try{return zp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){return nA(void 0,t)}function nA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!k$(n)||(t[n]=nA(t[n],e[n]));return t}function k$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=()=>rA().__FIREBASE_DEFAULTS__,P$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rf(t[1]);return e&&JSON.parse(e)},Gp=()=>{try{return x$()||P$()||D$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iA=t=>{var e,n;return(n=(e=Gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sA=t=>{const e=iA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oA=()=>{var t;return(t=Gp())===null||t===void 0?void 0:t.config},aA=t=>{var e;return(e=Gp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Df(JSON.stringify(n)),Df(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function R$(){var t;const e=(t=Gp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O$(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dA(){return ZI.NODE_ADMIN===!0}function qp(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function N$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M$,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?L$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ai(i,a,r)}}function L$(t,e){return t.replace($$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){return JSON.parse(t)}function Zn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Qc(Rf(s[0])||""),n=Qc(Rf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},U$=function(t){const e=fA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},F$=function(t){const e=fA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Of(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Xc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(E1(s)&&E1(o)){if(!Xc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function B$(t,e){const n=new j$(t,e);return n.subscribe.bind(n)}class j${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ag),i.error===void 0&&(i.error=ag),i.complete===void 0&&(i.complete=ag);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}function W$(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=1e3,G$=2,q$=4*60*60*1e3,Q$=.5;function jv(t,e=z$,n=G$){const r=e*Math.pow(n,t),i=Math.round(Q$*r*(Math.random()-.5)*2);return Math.min(q$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ea;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J$(t){return t===Go?void 0:t}function Z$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const tU={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},nU=xt.INFO,rU={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},iU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tu{constructor(e){this.name=e,this._logLevel=nU,this._logHandler=iU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const sU=(t,e)=>e.some(n=>t instanceof n);let S1,C1;function oU(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aU(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pA=new WeakMap,Hv=new WeakMap,mA=new WeakMap,lg=new WeakMap,K0=new WeakMap;function lU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pA.set(n,t)}).catch(()=>{}),K0.set(e,t),e}function uU(t){if(Hv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hv.set(t,e)}let Wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cU(t){Wv=t(Wv)}function dU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ug(this),e,...n);return mA.set(r,e.sort?e.sort():[e]),fo(r)}:aU().includes(t)?function(...e){return t.apply(ug(this),e),fo(pA.get(this))}:function(...e){return fo(t.apply(ug(this),e))}}function hU(t){return typeof t=="function"?dU(t):(t instanceof IDBTransaction&&uU(t),sU(t,oU())?new Proxy(t,Wv):t)}function fo(t){if(t instanceof IDBRequest)return lU(t);if(lg.has(t))return lg.get(t);const e=hU(t);return e!==t&&(lg.set(t,e),K0.set(e,t)),e}const ug=t=>K0.get(t);function fU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fo(o.result),l.oldVersion,l.newVersion,fo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pU=["get","getKey","getAll","getAllKeys","count"],mU=["put","add","delete","clear"],cg=new Map;function I1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cg.set(e,s),s}cU(t=>({...t,get:(e,n,r)=>I1(e,n)||t.get(e,n,r),has:(e,n)=>!!I1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yv="@firebase/app",A1="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Tu("@firebase/app"),yU="@firebase/app-compat",wU="@firebase/analytics-compat",bU="@firebase/analytics",_U="@firebase/app-check-compat",TU="@firebase/app-check",EU="@firebase/auth",SU="@firebase/auth-compat",CU="@firebase/database",IU="@firebase/database-compat",AU="@firebase/functions",kU="@firebase/functions-compat",xU="@firebase/installations",PU="@firebase/installations-compat",DU="@firebase/messaging",RU="@firebase/messaging-compat",OU="@firebase/performance",NU="@firebase/performance-compat",MU="@firebase/remote-config",LU="@firebase/remote-config-compat",$U="@firebase/storage",UU="@firebase/storage-compat",FU="@firebase/firestore",VU="@firebase/firestore-compat",BU="firebase",jU="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="[DEFAULT]",HU={[Yv]:"fire-core",[yU]:"fire-core-compat",[bU]:"fire-analytics",[wU]:"fire-analytics-compat",[TU]:"fire-app-check",[_U]:"fire-app-check-compat",[EU]:"fire-auth",[SU]:"fire-auth-compat",[CU]:"fire-rtdb",[IU]:"fire-rtdb-compat",[AU]:"fire-fn",[kU]:"fire-fn-compat",[xU]:"fire-iid",[PU]:"fire-iid-compat",[DU]:"fire-fcm",[RU]:"fire-fcm-compat",[OU]:"fire-perf",[NU]:"fire-perf-compat",[MU]:"fire-rc",[LU]:"fire-rc-compat",[$U]:"fire-gcs",[UU]:"fire-gcs-compat",[FU]:"fire-fst",[VU]:"fire-fst-compat","fire-js":"fire-js",[BU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,zv=new Map;function WU(t,e){try{t.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zr(t){const e=t.name;if(zv.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;zv.set(e,t);for(const n of Nf.values())WU(n,t);return!0}function cs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},po=new No("app","Firebase",YU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=jU;function gA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=oA()),!n)throw po.create("no-options");const s=Nf.get(i);if(s){if(Xc(n,s.options)&&Xc(r,s.config))return s;throw po.create("duplicate-app",{appName:i})}const o=new eU(i);for(const l of zv.values())o.addComponent(l);const a=new KU(n,r,o);return Nf.set(i,a),a}function Eu(t=Kv){const e=Nf.get(t);if(!e&&t===Kv&&oA())return gA();if(!e)throw po.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=(r=HU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(a.join(" "));return}zr(new Rr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="firebase-heartbeat-database",GU=1,Jc="firebase-heartbeat-store";let dg=null;function vA(){return dg||(dg=fU(zU,GU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Jc)}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),dg}async function qU(t){try{return await(await vA()).transaction(Jc).objectStore(Jc).get(yA(t))}catch(e){if(e instanceof ai)Sa.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sa.warn(n.message)}}}async function k1(t,e){try{const r=(await vA()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,yA(t)),await r.done}catch(n){if(n instanceof ai)Sa.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sa.warn(r.message)}}}function yA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=1024,XU=30*24*60*60*1e3;class JU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=XU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x1(),{heartbeatsToSend:n,unsentEntries:r}=ZU(this._heartbeatsCache.heartbeats),i=Df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function x1(){return new Date().toISOString().substring(0,10)}function ZU(t,e=QU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),P1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qp()?hA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await qU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P1(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){zr(new Rr("platform-logger",e=>new gU(e),"PRIVATE")),zr(new Rr("heartbeat",e=>new JU(e),"PRIVATE")),rr(Yv,A1,t),rr(Yv,A1,"esm2017"),rr("fire-js","")}tF("");const nF=(t,e)=>e.some(n=>t instanceof n);let D1,R1;function rF(){return D1||(D1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iF(){return R1||(R1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wA=new WeakMap,Gv=new WeakMap,bA=new WeakMap,hg=new WeakMap,z0=new WeakMap;function sF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wA.set(n,t)}).catch(()=>{}),z0.set(e,t),e}function oF(t){if(Gv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gv.set(t,e)}let qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aF(t){qv=t(qv)}function lF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fg(this),e,...n);return bA.set(r,e.sort?e.sort():[e]),mo(r)}:iF().includes(t)?function(...e){return t.apply(fg(this),e),mo(wA.get(this))}:function(...e){return mo(t.apply(fg(this),e))}}function uF(t){return typeof t=="function"?lF(t):(t instanceof IDBTransaction&&oF(t),nF(t,rF())?new Proxy(t,qv):t)}function mo(t){if(t instanceof IDBRequest)return sF(t);if(hg.has(t))return hg.get(t);const e=uF(t);return e!==t&&(hg.set(t,e),z0.set(e,t)),e}const fg=t=>z0.get(t);function cF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mo(o.result),l.oldVersion,l.newVersion,mo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const dF=["get","getKey","getAll","getAllKeys","count"],hF=["put","add","delete","clear"],pg=new Map;function O1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pg.get(e))return pg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return pg.set(e,s),s}aF(t=>({...t,get:(e,n,r)=>O1(e,n)||t.get(e,n,r),has:(e,n)=>!!O1(e,n)||t.has(e,n)}));const _A="@firebase/installations",G0="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1e4,EA=`w:${G0}`,SA="FIS_v2",fF="https://firebaseinstallations.googleapis.com/v1",pF=60*60*1e3,mF="installations",gF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ca=new No(mF,gF,vF);function CA(t){return t instanceof ai&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA({projectId:t}){return`${fF}/projects/${t}/installations`}function AA(t){return{token:t.token,requestStatus:2,expiresIn:wF(t.expiresIn),creationTime:Date.now()}}async function kA(t,e){const r=(await e.json()).error;return Ca.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function xA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yF(t,{refreshToken:e}){const n=xA(t);return n.append("Authorization",bF(e)),n}async function PA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wF(t){return Number(t.replace("s","000"))}function bF(t){return`${SA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IA(t),i=xA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:SA,appId:t.appId,sdkVersion:EA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await PA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:AA(u.authToken)}}else throw await kA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=/^[cdef][\w-]{21}$/,Qv="";function SF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=CF(t);return EF.test(n)?n:Qv}catch{return Qv}}function CF(t){return TF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new Map;function OA(t,e){const n=Xp(t);NA(n,e),IF(n,e)}function NA(t,e){const n=RA.get(t);if(n)for(const r of n)r(e)}function IF(t,e){const n=AF();n&&n.postMessage({key:t,fid:e}),kF()}let ia=null;function AF(){return!ia&&"BroadcastChannel"in self&&(ia=new BroadcastChannel("[Firebase] FID Change"),ia.onmessage=t=>{NA(t.data.key,t.data.fid)}),ia}function kF(){RA.size===0&&ia&&(ia.close(),ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="firebase-installations-database",PF=1,Ia="firebase-installations-store";let mg=null;function q0(){return mg||(mg=cF(xF,PF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ia)}}})),mg}async function Mf(t,e){const n=Xp(t),i=(await q0()).transaction(Ia,"readwrite"),s=i.objectStore(Ia),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&OA(t,e.fid),e}async function MA(t){const e=Xp(t),r=(await q0()).transaction(Ia,"readwrite");await r.objectStore(Ia).delete(e),await r.done}async function Jp(t,e){const n=Xp(t),i=(await q0()).transaction(Ia,"readwrite"),s=i.objectStore(Ia),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&OA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(t){let e;const n=await Jp(t.appConfig,r=>{const i=DF(r),s=RF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Qv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function DF(t){const e=t||{fid:SF(),registrationStatus:0};return LA(e)}function RF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ca.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=OF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NF(t)}:{installationEntry:e}}async function OF(t,e){try{const n=await _F(t,e);return Mf(t.appConfig,n)}catch(n){throw CA(n)&&n.customData.serverCode===409?await MA(t.appConfig):await Mf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function NF(t){let e=await N1(t.appConfig);for(;e.registrationStatus===1;)await DA(100),e=await N1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Q0(t);return r||n}return e}function N1(t){return Jp(t,e=>{if(!e)throw Ca.create("installation-not-found");return LA(e)})}function LA(t){return MF(t)?{fid:t.fid,registrationStatus:0}:t}function MF(t){return t.registrationStatus===1&&t.registrationTime+TA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF({appConfig:t,heartbeatServiceProvider:e},n){const r=$F(t,n),i=yF(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:EA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await PA(()=>fetch(r,a));if(l.ok){const u=await l.json();return AA(u)}else throw await kA("Generate Auth Token",l)}function $F(t,{fid:e}){return`${IA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(t,e=!1){let n;const r=await Jp(t.appConfig,s=>{if(!$A(s))throw Ca.create("not-registered");const o=s.authToken;if(!e&&VF(o))return s;if(o.requestStatus===1)return n=UF(t,e),s;{if(!navigator.onLine)throw Ca.create("app-offline");const a=jF(s);return n=FF(t,a),a}});return n?await n:r.authToken}async function UF(t,e){let n=await M1(t.appConfig);for(;n.authToken.requestStatus===1;)await DA(100),n=await M1(t.appConfig);const r=n.authToken;return r.requestStatus===0?X0(t,e):r}function M1(t){return Jp(t,e=>{if(!$A(e))throw Ca.create("not-registered");const n=e.authToken;return HF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function FF(t,e){try{const n=await LF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Mf(t.appConfig,r),n}catch(n){if(CA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mf(t.appConfig,r)}throw n}}function $A(t){return t!==void 0&&t.registrationStatus===2}function VF(t){return t.requestStatus===2&&!BF(t)}function BF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pF}function jF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function HF(t){return t.requestStatus===1&&t.requestTime+TA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Q0(e);return r?r.catch(console.error):X0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e=!1){const n=t;return await KF(n),(await X0(n,e)).token}async function KF(t){const{registrationPromise:e}=await Q0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){if(!t||!t.options)throw gg("App Configuration");if(!t.name)throw gg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gg(t){return Ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="installations",GF="installations-internal",qF=t=>{const e=t.getProvider("app").getImmediate(),n=zF(e),r=cs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QF=t=>{const e=t.getProvider("app").getImmediate(),n=cs(e,UA).getImmediate();return{getId:()=>WF(n),getToken:i=>YF(n,i)}};function XF(){zr(new Rr(UA,qF,"PUBLIC")),zr(new Rr(GF,QF,"PRIVATE"))}XF();rr(_A,G0);rr(_A,G0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="analytics",JF="firebase_id",ZF="origin",e3=60*1e3,t3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",J0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Tu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new No("analytics","Analytics",n3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){if(!t.startsWith(J0)){const e=ri.create("invalid-gtag-resource",{gtagURL:t});return Yr.warn(e.message),""}return t}function FA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function i3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function s3(t,e){const n=i3("firebase-js-sdk-policy",{createScriptURL:r3}),r=document.createElement("script"),i=`${J0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function o3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function a3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await FA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Yr.error(a)}t("config",i,s)}async function l3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await FA(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Yr.error(s)}}function u3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await l3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await a3(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Yr.error(a)}}return i}function c3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=u3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function d3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(J0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=30,f3=1e3;class p3{constructor(e={},n=f3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const VA=new p3;function m3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function g3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:m3(r)},s=t3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function v3(t,e=VA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ri.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ri.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new b3;return setTimeout(async()=>{a.abort()},n!==void 0?n:e3),BA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function BA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=VA){var s;const{appId:o,measurementId:a}=t;try{await y3(r,e)}catch(l){if(a)return Yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await g3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!w3(u)){if(i.deleteThrottleMetadata(o),a)return Yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?jv(n,i.intervalMillis,h3):jv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Yr.debug(`Calling attemptFetch again in ${c} millis`),BA(t,d,r,i)}}function y3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function w3(t){if(!(t instanceof ai)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class b3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(){if(qp())try{await hA()}catch(t){return Yr.warn(ri.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yr.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function E3(t,e,n,r,i,s,o){var a;const l=v3(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Yr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Yr.error(f)),e.push(l);const u=T3().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);d3(s)||s3(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[ZF]="firebase",h.update=!0,d!=null&&(h[JF]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.app=e}_delete(){return delete Tc[this.app.options.appId],Promise.resolve()}}let Tc={},L1=[];const $1={};let vg="dataLayer",C3="gtag",U1,jA,F1=!1;function I3(){const t=[];if(uA()&&t.push("This is a browser extension environment."),N$()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ri.create("invalid-analytics-context",{errorInfo:e});Yr.warn(n.message)}}function A3(t,e,n){I3();const r=t.options.appId;if(!r)throw ri.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(Tc[r]!=null)throw ri.create("already-exists",{id:r});if(!F1){o3(vg);const{wrappedGtag:s,gtagCore:o}=c3(Tc,L1,$1,vg,C3);jA=s,U1=o,F1=!0}return Tc[r]=E3(t,L1,$1,e,U1,vg,n),new S3(t)}function k3(t=Eu()){t=Ft(t);const e=cs(t,Lf);return e.isInitialized()?e.getImmediate():x3(t)}function x3(t,e={}){const n=cs(t,Lf);if(n.isInitialized()){const i=n.getImmediate();if(Xc(e,n.getOptions()))return i;throw ri.create("already-initialized")}return n.initialize({options:e})}function P3(t,e,n,r){t=Ft(t),_3(jA,Tc[t.app.options.appId],e,n,r).catch(i=>Yr.error(i))}const V1="@firebase/analytics",B1="0.10.0";function D3(){zr(new Rr(Lf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return A3(r,i,n)},"PUBLIC")),zr(new Rr("analytics-internal",t,"PRIVATE")),rr(V1,B1),rr(V1,B1,"esm2017");function t(e){try{const n=e.getProvider(Lf).getImmediate();return{logEvent:(r,i,s)=>P3(n,r,i,s)}}catch(n){throw ri.create("interop-component-reg-failed",{reason:n})}}}D3();var R3="firebase",O3="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(R3,O3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map,HA={activated:!1,tokenObservers:[]},N3={initialized:!1,enabled:!1};function Mn(t){return Xv.get(t)||Object.assign({},HA)}function M3(t,e){return Xv.set(t,e),Xv.get(t)}function Zp(){return N3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="https://content-firebaseappcheck.googleapis.com/v1",L3="exchangeRecaptchaV3Token",$3="exchangeDebugToken",j1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},U3=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ea,await V3(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ea,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function V3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Br=new No("appCheck","AppCheck",B3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function Z0(t){if(!Mn(t).activated)throw Br.create("use-before-activation",{appName:t.name})}function YA(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=bh(n)+"d:"),r&&(o+=bh(r)+"h:"),o+=bh(i)+"m:"+bh(s)+"s",o}function bh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw Br.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Br.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Br.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function j3(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WA}/projects/${n}/apps/${r}:${L3}?key=${i}`,body:{recaptcha_v3_token:e}}}function KA(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WA}/projects/${n}/apps/${r}:${$3}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="firebase-app-check-database",W3=1,Zc="firebase-app-check-store",zA="debug-token";let _h=null;function GA(){return _h||(_h=new Promise((t,e)=>{try{const n=indexedDB.open(H3,W3);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Br.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zc,{keyPath:"compositeKey"})}}}catch(n){e(Br.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),_h)}function Y3(t){return QA(XA(t))}function K3(t,e){return qA(XA(t),e)}function z3(t){return qA(zA,t)}function G3(){return QA(zA)}async function qA(t,e){const r=(await GA()).transaction(Zc,"readwrite"),s=r.objectStore(Zc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Br.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function QA(t){const n=(await GA()).transaction(Zc,"readonly"),i=n.objectStore(Zc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Br.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function XA(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Tu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t){if(qp()){let e;try{e=await Y3(t)}catch(n){ed.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function yg(t,e){return qp()?K3(t,e).catch(n=>{ed.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Q3(){let t;try{t=await G3()}catch{}if(t)return t;{const e=K$();return z3(e).catch(n=>ed.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return Zp().enabled}async function nw(){const t=Zp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function X3(){const t=rA(),e=Zp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Ea;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Q3())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3={error:"UNKNOWN_ERROR"};function Z3(t){return zp.encodeString(JSON.stringify(t),!1)}async function Jv(t,e=!1){const n=t.app;Z0(n);const r=Mn(n);let i=r.token,s;if(i&&!bl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(bl(l)?i=l:await yg(n,void 0))}if(!e&&i&&bl(i))return{token:i.token};let o=!1;if(tw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ew(KA(n,await nw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await yg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Mn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?ed.warn(l.message):ed.error(l),s=l}let a;return i?s?bl(i)?a={token:i.token,internalError:s}:a=Y1(s):(a={token:i.token},r.token=i,await yg(n,i)):a=Y1(s),o&&ek(n,a),a}async function e4(t){const e=t.app;Z0(e);const{provider:n}=Mn(e);if(tw()){const r=await nw(),{token:i}=await ew(KA(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function JA(t,e,n,r){const{app:i}=t,s=Mn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&bl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),W1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>W1(t))}function ZA(t,e){const n=Mn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function W1(t){const{app:e}=t,n=Mn(e);let r=n.tokenRefresher;r||(r=t4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function t4(t){const{app:e}=t;return new F3(async()=>{const n=Mn(e);let r;if(n.token?r=await Jv(t,!0):r=await Jv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Mn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},j1.RETRIAL_MIN_WAIT,j1.RETRIAL_MAX_WAIT)}function ek(t,e){const n=Mn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function bl(t){return t.expireTimeMillis-Date.now()>0}function Y1(t){return{token:Z3(J3),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mn(this.app);for(const n of e)ZA(this.app,n.next);return Promise.resolve()}}function r4(t,e){return new n4(t,e)}function i4(t){return{getToken:e=>Jv(t,e),getLimitedUseToken:()=>e4(t),addTokenListener:e=>JA(t,"INTERNAL",e),removeTokenListener:e=>ZA(t.app,e)}}const s4="@firebase/app-check",o4="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="https://www.google.com/recaptcha/api.js";function l4(t,e){const n=new Ea,r=Mn(t);r.reCAPTCHAState={initialized:n};const i=u4(t),s=H1(!1);return s?K1(t,e,s,i,n):h4(()=>{const o=H1(!1);if(!o)throw new Error("no recaptcha");K1(t,e,o,i,n)}),n.promise}function K1(t,e,n,r,i){n.ready(()=>{d4(t,e,n,r),i.resolve(n)})}function u4(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function c4(t){Z0(t);const n=await Mn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Mn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function d4(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Mn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Mn(t).reCAPTCHAState.succeeded=!1}}),s=Mn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function h4(t){const e=document.createElement("script");e.src=a4,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;p4(this._throttleData);const i=await c4(this._app).catch(o=>{throw Br.create("recaptcha-error")});if(!(!((e=Mn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Br.create("recaptcha-error");let s;try{s=await ew(j3(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=f4(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Br.create("throttled",{time:YA(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=cs(e,"heartbeat"),l4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof rw?this._siteKey===e._siteKey:!1}}function f4(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+U3,httpStatus:t};{const n=e?e.backoffCount:0,r=jv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function p4(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Br.create("throttled",{time:YA(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t=Eu(),e){t=Ft(t);const n=cs(t,"app-check");if(Zp().initialized||X3(),tw()&&nw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Br.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return g4(t,e.provider,e.isTokenAutoRefreshEnabled),Mn(t).isTokenAutoRefreshEnabled&&JA(r,"INTERNAL",()=>{}),r}function g4(t,e,n){const r=M3(t,Object.assign({},HA));r.activated=!0,r.provider=e,r.cachedTokenPromise=q3(t).then(i=>(i&&bl(i)&&(r.token=i,ek(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const v4="app-check",z1="app-check-internal";function y4(){zr(new Rr(v4,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return r4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(z1).initialize()})),zr(new Rr(z1,t=>{const e=t.getProvider("app-check").getImmediate();return i4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),rr(s4,o4)}y4();const w4={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},b4=t=>{m4(t,{provider:new rw("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},_4=()=>{const t=gA(w4);return b4(t),k3(t),t},tk=_4();var T4=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let nk;const em=t=>nk=t,rk=Symbol();function Zv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ec;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ec||(Ec={}));function E4(){const t=xp(!0),e=t.run(()=>le({}));let n=[],r=[];const i=Sd({install(s){em(i),i._a=s,s.provide(rk,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!T4?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ik=()=>{};function G1(t,e,n,r=ik){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Pp()&&b0(i),i}function el(t,...e){t.slice().forEach(n=>{n(...e)})}const S4=t=>t();function ey(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Zv(i)&&Zv(r)&&t.hasOwnProperty(n)&&!zt(r)&&!Xi(r)?t[n]=ey(i,r):t[n]=r}return t}const C4=Symbol();function I4(t){return!Zv(t)||!t.hasOwnProperty(C4)}const{assign:qs}=Object;function A4(t){return!!(zt(t)&&t.effect)}function k4(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=_C(n.state.value[t]);return qs(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Sd(re(()=>{em(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=sk(t,u,e,n,r,!0),l}function sk(t,e,n={},r,i,s){let o;const a=qs({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),le({});let g;function y(k){let A;u=c=!1,typeof k=="function"?(k(r.state.value[t]),A={type:Ec.patchFunction,storeId:t,events:f}):(ey(r.state.value[t],k),A={type:Ec.patchObject,payload:k,storeId:t,events:f});const C=g=Symbol();Dr().then(()=>{g===C&&(u=!0)}),c=!0,el(d,A,r.state.value[t])}const T=s?function(){const{state:A}=n,C=A?A():{};this.$patch($=>{qs($,C)})}:ik;function v(){o.stop(),d=[],h=[],r._s.delete(t)}function _(k,A){return function(){em(r);const C=Array.from(arguments),$=[],V=[];function I(O){$.push(O)}function H(O){V.push(O)}el(h,{args:C,name:k,store:w,after:I,onError:H});let M;try{M=A.apply(this&&this.$id===t?this:w,C)}catch(O){throw el(V,O),O}return M instanceof Promise?M.then(O=>(el($,O),O)).catch(O=>(el(V,O),Promise.reject(O))):(el($,M),M)}}const m={_p:r,$id:t,$onAction:G1.bind(null,h),$patch:y,$reset:T,$subscribe(k,A={}){const C=G1(d,k,A.detached,()=>$()),$=o.run(()=>yn(()=>r.state.value[t],V=>{(A.flush==="sync"?c:u)&&k({storeId:t,type:Ec.direct,events:f},V)},qs({},l,A)));return C},$dispose:v},w=$n(m);r._s.set(t,w);const E=r._a&&r._a.runWithContext||S4,L=r._e.run(()=>(o=xp(),E(()=>o.run(e))));for(const k in L){const A=L[k];if(zt(A)&&!A4(A)||Xi(A))s||(p&&I4(A)&&(zt(A)?A.value=p[k]:ey(A,p[k])),r.state.value[t][k]=A);else if(typeof A=="function"){const C=_(k,A);L[k]=C,a.actions[k]=A}}return qs(w,L),qs(ft(w),L),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:k=>{y(A=>{qs(A,k)})}}),r._p.forEach(k=>{qs(w,o.run(()=>k({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),u=!0,c=!0,w}function ok(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=QC();return a=a||(u?Wr(rk,null):null),a&&em(a),a=nk,a._s.has(r)||(s?sk(r,e,i,a):k4(r,i,a)),a._s.get(r)}return o.$id=r,o}function Xt(t){{t=ft(t);const e={};for(const n in t){const r=t[n];(zt(r)||Xi(r))&&(e[n]=Yl(t,n))}return e}}const q1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var x4=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),q1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{q1(l,e)})})}};const ak=E4();ak.use(x4);const Ir=class Ir{constructor(e,n,r={}){Ir.log(r.debug,n),r.route&&Qb.push({name:r.route}),pL({title:e,type:e.toLowerCase(),text:n},5e3)}};jo(Ir,"success",(e,n={})=>new Ir("Success",e,n)),jo(Ir,"warning",(e,n={})=>new Ir("Warning",e,n)),jo(Ir,"error",(e,n={})=>new Ir("Error",e,n)),jo(Ir,"generalError",(e,n)=>new Ir("Error",(n==null?void 0:n.message)||lk,{debug:e})),jo(Ir,"firebaseError",(e,n)=>(Ir.log(e,n),n instanceof ai?n.message=wg[n.code]:n instanceof Error&&Object.keys(wg).includes(n.name)?n.message=wg[n.name]:n=void 0,Ir.generalError(e,n))),jo(Ir,"log",(e,n)=>{e&&console.log(n)});let je=Ir;const lk="Something went wrong",wg={"":lk,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe,iw=iw||{},it=P4||self;function tm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function D4(t){return Object.prototype.hasOwnProperty.call(t,bg)&&t[bg]||(t[bg]=++R4)}var bg="closure_uid_"+(1e9*Math.random()>>>0),R4=0;function O4(t,e,n){return t.call.apply(t.bind,arguments)}function N4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yr=O4:yr=N4,yr.apply(null,arguments)}function Th(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Lo(){this.s=this.s,this.o=this.o}var M4=0;Lo.prototype.s=!1;Lo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),M4!=0)&&D4(this)};Lo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(tm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function wr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}wr.prototype.h=function(){this.defaultPrevented=!0};var L4=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{it.addEventListener("test",()=>{},e),it.removeEventListener("test",()=>{},e)}catch{}return t}();function td(t){return/^[\s\xa0]*$/.test(t)}function nm(){var t=it.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return nm().indexOf(t)!=-1}function ow(t){return ow[" "](t),t}ow[" "]=function(){};function $4(t,e){var n=x5;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var U4=Hi("Opera"),Zl=Hi("Trident")||Hi("MSIE"),ck=Hi("Edge"),ty=ck||Zl,dk=Hi("Gecko")&&!(nm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),F4=nm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge");function hk(){var t=it.document;return t?t.documentMode:void 0}var ny;e:{var _g="",Tg=function(){var t=nm();if(dk)return/rv:([^\);]+)(\)|;)/.exec(t);if(ck)return/Edge\/([\d\.]+)/.exec(t);if(Zl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(F4)return/WebKit\/(\S+)/.exec(t);if(U4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tg&&(_g=Tg?Tg[1]:""),Zl){var Eg=hk();if(Eg!=null&&Eg>parseFloat(_g)){ny=String(Eg);break e}}ny=_g}var ry;if(it.document&&Zl){var X1=hk();ry=X1||parseInt(ny,10)||void 0}else ry=void 0;var V4=ry;function nd(t,e){if(wr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dk){e:{try{ow(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:B4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nd.$.h.call(this)}}Kn(nd,wr);var B4={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pd="closure_listenable_"+(1e6*Math.random()|0),j4=0;function H4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++j4,this.fa=this.ia=!1}function rm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function aw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function W4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fk(t){const e={};for(const n in t)e[n]=t[n];return e}const J1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<J1.length;s++)n=J1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function im(t){this.src=t,this.g={},this.h=0}im.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=sy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new H4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function iy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var lw="closure_lm_"+(1e6*Math.random()|0),Sg={};function mk(t,e,n,r,i){if(r&&r.once)return vk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mk(t,e[s],n,r,i);return null}return n=dw(n),t&&t[Pd]?t.O(e,n,xd(r)?!!r.capture:!!r,i):gk(t,e,n,!1,r,i)}function gk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xd(i)?!!i.capture:!!i,a=cw(t);if(a||(t[lw]=a=new im(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Y4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)L4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Y4(){function t(n){return e.call(t.src,t.listener,n)}const e=K4;return t}function vk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vk(t,e[s],n,r,i);return null}return n=dw(n),t&&t[Pd]?t.P(e,n,xd(r)?!!r.capture:!!r,i):gk(t,e,n,!0,r,i)}function yk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yk(t,e[s],n,r,i);else r=xd(r)?!!r.capture:!!r,n=dw(n),t&&t[Pd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=sy(s,n,r,i),-1<n&&(rm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=cw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sy(e,n,r,i)),(n=-1<t?e[t]:null)&&uw(n))}function uw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pd])iy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cw(e))?(iy(n,t),n.h==0&&(n.src=null,e[lw]=null)):rm(t)}}}function wk(t){return t in Sg?Sg[t]:Sg[t]="on"+t}function K4(t,e){if(t.fa)t=!0;else{e=new nd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&uw(t),t=n.call(r,e)}return t}function cw(t){return t=t[lw],t instanceof im?t:null}var Cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function dw(t){return typeof t=="function"?t:(t[Cg]||(t[Cg]=function(e){return t.handleEvent(e)}),t[Cg])}function Yn(){Lo.call(this),this.i=new im(this),this.S=this,this.J=null}Kn(Yn,Lo);Yn.prototype[Pd]=!0;Yn.prototype.removeEventListener=function(t,e,n,r){yk(this,t,e,n,r)};function ir(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new wr(e,t);else if(e instanceof wr)e.target=e.target||t;else{var i=e;e=new wr(r,t),pk(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Eh(o,r,!0,e)&&i}if(o=e.g=t,i=Eh(o,r,!0,e)&&i,i=Eh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Eh(o,r,!1,e)&&i}Yn.prototype.N=function(){if(Yn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rm(n[r]);delete t.g[e],t.h--}}this.J=null};Yn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Yn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Eh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&iy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var hw=it.JSON.stringify;class z4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function G4(){var t=fw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class q4{constructor(){this.h=this.g=null}add(e,n){const r=bk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bk=new z4(()=>new Q4,t=>t.reset());class Q4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function X4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function J4(t){it.setTimeout(()=>{throw t},0)}let rd,id=!1,fw=new q4,_k=()=>{const t=it.Promise.resolve(void 0);rd=()=>{t.then(Z4)}};var Z4=()=>{for(var t;t=G4();){try{t.h.call(t.g)}catch(n){J4(n)}var e=bk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}id=!1};function sm(t,e){Yn.call(this),this.h=t||1,this.g=e||it,this.j=yr(this.qb,this),this.l=Date.now()}Kn(sm,Yn);xe=sm.prototype;xe.ga=!1;xe.T=null;xe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ir(this,"tick"),this.ga&&(pw(this),this.start()))}};xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}xe.N=function(){sm.$.N.call(this),pw(this),delete this.g};function mw(t,e,n){if(typeof t=="function")n&&(t=yr(t,n));else if(t&&typeof t.handleEvent=="function")t=yr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:it.setTimeout(t,e||0)}function Tk(t){t.g=mw(()=>{t.g=null,t.i&&(t.i=!1,Tk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class e5 extends Lo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tk(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sd(t){Lo.call(this),this.h=t,this.g={}}Kn(sd,Lo);var Z1=[];function Ek(t,e,n,r){Array.isArray(n)||(n&&(Z1[0]=n.toString()),n=Z1);for(var i=0;i<n.length;i++){var s=mk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Sk(t){aw(t.g,function(e,n){this.g.hasOwnProperty(n)&&uw(e)},t),t.g={}}sd.prototype.N=function(){sd.$.N.call(this),Sk(this)};sd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function om(){this.g=!0}om.prototype.Ea=function(){this.g=!1};function t5(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function n5(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function _l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i5(t,n)+(r?" "+r:"")})}function r5(t,e){t.info(function(){return"TIMEOUT: "+e})}om.prototype.info=function(){};function i5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return hw(n)}catch{return e}}var ja={},eT=null;function am(){return eT=eT||new Yn}ja.Ta="serverreachability";function Ck(t){wr.call(this,ja.Ta,t)}Kn(Ck,wr);function od(t){const e=am();ir(e,new Ck(e))}ja.STAT_EVENT="statevent";function Ik(t,e){wr.call(this,ja.STAT_EVENT,t),this.stat=e}Kn(Ik,wr);function kr(t){const e=am();ir(e,new Ik(e,t))}ja.Ua="timingevent";function Ak(t,e){wr.call(this,ja.Ua,t),this.size=e}Kn(Ak,wr);function Dd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){t()},e)}var lm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gw(){}gw.prototype.h=null;function tT(t){return t.h||(t.h=t.i())}function xk(){}var Rd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vw(){wr.call(this,"d")}Kn(vw,wr);function yw(){wr.call(this,"c")}Kn(yw,wr);var oy;function um(){}Kn(um,gw);um.prototype.g=function(){return new XMLHttpRequest};um.prototype.i=function(){return{}};oy=new um;function Od(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new sd(this),this.P=s5,t=ty?125:void 0,this.V=new sm(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Pk}function Pk(){this.i=null,this.g="",this.h=!1}var s5=45e3,ay={},$f={};xe=Od.prototype;xe.setTimeout=function(t){this.P=t};function ly(t,e,n){t.L=1,t.v=dm(Ds(e)),t.s=n,t.S=!0,Dk(t,null)}function Dk(t,e){t.G=Date.now(),Nd(t),t.A=Ds(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Fk(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Pk,t.g=ox(t.l,n?e:null,!t.s),0<t.O&&(t.M=new e5(yr(t.Pa,t,t.g),t.O)),Ek(t.U,t.g,"readystatechange",t.nb),e=t.I?fk(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),od(),t5(t.j,t.u,t.A,t.m,t.W,t.s)}xe.nb=function(t){t=t.target;const e=this.M;e&&Ki(t)==3?e.l():this.Pa(t)};xe.Pa=function(t){try{if(t==this.g)e:{const c=Ki(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||ty||this.g&&(this.h.h||this.g.ja()||sT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?od(3):od(2)),cm(this);var n=this.g.da();this.ca=n;t:if(Rk(this)){var r=sT(this.g);t="";var i=r.length,s=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),Sc(this);var o="";break t}this.h.i=new it.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,n5(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!td(a)){var u=a;break t}}u=null}if(n=u)_l(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uy(this,n);else{this.i=!1,this.o=3,kr(12),sa(this),Sc(this);break e}}this.S?(Ok(this,c,o),ty&&this.i&&c==3&&(Ek(this.U,this.V,"tick",this.mb),this.V.start())):(_l(this.j,this.m,o,null),uy(this,o)),c==4&&sa(this),this.i&&!this.J&&(c==4?nx(this.l,this):(this.i=!1,Nd(this)))}else I5(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),sa(this),Sc(this)}}}catch{}finally{}};function Rk(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Ok(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=o5(t,n),i==$f){e==4&&(t.o=4,kr(14),r=!1),_l(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ay){t.o=4,kr(15),_l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _l(t.j,t.m,i,null),uy(t,i);Rk(t)&&i!=$f&&i!=ay&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,kr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sw(e),e.M=!0,kr(11))):(_l(t.j,t.m,n,"[Invalid Chunked Response]"),sa(t),Sc(t))}xe.mb=function(){if(this.g){var t=Ki(this.g),e=this.g.ja();this.C<e.length&&(cm(this),Ok(this,t,e),this.i&&t!=4&&Nd(this))}};function o5(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?$f:(n=Number(e.substring(n,r)),isNaN(n)?ay:(r+=1,r+n>e.length?$f:(e=e.slice(r,r+n),t.C=r+n,e)))}xe.cancel=function(){this.J=!0,sa(this)};function Nd(t){t.Y=Date.now()+t.P,Nk(t,t.P)}function Nk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Dd(yr(t.lb,t),e)}function cm(t){t.B&&(it.clearTimeout(t.B),t.B=null)}xe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(r5(this.j,this.A),this.L!=2&&(od(),kr(17)),sa(this),this.o=2,Sc(this)):Nk(this,this.Y-t)};function Sc(t){t.l.H==0||t.J||nx(t.l,t)}function sa(t){cm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,pw(t.V),Sk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function uy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cy(n.i,t))){if(!t.K&&cy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vf(n),pm(n);else break e;Ew(n),kr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Dd(yr(n.ib,n),6e3));if(1>=jk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oa(n,11)}else if((t.K||n.g==t)&&Vf(n),!td(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ww(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,tn(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sx(r,r.J?r.pa:null,r.Y),o.K){Hk(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(cm(a),Nd(a)),r.g=o}else ex(r);0<n.j.length&&mm(n)}else u[0]!="stop"&&u[0]!="close"||oa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oa(n,7):Tw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}od(4)}catch{}}function a5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(tm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function l5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(tm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Mk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(tm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=l5(t),r=a5(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Lk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ha(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ha){this.h=t.h,Uf(this,t.j),this.s=t.s,this.g=t.g,Ff(this,t.m),this.l=t.l;var e=t.i,n=new ad;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nT(this,n),this.o=t.o}else t&&(e=String(t).match(Lk))?(this.h=!1,Uf(this,e[1]||"",!0),this.s=rc(e[2]||""),this.g=rc(e[3]||"",!0),Ff(this,e[4]),this.l=rc(e[5]||"",!0),nT(this,e[6]||"",!0),this.o=rc(e[7]||"")):(this.h=!1,this.i=new ad(null,this.h))}ha.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ic(e,rT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ic(e,rT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ic(n,n.charAt(0)=="/"?h5:d5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ic(n,p5)),t.join("")};function Ds(t){return new ha(t)}function Uf(t,e,n){t.j=n?rc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ff(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nT(t,e,n){e instanceof ad?(t.i=e,m5(t.i,t.h)):(n||(e=ic(e,f5)),t.i=new ad(e,t.h))}function tn(t,e,n){t.i.set(e,n)}function dm(t){return tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ic(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,c5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function c5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var rT=/[#\/\?@]/g,d5=/[#\?:]/g,h5=/[#\?]/g,f5=/[#\?@]/g,p5=/#/g;function ad(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $o(t){t.g||(t.g=new Map,t.h=0,t.i&&u5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}xe=ad.prototype;xe.add=function(t,e){$o(this),this.i=null,t=Su(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $k(t,e){$o(t),e=Su(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Uk(t,e){return $o(t),e=Su(t,e),t.g.has(e)}xe.forEach=function(t,e){$o(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};xe.ta=function(){$o(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};xe.Z=function(t){$o(this);let e=[];if(typeof t=="string")Uk(this,t)&&(e=e.concat(this.g.get(Su(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};xe.set=function(t,e){return $o(this),this.i=null,t=Su(this,t),Uk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};xe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Fk(t,e,n){$k(t,e),0<n.length&&(t.i=null,t.g.set(Su(t,e),sw(n)),t.h+=n.length)}xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Su(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function m5(t,e){e&&!t.j&&($o(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($k(this,r),Fk(this,i,n))},t)),t.j=e}var g5=class{constructor(t,e){this.g=t,this.map=e}};function Vk(t){this.l=t||v5,it.PerformanceNavigationTiming?(t=it.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var v5=10;function Bk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function jk(t){return t.h?1:t.g?t.g.size:0}function cy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ww(t,e){t.g?t.g.add(e):t.h=e}function Hk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Vk.prototype.cancel=function(){if(this.i=Wk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Wk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return sw(t.i)}var y5=class{stringify(t){return it.JSON.stringify(t,void 0)}parse(t){return it.JSON.parse(t,void 0)}};function w5(){this.g=new y5}function b5(t,e,n){const r=n||"";try{Mk(t,function(i,s){let o=i;xd(i)&&(o=hw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _5(t,e){const n=new om;if(it.Image){const r=new Image;r.onload=Th(Sh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Th(Sh,n,r,"TestLoadImage: error",!1,e),r.onabort=Th(Sh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Th(Sh,n,r,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Sh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Md(t){this.l=t.fc||null,this.j=t.ob||!1}Kn(Md,gw);Md.prototype.g=function(){return new hm(this.l,this.j)};Md.prototype.i=function(t){return function(){return t}}({});function hm(t,e){Yn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=bw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kn(hm,Yn);var bw=0;xe=hm.prototype;xe.open=function(t,e){if(this.readyState!=bw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ld(this)};xe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||it).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ld(this)),this.readyState=bw};xe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ld(this)),this.g&&(this.readyState=3,ld(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof it.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Yk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}xe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ld(this):ld(this),this.readyState==3&&Yk(this)}};xe.Za=function(t){this.g&&(this.response=this.responseText=t,Ld(this))};xe.Ya=function(t){this.g&&(this.response=t,Ld(this))};xe.ka=function(){this.g&&Ld(this)};function Ld(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ld(t)}xe.setRequestHeader=function(t,e){this.v.append(t,e)};xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ld(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var T5=it.JSON.parse;function wn(t){Yn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kk,this.L=this.M=!1}Kn(wn,Yn);var Kk="",E5=/^https?$/i,S5=["POST","PUT"];xe=wn.prototype;xe.Oa=function(t){this.M=t};xe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oy.g(),this.C=this.u?tT(this.u):tT(oy),this.g.onreadystatechange=yr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){iT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=it.FormData&&t instanceof it.FormData,!(0<=uk(S5,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qk(this),0<this.B&&((this.L=C5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.ua,this)):this.A=mw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){iT(this,s)}};function C5(t){return Zl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}xe.ua=function(){typeof iw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))};function iT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zk(t),fm(t)}function zk(t){t.F||(t.F=!0,ir(t,"complete"),ir(t,"error"))}xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ir(this,"complete"),ir(this,"abort"),fm(this))};xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fm(this,!0)),wn.$.N.call(this)};xe.La=function(){this.s||(this.G||this.v||this.l?Gk(this):this.kb())};xe.kb=function(){Gk(this)};function Gk(t){if(t.h&&typeof iw<"u"&&(!t.C[1]||Ki(t)!=4||t.da()!=2)){if(t.v&&Ki(t)==4)mw(t.La,0,t);else if(ir(t,"readystatechange"),Ki(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Lk)[1]||null;!i&&it.self&&it.self.location&&(i=it.self.location.protocol.slice(0,-1)),r=!E5.test(i?i.toLowerCase():"")}n=r}if(n)ir(t,"complete"),ir(t,"success");else{t.m=6;try{var s=2<Ki(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",zk(t)}}finally{fm(t)}}}}function fm(t,e){if(t.g){qk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ir(t,"ready");try{n.onreadystatechange=r}catch{}}}function qk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(it.clearTimeout(t.A),t.A=null)}xe.isActive=function(){return!!this.g};function Ki(t){return t.g?t.g.readyState:0}xe.da=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}};xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};xe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),T5(e)}};function sT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Kk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function I5(t){const e={};t=(t.g&&2<=Ki(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(td(t[r]))continue;var n=X4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}W4(e,function(r){return r.join(", ")})}xe.Ia=function(){return this.m};xe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Qk(t){let e="";return aw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function _w(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tn(t,e,n))}function Uu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xk(t){this.Ga=0,this.j=[],this.l=new om,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uu("baseRetryDelayMs",5e3,t),this.hb=Uu("retryDelaySeedMs",1e4,t),this.eb=Uu("forwardChannelMaxRetries",2,t),this.xa=Uu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Vk(t&&t.concurrentRequestLimit),this.Ja=new w5,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}xe=Xk.prototype;xe.ra=8;xe.H=1;function Tw(t){if(Jk(t),t.H==3){var e=t.W++,n=Ds(t.I);if(tn(n,"SID",t.K),tn(n,"RID",e),tn(n,"TYPE","terminate"),$d(t,n),e=new Od(t,t.l,e),e.L=2,e.v=dm(Ds(n)),n=!1,it.navigator&&it.navigator.sendBeacon)try{n=it.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&it.Image&&(new Image().src=e.v,n=!0),n||(e.g=ox(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nd(e)}ix(t)}function pm(t){t.g&&(Sw(t),t.g.cancel(),t.g=null)}function Jk(t){pm(t),t.u&&(it.clearTimeout(t.u),t.u=null),Vf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&it.clearTimeout(t.m),t.m=null)}function mm(t){if(!Bk(t.i)&&!t.m){t.m=!0;var e=t.Na;rd||_k(),id||(rd(),id=!0),fw.add(e,t),t.C=0}}function A5(t,e){return jk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Dd(yr(t.Na,t,e),rx(t,t.C)),t.C++,!0)}xe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Od(this,this.l,t);let s=this.s;if(this.U&&(s?(s=fk(s),pk(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Zk(this,i,e),n=Ds(this.I),tn(n,"RID",t),tn(n,"CVER",22),this.F&&tn(n,"X-HTTP-Session-Id",this.F),$d(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Qk(s)))+"&"+e:this.o&&_w(n,this.o,s)),ww(this.i,i),this.bb&&tn(n,"TYPE","init"),this.P?(tn(n,"$req",e),tn(n,"SID","null"),i.aa=!0,ly(i,n,null)):ly(i,n,e),this.H=2}}else this.H==3&&(t?oT(this,t):this.j.length==0||Bk(this.i)||oT(this))};function oT(t,e){var n;e?n=e.m:n=t.W++;const r=Ds(t.I);tn(r,"SID",t.K),tn(r,"RID",n),tn(r,"AID",t.V),$d(t,r),t.o&&t.s&&_w(r,t.o,t.s),n=new Od(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Zk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ww(t.i,n),ly(n,r,e)}function $d(t,e){t.na&&aw(t.na,function(n,r){tn(e,r,n)}),t.h&&Mk({},function(n,r){tn(e,r,n)})}function Zk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?yr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{b5(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ex(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;rd||_k(),id||(rd(),id=!0),fw.add(e,t),t.A=0}}function Ew(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Dd(yr(t.Ma,t),rx(t,t.A)),t.A++,!0)}xe.Ma=function(){if(this.u=null,tx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Dd(yr(this.jb,this),t)}};xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kr(10),pm(this),tx(this))};function Sw(t){t.B!=null&&(it.clearTimeout(t.B),t.B=null)}function tx(t){t.g=new Od(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ds(t.wa);tn(e,"RID","rpc"),tn(e,"SID",t.K),tn(e,"AID",t.V),tn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tn(e,"TO",t.qa),tn(e,"TYPE","xmlhttp"),$d(t,e),t.o&&t.s&&_w(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=dm(Ds(e)),n.s=null,n.S=!0,Dk(n,t)}xe.ib=function(){this.v!=null&&(this.v=null,pm(this),Ew(this),kr(19))};function Vf(t){t.v!=null&&(it.clearTimeout(t.v),t.v=null)}function nx(t,e){var n=null;if(t.g==e){Vf(t),Sw(t),t.g=null;var r=2}else if(cy(t.i,e))n=e.F,Hk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=am(),ir(r,new Ak(r,n)),mm(t)}else ex(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&A5(t,e)||r==2&&Ew(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:oa(t,5);break;case 4:oa(t,10);break;case 3:oa(t,6);break;default:oa(t,2)}}}function rx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=yr(t.pb,t);n||(n=new ha("//www.google.com/images/cleardot.gif"),it.location&&it.location.protocol=="http"||Uf(n,"https"),dm(n)),_5(n.toString(),r)}else kr(2);t.H=0,t.h&&t.h.za(e),ix(t),Jk(t)}xe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),kr(2)):(this.l.info("Failed to ping google.com"),kr(1))};function ix(t){if(t.H=0,t.ma=[],t.h){const e=Wk(t.i);(e.length!=0||t.j.length!=0)&&(Q1(t.ma,e),Q1(t.ma,t.j),t.i.i.length=0,sw(t.j),t.j.length=0),t.h.ya()}}function sx(t,e,n){var r=n instanceof ha?Ds(n):new ha(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ff(r,r.m);else{var i=it.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ha(null);r&&Uf(s,r),e&&(s.g=e),i&&Ff(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&tn(r,n,e),tn(r,"VER",t.ra),$d(t,r),r}function ox(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new wn(new Md({ob:!0})):new wn(t.va),e.Oa(t.J),e}xe.isActive=function(){return!!this.h&&this.h.isActive(this)};function ax(){}xe=ax.prototype;xe.Ba=function(){};xe.Aa=function(){};xe.za=function(){};xe.ya=function(){};xe.isActive=function(){return!0};xe.Va=function(){};function Bf(){if(Zl&&!(10<=Number(V4)))throw Error("Environmental error: no available transport.")}Bf.prototype.g=function(t,e){return new si(t,e)};function si(t,e){Yn.call(this),this.g=new Xk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!td(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!td(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Cu(this)}Kn(si,Yn);si.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;kr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sx(t,null,t.Y),mm(t)};si.prototype.close=function(){Tw(this.g)};si.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=hw(t),t=n);e.j.push(new g5(e.fb++,t)),e.H==3&&mm(e)};si.prototype.N=function(){this.g.h=null,delete this.j,Tw(this.g),delete this.g,si.$.N.call(this)};function lx(t){vw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kn(lx,vw);function ux(){yw.call(this),this.status=1}Kn(ux,yw);function Cu(t){this.g=t}Kn(Cu,ax);Cu.prototype.Ba=function(){ir(this.g,"a")};Cu.prototype.Aa=function(t){ir(this.g,new lx(t))};Cu.prototype.za=function(t){ir(this.g,new ux)};Cu.prototype.ya=function(){ir(this.g,"b")};function k5(){this.blockSize=-1}function Mi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kn(Mi,k5);Mi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ig(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Mi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ig(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ig(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ig(this,r),i=0;break}}this.h=i,this.i+=e};Mi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Wt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var x5={};function Cw(t){return-128<=t&&128>t?$4(t,function(e){return new Wt([e|0],0>e?-1:0)}):new Wt([t|0],0>t?-1:0)}function zi(t){if(isNaN(t)||!isFinite(t))return Nl;if(0>t)return Jn(zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dy;return new Wt(e,0)}function cx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Jn(cx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zi(Math.pow(e,8)),r=Nl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zi(Math.pow(e,s)),r=r.R(s).add(zi(o))):(r=r.R(n),r=r.add(zi(o)))}return r}var dy=4294967296,Nl=Cw(0),hy=Cw(1),aT=Cw(16777216);xe=Wt.prototype;xe.ea=function(){if(di(this))return-Jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dy+r)*e,e*=dy}return t};xe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ws(this))return"0";if(di(this))return"-"+Jn(this).toString(t);for(var e=zi(Math.pow(t,6)),n=this,r="";;){var i=Hf(n,e).g;n=jf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ws(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};xe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ws(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function di(t){return t.h==-1}xe.X=function(t){return t=jf(this,t),di(t)?-1:ws(t)?0:1};function Jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Wt(n,~t.h).add(hy)}xe.abs=function(){return di(this)?Jn(this):this};xe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Wt(n,n[n.length-1]&-2147483648?-1:0)};function jf(t,e){return t.add(Jn(e))}xe.R=function(t){if(ws(this)||ws(t))return Nl;if(di(this))return di(t)?Jn(this).R(Jn(t)):Jn(Jn(this).R(t));if(di(t))return Jn(this.R(Jn(t)));if(0>this.X(aT)&&0>t.X(aT))return zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Ch(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ch(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ch(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ch(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Wt(n,0)};function Ch(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fu(t,e){this.g=t,this.h=e}function Hf(t,e){if(ws(e))throw Error("division by zero");if(ws(t))return new Fu(Nl,Nl);if(di(t))return e=Hf(Jn(t),e),new Fu(Jn(e.g),Jn(e.h));if(di(e))return e=Hf(t,Jn(e)),new Fu(Jn(e.g),e.h);if(30<t.g.length){if(di(t)||di(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hy,r=e;0>=r.X(t);)n=lT(n),r=lT(r);var i=tl(n,1),s=tl(r,1);for(r=tl(r,2),n=tl(n,2);!ws(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=tl(r,1),n=tl(n,1)}return e=jf(t,i.R(e)),new Fu(i,e)}for(i=Nl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=zi(n),o=s.R(e);di(o)||0<o.X(t);)n-=r,s=zi(n),o=s.R(e);ws(s)&&(s=hy),i=i.add(s),t=jf(t,o)}return new Fu(i,t)}xe.gb=function(t){return Hf(this,t).h};xe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Wt(n,this.h&t.h)};xe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Wt(n,this.h|t.h)};xe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Wt(n,this.h^t.h)};function lT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Wt(n,t.h)}function tl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Wt(i,t.h)}Bf.prototype.createWebChannel=Bf.prototype.g;si.prototype.send=si.prototype.u;si.prototype.open=si.prototype.m;si.prototype.close=si.prototype.close;lm.NO_ERROR=0;lm.TIMEOUT=8;lm.HTTP_ERROR=6;kk.COMPLETE="complete";xk.EventType=Rd;Rd.OPEN="a";Rd.CLOSE="b";Rd.ERROR="c";Rd.MESSAGE="d";Yn.prototype.listen=Yn.prototype.O;wn.prototype.listenOnce=wn.prototype.P;wn.prototype.getLastError=wn.prototype.Sa;wn.prototype.getLastErrorCode=wn.prototype.Ia;wn.prototype.getStatus=wn.prototype.da;wn.prototype.getResponseJson=wn.prototype.Wa;wn.prototype.getResponseText=wn.prototype.ja;wn.prototype.send=wn.prototype.ha;wn.prototype.setWithCredentials=wn.prototype.Oa;Mi.prototype.digest=Mi.prototype.l;Mi.prototype.reset=Mi.prototype.reset;Mi.prototype.update=Mi.prototype.j;Wt.prototype.add=Wt.prototype.add;Wt.prototype.multiply=Wt.prototype.R;Wt.prototype.modulo=Wt.prototype.gb;Wt.prototype.compare=Wt.prototype.X;Wt.prototype.toNumber=Wt.prototype.ea;Wt.prototype.toString=Wt.prototype.toString;Wt.prototype.getBits=Wt.prototype.D;Wt.fromNumber=zi;Wt.fromString=cx;var P5=function(){return new Bf},D5=function(){return am()},Ag=lm,R5=kk,O5=ja,uT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},N5=Md,Ih=xk,M5=wn,L5=Mi,Ml=Wt;const cT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Tu("@firebase/firestore");function dT(){return Aa.logLevel}function He(t,...e){if(Aa.logLevel<=xt.DEBUG){const n=e.map(Iw);Aa.debug(`Firestore (${Iu}): ${t}`,...n)}}function Rs(t,...e){if(Aa.logLevel<=xt.ERROR){const n=e.map(Iw);Aa.error(`Firestore (${Iu}): ${t}`,...n)}}function eu(t,...e){if(Aa.logLevel<=xt.WARN){const n=e.map(Iw);Aa.warn(`Firestore (${Iu}): ${t}`,...n)}}function Iw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: `+t;throw Rs(e),new Error(e)}function rn(t,e){t||rt()}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lr.UNAUTHENTICATED))}shutdown(){}}class U5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F5{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new As;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new As,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new As)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rn(typeof r.accessToken=="string"),new dx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(e===null||typeof e=="string"),new lr(e)}}class V5{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class B5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new V5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rn(typeof n.token=="string"),this.T=n.token,new j5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=W5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Nt(t,e){return t<e?-1:t>e?1:0}function tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nn=class Jh{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jh.fromMillis(Date.now())}static fromDate(e){return Jh.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jh(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Nn(0,0))}static max(){return new ot(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx=class fy{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fy.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},_n=class Zh extends fx{construct(e,n,r){return new Zh(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Zh(n)}static emptyPath(){return new Zh([])}};const Y5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let ss=class fl extends fx{construct(e,n,r){return new fl(e,n,r)}static isValidIdentifier(e){return Y5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fl(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fl(n)}static emptyPath(){return new fl([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(_n.fromString(e))}static fromName(e){return new ze(_n.fromString(e).popFirst(5))}static empty(){return new ze(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new _n(e.slice()))}}function K5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new Nn(n+1,0):new Nn(n,r));return new ko(i,ze.empty(),e)}function z5(t){return new ko(t.readTime,t.key,-1)}class ko{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ko(ot.min(),ze.empty(),-1)}static max(){return new ko(ot.max(),ze.empty(),-1)}}function G5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let Q5=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==q5)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ce=class Lr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Lr((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Lr?n:Lr.resolve(n)}catch(n){return Lr.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Lr.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Lr.reject(n)}static resolve(e){return new Lr((n,r)=>{n(e)})}static reject(e){return new Lr((n,r)=>{r(e)})}static waitFor(e){return new Lr((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Lr.resolve(!1);for(const r of e)n=n.next(i=>i?Lr.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Lr((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Lr((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aw=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};Aw.ct=-1;function gm(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function X5(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function px(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pn=class py{constructor(e,n){this.comparator=e,this.root=n||go.EMPTY}insert(e,n){return new py(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new py(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}},Ah=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},go=class ps{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ps.RED,this.left=i??ps.EMPTY,this.right=s??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ps(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};go.EMPTY=null,go.RED=!0,go.BLACK=!1;go.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new go(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fT(this.data.getIterator())}getIteratorFrom(e){return new fT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}let fT=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(ss.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new br(ss.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi=class my{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mx("Invalid base64 string: "+i):i}}(e);return new my(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new my(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};oi.EMPTY_BYTE_STRING=new oi("");const J5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(t){if(rn(!!t),typeof t=="string"){let e=0;const n=J5.exec(t);if(rn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(t.seconds),nanos:kn(t.nanos)}}function kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ka(t){return typeof t=="string"?oi.fromBase64String(t):oi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xw(t){const e=t.mapValue.fields.__previous_value__;return kw(e)?xw(e):e}function ud(t){const e=xo(t.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class cd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kw(t)?4:e6(t)?9007199254740991:10:rt()}function os(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ud(t).isEqual(ud(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xo(r.timestampValue),o=xo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ka(r.bytesValue).isEqual(ka(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return kn(r.geoPointValue.latitude)===kn(i.geoPointValue.latitude)&&kn(r.geoPointValue.longitude)===kn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return kn(r.integerValue)===kn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=kn(r.doubleValue),o=kn(i.doubleValue);return s===o?Wf(s)===Wf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],os);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(hT(s)!==hT(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!os(s[a],o[a])))return!1;return!0}(t,e);default:return rt()}}function dd(t,e){return(t.values||[]).find(n=>os(n,e))!==void 0}function nu(t,e){if(t===e)return 0;const n=xa(t),r=xa(e);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=kn(i.integerValue||i.doubleValue),a=kn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return pT(t.timestampValue,e.timestampValue);case 4:return pT(ud(t),ud(e));case 5:return Nt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ka(i),a=ka(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Nt(o[l],a[l]);if(u!==0)return u}return Nt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Nt(kn(i.latitude),kn(s.latitude));return o!==0?o:Nt(kn(i.longitude),kn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=nu(o[l],a[l]);if(u)return u}return Nt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===kh.mapValue&&s===kh.mapValue)return 0;if(i===kh.mapValue)return 1;if(s===kh.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Nt(a[c],u[c]);if(d!==0)return d;const h=nu(o[a[c]],l[u[c]]);if(h!==0)return h}return Nt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw rt()}}function pT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);const n=xo(t),r=xo(e),i=Nt(n.seconds,r.seconds);return i!==0?i:Nt(n.nanos,r.nanos)}function ru(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ka(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ze.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=gy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${gy(r.fields[a])}`;return s+"}"}(t.mapValue):rt();var e,n}function mT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vy(t){return!!t&&"integerValue"in t}function Pw(t){return!!t&&"arrayValue"in t}function gT(t){return!!t&&"nullValue"in t}function vT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function Cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function e6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=ss.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ha(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fr(Cc(this.value))}}function gx(t){const e=[];return Ha(t.fields,(n,r)=>{const i=new ss([n]);if(ef(r)){const s=gx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ur(e,0,ot.min(),ot.min(),ot.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new ur(e,1,n,ot.min(),r,i,0)}static newNoDocument(e,n){return new ur(e,2,n,ot.min(),ot.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,ot.min(),ot.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf=class{constructor(e,n){this.position=e,this.inclusive=n}};function yT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ze.comparator(ze.fromName(o.referenceValue),n.key):r=nu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n="asc"){this.field=e,this.dir=n}}function t6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx=class{},jn=class yx extends vx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r6(e,n,r):n==="array-contains"?new o6(e,r):n==="in"?new a6(e,r):n==="not-in"?new l6(e,r):n==="array-contains-any"?new u6(e,r):new yx(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i6(e,r):new s6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nu(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison(nu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Os=class wx extends vx{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new wx(e,n)}matches(e){return bx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function bx(t){return t.op==="and"}function _x(t){return n6(t)&&bx(t)}function n6(t){for(const e of t.filters)if(e instanceof Os)return!1;return!0}function yy(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+ru(t.value);if(_x(t))return t.filters.map(e=>yy(e)).join(",");{const e=t.filters.map(n=>yy(n)).join(",");return`${t.op}(${e})`}}function Tx(t,e){return t instanceof jn?function(n,r){return r instanceof jn&&n.op===r.op&&n.field.isEqual(r.field)&&os(n.value,r.value)}(t,e):t instanceof Os?function(n,r){return r instanceof Os&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Tx(s,r.filters[o]),!0):!1}(t,e):void rt()}function Ex(t){return t instanceof jn?function(e){return`${e.field.canonicalString()} ${e.op} ${ru(e.value)}`}(t):t instanceof Os?function(e){return e.op.toString()+" {"+e.getFilters().map(Ex).join(" ,")+"}"}(t):"Filter"}let r6=class extends jn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}},i6=class extends jn{constructor(e,n){super(e,"in",n),this.keys=Sx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},s6=class extends jn{constructor(e,n){super(e,"not-in",n),this.keys=Sx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Sx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}let o6=class extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pw(n)&&dd(n.arrayValue,this.value)}},a6=class extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dd(this.value.arrayValue,n)}};class l6 extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dd(this.value.arrayValue,n)}}class u6 extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c6=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function bT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new c6(t,e,n,r,i,s,o)}function Dw(t){const e=ct(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),e.dt=n}return e.dt}function Rw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wT(t.startAt,e.startAt)&&wT(t.endAt,e.endAt)}function wy(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function d6(t,e,n,r,i,s,o,a){return new Au(t,e,n,r,i,s,o,a)}function Ow(t){return new Au(t)}function _T(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Cx(t){return t.collectionGroup!==null}function $l(t){const e=ct(t);if(e.wt===null){e.wt=[];const n=vm(e),r=Nw(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ll(n)),e.wt.push(new Ll(ss.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ll(ss.keyField(),s))}}}return e.wt}function Ns(t){const e=ct(t);if(!e._t)if(e.limitType==="F")e._t=bT(e.path,e.collectionGroup,$l(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of $l(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ll(s.field,o))}const r=e.endAt?new Yf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yf(e.startAt.position,e.startAt.inclusive):null;e._t=bT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function by(t,e){e.getFirstInequalityField(),vm(t);const n=t.filters.concat([e]);return new Au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kf(t,e,n){return new Au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ym(t,e){return Rw(Ns(t),Ns(e))&&t.limitType===e.limitType}function Ix(t){return`${Dw(Ns(t))}|lt:${t.limitType}`}function _y(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Ex(r)).join(", ")}]`),gm(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),`Target(${n})`}(Ns(t))}; limitType=${t.limitType})`}function wm(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ze.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of $l(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=yT(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,$l(n),r)||n.endAt&&!function(i,s,o){const a=yT(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,$l(n),r))}(t,e)}function h6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ax(t){return(e,n)=>{let r=!1;for(const i of $l(t)){const s=f6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function f6(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?nu(a,l):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return px(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new Pn(ze.comparator);function Ms(){return p6}const kx=new Pn(ze.comparator);function sc(...t){let e=kx;for(const n of t)e=e.insert(n.key,n);return e}function xx(t){let e=kx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function aa(){return Ic()}function Px(){return Ic()}function Ic(){return new ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const m6=new Pn(ze.comparator),g6=new br(ze.comparator);function gt(...t){let e=g6;for(const n of t)e=e.add(n);return e}const v6=new br(Nt);function y6(){return v6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function Rx(t){return{integerValue:""+t}}function w6(t,e){return X5(e)?Rx(e):Dx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this._=void 0}}function b6(t,e,n){return t instanceof zf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&kw(i)&&(i=xw(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof hd?Nx(t,e):t instanceof fd?Mx(t,e):function(r,i){const s=Ox(r,i),o=TT(s)+TT(r.gt);return vy(s)&&vy(r.gt)?Rx(o):Dx(r.serializer,o)}(t,e)}function _6(t,e,n){return t instanceof hd?Nx(t,e):t instanceof fd?Mx(t,e):n}function Ox(t,e){return t instanceof Gf?vy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class zf extends bm{}class hd extends bm{constructor(e){super(),this.elements=e}}function Nx(t,e){const n=Lx(e);for(const r of t.elements)n.some(i=>os(i,r))||n.push(r);return{arrayValue:{values:n}}}class fd extends bm{constructor(e){super(),this.elements=e}}function Mx(t,e){let n=Lx(e);for(const r of t.elements)n=n.filter(i=>!os(i,r));return{arrayValue:{values:n}}}class Gf extends bm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function TT(t){return kn(t.integerValue||t.doubleValue)}function Lx(t){return Pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function T6(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof hd&&r instanceof hd||n instanceof fd&&r instanceof fd?tu(n.elements,r.elements,os):n instanceof Gf&&r instanceof Gf?os(n.gt,r.gt):n instanceof zf&&r instanceof zf}(t.transform,e.transform)}class E6{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _m{}function $x(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mw(t.key,mi.none()):new Vd(t.key,t.data,mi.none());{const n=t.data,r=Fr.empty();let i=new br(ss.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Uo(t.key,r,new Zr(i.toArray()),mi.none())}}function S6(t,e,n){t instanceof Vd?function(r,i,s){const o=r.value.clone(),a=ST(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Uo?function(r,i,s){if(!tf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ST(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Ux(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,r){return t instanceof Vd?function(i,s,o,a){if(!tf(i.precondition,s))return o;const l=i.value.clone(),u=CT(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uo?function(i,s,o,a){if(!tf(i.precondition,s))return o;const l=CT(i.fieldTransforms,a,s),u=s.data;return u.setAll(Ux(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return tf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function C6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ox(r.transform,i||null);s!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,s))}return n||null}function ET(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&tu(n,r,(i,s)=>T6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vd extends _m{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends _m{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ux(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ST(t,e,n){const r=new Map;rn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_6(o,a,n[i]))}return r}function CT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,b6(s,o,e))}return r}class Mw extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I6 extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&S6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Px();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$x(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(n,r)=>ET(n,r))&&tu(this.baseMutations,e.baseMutations,(n,r)=>ET(n,r))}}class Lw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rn(e.mutations.length===r.length);let i=m6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,_t;function P6(t){switch(t){default:return rt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function Fx(t){if(t===void 0)return Rs("GRPC error has no .code"),me.UNKNOWN;switch(t){case In.OK:return me.OK;case In.CANCELLED:return me.CANCELLED;case In.UNKNOWN:return me.UNKNOWN;case In.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case In.INTERNAL:return me.INTERNAL;case In.UNAVAILABLE:return me.UNAVAILABLE;case In.UNAUTHENTICATED:return me.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case In.NOT_FOUND:return me.NOT_FOUND;case In.ALREADY_EXISTS:return me.ALREADY_EXISTS;case In.PERMISSION_DENIED:return me.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case In.ABORTED:return me.ABORTED;case In.OUT_OF_RANGE:return me.OUT_OF_RANGE;case In.UNIMPLEMENTED:return me.UNIMPLEMENTED;case In.DATA_LOSS:return me.DATA_LOSS;default:return rt()}}(_t=In||(In={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xh}static getOrCreateInstance(){return xh===null&&(xh=new $w),xh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new Ml([4294967295,4294967295],0);function IT(t){const e=D6().encode(t),n=new L5;return n.update(e),new Uint8Array(n.digest())}function AT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ml([n,r],0),new Ml([i,s],0)]}class Uw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ml.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ml.fromNumber(r)));return i.compare(R6)===1&&(i=new Ml([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=IT(e),[r,i]=AT(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Uw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=IT(e),[r,i]=AT(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tm(ot.min(),i,new Pn(Nt),Ms(),gt())}}class Bd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bd(r,n,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Vx{constructor(e,n){this.targetId=e,this.Vt=n}}class Bx{constructor(e,n,r=oi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kT{constructor(){this.St=0,this.Dt=PT(),this.Ct=oi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=gt(),n=gt(),r=gt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Bd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=PT()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class O6{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ms(),this.zt=xT(),this.Wt=new Pn(Nt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(wy(o))if(i===0){const a=new ze(o.path);this.Yt(r,a,ur.newNoDocument(a,ot.min()))}else rn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=$w.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,p,g,y,T;const v={localCacheCount:c,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(v.bloomFilter={applied:u===0,hashCount:(h=_==null?void 0:_.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(g=(p=(f=_==null?void 0:_.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0,padding:(T=(y=_==null?void 0:_.bits)===null||y===void 0?void 0:y.padding)!==null&&T!==void 0?T:0}),v}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=ka(s).toUint8Array()}catch(c){if(c instanceof mx)return eu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Uw(l,o,a)}catch(c){return eu(c instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&wy(a.target)){const l=new ze(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,ur.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=gt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Tm(e,n,this.Wt,this.jt,r);return this.jt=Ms(),this.zt=xT(),this.Wt=new Pn(Nt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new kT,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new br(Nt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||He("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new kT),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function xT(){return new Pn(ze.comparator)}function PT(){return new Pn(ze.comparator)}const N6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),M6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),L6=(()=>({and:"AND",or:"OR"}))();class $6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ty(t,e){return t.useProto3Json||gm(e)?e:{value:e}}function qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U6(t,e){return qf(t,e.toTimestamp())}function Zi(t){return rn(!!t),ot.fromTimestamp(function(e){const n=xo(e);return new Nn(n.seconds,n.nanos)}(t))}function Fw(t,e){return function(n){return new _n(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Hx(t){const e=_n.fromString(t);return rn(zx(e)),e}function Ey(t,e){return Fw(t.databaseId,e.path)}function kg(t,e){const n=Hx(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(Wx(n))}function Sy(t,e){return Fw(t.databaseId,e)}function F6(t){const e=Hx(t);return e.length===4?_n.emptyPath():Wx(e)}function Cy(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wx(t){return rn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DT(t,e,n){return{name:Ey(t,e),fields:n.value.mapValue.fields}}function V6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(rn(u===void 0||typeof u=="string"),oi.fromBase64String(u||"")):(rn(u===void 0||u instanceof Uint8Array),oi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?me.UNKNOWN:Fx(l.code);return new Oe(u,l.message||"")}(o);n=new Bx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kg(t,r.document.name),s=Zi(r.document.updateTime),o=r.document.createTime?Zi(r.document.createTime):ot.min(),a=new Fr({mapValue:{fields:r.document.fields}}),l=ur.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new nf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kg(t,r.document),s=r.readTime?Zi(r.readTime):ot.min(),o=ur.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kg(t,r.document),s=r.removedTargetIds||[];n=new nf([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new x6(i,s),a=r.targetId;n=new Vx(a,o)}}return n}function B6(t,e){let n;if(e instanceof Vd)n={update:DT(t,e.key,e.value)};else if(e instanceof Mw)n={delete:Ey(t,e.key)};else if(e instanceof Uo)n={update:DT(t,e.key,e.data),updateMask:Q6(e.fieldMask)};else{if(!(e instanceof I6))return rt();n={verify:Ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof zf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof hd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof fd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gf)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:U6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:rt()}(t,e.precondition)),n}function j6(t,e){return t&&t.length>0?(rn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Zi(r.updateTime):Zi(i);return s.isEqual(ot.min())&&(s=Zi(i)),new E6(s,r.transformResults||[])}(n,e))):[]}function H6(t,e){return{documents:[Sy(t,e.path)]}}function W6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Sy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Kx(Os.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:pl(c.field),direction:z6(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ty(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Y6(t){let e=F6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Yx(c);return d instanceof Os&&_x(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Ll(ml(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,gm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Yf(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Yf(h,d)}(n.endAt)),d6(e,i,o,s,a,"F",l,u)}function K6(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ml(e.unaryFilter.field);return jn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ml(e.unaryFilter.field);return jn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ml(e.unaryFilter.field);return jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ml(e.unaryFilter.field);return jn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(e){return jn.create(ml(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Os.create(e.compositeFilter.filters.map(n=>Yx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(t):rt()}function z6(t){return N6[t]}function G6(t){return M6[t]}function q6(t){return L6[t]}function pl(t){return{fieldPath:t.canonicalString()}}function ml(t){return ss.fromServerFormat(t.fieldPath)}function Kx(t){return t instanceof jn?function(e){if(e.op==="=="){if(vT(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NAN"}};if(gT(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(vT(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NOT_NAN"}};if(gT(e.value))return{unaryFilter:{field:pl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(e.field),op:G6(e.op),value:e.value}}}(t):t instanceof Os?function(e){const n=e.getFilters().map(r=>Kx(r));return n.length===1?n[0]:{compositeFilter:{op:q6(e.op),filters:n}}}(t):rt()}function Q6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vw=class ac{constructor(e,n,r,i,s=ot.min(),o=ot.min(),a=oi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.fe=e}}function J6(t){const e=Y6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z6=class{constructor(){this.rn=new eV}addToCollectionParentIndex(e,n){return this.rn.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(ko.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}},eV=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new br(_n.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new br(_n.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy=class Ay{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ay(0)}static Mn(){return new Ay(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tV=class{constructor(){this.changes=new ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rV=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ac(r.mutation,i,Zr.empty(),Nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=gt()){const i=aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,gt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ms();const o=Ic(),a=Ic();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Uo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ac(c.mutation,u,c.mutation.getFieldMask(),Nn.now())):o.set(u.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new nV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ic();let i=new Pn((o,a)=>o-a),s=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||gt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Px();c.forEach(h=>{if(!s.has(h)){const f=$x(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ze.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(aa());let a=-1,l=s;return o.next(u=>Ce.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,gt())).next(c=>({batchId:a,changes:xx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=sc();return this.indexManager.getCollectionParents(e,i).next(o=>Ce.forEach(o,a=>{const l=function(u,c){return new Au(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ur.newInvalidDocument(u)))});let o=sc();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ac(u.mutation,l,Zr.empty(),Nn.now()),wm(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iV=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ce.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Zi(r.createTime)}),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:J6(r.bundledQuery),readTime:Zi(r.readTime)}}(n)),Ce.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sV=class{constructor(){this.overlays=new Pn(ze.comparator),this.ls=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=aa(),s=n.length+1,o=new ze(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=aa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=aa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ce.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new k6(n,r));let s=this.ls.get(n);s===void 0&&(s=gt(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.fs=new br(Vn.ds),this.ws=new br(Vn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Vn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Vn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ze(new _n([])),r=new Vn(n,e),i=new Vn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ze(new _n([])),r=new Vn(n,e),i=new Vn(n,e+1);let s=gt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Vn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ze.comparator(e.key,n.key)||Nt(e.As,n.As)}static _s(e,n){return Nt(e.As,n.As)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new br(Vn.ds)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new A6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Vn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vn(n,0),i=new Vn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(Nt);return n.forEach(i=>{const s=new Vn(i,0),o=new Vn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Ce.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ze.isDocumentKey(s)||(s=s.child(""));const o=new Vn(new ze(s),0);let a=new br(Nt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Ce.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Ce.forEach(n.mutations,i=>{const s=new Vn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Vn(n,0),i=this.Rs.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.Ds=e,this.docs=new Pn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let r=Ms();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ur.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ms();const o=n.path,a=new ze(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||G5(z5(c),r)<=0||(i.has(c.key)||wm(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Cs(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lV(this)}getSize(e){return Ce.resolve(this.size)}}class lV extends tV{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.persistence=e,this.xs=new ku(n=>Dw(n),Rw),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bw,this.targetCount=0,this.Ms=Iy.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ce.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Iy(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Fn(n),Ce.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.$s={},this.overlays={},this.Os=new Aw(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uV(this),this.indexManager=new Z6,this.remoteDocumentCache=function(r){return new aV(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new X6(n),this.qs=new iV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new oV(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){He("MemoryPersistence","Starting transaction:",e);const i=new dV(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Ce.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class dV extends Q5{constructor(e){super(),this.currentSequenceNumber=e}}class jw{constructor(e){this.persistence=e,this.Qs=new Bw,this.js=null}static zs(e){return new jw(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ws,r=>{const i=ze.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ot.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ce.or([()=>Ce.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=gt(),i=gt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(_T(n))return Ce.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kf(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=gt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Kf(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return _T(n)||i.isEqual(ot.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(dT()<=xt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_y(n)),this.Wi(e,o,n,K5(i,-1)))})}ji(e,n){let r=new br(Ax(e));return n.forEach((i,s)=>{wm(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return dT()<=xt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",_y(n)),this.Ui.getDocumentsMatchingQuery(e,n,ko.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Pn(Nt),this.Yi=new ku(s=>Dw(s),Rw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function pV(t,e,n,r){return new fV(t,e,n,r)}async function Gx(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=gt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function mV(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=Ce.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);rn(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=gt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qx(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function gV(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(oi.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,g,y){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=Ms(),u=gt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(vV(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ot.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function vV(t,e,n){let r=gt(),i=gt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ms();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ot.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):He("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function yV(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wV(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Vw(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function ky(t,e,n){const r=ct(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fd(o))throw o;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function RT(t,e,n){const r=ct(t);let i=ot.min(),s=gt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ct(a),d=c.Yi.get(u);return d!==void 0?Ce.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,Ns(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ot.min(),n?s:gt())).next(a=>(bV(r,h6(e),a),{documents:a,ir:s})))}function bV(t,e,n){let r=t.Xi.get(e)||ot.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class OT{constructor(){this.activeTargetIds=y6()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _V{constructor(){this.Hr=new OT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new OT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function xg(){return Ph===null?Ph=268435456+Math.round(2147483648*Math.random()):Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class CV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=xg(),a=this.To(e,n);He("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(He("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw eu("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Iu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=EV[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=xg();return new Promise((o,a)=>{const l=new M5;l.setWithCredentials(!0),l.listenOnce(R5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ag.NO_ERROR:const c=l.getResponseJson();He(sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ag.TIMEOUT:He(sr,`RPC '${e}' ${s} timed out`),a(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Ag.HTTP_ERROR:const d=l.getStatus();if(He(sr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(y)>=0?y:me.UNKNOWN}(f.status);a(new Oe(p,f.message))}else a(new Oe(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{He(sr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);He(sr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=xg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=P5(),a=D5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new N5({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");He(sr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new SV({ro:y=>{f?He(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(He(sr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),He(sr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,T,v)=>{y.listen(T,_=>{try{v(_)}catch(m){setTimeout(()=>{throw m},0)}})};return g(d,Ih.EventType.OPEN,()=>{f||He(sr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ih.EventType.CLOSE,()=>{f||(f=!0,He(sr,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Ih.EventType.ERROR,y=>{f||(f=!0,eu(sr,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ih.EventType.MESSAGE,y=>{var T;if(!f){const v=y.data[0];rn(!!v);const _=v,m=_.error||((T=_[0])===null||T===void 0?void 0:T.error);if(m){He(sr,`RPC '${e}' stream ${i} received error:`,m);const w=m.status;let E=function(k){const A=In[k];if(A!==void 0)return Fx(A)}(w),L=m.message;E===void 0&&(E=me.INTERNAL,L="Unknown error status: "+w+" with message "+m.message),f=!0,p.wo(new Oe(E,L)),d.close()}else He(sr,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),g(a,O5.STAT_EVENT,y=>{y.stat===uT.PROXY?He(sr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===uT.NOPROXY&&He(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){return new $6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Qx(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Rs(n.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Oe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IV extends Xx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=V6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ot.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ot.min():s.readTime?Zi(s.readTime):ot.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cy(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=wy(a)?{documents:H6(i,a)}:{query:W6(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=jx(i,s.resumeToken);const l=Ty(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ot.min())>0){o.readTime=qf(i,s.snapshotVersion.toTimestamp());const l=Ty(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=K6(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cy(this.serializer),n.removeTarget=e,this.Wo(n)}}class AV extends Xx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=j6(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.cu(r,n)}return rn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cy(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>B6(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class xV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Rs(n),this.mu=!1):He("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Wa(this)&&(He("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ct(a);l.vu.add(4),await jd(l),l.bu.set("Unknown"),l.vu.delete(4),await Sm(l)}(this))})}),this.bu=new xV(r,i)}}async function Sm(t){if(Wa(t))for(const e of t.Ru)await e(!0)}async function jd(t){for(const e of t.Ru)await e(!1)}function Jx(t,e){const n=ct(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Kw(n)?Yw(n):xu(n).Ko()&&Ww(n,e))}function Zx(t,e){const n=ct(t),r=xu(n);n.Au.delete(e),r.Ko()&&eP(n,e),n.Au.size===0&&(r.Ko()?r.jo():Wa(n)&&n.bu.set("Unknown"))}function Ww(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xu(t).su(e)}function eP(t,e){t.Vu.qt(e),xu(t).iu(e)}function Yw(t){t.Vu=new O6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),xu(t).start(),t.bu.gu()}function Kw(t){return Wa(t)&&!xu(t).Uo()&&t.Au.size>0}function Wa(t){return ct(t).vu.size===0}function tP(t){t.Vu=void 0}async function DV(t){t.Au.forEach((e,n)=>{Ww(t,e)})}async function RV(t,e){tP(t),Kw(t)?(t.bu.Iu(e),Yw(t)):t.bu.set("Unknown")}async function OV(t,e,n){if(t.bu.set("Online"),e instanceof Bx&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qf(t,r)}else if(e instanceof nf?t.Vu.Ht(e):e instanceof Vx?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ot.min()))try{const r=await qx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(oi.EMPTY_BYTE_STRING,u.snapshotVersion)),eP(i,a);const c=new Vw(u.target,a,l,u.sequenceNumber);Ww(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){He("RemoteStore","Failed to raise snapshot:",r),await Qf(t,r)}}async function Qf(t,e,n){if(!Fd(e))throw e;t.vu.add(1),await jd(t),t.bu.set("Offline"),n||(n=()=>qx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{He("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Sm(t)})}function nP(t,e){return e().catch(n=>Qf(t,n,e))}async function Cm(t){const e=ct(t),n=Po(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;NV(e);)try{const i=await yV(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,MV(e,i)}catch(i){await Qf(e,i)}rP(e)&&iP(e)}function NV(t){return Wa(t)&&t.Eu.length<10}function MV(t,e){t.Eu.push(e);const n=Po(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function rP(t){return Wa(t)&&!Po(t).Uo()&&t.Eu.length>0}function iP(t){Po(t).start()}async function LV(t){Po(t).hu()}async function $V(t){const e=Po(t);for(const n of t.Eu)e.uu(n.mutations)}async function UV(t,e,n){const r=t.Eu.shift(),i=Lw.from(r,e,n);await nP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cm(t)}async function FV(t,e){e&&Po(t).ou&&await async function(n,r){if(i=r.code,P6(i)&&i!==me.ABORTED){const s=n.Eu.shift();Po(n).Qo(),await nP(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Cm(n)}var i}(t,e),rP(t)&&iP(t)}async function MT(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Wa(n);n.vu.add(3),await jd(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Sm(n)}async function VV(t,e){const n=ct(t);e?(n.vu.delete(2),await Sm(n)):e||(n.vu.add(2),await jd(n),n.bu.set("Unknown"))}function xu(t){return t.Su||(t.Su=function(e,n,r){const i=ct(e);return i.fu(),new IV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:DV.bind(null,t),ao:RV.bind(null,t),nu:OV.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Kw(t)?Yw(t):t.bu.set("Unknown")):(await t.Su.stop(),tP(t))})),t.Su}function Po(t){return t.Du||(t.Du=function(e,n,r){const i=ct(e);return i.fu(),new AV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:LV.bind(null,t),ao:FV.bind(null,t),au:$V.bind(null,t),cu:UV.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Cm(t)):(await t.Du.stop(),t.Eu.length>0&&(He("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gw(t,e){if(Rs("AsyncQueue",`${e}: ${t}`),Fd(t))return new Oe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.Cu=new Pn(ze.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class iu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new iu(e,n,Ul.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.Nu=void 0,this.listeners=[]}}class jV{constructor(){this.queries=new ku(e=>Ix(e),ym),this.onlineState="Unknown",this.ku=new Set}}async function sP(t,e){const n=ct(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new BV),i)try{s.Nu=await n.onListen(r)}catch(o){const a=Gw(o,`Initialization of query '${_y(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&qw(n)}async function oP(t,e){const n=ct(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function HV(t,e){const n=ct(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&qw(n)}function WV(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function qw(t){t.ku.forEach(e=>{e.next()})}class aP{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.key=e}}class uP{constructor(e){this.key=e}}class YV{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gt(),this.mutatedKeys=gt(),this.tc=Ax(e),this.ec=new Ul(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new LT,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=wm(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new iu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new LT,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new uP(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new lP(r))}),n}hc(e){this.Yu=e.ir,this.Zu=gt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return iu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class KV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zV{constructor(e){this.key=e,this.fc=!1}}class GV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ku(a=>Ix(a),ym),this._c=new Map,this.mc=new Set,this.gc=new Pn(ze.comparator),this.yc=new Map,this.Ic=new Bw,this.Tc={},this.Ec=new Map,this.Ac=Iy.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function qV(t,e){const n=sB(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await wV(n.localStore,Ns(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await QV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Jx(n.remoteStore,o)}return i}async function QV(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,g,y,T){let v=g.view.sc(y);v.zi&&(v=await RT(p.localStore,g.query,!1).then(({documents:w})=>g.view.sc(w,v)));const _=T&&T.targetChanges.get(g.targetId),m=g.view.applyChanges(v,p.isPrimaryClient,_);return UT(p,g.targetId,m.cc),m.snapshot}(t,d,h,f);const s=await RT(t.localStore,e,!0),o=new YV(e,s.ir),a=o.sc(s.documents),l=Bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);UT(t,n,u.cc);const c=new KV(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function XV(t,e){const n=ct(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ym(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ky(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Zx(n.remoteStore,r.targetId),xy(n,r.targetId)}).catch(Ud)):(xy(n,r.targetId),await ky(n.localStore,r.targetId,!0))}async function JV(t,e,n){const r=oB(t);try{const i=await function(s,o){const a=ct(s),l=Nn.now(),u=o.reduce((h,f)=>h.add(f.key),gt());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ms(),p=gt();return a.Zi.getEntries(h,u).next(g=>{f=g,f.forEach((y,T)=>{T.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const y=[];for(const T of o){const v=C6(T,c.get(T.key).overlayedDocument);v!=null&&y.push(new Uo(T.key,v,gx(v.value.mapValue),mi.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:xx(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Pn(Nt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Hd(r,i.changes),await Cm(r.remoteStore)}catch(i){const s=Gw(i,"Failed to persist write");n.reject(s)}}async function cP(t,e){const n=ct(t);try{const r=await gV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?rn(o.fc):i.removedDocuments.size>0&&(rn(o.fc),o.fc=!1))}),await Hd(n,r,e)}catch(r){await Ud(r)}}function $T(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ct(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&qw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Pn(ze.comparator);o=o.insert(s,ur.newNoDocument(s,ot.min()));const a=gt().add(s),l=new Tm(ot.min(),new Map,new Pn(Nt),o,a);await cP(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Qw(r)}else await ky(r.localStore,e,!1).then(()=>xy(r,e,n)).catch(Ud)}async function eB(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await mV(n.localStore,e);hP(n,r,null),dP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hd(n,i)}catch(i){await Ud(i)}}async function tB(t,e,n){const r=ct(t);try{const i=await function(s,o){const a=ct(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(rn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);hP(r,e,n),dP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hd(r,i)}catch(i){await Ud(i)}}function dP(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function hP(t,e,n){const r=ct(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function xy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||fP(t,r)})}function fP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Zx(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Qw(t))}function UT(t,e,n){for(const r of n)r instanceof lP?(t.Ic.addReference(r.key,e),nB(t,r)):r instanceof uP?(He("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||fP(t,r.key)):rt()}function nB(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(He("SyncEngine","New document in limbo: "+n),t.mc.add(r),Qw(t))}function Qw(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ze(_n.fromString(e)),r=t.Ac.next();t.yc.set(r,new zV(n)),t.gc=t.gc.insert(n,r),Jx(t.remoteStore,new Vw(Ns(Ow(n.path)),r,"TargetPurposeLimboResolution",Aw.ct))}}async function Hd(t,e,n){const r=ct(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Hw.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=ct(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Ce.forEach(l,d=>Ce.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>Ce.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Fd(c))throw c;He("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function rB(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=await Gx(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Oe(me.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hd(n,r.er)}}function iB(t,e){const n=ct(t),r=n.yc.get(e);if(r&&r.fc)return gt().add(r.key);{let i=gt();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function sB(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.dc.nu=HV.bind(null,e.eventManager),e.dc.Pc=WV.bind(null,e.eventManager),e}function oB(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tB.bind(null,e),e}let FT=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pV(this.persistence,new hV,e.initialUser,this.serializer)}createPersistence(e){return new cV(jw.zs,this.serializer)}createSharedClientState(e){return new _V}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},aB=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rB.bind(null,this.syncEngine),await VV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jV}createDatastore(e){const n=Em(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new CV(i));var i;return function(s,o,a,l){return new kV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>$T(this.syncEngine,a,0),o=NT.D()?new NT:new TV,new PV(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new GV(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ct(e);He("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await jd(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pP=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=hx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{He("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(He("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dg(t,e){t.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Gx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cB(t);He("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>MT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>MT(e.remoteStore,s)),t._onlineComponents=e}function uB(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function cB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uB(n))throw n;eu("Error using user provided cache. Falling back to memory cache: "+n),await Dg(t,new FT)}}else He("FirestoreClient","Using default OfflineComponentProvider"),await Dg(t,new FT);return t._offlineComponents}async function mP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),await VT(t,t._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),await VT(t,new aB))),t._onlineComponents}function dB(t){return mP(t).then(e=>e.syncEngine)}async function gP(t){const e=await mP(t),n=e.eventManager;return n.onListen=qV.bind(null,e.syncEngine),n.onUnlisten=XV.bind(null,e.syncEngine),n}function hB(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new pP({next:d=>{s.enqueueAndForget(()=>oP(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new aP(Ow(o.path),u,{includeMetadataChanges:!0,Ku:!0});return sP(i,c)}(await gP(t),t.asyncQueue,e,n,r)),r.promise}function fB(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new pP({next:d=>{s.enqueueAndForget(()=>oP(i,c)),d.fromCache&&a.source==="server"?l.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new aP(o,u,{includeMetadataChanges:!0,Ku:!0});return sP(i,c)}(await gP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e,n){if(!n)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pB(t,e,n,r){if(e===!0&&r===!0)throw new Oe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jT(t){if(!ze.isDocumentKey(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HT(t){if(ze.isDocumentKey(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function Li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Im(t);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mB(t,e){if(e<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Am{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $5;switch(n.type){case"firstParty":return new B5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=BT.get(e);n&&(He("ComponentProvider","Removing Datastore"),BT.delete(e),n.terminate())}(this),Promise.resolve()}}function gB(t,e,n,r={}){var i;const s=(t=Li(t,Am))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=lr.MOCK_USER;else{a=lA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lr(u)}t._authCredentials=new U5(new dx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class Fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class vo extends Fo{constructor(e,n,r){super(e,n,Ow(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new ze(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function Ti(t,e,...n){if(t=Ft(t),yP("collection","path",e),t instanceof Am){const r=_n.fromString(e,...n);return HT(r),new vo(t,null,r)}{if(!(t instanceof xr||t instanceof vo))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return HT(r),new vo(t.firestore,null,r)}}function Vt(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=hx.A()),yP("doc","path",e),t instanceof Am){const r=_n.fromString(e,...n);return jT(r),new xr(t,null,new ze(r))}{if(!(t instanceof xr||t instanceof vo))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return jT(r),new xr(t.firestore,t instanceof vo?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Qx(this,"async_queue_retry"),this.Xc=()=>{const n=Pg();n&&He("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Pg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new As;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Fd(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Rs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=zw.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ya extends Am{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wP(this),this._firestoreClient.terminate()}}function yB(t,e){const n=typeof t=="object"?t:Eu(),r=typeof t=="string"?t:e||"(default)",i=cs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sA("firestore");s&&gB(i,...s)}return i}function Xw(t){return t._firestoreClient||wP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wP(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new Z5(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,vP(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new lB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(oi.fromBase64String(e))}catch(n){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new su(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=/^__.*__$/;class bB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vd(e,this.data,n,this.fieldTransforms)}}class bP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _P(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class eb{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new eb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(_P(this.ca)&&wB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _B{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Em(e)}ya(e,n,r,i=!1){return new eb({ca:e,methodName:n,ga:r,path:ss.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xm(t){const e=t._freezeSettings(),n=Em(t._databaseId);return new _B(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TP(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);tb("Data must be an object, but it was:",o,r);const a=CP(r,o);let l,u;if(s.merge)l=new Zr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Py(e,d,n);if(!o.contains(h))throw new Oe(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AP(c,h)||c.push(h)}l=new Zr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new bB(new Fr(a),l,u)}let EP=class SP extends Jw{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof SP}};function TB(t,e,n,r){const i=t.ya(1,e,n);tb("Data must be an object, but it was:",i,r);const s=[],o=Fr.empty();Ha(r,(l,u)=>{const c=nb(e,l,n);u=Ft(u);const d=i.da(c);if(u instanceof EP)s.push(c);else{const h=Wd(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Zr(s);return new bP(o,a,i.fieldTransforms)}function EB(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Py(e,r,n)],l=[i];if(s.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Py(e,s[h])),l.push(s[h+1]);const u=[],c=Fr.empty();for(let h=a.length-1;h>=0;--h)if(!AP(u,a[h])){const f=a[h];let p=l[h];p=Ft(p);const g=o.da(f);if(p instanceof EP)u.push(f);else{const y=Wd(p,g);y!=null&&(u.push(f),c.set(f,y))}}const d=new Zr(u);return new bP(c,d,o.fieldTransforms)}function SB(t,e,n,r=!1){return Wd(n,t.ya(r?4:3,e))}function Wd(t,e){if(IP(t=Ft(t)))return tb("Unsupported field value:",e,t),CP(t,e);if(t instanceof Jw)return function(n,r){if(!_P(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Wd(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return w6(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Nn.fromDate(n);return{timestampValue:qf(r.serializer,i)}}if(n instanceof Nn){const i=new Nn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qf(r.serializer,i)}}if(n instanceof Zw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof su)return{bytesValue:jx(r.serializer,n._byteString)};if(n instanceof xr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Im(n)}`)}(t,e)}function CP(t,e){const n={};return px(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(r,i)=>{const s=Wd(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof Zw||t instanceof su||t instanceof xr||t instanceof Jw)}function tb(t,e,n){if(!IP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Im(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Py(t,e,n){if((e=Ft(e))instanceof km)return e._internalPath;if(typeof e=="string")return nb(t,e);throw Xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const CB=new RegExp("[~\\*/\\[\\]]");function nb(t,e,n){if(e.search(CB)>=0)throw Xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw Xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Oe(me.INVALID_ARGUMENT,a+t+l)}function AP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kP=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},IB=class extends kP{data(){return super.data()}};function Pm(t,e){return typeof e=="string"?nb(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let rb=class{},ib=class extends rb{};function kB(t,e,...n){let r=[];e instanceof rb&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof xB).length,o=i.filter(a=>a instanceof xP).length;if(s>1||s>0&&o>0)throw new Oe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let xP=class PP extends ib{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new PP(e,n,r)}_apply(e){const n=this._parse(e);return NP(e._query,n),new Fo(e.firestore,e.converter,by(e._query,n))}_parse(e){const n=xm(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qT(c,u);const h=[];for(const f of c)h.push(GT(a,i,f));d={arrayValue:{values:h}}}else d=GT(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qT(c,u),d=SB(o,s,c,u==="in"||u==="not-in");return jn.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function YT(t,e,n){const r=e,i=Pm("where",t);return xP._create(i,r,n)}let xB=class DP extends rb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DP(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)NP(s,a),s=by(s,a)}(e._query,n),new Fo(e.firestore,e.converter,by(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},PB=class RP extends ib{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new RP(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ll(i,s);return function(a,l){if(Nw(a)===null){const u=vm(a);u!==null&&MP(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Au(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function KT(t,e="asc"){const n=e,r=Pm("orderBy",t);return PB._create(r,n)}let DB=class OP extends ib{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new OP(e,n,r)}_apply(e){return new Fo(e.firestore,e.converter,Kf(e._query,this._limit,this._limitType))}};function zT(t){return mB("limit",t),DB._create("limit",t,"F")}function GT(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cx(e)&&n.indexOf("/")!==-1)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_n.fromString(n));if(!ze.isDocumentKey(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mT(t,new ze(r))}if(n instanceof xr)return mT(t,n._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(n)}.`)}function qT(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NP(t,e){if(e.isInequality()){const r=vm(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Nw(t);s!==null&&MP(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Oe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function MP(t,e,n){if(!n.isEqual(e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let RB=class{convertValue(e,n="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ha(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zw(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const n=xo(e);return new Nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);rn(zx(r));const i=new cd(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return i.isEqual(n)||Rs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $P extends kP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rf extends $P{data(e={}){return super.data(e)}}class OB{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rf(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new rf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new lc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new rf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new lc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:NB(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){t=Li(t,xr);const e=Li(t.firestore,Ya);return hB(Xw(e),t._key).then(n=>BB(e,t,n))}class UP extends RB{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,n)}}function LB(t){t=Li(t,Fo);const e=Li(t.firestore,Ya),n=Xw(e),r=new UP(e);return AB(t._query),fB(n,t._query).then(i=>new OB(e,r,t,i))}function $B(t,e,n){t=Li(t,xr);const r=Li(t.firestore,Ya),i=LP(t.converter,e,n);return Dm(r,[TP(xm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mi.none())])}function UB(t,e,n,...r){t=Li(t,xr);const i=Li(t.firestore,Ya),s=xm(i);let o;return o=typeof(e=Ft(e))=="string"||e instanceof km?EB(s,"updateDoc",t._key,e,n,r):TB(s,"updateDoc",t._key,e),Dm(i,[o.toMutation(t._key,mi.exists(!0))])}function FB(t){return Dm(Li(t.firestore,Ya),[new Mw(t._key,mi.none())])}function VB(t,e){const n=Li(t.firestore,Ya),r=Vt(t),i=LP(t.converter,e);return Dm(n,[TP(xm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mi.exists(!1))]).then(()=>r)}function Dm(t,e){return function(n,r){const i=new As;return n.asyncQueue.enqueueAndForget(async()=>JV(await dB(n),r,i)),i.promise}(Xw(t),e)}function BB(t,e,n){const r=n.docs.get(e._key),i=new UP(t);return new $P(t,i,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Iu=n})(Mo),zr(new Rr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ya(new F5(n.getProvider("auth-internal")),new H5(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),rr(cT,"3.12.2",t),rr(cT,"3.12.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firebasestorage.googleapis.com",VP="storageBucket",jB=2*60*1e3,HB=10*60*1e3,WB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends ai{constructor(e,n,r=0){super(Rg(e),`Firebase Storage: ${n} (${Rg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sn||(sn={}));function Rg(t){return"storage/"+t}function sb(){const t="An unknown error occurred, please check the error payload for server response.";return new pn(sn.UNKNOWN,t)}function YB(t){return new pn(sn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KB(t){return new pn(sn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pn(sn.UNAUTHENTICATED,t)}function GB(){return new pn(sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qB(t){return new pn(sn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function BP(){return new pn(sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jP(){return new pn(sn.CANCELED,"User canceled the upload/download.")}function QB(t){return new pn(sn.INVALID_URL,"Invalid URL '"+t+"'.")}function XB(t){return new pn(sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JB(){return new pn(sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VP+"' property when initializing the app?")}function HP(){return new pn(sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZB(){return new pn(sn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ej(){return new pn(sn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tj(t){return new pn(sn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dy(t){return new pn(sn.INVALID_ARGUMENT,t)}function WP(){return new pn(sn.APP_DELETED,"The Firebase app was deleted.")}function nj(t){return new pn(sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kc(t,e){return new pn(sn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vu(t){throw new pn(sn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw XB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(m){m.path.charAt(m.path.length-1)==="/"&&(m.path_=m.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(m){m.path_=decodeURIComponent(m.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},g=n===FP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",T=new RegExp(`^https?://${g}/${i}/${y}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:T,indices:{bucket:1,path:2},postModify:u}];for(let m=0;m<_.length;m++){const w=_[m],E=w.regex.exec(e);if(E){const L=E[w.indices.bucket];let k=E[w.indices.path];k||(k=""),r=new ei(L,k),w.postModify(r);break}}if(r==null)throw QB(e);return r}}class rj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,l())},y)}function h(){s&&clearTimeout(s)}function f(y,...T){if(u){h();return}if(y){h(),c.call(null,y,...T);return}if(l()||o){h(),c.call(null,y,...T);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function g(y){p||(p=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function sj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){return t!==void 0}function aj(t){return typeof t=="function"}function lj(t){return typeof t=="object"&&!Array.isArray(t)}function Rm(t){return typeof t=="string"||t instanceof String}function QT(t){return ob()&&t instanceof Blob}function ob(){return typeof Blob<"u"&&!R$()}function XT(t,e,n,r){if(r<e)throw Dy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function YP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fa||(fa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===fa.NO_ERROR,l=s.getStatus();if(!a||KP(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===fa.ABORT;r(!1,new Dh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Dh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());oj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=sb();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?WP():jP();o(l)}else{const l=BP();o(l)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=ij(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pj(t,e,n,r,i,s,o=!0){const a=YP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return hj(u,e),cj(u,n),dj(u,s),fj(u,r),new uj(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gj(...t){const e=mj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ob())return new Blob(t);throw new pn(sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){if(typeof atob>"u")throw tj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Og{constructor(e,n){this.data=e,this.contentType=n||null}}function wj(t,e){switch(t){case Gi.RAW:return new Og(zP(e));case Gi.BASE64:case Gi.BASE64URL:return new Og(GP(t,e));case Gi.DATA_URL:return new Og(_j(e),Tj(e))}throw sb()}function zP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bj(t){let e;try{e=decodeURIComponent(t)}catch{throw kc(Gi.DATA_URL,"Malformed data URL.")}return zP(e)}function GP(t,e){switch(t){case Gi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw kc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw kc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yj(e)}catch(i){throw i.message.includes("polyfill")?i:kc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw kc(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Ej(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _j(t){const e=new qP(t);return e.base64?GP(Gi.BASE64,e.rest):bj(e.rest)}function Tj(t){return new qP(t).contentType}function Ej(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){let r=0,i="";QT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(QT(this.data_)){const r=this.data_,i=vj(r,e,n);return i===null?null:new no(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new no(r,!0)}}static getBlob(...e){if(ob()){const n=e.map(r=>r instanceof no?r.data_:r);return new no(gj.apply(null,n))}else{const n=e.map(o=>Rm(o)?wj(Gi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new no(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t){let e;try{e=JSON.parse(t)}catch{return null}return lj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Cj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Ij}}let Rh=null;function Aj(t){return!Rm(t)||t.length<2?t:XP(t)}function JP(){if(Rh)return Rh;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,o){return Aj(o)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),Rh=t,Rh}function kj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ei(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function xj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return kj(r,t),r}function ZP(t,e,n){const r=QP(e);return r===null?null:xj(t,r,n)}function Pj(t,e,n,r){const i=QP(e);if(i===null||!Rm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=Pu(h,n,r),p=YP({alt:"media",token:u});return f+p})[0]}function eD(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ka{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){if(!t)throw sb()}function ab(t,e){function n(r,i){const s=ZP(t,i,e);return ks(s!==null),s}return n}function Dj(t,e){function n(r,i){const s=ZP(t,i,e);return ks(s!==null),Pj(s,i,t.host,t._protocol)}return n}function Yd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=GB():i=zB():n.getStatus()===402?i=KB(t.bucket):n.getStatus()===403?i=qB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function lb(t){const e=Yd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=YB(t.path)),s.serverResponse=i.serverResponse,s}return n}function Rj(t,e,n){const r=e.fullServerUrl(),i=Pu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ka(i,s,ab(t,n),o);return a.errorHandler=lb(e),a}function Oj(t,e,n){const r=e.fullServerUrl(),i=Pu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ka(i,s,Dj(t,n),o);return a.errorHandler=lb(e),a}function Nj(t,e){const n=e.fullServerUrl(),r=Pu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Ka(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=lb(e),a}function Mj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Mj(null,e)),r}function Lj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let m=0;m<2;m++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=tD(e,r,i),c=eD(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=no.getBlob(d,r,h);if(f===null)throw HP();const p={name:u.fullPath},g=Pu(s,t.host,t._protocol),y="POST",T=t.maxUploadRetryTime,v=new Ka(g,y,ab(t,n),T);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=Yd(e),v}class Jf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function ub(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ks(!1)}return ks(!!n&&(e||["active"]).indexOf(n)!==-1),n}function $j(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=tD(e,r,i),a={name:o.fullPath},l=Pu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=eD(o,n),h=t.maxUploadRetryTime;function f(g){ub(g);let y;try{y=g.getResponseHeader("X-Goog-Upload-URL")}catch{ks(!1)}return ks(Rm(y)),y}const p=new Ka(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=Yd(e),p}function Uj(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=ub(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ks(!1)}d||ks(!1);const h=Number(d);return ks(!isNaN(h)),new Jf(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ka(n,o,s,a);return l.headers=i,l.errorHandler=Yd(e),l}const JT=256*1024;function Fj(t,e,n,r,i,s,o,a){const l=new Jf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw ZB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw HP();function y(m,w){const E=ub(m,["active","final"]),L=l.current+c,k=r.size();let A;return E==="final"?A=ab(e,s)(m,w):A=null,new Jf(L,k,E==="final",A)}const T="POST",v=e.maxUploadRetryTime,_=new Ka(n,T,y,v);return _.headers=p,_.body=g.uploadData(),_.progressCallback=a||null,_.errorHandler=Yd(t),_}const Ur={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ng(t){switch(t){case"running":case"pausing":case"canceling":return Ur.RUNNING;case"paused":return Ur.PAUSED;case"success":return Ur.SUCCESS;case"canceled":return Ur.CANCELED;case"error":return Ur.ERROR;default:return Ur.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r){if(aj(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Bj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Vu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jj extends Bj{initXhr(){this.xhr_.responseType="text"}}function ta(){return new jj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=JP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(sn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(KP(i.status,[]))if(s)i=BP();else{this.sleepTime=Math.max(this.sleepTime*2,WB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(sn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=$j(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Uj(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ta,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=JT*this._chunkMultiplier,n=new Jf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Fj(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ta,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){JT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Rj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Lj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ta,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=jP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ng(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Vj(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ng(this._state)){case Ur.SUCCESS:nl(this._resolve.bind(null,this.snapshot))();break;case Ur.CANCELED:case Ur.ERROR:const n=this._reject;nl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ng(this._state)){case Ur.RUNNING:case Ur.PAUSED:e.next&&nl(e.next.bind(e,this.snapshot))();break;case Ur.SUCCESS:e.complete&&nl(e.complete.bind(e))();break;case Ur.CANCELED:case Ur.ERROR:e.error&&nl(e.error.bind(e,this._error))();break;default:e.error&&nl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pa(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XP(this._location.path)}get storage(){return this._service}get parent(){const e=Sj(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new Pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nj(e)}}function Wj(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Hj(t,new no(e),n)}function Yj(t){t._throwIfRoot("getDownloadURL");const e=Oj(t.storage,t._location,JP());return t.storage.makeRequestWithTokens(e,ta).then(n=>{if(n===null)throw ej();return n})}function Kj(t){t._throwIfRoot("deleteObject");const e=Nj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ta)}function zj(t,e){const n=Cj(t._location.path,e),r=new ei(t._location.bucket,n);return new Pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){return/^[A-Za-z]+:\/\//.test(t)}function qj(t,e){return new Pa(t,e)}function nD(t,e){if(t instanceof cb){const n=t;if(n._bucket==null)throw JB();const r=new Pa(n,n._bucket);return e!=null?nD(r,e):r}else return e!==void 0?zj(t,e):t}function Qj(t,e){if(e&&Gj(e)){if(t instanceof cb)return qj(t,e);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}else return nD(t,e)}function ZT(t,e){const n=e==null?void 0:e[VP];return n==null?null:ei.makeFromBucketSpec(n,t)}function Xj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lA(i,t.app.options.projectId))}class cb{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=FP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jB,this._maxUploadRetryTime=HB,this._requests=new Set,i!=null?this._bucket=ei.makeFromBucketSpec(i,this._host):this._bucket=ZT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=ZT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new rj(WP());{const o=pj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const eE="@firebase/storage",tE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="storage";function Jj(t,e,n){return t=Ft(t),Wj(t,e,n)}function Zj(t){return t=Ft(t),Yj(t)}function eH(t){return t=Ft(t),Kj(t)}function tH(t,e){return t=Ft(t),Qj(t,e)}function nH(t=Eu(),e){t=Ft(t);const r=cs(t,rD).getImmediate({identifier:e}),i=sA("storage");return i&&rH(r,...i),r}function rH(t,e,n,r={}){Xj(t,e,n,r)}function iH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cb(n,r,i,e,Mo)}function sH(){zr(new Rr(rD,iH,"PUBLIC").setMultipleInstances(!0)),rr(eE,tE,""),rr(eE,tE,"esm2017")}sH();const iD=async t=>{const e=await MB(t),n=e.data();return n?{id:e.id,...n}:null},rl=async(t,e)=>{const n=await LB(e?kB(t,...e):t);return Promise.all(n.docs.map(r=>iD(r.ref)))},Bi=iD,oH=VB,Zf=$B,Zs=UB,uc=FB,Ry=t=>tH(nH(),t),nE=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),aH=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},Pi=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!Pi(a,o[l])||o.some((u,c)=>!Pi(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!Pi(r,i))return!1}else if(r!==i)return!1}return!0},Oy=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const n=new Date,i=n.getFullYear()===t.getFullYear()?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},s=t.toLocaleDateString(void 0,i);if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){const o={weekday:"long"};return t.toLocaleDateString(void 0,o)}else return s}}},Ny=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},lH=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},eo=t=>{var e;return!!((e=t.allowedUserIds)!=null&&e.length)},gl=t=>Array.isArray(t)?t:[t],uH=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},My=t=>t.join(", ").replace(/,([^,]*)$/," and$1");function db(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cH=sD,oD=new No("auth","Firebase",sD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new Tu("@firebase/auth");function dH(t,...e){ep.logLevel<=xt.WARN&&ep.warn(`Auth (${Mo}): ${t}`,...e)}function sf(t,...e){ep.logLevel<=xt.ERROR&&ep.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw hb(t,...e)}function es(t,...e){return hb(t,...e)}function hH(t,e,n){const r=Object.assign(Object.assign({},cH()),{[e]:n});return new No("auth","Firebase",r).create(e,{appName:t.name})}function hb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oD.create(t,...e)}function Xe(t,e,...n){if(!t)throw hb(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sf(e),new Error(e)}function Ls(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fH(){return rE()==="http:"||rE()==="https:"}function rE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fH()||uA()||"connection"in navigator)?navigator.onLine:!0}function mH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=Y0()||cA()}get(){return pH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=new Kd(3e4,6e4);function za(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ga(t,e,n,r,i={}){return lD(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_u(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),aD.fetch()(uD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function lD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gH),e);try{const i=new yH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Oh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Oh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Oh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hH(t,c,u);$i(t,c)}}catch(i){if(i instanceof ai)throw i;$i(t,"network-request-failed",{message:String(i)})}}async function zd(t,e,n,r,i={}){const s=await Ga(t,e,n,r,i);return"mfaPendingCredential"in s&&$i(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fb(t.config,i):`${t.config.apiScheme}://${i}`}class yH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),vH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=es(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(t,e){return Ga(t,"POST","/v1/accounts:delete",e)}async function bH(t,e){return Ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _H(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=pb(r);Xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xc(Mg(i.auth_time)),issuedAtTime:xc(Mg(i.iat)),expirationTime:xc(Mg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mg(t){return Number(t)*1e3}function pb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rf(n);return i?JSON.parse(i):(sf("Failed to decode base64 JWT payload"),null)}catch(i){return sf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TH(t){const e=pb(t);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&EH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ou(t,bH(n,{idToken:r}));Xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AH(s.providerUserInfo):[],a=IH(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cD(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function CH(t){const e=Ft(t);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AH(t){return t.map(e=>{var{providerId:n}=e,r=db(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kH(t,e){const n=await lD(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uD(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Xe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kH(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pd;return r&&(Xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){Xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=db(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cD(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _H(this,e)}reload(){return CH(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ou(this,wH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:m,isAnonymous:w,providerData:E,stsTokenManager:L}=n;Xe(_&&L,e,"internal-error");const k=pd.fromJSON(this.name,L);Xe(typeof _=="string",e,"internal-error"),Ys(d,e.name),Ys(h,e.name),Xe(typeof m=="boolean",e,"internal-error"),Xe(typeof w=="boolean",e,"internal-error"),Ys(f,e.name),Ys(p,e.name),Ys(g,e.name),Ys(y,e.name),Ys(T,e.name),Ys(v,e.name);const A=new pa({uid:_,auth:e,email:h,emailVerified:m,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:k,createdAt:T,lastLoginAt:v});return E&&Array.isArray(E)&&(A.providerData=E.map(C=>Object.assign({},C))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new pd;i.updateFromServerResponse(n);const s=new pa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function _s(t){Ls(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dD.type="NONE";const sE=dD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e,n){return`firebase:${t}:${e}:${n}`}class Fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=of(this.userKey,i.apiKey,s),this.fullPersistenceKey=of("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fl(_s(sE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_s(sE);const o=of(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=pa._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gD(e))return"Blackberry";if(vD(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||fD(e))&&!e.includes("edge/"))return"Chrome";if(mD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hD(t=_r()){return/firefox\//i.test(t)}function mb(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fD(t=_r()){return/crios\//i.test(t)}function pD(t=_r()){return/iemobile/i.test(t)}function mD(t=_r()){return/android/i.test(t)}function gD(t=_r()){return/blackberry/i.test(t)}function vD(t=_r()){return/webos/i.test(t)}function Om(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xH(t=_r()){var e;return Om(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PH(){return O$()&&document.documentMode===10}function yD(t=_r()){return Om(t)||mD(t)||vD(t)||gD(t)||/windows phone/i.test(t)||pD(t)}function DH(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e=[]){let n;switch(t){case"Browser":n=oE(_r());break;case"Worker":n=`${oE(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}async function bD(t,e){return Ga(t,"GET","/v2/recaptchaConfig",za(t,e))}function aE(t){return t!==void 0&&t.enterprise!==void 0}class _D{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function TD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=es("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",RH().appendChild(r)})}function OH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const NH="https://www.google.com/recaptcha/enterprise.js?render=",MH="recaptcha-enterprise",LH="NO_RECAPTCHA";class ED{constructor(e){this.type=MH,this.auth=qa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{bD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _D(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;aE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(LH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&aE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}TD(NH+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function au(t,e,n,r=!1){const i=new ED(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new $H(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ft(e):null;return n&&Xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}async initializeRecaptchaConfig(){const e=await bD(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new _D(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ED(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Xe(n,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Xe(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qa(t){return Ft(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=B$(n=>this.observer=n)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t,e){const n=cs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xc(s,e??{}))return i;$i(i,"already-initialized")}return n.initialize({options:e})}function VH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BH(t,e,n){const r=qa(t);Xe(r._canInitEmulator,r,"emulator-config-failed"),Xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=SD(e),{host:o,port:a}=jH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||HH()}function SD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jH(t){const e=SD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uE(o)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function CD(t,e){return Ga(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(t,e){return zd(t,"POST","/v1/accounts:signInWithPassword",za(t,e))}async function WH(t,e){return Ga(t,"POST","/v1/accounts:sendOobCode",za(t,e))}async function $g(t,e){return WH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YH(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}async function KH(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends gb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new md(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new md(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await au(e,r,"signInWithPassword");return Lg(e,i)}else return Lg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await au(e,r,"signInWithPassword");return Lg(e,s)}else return Promise.reject(i)});case"emailLink":return YH(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CD(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return KH(e,{idToken:n,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return zd(t,"POST","/v1/accounts:signInWithIdp",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH="http://localhost";class Da extends gb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=db(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Da(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:zH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qH(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class vb{constructor(e){var n,r,i,s,o,a;const l=tc(nc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=GH((i=l.mode)!==null&&i!==void 0?i:null);Xe(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qH(e);try{return new vb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return md._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vb.parseLink(n);return Xe(r,"argument-error"),md._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends ID{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Gd{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Gd{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Gd{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t,e){return zd(t,"POST","/v1/accounts:signUp",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pa._fromIdTokenResponse(e,r,i),o=cE(r);return new Ra({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new Ra({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new np(e,n,r,i)}}function AD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(t,s,e,r):s})}async function QH(t,e,n=!1){const r=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ou(t,AD(r,i,e,t),n);Xe(s.idToken,r,"internal-error");const o=pb(s.idToken);Xe(o,r,"internal-error");const{sub:a}=o;return Xe(t.uid===a,r,"user-mismatch"),Ra._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$i(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e,n=!1){const r="signIn",i=await AD(t,r,e),s=await Ra._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function XH(t,e){return xD(qa(t),e)}async function dE(t,e){return kD(Ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e,n){var r;Xe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Xe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Xe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JH(t,e,n){var r;const i=qa(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await au(i,s,"getOobCode",!0);n&&Fg(i,o,n),await $g(i,o)}else n&&Fg(i,s,n),await $g(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await au(i,s,"getOobCode",!0);n&&Fg(i,a,n),await $g(i,a)}else return Promise.reject(o)})}async function ZH(t,e,n){var r;const i=qa(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await au(i,s,"signUpPassword");o=Ug(i,u)}else o=Ug(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await au(i,s,"signUpPassword");return Ug(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Ra._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function e9(t,e,n){return XH(Ft(t),Do.credential(e,n))}function t9(t,e){return PD(Ft(t),e,null)}function n9(t,e){return PD(Ft(t),null,e)}async function PD(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ou(t,CD(r,s));await t._updateTokensIfNecessary(o,!0)}function DD(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function r9(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function i9(t){return Ft(t).signOut()}async function s9(t){return Ft(t).delete()}const rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rp,"1"),this.storage.removeItem(rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(){const t=_r();return mb(t)||Om(t)}const a9=1e3,l9=10;class OD extends RD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=o9()&&DH(),this.fallbackToPolling=yD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);PH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,l9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},a9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OD.type="LOCAL";const u9=OD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND extends RD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ND.type="SESSION";const MD=ND;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await c9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=yb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function h9(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function f9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m9(){return LD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebaseLocalStorageDb",g9=1,ip="firebaseLocalStorage",UD="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mm(t,e){return t.transaction([ip],e?"readwrite":"readonly").objectStore(ip)}function v9(){const t=indexedDB.deleteDatabase($D);return new qd(t).toPromise()}function $y(){const t=indexedDB.open($D,g9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ip,{keyPath:UD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ip)?e(r):(r.close(),await v9(),e(await $y()))})})}async function hE(t,e,n){const r=Mm(t,!0).put({[UD]:e,value:n});return new qd(r).toPromise()}async function y9(t,e){const n=Mm(t,!1).get(e),r=await new qd(n).toPromise();return r===void 0?null:r.value}function fE(t,e){const n=Mm(t,!0).delete(e);return new qd(n).toPromise()}const w9=800,b9=3;class FD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>b9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nm._getInstance(m9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f9(),!this.activeServiceWorker)return;this.sender=new d9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $y();return await hE(e,rp,"1"),await fE(e,rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>y9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mm(i,!1).getAll();return new qd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FD.type="LOCAL";const _9=FD;new Kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e){return e?_s(e):(Xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends gb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E9(t){return xD(t.auth,new wb(t),t.bypassAuthState)}function S9(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),kD(n,new wb(t),t.bypassAuthState)}async function C9(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),QH(n,new wb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E9;case"linkViaPopup":case"linkViaRedirect":return C9;case"reauthViaPopup":case"reauthViaRedirect":return S9;default:$i(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=new Kd(2e3,1e4);class Tl extends VD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=yb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I9.get())};e()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="pendingRedirect",af=new Map;class k9 extends VD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const r=await x9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x9(t,e){const n=R9(e),r=D9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function P9(t,e){af.set(t._key(),e)}function D9(t){return _s(t._redirectPersistence)}function R9(t){return of(A9,t.config.apiKey,t.name)}async function O9(t,e,n=!1){const r=qa(t),i=T9(r,e),o=await new k9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=10*60*1e3;class M9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N9&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e={}){return Ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F9=/^https?/;async function V9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $9(t);for(const n of e)try{if(B9(n))return}catch{}$i(t,"unauthorized-domain")}function B9(t){const e=Ly(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!F9.test(n))return!1;if(U9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new Kd(3e4,6e4);function mE(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H9(t){return new Promise((e,n)=>{var r,i,s;function o(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(es(t,"network-request-failed"))},timeout:j9.get()})}if(!((i=(r=ts().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ts().gapi)===null||s===void 0)&&s.load)o();else{const a=OH("iframefcb");return ts()[a]=()=>{gapi.load?o():n(es(t,"network-request-failed"))},TD(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lf=null,e})}let lf=null;function W9(t){return lf=lf||H9(t),lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Kd(5e3,15e3),K9="__/auth/iframe",z9="emulator/auth/iframe",G9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q9(t){const e=t.config;Xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fb(e,z9):`https://${t.config.authDomain}/${K9}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},i=q9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_u(r).slice(1)}`}async function X9(t){const e=await W9(t),n=ts().gapi;return Xe(n,t,"internal-error"),e.open({where:document.body,url:Q9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=es(t,"network-request-failed"),a=ts().setTimeout(()=>{s(o)},Y9.get());function l(){ts().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z9=500,e8=600,t8="_blank",n8="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r8(t,e,n,r=Z9,i=e8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},J9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=_r().toLowerCase();n&&(a=fD(u)?t8:n),hD(u)&&(e=e||n8,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(xH(u)&&a!=="_self")return i8(e||"",a),new gE(null);const d=window.open(e||"",a,c);Xe(d,t,"popup-blocked");try{d.focus()}catch{}return new gE(d)}function i8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="__/auth/handler",o8="emulator/auth/handler",a8=encodeURIComponent("fac");async function vE(t,e,n,r,i,s){Xe(t.config.authDomain,t,"auth-domain-config-required"),Xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(e instanceof ID){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Bv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Gd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${a8}=${encodeURIComponent(l)}`:"";return`${l8(t)}?${_u(a).slice(1)}${u}`}function l8({config:t}){return t.emulator?fb(t,o8):`https://${t.authDomain}/${s8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="webStorageSupport";class u8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MD,this._completeRedirectFn=O9,this._overrideRedirectResult=P9}async _openPopup(e,n,r,i){var s;Ls((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vE(e,n,r,Ly(),i);return r8(e,o,yb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vE(e,n,r,Ly(),i);return h9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X9(e),r=new M9(e);return n.register("authEvent",i=>(Xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vg,{type:Vg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Vg];o!==void 0&&n(!!o),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yD()||mb()||Om()}}const c8=u8;var yE="@firebase/auth",wE="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function f8(t){zr(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(t)},u=new UH(r,i,s,l);return VH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zr(new Rr("auth-internal",e=>{const n=qa(e.getProvider("auth").getImmediate());return(r=>new d8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(yE,wE,h8(t)),rr(yE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=5*60,m8=aA("authIdTokenMaxAge")||p8;let bE=null;const g8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m8)return;const i=n==null?void 0:n.token;bE!==i&&(bE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jD(t=Eu()){const e=cs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FH(t,{popupRedirectResolver:c8,persistence:[_9,u9,MD]}),r=aA("authTokenSyncURL");if(r){const s=g8(r);r9(n,s,()=>s(n.currentUser)),DD(n,o=>s(o))}const i=iA("auth");return i&&BH(n,`http://${i}`),n}f8("Browser");const HD=Symbol("firebaseApp");function WD(t){return us()&&Wr(HD,null)||Eu(t)}const Nh=new WeakMap;function v8(t,e){if(!Nh.has(t)){const n=xp(!0);Nh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Nh.delete(t)}}return Nh.get(t)}const y8=new WeakMap,Mh=new WeakMap;function w8(t){const e=WD(t);if(!Mh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Mh.set(e,s),n(s.value)}];Mh.set(e,i)}return Mh.get(e)}function b8(t,e){const n=jD(e);DD(n,r=>{const i=w8();t.value=r,Array.isArray(i)&&i[1](t)})}const _E="@firebase/database",TE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YD="";function _8(t){YD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Fs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new T8(e)}}catch{}return new E8},la=KD("localStorage"),Uy=KD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Tu("@firebase/database"),S8=function(){let t=1;return function(){return t++}}(),zD=function(t){const e=Y$(t),n=new V$;n.update(e);const r=n.digest();return zp.encodeByteArray(r)},Qd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Qd.apply(null,r):typeof r=="object"?e+=Zn(r):e+=r,e+=" "}return e};let ma=null,EE=!0;const C8=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bl.logLevel=xt.VERBOSE,ma=Bl.log.bind(Bl),e&&Uy.set("logging_enabled",!0)):typeof t=="function"?ma=t:(ma=null,Uy.remove("logging_enabled"))},cr=function(...t){if(EE===!0&&(EE=!1,ma===null&&Uy.get("logging_enabled")===!0&&C8(!0)),ma){const e=Qd.apply(null,t);ma(e)}},Xd=function(t){return function(...e){cr(t,...e)}},Fy=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qd(...t);Bl.error(e)},Oa=function(...t){const e=`FIREBASE FATAL ERROR: ${Qd(...t)}`;throw Bl.error(e),new Error(e)},ii=function(...t){const e="FIREBASE WARNING: "+Qd(...t);Bl.warn(e)},I8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},GD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},lu="[MIN_NAME]",Na="[MAX_NAME]",Du=function(t,e){if(t===e)return 0;if(t===lu||e===Na)return-1;if(e===lu||t===Na)return 1;{const n=SE(t),r=SE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},k8=function(t,e){return t===e?0:t<e?-1:1},Bu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zn(e))},bb=function(t){if(typeof t!="object"||t===null)return Zn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zn(e[r]),n+=":",n+=bb(t[e[r]]);return n+="}",n},qD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function gi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const QD=function(t){ke(!GD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},x8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},P8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},D8=new RegExp("^-?(0*)\\d{1,10}$"),R8=-2147483648,O8=2147483647,SE=function(t){if(D8.test(t)){const e=Number(t);if(e>=R8&&e<=O8)return e}return null},Jd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ii("Exception was thrown by user callback.",n),e},Math.floor(0))}},N8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(cr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ii(e)}}class Vy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="5",XD="v",JD="s",ZD="r",eR="f",tR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nR="ls",rR="p",By="ac",iR="websocket",sR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=la.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&la.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function U8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function oR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===iR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);U8(t)&&(n.ns=t.namespace);const i=[];return gi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.counters_={}}incrementCounter(e,n=1){Fs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return A$(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg={},jg={};function Tb(t){const e=t.toString();return Bg[e]||(Bg[e]=new F8),Bg[e]}function V8(t,e){const n=t.toString();return jg[n]||(jg[n]=e()),jg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="start",j8="close",H8="pLPCommand",W8="pRTLPCB",aR="id",lR="pw",uR="ser",Y8="cb",K8="seg",z8="ts",G8="d",q8="dframe",cR=1870,dR=30,Q8=cR-dR,X8=25e3,J8=3e4;class El{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xd(e),this.stats_=Tb(n),this.urlFn=l=>(this.appCheckToken&&(l[By]=this.appCheckToken),oR(n,sR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new B8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(J8)),A8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Eb((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===CE)this.id=a,this.password=l;else if(o===j8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[CE]="t",r[uR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Y8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[XD]=_b,this.transportSessionId&&(r[JD]=this.transportSessionId),this.lastSessionId&&(r[nR]=this.lastSessionId),this.applicationId&&(r[rR]=this.applicationId),this.appCheckToken&&(r[By]=this.appCheckToken),typeof location<"u"&&location.hostname&&tR.test(location.hostname)&&(r[ZD]=eR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){El.forceAllow_=!0}static forceDisallow(){El.forceDisallow_=!0}static isAvailable(){return El.forceAllow_?!0:!El.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!x8()&&!P8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tA(n),i=qD(r,Q8);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[q8]="t",r[aR]=e,r[lR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Eb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=S8(),window[H8+this.uniqueCallbackIdentifier]=e,window[W8+this.uniqueCallbackIdentifier]=n,this.myIFrame=Eb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){cr("frame writing exception"),a.stack&&cr(a.stack),cr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||cr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aR]=this.myID,e[lR]=this.myPW,e[uR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dR+r.length<=cR;){const o=this.pendingSegs.shift();r=r+"&"+K8+i+"="+o.seg+"&"+z8+i+"="+o.ts+"&"+G8+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(X8)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{cr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=16384,eW=45e3;let sp=null;typeof MozWebSocket<"u"?sp=MozWebSocket:typeof WebSocket<"u"&&(sp=WebSocket);class Ii{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xd(this.connId),this.stats_=Tb(n),this.connURL=Ii.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[XD]=_b,typeof location<"u"&&location.hostname&&tR.test(location.hostname)&&(o[ZD]=eR),n&&(o[JD]=n),r&&(o[nR]=r),i&&(o[By]=i),s&&(o[rR]=s),oR(e,iR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,la.set("previous_websocket_failure",!0);try{let r;dA(),this.mySock=new sp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sp!==null&&!Ii.forceDisallow_}static previouslyFailed(){return la.isInMemoryStorage||la.get("previous_websocket_failure")===!0}markConnectionHealthy(){la.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qD(n,Z8);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ii.responsesRequiredToBeHealthy=2;Ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[El,Ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ii&&Ii.isAvailable();let r=n&&!Ii.previouslyFailed();if(e.webSocketOnly&&(n||ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ii];else{const i=this.transports_=[];for(const s of gd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);gd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=6e4,nW=5e3,rW=10*1024,iW=100*1024,Hg="t",IE="d",sW="s",AE="r",oW="e",kE="o",xE="a",PE="n",DE="p",aW="h";class lW{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xd("c:"+this.id+":"),this.transportManager_=new gd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Hg in e){const n=e[Hg];n===xE?this.upgradeIfSecondaryHealthy_():n===AE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Bu("t",e),r=Bu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Bu("t",e),r=Bu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Bu(Hg,e);if(IE in e){const r=e[IE];if(n===aW){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===PE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===sW?this.onConnectionShutdown_(r):n===AE?this.onReset_(r):n===oW?Fy("Server Error: "+r):n===kE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_b!==r&&ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(la.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends fR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Y0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new op}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=32,OE=768;class on{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Kt(){return new on("")}function Et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ro(t){return t.pieces_.length-t.pieceNum_}function en(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new on(t.pieces_,e)}function pR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function uW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function mR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function gR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new on(e,0)}function Hn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof on)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new on(n,0)}function yt(t){return t.pieceNum_>=t.pieces_.length}function hi(t,e){const n=Et(t),r=Et(e);if(n===null)return e;if(n===r)return hi(en(t),en(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vR(t,e){if(Ro(t)!==Ro(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ki(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ro(t)>Ro(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cW{constructor(e,n){this.errorPrefix_=n,this.parts_=mR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qp(this.parts_[r]);yR(this)}}function dW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qp(e),yR(t)}function hW(t){const e=t.parts_.pop();t.byteLength_-=Qp(e),t.parts_.length>0&&(t.byteLength_-=1)}function yR(t){if(t.byteLength_>OE)throw new Error(t.errorPrefix_+"has a key path longer than "+OE+" bytes ("+t.byteLength_+").");if(t.parts_.length>RE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RE+") or object contains a cycle "+qo(t))}function qo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends fR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Sb}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=1e3,fW=60*5*1e3,NE=30*1e3,pW=1.3,mW=3e4,gW="server_kill",ME=3;class xs extends hR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xs.nextPersistentConnectionId_++,this.log_=Xd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ju,this.maxReconnectDelay_=fW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!dA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&op.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Zn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ea,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;xs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Fs(e,"w")){const r=Jl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||F$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=NE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=U$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fy("Unrecognized action received from server: "+Zn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mW&&(this.reconnectDelay_=ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?cr("getToken() completed but was canceled"):(cr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new lW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{ii(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(gW)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ii(d),l())}}}interrupt(e){cr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){cr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bv(this.interruptReasons_)&&(this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>bb(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new on(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){cr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ME&&(this.reconnectDelay_=NE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){cr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ME&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+YD.replace(/\./g,"-")]=1,Y0()?e["framework.cordova"]=1:cA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=op.getInstance().currentlyOnline();return Bv(this.interruptReasons_)&&e}}xs.nextPersistentConnectionId_=0;xs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new St(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new St(lu,e),i=new St(lu,n);return this.compare(r,i)!==0}minPost(){return St.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh;class wR extends Lm{static get __EMPTY_NODE(){return Lh}static set __EMPTY_NODE(e){Lh=e}compare(e,n){return Du(e.name,n.name)}isDefinedOn(e){throw bu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return St.MIN}maxPost(){return new St(Na,Lh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new St(e,Lh)}toString(){return".key"}}const jl=new wR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bn.RED,this.left=i??jr.EMPTY_NODE,this.right=s??jr.EMPTY_NODE}copy(e,n,r,i,s){return new Bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return jr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return jr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bn.RED=!0;Bn.BLACK=!1;class vW{copy(e,n,r,i,s){return this}insert(e,n,r){return new Bn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jr{constructor(e,n=jr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bn.BLACK,null,null))}remove(e){return new jr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $h(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $h(this.root_,null,this.comparator_,!0,e)}}jr.EMPTY_NODE=new vW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t,e){return Du(t.name,e.name)}function Cb(t,e){return Du(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy;function wW(t){jy=t}const bR=function(t){return typeof t=="number"?"number:"+QD(t):"string:"+t},_R=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Fs(e,".sv"),"Priority must be a string or number.")}else ke(t===jy||t.isEmpty(),"priority of unexpected type.");ke(t===jy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LE;class Fn{constructor(e,n=Fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_R(this.priorityNode_)}static set __childrenNodeConstructor(e){LE=e}static get __childrenNodeConstructor(){return LE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return yt(e)?this:Et(e)===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Et(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||Ro(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(en(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=QD(this.value_):e+=this.value_,this.lazyHash_=zD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fn.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fn.VALUE_TYPE_ORDER.indexOf(n),s=Fn.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR,ER;function bW(t){TR=t}function _W(t){ER=t}class TW extends Lm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Du(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return St.MIN}maxPost(){return new St(Na,new Fn("[PRIORITY-POST]",ER))}makePost(e,n){const r=TR(e);return new St(n,new Fn("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new TW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=Math.log(2);class SW{constructor(e){const n=s=>parseInt(Math.log(s)/EW,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ap=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Bn(h,d.node,Bn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new Bn(h,d.node,Bn.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const y=d-p,T=d;d-=p;const v=i(y+1,T),_=t[y],m=n?n(_):_;f(new Bn(m,_.node,g,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,Bn.BLACK):(h(y,Bn.BLACK),h(y,Bn.RED))}return c},o=new SW(t.length),a=s(o);return new jr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;const il={};class Ts{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(il&&mr,"ChildrenNode.ts has not been loaded"),Wg=Wg||new Ts({".priority":il},{".priority":mr}),Wg}get(e){const n=Jl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jr?n:null}hasIndex(e){return Fs(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==jl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(St.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ap(r,e.getCompare()):a=il;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Ts(c,u)}addToIndexes(e,n){const r=Of(this.indexes_,(i,s)=>{const o=Jl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===il)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(St.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),ap(a,o.getCompare())}else return il;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new St(e.name,a))),l.insert(e,e.node)}});return new Ts(r,this.indexSet_)}removeFromIndexes(e,n){const r=Of(this.indexes_,i=>{if(i===il)return i;{const s=n.get(e.name);return s?i.remove(new St(e.name,s)):i}});return new Ts(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class Ut{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_R(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hu||(Hu=new Ut(new jr(Cb),null,Ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hu}updatePriority(e){return this.children_.isEmpty()?this:new Ut(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hu:n}}getChild(e){const n=Et(e);return n===null?this:this.getImmediateChild(n).getChild(en(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new St(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Hu:this.priorityNode_;return new Ut(i,o,s)}}updateChild(e,n){const r=Et(e);if(r===null)return n;{ke(Et(e)!==".priority"||Ro(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(en(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(mr,(o,a)=>{n[o]=a.val(e),r++,s&&Ut.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+bR(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":zD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new St(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new St(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new St(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,St.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,St.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zd?-1:0}withIndex(e){if(e===jl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ut(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===jl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),i=n.getIterator(mr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===jl?null:this.indexMap_.get(e.toString())}}Ut.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CW extends Ut{constructor(){super(new jr(Cb),Ut.EMPTY_NODE,Ts.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ut.EMPTY_NODE}isEmpty(){return!1}}const Zd=new CW;Object.defineProperties(St,{MIN:{value:new St(lu,Ut.EMPTY_NODE)},MAX:{value:new St(Na,Zd)}});wR.__EMPTY_NODE=Ut.EMPTY_NODE;Fn.__childrenNodeConstructor=Ut;wW(Zd);_W(Zd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=!0;function dr(t,e=null){if(t===null)return Ut.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fn(n,dr(e))}if(!(t instanceof Array)&&IW){const n=[];let r=!1;if(gi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=dr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new St(o,l)))}}),n.length===0)return Ut.EMPTY_NODE;const s=ap(n,yW,o=>o.name,Cb);if(r){const o=ap(n,mr.getCompare());return new Ut(s,dr(e),new Ts({".priority":o},{".priority":mr}))}else return new Ut(s,dr(e),Ts.Default)}else{let n=Ut.EMPTY_NODE;return gi(t,(r,i)=>{if(Fs(t,r)&&r.substring(0,1)!=="."){const s=dr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(dr(e))}}bW(dr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW extends Lm{constructor(e){super(),this.indexPath_=e,ke(!yt(e)&&Et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Du(e.name,n.name):s}makePost(e,n){const r=dr(e),i=Ut.EMPTY_NODE.updateChild(this.indexPath_,r);return new St(n,i)}maxPost(){const e=Ut.EMPTY_NODE.updateChild(this.indexPath_,Zd);return new St(Na,e)}toString(){return mR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW extends Lm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Du(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return St.MIN}maxPost(){return St.MAX}makePost(e,n){const r=dr(e);return new St(n,r)}toString(){return".value"}}const xW=new kW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t){return{type:"value",snapshotNode:t}}function DW(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function RW(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $E(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function OW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lu}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Na}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new Ib;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===xW?n="$value":t.index_===jl?n="$key":(ke(t.index_ instanceof AW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function FE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends hR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Xd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=lp.getListenId_(e,r),a={};this.listens_[o]=a;const l=UE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Jl(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=lp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=UE(e._queryParams),r=e._path.toString(),i=new Ea;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_u(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Qc(a.responseText)}catch{ii("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ii("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(){this.rootNode_=Ut.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){return{value:null,children:new Map}}function SR(t,e,n){if(yt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Et(e);t.children.has(r)||t.children.set(r,up());const i=t.children.get(r);e=en(e),SR(i,e,n)}}function Hy(t,e,n){t.value!==null?n(e,t.value):MW(t,(r,i)=>{const s=new on(e.toString()+"/"+r);Hy(i,s,n)})}function MW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=10*1e3,$W=30*1e3,UW=5*60*1e3;class FW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LW(e);const r=VE+($W-VE)*Math.random();Pc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;gi(e,(i,s)=>{s>0&&Fs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pc(this.reportStats_.bind(this),Math.floor(Math.random()*2*UW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function CR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function IR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function AR(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=CR()}operationForChild(e){if(yt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new on(e));return new cp(Kt(),n,this.revert)}}else return ke(Et(this.path)===e,"operationForChild called for unrelated child."),new cp(en(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}operationForChild(e){return yt(this.path)?new Ma(this.source,Kt(),this.snap.getImmediateChild(e)):new Ma(this.source,en(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}operationForChild(e){if(yt(this.path)){const n=this.children.subtree(new on(e));return n.isEmpty()?null:n.value?new Ma(this.source,Kt(),n.value):new vd(this.source,Kt(),n)}else return ke(Et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vd(this.source,en(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(yt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function VW(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(OW(o.childName,o.snapshotNode))}),Wu(t,i,"child_removed",e,r,n),Wu(t,i,"child_added",e,r,n),Wu(t,i,"child_moved",s,r,n),Wu(t,i,"child_changed",e,r,n),Wu(t,i,"value",e,r,n),i}function Wu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>jW(t,a,l)),o.forEach(a=>{const l=BW(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function BW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function jW(t,e,n){if(e.childName==null||n.childName==null)throw bu("Should only compare child_ events.");const r=new St(e.childName,e.snapshotNode),i=new St(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e){return{eventCache:t,serverCache:e}}function Dc(t,e,n,r){return kR(new Ab(e,n,r),t.serverCache)}function xR(t,e,n,r){return kR(t.eventCache,new Ab(e,n,r))}function Wy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function La(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg;const HW=()=>(Yg||(Yg=new jr(k8)),Yg);class Zt{constructor(e,n=HW()){this.value=e,this.children=n}static fromObject(e){let n=new Zt(null);return gi(e,(r,i)=>{n=n.set(new on(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Kt(),value:this.value};if(yt(e))return null;{const r=Et(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(en(e),n);return s!=null?{path:Hn(new on(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(yt(e))return this;{const n=Et(e),r=this.children.get(n);return r!==null?r.subtree(en(e)):new Zt(null)}}set(e,n){if(yt(e))return new Zt(n,this.children);{const r=Et(e),s=(this.children.get(r)||new Zt(null)).set(en(e),n),o=this.children.insert(r,s);return new Zt(this.value,o)}}remove(e){if(yt(e))return this.children.isEmpty()?new Zt(null):new Zt(null,this.children);{const n=Et(e),r=this.children.get(n);if(r){const i=r.remove(en(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Zt(null):new Zt(this.value,s)}else return this}}get(e){if(yt(e))return this.value;{const n=Et(e),r=this.children.get(n);return r?r.get(en(e)):null}}setTree(e,n){if(yt(e))return n;{const r=Et(e),s=(this.children.get(r)||new Zt(null)).setTree(en(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Zt(this.value,o)}}fold(e){return this.fold_(Kt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Hn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Kt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(yt(e))return null;{const s=Et(e),o=this.children.get(s);return o?o.findOnPath_(en(e),Hn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Kt(),n)}foreachOnPath_(e,n,r){if(yt(e))return this;{this.value&&r(n,this.value);const i=Et(e),s=this.children.get(i);return s?s.foreachOnPath_(en(e),Hn(n,i),r):new Zt(null)}}foreach(e){this.foreach_(Kt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Hn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.writeTree_=e}static empty(){return new Di(new Zt(null))}}function Rc(t,e,n){if(yt(e))return new Di(new Zt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=hi(i,e);return s=s.updateChild(o,n),new Di(t.writeTree_.set(i,s))}else{const i=new Zt(n),s=t.writeTree_.setTree(e,i);return new Di(s)}}}function BE(t,e,n){let r=t;return gi(n,(i,s)=>{r=Rc(r,Hn(e,i),s)}),r}function jE(t,e){if(yt(e))return Di.empty();{const n=t.writeTree_.setTree(e,new Zt(null));return new Di(n)}}function Yy(t,e){return Qa(t,e)!=null}function Qa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(hi(n.path,e)):null}function HE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,i)=>{e.push(new St(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new St(r,i.value))}),e}function yo(t,e){if(yt(e))return t;{const n=Qa(t,e);return n!=null?new Di(new Zt(n)):new Di(t.writeTree_.subtree(e))}}function Ky(t){return t.writeTree_.isEmpty()}function uu(t,e){return PR(Kt(),t.writeTree_,e)}function PR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=PR(Hn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Hn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){return LR(e,t)}function WW(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Rc(t.visibleWrites,e,n)),t.lastWriteId=r}function YW(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function KW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&zW(a,r.path)?i=!1:ki(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return GW(t),!0;if(r.snap)t.visibleWrites=jE(t.visibleWrites,r.path);else{const a=r.children;gi(a,l=>{t.visibleWrites=jE(t.visibleWrites,Hn(r.path,l))})}return!0}else return!1}function zW(t,e){if(t.snap)return ki(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ki(Hn(t.path,n),e))return!0;return!1}function GW(t){t.visibleWrites=RR(t.allWrites,qW,Kt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qW(t){return t.visible}function RR(t,e,n){let r=Di.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ki(n,o)?(a=hi(n,o),r=Rc(r,a,s.snap)):ki(o,n)&&(a=hi(o,n),r=Rc(r,Kt(),s.snap.getChild(a)));else if(s.children){if(ki(n,o))a=hi(n,o),r=BE(r,a,s.children);else if(ki(o,n))if(a=hi(o,n),yt(a))r=BE(r,Kt(),s.children);else{const l=Jl(s.children,Et(a));if(l){const u=l.getChild(en(a));r=Rc(r,Kt(),u)}}}else throw bu("WriteRecord should have .snap or .children")}}return r}function OR(t,e,n,r,i){if(!r&&!i){const s=Qa(t.visibleWrites,e);if(s!=null)return s;{const o=yo(t.visibleWrites,e);if(Ky(o))return n;if(n==null&&!Yy(o,Kt()))return null;{const a=n||Ut.EMPTY_NODE;return uu(o,a)}}}else{const s=yo(t.visibleWrites,e);if(!i&&Ky(s))return n;if(!i&&n==null&&!Yy(s,Kt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ki(u.path,e)||ki(e,u.path))},a=RR(t.allWrites,o,e),l=n||Ut.EMPTY_NODE;return uu(a,l)}}}function QW(t,e,n){let r=Ut.EMPTY_NODE;const i=Qa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(mr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=yo(t.visibleWrites,e);return n.forEachChild(mr,(o,a)=>{const l=uu(yo(s,new on(o)),a);r=r.updateImmediateChild(o,l)}),HE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=yo(t.visibleWrites,e);return HE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function XW(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Hn(e,n);if(Yy(t.visibleWrites,s))return null;{const o=yo(t.visibleWrites,s);return Ky(o)?i.getChild(n):uu(o,i.getChild(n))}}function JW(t,e,n,r){const i=Hn(e,n),s=Qa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=yo(t.visibleWrites,i);return uu(o,r.getNode().getImmediateChild(n))}else return null}function ZW(t,e){return Qa(t.visibleWrites,e)}function e7(t,e,n,r,i,s,o){let a;const l=yo(t.visibleWrites,e),u=Qa(l,Kt());if(u!=null)a=u;else if(n!=null)a=uu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function t7(){return{visibleWrites:Di.empty(),allWrites:[],lastWriteId:-1}}function zy(t,e,n,r){return OR(t.writeTree,t.treePath,e,n,r)}function NR(t,e){return QW(t.writeTree,t.treePath,e)}function WE(t,e,n,r){return XW(t.writeTree,t.treePath,e,n,r)}function dp(t,e){return ZW(t.writeTree,Hn(t.treePath,e))}function n7(t,e,n,r,i,s){return e7(t.writeTree,t.treePath,e,n,r,i,s)}function kb(t,e,n){return JW(t.writeTree,t.treePath,e,n)}function MR(t,e){return LR(Hn(t.treePath,e),t.writeTree)}function LR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,$E(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,RW(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,DW(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,$E(r,e.snapshotNode,i.oldSnap));else throw bu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $R=new i7;class xb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ab(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:La(this.viewCache_),s=n7(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function s7(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function o7(t,e,n,r,i){const s=new r7;let o,a;if(n.type===qi.OVERWRITE){const u=n;u.source.fromUser?o=Gy(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!yt(u.path),o=hp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===qi.MERGE){const u=n;u.source.fromUser?o=l7(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=qy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===qi.ACK_USER_WRITE){const u=n;u.revert?o=d7(t,e,u.path,r,i,s):o=u7(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===qi.LISTEN_COMPLETE)o=c7(t,e,n.path,r,s);else throw bu("Unknown operation type: "+n.type);const l=s.getChanges();return a7(e,o,l),{viewCache:o,changes:l}}function a7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(PW(Wy(e)))}}function UR(t,e,n,r,i,s){const o=e.eventCache;if(dp(r,n)!=null)return e;{let a,l;if(yt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=La(e),c=u instanceof Ut?u:Ut.EMPTY_NODE,d=NR(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=zy(r,La(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Et(n);if(u===".priority"){ke(Ro(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=WE(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=en(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=WE(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=kb(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Dc(e,a,o.isFullyInitialized()||yt(n),t.filter.filtersNodes())}}function hp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(yt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Et(n);if(!l.isCompleteForPath(n)&&Ro(n)>1)return e;const p=en(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),f,y,p,$R,null)}const d=xR(e,u,l.isFullyInitialized()||yt(n),c.filtersNodes()),h=new xb(i,d,s);return UR(t,d,n,i,h,a)}function Gy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new xb(i,e,s);if(yt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Dc(e,u,!0,t.filter.filtersNodes());else{const d=Et(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Dc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=en(n),f=a.getNode().getImmediateChild(d);let p;if(yt(h))p=r;else{const g=c.getCompleteChild(d);g!=null?pR(h)===".priority"&&g.getChild(gR(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=Ut.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Dc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function YE(t,e){return t.eventCache.isCompleteForChild(e)}function l7(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Hn(n,l);YE(e,Et(c))&&(a=Gy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Hn(n,l);YE(e,Et(c))||(a=Gy(t,a,c,u,i,s,o))}),a}function KE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;yt(n)?u=r:u=new Zt(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=KE(t,f,h);l=hp(t,l,new on(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=KE(t,p,h);l=hp(t,l,new on(d),g,i,s,o,a)}}),l}function u7(t,e,n,r,i,s,o){if(dp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(yt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return hp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(yt(n)){let u=new Zt(null);return l.getNode().forEachChild(jl,(c,d)=>{u=u.set(new on(c),d)}),qy(t,e,n,u,i,s,a,o)}else return e}else{let u=new Zt(null);return r.foreach((c,d)=>{const h=Hn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),qy(t,e,n,u,i,s,a,o)}}function c7(t,e,n,r,i){const s=e.serverCache,o=xR(e,s.getNode(),s.isFullyInitialized()||yt(n),s.isFiltered());return UR(t,o,n,r,$R,i)}function d7(t,e,n,r,i,s){let o;if(dp(r,n)!=null)return e;{const a=new xb(r,e,i),l=e.eventCache.getNode();let u;if(yt(n)||Et(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=zy(r,La(e));else{const d=e.serverCache.getNode();ke(d instanceof Ut,"serverChildren would be complete if leaf node"),c=NR(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Et(n);let d=kb(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,en(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ut.EMPTY_NODE,en(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zy(r,La(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||dp(r,Kt())!=null,Dc(e,u,o,t.filter.filtersNodes())}}function h7(t,e){const n=La(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!yt(e)&&!n.getImmediateChild(Et(e)).isEmpty())?n.getChild(e):null}function zE(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(ke(La(t.viewCache_),"We should always have a full cache before handling merges"),ke(Wy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=o7(t.processor_,i,e,n,r);return s7(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,f7(t,s.changes,s.viewCache.eventCache.getNode(),null)}function f7(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return VW(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GE;function p7(t){ke(!GE,"__referenceConstructor has already been defined"),GE=t}function Pb(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),zE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(zE(o,e,n,r));return s}}function Db(t,e){let n=null;for(const r of t.views.values())n=n||h7(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE;function m7(t){ke(!qE,"__referenceConstructor has already been defined"),qE=t}class QE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Zt(null),this.pendingWriteTree_=t7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function g7(t,e,n,r,i){return WW(t.pendingWriteTree_,e,n,r,i),i?Um(t,new Ma(CR(),e,n)):[]}function Sl(t,e,n=!1){const r=YW(t.pendingWriteTree_,e);if(KW(t.pendingWriteTree_,e)){let s=new Zt(null);return r.snap!=null?s=s.set(Kt(),!0):gi(r.children,o=>{s=s.set(new on(o),!0)}),Um(t,new cp(r.path,s,n))}else return[]}function $m(t,e,n){return Um(t,new Ma(IR(),e,n))}function v7(t,e,n){const r=Zt.fromObject(n);return Um(t,new vd(IR(),e,r))}function y7(t,e,n,r){const i=jR(t,r);if(i!=null){const s=HR(i),o=s.path,a=s.queryId,l=hi(o,e),u=new Ma(AR(a),l,n);return WR(t,o,u)}else return[]}function w7(t,e,n,r){const i=jR(t,r);if(i){const s=HR(i),o=s.path,a=s.queryId,l=hi(o,e),u=Zt.fromObject(n),c=new vd(AR(a),l,u);return WR(t,o,c)}else return[]}function FR(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=hi(o,e),u=Db(a,l);if(u)return u});return OR(i,e,s,n,!0)}function Um(t,e){return VR(e,t.syncPointTree_,null,DR(t.pendingWriteTree_,Kt()))}function VR(t,e,n,r){if(yt(t.path))return BR(t,e,n,r);{const i=e.get(Kt());n==null&&i!=null&&(n=Db(i,Kt()));let s=[];const o=Et(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=MR(r,o);s=s.concat(VR(a,l,u,c))}return i&&(s=s.concat(Pb(i,t,r,n))),s}}function BR(t,e,n,r){const i=e.get(Kt());n==null&&i!=null&&(n=Db(i,Kt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=MR(r,o),c=t.operationForChild(o);c&&(s=s.concat(BR(c,a,l,u)))}),i&&(s=s.concat(Pb(i,t,r,n))),s}function jR(t,e){return t.tagToQueryMap.get(e)}function HR(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new on(t.substr(0,e))}}function WR(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=DR(t.pendingWriteTree_,e);return Pb(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Rb(n)}node(){return this.node_}}class Ob{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Hn(this.path_,e);return new Ob(this.syncTree_,n)}node(){return FR(this.syncTree_,this.path_)}}const b7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},XE=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return T7(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},T7=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},E7=function(t,e,n,r){return Nb(e,new Ob(n,t),r)},S7=function(t,e,n){return Nb(t,new Rb(e),n)};function Nb(t,e,n){const r=t.getPriority().val(),i=XE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=XE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Fn(a,dr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fn(i))),o.forEachChild(mr,(a,l)=>{const u=Nb(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Lb(t,e){let n=e instanceof on?e:new on(e),r=t,i=Et(n);for(;i!==null;){const s=Jl(r.node.children,i)||{children:{},childCount:0};r=new Mb(i,r,s),n=en(n),i=Et(n)}return r}function Ru(t){return t.node.value}function YR(t,e){t.node.value=e,Qy(t)}function KR(t){return t.node.childCount>0}function C7(t){return Ru(t)===void 0&&!KR(t)}function Fm(t,e){gi(t.node.children,(n,r)=>{e(new Mb(n,t,r))})}function zR(t,e,n,r){n&&!r&&e(t),Fm(t,i=>{zR(i,e,!0,r)}),n&&r&&e(t)}function I7(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function eh(t){return new on(t.parent===null?t.name:eh(t.parent)+"/"+t.name)}function Qy(t){t.parent!==null&&A7(t.parent,t.name,t)}function A7(t,e,n){const r=C7(n),i=Fs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Qy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Qy(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=/[\[\].#$\/\u0000-\u001F\u007F]/,x7=/[\[\].#$\u0000-\u001F\u007F]/,Kg=10*1024*1024,GR=function(t){return typeof t=="string"&&t.length!==0&&!k7.test(t)},P7=function(t){return typeof t=="string"&&t.length!==0&&!x7.test(t)},D7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),P7(t)},qR=function(t,e,n){const r=n instanceof on?new cW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qo(r));if(typeof e=="function")throw new Error(t+"contains a function "+qo(r)+" with contents = "+e.toString());if(GD(e))throw new Error(t+"contains "+e.toString()+" "+qo(r));if(typeof e=="string"&&e.length>Kg/3&&Qp(e)>Kg)throw new Error(t+"contains a string greater than "+Kg+" utf8 bytes "+qo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(gi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!GR(o)))throw new Error(t+" contains an invalid key ("+o+") "+qo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dW(r,o),qR(t,a,r),hW(r)}),i&&s)throw new Error(t+' contains ".value" child '+qo(r)+" in addition to actual children.")}},R7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!GR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!D7(n))throw new Error(W$(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function N7(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!vR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Xa(t,e,n){N7(t,n),M7(t,r=>ki(r,e)||ki(e,r))}function M7(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(L7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function L7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ma&&cr("event: "+n.toString()),Jd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="repo_interrupt",U7=25;class F7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new O7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=up(),this.transactionQueueTree_=new Mb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function V7(t,e,n){if(t.stats_=Tb(t.repoInfo_),t.forceRestClient_||N8())t.server_=new lp(t.repoInfo_,(r,i,s,o)=>{JE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ZE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xs(t.repoInfo_,e,(r,i,s,o)=>{JE(t,r,i,s,o)},r=>{ZE(t,r)},r=>{j7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=V8(t.repoInfo_,()=>new FW(t.stats_,t.server_)),t.infoData_=new NW,t.infoSyncTree_=new QE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=$m(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),$b(t,"connected",!1),t.serverSyncTree_=new QE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Xa(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function B7(t){const n=t.infoData_.getNode(new on(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function QR(t){return b7({timestamp:B7(t)})}function JE(t,e,n,r,i){t.dataUpdateCount++;const s=new on(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Of(n,u=>dr(u));o=w7(t.serverSyncTree_,s,l,i)}else{const l=dr(n);o=y7(t.serverSyncTree_,s,l,i)}else if(r){const l=Of(n,u=>dr(u));o=v7(t.serverSyncTree_,s,l)}else{const l=dr(n);o=$m(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Fb(t,s)),Xa(t.eventQueue_,a,o)}function ZE(t,e){$b(t,"connected",e),e===!1&&W7(t)}function j7(t,e){gi(e,(n,r)=>{$b(t,n,r)})}function $b(t,e,n){const r=new on("/.info/"+e),i=dr(n);t.infoData_.updateSnapshot(r,i);const s=$m(t.infoSyncTree_,r,i);Xa(t.eventQueue_,r,s)}function H7(t){return t.nextWriteId_++}function W7(t){XR(t,"onDisconnectEvents");const e=QR(t),n=up();Hy(t.onDisconnect_,Kt(),(i,s)=>{const o=E7(i,s,t.serverSyncTree_,e);SR(n,i,o)});let r=[];Hy(n,Kt(),(i,s)=>{r=r.concat($m(t.serverSyncTree_,i,s));const o=G7(t,i);Fb(t,o)}),t.onDisconnect_=up(),Xa(t.eventQueue_,Kt(),r)}function Y7(t){t.persistentConnection_&&t.persistentConnection_.interrupt($7)}function XR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),cr(n,...e)}function JR(t,e,n){return FR(t.serverSyncTree_,e,n)||Ut.EMPTY_NODE}function Ub(t,e=t.transactionQueueTree_){if(e||Vm(t,e),Ru(e)){const n=eO(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&K7(t,eh(e),n)}else KR(e)&&Fm(e,n=>{Ub(t,n)})}function K7(t,e,n){const r=n.map(u=>u.currentWriteId),i=JR(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=hi(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{XR(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Sl(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Vm(t,Lb(t.transactionQueueTree_,e)),Ub(t,t.transactionQueueTree_),Xa(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Jd(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ii("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Fb(t,e)}},o)}function Fb(t,e){const n=ZR(t,e),r=eh(n),i=eO(t,n);return z7(t,i,r),r}function z7(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=hi(n,l.path);let c=!1,d;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Sl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=U7)c=!0,d="maxretry",i=i.concat(Sl(t.serverSyncTree_,l.currentWriteId,!0));else{const h=JR(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){qR("transaction failed: Data returned ",f,l.path);let p=dr(f);typeof f=="object"&&f!=null&&Fs(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,T=QR(t),v=S7(p,h,T);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=H7(t),o.splice(o.indexOf(y),1),i=i.concat(g7(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Sl(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(Sl(t.serverSyncTree_,l.currentWriteId,!0))}Xa(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Vm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Jd(r[a]);Ub(t,t.transactionQueueTree_)}function ZR(t,e){let n,r=t.transactionQueueTree_;for(n=Et(e);n!==null&&Ru(r)===void 0;)r=Lb(r,n),e=en(e),n=Et(e);return r}function eO(t,e){const n=[];return tO(t,e,n),n.sort((r,i)=>r.order-i.order),n}function tO(t,e,n){const r=Ru(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Fm(e,i=>{tO(t,i,n)})}function Vm(t,e){const n=Ru(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,YR(e,n.length>0?n:void 0)}Fm(e,r=>{Vm(t,r)})}function G7(t,e){const n=eh(ZR(t,e)),r=Lb(t.transactionQueueTree_,e);return I7(r,i=>{zg(t,i)}),zg(t,r),zR(r,i=>{zg(t,i)}),n}function zg(t,e){const n=Ru(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Sl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?YR(e,void 0):n.length=s+1,Xa(t.eventQueue_,eh(e),i);for(let o=0;o<r.length;o++)Jd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Q7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ii(`Invalid query segment '${n}' in query '${t}'`)}return e}const eS=function(t,e){const n=X7(t),r=n.namespace;n.domain==="firebase.com"&&Oa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Oa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||I8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $8(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new on(n.pathString)}},X7=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=q7(t.substring(c,d)));const h=Q7(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return yt(this._path)?null:pR(this._path)}get ref(){return new Ou(this._repo,this._path)}get _queryIdentifier(){const e=FE(this._queryParams),n=bb(e);return n==="{}"?"default":n}get _queryObject(){return FE(this._queryParams)}isEqual(e){if(e=Ft(e),!(e instanceof Vb))return!1;const n=this._repo===e._repo,r=vR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+uW(this._path)}}class Ou extends Vb{constructor(e,n){super(e,n,new Ib,!1)}get parent(){const e=gR(this._path);return e===null?null:new Ou(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}p7(Ou);m7(Ou);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="FIREBASE_DATABASE_EMULATOR_HOST",Xy={};let Z7=!1;function eY(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Oa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=eS(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[J7]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=eS(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Vy(Vy.OWNER):new L8(t.name,t.options,e);R7("Invalid Firebase Database URL",o),yt(o.path)||Oa("Database URL must point to the root of a Firebase Database (not including a child path).");const d=nY(a,t,c,new M8(t.name,n));return new rY(d,t)}function tY(t,e){const n=Xy[e];(!n||n[t.key]!==t)&&Oa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Y7(t),delete n[t.key]}function nY(t,e,n,r){let i=Xy[e.name];i||(i={},Xy[e.name]=i);let s=i[t.toURLString()];return s&&Oa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new F7(t,Z7,n,r),i[t.toURLString()]=s,s}class rY{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(V7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ou(this._repo,Kt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tY(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Oa("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t){_8(Mo),zr(new Rr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return eY(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),rr(_E,TE,t),rr(_E,TE,"esm2017")}xs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};iY();function nO(t){return yB(WD(t))}function sY(t){return(e,n)=>{const r=v8(e,n).run(()=>le(t));y8.set(e,r),b8(r,e)}}function oY(t,{firebaseApp:e,modules:n=[]}){t.provide(HD,e);for(const r of n)t.use(r.bind(null,e))}const aY=""+new URL("bundle.css",import.meta.url).href,rO={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},lY={avatarUrl:aY,headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},uY=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],cY=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],tS=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Dn;(t=>{t.mapIncoming=async e=>{var n,r,i,s;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,reactions:await Promise.all((await Promise.all(((r=e.reactions)==null?void 0:r.map(async o=>await Bi(o)))??[])).map(async o=>fp.mapIncoming(o,e.id)).filter(o=>!!o)),sections:((i=e.sections)==null?void 0:i.map(o=>{var a;return{...o,alignment:o.alignment??"center",countdown:((a=o.countdown)==null?void 0:a.toDate())??null,coverImageUrl:o.coverImageUrl??""}}))??[],countdown:((s=e.countdown)==null?void 0:s.toDate())??null,archived:e.archived??!1}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,archived:e.archived}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived}),e.instanceOf=n=>["locked","archived"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Dn||(Dn={}));var fp;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Bi(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(fp||(fp={}));var Jy;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(Jy||(Jy={}));const na=[{value:"bg-gray-900",label:"Default",background:"bg-gray-900",text:"text-gray-900"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-red-700"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-500"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-900"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-500"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-500"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-500"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-600"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-600"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-600"}],nS=t=>na.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-gray-900",text:(t==null?void 0:t.text)||"text-gray-900"}:e),dY=na.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-gray-700"}:t),sl=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],$t=nO(),qt={content:Ti($t,"content"),projects:Ti($t,"projects"),menuItems:t=>Ti($t,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:Ti($t,"menuItemsPrivate"),blogPosts:t=>Ti($t,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:Ti($t,"blogPostsPrivate"),blogReactions:t=>Ti($t,t?"blogReactionsPrivate":"blogReactions"),usersPublic:Ti($t,"usersPublic"),files:Ti($t,"files")},zn=ok("main",{state:()=>({profile:rO,content:lY,menuItems:cY,projects:uY,blogPosts:{data:{public:[],private:[]},page:1,isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1},publicUsers:[],online:!0,debug:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility]},actions:{async fetchAll(t,e){try{console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredProjects.length||!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[]},this.blogPosts.page=1,this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()]))}catch(n){je.firebaseError(this.debug,n)}},async fetchContent(){try{const t=await Bi(Vt($t,qt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){je.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await rl(qt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Bi(n)))})));this.projects=t.length?nE(t):this.projects}catch(t){je.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await rl(qt.menuItems());if(t)try{e=e.concat(await rl(qt.menuItemsPrivate,[YT("allowedUserIds","array-contains",Vt($t,qt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?nE(e):this.menuItems,this.menuItems}catch(e){je.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{this.blogPosts.fetchLoading=!0;const r=e.visibility??this.blogPosts.visibility;this.visibleBlogPosts.length||(this.blogPosts.page=1,this.blogPosts.isLastPage=!1);var n=[];r==="private"&&t?n=await rl(qt.blogPostsPrivate,[YT("allowedUserIds","array-contains",Vt($t,qt.usersPublic.id,t).id),KT("date","desc"),zT(3*this.blogPosts.page)]):r==="public"&&(n=await rl(qt.blogPosts(!1),[KT("date","desc"),zT(3*this.blogPosts.page)]));const i=await Promise.all(n.map(async s=>await Dn.mapIncoming(s)));this.blogPosts.data[r]=i,this.visibleBlogPosts.length<3*this.blogPosts.page&&(this.blogPosts.isLastPage=!0)}catch(r){je.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await rl(qt.usersPublic)}catch(t){return je.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return Bi(Vt($t,qt.usersPublic.id,t))}catch(e){return je.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{const e=[];for(const n of t){const r=await this.fetchPublicUser(n);r&&e.push({...r,displayName:r.displayName||"Anonymous"})}return e}catch{return[]}},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{return this.blogPosts.mutationLoading=!0,await Zf(Vt($t,qt.blogPosts(eo(e)).id,t),{...e,date:r!=null&&r.includeTime?e.date:Nn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Nn.fromDate(e.countdown):null}),r!=null&&r.fetch&&this.fetchBlogPosts(n),je.success("Successfully created Post"),!0}catch(i){return je.firebaseError(this.debug,i),!1}finally{this.blogPosts.mutationLoading=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.mutationLoading=!0;const i=qt.blogPosts(n).id;let s="";return Dn.Content.instanceOf(e)&&(await Zs(Vt($t,i,t),{...Dn.Content.convert(e),dateUpdated:Nn.now()}),s="content"),Dn.Styling.instanceOf(e)&&(await Zs(Vt($t,i,t),{...Dn.Styling.convert(e)}),s="styling"),Dn.Settings.instanceOf(e)&&(await Zs(Vt($t,i,t),{...Dn.Settings.convert(e)}),s="settings"),this.fetchBlogPosts(r),s}catch(i){je.firebaseError(this.debug,i)}finally{this.blogPosts.mutationLoading=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do await this.fetchBlogPosts(i,{visibility:"public"}),await this.fetchBlogPosts(i,{visibility:"private"}),o=this.allBlogPosts.find(a=>a.id===t),o||(this.blogPosts.page+=1);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,r==="private",s,i,{mutatePost:!1,fetch:!1})||je.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,fp.convert(a),i,{includeTime:!0,fetch:!1})||je.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=Ry(a);await this.updateFileInfo(l.name,o)||je.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i),!0}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}else return je.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){je.firebaseError(this.debug,s)}finally{return this.blogPosts.mutationLoading=!1,!1}},async deleteBlogPost(t,e={includeFiles:!0}){try{const n=this.allBlogPosts.find(r=>r.id===t);if(n){const r=eo(n);return await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n),await uc(Vt($t,qt.blogPosts(r).id,t)),r?this.blogPosts.data.private=this.blogPosts.data.private.filter(i=>i.id!==t):this.blogPosts.data.public=this.blogPosts.data.public.filter(i=>i.id!==t),je.success("Successfully deleted Post"),!0}return!1}catch(n){return je.firebaseError(this.debug,n),!1}},async createBlogReaction(t,e,n,r={includeTime:!1,fetch:!0}){try{const i=eo(t),s=await Bi(Vt($t,qt.blogPosts(i).id,t.id));if(s){const o=await oH(qt.blogReactions(i),{user:Vt($t,qt.usersPublic.id,e.userId),message:e.message,date:r!=null&&r.includeTime?e.date:Nn.now()});return await Zs(Vt($t,qt.blogPosts(i).id,s.id),{reactions:[...s.reactions??[],o]}),r!=null&&r.fetch&&this.fetchBlogPosts(n),je.success("Successfully created Reaction"),!0}return!1}catch(i){return je.firebaseError(this.debug,i),!1}},async deleteBlogReaction(t,e,n,r,i={mutatePost:!0,fetch:!0}){var s;try{if(i.mutatePost){const o=Vt($t,qt.blogPosts(e).id,n.id),a=await Bi(o);a&&await Zs(o,{reactions:((s=a.reactions)==null?void 0:s.filter(l=>l.id!==t))??[]})}return await uc(Vt($t,qt.blogReactions(e).id,t)),i!=null&&i.fetch&&this.fetchBlogPosts(r),je.success("Successfully deleted Reaction"),!0}catch(o){return je.firebaseError(this.debug,o),!1}},async deleteBlogReactionsOfBlogPost(t){try{const e=eo(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await uc(Vt($t,qt.blogReactions(e).id,r.id));return n.length&&je.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return je.firebaseError(this.debug,e),!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Bi(Vt($t,qt.files.path,t))}catch(e){return je.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=Jj(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,je.success("Successfully uploaded File"),!0}catch(r){return je.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=eo(i);s=Vt($t,qt.blogPosts(o).id,i.id)}return await Zf(Vt($t,qt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return je.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=eo(e);n=Vt($t,qt.blogPosts(r).id,e.id)}return await Zs(Vt($t,qt.files.path,t),{post:n??null}),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await uc(Vt($t,qt.files.path,t.name)),await eH(t),e||je.success("Successfully deleted File"),!0}catch(n){return je.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(Ry(r),!0);return n.length&&je.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return je.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),vl=jD(tk);vl.onAuthStateChanged(t=>{Ln().fetchUser(t);const e=zn();e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const gs=nO(),Yo={users:Ti(gs,"users"),usersPublic:Ti(gs,"usersPublic")},Ln=ok("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:vl.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Bi(Vt(gs,Yo.usersPublic.id,t.uid));const e=await Bi(Vt(gs,Yo.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await e9(vl,t,e);await this.fetchUser(n),je.success("Successfully logged in",{route:"dashboard"})}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await ZH(vl,t,e);await Zf(Vt(gs,Yo.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),je.success("Successfully created your account",{route:"dashboard"})}catch(r){je.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Do.credential(this.firebaseUser.email,e);await dE(this.firebaseUser,n),await t9(this.firebaseUser,t),je.success("Successfully changed your e-mail")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Do.credential(this.firebaseUser.email,e);await dE(this.firebaseUser,n),await n9(this.firebaseUser,t),je.success("Successfully changed your password")}}catch(n){je.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await JH(vl,t),je.success("Successfully requested password reset")}catch(e){je.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(Pi(this.currentUser,t)?je.warning("Nothing changed in your details"):(await Zs(Vt(gs,Yo.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your profile")))}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?Pi(this.publicUser,t)?je.warning("Nothing changed in your public profile"):(await Zs(Vt(gs,Yo.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):this.firebaseUser?(await Zf(Vt(gs,Yo.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),je.success("Successfully updated your public profile")):je.firebaseError(!1)}catch(e){je.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await i9(vl),this.currentUser=null,this.publicUser=null,je.success("Successfully logged out",{route:"home"})}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await uc(Vt(gs,Yo.users.id,this.firebaseUser.uid)),await s9(this.firebaseUser),this.currentUser=null,this.publicUser=null,je.success("Successfully deleted your account",{route:"home"}))}catch(t){je.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function hY(t,e){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ee("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z","clip-rule":"evenodd"})])}function fY(t,e){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ee("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 018.75 1h2.5A2.75 2.75 0 0114 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 016 4.193V3.75zm6.5 0v.325a41.622 41.622 0 00-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25zM10 10a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V11a1 1 0 00-1-1H10z","clip-rule":"evenodd"}),ee("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 01-9.274 0C3.985 17.585 3 16.402 3 15.055z"})])}function pY(t,e){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ee("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}function mY(t,e){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ee("path",{"fill-rule":"evenodd",d:"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 002.273 1.765 11.842 11.842 0 00.976.544l.062.029.018.008.006.003zM10 11.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z","clip-rule":"evenodd"})])}function gY(t,e){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ee("path",{d:"M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z"})])}function vY(t,e){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[ee("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})])}const yY=["href"],wY=Ae({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{}},setup(t){return(e,n)=>{const r=ls("RouterLink");return e.url?(D(),J(Ie,{key:0},[e.url.startsWith("http")?(D(),J("a",{key:1,class:De(e.class),href:e.url},[Pe(e.$slots,"default")],10,yY)):(D(),he(r,{key:0,class:De(e.class),"active-class":e.activeClass,to:{path:e.url}},{default:ge(()=>[Pe(e.$slots,"default")]),_:3},8,["class","active-class","to"]))],64)):Pe(e.$slots,"default",{key:1,class:De(e.class)})}}}),bY=["type","disabled"],_Y={class:De("w-full flex flex-column justify-center")},Ct=Ae({__name:"CustomButton",props:{class:{},url:{},type:{},activeClass:{},style:{},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=re(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"action-positive":return e.outlined?"button-outlined-action-positive":"button-action-positive";case"orange":return e.outlined?"button-outlined-orange":"button-orange";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(D(),he(wY,{class:De([n.value,"md:mt-0 py-2 px-4 rounded-full",r.list?"flex flex-column justify-center":"",...x(gl)(e.class)]),activeClass:r.activeClass,url:r.url},{default:ge(({class:s})=>[ee("button",{class:De(s),style:On(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=o=>r.$emit("click"))},[ee("span",_Y,[r.loading?(D(),he(x(hY),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):ie("",!0),Pe(r.$slots,"default")])],14,bY)]),_:3},8,["class","activeClass","url"]))}}),TY={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},EY={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},SY={class:"bg-gray-800 border border-gray-500 rounded-2xl p-5"},CY={class:"p-8"},IY={class:"title-secondary"},AY={class:"mt-4 text-gray-300"},kY={class:"my-2"},xY={class:"grid grid-cols-4 mt-10 gap-3"},Bb=Ae({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return kd(()=>{document.body.style.overflow=""}),yn(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${lH()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(D(),J("div",TY,[ee("div",{class:"fixed inset-0 bg-gray-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),ee("div",EY,[ee("div",SY,[ee("div",CY,[ee("h3",IY,Ke(n.title),1),ee("div",AY,[(D(!0),J(Ie,null,ut(Array.isArray(n.description)?[...n.description]:[n.description],i=>(D(),J("p",kY,Ke(i),1))),256))]),Pe(n.$slots,"default")]),ee("div",xY,[ae(Ct,{class:De(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:ge(()=>[et(" Cancel ")]),_:1},8,["class"]),n.confirmText?(D(),he(Ct,Ht({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:ge(()=>[et(Ke(n.confirmText),1)]),_:1},16,["loading"])):ie("",!0)])])])])):ie("",!0)}}),PY={class:"grid grid-flow-col text-center"},DY={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},RY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},OY={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},NY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},MY={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},LY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},$Y={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},UY={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},rS=Ae({__name:"Countdown",props:{countdown:{},alignment:{}},setup(t){const e=t,n=re(()=>e.countdown-new Date().getTime()),r=(i,s,o,a)=>i===0&&s===0&&o===0&&a===0;return(i,s)=>{const o=ls("vue-countdown");return D(),J("div",{class:De({block:!i.alignment,flex:!!i.alignment,"justify-start":i.alignment==="left","justify-center":i.alignment==="center","justify-end":i.alignment==="right"})},[ae(o,{time:n.value>0?n.value:0},{default:ge(({days:a,hours:l,minutes:u,seconds:c})=>[ee("div",PY,[a>0||r(a,l,u,c)?(D(),J("div",DY,[ee("span",RY,[ee("span",{class:De({"animation ease-in animate-timer":a>=0&&l===23&&u===59&&c===59})},Ke(a),3)]),et(" days ")])):ie("",!0),a>0||l>0||r(a,l,u,c)?(D(),J("div",OY,[ee("span",NY,[ee("span",{class:De({"animation ease-in animate-timer":l>=0&&u===59&&c===59})},Ke(l),3)]),et(" hrs ")])):ie("",!0),a>0||l>0||u>0||r(a,l,u,c)?(D(),J("div",MY,[ee("span",LY,[ee("span",{class:De({"animation ease-in animate-timer":u>=0&&c===59})},Ke(u),3)]),et(" mins ")])):ie("",!0),a>0||l>0||u>0||c>0||r(a,l,u,c)?(D(),J("div",$Y,[ee("span",UY,[ee("span",{class:De({"animation ease-in animate-timer":c===59})},Ke(c),3)]),et(" secs ")])):ie("",!0)])]),_:1},8,["time"])],2)}}});const FY={class:"flex justify-between"},VY={class:"flex flex-col"},BY={class:"flex justify-between"},jY={class:"xl:flex"},HY={key:0,class:"flex gap-2"},WY=["src"],YY=["href"],KY={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},zY={key:1,class:"flex gap-2"},GY=["src"],qY={key:0,class:"xl:mt-2"},Pr=Ae({__name:"Bubble",props:{title:{},subTitle:{},url:{},description:{},avatar:{},loading:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},setup(t){return(e,n)=>(D(),J("div",{class:De(["group/bubble color-primary rounded-3xl p-5 md:p-10",e.url?"hover:bg-opacity-30":null,e.loading?"animate-pulse":null])},[ee("div",FY,[ee("div",VY,[ee("div",BY,[ee("div",jY,[e.url?(D(),J("div",HY,[e.avatar?(D(),J("img",{key:0,class:"rounded-full h-10 w-10",src:e.avatar},null,8,WY)):ie("",!0),ee("a",{href:e.url},[ee("h2",KY,Ke(e.title),1)],8,YY)])):e.title?(D(),J("div",zY,[e.avatar?(D(),J("img",{key:0,class:"rounded-full border border-gray-400 h-10 w-10",src:e.avatar},null,8,GY)):ie("",!0),ee("h2",Ht({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},e.titleProps),Ke(e.title),17)])):ie("",!0),e.subTitle?(D(),J("p",Ht({key:2,class:"text-sm text-gray-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},e.subTitleProps),Ke(e.subTitle),17)):ie("",!0)])]),e.description?(D(),J("div",qY,[(D(!0),J(Ie,null,ut(Array.isArray(e.description)?e.description:[e.description],r=>(D(),J("p",Ht({class:"text-gray-400 mb-2"},e.descriptionProps),Ke(r),17))),256))])):ie("",!0)]),Pe(e.$slots,"right")]),Pe(e.$slots,"default")],2))}}),QY={key:0,class:"text-red-600"},jb=Ae({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(D(),J("p",QY,Ke(e.error),1)):ie("",!0)}});var Hb=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(Hb||{});const Tt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},XY={class:"m-4"},JY=["for"],hr=Ae({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=re(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===Hb.Required)?" *":""):void 0),o=re(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Tt.Min),typeof r.maxValue=="number"&&h.push(Tt.Max),typeof r.minLength=="number"&&h.push(Tt.MinLength),typeof r.maxLength=="number"&&h.push(Tt.MaxLength),r.compare&&h.push(Tt.EqualTo);const f={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=h.filter(g=>!g.test(f)).map(g=>{var y;return((y=g.compareError)==null?void 0:y.call(g,f))||g.error(f)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,f;return D(),J("div",XY,[c.label?(D(),J("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Ke(s.value),17,JY)):ie("",!0),(D(),he(Cd(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"textarea":"input"),Ht({id:o.value,ref:"input",value:i.value,class:"input-field",type:((f=c.inputProps)==null?void 0:f.type)||"text",placeholder:c.placeholder,onInput:a},c.inputProps),null,16,["id","value","type","placeholder"])),c.error?(D(),he(jb,{key:1,name:c.name,error:c.error},null,8,["name","error"])):ie("",!0)])}}}),ZY={class:"flex flex-col"},eK=Ae({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r,firebaseUser:i}=Xt(Ln()),{deleteBlogReaction:s}=zn();return(o,a)=>(D(),he(Pr,{class:De(["p-5 mb-5 w-full md:w-3/4",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"]),titleProps:{class:"!text-base mt-1"},title:e.reaction.user.displayName||"Unknown user",subTitle:x(Oy)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message},nr({_:2},[x(n)&&e.reaction.user.id===x(n).id||x(r)?{name:"right",fn:ge(()=>[ee("div",ZY,[e.post.locked?ie("",!0):(D(),he(Ct,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:a[0]||(a[0]=l=>{var u;return x(s)(e.reaction.id,x(eo)(e.post),e.post,(u=x(i))==null?void 0:u.uid)})},{default:ge(()=>[et(" Delete ")]),_:1}))])]),key:"0"}:void 0]),1032,["class","title","subTitle","avatar","description"]))}}),tK=["onSubmit"],nK={class:"grid justify-items-center p-5"},rK=Ae({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n,firebaseUser:r}=Xt(Ln()),i=zn(),{content:s}=Xt(i),{createBlogReaction:o}=i,a=le(),l=$n({reaction:{value:"",error:""}}),u=async()=>{var c;await a.value.test(),!l.reaction.error&&n.value&&await o(e.post,{userId:n.value.id,postId:e.post.id,message:l.reaction.value},(c=r.value)==null?void 0:c.uid)&&(l.reaction.value=""),uH()};return(c,d)=>(D(),J("form",{action:"",onSubmit:Pt(u,["prevent"])},[ee("div",nK,[(D(!0),J(Ie,null,ut(c.post.reactions,h=>(D(),he(eK,{post:c.post,reaction:h},null,8,["post","reaction"]))),256)),!x(n)||c.post.reactions.filter(h=>h.user.id===x(n).id).length<3?(D(),he(Pr,{key:0,class:De(["p-5 flex justify-center w-full md:w-3/4",c.post.colorTertiary||"bg-gray-700",c.post.opacityTertiary||"bg-opacity-50"])},{default:ge(()=>[ae(hr,{class:"w-5/6",id:c.post.id,inputProps:{class:["rounded-xl border-none !placeholder-gray-300",c.post.colorSecondary||c.post.colorPrimary||"bg-gray-600",c.post.opacitySecondary||"!bg-opacity-20",!c.post.locked&&x(n)?"hover:!bg-gray-700 focus:!bg-gray-600 focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50"],disabled:!x(n)||c.post.locked},ref_key:"reaction",ref:a,name:"reaction",placeholder:c.post.locked?"Locked for comments":x(n)?"Reply":x(s).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":d[0]||(d[0]=h=>l.reaction.value=h),error:l.reaction.error,"onUpdate:error":d[1]||(d[1]=h=>l.reaction.error=h),rules:[x(Tt).Required],onClick:d[2]||(d[2]=()=>!x(n)&&!c.post.locked?x(Qb).push({name:"login"}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):ie("",!0)])],40,tK))}}),iK=["href"],sK={class:"break-all"},oK={key:1},aK={key:2},Uh=Ae({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(D(!0),J(Ie,null,ut(e.description.split(`
`).map(s=>s.trim()),s=>(D(),J("div",{class:De(["text-lg",e.class])},[ee("div",{class:De({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(D(),J("a",{key:0,href:s,class:"underline hover:no-underline"},[ee("span",sK,Ke(s),1)],8,iK)):s?(D(),J("p",oK,Ke(s),1)):(D(),J("br",aK))],2)],2))),256))}}),lK=["src"],iS=Ae({__name:"BlogPostImage",props:{post:{},coverImageUrl:{},maxHeight:{},alignment:{}},setup(t){return(e,n)=>(D(),J("div",{class:De({flex:!0,"justify-start":e.alignment==="left","justify-center":e.alignment===void 0||e.alignment==="center","justify-end":e.alignment==="right"})},[ae(Pr,{class:De(["!p-5 my-5 w-fit",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"])},{default:ge(()=>[ee("img",{class:"min-w-25",src:e.coverImageUrl,style:On(`max-height: ${e.maxHeight??"50vh"}`)},null,12,lK)]),_:1},8,["class"])],2))}}),uK={class:"flex justify-between h-fit mt-2 gap-2"},cK={class:"flex flex-wrap gap-3"},dK={class:"w-full"},hK={key:0,class:"w-fit flex flex-col justify-start ms-5 gap-2"},fK={class:"flex gap-3"},pK=ee("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[ee("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1),mK=Ae({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Xt(zn()),{firebaseUser:r,isOwner:i}=Xt(Ln()),s=re(()=>{var a;return(a=e.post.allowedUserIds)!=null&&a.length?n.value.filter(l=>{var u;return(u=e.post.allowedUserIds)==null?void 0:u.includes(l.id)}):[]}),o=()=>{const a=document.createElement("textarea"),{protocol:l,hostname:u,port:c,pathname:d}=window.location,h=`${l}//${u}`+(u==="localhost"?`:${c}`:"")+d;a.value=`${h}#${e.post.id}`,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),je.success("Copied link!")};return(a,l)=>(D(),he(Pr,{id:a.post.id,class:De(["min-h-[90vh] border-4 border-transparent",a.post.colorPrimary||"bg-gray-900",a.post.opacityPrimary||"bg-opacity-30"]),title:a.post.title,subTitle:x(Oy)(new Date(a.post.date))+(a.post.dateUpdated?" - updated "+x(Oy)(new Date(a.post.dateUpdated)):"")+(a.post.locked?" - [LOCKED]":""),loading:a.post.loading},{right:ge(()=>[ee("div",fK,[ae(Ct,{class:"border-none bg-gray-500 text-purple-100 bg-opacity-10 h-fit",type:"secondary",outlined:"",onClick:o},{default:ge(()=>[pK]),_:1})])]),default:ge(()=>{var u;return[ee("div",uK,[ee("div",cK,[(D(!0),J(Ie,null,ut(s.value,c=>{var d;return D(),he(Pr,{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50","sub-title":c.id===((d=x(r))==null?void 0:d.uid)?"You":c.displayName,"sub-title-props":{class:"xl:!ms-0"}},null,8,["sub-title"])}),256))]),x(i)?(D(),J("div",{key:0,class:De(["flex justify-end lg:hidden h-fit ms-5 gap-3",(u=a.post.allowedUserIds)!=null&&u.length?"flex-col md:flex-row":"flex-row"])},[ae(Ct,{class:"min-w-80",onClick:l[0]||(l[0]=c=>a.$emit("editClicked"))},{default:ge(()=>[et(" Edit ")]),_:1}),ae(Ct,{class:"min-w-80",type:"danger",outlined:"",onClick:l[1]||(l[1]=c=>a.$emit("deleteClicked"))},{default:ge(()=>[et(" Delete ")]),_:1})],2)):ie("",!0)]),ae(Pr,{class:De(["min-h-[125px] md:min-h-[160px] p-5 mt-5",a.post.colorSecondary||a.post.colorPrimary,a.post.opacitySecondary||"bg-opacity-25"])},{default:ge(()=>[ee("div",{class:De(["flex relative",a.post.countdown||a.post.alignment==="center"?"flex justify-between":""])},[ee("div",dK,[a.post.countdown?(D(),he(rS,{key:0,countdown:new Date(a.post.countdown).getTime(),alignment:a.post.alignment},null,8,["countdown","alignment"])):ie("",!0),a.post.description?(D(),he(Uh,{key:1,description:a.post.description,alignment:a.post.alignment},null,8,["description","alignment"])):ie("",!0)]),ee("div",{class:De(["hidden lg:flex w-full justify-end",a.post.countdown||a.post.alignment==="center"?"absolute":""])},[x(i)?(D(),J("div",hK,[ae(Ct,{class:"col-span-full md:col-span-2 md:col-start-3",onClick:l[2]||(l[2]=c=>a.$emit("editClicked"))},{default:ge(()=>[et(" Edit ")]),_:1}),ae(Ct,{class:"col-span-full md:col-span-2 md:col-start-3",type:"danger",outlined:"",onClick:l[3]||(l[3]=c=>a.$emit("deleteClicked"))},{default:ge(()=>[et(" Delete ")]),_:1})])):ie("",!0)],2)],2),a.post.coverImageUrl?(D(),he(iS,{key:0,post:a.post,"cover-image-url":a.post.coverImageUrl},null,8,["post","cover-image-url"])):ie("",!0),a.post.descriptionFooter?(D(),he(Uh,{key:1,description:a.post.descriptionFooter,alignment:a.post.alignment},null,8,["description","alignment"])):ie("",!0),(D(!0),J(Ie,null,ut(a.post.sections,c=>(D(),J("div",null,[c.title?(D(),he(Uh,{key:0,class:"!text-3xl",description:c.title,alignment:c.alignment},null,8,["description","alignment"])):ie("",!0),c.description?(D(),he(Uh,{key:1,description:c.description,alignment:c.alignment},null,8,["description","alignment"])):ie("",!0),c.coverImageUrl?(D(),he(iS,{key:2,post:a.post,"cover-image-url":c.coverImageUrl,alignment:c.alignment,"max-height":"30vh"},null,8,["post","cover-image-url","alignment"])):ie("",!0),c.countdown?(D(),he(rS,{key:3,countdown:new Date(c.countdown).getTime(),alignment:c.alignment},null,8,["countdown","alignment"])):ie("",!0)]))),256))]),_:1},8,["class"]),ae(rK,{post:a.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","loading"]))}}),iO=Ae({__name:"ArrowIcon",props:{rotate:{type:Boolean}},setup(t){return(e,n)=>(D(),he(x(pY),{class:De(["sm:block mt-0.5 mr-2.5 h-5 w-5 animation",e.rotate?"rotate-180":""])},null,8,["class"]))}}),gK={class:"flex m-4 justify-center"},Fh=Ae({__name:"Spoiler",props:{text:{}},setup(t){const e=le(!1);return(n,r)=>(D(),J(Ie,null,[ee("div",gK,[ae(Ct,{class:"w-3/4 md:w-2/3 flex justify-center",outlined:"",onClick:r[0]||(r[0]=i=>e.value=!e.value)},{default:ge(()=>[ae(iO,{rotate:e.value},null,8,["rotate"]),et(" "+Ke(n.text),1)]),_:1})]),Ji(ee("div",null,[Pe(n.$slots,"default")],512),[[Is,e.value]])],64))}}),vK={class:"m-4"},yK=["for"],wK=["id"],pp=Ae({__name:"CheckBoxField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},inputProps:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re({get:()=>r.modelValue,set:u=>{l("update:modelValue",u)}}),s=re(()=>r.name+(r.id?"."+r.id:"")),o=async u=>{},a=u=>{u.stopPropagation(),l("update:modelValue",!r.modelValue)},l=n;return e({test:o}),(u,c)=>(D(),J("div",vK,[u.label?(D(),J("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:s.value},u.labelProps),Ke(u.label),17,yK)):ie("",!0),ee("div",{class:"checkbox-field",onClick:a},[Ji(ee("input",Ht({id:s.value,ref:"input","onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),type:"checkbox"},u.inputProps),null,16,wK),[[Wp,i.value]])])]))}}),bK={class:"m-4"},_K=["for"],sS=Ae({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=re(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>{const c=ls("VueDatePicker");return D(),J("div",bK,[l.label?(D(),J("label",Ht({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Ke(l.label),17,_K)):ie("",!0),ae(c,{uid:s.value,class:"input-field px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d)},null,8,["uid","modelValue"])])}}});let Vh;const TK=new Uint8Array(16);function EK(){if(!Vh&&(Vh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Vh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vh(TK)}const qn=[];for(let t=0;t<256;++t)qn.push((t+256).toString(16).slice(1));function SK(t,e=0){return qn[t[e+0]]+qn[t[e+1]]+qn[t[e+2]]+qn[t[e+3]]+"-"+qn[t[e+4]]+qn[t[e+5]]+"-"+qn[t[e+6]]+qn[t[e+7]]+"-"+qn[t[e+8]]+qn[t[e+9]]+"-"+qn[t[e+10]]+qn[t[e+11]]+qn[t[e+12]]+qn[t[e+13]]+qn[t[e+14]]+qn[t[e+15]]}const CK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oS={randomUUID:CK};function sO(t,e,n){if(oS.randomUUID&&!e&&!t)return oS.randomUUID();t=t||{};const r=t.random||(t.rng||EK)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return SK(r)}const IK=Ae({__name:"TrashIcon",setup(t){return(e,n)=>(D(),he(x(vY),{class:"h-7 w-7"}))}}),AK=Ae({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(D(),he(Ct,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:ge(()=>[ae(IK)]),_:1}))}}),kK={class:"m-4"},xK=["for"],PK={class:"flex justify-between gap-1"},DK=["id","disabled"],RK={key:2},OK={class:"flex justify-center"},NK=["src"],Zy=Ae({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Xt(Ln()),{fetchFileInfo:i,uploadFile:s,deleteFile:o}=zn(),a=le(),l=le(null),u=le(0),c=re(()=>Ry(n.modelValue||"uploads/"+sO())),d=re(()=>c.value.name),h=le(),f=le(""),p=v=>{const _=v.target;_.files&&_.files.length>0&&(l.value=_.files[0],f.value=l.value.name,g())},g=async()=>{var v,_;l.value&&((v=r.value)!=null&&v.uid)&&await s(c.value,l.value,m=>u.value=m,f.value,(_=r.value)==null?void 0:_.uid,n.isPublic,n.blogPost)&&(T("update:modelValue",await Zj(c.value)),l.value=null,u.value=0)},y=async()=>{await o(c.value)?(window.URL.revokeObjectURL(n.modelValue),a.value.value=null,T("update:modelValue","")):T("update:error","Failed to delete File reference")};yn(()=>n.modelValue,async()=>{var v;h.value=n.modelValue?await i(d.value):void 0,f.value=((v=h.value)==null?void 0:v.name)??""},{immediate:!0});const T=e;return(v,_)=>(D(),J("div",kK,[v.label?(D(),J("label",{key:0,class:"block text-sm font-bold mb-2",for:`${v.id}`},Ke(v.label),9,xK)):ie("",!0),ee("div",PK,[ee("input",{id:`${v.id}`,ref_key:"fileUpload",ref:a,type:"file",accept:"image/*",onChange:p,class:"input-field",disabled:!!h.value},null,40,DK),h.value?(D(),he(AK,{key:0,onClick:y})):ie("",!0)]),v.error?(D(),he(jb,{key:1,name:v.name,error:v.error},null,8,["name","error"])):ie("",!0),u.value>0?(D(),J("div",RK,"Uploading: "+Ke(u.value.toFixed(2))+"%",1)):ie("",!0),ee("div",OK,[ee("div",Tn(tr(v.imageContainerProps)),[h.value?(D(),J("img",Ht({key:0,class:"mt-4 simple-field w-full min-w-25 md:max-w-fit",src:v.modelValue},v.imageProps),null,16,NK)):ie("",!0)],16)])]))}}),MK={class:"m-4"},LK=["for"],$K=["id","name","multiple"],UK=["value"],ar=Ae({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=le(),s=re(()=>(r.rules??[]).some(h=>h.type===Hb.Required)),o=re({get:()=>{if(r.multiple){const h=Array.isArray(r.modelValue)?r.modelValue:[];return h.length?h:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const h=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return h||(s.value&&r.options.length?r.options[0].value:"")}},set:h=>{var f;d("update:modelValue",gl(h)[0]),d("update:arrayValue",gl(h)),r.multiple||(f=i.value)==null||f.blur()}}),a=re(()=>r.options.find(({value:h})=>h===o.value)),l=re(()=>r.label+(s.value?" *":"")),u=re(()=>r.name+(r.id?"."+r.id:"")),c=async()=>{const h=r.rules||[];let f="";for(const p of gl(o.value)){const g={value:p.toString()},y=h.filter(T=>!T.test(g)).map(T=>T.error(g))||[];if(y[0]){f=y[0];break}}d("update:error",f)};fn(()=>{s.value&&(d("update:modelValue",gl(o.value)[0]),d("update:arrayValue",gl(o.value)))});const d=n;return e({test:c}),(h,f)=>{var p,g;return D(),J("div",MK,[ee("label",{class:"block text-sm font-bold mb-2",for:u.value},Ke(l.value),9,LK),Ji(ee("select",{ref_key:"select",ref:i,id:u.value,name:h.name,"onUpdate:modelValue":f[0]||(f[0]=y=>o.value=y),class:De(["w-full px-4 py-2 select-field block",(p=a.value)==null?void 0:p.background,(g=a.value)!=null&&g.background?"text-white focus:text-black bg-opacity-50":"",h.multiple?"bg-white":""]),multiple:h.multiple},[(D(!0),J(Ie,null,ut(h.options,({value:y,label:T,background:v,text:_},m)=>(D(),J("option",{value:y??m,class:De(["h-20 select-field",v,v?"bg-opacity-50":"bg-opacity-40",_])},Ke(T),11,UK))),256))],10,$K),[[H0,o.value]]),h.error?(D(),he(jb,{key:0,name:h.name,error:h.error},null,8,["name","error"])):ie("",!0)])}}}),FK={class:"flex justify-evenly font-bold"},VK={class:"px-5"},BK={class:"flex justify-evenly font-bold"},jK={class:"flex justify-center"},HK=Ae({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Xt(Ln()),i=zn(),{createBlogPost:s,updateBlogPost:o,allowedPublicUsers:a,deleteFilesOfBlogPost:l,toggleBlogPostVisibility:u}=i,{blogPosts:c,publicUsers:d}=Xt(i),h=le(),f=le(),p=le(),g=le(),y=le(),T=le([]),v=le([]),_=le([]),m=le([]),w=le(),E=le(),L=le(),k=le(),A=le(),C=le(),$=le(),V=le(),I=le(),H=le(),M=le(),O=re(()=>d.value.map(({id:R,displayName:N})=>({value:R,label:N}))),W=le([]),X=re(()=>W.value.map(R=>R.displayName).join(", ")),F=()=>({id:{value:sO(),error:""},title:{value:"",error:""},description:{value:"",error:""},descriptionFooter:{value:"",error:""},alignment:{value:"center",error:""},sections:{value:[],error:""},locked:{value:!1,error:""},colorPrimary:{value:"",error:""},colorSecondary:{value:"",error:""},colorTertiary:{value:"",error:""},opacityPrimary:{value:"",error:""},opacitySecondary:{value:"",error:""},opacityTertiary:{value:"",error:""},coverImageUrl:{value:"",error:""},allowedUserIds:{value:[],error:""},countdown:{value:null,error:""},archived:{value:!1,error:""}}),b=$n(F()),Q=re(()=>{var R,N;return{id:b.id.value,title:b.title.value,description:b.description.value,descriptionFooter:b.descriptionFooter.value,alignment:b.alignment.value,sections:b.sections.value.map(Y=>({title:Y.title.value,description:Y.description.value,alignment:Y.alignment.value,coverImageUrl:Y.coverImageUrl.value,countdown:Y.countdown.value})),date:((R=n.selected)==null?void 0:R.date)||new Date,dateUpdated:((N=n.selected)==null?void 0:N.dateUpdated)||new Date,locked:!!b.locked.value,colorPrimary:b.colorPrimary.value,colorSecondary:b.colorSecondary.value,colorTertiary:b.colorTertiary.value,opacityPrimary:b.opacityPrimary.value,opacitySecondary:b.opacitySecondary.value,opacityTertiary:b.opacityTertiary.value,coverImageUrl:b.coverImageUrl.value,reactions:[],allowedUserIds:b.allowedUserIds.value,countdown:b.countdown.value,archived:b.archived.value}}),te=re(()=>Dn.Content.convert(Q.value)),Z=re(()=>!!n.selected&&!Pi(Dn.Content.convert(Dn.convert(n.selected)),te.value)),ue=re(()=>Dn.Styling.convert(Q.value)),we=re(()=>!!n.selected&&!Pi(Dn.Styling.convert(Dn.convert(n.selected)),ue.value)),B=re(()=>Dn.Settings.convert(Q.value)),G=re(()=>!!n.selected&&!Pi(Dn.Settings.convert(Dn.convert(n.selected)),B.value)),se=re(()=>{var R,N,Y,oe,fe,ye;return!!((N=(R=n.selected)==null?void 0:R.allowedUserIds)!=null&&N.length)&&!((Y=B.value.allowedUserIds)!=null&&Y.length)||!((fe=(oe=n.selected)==null?void 0:oe.allowedUserIds)!=null&&fe.length)&&!!((ye=B.value.allowedUserIds)!=null&&ye.length)}),z=re(()=>{const R=[];return Z.value&&R.push("Content"),we.value&&R.push("Styling"),G.value&&R.push("Settings"),R.length?"Update "+My(R):void 0}),de=re(()=>!!n.selected&&eo(n.selected)),Se=async()=>{var R,N,Y,oe,fe,ye,ve,pe,Te;if(await Promise.all([f.value.test(),p.value.test(),g.value.test(),y.value.test(),...(R=T.value)==null?void 0:R.map(_e=>_e.test()),...(N=v.value)==null?void 0:N.map(_e=>_e.test()),...(Y=_.value)==null?void 0:Y.map(_e=>_e.test()),...(oe=m.value)==null?void 0:oe.map(_e=>_e.test()),E.value.test(),L.value.test(),k.value.test(),A.value.test(),C.value.test(),I.value.test(),H.value.test(),M.value.test()]),b.allowedUserIds.value.length&&!W.value.length&&(b.allowedUserIds.error="Invalid user ID's"),Object.keys(b).map(_e=>b[_e].error).every(_e=>!_e))if(!n.selected)await s(b.id.value,Q.value,(fe=r.value)==null?void 0:fe.uid)&&P("close");else if(se.value)await u(n.selected.id,Dn.convert(Q.value),n.selected.reactions,Q.value.allowedUserIds.length?"private":"public",(ye=r.value)==null?void 0:ye.uid)&&je.success("Successfully updated Post Visibility"),P("close");else{let _e=[];Z.value&&_e.push(await o(n.selected.id,te.value,de.value,(ve=r.value)==null?void 0:ve.uid)),we.value&&_e.push(await o(n.selected.id,ue.value,de.value,(pe=r.value)==null?void 0:pe.uid)),G.value&&_e.push(await o(n.selected.id,B.value,de.value,(Te=r.value)==null?void 0:Te.uid)),_e=_e.filter($e=>typeof $e=="string"),_e.length&&(je.success(`Successfully updated Post ${My(_e)}`),P("close"))}},S=async()=>{l(Q.value,n.selected??void 0),Object.assign(b,F()),P("close")};yn(()=>n.selected,R=>{var N,Y,oe,fe,ye,ve,pe;R?(b.title.value=R.title,b.description.value=R.description,b.descriptionFooter.value=R.descriptionFooter||"",b.alignment.value=R.alignment,(N=R.sections)!=null&&N.length&&(b.sections.value=R.sections.map(Te=>({title:{value:Te.title,error:""},description:{value:Te.description,error:""},alignment:{value:Te.alignment,error:""},coverImageUrl:{value:Te.coverImageUrl??"",error:""},countdown:{value:Te.countdown,error:""}}))),b.locked.value=!!R.locked,b.colorPrimary.value=((Y=na.find(Te=>Te.value===R.colorPrimary))==null?void 0:Y.value.toString())||"bg-gray-900",b.colorSecondary.value=((oe=nS(na.find(Te=>Te.value===b.colorPrimary.value)).find(Te=>Te.value===(R.colorSecondary||"")))==null?void 0:oe.value.toString())||"",b.colorTertiary.value=((fe=na.find(Te=>Te.value===(R.colorTertiary||"")))==null?void 0:fe.value.toString())||"",b.opacityPrimary.value=((ye=sl.find(Te=>Te.value===(R.opacityPrimary||"")))==null?void 0:ye.value.toString())||"",b.opacitySecondary.value=((ve=sl.find(Te=>Te.value===(R.opacitySecondary||"")))==null?void 0:ve.value.toString())||"",b.opacityTertiary.value=((pe=sl.find(Te=>Te.value===(R.opacityTertiary||"")))==null?void 0:pe.value.toString())||"",b.coverImageUrl.value=R.coverImageUrl||"",b.allowedUserIds.value=R.allowedUserIds||[],b.countdown.value=R.countdown,b.archived.value=R.archived):Object.assign(b,F())}),yn(()=>b.allowedUserIds.value,async R=>{W.value=await a(R)});const P=e;return(R,N)=>(D(),he(Bb,{isOpen:R.isOpen,title:R.selected?"Update Post":"Create Post",description:R.selected?"Update this post":"Create a new post","confirm-text":R.selected?z.value:"Create","confirm-loading":x(c).mutationLoading,onConfirm:Se,onCancel:S},{default:ge(()=>[ee("form",{ref_key:"dialog",ref:h,class:"pt-6 mb-4 xl:px-36"},[ae(hr,{ref_key:"title",ref:f,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:b.title.value,"onUpdate:modelValue":N[0]||(N[0]=Y=>b.title.value=Y),error:b.title.error,"onUpdate:error":N[1]||(N[1]=Y=>b.title.error=Y),rules:[x(Tt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),ae(hr,{ref_key:"description",ref:p,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:b.description.value,"onUpdate:modelValue":N[2]||(N[2]=Y=>b.description.value=Y),error:b.description.error,"onUpdate:error":N[3]||(N[3]=Y=>b.description.error=Y),"max-length":500,"input-props":{type:"textarea",rows:b.description.value.split(`
`).length<=5?b.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),ae(ar,{ref_key:"alignment",ref:y,name:"alignment",label:"Alignment",modelValue:b.alignment.value,"onUpdate:modelValue":N[4]||(N[4]=Y=>b.alignment.value=Y),error:b.alignment.error,"onUpdate:error":N[5]||(N[5]=Y=>b.alignment.error=Y),options:x(tS),rules:[x(Tt).Required]},null,8,["modelValue","error","options","rules"]),ae(Zy,{ref_key:"coverImageUrl",ref:V,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:b.coverImageUrl.value,"onUpdate:modelValue":N[6]||(N[6]=Y=>b.coverImageUrl.value=Y),error:b.coverImageUrl.error,"onUpdate:error":N[7]||(N[7]=Y=>b.coverImageUrl.error=Y),"blog-post":Q.value},null,8,["modelValue","error","blog-post"]),R.isOpen?(D(),he(Fh,{key:0,text:"Other content"},{default:ge(()=>[ae(hr,{ref_key:"descriptionFooter",ref:g,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:b.descriptionFooter.value,"onUpdate:modelValue":N[8]||(N[8]=Y=>b.descriptionFooter.value=Y),error:b.descriptionFooter.error,"onUpdate:error":N[9]||(N[9]=Y=>b.descriptionFooter.error=Y),"max-length":300,"input-props":{type:"textarea",rows:b.descriptionFooter.value.split(`
`).length<=5?b.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),ae(sS,{ref_key:"countdown",ref:H,name:"countdown",label:"Countdown",modelValue:b.countdown.value,"onUpdate:modelValue":N[10]||(N[10]=Y=>b.countdown.value=Y),error:b.countdown.error,"onUpdate:error":N[11]||(N[11]=Y=>b.countdown.error=Y)},null,8,["modelValue","error"])]),_:1})):ie("",!0),R.isOpen?(D(),he(Fh,{key:1,text:"Sections"},{default:ge(()=>[(D(!0),J(Ie,null,ut(b.sections.value,(Y,oe)=>(D(),J("div",{key:oe,class:"border border-gray-400 rounded-lg py-5 mb-5"},[ee("div",FK,[ee("p",null,"Section "+Ke(oe+1),1)]),ee("div",VK,[ae(hr,{ref_for:!0,ref_key:"sectionTitle",ref:T,id:oe,name:"sectionTitle",label:"Section Title",modelValue:Y.title.value,"onUpdate:modelValue":fe=>Y.title.value=fe,error:Y.title.error,"onUpdate:error":fe=>Y.title.error=fe,max:50},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(hr,{ref_for:!0,ref_key:"sectionDescription",ref:v,id:oe,name:"sectionDescription",label:"Section Description",modelValue:Y.description.value,"onUpdate:modelValue":fe=>Y.description.value=fe,error:Y.description.error,"onUpdate:error":fe=>Y.description.error=fe,max:300},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(ar,{ref_for:!0,ref_key:"sectionAlignment",ref:_,id:oe,name:"sectionAlignment",label:"Alignment",modelValue:Y.alignment.value,"onUpdate:modelValue":fe=>Y.alignment.value=fe,error:Y.alignment.error,"onUpdate:error":fe=>Y.alignment.error=fe,options:x(tS),rules:[x(Tt).Required]},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error","options","rules"]),ae(Zy,{ref_for:!0,ref:"sectionCoverImageUrl",id:oe,name:"coverImageUrl",label:"Cover image",modelValue:Y.coverImageUrl.value,"onUpdate:modelValue":fe=>Y.coverImageUrl.value=fe,error:Y.coverImageUrl.error,"onUpdate:error":fe=>Y.coverImageUrl.error=fe},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ae(sS,{ref_for:!0,ref_key:"sectionCountdown",ref:m,id:oe,name:"countdown",label:"Countdown",modelValue:Y.countdown.value,"onUpdate:modelValue":fe=>Y.countdown.value=fe,error:Y.countdown.error,"onUpdate:error":fe=>Y.countdown.error=fe},null,8,["id","modelValue","onUpdate:modelValue","error","onUpdate:error"]),ee("div",BK,[ae(Ct,{class:"w-1/2",type:"danger",outlined:"",onClick:N[12]||(N[12]=fe=>b.sections.value.pop())},{default:ge(()=>[et(" Delete ")]),_:1})])])]))),128)),ee("div",jK,[ae(Ct,{class:"w-1/2",type:"action-positive",onClick:N[13]||(N[13]=Y=>b.sections.value.push({title:{value:"",error:""},description:{value:"",error:""},alignment:{value:"left",error:""},coverImageUrl:{value:"",error:""},countdown:{value:null,error:""}}))},{default:ge(()=>[et(" Add Section ")]),_:1})])]),_:1})):ie("",!0),R.isOpen?(D(),he(Fh,{key:2,text:"Styling"},{default:ge(()=>[ae(ar,{ref_key:"colorPrimary",ref:E,name:"colorPrimary",label:"Primary Style",modelValue:b.colorPrimary.value,"onUpdate:modelValue":N[14]||(N[14]=Y=>b.colorPrimary.value=Y),error:b.colorPrimary.error,"onUpdate:error":N[15]||(N[15]=Y=>b.colorPrimary.error=Y),options:x(na),rules:[x(Tt).Required]},null,8,["modelValue","error","options","rules"]),ae(ar,{ref_key:"opacityPrimary",ref:A,name:"opacityPrimary",label:"Primary Opacity",modelValue:b.opacityPrimary.value,"onUpdate:modelValue":N[16]||(N[16]=Y=>b.opacityPrimary.value=Y),error:b.opacityPrimary.error,"onUpdate:error":N[17]||(N[17]=Y=>b.opacityPrimary.error=Y),options:x(sl)},null,8,["modelValue","error","options"]),ae(ar,{ref_key:"colorSecondary",ref:L,name:"colorSecondary",label:"Secondary Style",modelValue:b.colorSecondary.value,"onUpdate:modelValue":N[18]||(N[18]=Y=>b.colorSecondary.value=Y),error:b.colorSecondary.error,"onUpdate:error":N[19]||(N[19]=Y=>b.colorSecondary.error=Y),options:x(nS)(x(na).find(Y=>Y.value===b.colorPrimary.value))},null,8,["modelValue","error","options"]),ae(ar,{ref_key:"opacitySecondary",ref:C,name:"opacitySecondary",label:"Secondary Opacity",modelValue:b.opacitySecondary.value,"onUpdate:modelValue":N[20]||(N[20]=Y=>b.opacitySecondary.value=Y),error:b.opacitySecondary.error,"onUpdate:error":N[21]||(N[21]=Y=>b.opacitySecondary.error=Y),options:x(sl)},null,8,["modelValue","error","options"]),ae(ar,{ref_key:"colorTertiary",ref:k,name:"colorTertiary",label:"Tertiary Style",modelValue:b.colorTertiary.value,"onUpdate:modelValue":N[22]||(N[22]=Y=>b.colorTertiary.value=Y),error:b.colorTertiary.error,"onUpdate:error":N[23]||(N[23]=Y=>b.colorTertiary.error=Y),options:x(dY)},null,8,["modelValue","error","options"]),ae(ar,{ref_key:"opacityTertiary",ref:$,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:b.opacityTertiary.value,"onUpdate:modelValue":N[24]||(N[24]=Y=>b.opacityTertiary.value=Y),error:b.opacityTertiary.error,"onUpdate:error":N[25]||(N[25]=Y=>b.opacityTertiary.error=Y),options:x(sl)},null,8,["modelValue","error","options"])]),_:1})):ie("",!0),R.isOpen?(D(),he(Fh,{key:3,text:"Advanced"},{default:ge(()=>[ae(hr,{name:"allowedUserNames",label:"Allowed users","model-value":X.value,"input-props":{disabled:!0}},null,8,["model-value"]),ae(ar,{ref_key:"allowedUsers",ref:I,name:"allowedUserIds",label:"Allowed users",options:O.value.filter(({value:Y})=>{var oe;return Y!==((oe=x(r))==null?void 0:oe.uid)}),multiple:"","model-value":b.allowedUserIds.value,error:b.allowedUserIds.error,"onUpdate:error":N[26]||(N[26]=Y=>b.allowedUserIds.error=Y),"onUpdate:arrayValue":N[27]||(N[27]=Y=>b.allowedUserIds.value=[...Y.length?O.value.filter(({value:oe})=>{var fe;return oe===((fe=x(r))==null?void 0:fe.uid)}).map(oe=>oe.value):[],...Y])},null,8,["options","model-value","error"]),ae(pp,{ref_key:"locked",ref:w,name:"locked",label:"Locked for commenting",modelValue:b.locked.value,"onUpdate:modelValue":N[28]||(N[28]=Y=>b.locked.value=Y)},null,8,["modelValue"]),ae(pp,{ref_key:"archived",ref:M,name:"archived",label:"Archived",modelValue:b.archived.value,"onUpdate:modelValue":N[29]||(N[29]=Y=>b.archived.value=Y)},null,8,["modelValue"])]),_:1})):ie("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),WK={class:"grid grid-cols-6 mb-5 gap-5"},YK={class:"grid grid-cols-6 lg:hidden mb-5"},KK={class:"grid gap-4 md:gap-10 xl:gap-20"},zK={key:0,class:"flex justify-center mt-5"},GK=Ae({__name:"BlogPosts",setup(t){const e=zn(),{deleteBlogPost:n,fetchBlogPosts:r}=e,{blogPosts:i,visibleBlogPosts:s}=Xt(e),{isOwner:o,firebaseUser:a}=Xt(Ln()),l=le(),u=le(),c=le(!1),d=le(!1),h=le(null),f=()=>{h.value=null,c.value=!0},p=m=>{h.value=m,c.value=!0},g=m=>{h.value=m,d.value=!0},y=async m=>{await n(m)&&(d.value=!1,h.value=null)},T=()=>{c.value=!1,h.value=null},v=async m=>{var w;i.value.visibility!==m&&(i.value.visibility=m,s.value.length||await r((w=a.value)==null?void 0:w.uid),Ny(l.value))},_=async()=>{var w;i.value.page=i.value.page+1;const m=s.value.length;await r((w=a.value)==null?void 0:w.uid),s.value[m]&&Ny(u.value[m])};return(m,w)=>(D(),J(Ie,null,[ee("div",{ref_key:"container",ref:l,class:"grid my-5 xl:mx-20"},[ee("div",WK,[x(a)?(D(),he(Ct,{key:0,class:"hidden lg:block col-span-2 xl:col-span-1",type:"orange",outlined:x(i).visibility!=="public",loading:x(i).fetchLoading,onClick:w[0]||(w[0]=E=>v("public"))},{default:ge(()=>[et(" Public Posts ")]),_:1},8,["outlined","loading"])):ie("",!0),x(o)?(D(),he(Ct,{key:1,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",onClick:f},{default:ge(()=>[et(" New Post ")]),_:1})):ie("",!0),x(a)?(D(),he(Ct,{key:2,type:"orange",class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",outlined:x(i).visibility!=="private",loading:x(i).fetchLoading,onClick:w[1]||(w[1]=E=>v("private"))},{default:ge(()=>[et(" Private Posts ")]),_:1},8,["outlined","loading"])):ie("",!0)]),ee("div",YK,[x(a)?(D(),he(Ct,{key:0,class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"orange",outlined:x(i).visibility!=="public",loading:x(i).fetchLoading,onClick:w[2]||(w[2]=E=>v("public"))},{default:ge(()=>[et(" Public Posts ")]),_:1},8,["outlined","loading"])):ie("",!0),x(a)?(D(),he(Ct,{key:1,type:"orange",class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",outlined:x(i).visibility!=="private",loading:x(i).fetchLoading,onClick:w[3]||(w[3]=E=>v("private"))},{default:ge(()=>[et(" Private Posts ")]),_:1},8,["outlined","loading"])):ie("",!0)]),ee("div",KK,[(D(!0),J(Ie,null,ut(x(s),E=>(D(),J("div",{key:E.id,ref_for:!0,ref_key:"posts",ref:u},[ae(mK,{post:E,onEditClicked:L=>p(E),onDeleteClicked:L=>g(E)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128))]),x(i).isLastPage?ie("",!0):(D(),J("div",zK,[ae(Ct,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:x(i).fetchLoading,onClick:_},{default:ge(()=>[et(" Load more posts ")]),_:1},8,["loading"])]))],512),ae(HK,{isOpen:c.value,selected:h.value,onClose:T},null,8,["isOpen","selected"]),h.value?(D(),he(Bb,{key:0,title:"Delete Post",isOpen:d.value,description:[` Are you sure you want to delete this post called ' ${h.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:w[4]||(w[4]=E=>y(h.value.id)),onCancel:w[5]||(w[5]=E=>d.value=!1)},null,8,["isOpen","description"])):ie("",!0)],64))}}),qK={class:"bg-black text-white shadow-md py-4"},QK={class:"container mx-auto text-center"},XK=Ae({__name:"Footer",setup(t){const{content:e}=Xt(zn());return(n,r)=>(D(),J("footer",qK,[ee("div",QK,[ee("p",null," "+Ke(new Date().getFullYear()+" "+x(e).footerCopyright),1)])]))}}),JK={class:"flex justify-between"},ZK={class:"hidden sm:block w-full sm:min-w-fit"},ez=["src","alt"],tz={class:"w-fit sm:max-w-1/2"},nz={class:"title-primary"},rz={class:"title-secondary"},iz={class:"title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},sz={class:"mt-2 flex items-center whitespace-nowrap me-6"},oz={class:"mt-2 flex items-center whitespace-nowrap"},az={class:"sm:hidden min-w-fit mt-3"},lz=["src","alt"],aS=Ae({__name:"HeaderTop",setup(t){const{profile:e,content:n}=Xt(zn());return(r,i)=>{const s=ls("RouterLink");return D(),J("div",JK,[ee("div",ZK,[ae(s,{to:{name:"home"}},{default:ge(()=>[ee("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:x(n).avatarUrl,alt:x(e).name},null,8,ez)]),_:1})]),ee("div",tz,[ee("h1",nz,Ke(x(e).name),1),ee("h2",rz,Ke(x(e).service),1),ee("div",iz,[ee("div",sz,[ae(x(fY),{class:"mr-1.5 h-5 w-5 text-gray-400"}),et(" "+Ke(x(e).role),1)]),ee("div",oz,[ae(x(mY),{class:"mr-1.5 h-5 w-5 text-gray-400"}),et(" "+Ke(x(e).location.city)+", "+Ke(x(e).location.country),1)])])]),ee("div",az,[ae(s,{to:{name:"home"}},{default:ge(()=>[ee("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:x(n).avatarUrl,alt:x(e).name},null,8,lz)]),_:1})])])}}}),uz=Ae({__name:"DropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=Ln(),{currentUser:n}=Xt(e),{menuItems:r}=Xt(zn());return(i,s)=>(D(),J(Ie,null,[Ji(ee("div",{class:"md:hidden w-screen h-screen z-10 bg-gray-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Is,i.isOpen]]),Ji(ee("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-gray-900 border border-indigo-600 rounded-xl",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(D(!0),J(Ie,null,ut(x(r),o=>(D(),he(Ct,{class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:o.url,loading:o.loading},{default:ge(()=>[et(Ke(o.name),1)]),_:2},1032,["url","loading"]))),256)),x(n)?(D(),he(Ct,{key:0,class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:"dashboard"},{default:ge(()=>[et(" Dashboard ")]),_:1})):ie("",!0),x(n)?(D(),he(Ct,{key:1,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"danger",onClick:x(e).logout},{default:ge(()=>[et(" Logout ")]),_:1},8,["onClick"])):(D(),he(Ct,{key:2,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"secondary",url:"login"},{default:ge(()=>[et(" Login ")]),_:1}))],512),[[Is,i.isOpen]])],64))}}),cz={key:0,class:De(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},dz={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},hz={class:"flex justify-between sm:justify-center"},fz=ee("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),pz=[fz],mz=Ae({__name:"Menu",setup(t){const e=Ln(),{currentUser:n,logoutLoading:r}=Xt(e),{menuItems:i}=Xt(zn()),s=le(),o=le(!1),a=()=>{o.value=!o.value,o.value&&Dr(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>x(i).length?(D(),J("div",cz,[(D(!0),J(Ie,null,ut(x(i),c=>(D(),he(Ct,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",outlined:"",url:c.url,loading:c.loading},{default:ge(()=>[et(Ke(c.name),1)]),_:2},1032,["url","loading"]))),256)),x(n)?ie("",!0):(D(),he(Ct,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"secondary",outlined:"",url:"login"},{default:ge(()=>[et(" Login ")]),_:1})),x(n)?(D(),he(Ct,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:x(r),onClick:x(e).logout},{default:ge(()=>[et(" Logout ")]),_:1},8,["loading","onClick"])):ie("",!0),ee("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[ee("div",dz,[ee("div",{class:De(["flex animation",o.value?"justify-center":"justify-end"])},[ae(Ct,{class:De(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:ge(()=>[ee("div",hz,[ae(iO,{rotate:o.value,class:De(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),ee("p",{class:De(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(D(),J("svg",{class:De(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},pz,2))])]),_:1},8,["class"])],2)]),ae(uz,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):ie("",!0)}}),gz={class:De(["w-fit md:w-1/3","mb-8 py-8 bg-transparent text-indigo-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-black sm:bg-opacity-50 sm:rounded-3xl sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-3xl lg:rounded-t-none"])},vz={key:0,class:"hidden sm:flex justify-center mb-4"},yz={class:"hidden md:block w-4/5 space-y-2"},wz={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},bz={class:"flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},_z={key:1},Tz={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},Ez={class:"font-semibold text-base first:font-bold first:text-lg"},Sz=Ae({__name:"PersonCard",setup(t){const{currentUser:e}=Xt(Ln()),{content:n}=Xt(zn());return(r,i)=>{const s=ls("RouterLink");return D(),J("div",gz,[x(e)?(D(),J("div",vz,[ee("div",yz,[(D(!0),J(Ie,null,ut(x(n).headerDescriptionUser,o=>(D(),J("p",wz,Ke(o.replace("%USER%",x(e).firstName+(x(e).lastName?" "+x(e).lastName:""))),1))),256))]),ee("div",bz,[ae(s,{to:{name:"dashboard"}},{default:ge(()=>[ae(x(gY),{class:"w-16 h-16 rounded-full border-2 text-indigo-600 border-indigo-600 animation-scale"})]),_:1})])])):(D(),J("div",_z,[ee("div",Tz,[(D(!0),J(Ie,null,ut(x(n).headerDescriptionGuest,o=>(D(),J("p",Ez,Ke(o),1))),256))])])),ae(mz)])}}}),Cz={class:"sm:flex sm:items-start sm:justify-between mb-20"},Iz={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},Az=Ae({__name:"Header",setup(t){return(e,n)=>(D(),J("div",Cz,[ae(aS,{class:"hidden sm:block"}),ee("div",Iz,[ae(Sz,{class:De(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto"])})]),ae(aS,{class:"sm:hidden"})]))}}),kz={class:"min-h-screen bg-gradient-to-t from-black to-blue-900 via-gray-800"},xz={class:"mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-3xl text-white bg-blue-gray-900 bg-opacity-50 bg-gradient-to-b from-transparent to-black via-purple-900 border-opacity-100"},Vo=Ae({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{firebaseUser:n}=Ln(),{fetchAll:r}=zn(),i=le();return fn(()=>{r(n==null?void 0:n.uid),e.scrollToContent&&Ny(i.value)}),(s,o)=>(D(),J(Ie,null,[ee("div",kz,[ee("div",xz,[ee("header",null,[s.$slots.header?Pe(s.$slots,"header",{key:0}):(D(),he(Az,{key:1}))]),ee("main",null,[ee("div",{ref_key:"content",ref:i},[Pe(s.$slots,"content")],512)])])]),ee("footer",null,[s.$slots.footer?Pe(s.$slots,"footer",{key:0}):(D(),he(XK,{key:1}))])],64))}}),Pz={class:"grid mt-10 md:mt-15"},Dz={class:"grid justify-center"},Rz={class:"text-lg md:text-xl text-white"},Oz=["innerHTML"],Nz=Ae({__name:"Blog",setup(t){const{publicUser:e}=Xt(Ln()),{menuItems:n,content:r}=Xt(zn()),i=re(()=>window.location.hash);return(s,o)=>(D(),he(Vo,{"scroll-to-content":!i.value},{content:ge(()=>{var a;return[ee("div",Pz,[ee("div",Dz,[(D(!0),J(Ie,null,ut(x(e)?[...x(r).blogDescriptionUser.map(l=>l.replace("%USER%",x(e).displayName||"Unknown user")),...((a=x(n).find(l=>l.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:a.description)||[]]:x(r).blogDescriptionGuest,l=>(D(),J("h1",Rz,[ee("span",{innerHTML:l},null,8,Oz)]))),256))]),ae(GK)])]}),_:1},8,["scroll-to-content"]))}}),Mz=Ae({__name:"Blog",setup(t){return(e,n)=>(D(),he(Nz))}}),Lz={class:"flex flex-col items-center content-center"},$z=Ae({__name:"CatCalc",setup(t){const e=$n({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"Nederlandse Voedsel- en Warenautoriteit"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=re(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(w,E)=>{const k=o[w].sort((I,H)=>I.weight-H.weight);let A=k[k.length-2].weight,C=k[k.length-2].calories,$=k[k.length-1].weight,V=k[k.length-1].calories;for(let I=0;I<k.length-1;I++)if(E>=k[I].weight&&E<=k[I+1].weight){A=k[I].weight,C=k[I].calories,$=k[I+1].weight,V=k[I+1].calories;break}return{x1:A,y1:C,x2:$,y2:V}},l=(w,E)=>{const{x1:L,y1:k,x2:A,y2:C}=a(w,E);return k+(E-L)*(C-k)/(A-L)},u=()=>{const w=new Map;for(const k of Object.values(o).filter(A=>A!==o.average))for(const{weight:A,calories:C}of k)w.has(A)||w.set(A,{sum:0,count:0}),w.get(A).sum+=C,w.get(A).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(k=>w.has(k)).map(k=>({weight:k,calories:w.get(k).sum/w.get(k).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40}],f=re(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=re(()=>{var w;return f.value*(((w=r.find(E=>E.value===e.catAge.value))==null?void 0:w.rerIndex)??1)}),g=re(()=>{var w;return p.value*(((w=s.value.find(E=>E.value===e.catSize.value))==null?void 0:w.factor)??1)}),y=re(()=>{const w=h.find(E=>E.value===e.catFoodSnax.value);return w!=null&&w.calories?g.value*(Number(e.catFoodSnaxPercentage.value)/100)/w.calories:void 0}),T=re(()=>g.value*(1-Number(y.value?e.catFoodSnaxPercentage.value:0)/100)),v=re(()=>{const w=d.find(E=>E.value===e.catFoodWet.value);return w!=null&&w.calories?T.value/4/w.calories*100:void 0}),_=re(()=>T.value/4*(v.value?3:4)),m=re(()=>{var w;return _.value/(((w=c.find(E=>E.value===e.catFoodDry.value))==null?void 0:w.calories)??c[0].calories)*100});return(w,E)=>(D(),he(Vo,null,{content:ge(()=>[ae(Pr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:ge(()=>{var L;return[ee("div",Lz,[ae(ar,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":E[0]||(E[0]=k=>e.calculator.value=k),error:e.calculator.error,"onUpdate:error":E[1]||(E[1]=k=>e.calculator.error=k),options:n,rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ae(hr,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":E[2]||(E[2]=k=>e.catWeigth.value=k),error:e.catWeigth.error,"onUpdate:error":E[3]||(E[3]=k=>e.catWeigth.error=k),rules:[x(Tt).Required,x(Tt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),ae(ar,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":E[4]||(E[4]=k=>e.catAge.value=k),error:e.catAge.error,"onUpdate:error":E[5]||(E[5]=k=>e.catAge.error=k),options:r,rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ae(ar,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":E[6]||(E[6]=k=>e.catGender.value=k),error:e.catGender.error,"onUpdate:error":E[7]||(E[7]=k=>e.catGender.error=k),options:i,rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ae(ar,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":E[8]||(E[8]=k=>e.catSize.value=k),error:e.catSize.error,"onUpdate:error":E[9]||(E[9]=k=>e.catSize.error=k),options:s.value,rules:[x(Tt).Required]},null,8,["modelValue","error","options","rules"]),ae(Pr,{class:"w-full md:w-1/2 border border-gray-400",description:"Required energy per day: "+g.value.toFixed(1)+" kcal"},null,8,["description"]),ae(ar,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":E[10]||(E[10]=k=>e.catFoodDry.value=k),error:e.catFoodDry.error,"onUpdate:error":E[11]||(E[11]=k=>e.catFoodDry.error=k),options:c,rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ae(ar,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":E[12]||(E[12]=k=>e.catFoodWet.value=k),error:e.catFoodWet.error,"onUpdate:error":E[13]||(E[13]=k=>e.catFoodWet.error=k),options:d,rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ae(ar,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":E[14]||(E[14]=k=>e.catFoodSnax.value=k),error:e.catFoodSnax.error,"onUpdate:error":E[15]||(E[15]=k=>e.catFoodSnax.error=k),options:h,rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(D(),he(hr,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":E[16]||(E[16]=k=>e.catFoodSnaxPercentage.value=k),error:e.catFoodSnaxPercentage.error,"onUpdate:error":E[17]||(E[17]=k=>e.catFoodSnaxPercentage.error=k),rules:[x(Tt).Required,x(Tt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):ie("",!0),ae(Pr,{class:"w-full md:w-1/2 border border-gray-400",title:"Result","sub-title":"Based on constants from "+((L=n.find(k=>k.value===e.calculator.value))==null?void 0:L.label),description:["Required dry food per day: "+m.value.toFixed(1)+" g","","","Required dry food per meal: "+(m.value/(v.value?2:3)).toFixed(1)+" g",...v.value?["Required wet food per day: "+v.value.toFixed(1)+" g"]:[],...y.value?["Allowed snacks per day: "+y.value.toFixed(y.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),Uz=Ae({__name:"CatCalc",setup(t){return(e,n)=>(D(),he($z))}}),Fz={class:"min-w-0 flex-1"},Vz=ee("img",{class:"w-48 h-48 rounded-full animation-scale mb-4 cursor-pointer",src:"https://www.spigotmc.org/data/resource_icons/28/28103.jpg?1472586104",alt:"customvoting"},null,-1),Bz=Ae({__name:"CustomVoting",setup(t){return(e,n)=>{const r=ls("RouterLink");return D(),he(Vo,null,{header:ge(()=>[ee("div",Fz,[ae(r,{to:{name:"home"}},{default:ge(()=>[Vz]),_:1})])]),content:ge(()=>[ae(Pr,{class:"!bg-yellow-700 !bg-opacity-50 my-5",title:"CustomVoting",description:"In Progress"})]),_:1})}}}),jz=Ae({__name:"CustomVoting",setup(t){return(e,n)=>(D(),he(Bz))}}),Hz={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-primary"},Wz={class:"m-1 lg:w-4/5"},Wb=Ae({__name:"Privacy",setup(t){const{content:e}=Xt(zn());return(n,r)=>(D(),J("div",Hz,[(D(!0),J(Ie,null,ut(x(e).privacyStatement,i=>(D(),J("p",Wz,Ke(i),1))),256))]))}}),Yb=Ae({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=le(),s=re({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=re({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(D(),he(hr,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,x(Tt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),Cl=Ae({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=le(),s=re({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=re({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(D(),he(hr,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),Yz={class:"flex flex-wrap pt-6 pb-8 mb-4"},Kz={class:"basis-full lg:basis-1/2"},zz={class:"flex gap-3 mt-10 flex-wrap"},Gz={class:"basis-full lg:basis-1/2"},qz={class:"flex flex-col items-center content-center"},Qz=Ae({__name:"Dashboard",setup(t){const e=Ln(),{currentUser:n,firebaseUser:r,publicUser:i,isOwner:s,mutationLoading:o}=Xt(e),a=zn(),{fetchAll:l}=a,{content:u,online:c,debug:d}=Xt(a),h=le(!1),f=le(),p=le(),g=le(),y=le(),T=le(),v=le(),_=le(),m=le(),w=$n({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),E=re(()=>({firstName:w.firstName.value,lastName:w.lastName.value})),L=re(()=>({displayName:w.displayName.value,avatar:w.avatar.value})),k=re(()=>!!i.value&&!Pi(Jy.convert(i.value),L.value)),A=re(()=>{var V;return w.email.value!==((V=r.value)==null?void 0:V.email)}),C=re(()=>{const V=[];return Pi(n.value,E.value)||V.push("Details"),k.value&&V.push("Public Profile"),A.value&&V.push("E-mail"),w.newPassword.value&&V.push("Password"),V.length?"Save "+My(V):void 0}),$=async()=>{var V;Object.keys(w).forEach(I=>w[I].error=""),w.newPassword.value&&(await Promise.all([T.value.test(),v.value.test(),_.value.test()]),!w.newPassword.error&&!w.currentPassword.error&&!w.repeatPassword.error&&(await e.updatePassword(w.newPassword.value,w.currentPassword.value),w.newPassword.value="",w.currentPassword.value="")),k.value&&(await g.value.test(),!w.displayName.error&&!w.avatar.error&&e.updatePublicUser({displayName:w.displayName.value,avatar:w.avatar.value})),A.value&&(await Promise.all([y.value.test(),v.value.test()]),!w.email.error&&!w.currentPassword.error&&(await e.updateMail(w.email.value,w.currentPassword.value),w.currentPassword.value="")),Pi(n.value,E.value)||(await Promise.all([f.value.test(),p.value.test()]),!w.firstName.error&&!w.lastName.error&&e.updateUser({firstName:w.firstName.value,lastName:w.lastName.value})),await l((V=r.value)==null?void 0:V.uid,!0)};return OC(()=>{var V,I,H,M,O;w.firstName.value=((V=n.value)==null?void 0:V.firstName)||"",w.lastName.value=((I=n.value)==null?void 0:I.lastName)||"",w.displayName.value=((H=i.value)==null?void 0:H.displayName)||"",w.email.value=((M=r.value)==null?void 0:M.email)||"",w.avatar.value=((O=i.value)==null?void 0:O.avatar)||""}),(V,I)=>(D(),he(Vo,null,{content:ge(()=>[x(n)&&x(r)?(D(),he(Pr,{key:0,class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Welcome "+x(n).firstName+(x(n).lastName?" "+x(n).lastName:""),description:x(u).dashboardDescription},{default:ge(()=>[ee("div",Yz,[ee("div",Kz,[ee("form",{onSubmit:I[19]||(I[19]=Pt(H=>$(),["prevent"]))},[ae(hr,{name:"accountType",label:"Account Type","model-value":x(s)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),ae(hr,{ref_key:"firstName",ref:f,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:w.firstName.value,"onUpdate:modelValue":I[0]||(I[0]=H=>w.firstName.value=H),error:w.firstName.error,"onUpdate:error":I[1]||(I[1]=H=>w.firstName.error=H),rules:[x(Tt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),ae(hr,{ref_key:"lastName",ref:p,name:"lastName",label:"Last Name",modelValue:w.lastName.value,"onUpdate:modelValue":I[2]||(I[2]=H=>w.lastName.value=H),error:w.lastName.error,"onUpdate:error":I[3]||(I[3]=H=>w.lastName.error=H),"min-length":3,"max-length":50},null,8,["modelValue","error"]),ae(hr,{ref_key:"displayName",ref:g,name:"displayName",label:"Public Username",modelValue:w.displayName.value,"onUpdate:modelValue":I[4]||(I[4]=H=>w.displayName.value=H),error:w.displayName.error,"onUpdate:error":I[5]||(I[5]=H=>w.displayName.error=H),rules:[x(Tt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),ae(Yb,{ref_key:"email",ref:y,name:"email",label:"E-mail",modelValue:w.email.value,"onUpdate:modelValue":I[6]||(I[6]=H=>w.email.value=H),error:w.email.error,"onUpdate:error":I[7]||(I[7]=H=>w.email.error=H),rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),A.value?(D(),he(Cl,{key:0,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":I[8]||(I[8]=H=>w.currentPassword.value=H),error:w.currentPassword.error,"onUpdate:error":I[9]||(I[9]=H=>w.currentPassword.error=H),rules:[x(Tt).Required]},null,8,["modelValue","error","rules"])):ie("",!0),ae(Cl,{ref_key:"newPassword",ref:T,name:"newPassword",label:"New Password",modelValue:w.newPassword.value,"onUpdate:modelValue":I[10]||(I[10]=H=>w.newPassword.value=H),error:w.newPassword.error,"onUpdate:error":I[11]||(I[11]=H=>w.newPassword.error=H),min:6,max:50},null,8,["modelValue","error"]),w.newPassword.value?(D(),he(Cl,{key:1,ref_key:"repeatPassword",ref:_,name:"repeatPassword",label:"Repeat New Password",modelValue:w.repeatPassword.value,"onUpdate:modelValue":I[12]||(I[12]=H=>w.repeatPassword.value=H),error:w.repeatPassword.error,"onUpdate:error":I[13]||(I[13]=H=>w.repeatPassword.error=H),rules:[x(Tt).Required],compare:{value:w.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):ie("",!0),w.newPassword.value&&!A.value?(D(),he(Cl,{key:2,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":I[14]||(I[14]=H=>w.currentPassword.value=H),error:w.currentPassword.error,"onUpdate:error":I[15]||(I[15]=H=>w.currentPassword.error=H),rules:[x(Tt).Required]},null,8,["modelValue","error","rules"])):ie("",!0),ee("div",zz,[C.value?(D(),he(Ct,{key:0,class:"w-full",action:"submit",loading:x(o)},{default:ge(()=>[et(Ke(C.value),1)]),_:1},8,["loading"])):ie("",!0),x(s)?ie("",!0):(D(),he(Ct,{key:1,class:"w-full",type:"danger",outlined:"",onClick:I[16]||(I[16]=H=>h.value=!0)},{default:ge(()=>[et(" Delete account ")]),_:1}))]),x(s)?(D(),he(pp,{key:3,name:"online",label:"Online",modelValue:x(c),"onUpdate:modelValue":I[17]||(I[17]=H=>zt(c)?c.value=H:null)},null,8,["modelValue"])):ie("",!0),x(s)?(D(),he(pp,{key:4,name:"debug",label:"Debug",modelValue:x(d),"onUpdate:modelValue":I[18]||(I[18]=H=>zt(d)?d.value=H:null)},null,8,["modelValue"])):ie("",!0)],32)]),ee("div",Gz,[ae(Zy,{ref_key:"avatar",ref:m,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:w.avatar.value,"onUpdate:modelValue":I[20]||(I[20]=H=>w.avatar.value=H),error:w.avatar.error,"onUpdate:error":I[21]||(I[21]=H=>w.avatar.error=H),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])])]),ee("div",qz,[ae(Wb)])]),_:1},8,["title","description"])):ie("",!0),ae(Bb,{title:"Delete Account",isOpen:h.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:I[22]||(I[22]=H=>x(e).deleteAccount()),onCancel:I[23]||(I[23]=H=>h.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),Xz=Ae({__name:"Dashboard",setup(t){return(e,n)=>(D(),he(Qz))}});var Jz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var aO={exports:{}};const eG=oO(uL);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function as(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){tG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uf=function(e){return typeof e}:uf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function tG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vi(){return vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vi.apply(this,arguments)}function nG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rG(t,e){if(t==null)return{};var n=nG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iG(t){return sG(t)||oG(t)||aG(t)||lG()}function sG(t){if(Array.isArray(t))return e0(t)}function oG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aG(t,e){if(t){if(typeof t=="string")return e0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e0(t,e)}}function e0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uG="1.14.0";function Ps(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Vs=Ps(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),th=Ps(/Edge/i),uS=Ps(/firefox/i),Oc=Ps(/safari/i)&&!Ps(/chrome/i)&&!Ps(/android/i),lO=Ps(/iP(ad|od|hone)/i),cG=Ps(/chrome/i)&&Ps(/android/i),uO={capture:!1,passive:!1};function mt(t,e,n){t.addEventListener(e,n,!Vs&&uO)}function dt(t,e,n){t.removeEventListener(e,n,!Vs&&uO)}function mp(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function dG(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ei(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&mp(t,e):mp(t,e))||r&&t===n)return t;if(t===n)break}while(t=dG(t))}return null}var cS=/\s+/g;function dn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(cS," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(cS," ")}}function Be(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function ga(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Be(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function cO(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function ns(){var t=document.scrollingElement;return t||document.documentElement}function ln(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==ns()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Vs))do if(i&&i.getBoundingClientRect&&(Be(i,"transform")!=="none"||n&&Be(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(Be(i,"border-top-width")),a-=h.left+parseInt(Be(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var f=ga(i||t),p=f&&f.a,g=f&&f.d;f&&(o/=g,a/=p,d/=p,c/=g,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function dS(t,e,n){for(var r=lo(t,!0),i=ln(t)[e];r;){var s=ln(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===ns())break;r=lo(r,!1)}return!1}function cu(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==Ze.ghost&&(r||o[s]!==Ze.dragged)&&Ei(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function Kb(t,e){for(var n=t.lastElementChild;n&&(n===Ze.ghost||Be(n,"display")==="none"||e&&!mp(n,e));)n=n.previousElementSibling;return n||null}function vn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Ze.clone&&(!e||mp(t,e))&&n++;return n}function hS(t){var e=0,n=0,r=ns();if(t)do{var i=ga(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function hG(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function lo(t,e){if(!t||!t.getBoundingClientRect)return ns();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Be(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ns();if(r||e)return n;r=!0}}while(n=n.parentNode);return ns()}function fG(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Gg(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Nc;function dO(t,e){return function(){if(!Nc){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Nc=setTimeout(function(){Nc=void 0},e)}}}function pG(){clearTimeout(Nc),Nc=void 0}function hO(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function zb(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function fS(t,e){Be(t,"position","absolute"),Be(t,"top",e.top),Be(t,"left",e.left),Be(t,"width",e.width),Be(t,"height",e.height)}function qg(t){Be(t,"position",""),Be(t,"top",""),Be(t,"left",""),Be(t,"width",""),Be(t,"height","")}var pr="Sortable"+new Date().getTime();function mG(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Be(i,"display")==="none"||i===Ze.ghost)){t.push({target:i,rect:ln(i)});var s=as({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=ga(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(hG(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=ln(u),h=u.prevFromRect,f=u.prevToRect,p=a.rect,g=ga(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&Gg(h,d)&&!Gg(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=vG(p,h,f,i.options)),Gg(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){Be(r,"transition",""),Be(r,"transform","");var a=ga(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,Be(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=gG(r),Be(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Be(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Be(r,"transition",""),Be(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function gG(t){return t.offsetWidth}function vG(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var ol=[],Qg={initializeByDefault:!0},nh={mount:function(e){for(var n in Qg)Qg.hasOwnProperty(n)&&!(n in e)&&(e[n]=Qg[n]);ol.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ol.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";ol.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](as({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](as({sortable:n},r)))})},initializePlugins:function(e,n,r,i){ol.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,vi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return ol.forEach(function(i){typeof i.eventProperties=="function"&&vi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return ol.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function cc(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[pr],!!e){var g,y=e.options,T="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Vs&&!th?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=o||n,g.from=a||n,g.item=i||n,g.clone=s,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var v=as(as({},p),nh.getEventProperties(r,e));for(var _ in v)g[_]=v[_];n&&n.dispatchEvent(g),y[T]&&y[T].call(e,g)}}var yG=["evt"],Nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=rG(r,yG);nh.pluginEvent.bind(Ze)(e,n,as({dragEl:Ee,parentEl:mn,ghostEl:lt,rootEl:an,nextEl:Qo,lastDownEl:cf,cloneEl:gn,cloneHidden:ao,dragStarted:dc,putSortable:Qn,activeSortable:Ze.active,originalEvent:i,oldIndex:Il,oldDraggableIndex:Mc,newIndex:Qr,newDraggableIndex:to,hideGhostForTarget:gO,unhideGhostForTarget:vO,cloneNowHidden:function(){ao=!0},cloneNowShown:function(){ao=!1},dispatchSortableEvent:function(a){Cr({sortable:n,name:a,originalEvent:i})}},s))};function Cr(t){cc(as({putSortable:Qn,cloneEl:gn,targetEl:Ee,rootEl:an,oldIndex:Il,oldDraggableIndex:Mc,newIndex:Qr,newDraggableIndex:to},t))}var Ee,mn,lt,an,Qo,cf,gn,ao,Il,Qr,Mc,to,Bh,Qn,yl=!1,gp=!1,vp=[],Ko,wi,Xg,Jg,pS,mS,dc,al,Lc,$c=!1,jh=!1,df,or,Zg=[],t0=!1,yp=[],Bm=typeof document<"u",Hh=lO,gS=th||Vs?"cssFloat":"float",wG=Bm&&!cG&&!lO&&"draggable"in document.createElement("div"),fO=function(){if(Bm){if(Vs)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),pO=function(e,n){var r=Be(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=cu(e,0,n),o=cu(e,1,n),a=s&&Be(s),l=o&&Be(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ln(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ln(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[gS]==="none"||o&&r[gS]==="none"&&u+c>i)?"vertical":"horizontal"},bG=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},_G=function(e,n){var r;return vp.some(function(i){var s=i[pr].options.emptyInsertThreshold;if(!(!s||Kb(i))){var o=ln(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},mO=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||uf(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},gO=function(){!fO&&lt&&Be(lt,"display","none")},vO=function(){!fO&&lt&&Be(lt,"display","")};Bm&&document.addEventListener("click",function(t){if(gp)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),gp=!1,!1},!0);var zo=function(e){if(Ee){e=e.touches?e.touches[0]:e;var n=_G(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[pr]._onDragOver(r)}}},TG=function(e){Ee&&Ee.parentNode[pr]._isOutsideThisEl(e.target)};function Ze(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=vi({},e),t[pr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pO(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ze.supportPointer!==!1&&"PointerEvent"in window&&!Oc,emptyInsertThreshold:5};nh.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);mO(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:wG,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?mt(t,"pointerdown",this._onTapStart):(mt(t,"mousedown",this._onTapStart),mt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(mt(t,"dragover",this),mt(t,"dragenter",this)),vp.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),vi(this,mG())}Ze.prototype={constructor:Ze,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(al=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Ee):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(PG(r),!Ee&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Oc&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ei(l,i.draggable,r,!1),!(l&&l.animated)&&cf!==l)){if(Il=vn(l),Mc=vn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Cr({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),Nr("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Ei(u,d.trim(),r,!1),d)return Cr({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),Nr("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Ei(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Ee&&r.parentNode===s){var u=ln(r);if(an=s,Ee=r,mn=Ee.parentNode,Qo=Ee.nextSibling,cf=r,Bh=o.group,Ze.dragged=Ee,Ko={target:Ee,clientX:(n||e).clientX,clientY:(n||e).clientY},pS=Ko.clientX-u.left,mS=Ko.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Ee.style["will-change"]="all",l=function(){if(Nr("delayEnded",i,{evt:e}),Ze.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!uS&&i.nativeDraggable&&(Ee.draggable=!0),i._triggerDragStart(e,n),Cr({sortable:i,name:"choose",originalEvent:e}),dn(Ee,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){cO(Ee,c.trim(),ev)}),mt(a,"dragover",zo),mt(a,"mousemove",zo),mt(a,"touchmove",zo),mt(a,"mouseup",i._onDrop),mt(a,"touchend",i._onDrop),mt(a,"touchcancel",i._onDrop),uS&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ee.draggable=!0),Nr("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(th||Vs))){if(Ze.eventCanceled){this._onDrop();return}mt(a,"mouseup",i._disableDelayedDrag),mt(a,"touchend",i._disableDelayedDrag),mt(a,"touchcancel",i._disableDelayedDrag),mt(a,"mousemove",i._delayedDragTouchMoveHandler),mt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&mt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ee&&ev(Ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;dt(e,"mouseup",this._disableDelayedDrag),dt(e,"touchend",this._disableDelayedDrag),dt(e,"touchcancel",this._disableDelayedDrag),dt(e,"mousemove",this._delayedDragTouchMoveHandler),dt(e,"touchmove",this._delayedDragTouchMoveHandler),dt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?mt(document,"pointermove",this._onTouchMove):n?mt(document,"touchmove",this._onTouchMove):mt(document,"mousemove",this._onTouchMove):(mt(Ee,"dragend",this),mt(an,"dragstart",this._onDragStart));try{document.selection?hf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(yl=!1,an&&Ee){Nr("dragStarted",this,{evt:n}),this.nativeDraggable&&mt(document,"dragover",TG);var r=this.options;!e&&dn(Ee,r.dragClass,!1),dn(Ee,r.ghostClass,!0),Ze.active=this,e&&this._appendGhost(),Cr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(wi){this._lastX=wi.clientX,this._lastY=wi.clientY,gO();for(var e=document.elementFromPoint(wi.clientX,wi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(wi.clientX,wi.clientY),e!==n);)n=e;if(Ee.parentNode[pr]._isOutsideThisEl(e),n)do{if(n[pr]){var r=void 0;if(r=n[pr]._onDragOver({clientX:wi.clientX,clientY:wi.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);vO()}},_onTouchMove:function(e){if(Ko){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=lt&&ga(lt,!0),a=lt&&o&&o.a,l=lt&&o&&o.d,u=Hh&&or&&hS(or),c=(s.clientX-Ko.clientX+i.x)/(a||1)+(u?u[0]-Zg[0]:0)/(a||1),d=(s.clientY-Ko.clientY+i.y)/(l||1)+(u?u[1]-Zg[1]:0)/(l||1);if(!Ze.active&&!yl){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(lt){o?(o.e+=c-(Xg||0),o.f+=d-(Jg||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Be(lt,"webkitTransform",h),Be(lt,"mozTransform",h),Be(lt,"msTransform",h),Be(lt,"transform",h),Xg=c,Jg=d,wi=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!lt){var e=this.options.fallbackOnBody?document.body:an,n=ln(Ee,!0,Hh,!0,e),r=this.options;if(Hh){for(or=e;Be(or,"position")==="static"&&Be(or,"transform")==="none"&&or!==document;)or=or.parentNode;or!==document.body&&or!==document.documentElement?(or===document&&(or=ns()),n.top+=or.scrollTop,n.left+=or.scrollLeft):or=ns(),Zg=hS(or)}lt=Ee.cloneNode(!0),dn(lt,r.ghostClass,!1),dn(lt,r.fallbackClass,!0),dn(lt,r.dragClass,!0),Be(lt,"transition",""),Be(lt,"transform",""),Be(lt,"box-sizing","border-box"),Be(lt,"margin",0),Be(lt,"top",n.top),Be(lt,"left",n.left),Be(lt,"width",n.width),Be(lt,"height",n.height),Be(lt,"opacity","0.8"),Be(lt,"position",Hh?"absolute":"fixed"),Be(lt,"zIndex","100000"),Be(lt,"pointerEvents","none"),Ze.ghost=lt,e.appendChild(lt),Be(lt,"transform-origin",pS/parseInt(lt.style.width)*100+"% "+mS/parseInt(lt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(Nr("dragStart",this,{evt:e}),Ze.eventCanceled){this._onDrop();return}Nr("setupClone",this),Ze.eventCanceled||(gn=zb(Ee),gn.draggable=!1,gn.style["will-change"]="",this._hideClone(),dn(gn,this.options.chosenClass,!1),Ze.clone=gn),r.cloneId=hf(function(){Nr("clone",r),!Ze.eventCanceled&&(r.options.removeCloneOnHide||an.insertBefore(gn,Ee),r._hideClone(),Cr({sortable:r,name:"clone"}))}),!n&&dn(Ee,s.dragClass,!0),n?(gp=!0,r._loopId=setInterval(r._emulateDragOver,50)):(dt(document,"mouseup",r._onDrop),dt(document,"touchend",r._onDrop),dt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Ee)),mt(document,"drop",r),Be(Ee,"transform","translateZ(0)")),yl=!0,r._dragStartId=hf(r._dragStarted.bind(r,n,e)),mt(document,"selectstart",r),dc=!0,Oc&&Be(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=Ze.active,c=Bh===l,d=a.sort,h=Qn||u,f,p=this,g=!1;if(t0)return;function y(X,F){Nr(X,p,as({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:v,onMove:function(Q,te){return Wh(an,n,Ee,i,Q,ln(Q),e,te)},changed:_},F))}function T(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function v(X){return y("dragOverCompleted",{insertion:X}),X&&(c?u._hideClone():u._showClone(p),p!==h&&(dn(Ee,Qn?Qn.options.ghostClass:u.options.ghostClass,!1),dn(Ee,a.ghostClass,!0)),Qn!==p&&p!==Ze.active?Qn=p:p===Ze.active&&Qn&&(Qn=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Ee&&!Ee.animated||r===n&&!r.animated)&&(al=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Ee.parentNode[pr]._isOutsideThisEl(e.target),!X&&zo(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function _(){Qr=vn(Ee),to=vn(Ee,a.draggable),Cr({sortable:p,name:"change",toEl:n,newIndex:Qr,newDraggableIndex:to,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Ei(r,a.draggable,n,!0),y("dragOver"),Ze.eventCanceled)return g;if(Ee.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(gp=!1,u&&!a.disabled&&(c?d||(o=mn!==an):Qn===this||(this.lastPutMode=Bh.checkPull(this,u,Ee,e))&&l.checkPut(this,u,Ee,e))){if(f=this._getDirection(e,r)==="vertical",i=ln(Ee),y("dragOverValid"),Ze.eventCanceled)return g;if(o)return mn=an,T(),this._hideClone(),y("revert"),Ze.eventCanceled||(Qo?an.insertBefore(Ee,Qo):an.appendChild(Ee)),v(!0);var m=Kb(n,a.draggable);if(!m||IG(e,f,this)&&!m.animated){if(m===Ee)return v(!1);if(m&&n===e.target&&(r=m),r&&(s=ln(r)),Wh(an,n,Ee,i,r,s,e,!!r)!==!1)return T(),n.appendChild(Ee),mn=n,_(),v(!0)}else if(m&&CG(e,f,this)){var w=cu(n,0,a,!0);if(w===Ee)return v(!1);if(r=w,s=ln(r),Wh(an,n,Ee,i,r,s,e,!1)!==!1)return T(),n.insertBefore(Ee,w),mn=n,_(),v(!0)}else if(r.parentNode===n){s=ln(r);var E=0,L,k=Ee.parentNode!==n,A=!bG(Ee.animated&&Ee.toRect||i,r.animated&&r.toRect||s,f),C=f?"top":"left",$=dS(r,"top","top")||dS(Ee,"top","top"),V=$?$.scrollTop:void 0;al!==r&&(L=s[C],$c=!1,jh=!A&&a.invertSwap||k),E=AG(e,r,s,f,A?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,jh,al===r);var I;if(E!==0){var H=vn(Ee);do H-=E,I=mn.children[H];while(I&&(Be(I,"display")==="none"||I===lt))}if(E===0||I===r)return v(!1);al=r,Lc=E;var M=r.nextElementSibling,O=!1;O=E===1;var W=Wh(an,n,Ee,i,r,s,e,O);if(W!==!1)return(W===1||W===-1)&&(O=W===1),t0=!0,setTimeout(SG,30),T(),O&&!M?n.appendChild(Ee):r.parentNode.insertBefore(Ee,O?M:r),$&&hO($,0,V-$.scrollTop),mn=Ee.parentNode,L!==void 0&&!jh&&(df=Math.abs(L-ln(r)[C])),_(),v(!0)}if(n.contains(Ee))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){dt(document,"mousemove",this._onTouchMove),dt(document,"touchmove",this._onTouchMove),dt(document,"pointermove",this._onTouchMove),dt(document,"dragover",zo),dt(document,"mousemove",zo),dt(document,"touchmove",zo)},_offUpEvents:function(){var e=this.el.ownerDocument;dt(e,"mouseup",this._onDrop),dt(e,"touchend",this._onDrop),dt(e,"pointerup",this._onDrop),dt(e,"touchcancel",this._onDrop),dt(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Qr=vn(Ee),to=vn(Ee,r.draggable),Nr("drop",this,{evt:e}),mn=Ee&&Ee.parentNode,Qr=vn(Ee),to=vn(Ee,r.draggable),Ze.eventCanceled){this._nulling();return}yl=!1,jh=!1,$c=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),n0(this.cloneId),n0(this._dragStartId),this.nativeDraggable&&(dt(document,"drop",this),dt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oc&&Be(document.body,"user-select",""),Be(Ee,"transform",""),e&&(dc&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(an===mn||Qn&&Qn.lastPutMode!=="clone")&&gn&&gn.parentNode&&gn.parentNode.removeChild(gn),Ee&&(this.nativeDraggable&&dt(Ee,"dragend",this),ev(Ee),Ee.style["will-change"]="",dc&&!yl&&dn(Ee,Qn?Qn.options.ghostClass:this.options.ghostClass,!1),dn(Ee,this.options.chosenClass,!1),Cr({sortable:this,name:"unchoose",toEl:mn,newIndex:null,newDraggableIndex:null,originalEvent:e}),an!==mn?(Qr>=0&&(Cr({rootEl:mn,name:"add",toEl:mn,fromEl:an,originalEvent:e}),Cr({sortable:this,name:"remove",toEl:mn,originalEvent:e}),Cr({rootEl:mn,name:"sort",toEl:mn,fromEl:an,originalEvent:e}),Cr({sortable:this,name:"sort",toEl:mn,originalEvent:e})),Qn&&Qn.save()):Qr!==Il&&Qr>=0&&(Cr({sortable:this,name:"update",toEl:mn,originalEvent:e}),Cr({sortable:this,name:"sort",toEl:mn,originalEvent:e})),Ze.active&&((Qr==null||Qr===-1)&&(Qr=Il,to=Mc),Cr({sortable:this,name:"end",toEl:mn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Nr("nulling",this),an=Ee=mn=lt=Qo=gn=cf=ao=Ko=wi=dc=Qr=to=Il=Mc=al=Lc=Qn=Bh=Ze.dragged=Ze.ghost=Ze.clone=Ze.active=null,yp.forEach(function(e){e.checked=!0}),yp.length=Xg=Jg=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ee&&(this._onDragOver(e),EG(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Ei(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||xG(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Ei(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ei(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=nh.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&mO(r)},destroy:function(){Nr("destroy",this);var e=this.el;e[pr]=null,dt(e,"mousedown",this._onTapStart),dt(e,"touchstart",this._onTapStart),dt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(dt(e,"dragover",this),dt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),vp.splice(vp.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ao){if(Nr("hideClone",this),Ze.eventCanceled)return;Be(gn,"display","none"),this.options.removeCloneOnHide&&gn.parentNode&&gn.parentNode.removeChild(gn),ao=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ao){if(Nr("showClone",this),Ze.eventCanceled)return;Ee.parentNode==an&&!this.options.group.revertClone?an.insertBefore(gn,Ee):Qo?an.insertBefore(gn,Qo):an.appendChild(gn),this.options.group.revertClone&&this.animate(Ee,gn),Be(gn,"display",""),ao=!1}}};function EG(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Wh(t,e,n,r,i,s,o,a){var l,u=t[pr],c=u.options.onMove,d;return window.CustomEvent&&!Vs&&!th?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||ln(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function ev(t){t.draggable=!1}function SG(){t0=!1}function CG(t,e,n){var r=ln(cu(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function IG(t,e,n){var r=ln(Kb(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function AG(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&df<u*i){if(!$c&&(Lc===1?l>c+u*s/2:l<d-u*s/2)&&($c=!0),$c)h=!0;else if(Lc===1?l<c+df:l>d-df)return-Lc}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return kG(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function kG(t){return vn(Ee)<vn(t)?1:-1}function xG(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function PG(t){yp.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&yp.push(r)}}function hf(t){return setTimeout(t,0)}function n0(t){return clearTimeout(t)}Bm&&mt(document,"touchmove",function(t){(Ze.active||yl)&&t.cancelable&&t.preventDefault()});Ze.utils={on:mt,off:dt,css:Be,find:cO,is:function(e,n){return!!Ei(e,n,e,!1)},extend:fG,throttle:dO,closest:Ei,toggleClass:dn,clone:zb,index:vn,nextTick:hf,cancelNextTick:n0,detectDirection:pO,getChild:cu};Ze.get=function(t){return t[pr]};Ze.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Ze.utils=as(as({},Ze.utils),r.utils)),nh.mount(r)})};Ze.create=function(t,e){return new Ze(t,e)};Ze.version=uG;var An=[],hc,r0,i0=!1,tv,nv,wp,fc;function DG(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?mt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?mt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?mt(document,"touchmove",this._handleFallbackAutoScroll):mt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?dt(document,"dragover",this._handleAutoScroll):(dt(document,"pointermove",this._handleFallbackAutoScroll),dt(document,"touchmove",this._handleFallbackAutoScroll),dt(document,"mousemove",this._handleFallbackAutoScroll)),vS(),ff(),pG()},nulling:function(){wp=r0=hc=i0=fc=tv=nv=null,An.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(wp=n,r||this.options.forceAutoScrollFallback||th||Vs||Oc){rv(n,this.options,a,r);var l=lo(a,!0);i0&&(!fc||s!==tv||o!==nv)&&(fc&&vS(),fc=setInterval(function(){var u=lo(document.elementFromPoint(s,o),!0);u!==l&&(l=u,ff()),rv(n,i.options,u,r)},10),tv=s,nv=o)}else{if(!this.options.bubbleScroll||lo(a,!0)===ns()){ff();return}rv(n,this.options,lo(a,!1),!1)}}},vi(t,{pluginName:"scroll",initializeByDefault:!0})}function ff(){An.forEach(function(t){clearInterval(t.pid)}),An=[]}function vS(){clearInterval(fc)}var rv=dO(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=ns(),u=!1,c;r0!==n&&(r0=n,ff(),hc=e.scroll,c=e.scrollFn,hc===!0&&(hc=lo(n,!0)));var d=0,h=hc;do{var f=h,p=ln(f),g=p.top,y=p.bottom,T=p.left,v=p.right,_=p.width,m=p.height,w=void 0,E=void 0,L=f.scrollWidth,k=f.scrollHeight,A=Be(f),C=f.scrollLeft,$=f.scrollTop;f===l?(w=_<L&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),E=m<k&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(w=_<L&&(A.overflowX==="auto"||A.overflowX==="scroll"),E=m<k&&(A.overflowY==="auto"||A.overflowY==="scroll"));var V=w&&(Math.abs(v-i)<=o&&C+_<L)-(Math.abs(T-i)<=o&&!!C),I=E&&(Math.abs(y-s)<=o&&$+m<k)-(Math.abs(g-s)<=o&&!!$);if(!An[d])for(var H=0;H<=d;H++)An[H]||(An[H]={});(An[d].vx!=V||An[d].vy!=I||An[d].el!==f)&&(An[d].el=f,An[d].vx=V,An[d].vy=I,clearInterval(An[d].pid),(V!=0||I!=0)&&(u=!0,An[d].pid=setInterval((function(){r&&this.layer===0&&Ze.active._onTouchMove(wp);var M=An[this.layer].vy?An[this.layer].vy*a:0,O=An[this.layer].vx?An[this.layer].vx*a:0;typeof c=="function"&&c.call(Ze.dragged.parentNode[pr],O,M,t,wp,An[this.layer].el)!=="continue"||hO(An[this.layer].el,O,M)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=lo(h,!1)));i0=u}},30),yO=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Gb(){}Gb.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=cu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:yO};vi(Gb,{pluginName:"revertOnSpill"});function qb(){}qb.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:yO};vi(qb,{pluginName:"removeOnSpill"});var ui;function RG(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;ui=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=ui;s(i)!==!1?(dn(i,c.swapClass,!0),ui=i):ui=null,d&&d!==ui&&dn(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;ui&&dn(ui,a.swapClass,!1),ui&&(a.swap||i&&i.options.swap)&&s!==ui&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),OG(s,ui),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){ui=null}},vi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:ui}}})}function OG(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=vn(t),s=vn(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var st=[],qr=[],Yu,bi,Ku=!1,Mr=!1,ll=!1,Qt,zu,Yh;function NG(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?mt(document,"pointerup",this._deselectMultiDrag):(mt(document,"mouseup",this._deselectMultiDrag),mt(document,"touchend",this._deselectMultiDrag)),mt(document,"keydown",this._checkKeyDown),mt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";st.length&&bi===e?st.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;Qt=r},delayEnded:function(){this.isMultiDrag=~st.indexOf(Qt)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<st.length;s++)qr.push(zb(st[s])),qr[s].sortableIndex=st[s].sortableIndex,qr[s].draggable=!1,qr[s].style["will-change"]="",dn(qr[s],this.options.selectedClass,!1),st[s]===Qt&&dn(qr[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||st.length&&bi===r&&(yS(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(yS(!1,i),qr.forEach(function(o){Be(o,"display","")}),r(),Yh=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(qr.forEach(function(o){Be(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Yh=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&bi&&bi.multiDrag._deselectMultiDrag(),st.forEach(function(r){r.sortableIndex=vn(r)}),st=st.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),ll=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){st.forEach(function(o){o!==Qt&&Be(o,"position","absolute")});var s=ln(Qt,!1,!0,!0);st.forEach(function(o){o!==Qt&&fS(o,s)}),Mr=!0,Ku=!0}i.animateAll(function(){Mr=!1,Ku=!1,r.options.animation&&st.forEach(function(o){qg(o)}),r.options.sort&&Kh()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;Mr&&~st.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;st.length>1&&(st.forEach(function(a){s.addAnimationState({target:a,rect:Mr?ln(a):o}),qg(a),a.fromRect=o,r.removeAnimationState(a)}),Mr=!1,MG(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),Ku=!1,u.animation&&st.length>1&&(Mr||!i&&!o.options.sort&&!l)){var c=ln(Qt,!1,!0,!0);st.forEach(function(h){h!==Qt&&(fS(h,c),a.appendChild(h))}),Mr=!0}if(!i)if(Mr||Kh(),st.length>1){var d=Yh;o._showClone(r),o.options.animation&&!Yh&&d&&qr.forEach(function(h){o.addAnimationState({target:h,rect:zu}),h.fromRect=zu,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(st.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){zu=vi({},r);var o=ga(Qt,!0);zu.top-=o.f,zu.left-=o.e}},dragOverAnimationComplete:function(){Mr&&(Mr=!1,Kh())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!ll)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),dn(Qt,d.selectedClass,!~st.indexOf(Qt)),~st.indexOf(Qt))st.splice(st.indexOf(Qt),1),Yu=null,cc({sortable:o,rootEl:i,name:"deselect",targetEl:Qt,originalEvt:r});else{if(st.push(Qt),cc({sortable:o,rootEl:i,name:"select",targetEl:Qt,originalEvt:r}),r.shiftKey&&Yu&&o.el.contains(Yu)){var f=vn(Yu),p=vn(Qt);if(~f&&~p&&f!==p){var g,y;for(p>f?(y=f,g=p):(y=p,g=f+1);y<g;y++)~st.indexOf(h[y])||(dn(h[y],d.selectedClass,!0),st.push(h[y]),cc({sortable:o,rootEl:i,name:"select",targetEl:h[y],originalEvt:r}))}}else Yu=Qt;bi=c}if(ll&&this.isMultiDrag){if(Mr=!1,(s[pr].options.sort||s!==i)&&st.length>1){var T=ln(Qt),v=vn(Qt,":not(."+this.options.selectedClass+")");if(!Ku&&d.animation&&(Qt.thisAnimationDuration=null),c.captureAnimationState(),!Ku&&(d.animation&&(Qt.fromRect=T,st.forEach(function(m){if(m.thisAnimationDuration=null,m!==Qt){var w=Mr?ln(m):T;m.fromRect=w,c.addAnimationState({target:m,rect:w})}})),Kh(),st.forEach(function(m){h[v]?s.insertBefore(m,h[v]):s.appendChild(m),v++}),l===vn(Qt))){var _=!1;st.forEach(function(m){if(m.sortableIndex!==vn(m)){_=!0;return}}),_&&a("update")}st.forEach(function(m){qg(m)}),c.animateAll()}bi=c}(i===s||u&&u.lastPutMode!=="clone")&&qr.forEach(function(m){m.parentNode&&m.parentNode.removeChild(m)})}},nullingGlobal:function(){this.isMultiDrag=ll=!1,qr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),dt(document,"pointerup",this._deselectMultiDrag),dt(document,"mouseup",this._deselectMultiDrag),dt(document,"touchend",this._deselectMultiDrag),dt(document,"keydown",this._checkKeyDown),dt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof ll<"u"&&ll)&&bi===this.sortable&&!(n&&Ei(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;st.length;){var r=st[0];dn(r,this.options.selectedClass,!1),st.shift(),cc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},vi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[pr];!r||!r.options.multiDrag||~st.indexOf(n)||(bi&&bi!==r&&(bi.multiDrag._deselectMultiDrag(),bi=r),dn(n,r.options.selectedClass,!0),st.push(n))},deselect:function(n){var r=n.parentNode[pr],i=st.indexOf(n);!r||!r.options.multiDrag||!~i||(dn(n,r.options.selectedClass,!1),st.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return st.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;Mr&&s!==Qt?o=-1:Mr?o=vn(s,":not(."+n.options.selectedClass+")"):o=vn(s),i.push({multiDragElement:s,index:o})}),{items:iG(st),clones:[].concat(qr),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function MG(t,e){st.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function yS(t,e){qr.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Kh(){st.forEach(function(t){t!==Qt&&t.parentNode&&t.parentNode.removeChild(t)})}Ze.mount(new DG);Ze.mount(qb,Gb);const LG=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:NG,Sortable:Ze,Swap:RG,default:Ze},Symbol.toStringTag,{value:"Module"})),$G=oO(LG);(function(t,e){(function(r,i){t.exports=i(eG,$G)})(typeof self<"u"?self:Jz,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,f){return l.call(u,d,h,f)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(f){return c&&u.call(f)=="[object Window]"?d(f):l(a(f))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),f=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(y,T){if(y=c(y),T=d(T,!0),f)try{return p(y,T)}catch{}if(h(y,T))return u(!l.f.call(y,T),y[T])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],f=h&&h.prototype;if(f&&f.forEach!==u)try{c(f,"forEach",u)}catch{f.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,f){if(!f&&!u)return!1;var p=!1;try{var g={};g[l]=function(){return{next:function(){return{done:p=!0}}}},h(g)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],f=h.constructor={};return f[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),f=o("94ca");i.exports=function(p,g){var y=p.target,T=p.global,v=p.stat,_,m,w,E,L,k;if(T?m=a:v?m=a[y]||d(y,{}):m=(a[y]||{}).prototype,m)for(w in g){if(L=g[w],p.noTargetGet?(k=l(m,w),E=k&&k.value):E=m[w],_=f(T?w:y+(v?".":"#")+w,p.forced),!_&&E!==void 0){if(typeof L==typeof E)continue;h(L,E)}(p.sham||E&&E.sham)&&u(L,"sham",!0),c(m,w,L,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,f=h[d],p=u(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),g=f.name!=d;(p||g)&&a(RegExp.prototype,d,function(){var T=l(this),v=String(T.source),_=T.flags,m=String(_===void 0&&T instanceof RegExp&&!("flags"in h)?c.call(T):_);return"/"+v+"/"+m},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),f=o("c430"),p="".startsWith,g=Math.min,y=h("startsWith"),T=!f&&!y&&!!function(){var v=l(String.prototype,"startsWith");return v&&!v.writable}();a({target:"String",proto:!0,forced:!T&&!y},{startsWith:function(_){var m=String(d(this));c(_);var w=u(g(arguments.length>1?arguments[1]:void 0,m.length)),E=String(_);return p?p.call(m,E,w):m.slice(w,w+E.length)===E}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,f;d?(h=d.split("."),f=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(f=h[1]))),i.exports=f&&+f},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,f){u(h);for(var p=c(f),g=p.length,y=0,T;g>y;)l.f(h,T=p[y++],f[T]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(f){d(this,{type:c,string:String(f),index:0})},function(){var p=h(this),g=p.string,y=p.index,T;return y>=g.length?{value:void 0,done:!0}:(T=a(g,y),p.index+=T.length,{value:T,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,f,p){var g=a(h),y=l(g.length),T=u(p,y),v;if(d&&f!=f){for(;y>T;)if(v=g[T++],v!=v)return!0}else for(;y>T;T++)if((d||T in g)&&g[T]===f)return d||T||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),f=o("35a1");i.exports=function(g){var y=l(g),T=typeof this=="function"?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,m=_!==void 0,w=f(y),E=0,L,k,A,C,$,V;if(m&&(_=a(_,v>2?arguments[2]:void 0,2)),w!=null&&!(T==Array&&c(w)))for(C=w.call(y),$=C.next,k=new T;!(A=$.call(C)).done;E++)V=m?u(C,_,[A.value,E],!0):A.value,h(k,E,V);else for(L=d(y.length),k=new T(L);L>E;E++)V=m?_(y[E],E):y[E],h(k,E,V);return k.length=E,k}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),f=o("8aa5"),p=o("14c3"),g=Math.max,y=Math.min,T=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,m=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,E,L,k){var A=k.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=k.REPLACE_KEEPS_$0,$=A?"$":"$0";return[function(H,M){var O=h(this),W=H==null?void 0:H[w];return W!==void 0?W.call(H,O,M):E.call(String(O),H,M)},function(I,H){if(!A&&C||typeof H=="string"&&H.indexOf($)===-1){var M=L(E,I,this,H);if(M.done)return M.value}var O=l(I),W=String(this),X=typeof H=="function";X||(H=String(H));var F=O.global;if(F){var b=O.unicode;O.lastIndex=0}for(var Q=[];;){var te=p(O,W);if(te===null||(Q.push(te),!F))break;var Z=String(te[0]);Z===""&&(O.lastIndex=f(W,c(O.lastIndex),b))}for(var ue="",we=0,B=0;B<Q.length;B++){te=Q[B];for(var G=String(te[0]),se=g(y(d(te.index),W.length),0),z=[],de=1;de<te.length;de++)z.push(m(te[de]));var Se=te.groups;if(X){var S=[G].concat(z,se,W);Se!==void 0&&S.push(Se);var P=String(H.apply(void 0,S))}else P=V(G,W,se,z,Se,H);se>=we&&(ue+=W.slice(we,se)+P,we=se+G.length)}return ue+W.slice(we)}];function V(I,H,M,O,W,X){var F=M+I.length,b=O.length,Q=_;return W!==void 0&&(W=u(W),Q=v),E.call(X,Q,function(te,Z){var ue;switch(Z.charAt(0)){case"$":return"$";case"&":return I;case"`":return H.slice(0,M);case"'":return H.slice(F);case"<":ue=W[Z.slice(1,-1)];break;default:var we=+Z;if(we===0)return te;if(we>b){var B=T(we/10);return B===0?te:B<=b?O[B-1]===void 0?Z.charAt(1):O[B-1]+Z.charAt(1):te}ue=O[we-1]}return ue===void 0?"":ue})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var f=l.f(c(h)),p=u.f;return p?f.concat(p(h)):f}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var g=u(this),y=c(g.length),T;return d(p),T=h(g,0),T.length=l(T,g,g,y,0,1,p,arguments.length>1?arguments[1]:void 0),T}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var f=String(l(d)),p=a(h),g=f.length,y,T;return p<0||p>=g?c?"":void 0:(y=f.charCodeAt(p),y<55296||y>56319||p+1===g||(T=f.charCodeAt(p+1))<56320||T>57343?c?f.charAt(p):y:c?f.slice(p,p+2):(y-55296<<10)+(T-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:a(f)&&(f=f[c],f===null&&(f=void 0))),new(f===void 0?Array:f)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),f=o("d012"),p=l.WeakMap,g,y,T,v=function(A){return T(A)?y(A):g(A,{})},_=function(A){return function(C){var $;if(!u(C)||($=y(C)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return $}};if(a){var m=new p,w=m.get,E=m.has,L=m.set;g=function(A,C){return L.call(m,A,C),C},y=function(A){return w.call(m,A)||{}},T=function(A){return E.call(m,A)}}else{var k=h("state");f[k]=!0,g=function(A,C){return c(A,k,C),C},y=function(A){return d(A,k)?A[k]:{}},T=function(A){return d(A,k)}}i.exports={set:g,get:y,has:T,enforce:v,getterFor:_}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),f=h.get,p=h.enforce,g=String(String).split("String");(i.exports=function(y,T,v,_){var m=_?!!_.unsafe:!1,w=_?!!_.enumerable:!1,E=_?!!_.noTargetGet:!1;if(typeof v=="function"&&(typeof T=="string"&&!u(v,"name")&&l(v,"name",T),p(v).source=g.join(typeof T=="string"?T:"")),y===a){w?y[T]=v:c(T,v);return}else m?!E&&y[T]&&(w=!0):delete y[T];w?y[T]=v:l(y,T,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(f){for(var p=u(f),g=l(p),y=g.length,T=0,v=[],_;y>T;)_=g[T++],(!a||c.call(p,_))&&v.push(h?[_,p[_]]:p[_]);return v}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),f=o("f772"),p=">",g="<",y="prototype",T="script",v=f("IE_PROTO"),_=function(){},m=function(A){return g+T+p+A+g+"/"+T+p},w=function(A){A.write(m("")),A.close();var C=A.parentWindow.Object;return A=null,C},E=function(){var A=h("iframe"),C="java"+T+":",$;return A.style.display="none",d.appendChild(A),A.src=String(C),$=A.contentWindow.document,$.open(),$.write(m("document.F=Object")),$.close(),$.F},L,k=function(){try{L=document.domain&&new ActiveXObject("htmlfile")}catch{}k=L?w(L):E();for(var A=u.length;A--;)delete k[y][u[A]];return k()};c[v]=!0,i.exports=Object.create||function(C,$){var V;return C!==null?(_[y]=a(C),V=new _,_[y]=null,V[v]=C):V=k(),$===void 0?V:l(V,$)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),f=o("6eeb"),p=o("b622"),g=o("c430"),y=o("3f8c"),T=o("ae93"),v=T.IteratorPrototype,_=T.BUGGY_SAFARI_ITERATORS,m=p("iterator"),w="keys",E="values",L="entries",k=function(){return this};i.exports=function(A,C,$,V,I,H,M){l($,C,V);var O=function(B){if(B===I&&Q)return Q;if(!_&&B in F)return F[B];switch(B){case w:return function(){return new $(this,B)};case E:return function(){return new $(this,B)};case L:return function(){return new $(this,B)}}return function(){return new $(this)}},W=C+" Iterator",X=!1,F=A.prototype,b=F[m]||F["@@iterator"]||I&&F[I],Q=!_&&b||O(I),te=C=="Array"&&F.entries||b,Z,ue,we;if(te&&(Z=u(te.call(new A)),v!==Object.prototype&&Z.next&&(!g&&u(Z)!==v&&(c?c(Z,v):typeof Z[m]!="function"&&h(Z,m,k)),d(Z,W,!0,!0),g&&(y[W]=k))),I==E&&b&&b.name!==E&&(X=!0,Q=function(){return b.call(this)}),(!g||M)&&F[m]!==Q&&h(F,m,Q),y[C]=Q,I)if(ue={values:O(E),keys:H?Q:O(w),entries:O(L)},M)for(we in ue)(_||X||!(we in F))&&f(F,we,ue[we]);else a({target:C,proto:!0,forced:_||X},ue);return ue}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var f=a(d);f in c?l.f(c,f,u(0,h)):c[f]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(L){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(L.stack)||f.exec(L.stack),g=p&&p[1]||!1,y=p&&p[2]||!1,T=document.location.href.replace(document.location.hash,""),v,_,m,w=document.getElementsByTagName("script");g===T&&(v=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),m=v.replace(_,"$1").trim());for(var E=0;E<w.length;E++)if(w[E].readyState==="interactive"||w[E].src===g||g===T&&w[E].innerHTML&&w[E].innerHTML.trim()===m)return w[E];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var y=/a/,T=/b*/g;return u.call(y,"a"),u.call(T,"a"),y.lastIndex!==0||T.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,g=h||p||f;g&&(d=function(T){var v=this,_,m,w,E,L=f&&v.sticky,k=a.call(v),A=v.source,C=0,$=T;return L&&(k=k.replace("y",""),k.indexOf("g")===-1&&(k+="g"),$=String(T).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&T[v.lastIndex-1]!==`
`)&&(A="(?: "+A+")",$=" "+$,C++),m=new RegExp("^(?:"+A+")",k)),p&&(m=new RegExp("^"+A+"$(?!\\s)",k)),h&&(_=v.lastIndex),w=u.call(L?m:v,$),L?w?(w.input=w.input.slice(C),w[0]=w[0].slice(C),w.index=v.lastIndex,v.lastIndex+=w[0].length):v.lastIndex=0:h&&w&&(v.lastIndex=v.global?w.index+w[0].length:_),p&&w&&w.length>1&&c.call(w[0],m,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(w[E]=void 0)}),w}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,g){var y=d[c(p)];return y==f?!0:y==h?!1:typeof g=="function"?a(g):!!g},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),f=o("8418"),p=o("65f0"),g=o("1dde"),y=o("b622"),T=o("2d00"),v=y("isConcatSpreadable"),_=9007199254740991,m="Maximum allowed index exceeded",w=T>=51||!l(function(){var A=[];return A[v]=!1,A.concat()[0]!==A}),E=g("concat"),L=function(A){if(!c(A))return!1;var C=A[v];return C!==void 0?!!C:u(A)},k=!w||!E;a({target:"Array",proto:!0,forced:k},{concat:function(C){var $=d(this),V=p($,0),I=0,H,M,O,W,X;for(H=-1,O=arguments.length;H<O;H++)if(X=H===-1?$:arguments[H],L(X)){if(W=h(X.length),I+W>_)throw TypeError(m);for(M=0;M<W;M++,I++)M in X&&f(V,I,X[M])}else{if(I>=_)throw TypeError(m);f(V,I++,X)}return V.length=I,V}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(f){var h=l.return;throw h!==void 0&&a(h.call(l)),f}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(f,p,g){if(u(f),p=c(p,!0),u(g),l)try{return d(f,p,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(f[p]=g.value),f}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(f,p,g){var y=p+" Iterator";return f.prototype=l(a,{next:u(1,g)}),c(f,y,!1,!0),d[y]=h,f}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,f,p,g,y,T,v){for(var _=g,m=0,w=T?u(T,v,3):!1,E;m<p;){if(m in f){if(E=w?w(f[m],m,h):f[m],y>0&&a(E))_=c(d,h,E,l(E.length),_,y-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[_]=E}_++}m++}return _};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),f=o("8418"),p=o("1dde"),g=o("ae40"),y=p("splice"),T=g("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,_=Math.min,m=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!T},{splice:function(L,k){var A=d(this),C=c(A.length),$=l(L,C),V=arguments.length,I,H,M,O,W,X;if(V===0?I=H=0:V===1?(I=0,H=C-$):(I=V-2,H=_(v(u(k),0),C-$)),C+I-H>m)throw TypeError(w);for(M=h(A,H),O=0;O<H;O++)W=$+O,W in A&&f(M,O,A[W]);if(M.length=H,I<H){for(O=$;O<C-H;O++)W=O+H,X=O+I,W in A?A[X]=A[W]:delete A[X];for(O=C;O>C-H+I;O--)delete A[O-1]}else if(I>H)for(O=C-H;O>$;O--)W=O+H-1,X=O+I-1,W in A?A[X]=A[W]:delete A[X];for(O=0;O<I;O++)A[O+$]=arguments[O+2];return A.length=C-H+I,M}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),f=o("fdbf"),p=o("d039"),g=o("5135"),y=o("e8b5"),T=o("861d"),v=o("825a"),_=o("7b0b"),m=o("fc6a"),w=o("c04e"),E=o("5c6c"),L=o("7c73"),k=o("df75"),A=o("241c"),C=o("057f"),$=o("7418"),V=o("06cf"),I=o("9bf2"),H=o("d1e7"),M=o("9112"),O=o("6eeb"),W=o("5692"),X=o("f772"),F=o("d012"),b=o("90e3"),Q=o("b622"),te=o("e538"),Z=o("746f"),ue=o("d44e"),we=o("69f3"),B=o("b727").forEach,G=X("hidden"),se="Symbol",z="prototype",de=Q("toPrimitive"),Se=we.set,S=we.getterFor(se),P=Object[z],R=l.Symbol,N=u("JSON","stringify"),Y=V.f,oe=I.f,fe=C.f,ye=H.f,ve=W("symbols"),pe=W("op-symbols"),Te=W("string-to-symbol-registry"),_e=W("symbol-to-string-registry"),$e=W("wks"),Ge=l.QObject,nt=!Ge||!Ge[z]||!Ge[z].findChild,pt=d&&p(function(){return L(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!=7})?function(Ye,Fe,qe){var vt=Y(P,Fe);vt&&delete P[Fe],oe(Ye,Fe,qe),vt&&Ye!==P&&oe(P,Fe,vt)}:oe,q=function(Ye,Fe){var qe=ve[Ye]=L(R[z]);return Se(qe,{type:se,tag:Ye,description:Fe}),d||(qe.description=Fe),qe},U=f?function(Ye){return typeof Ye=="symbol"}:function(Ye){return Object(Ye)instanceof R},K=function(Fe,qe,vt){Fe===P&&K(pe,qe,vt),v(Fe);var It=w(qe,!0);return v(vt),g(ve,It)?(vt.enumerable?(g(Fe,G)&&Fe[G][It]&&(Fe[G][It]=!1),vt=L(vt,{enumerable:E(0,!1)})):(g(Fe,G)||oe(Fe,G,E(1,{})),Fe[G][It]=!0),pt(Fe,It,vt)):oe(Fe,It,vt)},j=function(Fe,qe){v(Fe);var vt=m(qe),It=k(vt).concat(Je(vt));return B(It,function(Or){(!d||ce.call(vt,Or))&&K(Fe,Or,vt[Or])}),Fe},ne=function(Fe,qe){return qe===void 0?L(Fe):j(L(Fe),qe)},ce=function(Fe){var qe=w(Fe,!0),vt=ye.call(this,qe);return this===P&&g(ve,qe)&&!g(pe,qe)?!1:vt||!g(this,qe)||!g(ve,qe)||g(this,G)&&this[G][qe]?vt:!0},Ve=function(Fe,qe){var vt=m(Fe),It=w(qe,!0);if(!(vt===P&&g(ve,It)&&!g(pe,It))){var Or=Y(vt,It);return Or&&g(ve,It)&&!(g(vt,G)&&vt[G][It])&&(Or.enumerable=!0),Or}},Ne=function(Fe){var qe=fe(m(Fe)),vt=[];return B(qe,function(It){!g(ve,It)&&!g(F,It)&&vt.push(It)}),vt},Je=function(Fe){var qe=Fe===P,vt=fe(qe?pe:m(Fe)),It=[];return B(vt,function(Or){g(ve,Or)&&(!qe||g(P,Or))&&It.push(ve[Or])}),It};if(h||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor");var Fe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),qe=b(Fe),vt=function(It){this===P&&vt.call(pe,It),g(this,G)&&g(this[G],qe)&&(this[G][qe]=!1),pt(this,qe,E(1,It))};return d&&nt&&pt(P,qe,{configurable:!0,set:vt}),q(qe,Fe)},O(R[z],"toString",function(){return S(this).tag}),O(R,"withoutSetter",function(Ye){return q(b(Ye),Ye)}),H.f=ce,I.f=K,V.f=Ve,A.f=C.f=Ne,$.f=Je,te.f=function(Ye){return q(Q(Ye),Ye)},d&&(oe(R[z],"description",{configurable:!0,get:function(){return S(this).description}}),c||O(P,"propertyIsEnumerable",ce,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:R}),B(k($e),function(Ye){Z(Ye)}),a({target:se,stat:!0,forced:!h},{for:function(Ye){var Fe=String(Ye);if(g(Te,Fe))return Te[Fe];var qe=R(Fe);return Te[Fe]=qe,_e[qe]=Fe,qe},keyFor:function(Fe){if(!U(Fe))throw TypeError(Fe+" is not a symbol");if(g(_e,Fe))return _e[Fe]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:ne,defineProperty:K,defineProperties:j,getOwnPropertyDescriptor:Ve}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Ne,getOwnPropertySymbols:Je}),a({target:"Object",stat:!0,forced:p(function(){$.f(1)})},{getOwnPropertySymbols:function(Fe){return $.f(_(Fe))}}),N){var Lt=!h||p(function(){var Ye=R();return N([Ye])!="[null]"||N({a:Ye})!="{}"||N(Object(Ye))!="{}"});a({target:"JSON",stat:!0,forced:Lt},{stringify:function(Fe,qe,vt){for(var It=[Fe],Or=1,Gm;arguments.length>Or;)It.push(arguments[Or++]);if(Gm=qe,!(!T(qe)&&Fe===void 0||U(Fe)))return y(qe)||(qe=function(sN,ah){if(typeof Gm=="function"&&(ah=Gm.call(this,sN,ah)),!U(ah))return ah}),It[1]=qe,N.apply(null,It)}})}R[z][de]||M(R[z],de,R[z].valueOf),ue(R,se),F[G]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(f){throw f};i.exports=function(f,p){if(u(d,f))return d[f];p||(p={});var g=[][f],y=u(p,"ACCESSORS")?p.ACCESSORS:!1,T=u(p,0)?p[0]:h,v=u(p,1)?p[1]:void 0;return d[f]=!!g&&!l(function(){if(y&&!a)return!0;var _={length:-1};y?c(_,1,{enumerable:!0,get:h}):_[1]=1,g.call(_,T,v)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),f=!1,p=function(){return this},g,y,T;[].keys&&(T=[].keys(),"next"in T?(y=a(a(T)),y!==Object.prototype&&(g=y)):f=!0),g==null&&(g={}),!d&&!u(g,h)&&l(g,h,p),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:f}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),f=l("wks"),p=a.Symbol,g=h?p:p&&p.withoutSetter||c;i.exports=function(y){return u(f,y)||(d&&u(p,y)?f[y]=p[y]:f[y]=g("Symbol."+y)),f[y]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(f){return u(l(f))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,f=function(p){var g=p==1,y=p==2,T=p==3,v=p==4,_=p==6,m=p==5||_;return function(w,E,L,k){for(var A=u(w),C=l(A),$=a(E,L,3),V=c(C.length),I=0,H=k||d,M=g?H(w,V):y?H(w,0):void 0,O,W;V>I;I++)if((m||I in C)&&(O=C[I],W=$(O,I,A),p)){if(g)M[I]=W;else if(W)switch(p){case 3:return!0;case 5:return O;case 6:return I;case 2:h.call(M,O)}else if(v)return!1}return _?-1:T||v?v:M}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,f=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!f},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,f=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!f||!p},{indexOf:function(y){return h?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var f=l(d),p=0,g=[],y;for(y in f)!a(c,y)&&a(f,y)&&g.push(y);for(;h.length>p;)a(f,y=h[p++])&&(~u(g,y)||g.push(y));return g}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(f,p){return a(f),l(p),u?d.call(f,p):f.__proto__=p,f}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,f){d&&!l(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(f,p,g,y){a(p);var T=l(f),v=u(T),_=c(T.length),m=h?_-1:0,w=h?-1:1;if(g<2)for(;;){if(m in v){y=v[m],m+=w;break}if(m+=w,h?m<0:_<=m)throw TypeError("Reduce of empty array with no initial value")}for(;h?m>=0:_>m;m+=w)m in v&&(y=p(y,v[m],m,T));return y}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),f=!l(function(){var v=/./;return v.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(v,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),y=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),T=!l(function(){var v=/(?:)/,_=v.exec;v.exec=function(){return _.apply(this,arguments)};var m="ab".split(v);return m.length!==2||m[0]!=="a"||m[1]!=="b"});i.exports=function(v,_,m,w){var E=u(v),L=!l(function(){var I={};return I[E]=function(){return 7},""[v](I)!=7}),k=L&&!l(function(){var I=!1,H=/a/;return v==="split"&&(H={},H.constructor={},H.constructor[h]=function(){return H},H.flags="",H[E]=/./[E]),H.exec=function(){return I=!0,null},H[E](""),!I});if(!L||!k||v==="replace"&&!(f&&p&&!y)||v==="split"&&!T){var A=/./[E],C=m(E,""[v],function(I,H,M,O,W){return H.exec===c?L&&!W?{done:!0,value:A.call(H,M,O)}:{done:!0,value:I.call(M,H,O)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),$=C[0],V=C[1];a(String.prototype,v,$),a(RegExp.prototype,E,_==2?function(I,H){return V.call(I,this,H)}:function(I){return V.call(I,this)})}w&&d(RegExp.prototype[E],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var g=c(p),y=d.f,T=u(g),v={},_=0,m,w;T.length>_;)w=y(g,m=T[_++]),w!==void 0&&h(v,m,w);return v}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),f=d("toStringTag"),p=u.values;for(var g in l){var y=a[g],T=y&&y.prototype;if(T){if(T[h]!==p)try{c(T,h,p)}catch{T[h]=p}if(T[f]||c(T,f,g),l[g]){for(var v in u)if(T[v]!==u[v])try{c(T,v,u[v])}catch{T[v]=u[v]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,f=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var g={},y=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),L=this instanceof y?new p(E):E===void 0?p():p(E);return E===""&&(g[L]=!0),L};f(y,p);var T=y.prototype=p.prototype;T.constructor=y;var v=T.toString,_=String(p("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/;h(T,"description",{configurable:!0,get:function(){var E=d(this)?this.valueOf():this,L=v.call(E);if(c(g,E))return"";var k=_?L.slice(7,-1):L.replace(m,"$1");return k===""?void 0:k}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(f){return f=l(f),a(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",f=c.set,p=c.getterFor(h);i.exports=d(Array,"Array",function(g,y){f(this,{type:h,target:a(g),index:0,kind:y})},function(){var g=p(this),y=g.target,T=g.kind,v=g.index++;return!y||v>=y.length?(g.target=void 0,{value:void 0,done:!0}):T=="keys"?{value:v,done:!1}:T=="values"?{value:y[v],done:!1}:{value:[v,y[v]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),f=!d||h;a({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(g,y){return c(u(g),y)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var f=l(h),p=c.f,g=u.f,y=0;y<f.length;y++){var T=f[y];a(d,T)||p(d,T,g(h,T))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(f,p){try{return f[p]}catch{}};i.exports=a?l:function(f){var p,g,y;return f===void 0?"Undefined":f===null?"Null":typeof(g=h(p=Object(f),c))=="string"?g:d?l(p):(y=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(U,K,j){return K in U?Object.defineProperty(U,K,{value:j,enumerable:!0,configurable:!0,writable:!0}):U[K]=j,U}function d(U,K){var j=Object.keys(U);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(U);K&&(ne=ne.filter(function(ce){return Object.getOwnPropertyDescriptor(U,ce).enumerable})),j.push.apply(j,ne)}return j}function h(U){for(var K=1;K<arguments.length;K++){var j=arguments[K]!=null?arguments[K]:{};K%2?d(Object(j),!0).forEach(function(ne){c(U,ne,j[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(j)):d(Object(j)).forEach(function(ne){Object.defineProperty(U,ne,Object.getOwnPropertyDescriptor(j,ne))})}return U}function f(U){if(Array.isArray(U))return U}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(U,K){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(U)))){var j=[],ne=!0,ce=!1,Ve=void 0;try{for(var Ne=U[Symbol.iterator](),Je;!(ne=(Je=Ne.next()).done)&&(j.push(Je.value),!(K&&j.length===K));ne=!0);}catch(Lt){ce=!0,Ve=Lt}finally{try{!ne&&Ne.return!=null&&Ne.return()}finally{if(ce)throw Ve}}return j}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g(U,K){(K==null||K>U.length)&&(K=U.length);for(var j=0,ne=new Array(K);j<K;j++)ne[j]=U[j];return ne}function y(U,K){if(U){if(typeof U=="string")return g(U,K);var j=Object.prototype.toString.call(U).slice(8,-1);if(j==="Object"&&U.constructor&&(j=U.constructor.name),j==="Map"||j==="Set")return Array.from(U);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return g(U,K)}}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(U,K){return f(U)||p(U,K)||y(U,K)||T()}function _(U){if(Array.isArray(U))return g(U)}function m(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(U){return _(U)||m(U)||y(U)||w()}var L=o("a352"),k=o.n(L);function A(U){U.parentElement!==null&&U.parentElement.removeChild(U)}function C(U,K,j){var ne=j===0?U.children[0]:U.children[j-1].nextSibling;U.insertBefore(K,ne)}var $=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function V(U){var K=Object.create(null);return function(ne){var ce=K[ne];return ce||(K[ne]=U(ne))}}var I=/-(\w)/g,H=V(function(U){return U.replace(I,function(K,j){return j.toUpperCase()})});o("5db7"),o("73d9");var M=["Start","Add","Remove","Update","End"],O=["Choose","Unchoose","Sort","Filter","Clone"],W=["Move"],X=[W,M,O].flatMap(function(U){return U}).map(function(U){return"on".concat(U)}),F={manage:W,manageAndEmit:M,emit:O};function b(U){return X.indexOf(U)!==-1}o("caad"),o("2ca0");var Q=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function te(U){return Q.includes(U)}function Z(U){return["transition-group","TransitionGroup"].includes(U)}function ue(U){return["id","class","role","style"].includes(U)||U.startsWith("data-")||U.startsWith("aria-")||U.startsWith("on")}function we(U){return U.reduce(function(K,j){var ne=v(j,2),ce=ne[0],Ve=ne[1];return K[ce]=Ve,K},{})}function B(U){var K=U.$attrs,j=U.componentData,ne=j===void 0?{}:j,ce=we(Object.entries(K).filter(function(Ve){var Ne=v(Ve,2),Je=Ne[0];return Ne[1],ue(Je)}));return h(h({},ce),ne)}function G(U){var K=U.$attrs,j=U.callBackBuilder,ne=we(se(K));Object.entries(j).forEach(function(Ve){var Ne=v(Ve,2),Je=Ne[0],Lt=Ne[1];F[Je].forEach(function(Ye){ne["on".concat(Ye)]=Lt(Ye)})});var ce="[data-draggable]".concat(ne.draggable||"");return h(h({},ne),{},{draggable:ce})}function se(U){return Object.entries(U).filter(function(K){var j=v(K,2),ne=j[0];return j[1],!ue(ne)}).map(function(K){var j=v(K,2),ne=j[0],ce=j[1];return[H(ne),ce]}).filter(function(K){var j=v(K,2),ne=j[0];return j[1],!b(ne)})}o("c740");function z(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")}function de(U,K){for(var j=0;j<K.length;j++){var ne=K[j];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(U,ne.key,ne)}}function Se(U,K,j){return K&&de(U.prototype,K),j&&de(U,j),U}var S=function(K){var j=K.el;return j},P=function(K,j){return K.__draggable_context=j},R=function(K){return K.__draggable_context},N=function(){function U(K){var j=K.nodes,ne=j.header,ce=j.default,Ve=j.footer,Ne=K.root,Je=K.realList;z(this,U),this.defaultNodes=ce,this.children=[].concat(E(ne),E(ce),E(Ve)),this.externalComponent=Ne.externalComponent,this.rootTransition=Ne.transition,this.tag=Ne.tag,this.realList=Je}return Se(U,[{key:"render",value:function(j,ne){var ce=this.tag,Ve=this.children,Ne=this._isRootComponent,Je=Ne?{default:function(){return Ve}}:Ve;return j(ce,ne,Je)}},{key:"updated",value:function(){var j=this.defaultNodes,ne=this.realList;j.forEach(function(ce,Ve){P(S(ce),{element:ne[Ve],index:Ve})})}},{key:"getUnderlyingVm",value:function(j){return R(j)}},{key:"getVmIndexFromDomIndex",value:function(j,ne){var ce=this.defaultNodes,Ve=ce.length,Ne=ne.children,Je=Ne.item(j);if(Je===null)return Ve;var Lt=R(Je);if(Lt)return Lt.index;if(Ve===0)return 0;var Ye=S(ce[0]),Fe=E(Ne).findIndex(function(qe){return qe===Ye});return j<Fe?0:Ve}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),U}(),Y=o("8bbf");function oe(U,K){var j=U[K];return j?j():[]}function fe(U){var K=U.$slots,j=U.realList,ne=U.getKey,ce=j||[],Ve=["header","footer"].map(function(qe){return oe(K,qe)}),Ne=v(Ve,2),Je=Ne[0],Lt=Ne[1],Ye=K.item;if(!Ye)throw new Error("draggable element must have an item slot");var Fe=ce.flatMap(function(qe,vt){return Ye({element:qe,index:vt}).map(function(It){return It.key=ne(qe),It.props=h(h({},It.props||{}),{},{"data-draggable":!0}),It})});if(Fe.length!==ce.length)throw new Error("Item slot must have only one child");return{header:Je,footer:Lt,default:Fe}}function ye(U){var K=Z(U),j=!te(U)&&!K;return{transition:K,externalComponent:j,tag:j?Object(Y.resolveComponent)(U):K?Y.TransitionGroup:U}}function ve(U){var K=U.$slots,j=U.tag,ne=U.realList,ce=U.getKey,Ve=fe({$slots:K,realList:ne,getKey:ce}),Ne=ye(j);return new N({nodes:Ve,root:Ne,realList:ne})}function pe(U,K){var j=this;Object(Y.nextTick)(function(){return j.$emit(U.toLowerCase(),K)})}function Te(U){var K=this;return function(j,ne){if(K.realList!==null)return K["onDrag".concat(U)](j,ne)}}function _e(U){var K=this,j=Te.call(this,U);return function(ne,ce){j.call(K,ne,ce),pe.call(K,U,ne)}}var $e=null,Ge={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(K){return K}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},nt=["update:modelValue","change"].concat(E([].concat(E(F.manageAndEmit),E(F.emit)).map(function(U){return U.toLowerCase()}))),pt=Object(Y.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ge,emits:nt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var K=this.$slots,j=this.$attrs,ne=this.tag,ce=this.componentData,Ve=this.realList,Ne=this.getKey,Je=ve({$slots:K,tag:ne,realList:Ve,getKey:Ne});this.componentStructure=Je;var Lt=B({$attrs:j,componentData:ce});return Je.render(Y.h,Lt)}catch(Ye){return this.error=!0,Object(Y.h)("pre",{style:{color:"red"}},Ye.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&$.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var K=this;if(!this.error){var j=this.$attrs,ne=this.$el,ce=this.componentStructure;ce.updated();var Ve=G({$attrs:j,callBackBuilder:{manageAndEmit:function(Lt){return _e.call(K,Lt)},emit:function(Lt){return pe.bind(K,Lt)},manage:function(Lt){return Te.call(K,Lt)}}}),Ne=ne.nodeType===1?ne:ne.parentElement;this._sortable=new k.a(Ne,Ve),this.targetDomElement=Ne,Ne.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var K=this.list;return K||this.modelValue},getKey:function(){var K=this.itemKey;return typeof K=="function"?K:function(j){return j[K]}}},watch:{$attrs:{handler:function(K){var j=this._sortable;j&&se(K).forEach(function(ne){var ce=v(ne,2),Ve=ce[0],Ne=ce[1];j.option(Ve,Ne)})},deep:!0}},methods:{getUnderlyingVm:function(K){return this.componentStructure.getUnderlyingVm(K)||null},getUnderlyingPotencialDraggableComponent:function(K){return K.__draggable_component__},emitChanges:function(K){var j=this;Object(Y.nextTick)(function(){return j.$emit("change",K)})},alterList:function(K){if(this.list){K(this.list);return}var j=E(this.modelValue);K(j),this.$emit("update:modelValue",j)},spliceList:function(){var K=arguments,j=function(ce){return ce.splice.apply(ce,E(K))};this.alterList(j)},updatePosition:function(K,j){var ne=function(Ve){return Ve.splice(j,0,Ve.splice(K,1)[0])};this.alterList(ne)},getRelatedContextFromMoveEvent:function(K){var j=K.to,ne=K.related,ce=this.getUnderlyingPotencialDraggableComponent(j);if(!ce)return{component:ce};var Ve=ce.realList,Ne={list:Ve,component:ce};if(j!==ne&&Ve){var Je=ce.getUnderlyingVm(ne)||{};return h(h({},Je),Ne)}return Ne},getVmIndexFromDomIndex:function(K){return this.componentStructure.getVmIndexFromDomIndex(K,this.targetDomElement)},onDragStart:function(K){this.context=this.getUnderlyingVm(K.item),K.item._underlying_vm_=this.clone(this.context.element),$e=K.item},onDragAdd:function(K){var j=K.item._underlying_vm_;if(j!==void 0){A(K.item);var ne=this.getVmIndexFromDomIndex(K.newIndex);this.spliceList(ne,0,j);var ce={element:j,newIndex:ne};this.emitChanges({added:ce})}},onDragRemove:function(K){if(C(this.$el,K.item,K.oldIndex),K.pullMode==="clone"){A(K.clone);return}var j=this.context,ne=j.index,ce=j.element;this.spliceList(ne,1);var Ve={element:ce,oldIndex:ne};this.emitChanges({removed:Ve})},onDragUpdate:function(K){A(K.item),C(K.from,K.item,K.oldIndex);var j=this.context.index,ne=this.getVmIndexFromDomIndex(K.newIndex);this.updatePosition(j,ne);var ce={element:this.context.element,oldIndex:j,newIndex:ne};this.emitChanges({moved:ce})},computeFutureIndex:function(K,j){if(!K.element)return 0;var ne=E(j.to.children).filter(function(Je){return Je.style.display!=="none"}),ce=ne.indexOf(j.related),Ve=K.component.getVmIndexFromDomIndex(ce),Ne=ne.indexOf($e)!==-1;return Ne||!j.willInsertAfter?Ve:Ve+1},onDragMove:function(K,j){var ne=this.move,ce=this.realList;if(!ne||!ce)return!0;var Ve=this.getRelatedContextFromMoveEvent(K),Ne=this.computeFutureIndex(Ve,K),Je=h(h({},this.context),{},{futureIndex:Ne}),Lt=h(h({},K),{},{relatedContext:Ve,draggedContext:Je});return ne(Lt,j)},onDragEnd:function(){$e=null}}}),q=pt;s.default=q},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),f=o("8418"),p=o("b622"),g=o("1dde"),y=o("ae40"),T=g("slice"),v=y("slice",{ACCESSORS:!0,0:0,1:2}),_=p("species"),m=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!T||!v},{slice:function(L,k){var A=h(this),C=d(A.length),$=c(L,C),V=c(k===void 0?C:k,C),I,H,M;if(u(A)&&(I=A.constructor,typeof I=="function"&&(I===Array||u(I.prototype))?I=void 0:l(I)&&(I=I[_],I===null&&(I=void 0)),I===Array||I===void 0))return m.call(A,$,V);for(H=new(I===void 0?Array:I)(w(V-$,0)),M=0;$<V;$++,M++)$ in A&&f(H,M,A[$]);return H.length=M,H}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(aO);var UG=aO.exports;const FG=Zz(UG),VG=t=>(kC("data-v-d69062a4"),t=t(),xC(),t),BG=VG(()=>ee("h3",{class:"title-secondary"},"My Work",-1)),jG=Ae({__name:"Projects",setup(t){const e=zn(),{moveProject:n}=e,{projects:r}=Xt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Dr(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),aH(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return yn(()=>r.value,(o,a)=>{o>a&&s()}),fn(()=>{s()}),(o,a)=>(D(),J(Ie,null,[BG,ae(x(FG),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":x(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:ge(({element:l})=>[ae(Pr,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,description:l.description,loading:l.loading},{default:ge(()=>[(D(!0),J(Ie,null,ut(l.technologies,u=>(D(),he(Ct,{class:"m-1 md:mt-2 font-bold",style:On({backgroundColor:u.color})},{default:ge(()=>[et(Ke(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","description","loading"])]),_:1},8,["model-value"])],64))}});const HG=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},WG=HG(jG,[["__scopeId","data-v-d69062a4"]]),YG={class:"grid mt-20"},KG=Ae({__name:"Home",setup(t){return(e,n)=>(D(),he(Vo,{"scroll-to-content":!1},{content:ge(()=>[ee("div",YG,[ae(WG)])]),_:1}))}}),zG=Ae({__name:"Home",setup(t){return(e,n)=>(D(),he(KG))}}),GG={class:"flex flex-col items-center content-center"},qG={class:"grid grid-cols-4 mt-10 gap-3"},QG=Ae({__name:"Login",setup(t){const e=Ln(),{loginLoading:n}=Xt(e),r=JI(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=le(),a=le(),l=$n({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return fn(()=>{r.replace({query:void 0})}),(d,h)=>{const f=ls("RouterLink");return D(),he(Vo,null,{content:ge(()=>[ae(Pr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:ge(()=>[ee("div",GG,[ee("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=Pt(p=>u(),["prevent"]))},[ae(Yb,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":h[1]||(h[1]=p=>l.email.error=p),rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ae(Cl,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":h[3]||(h[3]=p=>l.password.error=p),rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ee("div",qG,[ae(Ct,{class:"col-span-full md:col-span-2",action:"submit",loading:x(n)},{default:ge(()=>[et(" Login ")]),_:1},8,["loading"]),ae(f,{class:"col-span-full md:col-span-2",to:{name:"register",query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:ge(()=>[ae(Ct,{class:"w-full",outlined:""},{default:ge(()=>[et(" Register ")]),_:1})]),_:1},8,["to"]),ae(Ct,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:ge(()=>[et(" Forgot Password ")]),_:1})])],32),ae(Wb)])]),_:1})]),_:1})}}}),XG=Ae({__name:"Login",setup(t){return(e,n)=>(D(),he(QG))}}),JG=Ae({__name:"NotFound",setup(t){return(e,n)=>(D(),he(Vo,null,{content:ge(()=>[ae(Pr,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),ZG=Ae({__name:"NotFound",setup(t){return(e,n)=>(D(),he(JG))}}),eq={class:"flex flex-col items-center content-center"},tq={class:"grid grid-cols-2 mt-10 gap-3"},nq=Ae({__name:"Register",setup(t){const e=Ln(),{loginLoading:n}=Xt(e),r=JI(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=le(),a=le(),l=le(),u=$n({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return fn(()=>{r.replace({query:void 0})}),(d,h)=>{const f=ls("RouterLink");return D(),he(Vo,null,{content:ge(()=>[ae(Pr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:ge(()=>[ee("div",eq,[ee("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=Pt(p=>c(),["prevent"]))},[ae(hr,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=p=>u.firstName.error=p),rules:[x(Tt).Required,x(Tt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),ae(Yb,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":h[3]||(h[3]=p=>u.email.error=p),rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ae(Cl,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":h[5]||(h[5]=p=>u.password.error=p),rules:[x(Tt).Required]},null,8,["modelValue","error","rules"]),ee("div",tq,[ae(Ct,{class:"col-span-full md:col-span-1",action:"submit",loading:x(n)},{default:ge(()=>[et(" Register ")]),_:1},8,["loading"]),ae(f,{to:{name:"login",query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:ge(()=>[ae(Ct,{class:"w-full",outlined:""},{default:ge(()=>[et(" Login ")]),_:1})]),_:1},8,["to"])])],32),ae(Wb)])]),_:1})]),_:1})}}}),rq=Ae({__name:"Register",setup(t){return(e,n)=>(D(),he(nq))}}),jm=T$({history:FL(""),routes:[{path:"/",name:"home",meta:{title:"Home"},component:zG,beforeEnter:(t,e,n)=>{var s;const[r,i]=decodeURIComponent(((s=t.query.path)==null?void 0:s.toString())||"").split("#");r?jm.getRoutes().find(o=>o.path===r)?n({path:r,hash:i?`#${i}`:void 0}):n({name:"notfound"}):n()}},{path:"/login",name:"login",meta:{title:"Login"},component:XG,beforeEnter:(t,e,n)=>{Ln().currentUser?n({name:"dashboard"}):n()}},{path:"/register",name:"register",meta:{title:"Register"},component:rq,beforeEnter:(t,e,n)=>{Ln().currentUser?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",meta:{title:"Dashboard"},component:Xz,beforeEnter:(t,e,n)=>{Ln().currentUser?n():n({name:"login"})}},{path:"/blog",name:"blog",meta:{title:"Blog"},component:Mz},{path:"/customvoting",name:"customvoting",meta:{title:"CustomVoting"},component:jz},{path:"/cat-calc",name:"cat-calc",meta:{title:"CatCalc"},component:Uz},{path:"/:pathMatch(.*)*",name:"notfound",meta:{title:"404"},component:ZG}],scrollBehavior(t,e,n){return t.hash?new Promise((r,i)=>{let s=10;const o=()=>{setTimeout(()=>{try{document.querySelector(t.hash)?r({el:t.hash,behavior:"smooth",top:15}):(s--,s>0?o():i())}catch(a){i(a)}},1e3)};o()}):n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),wS=rO.name;jm.beforeEach(async(t,e,n)=>{var r,i;if(t!==e){const s=zn();t.name&&["home","login","register","dashboard","notfound"].includes(t.name.toString())||(i=await s.fetchMenuItems((r=Ln().firebaseUser)==null?void 0:r.uid))!=null&&i.some(o=>o.url===t.name)?n():n({name:"notfound"})}else n()});jm.beforeResolve(t=>{document.title=wS+" | "+t.meta.title||wS});const Qb=jm;/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const pf=1e3,mf=60*pf,gf=60*mf,bS=24*gf,_S="abort",TS="end",ES="progress",SS="start",CS="visibilitychange";var IS=Ae({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[_S,TS,ES,SS],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/bS)},hours(){return Math.floor(this.totalMilliseconds%bS/gf)},minutes(){return Math.floor(this.totalMilliseconds%gf/mf)},seconds(){return Math.floor(this.totalMilliseconds%mf/pf)},milliseconds(){return Math.floor(this.totalMilliseconds%pf)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/gf)},totalMinutes(){return Math.floor(this.totalMilliseconds/mf)},totalSeconds(){return Math.floor(this.totalMilliseconds/pf)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(CS,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(CS,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(SS),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const r=i=>{e||(e=i),n||(n=i);const s=i-e;s>=t||s+(i-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(r),n=i};this.requestId=requestAnimationFrame(r)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(ES,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(_S))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(TS))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return wu(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});function yi(t){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(t)}function Qe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function We(t){Le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||yi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ys(t,e){Le(2,arguments);var n=We(t),r=Qe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Ri(t,e){Le(2,arguments);var n=We(t),r=Qe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function wO(t,e){if(Le(2,arguments),!e||yi(e)!=="object")return new Date(NaN);var n=e.years?Qe(e.years):0,r=e.months?Qe(e.months):0,i=e.weeks?Qe(e.weeks):0,s=e.days?Qe(e.days):0,o=e.hours?Qe(e.hours):0,a=e.minutes?Qe(e.minutes):0,l=e.seconds?Qe(e.seconds):0,u=We(t),c=r||n?Ri(u,r+n*12):u,d=s||i?ys(c,s+i*7):c,h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(d.getTime()+p);return g}function iq(t,e){Le(2,arguments);var n=We(t).getTime(),r=Qe(e);return new Date(n+r)}var sq={};function ds(){return sq}function $a(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ds(),d=Qe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=We(t),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function bp(t){return Le(1,arguments),$a(t,{weekStartsOn:1})}function oq(t){Le(1,arguments);var e=We(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=bp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=bp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function aq(t){Le(1,arguments);var e=oq(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=bp(n);return r}function _p(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function AS(t){Le(1,arguments);var e=We(t);return e.setHours(0,0,0,0),e}var lq=864e5;function uq(t,e){Le(2,arguments);var n=AS(t),r=AS(e),i=n.getTime()-_p(n),s=r.getTime()-_p(r);return Math.round((i-s)/lq)}function cq(t,e){Le(2,arguments);var n=Qe(e),r=n*3;return Ri(t,r)}function Xb(t,e){Le(2,arguments);var n=Qe(e);return Ri(t,n*12)}var Jb=6e4,Zb=36e5,dq=1e3;function bO(t){return Le(1,arguments),t instanceof Date||yi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Uc(t){if(Le(1,arguments),!bO(t)&&typeof t!="number")return!1;var e=We(t);return!isNaN(Number(e))}function kS(t){Le(1,arguments);var e=We(t),n=Math.floor(e.getMonth()/3)+1;return n}function _O(t,e){var n;Le(1,arguments);var r=t||{},i=We(r.start),s=We(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(We(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function yd(t){Le(1,arguments);var e=We(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function hq(t){Le(1,arguments);var e=t||{},n=We(e.start),r=We(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=yd(n),o=yd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(We(l)),l=cq(l,1);return a}function fq(t){Le(1,arguments);var e=We(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function pq(t){Le(1,arguments);var e=We(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function mq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ds(),d=Qe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=We(t),f=h.getDay(),p=(f<d?-7:0)+6-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function xS(t){Le(1,arguments);var e=We(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function TO(t,e){Le(2,arguments);var n=Qe(e);return iq(t,-n)}var gq=864e5;function vq(t){Le(1,arguments);var e=We(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/gq)+1}function du(t){Le(1,arguments);var e=1,n=We(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function EO(t){Le(1,arguments);var e=We(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=du(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=du(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function yq(t){Le(1,arguments);var e=EO(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=du(n);return r}var wq=6048e5;function SO(t){Le(1,arguments);var e=We(t),n=du(e).getTime()-yq(e).getTime();return Math.round(n/wq)+1}function Ua(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ds(),d=Qe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=We(t),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function e_(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=We(t),d=c.getUTCFullYear(),h=ds(),f=Qe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var g=Ua(p,e),y=new Date(0);y.setUTCFullYear(d,0,f),y.setUTCHours(0,0,0,0);var T=Ua(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=T.getTime()?d:d-1}function bq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ds(),d=Qe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=e_(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=Ua(f,e);return p}var _q=6048e5;function CO(t,e){Le(1,arguments);var n=We(t),r=Ua(n,e).getTime()-bq(n,e).getTime();return Math.round(r/_q)+1}function Bt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Tq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Bt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Bt(r+1,2)},d:function(e,n){return Bt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Bt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Bt(e.getUTCHours(),n.length)},m:function(e,n){return Bt(e.getUTCMinutes(),n.length)},s:function(e,n){return Bt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Bt(s,n.length)}};const Ks=Tq;var ul={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Eq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Ks.y(e,n)},Y:function(e,n,r,i){var s=e_(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Bt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Bt(o,n.length)},R:function(e,n){var r=EO(e);return Bt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Bt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Bt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Bt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Ks.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Bt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=CO(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Bt(s,n.length)},I:function(e,n,r){var i=SO(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Bt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ks.d(e,n)},D:function(e,n,r){var i=vq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Bt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Bt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Bt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Bt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=ul.noon:i===0?s=ul.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=ul.evening:i>=12?s=ul.afternoon:i>=4?s=ul.morning:s=ul.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ks.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ks.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Bt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Bt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ks.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ks.s(e,n)},S:function(e,n){return Ks.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return DS(o);case"XXXX":case"XX":return Xo(o);case"XXXXX":case"XXX":default:return Xo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return DS(o);case"xxxx":case"xx":return Xo(o);case"xxxxx":case"xxx":default:return Xo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+PS(o,":");case"OOOO":default:return"GMT"+Xo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+PS(o,":");case"zzzz":default:return"GMT"+Xo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Bt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Bt(o,n.length)}};function PS(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Bt(s,2)}function DS(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Bt(Math.abs(t)/60,2)}return Xo(t,e)}function Xo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Bt(Math.floor(i/60),2),o=Bt(i%60,2);return r+s+n+o}const Sq=Eq;var RS=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},IO=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Cq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return RS(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",RS(i,n)).replace("{{time}}",IO(s,n))},Iq={p:IO,P:Cq};const s0=Iq;var Aq=["D","DD"],kq=["YY","YYYY"];function AO(t){return Aq.indexOf(t)!==-1}function kO(t){return kq.indexOf(t)!==-1}function Tp(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var xq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pq=function(e,n,r){var i,s=xq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Dq=Pq;function iv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Rq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Oq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mq={date:iv({formats:Rq,defaultWidth:"full"}),time:iv({formats:Oq,defaultWidth:"full"}),dateTime:iv({formats:Nq,defaultWidth:"full"})};const Lq=Mq;var $q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uq=function(e,n,r,i){return $q[e]};const Fq=Uq;function Gu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Vq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zq={ordinalNumber:Kq,era:Gu({values:Vq,defaultWidth:"wide"}),quarter:Gu({values:Bq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Gu({values:jq,defaultWidth:"wide"}),day:Gu({values:Hq,defaultWidth:"wide"}),dayPeriod:Gu({values:Wq,defaultWidth:"wide",formattingValues:Yq,defaultFormattingWidth:"wide"})};const Gq=zq;function qu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Qq(a,function(d){return d.test(o)}):qq(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function qq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Qq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Xq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Jq=/^(\d+)(th|st|nd|rd)?/i,Zq=/\d+/i,eQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tQ={any:[/^b/i,/^(a|c)/i]},nQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rQ={any:[/1/i,/2/i,/3/i,/4/i]},iQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cQ={ordinalNumber:Xq({matchPattern:Jq,parsePattern:Zq,valueCallback:function(e){return parseInt(e,10)}}),era:qu({matchPatterns:eQ,defaultMatchWidth:"wide",parsePatterns:tQ,defaultParseWidth:"any"}),quarter:qu({matchPatterns:nQ,defaultMatchWidth:"wide",parsePatterns:rQ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:qu({matchPatterns:iQ,defaultMatchWidth:"wide",parsePatterns:sQ,defaultParseWidth:"any"}),day:qu({matchPatterns:oQ,defaultMatchWidth:"wide",parsePatterns:aQ,defaultParseWidth:"any"}),dayPeriod:qu({matchPatterns:lQ,defaultMatchWidth:"any",parsePatterns:uQ,defaultParseWidth:"any"})};const dQ=cQ;var hQ={code:"en-US",formatDistance:Dq,formatLong:Lq,formatRelative:Fq,localize:Gq,match:dQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const xO=hQ;var fQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mQ=/^'([^]*?)'?$/,gQ=/''/g,vQ=/[a-zA-Z]/;function wo(t,e,n){var r,i,s,o,a,l,u,c,d,h,f,p,g,y,T,v,_,m;Le(2,arguments);var w=String(e),E=ds(),L=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:E.locale)!==null&&r!==void 0?r:xO,k=Qe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:E.firstWeekContainsDate)!==null&&o!==void 0?o:(d=E.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Qe((f=(p=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(T=n.locale)===null||T===void 0||(v=T.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&g!==void 0?g:E.weekStartsOn)!==null&&p!==void 0?p:(_=E.locale)===null||_===void 0||(m=_.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&f!==void 0?f:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var C=We(t);if(!Uc(C))throw new RangeError("Invalid time value");var $=_p(C),V=TO(C,$),I={firstWeekContainsDate:k,weekStartsOn:A,locale:L,_originalDate:C},H=w.match(pQ).map(function(M){var O=M[0];if(O==="p"||O==="P"){var W=s0[O];return W(M,L.formatLong)}return M}).join("").match(fQ).map(function(M){if(M==="''")return"'";var O=M[0];if(O==="'")return yQ(M);var W=Sq[O];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&kO(M)&&Tp(M,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&AO(M)&&Tp(M,e,String(t)),W(V,M,L.localize,I);if(O.match(vQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return M}).join("");return H}function yQ(t){var e=t.match(mQ);return e?e[1].replace(gQ,"'"):t}function wQ(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function bQ(t){Le(1,arguments);var e=We(t),n=e.getDay();return n}function _Q(t){Le(1,arguments);var e=We(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Oi(t){Le(1,arguments);var e=We(t),n=e.getHours();return n}var TQ=6048e5;function EQ(t){Le(1,arguments);var e=We(t),n=bp(e).getTime()-aq(e).getTime();return Math.round(n/TQ)+1}function rs(t){Le(1,arguments);var e=We(t),n=e.getMinutes();return n}function At(t){Le(1,arguments);var e=We(t),n=e.getMonth();return n}function hu(t){Le(1,arguments);var e=We(t),n=e.getSeconds();return n}function SQ(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=We(t),d=c.getFullYear(),h=ds(),f=Qe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var g=$a(p,e),y=new Date(0);y.setFullYear(d,0,f),y.setHours(0,0,0,0);var T=$a(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=T.getTime()?d:d-1}function CQ(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ds(),d=Qe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=SQ(t,e),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=$a(f,e);return p}var IQ=6048e5;function AQ(t,e){Le(1,arguments);var n=We(t),r=$a(n,e).getTime()-CQ(n,e).getTime();return Math.round(r/IQ)+1}function ht(t){return Le(1,arguments),We(t).getFullYear()}function wd(t,e){Le(2,arguments);var n=We(t),r=We(e);return n.getTime()>r.getTime()}function bd(t,e){Le(2,arguments);var n=We(t),r=We(e);return n.getTime()<r.getTime()}function Al(t,e){Le(2,arguments);var n=We(t),r=We(e);return n.getTime()===r.getTime()}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kQ(t,e){if(t){if(typeof t=="string")return OS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(t,e)}}function NS(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o0(t,e){return o0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o0(t,e)}function Dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o0(t,e)}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function xQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PQ(t,e){if(e&&(yi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(t)}function Rt(t){var e=xQ();return function(){var r=Ep(t),i;if(e){var s=Ep(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return PQ(this,i)}}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DQ(t,e){if(yi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PO(t){var e=DQ(t,"string");return yi(e)==="symbol"?e:String(e)}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PO(r.key),r)}}function bt(t,e,n){return e&&MS(t.prototype,e),n&&MS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e,n){return e=PO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var RQ=10,DO=function(){function t(){wt(this,t),Re(this,"priority",void 0),Re(this,"subPriority",0)}return bt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),OQ=function(t){Dt(n,t);var e=Rt(n);function n(r,i,s,o,a){var l;return wt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return bt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(DO),NQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",RQ),Re(Me(r),"subPriority",-1),r}return bt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(DO),Mt=function(){function t(){wt(this,t),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return bt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new OQ(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),MQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",140),Re(Me(r),"incompatibleTokens",["R","u","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),En={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Sn(t,e){return t&&{value:e(t.value),rest:t.rest}}function hn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Yi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Zb+s*Jb+o*dq),rest:e.slice(n[0].length)}}function RO(t){return hn(En.anyDigitsSigned,t)}function bn(t,e){switch(t){case 1:return hn(En.singleDigit,e);case 2:return hn(En.twoDigits,e);case 3:return hn(En.threeDigits,e);case 4:return hn(En.fourDigits,e);default:return hn(new RegExp("^\\d{1,"+t+"}"),e)}}function Sp(t,e){switch(t){case 1:return hn(En.singleDigitSigned,e);case 2:return hn(En.twoDigitsSigned,e);case 3:return hn(En.threeDigitsSigned,e);case 4:return hn(En.fourDigitsSigned,e);default:return hn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function t_(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OO(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function NO(t){return t%400===0||t%4===0&&t%100!==0}var LQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Sn(bn(4,i),a);case"yo":return Sn(o.ordinalNumber(i,{unit:"year"}),a);default:return Sn(bn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=OO(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),$Q=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Sn(bn(4,i),a);case"Yo":return Sn(o.ordinalNumber(i,{unit:"year"}),a);default:return Sn(bn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=e_(i,a);if(o.isTwoDigitYear){var u=OO(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ua(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ua(i,a)}}]),n}(Mt),UQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s){return Sp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),du(a)}}]),n}(Mt),FQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s){return Sp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),VQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return bn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),BQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return bn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),jQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Me(r),"priority",110),r}return bt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Sn(hn(En.month,i),a);case"MM":return Sn(bn(2,i),a);case"Mo":return Sn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),HQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",110),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Sn(hn(En.month,i),a);case"LL":return Sn(bn(2,i),a);case"Lo":return Sn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Mt);function WQ(t,e,n){Le(2,arguments);var r=We(t),i=Qe(e),s=CO(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var YQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return hn(En.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Ua(WQ(i,o,a),a)}}]),n}(Mt);function KQ(t,e){Le(2,arguments);var n=We(t),r=Qe(e),i=SO(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var zQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return hn(En.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return du(KQ(i,o))}}]),n}(Mt),GQ=[31,28,31,30,31,30,31,31,30,31,30,31],qQ=[31,29,31,30,31,30,31,31,30,31,30,31],QQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subPriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return hn(En.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=NO(o),l=i.getUTCMonth();return a?s>=1&&s<=qQ[l]:s>=1&&s<=GQ[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),XQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subpriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return hn(En.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=NO(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Mt);function n_(t,e,n){var r,i,s,o,a,l,u,c;Le(2,arguments);var d=ds(),h=Qe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=We(t),p=Qe(e),g=f.getUTCDay(),y=p%7,T=(y+7)%7,v=(T<h?7:0)+p-g;return f.setUTCDate(f.getUTCDate()+v),f}var JQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=n_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),ZQ=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Sn(bn(s.length,i),l);case"eo":return Sn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=n_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),eX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Sn(bn(s.length,i),l);case"co":return Sn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=n_(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Mt);function tX(t,e){Le(2,arguments);var n=Qe(e);n%7===0&&(n=n-7);var r=1,i=We(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var nX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return bn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Sn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Sn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Sn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Sn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=tX(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Mt),rX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(t_(o),0,0,0),i}}]),n}(Mt),iX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(t_(o),0,0,0),i}}]),n}(Mt),sX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","b","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(t_(o),0,0,0),i}}]),n}(Mt),oX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["H","K","k","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return hn(En.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Mt),aX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return hn(En.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Mt),lX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["h","H","k","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return hn(En.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Mt),uX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return hn(En.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Mt),cX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",60),Re(Me(r),"incompatibleTokens",["t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return hn(En.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Mt),dX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",50),Re(Me(r),"incompatibleTokens",["t","T"]),r}return bt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return hn(En.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return bn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Mt),hX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",30),Re(Me(r),"incompatibleTokens",["t","T"]),r}return bt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Sn(bn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Mt),fX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","x"]),r}return bt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Yi(Wi.basicOptionalMinutes,i);case"XX":return Yi(Wi.basic,i);case"XXXX":return Yi(Wi.basicOptionalSeconds,i);case"XXXXX":return Yi(Wi.extendedOptionalSeconds,i);case"XXX":default:return Yi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Mt),pX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","X"]),r}return bt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Yi(Wi.basicOptionalMinutes,i);case"xx":return Yi(Wi.basic,i);case"xxxx":return Yi(Wi.basicOptionalSeconds,i);case"xxxxx":return Yi(Wi.extendedOptionalSeconds,i);case"xxx":default:return Yi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Mt),mX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",40),Re(Me(r),"incompatibleTokens","*"),r}return bt(n,[{key:"parse",value:function(i){return RO(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Mt),gX=function(t){Dt(n,t);var e=Rt(n);function n(){var r;wt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",20),Re(Me(r),"incompatibleTokens","*"),r}return bt(n,[{key:"parse",value:function(i){return RO(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Mt),vX={G:new MQ,y:new LQ,Y:new $Q,R:new UQ,u:new FQ,Q:new VQ,q:new BQ,M:new jQ,L:new HQ,w:new YQ,I:new zQ,d:new QQ,D:new XQ,E:new JQ,e:new ZQ,c:new eX,i:new nX,a:new rX,b:new iX,B:new sX,h:new oX,H:new aX,K:new lX,k:new uX,m:new cX,s:new dX,S:new hX,X:new fX,x:new pX,t:new mX,T:new gX},yX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bX=/^'([^]*?)'?$/,_X=/''/g,TX=/\S/,EX=/[a-zA-Z]/;function a0(t,e,n,r){var i,s,o,a,l,u,c,d,h,f,p,g,y,T,v,_,m,w;Le(3,arguments);var E=String(t),L=String(e),k=ds(),A=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:k.locale)!==null&&i!==void 0?i:xO;if(!A.match)throw new RangeError("locale must contain match property");var C=Qe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&a!==void 0?a:(h=k.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=Qe((p=(g=(y=(T=r==null?void 0:r.weekStartsOn)!==null&&T!==void 0?T:r==null||(v=r.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&g!==void 0?g:(m=k.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(L==="")return E===""?We(n):new Date(NaN);var V={firstWeekContainsDate:C,weekStartsOn:$,locale:A},I=[new NQ],H=L.match(wX).map(function(se){var z=se[0];if(z in s0){var de=s0[z];return de(se,A.formatLong)}return se}).join("").match(yX),M=[],O=NS(H),W;try{var X=function(){var z=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&kO(z)&&Tp(z,L,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&AO(z)&&Tp(z,L,t);var de=z[0],Se=vX[de];if(Se){var S=Se.incompatibleTokens;if(Array.isArray(S)){var P=M.find(function(N){return S.includes(N.token)||N.token===de});if(P)throw new RangeError("The format string mustn't contain `".concat(P.fullToken,"` and `").concat(z,"` at the same time"))}else if(Se.incompatibleTokens==="*"&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(z,"` and any other token at the same time"));M.push({token:de,fullToken:z});var R=Se.run(E,z,A.match,V);if(!R)return{v:new Date(NaN)};I.push(R.setter),E=R.rest}else{if(de.match(EX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+de+"`");if(z==="''"?z="'":de==="'"&&(z=SX(z)),E.indexOf(z)===0)E=E.slice(z.length);else return{v:new Date(NaN)}}};for(O.s();!(W=O.n()).done;){var F=X();if(yi(F)==="object")return F.v}}catch(se){O.e(se)}finally{O.f()}if(E.length>0&&TX.test(E))return new Date(NaN);var b=I.map(function(se){return se.priority}).sort(function(se,z){return z-se}).filter(function(se,z,de){return de.indexOf(se)===z}).map(function(se){return I.filter(function(z){return z.priority===se}).sort(function(z,de){return de.subPriority-z.subPriority})}).map(function(se){return se[0]}),Q=We(n);if(isNaN(Q.getTime()))return new Date(NaN);var te=TO(Q,_p(Q)),Z={},ue=NS(b),we;try{for(ue.s();!(we=ue.n()).done;){var B=we.value;if(!B.validate(te,V))return new Date(NaN);var G=B.set(te,Z,V);Array.isArray(G)?(te=G[0],wQ(Z,G[1])):te=G}}catch(se){ue.e(se)}finally{ue.f()}return te}function SX(t){return t.match(bX)[1].replace(_X,"'")}function LS(t,e){Le(2,arguments);var n=yd(t),r=yd(e);return n.getTime()===r.getTime()}function CX(t,e){Le(2,arguments);var n=Qe(e);return ys(t,-n)}function IX(t,e){var n;Le(1,arguments);var r=Qe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=PX(t),s;if(i.date){var o=DX(i.date,r);s=RX(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=OX(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=NX(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var zh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},AX=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kX=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xX=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PX(t){var e={},n=t.split(zh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],zh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(zh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=zh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function DX(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function RX(t,e){if(e===null)return new Date(NaN);var n=t.match(AX);if(!n)return new Date(NaN);var r=!!n[4],i=Qu(n[1]),s=Qu(n[2])-1,o=Qu(n[3]),a=Qu(n[4]),l=Qu(n[5])-1;if(r)return FX(e,a,l)?MX(e,a,l):new Date(NaN);var u=new Date(0);return!$X(e,s,o)||!UX(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Qu(t){return t?parseInt(t):1}function OX(t){var e=t.match(kX);if(!e)return NaN;var n=sv(e[1]),r=sv(e[2]),i=sv(e[3]);return VX(n,r,i)?n*Zb+r*Jb+i*1e3:NaN}function sv(t){return t&&parseFloat(t.replace(",","."))||0}function NX(t){if(t==="Z")return 0;var e=t.match(xX);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return BX(r,i)?n*(r*Zb+i*Jb):NaN}function MX(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var LX=[31,null,31,30,31,30,31,31,30,31,30,31];function MO(t){return t%400===0||t%4===0&&t%100!==0}function $X(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(LX[e]||(MO(t)?29:28))}function UX(t,e){return e>=1&&e<=(MO(t)?366:365)}function FX(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function VX(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function BX(t,e){return e>=0&&e<=59}function LO(t,e){Le(2,arguments);var n=We(t),r=Qe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=_Q(o);return n.setMonth(r,Math.min(s,a)),n}function nn(t,e){if(Le(2,arguments),yi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=We(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=LO(n,e.month)),e.date!=null&&n.setDate(Qe(e.date)),e.hours!=null&&n.setHours(Qe(e.hours)),e.minutes!=null&&n.setMinutes(Qe(e.minutes)),e.seconds!=null&&n.setSeconds(Qe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Qe(e.milliseconds)),n)}function $O(t,e){Le(2,arguments);var n=We(t),r=Qe(e);return n.setHours(r),n}function r_(t,e){Le(2,arguments);var n=We(t),r=Qe(e);return n.setMilliseconds(r),n}function UO(t,e){Le(2,arguments);var n=We(t),r=Qe(e);return n.setMinutes(r),n}function i_(t,e){Le(2,arguments);var n=We(t),r=Qe(e);return n.setSeconds(r),n}function Qi(t,e){Le(2,arguments);var n=We(t),r=Qe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function fu(t,e){Le(2,arguments);var n=Qe(e);return Ri(t,-n)}function jX(t,e){if(Le(2,arguments),!e||yi(e)!=="object")return new Date(NaN);var n=e.years?Qe(e.years):0,r=e.months?Qe(e.months):0,i=e.weeks?Qe(e.weeks):0,s=e.days?Qe(e.days):0,o=e.hours?Qe(e.hours):0,a=e.minutes?Qe(e.minutes):0,l=e.seconds?Qe(e.seconds):0,u=fu(t,r+n*12),c=CX(u,s+i*7),d=a+o*60,h=l+d*60,f=h*1e3,p=new Date(c.getTime()-f);return p}function FO(t,e){Le(2,arguments);var n=Qe(e);return Xb(t,-n)}function rh(){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ee("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ee("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ee("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ee("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}rh.compatConfig={MODE:3};function VO(){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ee("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ee("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}VO.compatConfig={MODE:3};function s_(){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ee("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}s_.compatConfig={MODE:3};function o_(){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ee("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}o_.compatConfig={MODE:3};function a_(){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ee("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ee("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}a_.compatConfig={MODE:3};function l_(){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ee("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}l_.compatConfig={MODE:3};function u_(){return D(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ee("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}u_.compatConfig={MODE:3};function c_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BO={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(BO);var HX=BO.exports,l0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(l0,l0.exports);var WX=l0.exports;const YX=c_(WX);var u0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(u0,u0.exports);var KX=u0.exports;const $S=c_(KX);function zX(t,e){var n=XX(e);return n.formatToParts?qX(n,t):QX(n,t)}var GX={year:0,month:1,day:2,hour:3,minute:4,second:5};function qX(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=GX[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function QX(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var ov={};function XX(t){if(!ov[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";ov[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return ov[t]}function d_(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var US=36e5,JX=6e4,av={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function h_(t,e,n){var r,i;if(t===""||(r=av.timezoneZ.exec(t),r))return 0;var s;if(r=av.timezoneHH.exec(t),r)return s=parseInt(r[1],10),FS(s)?-(s*US):NaN;if(r=av.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return FS(s,o)?(i=Math.abs(s)*US+o*JX,s>0?-i:i):NaN}if(tJ(t)){e=new Date(e||Date.now());var a=n?e:ZX(e),l=c0(a,t),u=n?l:eJ(e,l,t);return-u}return NaN}function ZX(t){return d_(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function c0(t,e){var n=zX(t,e),r=d_(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function eJ(t,e,n){var r=t.getTime(),i=r-e,s=c0(new Date(i),n);if(e===s)return e;i-=s-e;var o=c0(new Date(i),n);return s===o?s:Math.max(s,o)}function FS(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var VS={};function tJ(t){if(VS[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),VS[t]=!0,!0}catch{return!1}}var jO=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,lv=36e5,BS=6e4,nJ=2,Ar={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:jO};function d0(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?nJ:YX(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=rJ(t),s=iJ(i.date,r),o=s.year,a=s.restDateString,l=sJ(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=oJ(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=h_(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=$S(new Date(u+c)),d=$S(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function rJ(t){var e={},n=Ar.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ar.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Ar.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function iJ(t,e){var n=Ar.YYY[e],r=Ar.YYYYY[e],i;if(i=Ar.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Ar.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function sJ(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Ar.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,HS(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Ar.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return uJ(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Ar.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return HS(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Ar.Www.exec(t),n)return s=parseInt(n[1],10)-1,WS(e,s)?jS(e,s):new Date(NaN);if(n=Ar.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return WS(e,s,l)?jS(e,s,l):new Date(NaN)}return null}function oJ(t){var e,n,r;if(e=Ar.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),uv(n)?n%24*lv:NaN;if(e=Ar.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),uv(n,r)?n%24*lv+r*BS:NaN;if(e=Ar.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return uv(n,r,i)?n%24*lv+r*BS+i*1e3:NaN}return null}function jS(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var aJ=[31,28,31,30,31,30,31,31,30,31,30,31],lJ=[31,29,31,30,31,30,31,31,30,31,30,31];function HO(t){return t%400===0||t%4===0&&t%100!==0}function HS(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=HO(t);if(r&&n>lJ[e]||!r&&n>aJ[e])return!1}return!0}function uJ(t,e){if(e<1)return!1;var n=HO(t);return!(n&&e>366||!n&&e>365)}function WS(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function uv(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var h0={exports:{}},f0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(f0,f0.exports);var cJ=f0.exports;(function(t,e){var n=HX.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(cJ);function i(s){return(0,r.default)({},s)}t.exports=e.default})(h0,h0.exports);var dJ=h0.exports;const hJ=c_(dJ);function fJ(t,e,n){var r=d0(t,n),i=h_(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function pJ(t,e,n){if(typeof t=="string"&&!t.match(jO)){var r=hJ(n);return r.timeZone=e,d0(t,r)}var i=d0(t,n),s=d_(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=h_(e,new Date(s));return new Date(s+o)}function YS(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function mJ(t){return e=>wo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const gJ=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(mJ(t))}catch{i=r.map(YS(e))}else i=r.map(YS(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},f_=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},WO=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=wo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},vJ=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Rn=t=>{const e=x(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},yJ=t=>Object.assign({type:"dot"},t),YO=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Cp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Un=t=>t,KS=t=>t===0?t:!t||isNaN(+t)?null:+t,zS=t=>t===null,wJ=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},bJ=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},_d=(t,e,n)=>{const r=n??n===0,i=e??e===0;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},pu=(t,e)=>bJ(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),bo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},_J=t=>{if(t.nextElementSibling)return t.nextElementSibling;for(;t.parentElement&&!t.parentElement.nextElementSibling;)t=t.parentElement;return t.parentElement?t.parentElement.nextElementSibling:null},TJ=t=>{if(!t)return!1;const e=["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])"],n=t.matches(e.join(", ")),r=t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0;return n&&r},EJ=t=>{if(!t)return null;let e=t;for(;e;)if(e=_J(e),TJ(e))return e;return null},GS=(t,e,n,r,i)=>{const s=a0(t,e.slice(0,t.length),new Date);return Uc(s)&&bO(s)?r||i?s:nn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},SJ=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return GS(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=GS(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},be=t=>t?new Date(t):new Date,CJ=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Gr=t=>{let e=be(JSON.parse(JSON.stringify(t)));return e=$O(e,0),e=UO(e,0),e=i_(e,0),e=r_(e,0),e},_o=(t,e,n,r)=>{let i=t?be(t):be();return(e||e===0)&&(i=$O(i,+e)),(n||n===0)&&(i=UO(i,+n)),(r||r===0)&&(i=i_(i,+r)),r_(i,0)},er=(t,e)=>!t||!e?!1:bd(Gr(t),Gr(e)),Ot=(t,e)=>!t||!e?!1:Al(Gr(t),Gr(e)),gr=(t,e)=>!t||!e?!1:wd(Gr(t),Gr(e)),Hm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?gr(n,t[0])&&er(n,t[1]):t!=null&&t[0]&&e?gr(n,t[0])&&er(n,e)||er(n,t[0])&&gr(n,e):!1,Ai=t=>{const e=nn(new Date(t),{date:1});return Gr(e)},cv=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},va=t=>({hours:Oi(t),minutes:rs(t),seconds:hu(t)}),KO=(t,e)=>{if(e){const n=ht(be(e));if(n>t)return 12;if(n===t)return At(be(e))}},zO=(t,e)=>{if(e){const n=ht(be(e));return n<t?-1:n===t?At(be(e)):void 0}},mu=t=>{if(t)return ht(be(t))},fi=(t,e)=>e?fJ(t,e):t,GO=(t,e)=>e?pJ(t,e):t,qS=t=>t instanceof Date?t:IX(t),qO=(t,e)=>{const n=gr(t,e)?e:t,r=gr(e,t)?e:t;return _O({start:n,end:r})},IJ=t=>{const e=Ri(t,1);return{month:At(e),year:ht(e)}},vf=(t,e,n)=>{const r=$a(fi(t,e),{weekStartsOn:+n}),i=mq(fi(t,e),{weekStartsOn:+n});return[r,i]},QO=(t,e)=>{const n={hours:Oi(be()),minutes:rs(be()),seconds:e?hu(be()):0};return Object.assign(n,t)},uo=(t,e,n)=>[nn(be(t),{date:1}),nn(be(),{month:e,year:n,date:1})],Es=(t,e,n)=>{let r=t?be(t):be();return(e||e===0)&&(r=LO(r,e)),n&&(r=Qi(r,n)),r},XO=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Ri(t,1):fu(t,1),o=[At(s),ht(s)];return i?!kJ(...o,e):!AJ(...o,n)},AJ=(t,e,n)=>er(...uo(n,t,e))||Ot(...uo(n,t,e)),kJ=(t,e,n)=>gr(...uo(n,t,e))||Ot(...uo(n,t,e)),JO=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${wo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?wo(t[1],s,a):""}`:wo(t,s,a)},cl=t=>{if(t)return null;throw new Error(Cp.prop("partial-range"))},Gh=(t,e)=>{if(e)return t();throw new Error(Cp.prop("range"))},p0=t=>Array.isArray(t)?Uc(t[0])&&(t[1]?Uc(t[1]):!0):t?Uc(t):!1,xJ=(t,e)=>nn(e??be(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),dv=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?bd(t,e):wd(t,e),s={seconds:0,milliseconds:0};return i||Al(nn(t,s),nn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},hv=(t,e,n)=>t?xJ(t,e):be(n??e),QS=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=hv(t,r[0],e),a=hv(t,r[1],e);return dv(r[0],o,n,!!e)&&dv(r[1],a,n,!!e)&&i}const s=hv(t,r,e);return dv(r,s,n,!!e)&&i},fv=t=>nn(be(),va(t)),PJ=(t,e)=>Array.isArray(t)?t.map(n=>be(n)).filter(n=>ht(be(n))===e).map(n=>At(n)):[],ZO=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),p_=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Xu=$n({menuFocused:!1,shiftKeyInMenu:!1}),eN=()=>{const t=n=>{Xu.menuFocused=n},e=n=>{Xu.shiftKeyInMenu!==n&&(Xu.shiftKeyInMenu=n)};return{control:re(()=>({shiftKeyInMenu:Xu.shiftKeyInMenu,menuFocused:Xu.menuFocused})),setMenuFocused:t,setShiftKey:e}},Jt=$n({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),pv=le(null),qh=le(!1),mv=le(!1),gv=le(!1),vv=le(!1),Er=le(0),Gn=le(0),Bo=()=>{const t=re(()=>qh.value?[...Jt.selectionGrid,Jt.actionRow].filter(d=>d.length):mv.value?[...Jt.timePicker[0],...Jt.timePicker[1],vv.value?[]:[pv.value],Jt.actionRow].filter(d=>d.length):gv.value?[...Jt.monthPicker,Jt.actionRow]:[Jt.monthYear,...Jt.calendar,Jt.time,Jt.actionRow].filter(d=>d.length)),e=d=>{Er.value=d?Er.value+1:Er.value-1;let h=null;t.value[Gn.value]&&(h=t.value[Gn.value][Er.value]),h||(Er.value=d?Er.value-1:Er.value+1)},n=d=>{Gn.value===0&&!d||Gn.value===t.value.length&&d||(Gn.value=d?Gn.value+1:Gn.value-1,t.value[Gn.value]?t.value[Gn.value]&&!t.value[Gn.value][Er.value]&&Er.value!==0&&(Er.value=t.value[Gn.value].length-1):Gn.value=d?Gn.value-1:Gn.value+1)},r=d=>{let h=null;t.value[Gn.value]&&(h=t.value[Gn.value][Er.value]),h?h.focus({preventScroll:!qh.value}):Er.value=d?Er.value-1:Er.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{Jt[h]=d},u=(d,h)=>{Jt[h]=d},c=()=>{Er.value=0,Gn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{pv.value=d},setSelectionGrid:d=>{qh.value=d,c(),d||(Jt.selectionGrid=[])},setTimePicker:(d,h=!1)=>{mv.value=d,vv.value=h,c(),d||(Jt.timePicker[0]=[],Jt.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{Jt.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Jt.monthYear=[],Jt.calendar=[],Jt.time=[],Jt.actionRow=[],Jt.selectionGrid=[],Jt.timePicker[0]=[],Jt.timePicker[1]=[],qh.value=!1,mv.value=!1,vv.value=!1,gv.value=!1,c(),pv.value=null},setMonthPicker:d=>{gv.value=d,c()},refSets:Jt}},XS=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),DJ=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),JS=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,RJ=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:JS(!1)};const r=e?t:{},i=e?r.count??!0:t,s=JS(i);return Object.assign(n,r,{count:s})},OJ=(t,e,n)=>t||(typeof n=="string"?n:e),NJ=t=>typeof t=="boolean"?t?XS({}):!1:XS(t),MJ=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},LJ=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),$J=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),UJ=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},FJ=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,...t??{}}),VJ=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>be(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},Cn=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>QO(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=re(()=>RJ(t.multiCalendars)),o=re(()=>i()),a=re(()=>DJ(t.ariaLabels)),l=re(()=>LJ(t.filters)),u=re(()=>NJ(t.transitions)),c=re(()=>$J(t.actionRow)),d=re(()=>OJ(t.previewFormat,t.format,n())),h=re(()=>MJ(t.textInput)),f=re(()=>UJ(t.inline)),p=re(()=>FJ(t.config)),g=re(()=>VJ(t.highlight,t.highlightWeekDays,t.highlightDisabledDays));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:p,defaultedHighlight:g,getDefaultPattern:n,getDefaultStartTime:i}},BJ=(t,e,n)=>{const r=le(),{defaultedTextInput:i,getDefaultPattern:s}=Cn(e),o=le(""),a=Yl(e,"format");yn(r,()=>{t("internal-model-change",r.value)}),yn(a,()=>{H()});const l=b=>GO(b,e.timezone),u=b=>fi(b,e.timezone),c=(b,Q,te=!1)=>JO(b,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Q??s(),te),d=b=>b?e.modelType?O(b):{hours:Oi(b),minutes:rs(b),seconds:e.enableSeconds?hu(b):0}:null,h=b=>e.modelType?O(b):{month:At(b),year:ht(b)},f=b=>Array.isArray(b)?e.multiDates?b.map(Q=>p(Q,Qi(be(),Q))):Gh(()=>[Qi(be(),b[0]),b[1]?Qi(be(),b[1]):cl(e.partialRange)],e.range):Qi(be(),+b),p=(b,Q)=>(typeof b=="string"||typeof b=="number")&&e.modelType?M(b):Q,g=b=>Array.isArray(b)?[p(b[0],_o(null,+b[0].hours,+b[0].minutes,b[0].seconds)),p(b[1],_o(null,+b[1].hours,+b[1].minutes,b[1].seconds))]:p(b,_o(null,b.hours,b.minutes,b.seconds)),y=b=>Array.isArray(b)?e.multiDates?b.map(Q=>p(Q,Es(null,+Q.month,+Q.year))):Gh(()=>[p(b[0],Es(null,+b[0].month,+b[0].year)),p(b[1],b[1]?Es(null,+b[1].month,+b[1].year):cl(e.partialRange))],e.range):p(b,Es(null,+b.month,+b.year)),T=b=>{if(Array.isArray(b))return b.map(Q=>M(Q));throw new Error(Cp.dateArr("multi-dates"))},v=b=>{if(Array.isArray(b))return[be(b[0]),be(b[1])];throw new Error(Cp.dateArr("week-picker"))},_=b=>e.modelAuto?Array.isArray(b)?[M(b[0]),M(b[1])]:e.autoApply?[M(b)]:[M(b),null]:Array.isArray(b)?Gh(()=>[M(b[0]),b[1]?M(b[1]):cl(e.partialRange)],e.range):M(b),m=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(cl(e.partialRange))},w=()=>{const b=r.value;return[O(b[0]),b[1]?O(b[1]):cl(e.partialRange)]},E=()=>r.value[1]?w():O(Un(r.value[0])),L=()=>(r.value||[]).map(b=>O(b)),k=()=>(m(),e.modelAuto?E():e.multiDates?L():Array.isArray(r.value)?Gh(()=>w(),e.range):O(Un(r.value))),A=b=>!b||Array.isArray(b)&&!b.length?null:e.timePicker?g(Un(b)):e.monthPicker?y(Un(b)):e.yearPicker?f(Un(b)):e.multiDates?T(Un(b)):e.weekPicker?v(Un(b)):_(Un(b)),C=b=>{const Q=A(b);p0(Un(Q))?(r.value=Un(Q),H()):(r.value=null,o.value="")},$=()=>{const b=Q=>wo(Q,i.value.format);return`${b(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?b(r.value[1]):""}`},V=()=>n.value&&r.value?Array.isArray(r.value)?$():wo(r.value,i.value.format):c(r.value),I=()=>r.value?e.multiDates?r.value.map(b=>c(b)).join("; "):i.value.enabled&&typeof i.value.format=="string"?V():c(r.value):"",H=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=I():o.value=e.format(r.value)},M=b=>{if(e.utc){const Q=new Date(b);return e.utc==="preserve"?new Date(Q.getTime()+Q.getTimezoneOffset()*6e4):Q}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(b)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?a0(b,s(),new Date):u(a0(b,e.modelType,new Date)):u(new Date(b))},O=b=>b?e.utc?CJ(b,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(b):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(b)):c(l(b),e.modelType,!0):l(b):"",W=(b,Q=!1)=>{if(t("update:model-value",b),e.emitTimezone&&Q){const te=Array.isArray(b)?b.map(Z=>fi(Un(Z)),e.emitTimezone):fi(Un(b),e.emitTimezone);t("update:model-timezone-value",te)}},X=b=>Array.isArray(r.value)?e.multiDates?r.value.map(Q=>b(Q)):[b(r.value[0]),r.value[1]?b(r.value[1]):cl(e.partialRange)]:b(Un(r.value)),F=b=>W(Un(X(b)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:C,formatInputValue:H,emitModelValue:()=>(H(),e.monthPicker?F(h):e.timePicker?F(d):e.yearPicker?F(ht):e.weekPicker?W(r.value.map(b=>O(b)),!0):W(k(),!0))}},jJ=(t,e)=>{const{defaultedFilters:n}=Cn(t),{validateMonthYearInRange:r}=Nu(t),i=(u,c)=>{let d=u;return n.value.months.includes(At(d))?(d=c?Ri(u,1):fu(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(ht(d))?(d=c?Xb(u,1):FO(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=nn(new Date,{month:t.month,year:t.year});let h=u?Ri(d,1):fu(d,1);t.disableYearSelect&&(h=Qi(h,t.year));let f=At(h),p=ht(h);n.value.months.includes(f)&&(h=i(h,u),f=At(h),p=ht(h)),n.value.years.includes(p)&&(h=s(h,u),p=ht(h)),r(f,p,u,t.preventMinMaxNavigation)&&a(f,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=re(()=>u=>XO(nn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var wl=(t=>(t.center="center",t.left="left",t.right="right",t))(wl||{}),_i=(t=>(t.month="month",t.year="year",t))(_i||{}),Jo=(t=>(t.top="top",t.bottom="bottom",t))(Jo||{}),ya=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ya||{}),Vi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Vi||{});const HJ=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=le({}),u=le(!1),c=le({top:"0",left:"0"}),d=le(!1),h=Yl(o,"teleportCenter");yn(h,()=>{c.value=JSON.parse(JSON.stringify({})),m()});const f=M=>{if(o.teleport){const O=M.getBoundingClientRect();return{left:O.left+window.scrollX,top:O.top+window.scrollY}}return{top:0,left:0}},p=(M,O)=>{c.value.left=`${M+O-l.value.width}px`},g=M=>{c.value.left=`${M}px`},y=(M,O)=>{o.position===wl.left&&g(M),o.position===wl.right&&p(M,O),o.position===wl.center&&(c.value.left=`${M+O/2-l.value.width/2}px`)},T=M=>{const{width:O,height:W}=M.getBoundingClientRect(),{top:X,left:F}=o.altPosition?o.altPosition(M):f(M);return{top:+X,left:+F,width:O,height:W}},v=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const M=Rn(n),{top:O,left:W,transform:X}=o.altPosition(M);c.value={top:`${O}px`,left:`${W}px`,transform:X??""}},m=(M=!0)=>{var O;if(!i.value.enabled){if(h.value)return v();if(o.altPosition!==null)return _();if(M){const W=o.teleport?(O=e.value)==null?void 0:O.$el:t.value;W&&(l.value=W.getBoundingClientRect()),s("recalculate-position")}return $()}},w=({inputEl:M,left:O,width:W})=>{window.screen.width>768&&!u.value&&y(O,W),k(M)},E=M=>{const{top:O,left:W,height:X,width:F}=T(M);c.value.top=`${X+O+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${W+F/2-l.value.width/2}px`),w({inputEl:M,left:W,width:F})},L=M=>{const{top:O,left:W,width:X}=T(M);c.value.top=`${O-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:M,left:W,width:X})},k=M=>{if(o.autoPosition){const{left:O,width:W}=T(M),{left:X,right:F}=l.value;if(!u.value){if(Math.abs(X)!==Math.abs(F)){if(X<=0)return u.value=!0,g(O);if(F>=document.documentElement.clientWidth)return u.value=!0,p(O,W)}return y(O,W)}}},A=()=>{const M=Rn(n);if(M){const{height:O}=l.value,{top:W,height:X}=M.getBoundingClientRect(),F=window.innerHeight-W-X,b=W;return O<=F?Jo.bottom:O>F&&O<=b?Jo.top:F>=b?Jo.bottom:Jo.top}return Jo.bottom},C=M=>A()===Jo.bottom?E(M):L(M),$=()=>{const M=Rn(n);if(M)return o.autoPosition?C(M):E(M)},V=function(M){if(M){const O=M.scrollHeight>M.clientHeight,W=window.getComputedStyle(M).overflowY.indexOf("hidden")!==-1;return O&&!W}return!0},I=function(M){return!M||M===document.body||M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:V(M)?M:I(M.parentNode)},H=M=>{if(M)switch(o.position){case wl.left:return{left:0,transform:"translateX(0)"};case wl.right:return{left:`${M.width}px`,transform:"translateX(-100%)"};default:return{left:`${M.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:m,getScrollableParent:I,shadowRender:(M,O)=>{var W,X,F;const b=document.createElement("div"),Q=(W=Rn(n))==null?void 0:W.getBoundingClientRect();b.setAttribute("id","dp--temp-container");const te=(X=r.value)!=null&&X.clientWidth?r.value:document.body;te.append(b);const Z=document.getElementById("dp--temp-container"),ue=H(Q),we=wu(M,{...O,shadow:!0,style:{opacity:0,position:"absolute",...ue}},Object.fromEntries(Object.keys(a).filter(B=>["right-sidebar","left-sidebar"].includes(B)).map(B=>[B,a[B]])));Gc(we,Z),l.value=(F=we.el)==null?void 0:F.getBoundingClientRect(),Gc(null,Z),te.removeChild(Z)}}},zs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],WJ=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],YJ={all:()=>zs,monthYear:()=>zs.filter(t=>t.use.includes("month-year")),input:()=>WJ,timePicker:()=>zs.filter(t=>t.use.includes("time")),action:()=>zs.filter(t=>t.use.includes("action")),calendar:()=>zs.filter(t=>t.use.includes("calendar")),menu:()=>zs.filter(t=>t.use.includes("menu")),shared:()=>zs.filter(t=>t.use.includes("shared")),yearMode:()=>zs.filter(t=>t.use.includes("year-mode"))},ti=(t,e,n)=>{const r=[];return YJ[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},ih=t=>{const e=re(()=>r=>t.value?r?t.value.open:t.value.close:""),n=re(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},sh=(t,e)=>{const n=be(fi(new Date,t.timezone)),r=le([{month:At(n),year:ht(n)}]),i=$n({hours:t.range?[Oi(n),Oi(n)]:Oi(n),minutes:t.range?[rs(n),rs(n)]:rs(n),seconds:t.range?[0,0]:0}),s=re({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=re(()=>l=>r.value[l]?r.value[l].month:0),a=re(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},KJ=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Cn(e),{isDisabled:i,matchDate:s}=Nu(e),o=le(null),a=le(be(fi(new Date,e.timezone))),l=F=>{!F.current&&e.hideOffsetDates||(o.value=F.value)},u=()=>{o.value=null},c=F=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?F?gr(o.value,t.value[0]):er(o.value,t.value[0]):!0,d=(F,b)=>{const Q=()=>t.value?b?t.value[0]||null:t.value[1]:null,te=t.value&&Array.isArray(t.value)?Q():null;return Ot(be(F.value),te)},h=F=>{const b=Array.isArray(t.value)?t.value[0]:null;return F?!er(o.value??null,b):!0},f=(F,b=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!F.current?!1:Ot(be(F.value),t.value[b?0:1]):e.range?d(F,b)&&h(b)||Ot(F.value,Array.isArray(t.value)?t.value[0]:null)&&c(b):!1,p=(F,b,Q)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?F?!1:Q?gr(t.value[0],b.value):er(t.value[0],b.value):!1,g=F=>!t.value||e.hideOffsetDates&&!F.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Ot(F.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(b=>Ot(b,F.value)):Ot(F.value,t.value?t.value:a.value),y=F=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!F.current)return!1;const b=ys(o.value,+e.autoRange),Q=vf(be(o.value),e.timezone,e.weekStart);return e.weekPicker?Ot(Q[1],be(F.value)):Ot(b,be(F.value))}return!1}return!1},T=F=>{if(e.autoRange||e.weekPicker){if(o.value){const b=ys(o.value,+e.autoRange);if(e.hideOffsetDates&&!F.current)return!1;const Q=vf(be(o.value),e.timezone,e.weekStart);return e.weekPicker?gr(F.value,Q[0])&&er(F.value,Q[1]):gr(F.value,o.value)&&er(F.value,b)}return!1}return!1},v=F=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!F.current)return!1;const b=vf(be(o.value),e.timezone,e.weekStart);return e.weekPicker?Ot(b[0],F.value):Ot(o.value,F.value)}return!1}return!1},_=F=>Hm(t.value,o.value,F.value),m=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?YO(e.internalModelValue):!0,E=F=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const b=e.range?!f(F)&&!f(F,!1):!0;return!i(F.value)&&!g(F)&&!(!F.current&&e.hideOffsetDates)&&b},L=F=>e.range?e.modelAuto?m()&&g(F):!1:g(F),k=F=>{var b;return r.value?typeof r.value=="function"?r.value(F.value):s(F.value,(b=e.arrMapValues)!=null&&b.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},A=F=>{const b=i(F.value);return b&&(typeof r.value=="function"?!r.value(F.value,b):!r.value.options.highlightDisabled)},C=F=>{var b;return typeof r.value=="function"?r.value(F.value):(b=r.value.weekdays)==null?void 0:b.includes(F.value.getDay())},$=F=>(e.range||e.weekPicker)&&(!(n.value.count>0)||F.current)&&w()&&!(!F.current&&e.hideOffsetDates)&&!g(F)?_(F):!1,V=F=>{const{isRangeStart:b,isRangeEnd:Q}=M(F),te=e.range?b||Q:!1;return{dp__cell_offset:!F.current,dp__pointer:!e.disabled&&!(!F.current&&e.hideOffsetDates)&&!i(F.value),dp__cell_disabled:i(F.value),dp__cell_highlight:!A(F)&&(k(F)||C(F))&&!L(F)&&!te&&!v(F)&&!($(F)&&e.weekPicker)&&!Q,dp__cell_highlight_active:!A(F)&&(k(F)||C(F))&&L(F),dp__today:!e.noToday&&Ot(F.value,a.value)&&F.current}},I=F=>({dp__active_date:L(F),dp__date_hover:E(F)}),H=F=>({...O(F),...W(F),dp__range_between_week:$(F)&&e.weekPicker}),M=F=>{const b=n.value.count>0?F.current&&f(F)&&w():f(F)&&w(),Q=n.value.count>0?F.current&&f(F,!1)&&w():f(F,!1)&&w();return{isRangeStart:b,isRangeEnd:Q}},O=F=>{const{isRangeStart:b,isRangeEnd:Q}=M(F);return{dp__range_start:b,dp__range_end:Q,dp__range_between:$(F)&&!e.weekPicker,dp__date_hover_start:p(E(F),F,!0),dp__date_hover_end:p(E(F),F,!1)}},W=F=>({...O(F),dp__cell_auto_range:T(F),dp__cell_auto_range_start:v(F),dp__cell_auto_range_end:y(F)}),X=F=>e.range?e.autoRange?W(F):e.modelAuto?{...I(F),...O(F)}:O(F):e.weekPicker?H(F):I(F);return{setHoverDate:l,clearHoverDate:u,getDayClassData:F=>e.hideOffsetDates&&!F.current?{}:{...V(F),...X(F),[e.dayClass?e.dayClass(F.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Nu=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Cn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=C=>{const $=Gr(s(be(C))).toISOString(),[V]=$.split("T");return V},s=C=>t.utc==="preserve"?GO(C,r()):fi(C,r()),o=C=>{var $;const V=t.maxDate?gr(s(C),s(be(t.maxDate))):!1,I=t.minDate?er(s(C),s(be(t.minDate))):!1,H=c(s(C),($=t.arrMapValues)!=null&&$.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),M=e.value.months.map(b=>+b).includes(At(C)),O=t.disabledWeekDays.length?t.disabledWeekDays.some(b=>+b===bQ(C)):!1,W=h(C),X=ht(C),F=X<+t.yearRange[0]||X>+t.yearRange[1];return!(V||I||H||M||F||O||W)},a=(C,$)=>er(...uo(t.minDate,C,$))||Ot(...uo(t.minDate,C,$)),l=(C,$)=>gr(...uo(t.maxDate,C,$))||Ot(...uo(t.maxDate,C,$)),u=(C,$,V)=>{let I=!1;return t.maxDate&&V&&l(C,$)&&(I=!0),t.minDate&&!V&&a(C,$)&&(I=!0),I},c=(C,$)=>C?$ instanceof Map?!!$.get(i(C)):Array.isArray($)?$.some(V=>Ot(s(be(V)),s(C))):$?$(be(JSON.parse(JSON.stringify(C)))):!1:!0,d=(C,$,V,I)=>{let H=!1;return I?t.minDate&&t.maxDate?H=u(C,$,V):(t.minDate&&a(C,$)||t.maxDate&&l(C,$))&&(H=!0):H=!0,H},h=C=>{var $,V,I,H,M;return Array.isArray(t.allowedDates)&&!(($=t.allowedDates)!=null&&$.length)?!0:(V=t.arrMapValues)!=null&&V.allowedDates?!c(C,(I=t.arrMapValues)==null?void 0:I.allowedDates):(H=t.allowedDates)!=null&&H.length?!((M=t.allowedDates)!=null&&M.some(O=>Ot(s(be(O)),s(C)))):!1},f=C=>!o(C),p=C=>t.noDisabledRange?!_O({start:C[0],end:C[1]}).some($=>f($)):!0,g=(C,$,V=0)=>{if(Array.isArray($)&&$[V]){const I=uq(C,$[V]),H=qO($[V],C),M=H.length===1?0:H.filter(W=>f(W)).length,O=Math.abs(I)-M;if(t.minRange&&t.maxRange)return O>=+t.minRange&&O<=+t.maxRange;if(t.minRange)return O>=+t.minRange;if(t.maxRange)return O<=+t.maxRange}return!0},y=C=>new Map(C.map($=>[i($),!0])),T=C=>Array.isArray(C)&&C.length>0,v=()=>{const C={disabledDates:null,allowedDates:null,highlightedDates:null};return T(t.allowedDates)&&(C.allowedDates=y(t.allowedDates)),typeof n.value!="function"&&T(n.value.dates)&&(C.highlightedDates=y(n.value.dates)),T(t.disabledDates)&&(C.disabledDates=y(t.disabledDates)),C},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,m=C=>Array.isArray(C)?[C[0]?fv(C[0]):null,C[1]?fv(C[1]):null]:fv(C),w=(C,$,V)=>C.find(I=>+I.hours===Oi($)&&I.minutes==="*"?!0:+I.minutes===rs($)&&+I.hours===Oi($))&&V,E=(C,$,V)=>{const[I,H]=C,[M,O]=$;return!w(I,M,V)&&!w(H,O,V)&&V},L=(C,$)=>{const V=Array.isArray($)?$:[$];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?E(t.disabledTimes,V,C):!V.some(I=>w(t.disabledTimes,I,C)):C},k=(C,$)=>{const V=Array.isArray($)?[va($[0]),$[1]?va($[1]):void 0]:va($),I=!t.disabledTimes(V);return C&&I},A=(C,$)=>t.disabledTimes?Array.isArray(t.disabledTimes)?L($,C):k($,C):$;return{isDisabled:f,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:g,matchDate:c,mapDatesArrToMap:v,isValidTime:C=>{let $=!0;if(!C||_())return!0;const V=!t.minDate&&!t.maxDate?m(C):C;return(t.maxTime||t.maxDate)&&($=QS(t.maxTime,t.maxDate,"max",Un(V),$)),(t.minTime||t.minDate)&&($=QS(t.minTime,t.minDate,"min",Un(V),$)),A(C,$)}}},Wm=()=>{const t=re(()=>(r,i)=>r==null?void 0:r.includes(i)),e=re(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=re(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},zJ=(t,e,n)=>{const r=le(0),i=$n({[ya.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ya.calendar]:!1,[ya.header]:!1}),s=(...c)=>{var d;(d=t.flow)!=null&&d.length&&(i[c]=!0,Object.keys(i).filter(h=>!i[h]).length||u())},o=()=>{var c;(c=t.flow)!=null&&c.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u())},a=()=>{r.value=-1},l=(c,d,...h)=>{t.flow[r.value]===c&&n.value&&n.value[d](...h)},u=()=>{l(Vi.month,"toggleMonthPicker",!0),l(Vi.year,"toggleYearPicker",!0),l(Vi.calendar,"toggleTimePicker",!1,!0),l(Vi.time,"toggleTimePicker",!0,!0);const c=t.flow[r.value];(c===Vi.hours||c===Vi.minutes||c===Vi.seconds)&&l(c,"toggleTimePicker",!0,!0,c)};return{childMount:s,updateFlowStep:o,resetFlow:a,flowStep:r}},Ym={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Ui={...Ym,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},GJ={key:1,class:"dp__input_wrap"},qJ=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],QJ={key:2,class:"dp__clear_icon"},XJ=Ae({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ym},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Cn(i),d=le(),h=le(null),f=le(!1),p=le(!1),g=re(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:f.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),d.value=null)},T=I=>{const H=c();return SJ(I,s.value.format??u(),H??QO({},i.enableSeconds),i.inputValue,p.value)},v=I=>{const{rangeSeparator:H}=s.value,[M,O]=I.split(`${H}`);if(M){const W=T(M.trim()),X=O?T(O.trim()):null,F=W&&X?[W,X]:[W];d.value=W?F:null}},_=()=>{p.value=!0},m=I=>{if(i.range)v(I);else if(i.multiDates){const H=I.split(";");d.value=H.map(M=>T(M.trim())).filter(M=>M)}else d.value=T(I)},w=I=>{var H;const M=typeof I=="string"?I:(H=I.target)==null?void 0:H.value;M!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),m(M),r("set-input-date",d.value)):y(),p.value=!1,r("update:input-value",M)},E=I=>{s.value.enabled?(m(I.target.value),s.value.enterSubmit&&p0(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0),d.value=null):s.value.enterSubmit&&i.inputValue===""&&(d.value=null,r("clear"))):A(I)},L=I=>{s.value.enabled&&s.value.tabSubmit&&m(I.target.value),s.value.tabSubmit&&p0(d.value)&&i.inputValue!==""?(r("set-input-date",d.value,!0,!0),d.value=null):s.value.tabSubmit&&i.inputValue===""&&(d.value=null,r("clear",!0))},k=()=>{var I;f.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((I=h.value)==null||I.select())},A=I=>{I.preventDefault(),bo(I,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},C=()=>{r("real-blur"),f.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&d.value&&!i.isMenuOpen&&(r("set-input-date",d.value),r("select-date"),d.value=null)},$=I=>{bo(I,l.value,!0),r("clear")},V=I=>{if(!s.value.enabled){if(I.code==="Tab")return;I.preventDefault()}};return e({focusInput:()=>{var I;(I=h.value)==null||I.focus({preventScroll:!0})},setParsedDate:I=>{d.value=I}}),(I,H)=>{var M;return D(),J("div",{onClick:A},[I.$slots.trigger&&!I.$slots["dp-input"]&&!x(a).enabled?Pe(I.$slots,"trigger",{key:0}):ie("",!0),!I.$slots.trigger&&(!x(a).enabled||x(a).input)?(D(),J("div",GJ,[I.$slots["dp-input"]&&!I.$slots.trigger&&!x(a).enabled?Pe(I.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:w,onEnter:E,onTab:L,onClear:$,onBlur:C,onKeypress:V,onPaste:_}):ie("",!0),I.$slots["dp-input"]?ie("",!0):(D(),J("input",{key:1,id:I.uid?`dp-input-${I.uid}`:void 0,ref_key:"inputRef",ref:h,name:I.name,class:De(g.value),inputmode:x(s).enabled?"text":"none",placeholder:I.placeholder,disabled:I.disabled,readonly:I.readonly,required:I.required,value:t.inputValue,autocomplete:I.autocomplete,"aria-label":(M=x(o))==null?void 0:M.input,"aria-disabled":I.disabled||void 0,"aria-invalid":I.state===!1?!0:void 0,onInput:w,onKeydown:[at(E,["enter"]),at(L,["tab"]),V],onBlur:C,onFocus:k,onKeypress:V,onPaste:_},null,42,qJ)),ee("div",{onClick:H[2]||(H[2]=O=>r("toggle"))},[I.$slots["input-icon"]&&!I.hideInputIcon?(D(),J("span",{key:0,class:"dp__input_icon",onClick:H[0]||(H[0]=O=>r("toggle"))},[Pe(I.$slots,"input-icon")])):ie("",!0),!I.$slots["input-icon"]&&!I.hideInputIcon&&!I.$slots["dp-input"]?(D(),he(x(rh),{key:1,class:"dp__input_icon dp__input_icons",onClick:H[1]||(H[1]=O=>r("toggle"))})):ie("",!0)]),I.$slots["clear-icon"]&&t.inputValue&&I.clearable&&!I.disabled&&!I.readonly?(D(),J("span",QJ,[Pe(I.$slots,"clear-icon",{clear:$})])):ie("",!0),I.clearable&&!I.$slots["clear-icon"]&&t.inputValue&&!I.disabled&&!I.readonly?(D(),he(x(VO),{key:3,class:"dp__clear_icon dp__input_icons",onClick:H[3]||(H[3]=Pt(O=>$(O),["prevent"]))})):ie("",!0)])):ie("",!0)])}}}),JJ=["title"],ZJ={class:"dp__action_buttons"},eZ=["disabled","onKeydown"],tZ=Ae({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ui},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Cn(r),{isValidTime:c}=Nu(r),{buildMatrix:d}=Bo(),h=le(null),f=le(null);fn(()=>{r.arrowNavigation&&d([Rn(h),Rn(f)],"actionRow")});const p=re(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),g=re(()=>!y.value||!T.value||!p.value),y=re(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),T=re(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(C=>!k(C)).length:k(r.internalModelValue):!0),v=()=>{const C=s.value;return r.timePicker||r.monthPicker,C(Un(r.internalModelValue))},_=()=>{const C=r.internalModelValue;return o.value.count>0?`${m(C[0])} - ${m(C[1])}`:[m(C[0]),m(C[1])]},m=C=>JO(C,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),w=re(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?_():r.multiDates?r.internalModelValue.map(C=>`${m(C)}`):r.modelAuto?`${m(r.internalModelValue[0])}`:`${m(r.internalModelValue[0])} -`:m(r.internalModelValue):v()),E=()=>r.multiDates?"; ":" - ",L=re(()=>Array.isArray(w.value)?w.value.join(E()):w.value),k=C=>{if(!r.monthPicker)return!0;let $=!0;const V=be(Ai(C));if(r.minDate&&r.maxDate){const I=be(Ai(r.minDate)),H=be(Ai(r.maxDate));return gr(V,I)&&er(V,H)||Ot(V,I)||Ot(V,H)}if(r.minDate){const I=be(Ai(r.minDate));$=gr(V,I)||Ot(V,I)}if(r.maxDate){const I=be(Ai(r.maxDate));$=er(V,I)||Ot(V,I)}return $},A=()=>{y.value&&T.value&&p.value?n("select-date"):n("invalid-select")};return(C,$)=>(D(),J("div",{class:"dp__action_row",style:On(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[C.$slots["action-row"]?Pe(C.$slots,"action-row",Tn(Ht({key:0},{internalModelValue:C.internalModelValue,disabled:g.value,selectDate:()=>C.$emit("select-date"),closePicker:()=>C.$emit("close-picker")}))):(D(),J(Ie,{key:1},[x(i).showPreview?(D(),J("div",{key:0,class:"dp__selection_preview",title:L.value},[C.$slots["action-preview"]?Pe(C.$slots,"action-preview",{key:0,value:C.internalModelValue}):ie("",!0),C.$slots["action-preview"]?ie("",!0):(D(),J(Ie,{key:1},[et(Ke(L.value),1)],64))],8,JJ)):ie("",!0),ee("div",ZJ,[C.$slots["action-buttons"]?Pe(C.$slots,"action-buttons",{key:0,value:C.internalModelValue}):ie("",!0),C.$slots["action-buttons"]?ie("",!0):(D(),J(Ie,{key:1},[!x(l).enabled&&x(i).showCancel?(D(),J("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:$[0]||($[0]=V=>C.$emit("close-picker")),onKeydown:[$[1]||($[1]=at(V=>C.$emit("close-picker"),["enter"])),$[2]||($[2]=at(V=>C.$emit("close-picker"),["space"]))]},Ke(C.cancelText),545)):ie("",!0),x(i).showNow?(D(),J("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:$[3]||($[3]=V=>C.$emit("select-now")),onKeydown:[$[4]||($[4]=at(V=>C.$emit("select-now"),["enter"])),$[5]||($[5]=at(V=>C.$emit("select-now"),["space"]))]},Ke(C.nowButtonLabel),545)):ie("",!0),x(i).showSelect?(D(),J("button",{key:2,ref_key:"selectButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_select",disabled:g.value,onKeydown:[at(A,["enter"]),at(A,["space"])],onClick:A},Ke(C.selectText),41,eZ)):ie("",!0)],64))])],64))],4))}}),nZ=["onKeydown"],rZ={class:"dp__selection_grid_header"},iZ=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],sZ=["aria-label","onKeydown"],oh=Ae({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Bo(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Cn(a),{hideNavigationButtons:d}=Wm(),h=le(!1),f=le(null),p=le(null),g=le([]),y=le(),T=le(null),v=le(0),_=le(null);M0(()=>{f.value=null}),fn(()=>{Dr().then(()=>$()),a.noOverlayFocus||w(),m(!0)}),Ba(()=>m(!1));const m=F=>{var b;a.arrowNavigation&&((b=a.headerRefs)!=null&&b.length?s(F):r(F))},w=()=>{var F;const b=Rn(p);b&&(u.value.enabled||(f.value?(F=f.value)==null||F.focus({preventScroll:!0}):b.focus({preventScroll:!0})),h.value=b.clientHeight<b.scrollHeight)},E=re(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),L=re(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),k=re(()=>({dp__overlay_col:!0})),A=re(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),C=re(()=>{var F,b;return{dp__overlay_container:!0,dp__container_flex:((F=a.items)==null?void 0:F.length)<=6,dp__container_block:((b=a.items)==null?void 0:b.length)>6}});yn(()=>a.items,()=>$(),{deep:!0});const $=()=>{Dr().then(()=>{const F=Rn(f),b=Rn(p),Q=Rn(T),te=Rn(_),Z=Q?Q.getBoundingClientRect().height:0;b&&(b.getBoundingClientRect().height?v.value=b.getBoundingClientRect().height-Z:v.value=c.value.modeHeight-Z),F&&te&&(te.scrollTop=F.offsetTop-te.offsetTop-(v.value/2-F.getBoundingClientRect().height)-Z)})},V=F=>{F.disabled||o("selected",F.value)},I=()=>{o("toggle"),o("reset-flow")},H=()=>{a.escClose&&I()},M=(F,b,Q,te)=>{F&&(b.active&&(f.value=F),a.arrowNavigation&&(Array.isArray(g.value[Q])?g.value[Q][te]=F:g.value[Q]=[F],O()))},O=()=>{var F,b;const Q=(F=a.headerRefs)!=null&&F.length?[a.headerRefs].concat(g.value):g.value.concat([a.skipButtonRef?[]:[T.value]]);i(Un(Q),(b=a.headerRefs)!=null&&b.length?"monthPicker":"selectionGrid")},W=F=>{a.arrowNavigation||bo(F,c.value,!0)},X=F=>{y.value=F,o("hover-value",F)};return e({focusGrid:w}),(F,b)=>{var Q;return D(),J("div",{ref_key:"gridWrapRef",ref:p,class:De(E.value),style:On(L.value),role:"dialog",tabindex:"0",onKeydown:[at(Pt(H,["prevent"]),["esc"]),b[0]||(b[0]=at(Pt(te=>W(te),["prevent"]),["left"])),b[1]||(b[1]=at(Pt(te=>W(te),["prevent"]),["up"])),b[2]||(b[2]=at(Pt(te=>W(te),["prevent"]),["down"])),b[3]||(b[3]=at(Pt(te=>W(te),["prevent"]),["right"]))]},[ee("div",{ref_key:"containerRef",ref:_,class:De(C.value),role:"grid",style:On({height:`${v.value}px`})},[ee("div",rZ,[Pe(F.$slots,"header")]),F.$slots.overlay?Pe(F.$slots,"overlay",{key:0}):(D(!0),J(Ie,{key:1},ut(F.items,(te,Z)=>(D(),J("div",{key:Z,class:De(["dp__overlay_row",{dp__flex_row:F.items.length>=3}]),role:"row"},[(D(!0),J(Ie,null,ut(te,(ue,we)=>(D(),J("div",{key:ue.value,ref_for:!0,ref:B=>M(B,ue,Z,we),role:"gridcell",class:De(k.value),"aria-selected":ue.active,"aria-disabled":ue.disabled||void 0,tabindex:"0",onClick:B=>V(ue),onKeydown:[at(Pt(B=>V(ue),["prevent"]),["enter"]),at(Pt(B=>V(ue),["prevent"]),["space"])],onMouseover:B=>X(ue.value)},[ee("div",{class:De(ue.className)},[F.$slots.item?Pe(F.$slots,"item",{key:0,item:ue}):ie("",!0),F.$slots.item?ie("",!0):(D(),J(Ie,{key:1},[et(Ke(ue.text),1)],64))],2)],42,iZ))),128))],2))),128))],6),F.$slots["button-icon"]?Ji((D(),J("button",{key:0,ref_key:"toggleButton",ref:T,type:"button","aria-label":(Q=x(l))==null?void 0:Q.toggleOverlay,class:De(A.value),tabindex:"0",onClick:I,onKeydown:[at(I,["enter"]),at(I,["tab"])]},[Pe(F.$slots,"button-icon")],42,sZ)),[[Is,!x(d)(F.hideNavigation,F.type)]]):ie("",!0)],46,nZ)}}}),Km=Ae({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=re(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=re(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(D(),J("div",{class:De({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(D(!0),J(Ie,null,ut(n.value,(o,a)=>(D(),J("div",{key:o,class:De(r.value)},[Pe(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),oZ=["aria-label","aria-disabled"],Fc=Ae({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=le(null);return fn(()=>n("set-ref",r)),(i,s)=>(D(),J("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Pt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Pt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[ee("span",{class:De(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Pe(i.$slots,"default")],2)],40,oZ))}}),aZ={class:"dp--year-mode-picker"},lZ=["aria-label"],tN=Ae({__name:"YearModePicker",props:{...Ui,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Wm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Cn(r),{showTransition:c,transitionName:d}=ih(u),h=(g=!1,y)=>{n("toggle-year-picker",{flow:g,show:y})},f=g=>{n("year-select",g)},p=(g=!1)=>{n("handle-year",g)};return(g,y)=>{var T,v,_;return D(),J("div",aZ,[x(s)(x(a),t.instance)?(D(),he(Fc,{key:0,ref:"mpPrevIconRef","aria-label":(T=x(l))==null?void 0:T.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=m=>p(!1))},{default:ge(()=>[g.$slots["arrow-left"]?Pe(g.$slots,"arrow-left",{key:0}):ie("",!0),g.$slots["arrow-left"]?ie("",!0):(D(),he(x(s_),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),ee("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(v=x(l))==null?void 0:v.openYearsOverlay,onClick:y[1]||(y[1]=()=>h(!1)),onKeydown:y[2]||(y[2]=at(()=>h(!1),["enter"]))},[g.$slots.year?Pe(g.$slots,"year",{key:0,year:t.year}):ie("",!0),g.$slots.year?ie("",!0):(D(),J(Ie,{key:1},[et(Ke(t.year),1)],64))],40,lZ),x(i)(x(a),t.instance)?(D(),he(Fc,{key:1,ref:"mpNextIconRef","aria-label":(_=x(l))==null?void 0:_.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=m=>p(!0))},{default:ge(()=>[g.$slots["arrow-right"]?Pe(g.$slots,"arrow-right",{key:0}):ie("",!0),g.$slots["arrow-right"]?ie("",!0):(D(),he(x(o_),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),ae(Us,{name:x(d)(t.showYearPicker),css:x(c)},{default:ge(()=>[t.showYearPicker?(D(),he(oh,{key:0,items:t.items,"text-input":g.textInput,"esc-close":g.escClose,config:g.config,"is-last":g.autoApply&&!x(o).keepActionRow,type:"year",onToggle:h,onSelected:y[4]||(y[4]=m=>f(m))},nr({"button-icon":ge(()=>[g.$slots["calendar-icon"]?Pe(g.$slots,"calendar-icon",{key:0}):ie("",!0),g.$slots["calendar-icon"]?ie("",!0):(D(),he(x(rh),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:m})=>[Pe(g.$slots,"year-overlay-value",{text:m.text,value:m.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last"])):ie("",!0)]),_:3},8,["name","css"])])}}}),m_=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Ot(t,r))){const r=e.value.filter(i=>!Ot(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},g_=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?er(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},zm=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},nN=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=re(()=>f_(i.yearRange,i.reverseYears)),u=le([!1]),c=re(()=>(m,w)=>{const E=nn(Ai(new Date),{month:o.value(m),year:s.value(m)});return XO(E,i.maxDate,i.minDate,i.preventMinMaxNavigation,w)}),d=()=>{for(let m=0;m<t.value.count;m++)if(m===0)n.value[m]=n.value[0];else{const w=nn(be(),n.value[m-1]);n.value[m]={month:At(w),year:ht(Xb(w,1))}}},h=m=>{if(!m)return d();const w=nn(be(),n.value[m]);return n.value[0].year=ht(FO(w,t.value.count-1)),d()},f=m=>i.focusStartDate?m[0]:m[1]?m[1]:m[0],p=()=>{if(r.value){const m=Array.isArray(r.value)?f(r.value):r.value;n.value[0]={month:At(m),year:ht(m)}}};fn(()=>{p(),t.value.count&&d()});const g=(m,w)=>{n.value[w].year=m,t.value.count&&!t.value.solo&&h(w)},y=re(()=>m=>pu(l.value,w=>{const E=s.value(m)===w.value,L=_d(w.value,mu(i.minDate),mu(i.maxDate)),k=p_(e.value,w.value);return{active:E,disabled:L,highlighted:k}})),T=(m,w)=>{g(m,w),_(w)},v=(m,w=!1)=>{if(!c.value(m,w)){const E=w?s.value(m)+1:s.value(m)-1;g(E,m)}},_=(m,w=!1,E)=>{w||a("reset-flow"),E!==void 0?u.value[m]=E:u.value[m]=!u.value[m],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:y,showYearPicker:u,selectYear:g,toggleYearPicker:_,handleYearSelect:T,handleYear:v}},uZ=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Cn(t),{modelValue:a,year:l,month:u,calendars:c}=sh(t,e),d=re(()=>WO(t.formatLocale,t.locale,t.monthNameFormat)),h=le(null),{selectYear:f,groupedYears:p,showYearPicker:g,toggleYearPicker:y,handleYearSelect:T,handleYear:v,isDisabled:_}=nN({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e}),m=W=>W?{month:At(W),year:ht(W)}:{month:null,year:null},w=()=>a.value?Array.isArray(a.value)?a.value.map(W=>m(W)):m(a.value):m(),E=(W,X)=>{const F=c.value[W],b=w();return Array.isArray(b)?b.some(Q=>Q.year===(F==null?void 0:F.year)&&Q.month===X):(F==null?void 0:F.year)===b.year&&X===b.month},L=(W,X,F)=>{var b,Q;const te=w();return Array.isArray(te)?l.value(X)===((b=te[F])==null?void 0:b.year)&&W===((Q=te[F])==null?void 0:Q.month):!1},k=(W,X)=>{if(t.range){const F=w();if(Array.isArray(a.value)&&Array.isArray(F)){const b=L(W,X,0)||L(W,X,1),Q=Es(Ai(be()),W,l.value(X));return Hm(a.value,h.value,Q)&&!b}return!1}return!1},A=re(()=>W=>pu(d.value,X=>{const F=E(W,X.value),b=_d(X.value,KO(l.value(W),t.minDate),zO(l.value(W),t.maxDate))||PJ(t.disabledDates,l.value(W)).includes(X.value),Q=k(X.value,W),te=ZO(o.value,X.value,l.value(W));return{active:F,disabled:b,isBetween:Q,highlighted:te}})),C=(W,X)=>Es(Ai(be()),W,l.value(X)),$=(W,X)=>{const F=a.value?a.value:Ai(new Date);a.value=Es(F,W,l.value(X)),e("auto-apply")},V=(W,X)=>{const F=g_(a,C(W,X),e);zm(F,e,t.autoApply,t.modelAuto)},I=(W,X)=>{m_(C(W,X),a,t.multiDatesLimit),e("auto-apply",!0)},H=(W,X)=>(c.value[X].month=W,O(X,c.value[X].year,W),t.multiDates?I(W,X):t.range?V(W,X):$(W,X)),M=(W,X)=>{f(W,X),O(X,W,null)},O=(W,X,F)=>{let b=F;if(!b){const Q=w();b=Array.isArray(Q)?Q[W].month:Q.month}e("update-month-year",{instance:W,year:X,month:b})};return{groupedMonths:A,groupedYears:p,year:l,isDisabled:_,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:g,modelValue:a,setHoverDate:(W,X)=>{h.value=C(W,X)},selectMonth:H,selectYear:M,toggleYearPicker:y,handleYearSelect:T,handleYear:v,getModelMonthYear:w}},cZ=Ae({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ui},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=Oo(),s=ti(i,"yearMode"),o=t,{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:p,setHoverDate:g,selectMonth:y,selectYear:T,toggleYearPicker:v,handleYearSelect:_,handleYear:m,getModelMonthYear:w}=uZ(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:w,selectMonth:y,selectYear:T,handleYear:m})}),(E,L)=>(D(),he(Km,{"multi-calendars":x(d).count,stretch:""},{default:ge(({instance:k})=>[E.$slots["month-year"]?Pe(E.$slots,"month-year",Tn(Ht({key:0},{year:x(u),months:x(a)(k),years:x(l)(k),selectMonth:x(y),selectYear:x(T),instance:k}))):(D(),he(oh,{key:1,items:x(a)(k),"arrow-navigation":E.arrowNavigation,"is-last":E.autoApply&&!x(h).keepActionRow,"esc-close":E.escClose,height:x(h).modeHeight,config:E.config,"no-overlay-focus":E.noOverlayFocus,"use-relative":"",type:"month",onSelected:A=>x(y)(A,k),onHoverValue:A=>x(g)(A,k)},{header:ge(()=>[ae(tN,Ht(E.$props,{items:x(l)(k),instance:k,"show-year-picker":x(f)[k],year:x(u)(k),"is-disabled":A=>x(c)(k,A),onHandleYear:A=>x(m)(k,A),onYearSelect:A=>x(_)(A,k),onToggleYearPicker:A=>x(v)(k,A==null?void 0:A.flow,A==null?void 0:A.show)}),nr({_:2},[ut(x(s),(A,C)=>({name:A,fn:ge($=>[Pe(E.$slots,A,Tn(tr($)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),dZ=(t,e)=>{const{modelValue:n}=sh(t,e),r=le(null),{defaultedHighlight:i}=Cn(t),s=u=>Array.isArray(n.value)?n.value.some(c=>ht(c)===u):n.value?ht(n.value)===u:!1,o=u=>t.range&&Array.isArray(n.value)?Hm(n.value,r.value,l(u)):!1,a=re(()=>pu(f_(t.yearRange,t.reverseYears),u=>{const c=s(u.value),d=_d(u.value,mu(t.minDate),mu(t.maxDate)),h=o(u.value),f=p_(i.value,u.value);return{active:c,disabled:d,isBetween:h,highlighted:f}})),l=u=>Qi(Ai(new Date),u);return{groupedYears:a,modelValue:n,setHoverValue:u=>{r.value=Qi(Ai(new Date),u)},selectYear:u=>{var c;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((c=n.value)==null?void 0:c.map(d=>ht(d))).includes(u)?n.value=n.value.filter(d=>ht(d)!==u):n.value.push(Qi(Gr(be()),u))):n.value=[Qi(Gr(be()),u)],e("auto-apply",!0);if(t.range){const d=g_(n,l(u),e);return zm(d,e,t.autoApply,t.modelAuto)}n.value=l(u),e("auto-apply")}}},hZ=Ae({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ui},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,selectYear:a,setHoverValue:l}=dZ(i,r),{defaultedConfig:u}=Cn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:a})}),(c,d)=>(D(),J("div",null,[c.$slots["month-year"]?Pe(c.$slots,"month-year",Tn(Ht({key:0},{years:x(s),selectYear:x(a)}))):(D(),he(oh,{key:1,items:x(s),"is-last":c.autoApply&&!x(u).keepActionRow,height:x(u).modeHeight,config:c.config,"no-overlay-focus":c.noOverlayFocus,type:"year","use-relative":"",onSelected:x(a),onHoverValue:x(l)},nr({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:h})=>[Pe(c.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","onSelected","onHoverValue"]))]))}}),fZ={key:0,class:"dp__time_input"},pZ=["aria-label","onKeydown","onClick"],mZ=ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),gZ=ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),vZ=["aria-label","disabled","onKeydown","onClick"],yZ=["aria-label","onKeydown","onClick"],wZ=ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),bZ=ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),_Z={key:0},TZ=["aria-label","onKeydown"],EZ=Ae({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ui},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Bo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Cn(i),{transitionName:d,showTransition:h}=ih(l),f=$n({hours:!1,minutes:!1,seconds:!1}),p=le("AM"),g=le(null),y=le([]);fn(()=>{r("mounted")});const T=B=>nn(new Date,{hours:B.hours,minutes:B.minutes,seconds:i.enableSeconds?B.seconds:0,milliseconds:0}),v=re(()=>B=>H(B,i[B])||m(B,i[B])),_=re(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),m=(B,G)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(B,G):!1,w=(B,G)=>{if(i.range&&!i.disableTimeRangeValidation){const se=G?+i[`${B}Increment`]:-+i[`${B}Increment`],z=i[B]+se;return!i.validateTime(B,z)}return!1},E=re(()=>B=>!O(+i[B]+ +i[`${B}Increment`],B)||w(B,!0)),L=re(()=>B=>!O(+i[B]-+i[`${B}Increment`],B)||w(B,!1)),k=(B,G)=>wO(nn(be(),B),G),A=(B,G)=>jX(nn(be(),B),G),C=re(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),$=re(()=>{const B=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?B.concat([{type:"",separator:!0},{type:"seconds"}]):B}),V=re(()=>$.value.filter(B=>!B.separator)),I=re(()=>B=>{if(B==="hours"){const G=Q(+i.hours);return{text:G<10?`0${G}`:`${G}`,value:G}}return{text:i[B]<10?`0${i[B]}`:`${i[B]}`,value:i[B]}}),H=(B,G)=>{var se;if(!i.disabledTimesConfig)return!1;const z=i.disabledTimesConfig(i.order,B==="hours"?G:void 0);return z[B]?!!((se=z[B])!=null&&se.includes(G)):!0},M=B=>{const G=i.is24?24:12,se=B==="hours"?G:60,z=+i[`${B}GridIncrement`],de=B==="hours"&&!i.is24?z:0,Se=[];for(let S=de;S<se;S+=z)Se.push({value:S,text:S<10?`0${S}`:`${S}`});return B==="hours"&&!i.is24&&Se.push({value:0,text:"12"}),pu(Se,S=>({active:!1,disabled:u.value.times[B].includes(S.value)||!O(S.value,B)||H(B,S.value)||m(B,S.value)}))},O=(B,G)=>{const se=i.minTime?T(cv(i.minTime)):null,z=i.maxTime?T(cv(i.maxTime)):null,de=T(cv(_.value,G,B));return se&&z?(bd(de,z)||Al(de,z))&&(wd(de,se)||Al(de,se)):se?wd(de,se)||Al(de,se):z?bd(de,z)||Al(de,z):!0},W=B=>i[`no${B[0].toUpperCase()+B.slice(1)}Overlay`],X=B=>{W(B)||(f[B]=!f[B],f[B]||r("overlay-closed"))},F=B=>B==="hours"?Oi:B==="minutes"?rs:hu,b=(B,G=!0)=>{const se=G?k:A,z=G?+i[`${B}Increment`]:-+i[`${B}Increment`];O(+i[B]+z,B)&&r(`update:${B}`,F(B)(se({[B]:+i[B]},{[B]:+i[`${B}Increment`]})))},Q=B=>i.is24?B:(B>=12?p.value="PM":p.value="AM",vJ(B)),te=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},Z=B=>{f[B]=!0},ue=(B,G,se)=>{if(B&&i.arrowNavigation){Array.isArray(y.value[G])?y.value[G][se]=B:y.value[G]=[B];const z=y.value.reduce((de,Se)=>Se.map((S,P)=>[...de[P]||[],Se[P]]),[]);o(i.closeTimePickerBtn),g.value&&(z[1]=z[1].concat(g.value)),s(z,i.order)}},we=(B,G)=>(X(B),B==="hours"&&!i.is24?r(`update:${B}`,p.value==="PM"?G+12:G):r(`update:${B}`,G));return e({openChildCmp:Z}),(B,G)=>{var se;return B.disabled?ie("",!0):(D(),J("div",fZ,[(D(!0),J(Ie,null,ut($.value,(z,de)=>{var Se,S,P;return D(),J("div",{key:de,class:De(C.value)},[z.separator?(D(),J(Ie,{key:0},[et(" : ")],64)):(D(),J(Ie,{key:1},[ee("button",{ref_for:!0,ref:R=>ue(R,de,0),type:"button",class:De({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_top:B.timePickerInline,dp__inc_dec_button_disabled:E.value(z.type)}),"aria-label":(Se=x(a))==null?void 0:Se.incrementValue(z.type),tabindex:"0",onKeydown:[at(Pt(R=>b(z.type),["prevent"]),["enter"]),at(Pt(R=>b(z.type),["prevent"]),["space"])],onClick:R=>b(z.type)},[i.timePickerInline?(D(),J(Ie,{key:1},[mZ,gZ],64)):(D(),J(Ie,{key:0},[B.$slots["arrow-up"]?Pe(B.$slots,"arrow-up",{key:0}):ie("",!0),B.$slots["arrow-up"]?ie("",!0):(D(),he(x(l_),{key:1}))],64))],42,pZ),ee("button",{ref_for:!0,ref:R=>ue(R,de,1),type:"button","aria-label":(S=x(a))==null?void 0:S.openTpOverlay(z.type),class:De({dp__time_display:!0,dp__time_display_block:!B.timePickerInline,dp__time_display_inline:B.timePickerInline,"dp--time-invalid":v.value(z.type),"dp--time-overlay-btn":!v.value(z.type)}),disabled:W(z.type),tabindex:"0",onKeydown:[at(Pt(R=>X(z.type),["prevent"]),["enter"]),at(Pt(R=>X(z.type),["prevent"]),["space"])],onClick:R=>X(z.type)},[B.$slots[z.type]?Pe(B.$slots,z.type,{key:0,text:I.value(z.type).text,value:I.value(z.type).value}):ie("",!0),B.$slots[z.type]?ie("",!0):(D(),J(Ie,{key:1},[et(Ke(I.value(z.type).text),1)],64))],42,vZ),ee("button",{ref_for:!0,ref:R=>ue(R,de,2),type:"button",class:De({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_bottom:B.timePickerInline,dp__inc_dec_button_disabled:L.value(z.type)}),"aria-label":(P=x(a))==null?void 0:P.decrementValue(z.type),tabindex:"0",onKeydown:[at(Pt(R=>b(z.type,!1),["prevent"]),["enter"]),at(Pt(R=>b(z.type,!1),["prevent"]),["space"])],onClick:R=>b(z.type,!1)},[i.timePickerInline?(D(),J(Ie,{key:1},[wZ,bZ],64)):(D(),J(Ie,{key:0},[B.$slots["arrow-down"]?Pe(B.$slots,"arrow-down",{key:0}):ie("",!0),B.$slots["arrow-down"]?ie("",!0):(D(),he(x(u_),{key:1}))],64))],42,yZ)],64))],2)}),128)),B.is24?ie("",!0):(D(),J("div",_Z,[B.$slots["am-pm-button"]?Pe(B.$slots,"am-pm-button",{key:0,toggle:te,value:p.value}):ie("",!0),B.$slots["am-pm-button"]?ie("",!0):(D(),J("button",{key:1,ref_key:"amPmButton",ref:g,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(se=x(a))==null?void 0:se.amPmButton,tabindex:"0",onClick:te,onKeydown:[at(Pt(te,["prevent"]),["enter"]),at(Pt(te,["prevent"]),["space"])]},Ke(p.value),41,TZ))])),(D(!0),J(Ie,null,ut(V.value,(z,de)=>(D(),he(Us,{key:de,name:x(d)(f[z.type]),css:x(h)},{default:ge(()=>[f[z.type]?(D(),he(oh,{key:0,items:M(z.type),"is-last":B.autoApply&&!x(c).keepActionRow,"esc-close":B.escClose,type:z.type,"text-input":B.textInput,config:B.config,"arrow-navigation":B.arrowNavigation,onSelected:Se=>we(z.type,Se),onToggle:Se=>X(z.type),onResetFlow:G[0]||(G[0]=Se=>B.$emit("reset-flow"))},nr({"button-icon":ge(()=>[B.$slots["clock-icon"]?Pe(B.$slots,"clock-icon",{key:0}):ie("",!0),B.$slots["clock-icon"]?ie("",!0):(D(),he(x(a_),{key:1}))]),_:2},[B.$slots[`${z.type}-overlay-value`]?{name:"item",fn:ge(({item:Se})=>[Pe(B.$slots,`${z.type}-overlay-value`,{text:Se.text,value:Se.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):ie("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),SZ={class:"dp--tp-wrap"},CZ=["aria-label","tabindex"],IZ=["tabindex"],AZ=["aria-label"],rN=Ae({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ui},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Bo(),a=Oo(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=Cn(i),{transitionName:h,showTransition:f}=ih(l),{hideNavigationButtons:p}=Wm(),g=le(null),y=le(null),T=le([]),v=le(null);fn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Rn(g.value)],"time"):o(!0,i.timePicker)});const _=re(()=>i.range&&i.modelAuto?YO(i.internalModelValue):!0),m=le(!1),w=M=>({hours:Array.isArray(i.hours)?i.hours[M]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[M]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[M]:i.seconds}),E=re(()=>{const M=[];if(i.range)for(let O=0;O<2;O++)M.push(w(O));else M.push(w(0));return M}),L=(M,O=!1,W="")=>{O||r("reset-flow"),m.value=M,r(M?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(M),Dr(()=>{W!==""&&T.value[0]&&T.value[0].openChildCmp(W)})},k=re(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),A=ti(a,"timePicker"),C=(M,O,W)=>i.range?O===0?[M,E.value[1][W]]:[E.value[0][W],M]:M,$=M=>{r("update:hours",M)},V=M=>{r("update:minutes",M)},I=M=>{r("update:seconds",M)},H=()=>{if(v.value&&!c.value.enabled&&!i.noOverlayFocus){const M=wJ(v.value);M&&M.focus({preventScroll:!0})}};return e({toggleTimePicker:L}),(M,O)=>{var W;return D(),J("div",SZ,[!M.timePicker&&!M.timePickerInline?Ji((D(),J("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:De(k.value),"aria-label":(W=x(u))==null?void 0:W.openTimePicker,tabindex:M.noOverlayFocus?void 0:0,onKeydown:[O[0]||(O[0]=at(X=>L(!0),["enter"])),O[1]||(O[1]=at(X=>L(!0),["space"]))],onClick:O[2]||(O[2]=X=>L(!0))},[M.$slots["clock-icon"]?Pe(M.$slots,"clock-icon",{key:0}):ie("",!0),M.$slots["clock-icon"]?ie("",!0):(D(),he(x(a_),{key:1}))],42,CZ)),[[Is,!x(p)(M.hideNavigation,"time")]]):ie("",!0),ae(Us,{name:x(h)(m.value),css:x(f)&&!M.timePickerInline},{default:ge(()=>{var X;return[m.value||M.timePicker||M.timePickerInline?(D(),J("div",{key:0,ref_key:"overlayRef",ref:v,class:De({dp__overlay:!M.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!M.timePickerInline,"dp--overlay-relative":i.timePicker}),style:On(M.timePicker?{height:`${x(d).modeHeight}px`}:void 0),tabindex:M.timePickerInline?void 0:0},[ee("div",{class:De(M.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[M.$slots["time-picker-overlay"]?Pe(M.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:$,setMinutes:V,setSeconds:I}):ie("",!0),M.$slots["time-picker-overlay"]?ie("",!0):(D(),J("div",{key:1,class:De(M.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(D(!0),J(Ie,null,ut(E.value,(F,b)=>Ji((D(),he(EZ,Ht({key:b},{...M.$props,order:b,hours:F.hours,minutes:F.minutes,seconds:F.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:b===0?M.fixedStart:M.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:T,"validate-time":(Q,te)=>t.validateTime(Q,C(te,b,Q)),"onUpdate:hours":Q=>$(C(Q,b,"hours")),"onUpdate:minutes":Q=>V(C(Q,b,"minutes")),"onUpdate:seconds":Q=>I(C(Q,b,"seconds")),onMounted:H,onOverlayClosed:H,onAmPmChange:O[3]||(O[3]=Q=>M.$emit("am-pm-change",Q))}),nr({_:2},[ut(x(A),(Q,te)=>({name:Q,fn:ge(Z=>[Pe(M.$slots,Q,Tn(tr(Z)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Is,b===0?!0:_.value]])),128))],2)),!M.timePicker&&!M.timePickerInline?Ji((D(),J("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:De(k.value),"aria-label":(X=x(u))==null?void 0:X.closeTimePicker,tabindex:"0",onKeydown:[O[4]||(O[4]=at(F=>L(!1),["enter"])),O[5]||(O[5]=at(F=>L(!1),["space"]))],onClick:O[6]||(O[6]=F=>L(!1))},[M.$slots["calendar-icon"]?Pe(M.$slots,"calendar-icon",{key:0}):ie("",!0),M.$slots["calendar-icon"]?ie("",!0):(D(),he(x(rh),{key:1}))],42,AZ)),[[Is,!x(p)(M.hideNavigation,"time")]]):ie("",!0)],2)],14,IZ)):ie("",!0)]}),_:3},8,["name","css"])])}}}),iN=(t,e,n,r)=>{const i=(T,v)=>Array.isArray(e[T])?e[T][v]:e[T],s=T=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[T]:e.seconds:0,o=(T,v)=>T?v!==void 0?_o(T,i("hours",v),i("minutes",v),s(v)):_o(T,e.hours,e.minutes,s()):i_(be(),s(v)),a=(T,v)=>{e[T]=v},l=(T,v)=>{const _=Object.fromEntries(Object.keys(e).map(m=>m===T?[m,v]:[m,e[m]].slice()));if(t.range&&!t.disableTimeRangeValidation){const m=E=>n.value?_o(n.value[E],_.hours[E],_.minutes[E],_.seconds[E]):null,w=E=>r_(n.value[E],0);return!(Ot(m(0),m(1))&&(wd(m(0),w(1))||bd(m(1),w(0))))}return!0},u=(T,v)=>{l(T,v)&&(a(T,v),r&&r())},c=T=>{u("hours",T)},d=T=>{u("minutes",T)},h=T=>{u("seconds",T)},f=(T,v,_,m)=>{v&&c(T),!v&&!_&&d(T),_&&h(T),n.value&&m(n.value)},p=T=>{if(T){const v=Array.isArray(T),_=v?[+T[0].hours,+T[1].hours]:+T.hours,m=v?[+T[0].minutes,+T[1].minutes]:+T.minutes,w=v?[+T[0].seconds,+T[1].seconds]:+T.seconds;a("hours",_),a("minutes",m),t.enableSeconds&&a("seconds",w)}},g=(T,v)=>{const _={hours:Array.isArray(e.hours)?e.hours[T]:e.hours,disabledArr:[]};return(v||v===0)&&(_.hours=v),Array.isArray(t.disabledTimes)&&(_.disabledArr=t.range&&Array.isArray(t.disabledTimes[T])?t.disabledTimes[T]:t.disabledTimes),_},y=re(()=>(T,v)=>{var _;if(Array.isArray(t.disabledTimes)){const{disabledArr:m,hours:w}=g(T,v),E=m.filter(L=>+L.hours===w);return((_=E[0])==null?void 0:_.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(E==null?void 0:E.map(L=>+L.minutes))??[],seconds:(E==null?void 0:E.map(L=>L.seconds?+L.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:f,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:y}},kZ=(t,e)=>{const{modelValue:n,time:r}=sh(t,e),{defaultedStartTime:i}=Cn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=iN(t,r,n),d=v=>{const{hours:_,minutes:m,seconds:w}=v;return{hours:+_,minutes:+m,seconds:w?+w:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=d(t.startTime[0]),m=d(t.startTime[1]);return[nn(be(),_),nn(be(),m)]}const v=d(t.startTime);return nn(be(),v)}return t.range?[null,null]:null},f=()=>{if(t.range){const[v,_]=h();n.value=[o(v,0),o(_,1)]}else n.value=o(h())},p=v=>Array.isArray(v)?[va(be(v[0])),va(be(v[1]))]:[va(v??be())],g=(v,_,m)=>{a("hours",v),a("minutes",_),a("seconds",t.enableSeconds?m:0)},y=()=>{const[v,_]=p(n.value);return t.range?g([v.hours,_.hours],[v.minutes,_.minutes],[v.seconds,_.minutes]):g(v.hours,v.minutes,v.seconds)};fn(()=>{if(!t.shadow)return l(i.value),n.value?y():f()});const T=()=>{Array.isArray(n.value)?n.value=n.value.map((v,_)=>v&&o(v,_)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(v,_=!0,m=!1)=>{s(v,_,m,T)},validateTime:c}},xZ=Ae({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ui},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Oo(),o=ti(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=kZ(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,f)=>(D(),he(Km,{"multi-calendars":0,stretch:""},{default:ge(()=>[ae(rN,Ht(h.$props,{hours:x(a).hours,minutes:x(a).minutes,seconds:x(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":x(u),"validate-time":x(d),"onUpdate:hours":f[0]||(f[0]=p=>x(c)(p)),"onUpdate:minutes":f[1]||(f[1]=p=>x(c)(p,!1)),"onUpdate:seconds":f[2]||(f[2]=p=>x(c)(p,!1,!0)),onAmPmChange:f[3]||(f[3]=p=>h.$emit("am-pm-change",p))}),nr({_:2},[ut(x(o),(p,g)=>({name:p,fn:ge(y=>[Pe(h.$slots,p,Tn(tr(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),PZ={class:"dp__month_year_row"},DZ=["aria-label","onClick","onKeydown"],RZ=Ae({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ui},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Cn(i),{transitionName:d,showTransition:h}=ih(s),{buildMatrix:f}=Bo(),{handleMonthYearChange:p,isDisabled:g,updateMonthYear:y}=jJ(i,r),{showLeftIcon:T,showRightIcon:v}=Wm(),_=le(!1),m=le(!1),w=le([null,null,null,null]);fn(()=>{r("mount")});const E=b=>({get:()=>i[b],set:Q=>{const te=b===_i.month?_i.year:_i.month;r("update-month-year",{[b]:Q,[te]:i[te]}),b===_i.month?H(!0):M(!0)}}),L=re(E(_i.month)),k=re(E(_i.year)),A=re(()=>b=>({month:i.month,year:i.year,items:b===_i.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:b===_i.month?H:M})),C=re(()=>i.months.find(Q=>Q.value===i.month)||{text:"",value:0}),$=re(()=>pu(i.months,b=>{const Q=i.month===b.value,te=_d(b.value,KO(i.year,i.minDate),zO(i.year,i.maxDate))||l.value.months.includes(b.value),Z=ZO(c.value,b.value,i.year);return{active:Q,disabled:te,highlighted:Z}})),V=re(()=>pu(i.years,b=>{const Q=i.year===b.value,te=_d(b.value,mu(i.minDate),mu(i.maxDate))||l.value.years.includes(b.value),Z=p_(c.value,b.value);return{active:Q,disabled:te,highlighted:Z}})),I=(b,Q)=>{Q!==void 0?b.value=Q:b.value=!b.value,b.value||r("overlay-closed")},H=(b=!1,Q)=>{O(b),I(_,Q)},M=(b=!1,Q)=>{O(b),I(m,Q)},O=b=>{b||r("reset-flow")},W=(b,Q)=>{i.arrowNavigation&&(w.value[Q]=Rn(b),f(w.value,"monthYear"))},X=re(()=>{var b,Q;return[{type:_i.month,index:1,toggle:H,modelValue:L.value,updateModelValue:te=>L.value=te,text:C.value.text,showSelectionGrid:_.value,items:$.value,ariaLabel:(b=o.value)==null?void 0:b.openMonthsOverlay},{type:_i.year,index:2,toggle:M,modelValue:k.value,updateModelValue:te=>k.value=te,text:i.year,showSelectionGrid:m.value,items:V.value,ariaLabel:(Q=o.value)==null?void 0:Q.openYearsOverlay}]}),F=re(()=>i.disableYearSelect?[X.value[0]]:i.yearFirst?[...X.value].reverse():X.value);return e({toggleMonthPicker:H,toggleYearPicker:M,handleMonthYearChange:p}),(b,Q)=>{var te,Z,ue;return D(),J("div",PZ,[b.$slots["month-year"]?Pe(b.$slots,"month-year",Tn(Ht({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:x(y),handleMonthYearChange:x(p),instance:t.instance}))):(D(),J(Ie,{key:1},[x(T)(x(a),t.instance)&&!b.vertical?(D(),he(Fc,{key:0,"aria-label":(te=x(o))==null?void 0:te.prevMonth,disabled:x(g)(!1),onActivate:Q[0]||(Q[0]=we=>x(p)(!1,!0)),onSetRef:Q[1]||(Q[1]=we=>W(we,0))},{default:ge(()=>[b.$slots["arrow-left"]?Pe(b.$slots,"arrow-left",{key:0}):ie("",!0),b.$slots["arrow-left"]?ie("",!0):(D(),he(x(s_),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),ee("div",{class:De(["dp__month_year_wrap",{dp__year_disable_select:b.disableYearSelect}])},[(D(!0),J(Ie,null,ut(F.value,(we,B)=>(D(),J(Ie,{key:we.type},[ee("button",{ref_for:!0,ref:G=>W(G,B+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":we.ariaLabel,onClick:we.toggle,onKeydown:[at(Pt(we.toggle,["prevent"]),["enter"]),at(Pt(we.toggle,["prevent"]),["space"])]},[b.$slots[we.type]?Pe(b.$slots,we.type,{key:0,text:we.text,value:i[we.type]}):ie("",!0),b.$slots[we.type]?ie("",!0):(D(),J(Ie,{key:1},[et(Ke(we.text),1)],64))],40,DZ),ae(Us,{name:x(d)(we.showSelectionGrid),css:x(h)},{default:ge(()=>[we.showSelectionGrid?(D(),he(oh,{key:0,items:we.items,"arrow-navigation":b.arrowNavigation,"hide-navigation":b.hideNavigation,"is-last":b.autoApply&&!x(u).keepActionRow,"skip-button-ref":!1,config:b.config,type:we.type,"header-refs":[],"esc-close":b.escClose,"text-input":b.textInput,onSelected:we.updateModelValue,onToggle:we.toggle},nr({"button-icon":ge(()=>[b.$slots["calendar-icon"]?Pe(b.$slots,"calendar-icon",{key:0}):ie("",!0),b.$slots["calendar-icon"]?ie("",!0):(D(),he(x(rh),{key:1}))]),_:2},[b.$slots[`${we.type}-overlay-value`]?{name:"item",fn:ge(({item:G})=>[Pe(b.$slots,`${we.type}-overlay-value`,{text:G.text,value:G.value})]),key:"0"}:void 0,b.$slots[`${we.type}-overlay`]?{name:"overlay",fn:ge(()=>[Pe(b.$slots,`${we.type}-overlay`,Tn(tr(A.value(we.type))))]),key:"1"}:void 0,b.$slots[`${we.type}-overlay-header`]?{name:"header",fn:ge(()=>[Pe(b.$slots,`${we.type}-overlay-header`,{toggle:we.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):ie("",!0)]),_:2},1032,["name","css"])],64))),128))],2),x(T)(x(a),t.instance)&&b.vertical?(D(),he(Fc,{key:1,"aria-label":(Z=x(o))==null?void 0:Z.prevMonth,disabled:x(g)(!1),onActivate:Q[2]||(Q[2]=we=>x(p)(!1,!0))},{default:ge(()=>[b.$slots["arrow-up"]?Pe(b.$slots,"arrow-up",{key:0}):ie("",!0),b.$slots["arrow-up"]?ie("",!0):(D(),he(x(l_),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),x(v)(x(a),t.instance)?(D(),he(Fc,{key:2,ref:"rightIcon",disabled:x(g)(!0),"aria-label":(ue=x(o))==null?void 0:ue.nextMonth,onActivate:Q[3]||(Q[3]=we=>x(p)(!0,!0)),onSetRef:Q[4]||(Q[4]=we=>W(we,b.disableYearSelect?2:3))},{default:ge(()=>[b.$slots[b.vertical?"arrow-down":"arrow-right"]?Pe(b.$slots,b.vertical?"arrow-down":"arrow-right",{key:0}):ie("",!0),b.$slots[b.vertical?"arrow-down":"arrow-right"]?ie("",!0):(D(),he(Cd(b.vertical?x(u_):x(o_)),{key:1}))]),_:3},8,["disabled","aria-label"])):ie("",!0)],64))])}}}),OZ=["aria-label"],NZ={class:"dp__calendar_header",role:"row"},MZ={key:0,class:"dp__calendar_header_item",role:"gridcell"},LZ=ee("div",{class:"dp__calendar_header_separator"},null,-1),$Z=["aria-label"],UZ={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},FZ={class:"dp__cell_inner"},VZ=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],BZ=Ae({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ui},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Bo(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u}=Cn(i),c=le(null),d=le({bottom:"",left:"",transform:""}),h=le([]),f=le(null),p=le(!0),g=le(""),y=le({startX:0,endX:0,startY:0,endY:0}),T=le([]),v=le({left:"50%"}),_=re(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),m=re(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):gJ(i.formatLocale,i.locale,+i.weekStart));fn(()=>{r("mount",{cmp:"calendar",refs:h}),a.value.noSwipe||f.value&&(f.value.addEventListener("touchstart",H,{passive:!1}),f.value.addEventListener("touchend",M,{passive:!1}),f.value.addEventListener("touchmove",O,{passive:!1})),i.monthChangeOnScroll&&f.value&&f.value.addEventListener("wheel",F,{passive:!1})});const w=Z=>Z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",E=(Z,ue)=>{if(i.transitions){const we=Gr(Es(be(),i.month,i.year));g.value=gr(Gr(Es(be(),Z,ue)),we)?o.value[w(!0)]:o.value[w(!1)],p.value=!1,Dr(()=>{p.value=!0})}},L=re(()=>({[i.calendarClassName]:!!i.calendarClassName})),k=re(()=>Z=>{const ue=yJ(Z);return{dp__marker_dot:ue.type==="dot",dp__marker_line:ue.type==="line"}}),A=re(()=>Z=>Ot(Z,c.value)),C=re(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),$=re(()=>Z=>i.hideOffsetDates?Z.current:!0),V=async(Z,ue,we)=>{var B,G;if(r("set-hover-date",Z),(G=(B=Z.marker)==null?void 0:B.tooltip)!=null&&G.length){const se=Rn(h.value[ue][we]);if(se){const{width:z,height:de}=se.getBoundingClientRect();c.value=Z.value;let Se={left:`${z/2}px`},S=-50;if(await Dr(),T.value[0]){const{left:P,width:R}=T.value[0].getBoundingClientRect();P<0&&(Se={left:"0"},S=0,v.value.left=`${z/2}px`),window.innerWidth<P+R&&(Se={right:"0"},S=0,v.value.left=`${R-z/2}px`)}d.value={bottom:`${de}px`,...Se,transform:`translateX(${S}%)`},r("tooltip-open",Z.marker)}}},I=Z=>{c.value&&(c.value=null,d.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Z.marker))},H=Z=>{y.value.startX=Z.changedTouches[0].screenX,y.value.startY=Z.changedTouches[0].screenY},M=Z=>{y.value.endX=Z.changedTouches[0].screenX,y.value.endY=Z.changedTouches[0].screenY,W()},O=Z=>{i.vertical&&!i.inline&&Z.preventDefault()},W=()=>{const Z=i.vertical?"Y":"X";Math.abs(y.value[`start${Z}`]-y.value[`end${Z}`])>10&&r("handle-swipe",y.value[`start${Z}`]>y.value[`end${Z}`]?"right":"left")},X=(Z,ue,we)=>{Z&&(Array.isArray(h.value[ue])?h.value[ue][we]=Z:h.value[ue]=[Z]),i.arrowNavigation&&s(h.value,"calendar")},F=Z=>{i.monthChangeOnScroll&&(Z.preventDefault(),r("handle-scroll",Z))},b=Z=>{const ue=Z[0];return i.weekNumbers==="local"?AQ(ue.value,{weekStartsOn:+i.weekStart}):i.weekNumbers==="iso"?EQ(ue.value):typeof i.weekNumbers=="function"?i.weekNumbers(ue.value):""},Q=(Z,ue)=>{bo(Z,a.value),r("select-date",ue)},te=Z=>{bo(Z,a.value)};return e({triggerTransition:E}),(Z,ue)=>{var we;return D(),J("div",{class:De(C.value)},[ee("div",{ref_key:"calendarWrapRef",ref:f,role:"grid",class:De(L.value),"aria-label":(we=x(l))==null?void 0:we.calendarWrap},[(D(),J(Ie,{key:0},[ee("div",NZ,[Z.weekNumbers?(D(),J("div",MZ,Ke(Z.weekNumName),1)):ie("",!0),(D(!0),J(Ie,null,ut(m.value,(B,G)=>(D(),J("div",{key:G,class:"dp__calendar_header_item",role:"gridcell"},[Z.$slots["calendar-header"]?Pe(Z.$slots,"calendar-header",{key:0,day:B,index:G}):ie("",!0),Z.$slots["calendar-header"]?ie("",!0):(D(),J(Ie,{key:1},[et(Ke(B),1)],64))]))),128))]),LZ,ae(Us,{name:g.value,css:!!Z.transitions},{default:ge(()=>{var B;return[p.value?(D(),J("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((B=x(l))==null?void 0:B.calendarDays)||void 0},[(D(!0),J(Ie,null,ut(_.value,(G,se)=>(D(),J("div",{key:se,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(D(),J("div",UZ,[ee("div",FZ,Ke(b(G.days)),1)])):ie("",!0),(D(!0),J(Ie,null,ut(G.days,(z,de)=>{var Se,S,P;return D(),J("div",{id:z.value.toISOString().split("T")[0],ref_for:!0,ref:R=>X(R,se,de),key:de+se,role:"gridcell",class:"dp__calendar_item","aria-selected":z.classData.dp__active_date||z.classData.dp__range_start||z.classData.dp__range_start,"aria-disabled":z.classData.dp__cell_disabled||void 0,"aria-label":(S=(Se=x(l))==null?void 0:Se.day)==null?void 0:S.call(Se,z),tabindex:"0",onClick:Pt(R=>Q(R,z),["prevent"]),onKeydown:[at(R=>Z.$emit("select-date",z),["enter"]),at(R=>Z.$emit("handle-space",z),["space"])],onMouseenter:R=>V(z,se,de),onMouseleave:R=>I(z)},[ee("div",{class:De(["dp__cell_inner",z.classData])},[Z.$slots.day&&$.value(z)?Pe(Z.$slots,"day",{key:0,day:+z.text,date:z.value}):ie("",!0),Z.$slots.day?ie("",!0):(D(),J(Ie,{key:1},[et(Ke(z.text),1)],64)),z.marker&&$.value(z)?(D(),J(Ie,{key:2},[Z.$slots.marker?Pe(Z.$slots,"marker",{key:0,marker:z.marker,day:+z.text,date:z.value}):(D(),J("div",{key:1,class:De(k.value(z.marker)),style:On(z.marker.color?{backgroundColor:z.marker.color}:{})},null,6))],64)):ie("",!0),A.value(z.value)?(D(),J("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:T,class:"dp__marker_tooltip",style:On(d.value)},[(P=z.marker)!=null&&P.tooltip?(D(),J("div",{key:0,class:"dp__tooltip_content",onClick:te},[(D(!0),J(Ie,null,ut(z.marker.tooltip,(R,N)=>(D(),J("div",{key:N,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?Pe(Z.$slots,"marker-tooltip",{key:0,tooltip:R,day:z.value}):ie("",!0),Z.$slots["marker-tooltip"]?ie("",!0):(D(),J(Ie,{key:1},[ee("div",{class:"dp__tooltip_mark",style:On(R.color?{backgroundColor:R.color}:{})},null,4),ee("div",null,Ke(R.text),1)],64))]))),128)),ee("div",{class:"dp__arrow_bottom_tp",style:On(v.value)},null,4)])):ie("",!0)],4)):ie("",!0)],2)],40,VZ)}),128))]))),128))],8,$Z)):ie("",!0)]}),_:3},8,["name","css"])],64))],10,OZ)],2)}}}),ZS=t=>Array.isArray(t),jZ=(t,e,n,r)=>{const i=le([]),{modelValue:s,calendars:o,time:a}=sh(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Cn(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:f}=Nu(t),{updateTimeValues:p,getSetDateTime:g,setTime:y,assignStartTime:T,validateTime:v,disabledTimesConfig:_}=iN(t,a,s,r),m=re(()=>q=>o.value[q]?o.value[q].month:0),w=re(()=>q=>o.value[q]?o.value[q].year:0),E=(q,U,K)=>{var j,ne;o.value[q]||(o.value[q]={month:0,year:0}),o.value[q].month=zS(U)?(j=o.value[q])==null?void 0:j.month:U,o.value[q].year=zS(K)?(ne=o.value[q])==null?void 0:ne.year:K},L=()=>{t.autoApply&&e("select-date")};yn(s,(q,U)=>{JSON.stringify(q)!==JSON.stringify(U)&&C()}),fn(()=>{t.shadow||(s.value||(b(),u.value&&T(u.value)),C(!0),t.focusStartDate&&t.startDate&&b())});const k=re(()=>{var q;return(q=t.flow)!=null&&q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),A=()=>{t.autoApply&&k.value&&e("auto-apply",t.partialFlow)},C=(q=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,O(q)):V(s.value,q);if(l.value.count&&q&&!t.startDate)return $(be(),q)},$=(q,U=!1)=>{if((!l.value.count||!l.value.static||U)&&E(0,At(q),ht(q)),l.value.count)for(let K=1;K<l.value.count;K++){const j=nn(be(),{month:m.value(K-1),year:w.value(K-1)}),ne=wO(j,{months:1});o.value[K]={month:At(ne),year:ht(ne)}}},V=(q,U)=>{$(q),y("hours",Oi(q)),y("minutes",rs(q)),y("seconds",hu(q)),l.value.count&&U&&F()},I=q=>{if(l.value.count){if(l.value.solo)return 0;const U=At(q[0]),K=At(q[1]);return Math.abs(K-U)<l.value.count?0:1}return 1},H=(q,U)=>{q[1]&&t.showLastInRange?$(q[I(q)],U):$(q[0],U);const K=(j,ne)=>[j(q[0]),q[1]?j(q[1]):a[ne][1]];y("hours",K(Oi,"hours")),y("minutes",K(rs,"minutes")),y("seconds",K(hu,"seconds"))},M=(q,U)=>{if((t.range||t.weekPicker)&&!t.multiDates)return H(q,U);if(t.multiDates&&U){const K=q[q.length-1];return V(K,U)}},O=q=>{const U=s.value;M(U,q),l.value.count&&l.value.solo&&F()},W=(q,U)=>{const K=nn(be(),{month:m.value(U),year:w.value(U)}),j=q<0?Ri(K,1):fu(K,1);c(At(j),ht(j),q<0,t.preventMinMaxNavigation)&&(E(U,At(j),ht(j)),e("update-month-year",{instance:U,month:At(j),year:ht(j)}),l.value.count&&!l.value.solo&&X(U),n())},X=q=>{for(let U=q-1;U>=0;U--){const K=fu(nn(be(),{month:m.value(U+1),year:w.value(U+1)}),1);E(U,At(K),ht(K))}for(let U=q+1;U<=l.value.count-1;U++){const K=Ri(nn(be(),{month:m.value(U-1),year:w.value(U-1)}),1);E(U,At(K),ht(K))}},F=()=>{if(Array.isArray(s.value)&&s.value.length===2){const q=be(be(s.value[1]?s.value[1]:Ri(s.value[0],1))),[U,K]=[At(s.value[0]),ht(s.value[0])],[j,ne]=[At(s.value[1]),ht(s.value[1])];(U!==j||U===j&&K!==ne)&&l.value.solo&&E(1,At(q),ht(q))}else s.value&&!Array.isArray(s.value)&&(E(0,At(s.value),ht(s.value)),$(be()))},b=()=>{t.startDate&&(E(0,At(be(t.startDate)),ht(be(t.startDate))),l.value.count&&X(0))},Q=(q,U)=>{t.monthChangeOnScroll&&W(t.monthChangeOnScroll!=="inverse"?-q.deltaY:q.deltaY,U)},te=(q,U,K=!1)=>{t.monthChangeOnArrows&&t.vertical===K&&Z(q,U)},Z=(q,U)=>{W(q==="right"?-1:1,U)},ue=q=>t.markers.find(U=>Ot(qS(q.value),qS(U.date))),we=(q,U)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[q==0,!0];case"fair":return[q==0||U>q,!0];case"append":return[!1,!1];default:return[!1,!1]}},B=(q,U,K,j)=>{if(t.sixWeeks&&q.length<6){const ne=6-q.length,ce=(U.getDay()+7-j)%7,Ve=6-(K.getDay()+7-j)%7,[Ne,Je]=we(ce,Ve);for(let Lt=1;Lt<=ne;Lt++)if(Je?!!(Lt%2)==Ne:Ne){const Ye=q[0].days[0],Fe=G(ys(Ye.value,-7),At(U));q.unshift({days:Fe})}else{const Ye=q[q.length-1],Fe=Ye.days[Ye.days.length-1],qe=G(ys(Fe.value,1),At(U));q.push({days:qe})}}return q},G=(q,U)=>{const K=be(q),j=[];for(let ne=0;ne<7;ne++){const ce=ys(K,ne),Ve=At(ce)!==U;j.push({text:t.hideOffsetDates&&Ve?"":ce.getDate(),value:ce,current:!Ve,classData:{}})}return j},se=(q,U)=>{const K=[],j=be(fi(new Date(U,q),t.timezone)),ne=be(fi(new Date(U,q+1,0),t.timezone)),ce=t.weekStart,Ve=$a(j,{weekStartsOn:ce}),Ne=Je=>{const Lt=G(Je,q);if(K.push({days:Lt}),!K[K.length-1].days.some(Ye=>Ot(Gr(Ye.value),Gr(ne)))){const Ye=ys(Je,7);Ne(Ye)}};return Ne(Ve),B(K,j,ne,ce)},z=q=>(s.value=vf(be(q.value),t.timezone,t.weekStart),e("date-update",q.value),A()),de=q=>{const U=_o(be(q.value),a.hours,a.minutes,fe());e("date-update",U),t.multiDates?m_(U,s,t.multiDatesLimit):s.value=U,r(),Dr().then(()=>{A()})},Se=q=>t.noDisabledRange?qO(i.value[0],q).some(U=>d(U)):!1,S=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},P=(q,U)=>{const K=[be(q.value),ys(be(q.value),+t.autoRange)];h(K)?(U&&R(q.value),i.value=K):e("invalid-date",q.value)},R=q=>{const U=At(be(q)),K=ht(be(q));if(E(0,U,K),l.value.count>0)for(let j=1;j<l.value.count;j++){const ne=IJ(nn(be(q),{year:m.value(j-1),month:w.value(j-1)}));E(j,ne.month,ne.year)}},N=q=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(gr(q,s.value[0])||Ot(q,s.value[0]))?[s.value[0],q]:t.fixedEnd&&(er(q,s.value[1])||Ot(q,s.value[1]))?[q,s.value[1]]:(e("invalid-fixed-range",q),s.value):[],Y=q=>{if(Se(q.value)||!f(q.value,s.value,t.fixedStart?0:1))return e("invalid-date",q.value);i.value=N(be(q.value))},oe=(q,U)=>{if(S(),t.autoRange)return P(q,U);if(t.fixedStart||t.fixedEnd)return Y(q);i.value[0]?f(be(q.value),s.value)&&!Se(q.value)?er(be(q.value),be(i.value[0]))?(i.value.unshift(be(q.value)),e("range-end",i.value[0])):(i.value[1]=be(q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",q.value),e("invalid-date",q.value)):(i.value[0]=be(q.value),e("range-start",i.value[0]))},fe=(q=!0)=>t.enableSeconds?Array.isArray(a.seconds)?q?a.seconds[0]:a.seconds[1]:a.seconds:0,ye=q=>{i.value[q]=_o(i.value[q],a.hours[q],a.minutes[q],fe(q!==1))},ve=()=>{var q,U;i.value[0]&&i.value[1]&&+((q=i.value)==null?void 0:q[0])>+((U=i.value)==null?void 0:U[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},pe=()=>{i.value.length&&(i.value[0]&&!i.value[1]?ye(0):(ye(0),ye(1),r()),ve(),s.value=i.value.slice(),zm(i.value,e,t.autoApply,t.modelAuto))},Te=(q,U=!1)=>{if(d(q.value)||!q.current&&t.hideOffsetDates)return e("invalid-date",q.value);if(t.weekPicker)return z(q);if(!t.range)return de(q);ZS(a.hours)&&ZS(a.minutes)&&!t.multiDates&&(oe(q,U),pe())},_e=(q,U)=>{var K;E(q,U.month,U.year),l.value.count&&!l.value.solo&&X(q),e("update-month-year",{instance:q,month:U.month,year:U.year}),n(l.value.solo?q:void 0);const j=(K=t.flow)!=null&&K.length?t.flow[t.flowStep]:void 0;!U.fromNav&&(j===Vi.month||j===Vi.year)&&r()},$e=(q,U)=>{Array.isArray(q)&&q.length<=2&&t.range?s.value=q.map(K=>fi(be(K),U?void 0:t.timezone)):Array.isArray(q)||(s.value=fi(be(q),U?void 0:t.timezone)),L(),t.multiCalendars&&Dr().then(()=>C(!0))},Ge=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=er(be(),s.value[0])?[be(),s.value[0]]:[s.value[0],be()]:s.value=[be()]:s.value=be(),L()},nt=()=>{if(Array.isArray(s.value))if(t.multiDates){const q=pt();s.value[s.value.length-1]=g(q)}else s.value=s.value.map((q,U)=>q&&g(q,U));else s.value=g(s.value);e("time-update")},pt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:m,year:w,time:a,disabledTimesConfig:_,validateTime:v,getCalendarDays:se,getMarker:ue,handleScroll:Q,handleSwipe:Z,handleArrow:te,selectDate:Te,updateMonthYear:_e,presetDate:$e,selectCurrentDate:Ge,updateTime:(q,U=!0,K=!1)=>{p(q,U,K,nt)}}},HZ={key:0},WZ=Ae({__name:"DatePicker",props:{...Ui},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:f,handleArrow:p,handleScroll:g,handleSwipe:y,selectDate:T,updateMonthYear:v,presetDate:_,selectCurrentDate:m,updateTime:w}=jZ(i,r,F,b),E=Oo(),{setHoverDate:L,getDayClassData:k,clearHoverDate:A}=KJ(l,i),{defaultedMultiCalendars:C}=Cn(i),$=le([]),V=le([]),I=le(null),H=ti(E,"calendar"),M=ti(E,"monthYear"),O=ti(E,"timePicker"),W=te=>{i.shadow||r("mount",te)};yn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const X=re(()=>te=>h(o.value(te),a.value(te)).map(Z=>({...Z,days:Z.days.map(ue=>(ue.marker=f(ue),ue.classData=k(ue),ue))})));function F(te){var Z;te||te===0?(Z=V.value[te])==null||Z.triggerTransition(o.value(te),a.value(te)):V.value.forEach((ue,we)=>ue.triggerTransition(o.value(we),a.value(we)))}function b(){r("update-flow-step")}const Q=(te,Z=!1)=>{T(te,Z),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:A,presetDate:_,selectCurrentDate:m,toggleMonthPicker:(te,Z,ue=0)=>{var we;(we=$.value[ue])==null||we.toggleMonthPicker(te,Z)},toggleYearPicker:(te,Z,ue=0)=>{var we;(we=$.value[ue])==null||we.toggleYearPicker(te,Z)},toggleTimePicker:(te,Z,ue)=>{var we;(we=I.value)==null||we.toggleTimePicker(te,Z,ue)},handleArrow:p,updateMonthYear:v,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:w,updateMonthYear:v,selectDate:T,presetDate:_})}),(te,Z)=>(D(),J(Ie,null,[ae(Km,{"multi-calendars":x(C).count},{default:ge(({instance:ue,index:we})=>[te.disableMonthYearSelect?ie("",!0):(D(),he(RZ,Ht({key:0,ref:B=>{B&&($.value[we]=B)},months:x(WO)(te.formatLocale,te.locale,te.monthNameFormat),years:x(f_)(te.yearRange,te.reverseYears),month:x(o)(ue),year:x(a)(ue),instance:ue},te.$props,{onMount:Z[0]||(Z[0]=B=>W(x(ya).header)),onResetFlow:Z[1]||(Z[1]=B=>te.$emit("reset-flow")),onUpdateMonthYear:B=>x(v)(ue,B),onOverlayClosed:Z[2]||(Z[2]=B=>te.$emit("focus-menu"))}),nr({_:2},[ut(x(M),(B,G)=>({name:B,fn:ge(se=>[Pe(te.$slots,B,Tn(tr(se)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),ae(BZ,Ht({ref:B=>{B&&(V.value[we]=B)},"mapped-dates":X.value(ue),month:x(o)(ue),year:x(a)(ue),instance:ue},te.$props,{onSelectDate:B=>x(T)(B,ue!==1),onHandleSpace:B=>Q(B,ue!==1),onSetHoverDate:Z[3]||(Z[3]=B=>x(L)(B)),onHandleScroll:B=>x(g)(B,ue),onHandleSwipe:B=>x(y)(B,ue),onMount:Z[4]||(Z[4]=B=>W(x(ya).calendar)),onResetFlow:Z[5]||(Z[5]=B=>te.$emit("reset-flow")),onTooltipOpen:Z[6]||(Z[6]=B=>te.$emit("tooltip-open",B)),onTooltipClose:Z[7]||(Z[7]=B=>te.$emit("tooltip-close",B))}),nr({_:2},[ut(x(H),(B,G)=>({name:B,fn:ge(se=>[Pe(te.$slots,B,Tn(tr({...se})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),te.enableTimePicker?(D(),J("div",HZ,[te.$slots["time-picker"]?Pe(te.$slots,"time-picker",Tn(Ht({key:0},{time:x(u),updateTime:x(w)}))):(D(),he(rN,Ht({key:1,ref_key:"timePickerRef",ref:I},te.$props,{hours:x(u).hours,minutes:x(u).minutes,seconds:x(u).seconds,"internal-model-value":te.internalModelValue,"disabled-times-config":x(c),"validate-time":x(d),onMount:Z[8]||(Z[8]=ue=>W(x(ya).timePicker)),"onUpdate:hours":Z[9]||(Z[9]=ue=>x(w)(ue)),"onUpdate:minutes":Z[10]||(Z[10]=ue=>x(w)(ue,!1)),"onUpdate:seconds":Z[11]||(Z[11]=ue=>x(w)(ue,!1,!0)),onResetFlow:Z[12]||(Z[12]=ue=>te.$emit("reset-flow")),onOverlayClosed:Z[13]||(Z[13]=ue=>te.$emit("time-picker-close")),onOverlayOpened:Z[14]||(Z[14]=ue=>te.$emit("time-picker-open",ue)),onAmPmChange:Z[15]||(Z[15]=ue=>te.$emit("am-pm-change",ue))}),nr({_:2},[ut(x(O),(ue,we)=>({name:ue,fn:ge(B=>[Pe(te.$slots,ue,Tn(tr(B)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ie("",!0)],64))}}),YZ=(t,e)=>{const n=le(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Cn(t),{modelValue:o,year:a,month:l,calendars:u}=sh(t,e),{isDisabled:c}=Nu(t),{selectYear:d,groupedYears:h,showYearPicker:f,isDisabled:p,toggleYearPicker:g,handleYearSelect:y,handleYear:T}=nN({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),v=(A,C)=>[A,C].map($=>wo($,"MMMM",{locale:t.formatLocale})).join("-"),_=re(()=>A=>o.value?Array.isArray(o.value)?o.value.some(C=>LS(A,C)):LS(o.value,A):!1),m=A=>{if(t.range){if(Array.isArray(o.value)){const C=Ot(A,o.value[0])||Ot(A,o.value[1]);return Hm(o.value,n.value,A)&&!C}return!1}return!1},w=re(()=>A=>{const C=nn(new Date,{year:a.value(A)});return hq({start:pq(C),end:fq(C)}).map($=>{const V=yd($),I=xS($),H=c($),M=m(V),O=typeof s.value=="function"?s.value({quarter:kS(V),year:ht(V)}):!!s.value.quarters.find(W=>W.quarter===kS(V)&&W.year===ht(V));return{text:v(V,I),value:V,active:_.value(V),highlighted:O,disabled:H,isBetween:M}})}),E=A=>{m_(A,o,t.multiDatesLimit),e("auto-apply",!0)},L=A=>{const C=g_(o,A,e);zm(C,e,t.autoApply,t.modelAuto)},k=A=>{o.value=A,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:p,quarters:w,showYearPicker:f,modelValue:o,setHoverDate:A=>{n.value=A},selectYear:d,selectQuarter:(A,C,$)=>{if(!$)return u.value[C].month=At(xS(A)),t.multiDates?E(A):t.range?L(A):k(A)},toggleYearPicker:g,handleYearSelect:y,handleYear:T}},KZ={class:"dp--quarter-items"},zZ=["disabled","onClick","onMouseover"],GZ=Ae({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ui},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Oo(),o=ti(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:f,showYearPicker:p,setHoverDate:g,selectQuarter:y,toggleYearPicker:T,handleYearSelect:v,handleYear:_}=YZ(i,r);return e({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:y,handleYearSelect:v,handleYear:_})}),(m,w)=>(D(),he(Km,{"multi-calendars":x(a).count,stretch:""},{default:ge(({instance:E})=>[ee("div",{class:"dp-quarter-picker-wrap",style:On({minHeight:`${x(l).modeHeight}px`})},[ee("div",null,[ae(tN,Ht(m.$props,{items:x(u)(E),instance:E,"show-year-picker":x(p)[E],year:x(c)(E),"is-disabled":L=>x(d)(E,L),onHandleYear:L=>x(_)(E,L),onYearSelect:L=>x(v)(L,E),onToggleYearPicker:L=>x(T)(E,L==null?void 0:L.flow,L==null?void 0:L.show)}),nr({_:2},[ut(x(o),(L,k)=>({name:L,fn:ge(A=>[Pe(m.$slots,L,Tn(tr(A)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ee("div",KZ,[(D(!0),J(Ie,null,ut(x(h)(E),(L,k)=>(D(),J("div",{key:k},[ee("button",{type:"button",class:De(["dp--qr-btn",{"dp--qr-btn-active":L.active,"dp--qr-btn-between":L.isBetween,"dp--qr-btn-disabled":L.disabled,"dp--highlighted":L.highlighted}]),disabled:L.disabled,onClick:A=>x(y)(L.value,E,L.disabled),onMouseover:A=>x(g)(L.value)},[m.$slots.quarter?Pe(m.$slots,"quarter",{key:0,value:L.value,text:L.text}):(D(),J(Ie,{key:1},[et(Ke(L.text),1)],64))],42,zZ)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),qZ=["id","onKeydown"],QZ={key:0,class:"dp__sidebar_left"},XZ={key:1,class:"dp--preset-dates"},JZ=["onClick","onKeydown"],ZZ={key:2,class:"dp__sidebar_right"},eee={key:3,class:"dp__action_extra"},eC=Ae({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Ym,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=re(()=>{const{openOnTop:S,...P}=i;return{...P,flowStep:k.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=eN(),u=Oo(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=Cn(i),f=le(null),p=le(0),g=le(null),y=le(null),T=le(!1),v=le(null);fn(()=>{if(!i.shadow){T.value=!0,_(),window.addEventListener("resize",_);const S=Rn(g);if(S&&!c.value.enabled&&!d.value.enabled&&(o(!0),I()),S){const P=R=>{h.value.allowPreventDefault&&R.preventDefault(),bo(R,h.value,!0)};S.addEventListener("pointerdown",P),S.addEventListener("mousedown",P)}}}),Ba(()=>{window.removeEventListener("resize",_)});const _=()=>{const S=Rn(y);S&&(p.value=S.getBoundingClientRect().width)},{arrowRight:m,arrowLeft:w,arrowDown:E,arrowUp:L}=Bo(),{flowStep:k,updateFlowStep:A,childMount:C,resetFlow:$}=zJ(i,r,v),V=re(()=>i.monthPicker?cZ:i.yearPicker?hZ:i.timePicker?xZ:i.quarterPicker?GZ:WZ),I=()=>{const S=Rn(g);S&&S.focus({preventScroll:!0})},H=re(()=>{var S;return((S=v.value)==null?void 0:S.getSidebarProps())||{}}),M=()=>{i.openOnTop&&r("recalculate-position")},O=ti(u,"action"),W=re(()=>i.monthPicker||i.yearPicker?ti(u,"monthYear"):i.timePicker?ti(u,"timePicker"):ti(u,"shared")),X=re(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),F=re(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),b=re(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),Q=S=>{bo(S,h.value,!0)},te=()=>{i.escClose&&r("close-picker")},Z=S=>{if(i.arrowNavigation){if(S==="up")return L();if(S==="down")return E();if(S==="left")return w();if(S==="right")return m()}else S==="left"||S==="up"?se("handleArrow","left",0,S==="up"):se("handleArrow","right",0,S==="down")},ue=S=>{a(S.shiftKey),!i.disableMonthYearSelect&&S.code==="Tab"&&S.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(S.preventDefault(),bo(S,h.value,!0),r("close-picker"))},we=()=>{I(),r("time-picker-close")},B=S=>{var P,R,N;(P=v.value)==null||P.toggleTimePicker(!1,!1),(R=v.value)==null||R.toggleMonthPicker(!1,!1,S),(N=v.value)==null||N.toggleYearPicker(!1,!1,S)},G=(S,P=0)=>{var R,N,Y;return S==="month"?(R=v.value)==null?void 0:R.toggleMonthPicker(!1,!0,P):S==="year"?(N=v.value)==null?void 0:N.toggleYearPicker(!1,!0,P):S==="time"?(Y=v.value)==null?void 0:Y.toggleTimePicker(!0,!1):B(P)},se=(S,...P)=>{var R,N;(R=v.value)!=null&&R[S]&&((N=v.value)==null||N[S](...P))},z=()=>{se("selectCurrentDate")},de=(S,P)=>{se("presetDate",S,P)},Se=()=>{se("clearHoverDate")};return e({updateMonthYear:(S,P)=>{se("updateMonthYear",S,P)},switchView:G}),(S,P)=>{var R;return D(),J("div",{id:S.uid?`dp-menu-${S.uid}`:void 0,ref_key:"dpMenuRef",ref:g,tabindex:"0",role:"dialog",class:De(b.value),onMouseleave:Se,onClick:Q,onKeydown:[at(te,["esc"]),P[18]||(P[18]=at(Pt(N=>Z("left"),["prevent"]),["left"])),P[19]||(P[19]=at(Pt(N=>Z("up"),["prevent"]),["up"])),P[20]||(P[20]=at(Pt(N=>Z("down"),["prevent"]),["down"])),P[21]||(P[21]=at(Pt(N=>Z("right"),["prevent"]),["right"])),ue]},[(S.disabled||S.readonly)&&x(d).enabled?(D(),J("div",{key:0,class:De(F.value)},null,2)):ie("",!0),!x(d).enabled&&!S.teleportCenter?(D(),J("div",{key:1,class:De(X.value)},null,2)):ie("",!0),ee("div",{ref_key:"innerMenuRef",ref:y,class:De({dp__menu_content_wrapper:((R=S.presetDates)==null?void 0:R.length)||!!S.$slots["left-sidebar"]||!!S.$slots["right-sidebar"]}),style:On({"--dp-menu-width":`${p.value}px`})},[S.$slots["left-sidebar"]?(D(),J("div",QZ,[Pe(S.$slots,"left-sidebar",Tn(tr(H.value)))])):ie("",!0),S.presetDates.length?(D(),J("div",XZ,[(D(!0),J(Ie,null,ut(S.presetDates,(N,Y)=>(D(),J(Ie,{key:Y},[N.slot?Pe(S.$slots,N.slot,{key:0,presetDate:de,label:N.label,value:N.value}):(D(),J("button",{key:1,type:"button",style:On(N.style||{}),class:"dp__btn dp--preset-range",onClick:Pt(oe=>de(N.value,N.noTz),["prevent"]),onKeydown:[at(Pt(oe=>de(N.value,N.noTz),["prevent"]),["enter"]),at(Pt(oe=>de(N.value,N.noTz),["prevent"]),["space"])]},Ke(N.label),45,JZ))],64))),128))])):ie("",!0),ee("div",{ref_key:"calendarWrapperRef",ref:f,class:"dp__instance_calendar",role:"document"},[(D(),he(Cd(V.value),Ht({ref_key:"dynCmpRef",ref:v},s.value,{"flow-step":x(k),onMount:x(C),onUpdateFlowStep:x(A),onResetFlow:x($),onFocusMenu:I,onSelectDate:P[0]||(P[0]=N=>S.$emit("select-date")),onDateUpdate:P[1]||(P[1]=N=>S.$emit("date-update",N)),onTooltipOpen:P[2]||(P[2]=N=>S.$emit("tooltip-open",N)),onTooltipClose:P[3]||(P[3]=N=>S.$emit("tooltip-close",N)),onAutoApply:P[4]||(P[4]=N=>S.$emit("auto-apply",N)),onRangeStart:P[5]||(P[5]=N=>S.$emit("range-start",N)),onRangeEnd:P[6]||(P[6]=N=>S.$emit("range-end",N)),onInvalidFixedRange:P[7]||(P[7]=N=>S.$emit("invalid-fixed-range",N)),onTimeUpdate:P[8]||(P[8]=N=>S.$emit("time-update")),onAmPmChange:P[9]||(P[9]=N=>S.$emit("am-pm-change",N)),onTimePickerOpen:P[10]||(P[10]=N=>S.$emit("time-picker-open",N)),onTimePickerClose:we,onRecalculatePosition:M,onUpdateMonthYear:P[11]||(P[11]=N=>S.$emit("update-month-year",N)),onAutoApplyInvalid:P[12]||(P[12]=N=>S.$emit("auto-apply-invalid",N)),onInvalidDate:P[13]||(P[13]=N=>S.$emit("invalid-date",N)),"onUpdate:internalModelValue":P[14]||(P[14]=N=>S.$emit("update:internal-model-value",N))}),nr({_:2},[ut(W.value,(N,Y)=>({name:N,fn:ge(oe=>[Pe(S.$slots,N,Tn(tr({...oe})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),S.$slots["right-sidebar"]?(D(),J("div",ZZ,[Pe(S.$slots,"right-sidebar",Tn(tr(H.value)))])):ie("",!0),S.$slots["action-extra"]?(D(),J("div",eee,[S.$slots["action-extra"]?Pe(S.$slots,"action-extra",{key:0,selectCurrentDate:z}):ie("",!0)])):ie("",!0)],6),!S.autoApply||x(h).keepActionRow?(D(),he(tZ,Ht({key:2,"menu-mount":T.value},s.value,{"calendar-width":p.value,onClosePicker:P[15]||(P[15]=N=>S.$emit("close-picker")),onSelectDate:P[16]||(P[16]=N=>S.$emit("select-date")),onInvalidSelect:P[17]||(P[17]=N=>S.$emit("invalid-select")),onSelectNow:z}),nr({_:2},[ut(x(O),(N,Y)=>({name:N,fn:ge(oe=>[Pe(S.$slots,N,Tn(tr({...oe})))])}))]),1040,["menu-mount","calendar-width"])):ie("",!0)],42,qZ)}}}),tee=typeof window<"u"?window:void 0,yv=()=>{},nee=t=>Pp()?(b0(t),!0):!1,ree=(t,e,n,r)=>{if(!t)return yv;let i=yv;const s=yn(()=>x(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=yv})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return nee(o),o},iee=(t,e,n,r={})=>{const{window:i=tee,event:s="pointerdown"}=r;return i?ree(i,s,o=>{const a=Rn(t),l=Rn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},see=Ae({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Ym},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Oo(),o=le(!1),a=Yl(i,"modelValue"),l=Yl(i,"timezone"),u=le(null),c=le(null),d=le(null),h=le(!1),f=le(null),p=le(!1),{setMenuFocused:g,setShiftKey:y}=eN(),{clearArrowNav:T}=Bo(),{mapDatesArrToMap:v,validateDate:_,isValidTime:m}=Nu(i),{defaultedTransitions:w,defaultedTextInput:E,defaultedInline:L,defaultedConfig:k}=Cn(i),{menuTransition:A,showTransition:C}=ih(w);fn(()=>{te(i.modelValue),Dr().then(()=>{L.value.enabled||(X(f.value).addEventListener("scroll",de),window.addEventListener("resize",Se))}),L.value.enabled&&(o.value=!0)});const $=re(()=>v());Ba(()=>{if(!L.value.enabled){const j=X(f.value);j&&j.removeEventListener("scroll",de),window.removeEventListener("resize",Se)}});const V=ti(s,"all",i.presetDates),I=ti(s,"input");yn([a,l],()=>{te(a.value)},{deep:!0});const{openOnTop:H,menuStyle:M,xCorrect:O,setMenuPosition:W,getScrollableParent:X,shadowRender:F}=HJ({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:L,emit:r,props:i,slots:s}),{inputValue:b,internalModelValue:Q,parseExternalModelValue:te,emitModelValue:Z,formatInputValue:ue,checkBeforeEmit:we}=BJ(r,i,h),B=re(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:L.value.enabled,dp__flex_display_with_input:L.value.input})),G=re(()=>i.dark?"dp__theme_dark":"dp__theme_light"),se=re(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:L.value.enabled}:{class:"dp__outer_menu_wrap"}),z=re(()=>L.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),de=()=>{o.value&&(k.value.closeOnScroll?ve():W())},Se=()=>{o.value&&W()},S=()=>{!i.disabled&&!i.readonly&&(F(eC,i),W(!1),o.value=!0,o.value&&r("open"),o.value||ye(),te(i.modelValue))},P=()=>{var j;b.value="",ye(),(j=d.value)==null||j.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),k.value.closeOnClearValue&&ve()},R=()=>{const j=Q.value;return!j||!Array.isArray(j)&&_(j)?!0:Array.isArray(j)?j.length===2&&_(j[0])&&_(j[1])?!0:i.partialRange&&!i.timePicker?_(j[0]):!1:!1},N=()=>{we()&&R()?(Z(),ve()):r("invalid-select",Q.value)},Y=j=>{oe(),Z(),k.value.closeOnAutoApply&&!j&&ve()},oe=()=>{d.value&&E.value.enabled&&d.value.setParsedDate(Q.value)},fe=(j=!1)=>{i.autoApply&&m(Q.value)&&R()&&(i.range&&Array.isArray(Q.value)?(i.partialRange||Q.value.length===2)&&Y(j):Y(j))},ye=()=>{E.value.enabled||(Q.value=null)},ve=()=>{L.value.enabled||(o.value&&(o.value=!1,O.value=!1,g(!1),y(!1),T(),r("closed"),b.value&&te(a.value)),ye(),r("blur"))},pe=(j,ne,ce=!1)=>{if(!j){Q.value=null;return}const Ve=Array.isArray(j)?!j.some(Je=>!_(Je)):_(j),Ne=m(j);Ve&&Ne&&(Q.value=j,ne&&(p.value=ce,N(),r("text-submit")))},Te=()=>{i.autoApply&&m(Q.value)&&Z(),oe()},_e=()=>o.value?ve():S(),$e=j=>{Q.value=j},Ge=()=>{E.value.enabled&&(h.value=!0,ue()),r("focus")},nt=()=>{if(E.value.enabled&&(h.value=!1,te(i.modelValue),p.value)){const j=EJ(f.value);j==null||j.focus()}r("blur")},pt=j=>{c.value&&c.value.updateMonthYear(0,{month:KS(j.month),year:KS(j.year)})},q=j=>{te(j??i.modelValue)},U=(j,ne)=>{var ce;(ce=c.value)==null||ce.switchView(j,ne)},K=j=>k.value.onClickOutside?k.value.onClickOutside(j):ve();return iee(u,d,()=>K(R)),e({closeMenu:ve,selectDate:N,clearValue:P,openMenu:S,onScroll:de,formatInputValue:ue,updateInternalModelValue:$e,setMonthYear:pt,parseModel:q,switchView:U}),(j,ne)=>(D(),J("div",{ref_key:"pickerWrapperRef",ref:f,class:De(B.value)},[ae(XJ,Ht({ref_key:"inputRef",ref:d,"input-value":x(b),"onUpdate:inputValue":ne[0]||(ne[0]=ce=>zt(b)?b.value=ce:null),"is-menu-open":o.value},j.$props,{onClear:P,onOpen:S,onSetInputDate:pe,onSetEmptyDate:x(Z),onSelectDate:N,onToggle:_e,onClose:ve,onFocus:Ge,onBlur:nt,onRealBlur:ne[1]||(ne[1]=ce=>h.value=!1)}),nr({_:2},[ut(x(I),(ce,Ve)=>({name:ce,fn:ge(Ne=>[Pe(j.$slots,ce,Tn(tr(Ne)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),ae(Us,{name:x(A)(x(H)),css:x(C)&&!x(L).enabled},{default:ge(()=>[o.value?(D(),he(Cd(j.teleport?oI:"div"),Ht({key:0,ref_key:"dpWrapMenuRef",ref:u},se.value,{class:{"dp--menu-wrapper":!x(L).enabled},style:x(L).enabled?void 0:x(M)}),{default:ge(()=>[ae(eC,Ht({ref_key:"dpMenuRef",ref:c},j.$props,{"internal-model-value":x(Q),"onUpdate:internalModelValue":ne[2]||(ne[2]=ce=>zt(Q)?Q.value=ce:null),class:{[G.value]:!0,"dp--menu-wrapper":j.teleport},style:j.teleport?x(M):void 0,"open-on-top":x(H),"arr-map-values":$.value,"no-overlay-focus":z.value,onClosePicker:ve,onSelectDate:N,onAutoApply:fe,onTimeUpdate:Te,onFlowStep:ne[3]||(ne[3]=ce=>j.$emit("flow-step",ce)),onUpdateMonthYear:ne[4]||(ne[4]=ce=>j.$emit("update-month-year",ce)),onInvalidSelect:ne[5]||(ne[5]=ce=>j.$emit("invalid-select",x(Q))),onAutoApplyInvalid:ne[6]||(ne[6]=ce=>j.$emit("invalid-select",ce)),onInvalidFixedRange:ne[7]||(ne[7]=ce=>j.$emit("invalid-fixed-range",ce)),onRecalculatePosition:x(W),onTooltipOpen:ne[8]||(ne[8]=ce=>j.$emit("tooltip-open",ce)),onTooltipClose:ne[9]||(ne[9]=ce=>j.$emit("tooltip-close",ce)),onTimePickerOpen:ne[10]||(ne[10]=ce=>j.$emit("time-picker-open",ce)),onTimePickerClose:ne[11]||(ne[11]=ce=>j.$emit("time-picker-close",ce)),onAmPmChange:ne[12]||(ne[12]=ce=>j.$emit("am-pm-change",ce)),onRangeStart:ne[13]||(ne[13]=ce=>j.$emit("range-start",ce)),onRangeEnd:ne[14]||(ne[14]=ce=>j.$emit("range-end",ce)),onDateUpdate:ne[15]||(ne[15]=ce=>j.$emit("date-update",ce)),onInvalidDate:ne[16]||(ne[16]=ce=>j.$emit("invalid-date",ce))}),nr({_:2},[ut(x(V),(ce,Ve)=>({name:ce,fn:ge(Ne=>[Pe(j.$slots,ce,Tn(tr({...Ne})))])}))]),1040,["internal-model-value","class","style","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])]),_:3},16,["class","style"])):ie("",!0)]),_:3},8,["name","css"])],2))}}),v_=(()=>{const t=see;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),oee=Object.freeze(Object.defineProperty({__proto__:null,default:v_},Symbol.toStringTag,{value:"Module"}));Object.entries(oee).forEach(([t,e])=>{t!=="default"&&(v_[t]=e)});const Ja=LI(S$);Ja.use(Qb);Ja.use(oY,{firebaseApp:tk,modules:[sY()]});Ja.use(ak);Ja.use(fL);Ja.component("VueDatePicker",v_);Ja.component(IS.name,IS);Ja.mount("#app");
