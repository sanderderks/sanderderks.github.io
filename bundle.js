var m3=Object.defineProperty;var g3=(t,e,n)=>e in t?m3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yo=(t,e,n)=>(g3(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gg(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const tn={},vu=[],ui=()=>{},v3=()=>!1,Kf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Xw=t=>t.startsWith("onUpdate:"),In=Object.assign,Qw=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},y3=Object.prototype.hasOwnProperty,Lt=(t,e)=>y3.call(t,e),ze=Array.isArray,yu=t=>hc(t)==="[object Map]",Sl=t=>hc(t)==="[object Set]",yS=t=>hc(t)==="[object Date]",b3=t=>hc(t)==="[object RegExp]",at=t=>typeof t=="function",Cn=t=>typeof t=="string",na=t=>typeof t=="symbol",sn=t=>t!==null&&typeof t=="object",Jw=t=>(sn(t)||at(t))&&at(t.then)&&at(t.catch),cP=Object.prototype.toString,hc=t=>cP.call(t),w3=t=>hc(t).slice(8,-1),dP=t=>hc(t)==="[object Object]",Zw=t=>Cn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bu=gg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},_3=/-(\w)/g,Qr=vg(t=>t.replace(_3,(e,n)=>n?n.toUpperCase():"")),T3=/\B([A-Z])/g,_i=vg(t=>t.replace(T3,"-$1").toLowerCase()),zf=vg(t=>t.charAt(0).toUpperCase()+t.slice(1)),fd=vg(t=>t?`on${zf(t)}`:""),cs=(t,e)=>!Object.is(t,e),wu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},em=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},jd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},tm=t=>{const e=Cn(t)?Number(t):NaN;return isNaN(e)?t:e};let bS;const fP=()=>bS||(bS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),S3="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",E3=gg(S3);function nr(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Cn(r)?A3(r):nr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Cn(t)||sn(t))return t}const I3=/;(?![^(]*\))/g,C3=/:([^]+)/,O3=/\/\*[^]*?\*\//g;function A3(t){const e={};return t.replace(O3,"").split(I3).forEach(n=>{if(n){const r=n.split(C3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ke(t){let e="";if(Cn(t))e=t;else if(ze(t))for(let n=0;n<t.length;n++){const r=ke(t[n]);r&&(e+=r+" ")}else if(sn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function xn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Cn(e)&&(t.class=ke(e)),n&&(t.style=nr(n)),t}const P3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",k3=gg(P3);function hP(t){return!!t||t===""}function x3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ra(t[r],e[r]);return n}function ra(t,e){if(t===e)return!0;let n=yS(t),r=yS(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=na(t),r=na(e),n||r)return t===e;if(n=ze(t),r=ze(e),n||r)return n&&r?x3(t,e):!1;if(n=sn(t),r=sn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ra(t[o],e[o]))return!1}}return String(t)===String(e)}function yg(t,e){return t.findIndex(n=>ra(n,e))}const Le=t=>Cn(t)?t:t==null?"":ze(t)||sn(t)&&(t.toString===cP||!at(t.toString))?JSON.stringify(t,pP,2):String(t),pP=(t,e)=>e&&e.__v_isRef?pP(t,e.value):yu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Xv(r,s)+" =>"]=i,n),{})}:Sl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Xv(n))}:na(e)?Xv(e):sn(e)&&!ze(e)&&!dP(e)?String(e):e,Xv=(t,e="")=>{var n;return na(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bi;class e1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=bi,!e&&bi&&(this.index=(bi.scopes||(bi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=bi;try{return bi=this,e()}finally{bi=n}}}on(){bi=this}off(){bi=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function bg(t){return new e1(t)}function mP(t,e=bi){e&&e.active&&e.effects.push(t)}function Gf(){return bi}function wg(t){bi&&bi.cleanups.push(t)}let Va;class Lu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,mP(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,El();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(D3(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Il()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=zo,n=Va;try{return zo=!0,Va=this,this._runnings++,wS(this),this.fn()}finally{_S(this),this._runnings--,Va=n,zo=e}}stop(){var e;this.active&&(wS(this),_S(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function D3(t){return t.value}function wS(t){t._trackId++,t._depsLength=0}function _S(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)gP(t.deps[e],t);t.deps.length=t._depsLength}}function gP(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function R3(t,e){t.effect instanceof Lu&&(t=t.effect.fn);const n=new Lu(t,ui,()=>{n.dirty&&n.run()});e&&(In(n,e),e.scope&&mP(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function N3(t){t.effect.stop()}let zo=!0,Rb=0;const vP=[];function El(){vP.push(zo),zo=!1}function Il(){const t=vP.pop();zo=t===void 0?!0:t}function t1(){Rb++}function n1(){for(Rb--;!Rb&&Nb.length;)Nb.shift()()}function yP(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&gP(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Nb=[];function bP(t,e,n){t1();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Nb.push(r.scheduler)))}n1()}const wP=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},nm=new WeakMap,Ba=Symbol(""),Mb=Symbol("");function mi(t,e,n){if(zo&&Va){let r=nm.get(t);r||nm.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=wP(()=>r.delete(n))),yP(Va,i)}}function Qs(t,e,n,r,i,s){const o=nm.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ze(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!na(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ze(t)?Zw(n)&&a.push(o.get("length")):(a.push(o.get(Ba)),yu(t)&&a.push(o.get(Mb)));break;case"delete":ze(t)||(a.push(o.get(Ba)),yu(t)&&a.push(o.get(Mb)));break;case"set":yu(t)&&a.push(o.get(Ba));break}t1();for(const l of a)l&&bP(l,4);n1()}function M3(t,e){var n;return(n=nm.get(t))==null?void 0:n.get(e)}const $3=gg("__proto__,__v_isRef,__isVue"),_P=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(na)),TS=L3();function L3(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Tt(this);for(let s=0,o=this.length;s<o;s++)mi(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Tt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){El(),t1();const r=Tt(this)[e].apply(this,n);return n1(),Il(),r}}),t}function F3(t){const e=Tt(this);return mi(e,"has",t),e.hasOwnProperty(t)}class TP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?AP:OP:s?CP:IP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ze(e);if(!i){if(o&&Lt(TS,n))return Reflect.get(TS,n,r);if(n==="hasOwnProperty")return F3}const a=Reflect.get(e,n,r);return(na(n)?_P.has(n):$3(n))||(i||mi(e,"get",n),s)?a:cn(a)?o&&Zw(n)?a:a.value:sn(a)?i?Sg(a):Dn(a):a}}class SP extends TP{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Za(s);if(!Hd(r)&&!Za(r)&&(s=Tt(s),r=Tt(r)),!ze(e)&&cn(s)&&!cn(r))return l?!1:(s.value=r,!0)}const o=ze(e)&&Zw(n)?Number(n)<e.length:Lt(e,n),a=Reflect.set(e,n,r,i);return e===Tt(i)&&(o?cs(r,s)&&Qs(e,"set",n,r):Qs(e,"add",n,r)),a}deleteProperty(e,n){const r=Lt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Qs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!na(n)||!_P.has(n))&&mi(e,"has",n),r}ownKeys(e){return mi(e,"iterate",ze(e)?"length":Ba),Reflect.ownKeys(e)}}class EP extends TP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const U3=new SP,V3=new EP,B3=new SP(!0),j3=new EP(!0),r1=t=>t,_g=t=>Reflect.getPrototypeOf(t);function $h(t,e,n=!1,r=!1){t=t.__v_raw;const i=Tt(t),s=Tt(e);n||(cs(e,s)&&mi(i,"get",e),mi(i,"get",s));const{has:o}=_g(i),a=r?r1:n?o1:Wd;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Lh(t,e=!1){const n=this.__v_raw,r=Tt(n),i=Tt(t);return e||(cs(t,i)&&mi(r,"has",t),mi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Fh(t,e=!1){return t=t.__v_raw,!e&&mi(Tt(t),"iterate",Ba),Reflect.get(t,"size",t)}function SS(t){t=Tt(t);const e=Tt(this);return _g(e).has.call(e,t)||(e.add(t),Qs(e,"add",t,t)),this}function ES(t,e){e=Tt(e);const n=Tt(this),{has:r,get:i}=_g(n);let s=r.call(n,t);s||(t=Tt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?cs(e,o)&&Qs(n,"set",t,e):Qs(n,"add",t,e),this}function IS(t){const e=Tt(this),{has:n,get:r}=_g(e);let i=n.call(e,t);i||(t=Tt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Qs(e,"delete",t,void 0),s}function CS(){const t=Tt(this),e=t.size!==0,n=t.clear();return e&&Qs(t,"clear",void 0,void 0),n}function Uh(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Tt(o),l=e?r1:t?o1:Wd;return!t&&mi(a,"iterate",Ba),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Vh(t,e,n){return function(...r){const i=this.__v_raw,s=Tt(i),o=yu(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?r1:e?o1:Wd;return!e&&mi(s,"iterate",l?Mb:Ba),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function bo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function H3(){const t={get(s){return $h(this,s)},get size(){return Fh(this)},has:Lh,add:SS,set:ES,delete:IS,clear:CS,forEach:Uh(!1,!1)},e={get(s){return $h(this,s,!1,!0)},get size(){return Fh(this)},has:Lh,add:SS,set:ES,delete:IS,clear:CS,forEach:Uh(!1,!0)},n={get(s){return $h(this,s,!0)},get size(){return Fh(this,!0)},has(s){return Lh.call(this,s,!0)},add:bo("add"),set:bo("set"),delete:bo("delete"),clear:bo("clear"),forEach:Uh(!0,!1)},r={get(s){return $h(this,s,!0,!0)},get size(){return Fh(this,!0)},has(s){return Lh.call(this,s,!0)},add:bo("add"),set:bo("set"),delete:bo("delete"),clear:bo("clear"),forEach:Uh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Vh(s,!1,!1),n[s]=Vh(s,!0,!1),e[s]=Vh(s,!1,!0),r[s]=Vh(s,!0,!0)}),[t,n,e,r]}const[W3,K3,z3,G3]=H3();function Tg(t,e){const n=e?t?G3:z3:t?K3:W3;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Lt(n,i)&&i in r?n:r,i,s)}const Y3={get:Tg(!1,!1)},q3={get:Tg(!1,!0)},X3={get:Tg(!0,!1)},Q3={get:Tg(!0,!0)},IP=new WeakMap,CP=new WeakMap,OP=new WeakMap,AP=new WeakMap;function J3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Z3(t){return t.__v_skip||!Object.isExtensible(t)?0:J3(w3(t))}function Dn(t){return Za(t)?t:Eg(t,!1,U3,Y3,IP)}function i1(t){return Eg(t,!1,B3,q3,CP)}function Sg(t){return Eg(t,!0,V3,X3,OP)}function eF(t){return Eg(t,!0,j3,Q3,AP)}function Eg(t,e,n,r,i){if(!sn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Z3(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function As(t){return Za(t)?As(t.__v_raw):!!(t&&t.__v_isReactive)}function Za(t){return!!(t&&t.__v_isReadonly)}function Hd(t){return!!(t&&t.__v_isShallow)}function s1(t){return As(t)||Za(t)}function Tt(t){const e=t&&t.__v_raw;return e?Tt(e):t}function Yf(t){return Object.isExtensible(t)&&em(t,"__v_skip",!0),t}const Wd=t=>sn(t)?Dn(t):t,o1=t=>sn(t)?Sg(t):t;class PP{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Lu(()=>e(this._value),()=>_u(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Tt(this);return(!e._cacheable||e.effect.dirty)&&cs(e._value,e._value=e.effect.run())&&_u(e,4),a1(e),e.effect._dirtyLevel>=2&&_u(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function tF(t,e,n=!1){let r,i;const s=at(t);return s?(r=t,i=ui):(r=t.get,i=t.set),new PP(r,i,s||!i,n)}function a1(t){var e;zo&&Va&&(t=Tt(t),yP(Va,(e=t.dep)!=null?e:t.dep=wP(()=>t.dep=void 0,t instanceof PP?t:void 0)))}function _u(t,e=4,n){t=Tt(t);const r=t.dep;r&&bP(r,e)}function cn(t){return!!(t&&t.__v_isRef===!0)}function re(t){return xP(t,!1)}function kP(t){return xP(t,!0)}function xP(t,e){return cn(t)?t:new nF(t,e)}class nF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Tt(e),this._value=n?e:Wd(e)}get value(){return a1(this),this._value}set value(e){const n=this.__v_isShallow||Hd(e)||Za(e);e=n?e:Tt(e),cs(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Wd(e),_u(this,4))}}function rF(t){_u(t,4)}function P(t){return cn(t)?t.value:t}function iF(t){return at(t)?t():P(t)}const sF={get:(t,e,n)=>P(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return cn(i)&&!cn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function l1(t){return As(t)?t:new Proxy(t,sF)}class oF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>a1(this),()=>_u(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function DP(t){return new oF(t)}function RP(t){const e=ze(t)?new Array(t.length):{};for(const n in t)e[n]=NP(t,n);return e}class aF{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return M3(Tt(this._object),this._key)}}class lF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Fu(t,e,n){return cn(t)?t:at(t)?new lF(t):sn(t)&&arguments.length>1?NP(t,e,n):re(t)}function NP(t,e,n){const r=t[e];return cn(r)?r:new aF(t,e,n)}const uF={GET:"get",HAS:"has",ITERATE:"iterate"},cF={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dF(t,e){}const fF={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},hF={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Js(t,e,n,r){try{return r?t(...r):t()}catch(i){Cl(i,e,n)}}function Ii(t,e,n,r){if(at(t)){const s=Js(t,e,n,r);return s&&Jw(s)&&s.catch(o=>{Cl(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Ii(t[s],e,n,r));return i}function Cl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Js(l,null,10,[t,o,a]);return}}pF(t,n,i,r)}function pF(t,e,n,r=!0){console.error(t)}let Kd=!1,$b=!1;const Mr=[];let ys=0;const Tu=[];let xo=null,xa=0;const MP=Promise.resolve();let u1=null;function Wn(t){const e=u1||MP;return t?e.then(this?t.bind(this):t):e}function mF(t){let e=ys+1,n=Mr.length;for(;e<n;){const r=e+n>>>1,i=Mr[r],s=zd(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Ig(t){(!Mr.length||!Mr.includes(t,Kd&&t.allowRecurse?ys+1:ys))&&(t.id==null?Mr.push(t):Mr.splice(mF(t.id),0,t),$P())}function $P(){!Kd&&!$b&&($b=!0,u1=MP.then(LP))}function gF(t){const e=Mr.indexOf(t);e>ys&&Mr.splice(e,1)}function rm(t){ze(t)?Tu.push(...t):(!xo||!xo.includes(t,t.allowRecurse?xa+1:xa))&&Tu.push(t),$P()}function OS(t,e,n=Kd?ys+1:0){for(;n<Mr.length;n++){const r=Mr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Mr.splice(n,1),n--,r()}}}function im(t){if(Tu.length){const e=[...new Set(Tu)].sort((n,r)=>zd(n)-zd(r));if(Tu.length=0,xo){xo.push(...e);return}for(xo=e,xa=0;xa<xo.length;xa++)xo[xa]();xo=null,xa=0}}const zd=t=>t.id==null?1/0:t.id,vF=(t,e)=>{const n=zd(t)-zd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function LP(t){$b=!1,Kd=!0,Mr.sort(vF);try{for(ys=0;ys<Mr.length;ys++){const e=Mr[ys];e&&e.active!==!1&&Js(e,null,14)}}finally{ys=0,Mr.length=0,im(),Kd=!1,u1=null,(Mr.length||Tu.length)&&LP()}}let Ql,Bh=[];function FP(t,e){var n,r;Ql=t,Ql?(Ql.enabled=!0,Bh.forEach(({event:i,args:s})=>Ql.emit(i,...s)),Bh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{FP(s,e)}),setTimeout(()=>{Ql||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Bh=[])},3e3)):Bh=[]}function yF(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||tn;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||tn;f&&(i=n.map(h=>Cn(h)?h.trim():h)),d&&(i=n.map(jd))}let a,l=r[a=fd(e)]||r[a=fd(Qr(e))];!l&&s&&(l=r[a=fd(_i(e))]),l&&Ii(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ii(u,t,6,i)}}function UP(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!at(t)){const l=u=>{const c=UP(u,e,!0);c&&(a=!0,In(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(sn(t)&&r.set(t,null),null):(ze(s)?s.forEach(l=>o[l]=null):In(o,s),sn(t)&&r.set(t,o),o)}function Cg(t,e){return!t||!Kf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Lt(t,e[0].toLowerCase()+e.slice(1))||Lt(t,_i(e))||Lt(t,e))}let Qn=null,Og=null;function Gd(t){const e=Qn;return Qn=t,Og=t&&t.type.__scopeId||null,e}function VP(t){Og=t}function BP(){Og=null}const bF=t=>ce;function ce(t,e=Qn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Wb(-1);const s=Gd(e);let o;try{o=t(...i)}finally{Gd(s),r._d&&Wb(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Pp(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t;let g,v;const y=Gd(t);try{if(n.shapeFlag&4){const b=i||r,w=b;g=wi(c.call(w,b,d,s,h,f,p)),v=l}else{const b=e;g=wi(b.length>1?b(s,{attrs:l,slots:a,emit:u}):b(s,null)),v=e.props?l:_F(l)}}catch(b){md.length=0,Cl(b,t,1),g=Z(Ur)}let _=g;if(v&&m!==!1){const b=Object.keys(v),{shapeFlag:w}=_;b.length&&w&7&&(o&&b.some(Xw)&&(v=TF(v,o)),_=Ns(_,v))}return n.dirs&&(_=Ns(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),g=_,Gd(y),g}function wF(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(ia(i)){if(i.type!==Ur||i.children==="v-if"){if(n)return;n=i}}else return}return n}const _F=t=>{let e;for(const n in t)(n==="class"||n==="style"||Kf(n))&&((e||(e={}))[n]=t[n]);return e},TF=(t,e)=>{const n={};for(const r in t)(!Xw(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function SF(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?AS(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!Cg(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?AS(r,o,u):!0:!!o;return!1}function AS(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Cg(n,s))return!0}return!1}function c1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const d1="components",EF="directives";function En(t,e){return f1(d1,t,!0,e)||t}const jP=Symbol.for("v-ndc");function gn(t){return Cn(t)?f1(d1,t,!1)||t:t||jP}function qf(t){return f1(EF,t)}function f1(t,e,n=!0,r=!1){const i=Qn||er;if(i){const s=i.type;if(t===d1){const a=qb(s,!1);if(a&&(a===e||a===Qr(e)||a===zf(Qr(e))))return s}const o=PS(i[t]||s[t],e)||PS(i.appContext[t],e);return!o&&r?s:o}}function PS(t,e){return t&&(t[e]||t[Qr(e)]||t[zf(Qr(e))])}const HP=t=>t.__isSuspense;let Lb=0;const IF={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)OF(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}AF(t,e,n,r,i,o,a,l,u)}},hydrate:PF,create:h1,normalize:kF},CF=IF;function Yd(t,e){const n=t.props&&t.props[e];at(n)&&n()}function OF(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=t.suspense=h1(t,i,r,e,d,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,d,null,r,f,s,o),f.deps>0?(Yd(t,"onPending"),Yd(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Su(f,t.ssFallback)):f.resolve(!1,!0)}function AF(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=d;if(m)d.pendingBranch=f,es(f,m)?(l(m,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():g&&(v||(l(p,h,n,r,i,null,s,o,a),Su(d,h)))):(d.pendingId=Lb++,v?(d.isHydrating=!1,d.activeBranch=m):u(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),g?(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,h,n,r,i,null,s,o,a),Su(d,h))):p&&es(f,p)?(l(p,f,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&es(f,p))l(p,f,n,r,i,d,s,o,a),Su(d,f);else if(Yd(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=Lb++,l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:y,pendingId:_}=d;y>0?setTimeout(()=>{d.pendingId===_&&d.fallback(h)},y):y===0&&d.fallback(h)}}function h1(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:m,remove:g}}=u;let v;const y=xF(t);y&&e!=null&&e.pendingBranch&&(v=e.pendingId,e.deps++);const _=t.props?tm(t.props.timeout):void 0,b=s,w={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:Lb++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(T=!1,x=!1){const{vnode:A,activeBranch:O,pendingBranch:E,pendingId:M,effects:$,parentComponent:D,container:k}=w;let N=!1;w.isHydrating?w.isHydrating=!1:T||(N=O&&E.transition&&E.transition.mode==="out-in",N&&(O.transition.afterLeave=()=>{M===w.pendingId&&(f(E,k,s===b?p(O):s,0),rm($))}),O&&(m(O.el)!==w.hiddenContainer&&(s=p(O)),h(O,D,w,!0)),N||f(E,k,s,0)),Su(w,E),w.pendingBranch=null,w.isInFallback=!1;let R=w.parent,B=!1;for(;R;){if(R.pendingBranch){R.effects.push(...$),B=!0;break}R=R.parent}!B&&!N&&rm($),w.effects=[],y&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!x&&e.resolve()),Yd(A,"onResolve")},fallback(T){if(!w.pendingBranch)return;const{vnode:x,activeBranch:A,parentComponent:O,container:E,namespace:M}=w;Yd(x,"onFallback");const $=p(A),D=()=>{w.isInFallback&&(d(null,T,E,$,O,null,M,a,l),Su(w,T))},k=T.transition&&T.transition.mode==="out-in";k&&(A.transition.afterLeave=D),w.isInFallback=!0,h(A,O,null,!0),k||D()},move(T,x,A){w.activeBranch&&f(w.activeBranch,T,x,A),w.container=T},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(T,x){const A=!!w.pendingBranch;A&&w.deps++;const O=T.vnode.el;T.asyncDep.catch(E=>{Cl(E,T,0)}).then(E=>{if(T.isUnmounted||w.isUnmounted||w.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:M}=T;Gb(T,E,!1),O&&(M.el=O);const $=!O&&T.subTree.el;x(T,M,m(O||T.subTree.el),O?null:p(T.subTree),w,o,l),$&&g($),c1(T,M.el),A&&--w.deps===0&&w.resolve()})},unmount(T,x){w.isUnmounted=!0,w.activeBranch&&h(w.activeBranch,n,T,x),w.pendingBranch&&h(w.pendingBranch,n,T,x)}};return w}function PF(t,e,n,r,i,s,o,a,l){const u=e.suspense=h1(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function kF(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=kS(r?n.default:n),t.ssFallback=r?kS(n.fallback):Z(Ur)}function kS(t){let e;if(at(t)){const n=nl&&t._c;n&&(t._d=!1,S()),t=t(),n&&(t._d=!0,e=ci,Tk())}return ze(t)&&(t=wF(t)),t=wi(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function WP(t,e){e&&e.pendingBranch?ze(t)?e.effects.push(...t):e.effects.push(t):rm(t)}function Su(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,c1(r,i))}function xF(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const KP=Symbol.for("v-scx"),zP=()=>Jr(KP);function p1(t,e){return Xf(t,null,e)}function GP(t,e){return Xf(t,null,{flush:"post"})}function YP(t,e){return Xf(t,null,{flush:"sync"})}const jh={};function It(t,e,n){return Xf(t,e,n)}function Xf(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=tn){if(e&&s){const T=e;e=(...x)=>{T(...x),w()}}const l=er,u=T=>r===!0?T:Na(T,r===!1?1:void 0);let c,d=!1,f=!1;if(cn(t)?(c=()=>t.value,d=Hd(t)):As(t)?(c=()=>u(t),d=!0):ze(t)?(f=!0,d=t.some(T=>As(T)||Hd(T)),c=()=>t.map(T=>{if(cn(T))return T.value;if(As(T))return u(T);if(at(T))return Js(T,l,2)})):at(t)?e?c=()=>Js(t,l,2):c=()=>(h&&h(),Ii(t,l,3,[p])):c=ui,e&&r){const T=c;c=()=>Na(T())}let h,p=T=>{h=_.onStop=()=>{Js(T,l,4),h=_.onStop=void 0}},m;if(Zf)if(p=ui,e?n&&Ii(e,l,3,[c(),f?[]:void 0,p]):c(),i==="sync"){const T=zP();m=T.__watcherHandles||(T.__watcherHandles=[])}else return ui;let g=f?new Array(t.length).fill(jh):jh;const v=()=>{if(!(!_.active||!_.dirty))if(e){const T=_.run();(r||d||(f?T.some((x,A)=>cs(x,g[A])):cs(T,g)))&&(h&&h(),Ii(e,l,3,[T,g===jh?void 0:f&&g[0]===jh?[]:g,p]),g=T)}else _.run()};v.allowRecurse=!!e;let y;i==="sync"?y=v:i==="post"?y=()=>_r(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),y=()=>Ig(v));const _=new Lu(c,ui,y),b=Gf(),w=()=>{_.stop(),b&&Qw(b.effects,_)};return e?n?v():g=_.run():i==="post"?_r(_.run.bind(_),l&&l.suspense):_.run(),m&&m.push(w),w}function DF(t,e,n){const r=this.proxy,i=Cn(t)?t.includes(".")?qP(r,t):()=>r[t]:t.bind(r,r);let s;at(e)?s=e:(s=e.handler,n=e);const o=rl(this),a=Xf(i,s.bind(r),n);return o(),a}function qP(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Na(t,e,n=0,r){if(!sn(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),cn(t))Na(t.value,e,n,r);else if(ze(t))for(let i=0;i<t.length;i++)Na(t[i],e,n,r);else if(Sl(t)||yu(t))t.forEach(i=>{Na(i,e,n,r)});else if(dP(t))for(const i in t)Na(t[i],e,n,r);return t}function Ci(t,e){if(Qn===null)return t;const n=Dg(Qn)||Qn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=tn]=e[i];s&&(at(s)&&(s={mounted:s,updated:s}),s.deep&&Na(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function gs(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(El(),Ii(l,n,8,[t.el,a,t,e]),Il())}}const Do=Symbol("_leaveCb"),Hh=Symbol("_enterCb");function m1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{t.isMounted=!0}),Jf(()=>{t.isUnmounting=!0}),t}const Ri=[Function,Array],g1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ri,onEnter:Ri,onAfterEnter:Ri,onEnterCancelled:Ri,onBeforeLeave:Ri,onLeave:Ri,onAfterLeave:Ri,onLeaveCancelled:Ri,onBeforeAppear:Ri,onAppear:Ri,onAfterAppear:Ri,onAppearCancelled:Ri},RF={name:"BaseTransition",props:g1,setup(t,{slots:e}){const n=Ki(),r=m1();return()=>{const i=e.default&&Ag(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const f of i)if(f.type!==Ur){s=f;break}}const o=Tt(t),{mode:a}=o;if(r.isLeaving)return Qv(s);const l=xS(s);if(!l)return Qv(s);const u=Uu(l,o,r,n);el(l,u);const c=n.subTree,d=c&&xS(c);if(d&&d.type!==Ur&&!es(l,d)){const f=Uu(d,o,r,n);if(el(d,f),a==="out-in")return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Qv(s);a==="in-out"&&l.type!==Ur&&(f.delayLeave=(h,p,m)=>{const g=QP(r,d);g[String(d.key)]=d,h[Do]=()=>{p(),h[Do]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}},XP=RF;function QP(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Uu(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=e,_=String(t.key),b=QP(n,t),w=(A,O)=>{A&&Ii(A,r,9,O)},T=(A,O)=>{const E=O[1];w(A,O),ze(A)?A.every(M=>M.length<=1)&&E():A.length<=1&&E()},x={mode:s,persisted:o,beforeEnter(A){let O=a;if(!n.isMounted)if(i)O=m||a;else return;A[Do]&&A[Do](!0);const E=b[_];E&&es(t,E)&&E.el[Do]&&E.el[Do](),w(O,[A])},enter(A){let O=l,E=u,M=c;if(!n.isMounted)if(i)O=g||l,E=v||u,M=y||c;else return;let $=!1;const D=A[Hh]=k=>{$||($=!0,k?w(M,[A]):w(E,[A]),x.delayedLeave&&x.delayedLeave(),A[Hh]=void 0)};O?T(O,[A,D]):D()},leave(A,O){const E=String(t.key);if(A[Hh]&&A[Hh](!0),n.isUnmounting)return O();w(d,[A]);let M=!1;const $=A[Do]=D=>{M||(M=!0,O(),D?w(p,[A]):w(h,[A]),A[Do]=void 0,b[E]===t&&delete b[E])};b[E]=t,f?T(f,[A,$]):$()},clone(A){return Uu(A,e,n,r)}};return x}function Qv(t){if(Qf(t))return t=Ns(t),t.children=null,t}function xS(t){return Qf(t)?t.children?t.children[0]:void 0:t}function el(t,e){t.shapeFlag&6&&t.component?el(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ag(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Te?(o.patchFlag&128&&i++,r=r.concat(Ag(o.children,e,a))):(e||o.type!==Ur)&&r.push(a!=null?Ns(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ae(t,e){return at(t)?In({name:t.name},e,{setup:t}):t}const ja=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function NF(t){at(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,g)=>{a(p,()=>m(d()),()=>g(p),c+1)});throw p}).then(p=>h!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ae({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const h=er;if(u)return()=>Jv(u,h);const p=y=>{l=null,Cl(y,h,13,!r)};if(o&&h.suspense||Zf)return f().then(y=>()=>Jv(y,h)).catch(y=>(p(y),()=>r?Z(r,{error:y}):null));const m=re(!1),g=re(),v=re(!!i);return i&&setTimeout(()=>{v.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!g.value){const y=new Error(`Async component timed out after ${s}ms.`);p(y),g.value=y}},s),f().then(()=>{m.value=!0,h.parent&&Qf(h.parent.vnode)&&(h.parent.effect.dirty=!0,Ig(h.parent.update))}).catch(y=>{p(y),g.value=y}),()=>{if(m.value&&u)return Jv(u,h);if(g.value&&r)return Z(r,{error:g.value});if(n&&!v.value)return Z(n)}}})}function Jv(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=Z(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Qf=t=>t.type.__isKeepAlive,MF={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ki(),r=n.ctx;if(!r.renderer)return()=>{const y=e.default&&e.default();return y&&y.length===1?y[0]:y};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(y,_,b,w,T)=>{const x=y.component;u(y,_,b,0,a),l(x.vnode,y,_,b,x,a,w,y.slotScopeIds,T),_r(()=>{x.isDeactivated=!1,x.a&&wu(x.a);const A=y.props&&y.props.onVnodeMounted;A&&oi(A,x.parent,y)},a)},r.deactivate=y=>{const _=y.component;u(y,f,null,1,a),_r(()=>{_.da&&wu(_.da);const b=y.props&&y.props.onVnodeUnmounted;b&&oi(b,_.parent,y),_.isDeactivated=!0},a)};function h(y){Zv(y),c(y,n,a,!0)}function p(y){i.forEach((_,b)=>{const w=qb(_.type);w&&(!y||!y(w))&&m(b)})}function m(y){const _=i.get(y);!o||!es(_,o)?h(_):o&&Zv(o),i.delete(y),s.delete(y)}It(()=>[t.include,t.exclude],([y,_])=>{y&&p(b=>qc(y,b)),_&&p(b=>!qc(_,b))},{flush:"post",deep:!0});let g=null;const v=()=>{g!=null&&i.set(g,ey(n.subTree))};return Vt(v),kg(v),Jf(()=>{i.forEach(y=>{const{subTree:_,suspense:b}=n,w=ey(_);if(y.type===w.type&&y.key===w.key){Zv(w);const T=w.component.da;T&&_r(T,b);return}h(y)})}),()=>{if(g=null,!e.default)return null;const y=e.default(),_=y[0];if(y.length>1)return o=null,y;if(!ia(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let b=ey(_);const w=b.type,T=qb(ja(b)?b.type.__asyncResolved||{}:w),{include:x,exclude:A,max:O}=t;if(x&&(!T||!qc(x,T))||A&&T&&qc(A,T))return o=b,_;const E=b.key==null?w:b.key,M=i.get(E);return b.el&&(b=Ns(b),_.shapeFlag&128&&(_.ssContent=b)),g=E,M?(b.el=M.el,b.component=M.component,b.transition&&el(b,b.transition),b.shapeFlag|=512,s.delete(E),s.add(E)):(s.add(E),O&&s.size>parseInt(O,10)&&m(s.values().next().value)),b.shapeFlag|=256,o=b,HP(_.type)?_:b}}},$F=MF;function qc(t,e){return ze(t)?t.some(n=>qc(n,e)):Cn(t)?t.split(",").includes(e):b3(t)?t.test(e):!1}function JP(t,e){ek(t,"a",e)}function ZP(t,e){ek(t,"da",e)}function ek(t,e,n=er){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Pg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Qf(i.parent.vnode)&&LF(r,e,n,i),i=i.parent}}function LF(t,e,n,r){const i=Pg(e,t,r,!0);mo(()=>{Qw(r[e],i)},n)}function Zv(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ey(t){return t.shapeFlag&128?t.ssContent:t}function Pg(t,e,n=er,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;El();const a=rl(n),l=Ii(e,n,t,o);return a(),Il(),l});return r?i.unshift(s):i.push(s),s}}const po=t=>(e,n=er)=>(!Zf||t==="sp")&&Pg(t,(...r)=>e(...r),n),tk=po("bm"),Vt=po("m"),v1=po("bu"),kg=po("u"),Jf=po("bum"),mo=po("um"),nk=po("sp"),rk=po("rtg"),ik=po("rtc");function sk(t,e=er){Pg("ec",t,e)}function st(t,e,n,r){let i;const s=n&&n[r];if(ze(t)||Cn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(sn(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function Jn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ze(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function fe(t,e,n={},r,i){if(Qn.isCE||Qn.parent&&ja(Qn.parent)&&Qn.parent.isCE)return e!=="default"&&(n.name=e),Z("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),S();const o=s&&ok(s(n)),a=ie(Te,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function ok(t){return t.some(e=>ia(e)?!(e.type===Ur||e.type===Te&&!ok(e.children)):!0)?t:null}function FF(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:fd(r)]=t[r];return n}const Fb=t=>t?Ck(t)?Dg(t)||t.proxy:Fb(t.parent):null,hd=In(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fb(t.parent),$root:t=>Fb(t.root),$emit:t=>t.emit,$options:t=>y1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ig(t.update)}),$nextTick:t=>t.n||(t.n=Wn.bind(t.proxy)),$watch:t=>DF.bind(t)}),ty=(t,e)=>t!==tn&&!t.__isScriptSetup&&Lt(t,e),Ub={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(ty(r,e))return o[e]=1,r[e];if(i!==tn&&Lt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Lt(u,e))return o[e]=3,s[e];if(n!==tn&&Lt(n,e))return o[e]=4,n[e];Vb&&(o[e]=0)}}const c=hd[e];let d,f;if(c)return e==="$attrs"&&mi(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==tn&&Lt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Lt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return ty(i,e)?(i[e]=n,!0):r!==tn&&Lt(r,e)?(r[e]=n,!0):Lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==tn&&Lt(t,o)||ty(e,o)||(a=s[0])&&Lt(a,o)||Lt(r,o)||Lt(hd,o)||Lt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},UF=In({},Ub,{get(t,e){if(e!==Symbol.unscopables)return Ub.get(t,e,t)},has(t,e){return e[0]!=="_"&&!E3(e)}});function VF(){return null}function BF(){return null}function jF(t){}function HF(t){}function WF(){return null}function KF(){}function zF(t,e){return null}function ca(){return ak().slots}function GF(){return ak().attrs}function ak(){const t=Ki();return t.setupContext||(t.setupContext=Pk(t))}function qd(t){return ze(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function YF(t,e){const n=qd(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?ze(i)||at(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function qF(t,e){return!t||!e?t||e:ze(t)&&ze(e)?t.concat(e):In({},qd(t),qd(e))}function XF(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function QF(t){const e=Ki();let n=t();return zb(),Jw(n)&&(n=n.catch(r=>{throw rl(e),r})),[n,()=>rl(e)]}let Vb=!0;function JF(t){const e=y1(t),n=t.proxy,r=t.ctx;Vb=!1,e.beforeCreate&&DS(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:_,unmounted:b,render:w,renderTracked:T,renderTriggered:x,errorCaptured:A,serverPrefetch:O,expose:E,inheritAttrs:M,components:$,directives:D,filters:k}=e;if(u&&ZF(u,r,null),o)for(const B in o){const G=o[B];at(G)&&(r[B]=G.bind(n))}if(i){const B=i.call(n,n);sn(B)&&(t.data=Dn(B))}if(Vb=!0,s)for(const B in s){const G=s[B],F=at(G)?G.bind(n,n):at(G.get)?G.get.bind(n,n):ui,I=!at(G)&&at(G.set)?G.set.bind(n):ui,ee=J({get:F,set:I});Object.defineProperty(r,B,{enumerable:!0,configurable:!0,get:()=>ee.value,set:te=>ee.value=te})}if(a)for(const B in a)lk(a[B],r,n,B);if(l){const B=at(l)?l.call(n):l;Reflect.ownKeys(B).forEach(G=>{Iu(G,B[G])})}c&&DS(c,t,"c");function R(B,G){ze(G)?G.forEach(F=>B(F.bind(n))):G&&B(G.bind(n))}if(R(tk,d),R(Vt,f),R(v1,h),R(kg,p),R(JP,m),R(ZP,g),R(sk,A),R(ik,T),R(rk,x),R(Jf,y),R(mo,b),R(nk,O),ze(E))if(E.length){const B=t.exposed||(t.exposed={});E.forEach(G=>{Object.defineProperty(B,G,{get:()=>n[G],set:F=>n[G]=F})})}else t.exposed||(t.exposed={});w&&t.render===ui&&(t.render=w),M!=null&&(t.inheritAttrs=M),$&&(t.components=$),D&&(t.directives=D)}function ZF(t,e,n=ui){ze(t)&&(t=Bb(t));for(const r in t){const i=t[r];let s;sn(i)?"default"in i?s=Jr(i.from||r,i.default,!0):s=Jr(i.from||r):s=Jr(i),cn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function DS(t,e,n){Ii(ze(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function lk(t,e,n,r){const i=r.includes(".")?qP(n,r):()=>n[r];if(Cn(t)){const s=e[t];at(s)&&It(i,s)}else if(at(t))It(i,t.bind(n));else if(sn(t))if(ze(t))t.forEach(s=>lk(s,e,n,r));else{const s=at(t.handler)?t.handler.bind(n):e[t.handler];at(s)&&It(i,s,t)}}function y1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>sm(l,u,o,!0)),sm(l,e,o)),sn(e)&&s.set(e,l),l}function sm(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&sm(t,s,n,!0),i&&i.forEach(o=>sm(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=e4[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const e4={data:RS,props:NS,emits:NS,methods:Xc,computed:Xc,beforeCreate:Gr,created:Gr,beforeMount:Gr,mounted:Gr,beforeUpdate:Gr,updated:Gr,beforeDestroy:Gr,beforeUnmount:Gr,destroyed:Gr,unmounted:Gr,activated:Gr,deactivated:Gr,errorCaptured:Gr,serverPrefetch:Gr,components:Xc,directives:Xc,watch:n4,provide:RS,inject:t4};function RS(t,e){return e?t?function(){return In(at(t)?t.call(this,this):t,at(e)?e.call(this,this):e)}:e:t}function t4(t,e){return Xc(Bb(t),Bb(e))}function Bb(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Gr(t,e){return t?[...new Set([].concat(t,e))]:e}function Xc(t,e){return t?In(Object.create(null),t,e):e}function NS(t,e){return t?ze(t)&&ze(e)?[...new Set([...t,...e])]:In(Object.create(null),qd(t),qd(e??{})):e}function n4(t,e){if(!t)return e;if(!e)return t;const n=In(Object.create(null),t);for(const r in e)n[r]=Gr(t[r],e[r]);return n}function uk(){return{app:null,config:{isNativeTag:v3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let r4=0;function i4(t,e){return function(r,i=null){at(r)||(r=In({},r)),i!=null&&!sn(i)&&(i=null);const s=uk(),o=new WeakSet;let a=!1;const l=s.app={_uid:r4++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:xk,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&at(u.install)?(o.add(u),u.install(l,...c)):at(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const f=Z(r,i);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,Dg(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Eu;Eu=l;try{return u()}finally{Eu=c}}};return l}}let Eu=null;function Iu(t,e){if(er){let n=er.provides;const r=er.parent&&er.parent.provides;r===n&&(n=er.provides=Object.create(r)),n[t]=e}}function Jr(t,e,n=!1){const r=er||Qn;if(r||Eu){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Eu._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&at(e)?e.call(r&&r.proxy):e}}function ck(){return!!(er||Qn||Eu)}function s4(t,e,n,r=!1){const i={},s={};em(s,xg,1),t.propsDefaults=Object.create(null),dk(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:i1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function o4(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Tt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Cg(t.emitsOptions,f))continue;const h=e[f];if(l)if(Lt(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const p=Qr(f);i[p]=jb(l,a,p,h,t,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{dk(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Lt(e,d)&&((c=_i(d))===d||!Lt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=jb(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Lt(e,d))&&(delete s[d],u=!0)}u&&Qs(t,"set","$attrs")}function dk(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bu(l))continue;const u=e[l];let c;i&&Lt(i,c=Qr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Cg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Tt(n),u=a||tn;for(let c=0;c<s.length;c++){const d=s[c];n[d]=jb(i,l,d,u[d],t,!Lt(u,d))}}return o}function jb(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Lt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&at(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=rl(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===_i(n))&&(r=!0))}return r}function fk(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!at(t)){const c=d=>{l=!0;const[f,h]=fk(d,e,!0);In(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return sn(t)&&r.set(t,vu),vu;if(ze(s))for(let c=0;c<s.length;c++){const d=Qr(s[c]);MS(d)&&(o[d]=tn)}else if(s)for(const c in s){const d=Qr(c);if(MS(d)){const f=s[c],h=o[d]=ze(f)||at(f)?{type:f}:In({},f);if(h){const p=FS(Boolean,h.type),m=FS(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||Lt(h,"default"))&&a.push(d)}}}const u=[o,a];return sn(t)&&r.set(t,u),u}function MS(t){return t[0]!=="$"&&!bu(t)}function $S(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function LS(t,e){return $S(t)===$S(e)}function FS(t,e){return ze(e)?e.findIndex(n=>LS(n,t)):at(e)&&LS(e,t)?0:-1}const hk=t=>t[0]==="_"||t==="$stable",b1=t=>ze(t)?t.map(wi):[wi(t)],a4=(t,e,n)=>{if(e._n)return e;const r=ce((...i)=>b1(e(...i)),n);return r._c=!1,r},pk=(t,e,n)=>{const r=t._ctx;for(const i in t){if(hk(i))continue;const s=t[i];if(at(s))e[i]=a4(i,s,r);else if(s!=null){const o=b1(s);e[i]=()=>o}}},mk=(t,e)=>{const n=b1(e);t.slots.default=()=>n},l4=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Tt(e),em(e,"_",n)):pk(e,t.slots={})}else t.slots={},e&&mk(t,e);em(t.slots,xg,1)},u4=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=tn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(In(i,e),!n&&a===1&&delete i._):(s=!e.$stable,pk(e,i)),o=e}else e&&(mk(t,e),o={default:1});if(s)for(const a in i)!hk(a)&&o[a]==null&&delete i[a]};function om(t,e,n,r,i=!1){if(ze(t)){t.forEach((f,h)=>om(f,e&&(ze(e)?e[h]:e),n,r,i));return}if(ja(r)&&!i)return;const s=r.shapeFlag&4?Dg(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===tn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Cn(u)?(c[u]=null,Lt(d,u)&&(d[u]=null)):cn(u)&&(u.value=null)),at(l))Js(l,a,12,[o,c]);else{const f=Cn(l),h=cn(l);if(f||h){const p=()=>{if(t.f){const m=f?Lt(d,l)?d[l]:c[l]:l.value;i?ze(m)&&Qw(m,s):ze(m)?m.includes(s)||m.push(s):f?(c[l]=[s],Lt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,Lt(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,_r(p,n)):p()}}}let wo=!1;const c4=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",d4=t=>t.namespaceURI.includes("MathML"),Wh=t=>{if(c4(t))return"svg";if(d4(t))return"mathml"},Kh=t=>t.nodeType===8;function f4(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(_,b)=>{if(!b.hasChildNodes()){n(null,_,b),im(),b._vnode=_;return}wo=!1,d(b.firstChild,_,null,null,null),im(),b._vnode=_,wo&&console.error("Hydration completed but contains mismatches.")},d=(_,b,w,T,x,A=!1)=>{const O=Kh(_)&&_.data==="[",E=()=>m(_,b,w,T,x,O),{type:M,ref:$,shapeFlag:D,patchFlag:k}=b;let N=_.nodeType;b.el=_,k===-2&&(A=!1,b.dynamicChildren=null);let R=null;switch(M){case tl:N!==3?b.children===""?(l(b.el=i(""),o(_),_),R=_):R=E():(_.data!==b.children&&(wo=!0,_.data=b.children),R=s(_));break;case Ur:y(_)?(R=s(_),v(b.el=_.content.firstChild,_,w)):N!==8||O?R=E():R=s(_);break;case Ha:if(O&&(_=s(_),N=_.nodeType),N===1||N===3){R=_;const B=!b.children.length;for(let G=0;G<b.staticCount;G++)B&&(b.children+=R.nodeType===1?R.outerHTML:R.data),G===b.staticCount-1&&(b.anchor=R),R=s(R);return O?s(R):R}else E();break;case Te:O?R=p(_,b,w,T,x,A):R=E();break;default:if(D&1)(N!==1||b.type.toLowerCase()!==_.tagName.toLowerCase())&&!y(_)?R=E():R=f(_,b,w,T,x,A);else if(D&6){b.slotScopeIds=x;const B=o(_);if(O?R=g(_):Kh(_)&&_.data==="teleport start"?R=g(_,_.data,"teleport end"):R=s(_),e(b,B,null,w,T,Wh(B),A),ja(b)){let G;O?(G=Z(Te),G.anchor=R?R.previousSibling:B.lastChild):G=_.nodeType===3?Qe(""):Z("div"),G.el=_,b.component.subTree=G}}else D&64?N!==8?R=E():R=b.type.hydrate(_,b,w,T,x,A,t,h):D&128&&(R=b.type.hydrate(_,b,w,T,Wh(o(_)),x,A,t,d))}return $!=null&&om($,null,T,b),R},f=(_,b,w,T,x,A)=>{A=A||!!b.dynamicChildren;const{type:O,props:E,patchFlag:M,shapeFlag:$,dirs:D,transition:k}=b,N=O==="input"||O==="option";if(N||M!==-1){D&&gs(b,null,w,"created");let R=!1;if(y(_)){R=bk(T,k)&&w&&w.vnode.props&&w.vnode.props.appear;const G=_.content.firstChild;R&&k.beforeEnter(G),v(G,_,w),b.el=_=G}if($&16&&!(E&&(E.innerHTML||E.textContent))){let G=h(_.firstChild,b,_,w,T,x,A);for(;G;){wo=!0;const F=G;G=G.nextSibling,a(F)}}else $&8&&_.textContent!==b.children&&(wo=!0,_.textContent=b.children);if(E)if(N||!A||M&48)for(const G in E)(N&&(G.endsWith("value")||G==="indeterminate")||Kf(G)&&!bu(G)||G[0]===".")&&r(_,G,null,E[G],void 0,void 0,w);else E.onClick&&r(_,"onClick",null,E.onClick,void 0,void 0,w);let B;(B=E&&E.onVnodeBeforeMount)&&oi(B,w,b),D&&gs(b,null,w,"beforeMount"),((B=E&&E.onVnodeMounted)||D||R)&&WP(()=>{B&&oi(B,w,b),R&&k.enter(_),D&&gs(b,null,w,"mounted")},T)}return _.nextSibling},h=(_,b,w,T,x,A,O)=>{O=O||!!b.dynamicChildren;const E=b.children,M=E.length;for(let $=0;$<M;$++){const D=O?E[$]:E[$]=wi(E[$]);if(_)_=d(_,D,T,x,A,O);else{if(D.type===tl&&!D.children)continue;wo=!0,n(null,D,w,null,T,x,Wh(w),A)}}return _},p=(_,b,w,T,x,A)=>{const{slotScopeIds:O}=b;O&&(x=x?x.concat(O):O);const E=o(_),M=h(s(_),b,E,w,T,x,A);return M&&Kh(M)&&M.data==="]"?s(b.anchor=M):(wo=!0,l(b.anchor=u("]"),E,M),M)},m=(_,b,w,T,x,A)=>{if(wo=!0,b.el=null,A){const M=g(_);for(;;){const $=s(_);if($&&$!==M)a($);else break}}const O=s(_),E=o(_);return a(_),n(null,b,E,O,w,T,Wh(E),x),O},g=(_,b="[",w="]")=>{let T=0;for(;_;)if(_=s(_),_&&Kh(_)&&(_.data===b&&T++,_.data===w)){if(T===0)return s(_);T--}return _},v=(_,b,w)=>{const T=b.parentNode;T&&T.replaceChild(_,b);let x=w;for(;x;)x.vnode.el===b&&(x.vnode.el=x.subTree.el=_),x=x.parent},y=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,d]}const _r=WP;function gk(t){return yk(t)}function vk(t){return yk(t,f4)}function yk(t,e){const n=fP();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=ui,insertStaticContent:p}=t,m=(C,L,H,le=null,ue=null,Se=null,Pe=void 0,we=null,Ie=!!L.dynamicChildren)=>{if(C===L)return;C&&!es(C,L)&&(le=z(C),te(C,ue,Se,!0),C=null),L.patchFlag===-2&&(Ie=!1,L.dynamicChildren=null);const{type:ye,ref:Re,shapeFlag:Be}=L;switch(ye){case tl:g(C,L,H,le);break;case Ur:v(C,L,H,le);break;case Ha:C==null&&y(L,H,le,Pe);break;case Te:$(C,L,H,le,ue,Se,Pe,we,Ie);break;default:Be&1?w(C,L,H,le,ue,Se,Pe,we,Ie):Be&6?D(C,L,H,le,ue,Se,Pe,we,Ie):(Be&64||Be&128)&&ye.process(C,L,H,le,ue,Se,Pe,we,Ie,he)}Re!=null&&ue&&om(Re,C&&C.ref,Se,L||C,!L)},g=(C,L,H,le)=>{if(C==null)r(L.el=a(L.children),H,le);else{const ue=L.el=C.el;L.children!==C.children&&u(ue,L.children)}},v=(C,L,H,le)=>{C==null?r(L.el=l(L.children||""),H,le):L.el=C.el},y=(C,L,H,le)=>{[C.el,C.anchor]=p(C.children,L,H,le,C.el,C.anchor)},_=({el:C,anchor:L},H,le)=>{let ue;for(;C&&C!==L;)ue=f(C),r(C,H,le),C=ue;r(L,H,le)},b=({el:C,anchor:L})=>{let H;for(;C&&C!==L;)H=f(C),i(C),C=H;i(L)},w=(C,L,H,le,ue,Se,Pe,we,Ie)=>{L.type==="svg"?Pe="svg":L.type==="math"&&(Pe="mathml"),C==null?T(L,H,le,ue,Se,Pe,we,Ie):O(C,L,ue,Se,Pe,we,Ie)},T=(C,L,H,le,ue,Se,Pe,we)=>{let Ie,ye;const{props:Re,shapeFlag:Be,transition:Ke,dirs:et}=C;if(Ie=C.el=o(C.type,Se,Re&&Re.is,Re),Be&8?c(Ie,C.children):Be&16&&A(C.children,Ie,null,le,ue,ny(C,Se),Pe,we),et&&gs(C,null,le,"created"),x(Ie,C,C.scopeId,Pe,le),Re){for(const q in Re)q!=="value"&&!bu(q)&&s(Ie,q,null,Re[q],Se,C.children,le,ue,j);"value"in Re&&s(Ie,"value",null,Re.value,Se),(ye=Re.onVnodeBeforeMount)&&oi(ye,le,C)}et&&gs(C,null,le,"beforeMount");const lt=bk(ue,Ke);lt&&Ke.beforeEnter(Ie),r(Ie,L,H),((ye=Re&&Re.onVnodeMounted)||lt||et)&&_r(()=>{ye&&oi(ye,le,C),lt&&Ke.enter(Ie),et&&gs(C,null,le,"mounted")},ue)},x=(C,L,H,le,ue)=>{if(H&&h(C,H),le)for(let Se=0;Se<le.length;Se++)h(C,le[Se]);if(ue){let Se=ue.subTree;if(L===Se){const Pe=ue.vnode;x(C,Pe,Pe.scopeId,Pe.slotScopeIds,ue.parent)}}},A=(C,L,H,le,ue,Se,Pe,we,Ie=0)=>{for(let ye=Ie;ye<C.length;ye++){const Re=C[ye]=we?Ro(C[ye]):wi(C[ye]);m(null,Re,L,H,le,ue,Se,Pe,we)}},O=(C,L,H,le,ue,Se,Pe)=>{const we=L.el=C.el;let{patchFlag:Ie,dynamicChildren:ye,dirs:Re}=L;Ie|=C.patchFlag&16;const Be=C.props||tn,Ke=L.props||tn;let et;if(H&&ba(H,!1),(et=Ke.onVnodeBeforeUpdate)&&oi(et,H,L,C),Re&&gs(L,C,H,"beforeUpdate"),H&&ba(H,!0),ye?E(C.dynamicChildren,ye,we,H,le,ny(L,ue),Se):Pe||G(C,L,we,null,H,le,ny(L,ue),Se,!1),Ie>0){if(Ie&16)M(we,L,Be,Ke,H,le,ue);else if(Ie&2&&Be.class!==Ke.class&&s(we,"class",null,Ke.class,ue),Ie&4&&s(we,"style",Be.style,Ke.style,ue),Ie&8){const lt=L.dynamicProps;for(let q=0;q<lt.length;q++){const V=lt[q],W=Be[V],Q=Ke[V];(Q!==W||V==="value")&&s(we,V,W,Q,ue,C.children,H,le,j)}}Ie&1&&C.children!==L.children&&c(we,L.children)}else!Pe&&ye==null&&M(we,L,Be,Ke,H,le,ue);((et=Ke.onVnodeUpdated)||Re)&&_r(()=>{et&&oi(et,H,L,C),Re&&gs(L,C,H,"updated")},le)},E=(C,L,H,le,ue,Se,Pe)=>{for(let we=0;we<L.length;we++){const Ie=C[we],ye=L[we],Re=Ie.el&&(Ie.type===Te||!es(Ie,ye)||Ie.shapeFlag&70)?d(Ie.el):H;m(Ie,ye,Re,null,le,ue,Se,Pe,!0)}},M=(C,L,H,le,ue,Se,Pe)=>{if(H!==le){if(H!==tn)for(const we in H)!bu(we)&&!(we in le)&&s(C,we,H[we],null,Pe,L.children,ue,Se,j);for(const we in le){if(bu(we))continue;const Ie=le[we],ye=H[we];Ie!==ye&&we!=="value"&&s(C,we,ye,Ie,Pe,L.children,ue,Se,j)}"value"in le&&s(C,"value",H.value,le.value,Pe)}},$=(C,L,H,le,ue,Se,Pe,we,Ie)=>{const ye=L.el=C?C.el:a(""),Re=L.anchor=C?C.anchor:a("");let{patchFlag:Be,dynamicChildren:Ke,slotScopeIds:et}=L;et&&(we=we?we.concat(et):et),C==null?(r(ye,H,le),r(Re,H,le),A(L.children||[],H,Re,ue,Se,Pe,we,Ie)):Be>0&&Be&64&&Ke&&C.dynamicChildren?(E(C.dynamicChildren,Ke,H,ue,Se,Pe,we),(L.key!=null||ue&&L===ue.subTree)&&w1(C,L,!0)):G(C,L,H,Re,ue,Se,Pe,we,Ie)},D=(C,L,H,le,ue,Se,Pe,we,Ie)=>{L.slotScopeIds=we,C==null?L.shapeFlag&512?ue.ctx.activate(L,H,le,Pe,Ie):k(L,H,le,ue,Se,Pe,Ie):N(C,L,Ie)},k=(C,L,H,le,ue,Se,Pe)=>{const we=C.component=Ik(C,le,ue);if(Qf(C)&&(we.ctx.renderer=he),Ok(we),we.asyncDep){if(ue&&ue.registerDep(we,R),!C.el){const Ie=we.subTree=Z(Ur);v(null,Ie,L,H)}}else R(we,C,L,H,ue,Se,Pe)},N=(C,L,H)=>{const le=L.component=C.component;if(SF(C,L,H))if(le.asyncDep&&!le.asyncResolved){B(le,L,H);return}else le.next=L,gF(le.update),le.effect.dirty=!0,le.update();else L.el=C.el,le.vnode=L},R=(C,L,H,le,ue,Se,Pe)=>{const we=()=>{if(C.isMounted){let{next:Re,bu:Be,u:Ke,parent:et,vnode:lt}=C;{const de=wk(C);if(de){Re&&(Re.el=lt.el,B(C,Re,Pe)),de.asyncDep.then(()=>{C.isUnmounted||we()});return}}let q=Re,V;ba(C,!1),Re?(Re.el=lt.el,B(C,Re,Pe)):Re=lt,Be&&wu(Be),(V=Re.props&&Re.props.onVnodeBeforeUpdate)&&oi(V,et,Re,lt),ba(C,!0);const W=Pp(C),Q=C.subTree;C.subTree=W,m(Q,W,d(Q.el),z(Q),C,ue,Se),Re.el=W.el,q===null&&c1(C,W.el),Ke&&_r(Ke,ue),(V=Re.props&&Re.props.onVnodeUpdated)&&_r(()=>oi(V,et,Re,lt),ue)}else{let Re;const{el:Be,props:Ke}=L,{bm:et,m:lt,parent:q}=C,V=ja(L);if(ba(C,!1),et&&wu(et),!V&&(Re=Ke&&Ke.onVnodeBeforeMount)&&oi(Re,q,L),ba(C,!0),Be&&oe){const W=()=>{C.subTree=Pp(C),oe(Be,C.subTree,C,ue,null)};V?L.type.__asyncLoader().then(()=>!C.isUnmounted&&W()):W()}else{const W=C.subTree=Pp(C);m(null,W,H,le,C,ue,Se),L.el=W.el}if(lt&&_r(lt,ue),!V&&(Re=Ke&&Ke.onVnodeMounted)){const W=L;_r(()=>oi(Re,q,W),ue)}(L.shapeFlag&256||q&&ja(q.vnode)&&q.vnode.shapeFlag&256)&&C.a&&_r(C.a,ue),C.isMounted=!0,L=H=le=null}},Ie=C.effect=new Lu(we,ui,()=>Ig(ye),C.scope),ye=C.update=()=>{Ie.dirty&&Ie.run()};ye.id=C.uid,ba(C,!0),ye()},B=(C,L,H)=>{L.component=C;const le=C.vnode.props;C.vnode=L,C.next=null,o4(C,L.props,le,H),u4(C,L.children,H),El(),OS(C),Il()},G=(C,L,H,le,ue,Se,Pe,we,Ie=!1)=>{const ye=C&&C.children,Re=C?C.shapeFlag:0,Be=L.children,{patchFlag:Ke,shapeFlag:et}=L;if(Ke>0){if(Ke&128){I(ye,Be,H,le,ue,Se,Pe,we,Ie);return}else if(Ke&256){F(ye,Be,H,le,ue,Se,Pe,we,Ie);return}}et&8?(Re&16&&j(ye,ue,Se),Be!==ye&&c(H,Be)):Re&16?et&16?I(ye,Be,H,le,ue,Se,Pe,we,Ie):j(ye,ue,Se,!0):(Re&8&&c(H,""),et&16&&A(Be,H,le,ue,Se,Pe,we,Ie))},F=(C,L,H,le,ue,Se,Pe,we,Ie)=>{C=C||vu,L=L||vu;const ye=C.length,Re=L.length,Be=Math.min(ye,Re);let Ke;for(Ke=0;Ke<Be;Ke++){const et=L[Ke]=Ie?Ro(L[Ke]):wi(L[Ke]);m(C[Ke],et,H,null,ue,Se,Pe,we,Ie)}ye>Re?j(C,ue,Se,!0,!1,Be):A(L,H,le,ue,Se,Pe,we,Ie,Be)},I=(C,L,H,le,ue,Se,Pe,we,Ie)=>{let ye=0;const Re=L.length;let Be=C.length-1,Ke=Re-1;for(;ye<=Be&&ye<=Ke;){const et=C[ye],lt=L[ye]=Ie?Ro(L[ye]):wi(L[ye]);if(es(et,lt))m(et,lt,H,null,ue,Se,Pe,we,Ie);else break;ye++}for(;ye<=Be&&ye<=Ke;){const et=C[Be],lt=L[Ke]=Ie?Ro(L[Ke]):wi(L[Ke]);if(es(et,lt))m(et,lt,H,null,ue,Se,Pe,we,Ie);else break;Be--,Ke--}if(ye>Be){if(ye<=Ke){const et=Ke+1,lt=et<Re?L[et].el:le;for(;ye<=Ke;)m(null,L[ye]=Ie?Ro(L[ye]):wi(L[ye]),H,lt,ue,Se,Pe,we,Ie),ye++}}else if(ye>Ke)for(;ye<=Be;)te(C[ye],ue,Se,!0),ye++;else{const et=ye,lt=ye,q=new Map;for(ye=lt;ye<=Ke;ye++){const Ce=L[ye]=Ie?Ro(L[ye]):wi(L[ye]);Ce.key!=null&&q.set(Ce.key,ye)}let V,W=0;const Q=Ke-lt+1;let de=!1,$e=0;const Ge=new Array(Q);for(ye=0;ye<Q;ye++)Ge[ye]=0;for(ye=et;ye<=Be;ye++){const Ce=C[ye];if(W>=Q){te(Ce,ue,Se,!0);continue}let xe;if(Ce.key!=null)xe=q.get(Ce.key);else for(V=lt;V<=Ke;V++)if(Ge[V-lt]===0&&es(Ce,L[V])){xe=V;break}xe===void 0?te(Ce,ue,Se,!0):(Ge[xe-lt]=ye+1,xe>=$e?$e=xe:de=!0,m(Ce,L[xe],H,null,ue,Se,Pe,we,Ie),W++)}const me=de?h4(Ge):vu;for(V=me.length-1,ye=Q-1;ye>=0;ye--){const Ce=lt+ye,xe=L[Ce],Ye=Ce+1<Re?L[Ce+1].el:le;Ge[ye]===0?m(null,xe,H,Ye,ue,Se,Pe,we,Ie):de&&(V<0||ye!==me[V]?ee(xe,H,Ye,2):V--)}}},ee=(C,L,H,le,ue=null)=>{const{el:Se,type:Pe,transition:we,children:Ie,shapeFlag:ye}=C;if(ye&6){ee(C.component.subTree,L,H,le);return}if(ye&128){C.suspense.move(L,H,le);return}if(ye&64){Pe.move(C,L,H,he);return}if(Pe===Te){r(Se,L,H);for(let Be=0;Be<Ie.length;Be++)ee(Ie[Be],L,H,le);r(C.anchor,L,H);return}if(Pe===Ha){_(C,L,H);return}if(le!==2&&ye&1&&we)if(le===0)we.beforeEnter(Se),r(Se,L,H),_r(()=>we.enter(Se),ue);else{const{leave:Be,delayLeave:Ke,afterLeave:et}=we,lt=()=>r(Se,L,H),q=()=>{Be(Se,()=>{lt(),et&&et()})};Ke?Ke(Se,lt,q):q()}else r(Se,L,H)},te=(C,L,H,le=!1,ue=!1)=>{const{type:Se,props:Pe,ref:we,children:Ie,dynamicChildren:ye,shapeFlag:Re,patchFlag:Be,dirs:Ke}=C;if(we!=null&&om(we,null,H,C,!0),Re&256){L.ctx.deactivate(C);return}const et=Re&1&&Ke,lt=!ja(C);let q;if(lt&&(q=Pe&&Pe.onVnodeBeforeUnmount)&&oi(q,L,C),Re&6)ne(C.component,H,le);else{if(Re&128){C.suspense.unmount(H,le);return}et&&gs(C,null,L,"beforeUnmount"),Re&64?C.type.remove(C,L,H,ue,he,le):ye&&(Se!==Te||Be>0&&Be&64)?j(ye,L,H,!1,!0):(Se===Te&&Be&384||!ue&&Re&16)&&j(Ie,L,H),le&&ge(C)}(lt&&(q=Pe&&Pe.onVnodeUnmounted)||et)&&_r(()=>{q&&oi(q,L,C),et&&gs(C,null,L,"unmounted")},H)},ge=C=>{const{type:L,el:H,anchor:le,transition:ue}=C;if(L===Te){ve(H,le);return}if(L===Ha){b(C);return}const Se=()=>{i(H),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(C.shapeFlag&1&&ue&&!ue.persisted){const{leave:Pe,delayLeave:we}=ue,Ie=()=>Pe(H,Se);we?we(C.el,Se,Ie):Ie()}else Se()},ve=(C,L)=>{let H;for(;C!==L;)H=f(C),i(C),C=H;i(L)},ne=(C,L,H)=>{const{bum:le,scope:ue,update:Se,subTree:Pe,um:we}=C;le&&wu(le),ue.stop(),Se&&(Se.active=!1,te(Pe,C,L,H)),we&&_r(we,L),_r(()=>{C.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},j=(C,L,H,le=!1,ue=!1,Se=0)=>{for(let Pe=Se;Pe<C.length;Pe++)te(C[Pe],L,H,le,ue)},z=C=>C.shapeFlag&6?z(C.component.subTree):C.shapeFlag&128?C.suspense.next():f(C.anchor||C.el);let ae=!1;const X=(C,L,H)=>{C==null?L._vnode&&te(L._vnode,null,null,!0):m(L._vnode||null,C,L,null,null,null,H),ae||(ae=!0,OS(),im(),ae=!1),L._vnode=C},he={p:m,um:te,m:ee,r:ge,mt:k,mc:A,pc:G,pbc:E,n:z,o:t};let be,oe;return e&&([be,oe]=e(he)),{render:X,hydrate:be,createApp:i4(X,be)}}function ny({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ba({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function bk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function w1(t,e,n=!1){const r=t.children,i=e.children;if(ze(r)&&ze(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ro(i[s]),a.el=o.el),n||w1(o,a)),a.type===tl&&(a.el=o.el)}}function h4(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function wk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wk(e)}const p4=t=>t.__isTeleport,pd=t=>t&&(t.disabled||t.disabled===""),US=t=>typeof SVGElement<"u"&&t instanceof SVGElement,VS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Hb=(t,e)=>{const n=t&&t.to;return Cn(n)?e?e(n):null:n},m4={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:g}}=u,v=pd(e.props);let{shapeFlag:y,children:_,dynamicChildren:b}=e;if(t==null){const w=e.el=m(""),T=e.anchor=m("");h(w,n,r),h(T,n,r);const x=e.target=Hb(e.props,p),A=e.targetAnchor=m("");x&&(h(A,x),o==="svg"||US(x)?o="svg":(o==="mathml"||VS(x))&&(o="mathml"));const O=(E,M)=>{y&16&&c(_,E,M,i,s,o,a,l)};v?O(n,T):x&&O(x,A)}else{e.el=t.el;const w=e.anchor=t.anchor,T=e.target=t.target,x=e.targetAnchor=t.targetAnchor,A=pd(t.props),O=A?n:T,E=A?w:x;if(o==="svg"||US(T)?o="svg":(o==="mathml"||VS(T))&&(o="mathml"),b?(f(t.dynamicChildren,b,O,i,s,o,a),w1(t,e,!0)):l||d(t,e,O,E,i,s,o,a,!1),v)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):zh(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=Hb(e.props,p);M&&zh(e,M,null,u,0)}else A&&zh(e,T,x,u,1)}_k(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&s(c),o&&s(u),a&16){const h=o||!pd(f);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:zh,hydrate:g4};function zh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||pd(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function g4(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Hb(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(pd(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}_k(e)}return e.anchor&&o(e.anchor)}const _1=m4;function _k(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Te=Symbol.for("v-fgt"),tl=Symbol.for("v-txt"),Ur=Symbol.for("v-cmt"),Ha=Symbol.for("v-stc"),md=[];let ci=null;function S(t=!1){md.push(ci=t?null:[])}function Tk(){md.pop(),ci=md[md.length-1]||null}let nl=1;function Wb(t){nl+=t}function Sk(t){return t.dynamicChildren=nl>0?ci||vu:null,Tk(),nl>0&&ci&&ci.push(t),t}function U(t,e,n,r,i,s){return Sk(K(t,e,n,r,i,s,!0))}function ie(t,e,n,r,i){return Sk(Z(t,e,n,r,i,!0))}function ia(t){return t?t.__v_isVNode===!0:!1}function es(t,e){return t.type===e.type&&t.key===e.key}function v4(t){}const xg="__vInternal",Ek=({key:t})=>t??null,kp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Cn(t)||cn(t)||at(t)?{i:Qn,r:t,k:e,f:!!n}:t:null);function K(t,e=null,n=null,r=0,i=null,s=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ek(e),ref:e&&kp(e),scopeId:Og,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qn};return a?(T1(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Cn(n)?8:16),nl>0&&!o&&ci&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ci.push(l),l}const Z=y4;function y4(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===jP)&&(t=Ur),ia(t)){const a=Ns(t,e,!0);return n&&T1(a,n),nl>0&&!s&&ci&&(a.shapeFlag&6?ci[ci.indexOf(t)]=a:ci.push(a)),a.patchFlag|=-2,a}if(C4(t)&&(t=t.__vccOpts),e){e=rr(e);let{class:a,style:l}=e;a&&!Cn(a)&&(e.class=ke(a)),sn(l)&&(s1(l)&&!ze(l)&&(l=In({},l)),e.style=nr(l))}const o=Cn(t)?1:HP(t)?128:p4(t)?64:sn(t)?4:at(t)?2:0;return K(t,e,n,r,i,o,s,!0)}function rr(t){return t?s1(t)||xg in t?In({},t):t:null}function Ns(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?se(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ek(a),ref:e&&e.ref?n&&i?ze(i)?i.concat(kp(e)):[i,kp(e)]:kp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ns(t.ssContent),ssFallback:t.ssFallback&&Ns(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Qe(t=" ",e=0){return Z(tl,null,t,e)}function b4(t,e){const n=Z(Ha,null,t);return n.staticCount=e,n}function Y(t="",e=!1){return e?(S(),ie(Ur,null,t)):Z(Ur,null,t)}function wi(t){return t==null||typeof t=="boolean"?Z(Ur):ze(t)?Z(Te,null,t.slice()):typeof t=="object"?Ro(t):Z(tl,null,String(t))}function Ro(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ns(t)}function T1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ze(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),T1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(xg in e)?e._ctx=Qn:i===3&&Qn&&(Qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else at(e)?(e={default:e,_ctx:Qn},n=32):(e=String(e),r&64?(n=16,e=[Qe(e)]):n=8);t.children=e,t.shapeFlag|=n}function se(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ke([e.class,r.class]));else if(i==="style")e.style=nr([e.style,r.style]);else if(Kf(i)){const s=e[i],o=r[i];o&&s!==o&&!(ze(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function oi(t,e,n,r=null){Ii(t,e,7,[n,r])}const w4=uk();let _4=0;function Ik(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||w4,s={uid:_4++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new e1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fk(r,i),emitsOptions:UP(r,i),emit:null,emitted:null,propsDefaults:tn,inheritAttrs:r.inheritAttrs,ctx:tn,data:tn,props:tn,attrs:tn,slots:tn,refs:tn,setupState:tn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=yF.bind(null,s),t.ce&&t.ce(s),s}let er=null;const Ki=()=>er||Qn;let am,Kb;{const t=fP(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};am=e("__VUE_INSTANCE_SETTERS__",n=>er=n),Kb=e("__VUE_SSR_SETTERS__",n=>Zf=n)}const rl=t=>{const e=er;return am(t),t.scope.on(),()=>{t.scope.off(),am(e)}},zb=()=>{er&&er.scope.off(),am(null)};function Ck(t){return t.vnode.shapeFlag&4}let Zf=!1;function Ok(t,e=!1){e&&Kb(e);const{props:n,children:r}=t.vnode,i=Ck(t);s4(t,n,i,e),l4(t,r);const s=i?T4(t,e):void 0;return e&&Kb(!1),s}function T4(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Yf(new Proxy(t.ctx,Ub));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Pk(t):null,s=rl(t);El();const o=Js(r,t,0,[t.props,i]);if(Il(),s(),Jw(o)){if(o.then(zb,zb),e)return o.then(a=>{Gb(t,a,e)}).catch(a=>{Cl(a,t,0)});t.asyncDep=o}else Gb(t,o,e)}else Ak(t,e)}function Gb(t,e,n){at(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:sn(e)&&(t.setupState=l1(e)),Ak(t,n)}let lm,Yb;function S4(t){lm=t,Yb=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,UF))}}const E4=()=>!lm;function Ak(t,e,n){const r=t.type;if(!t.render){if(!e&&lm&&!r.render){const i=r.template||y1(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=In(In({isCustomElement:s,delimiters:a},o),l);r.render=lm(i,u)}}t.render=r.render||ui,Yb&&Yb(t)}{const i=rl(t);El();try{JF(t)}finally{Il(),i()}}}function I4(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return mi(t,"get","$attrs"),e[n]}}))}function Pk(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return I4(t)},slots:t.slots,emit:t.emit,expose:e}}function Dg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(l1(Yf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in hd)return hd[n](t)},has(e,n){return n in e||n in hd}}))}function qb(t,e=!0){return at(t)?t.displayName||t.name:t.name||e&&t.__name}function C4(t){return at(t)&&"__vccOpts"in t}const J=(t,e)=>tF(t,e,Zf);function O4(t,e,n=tn){const r=Ki(),i=Qr(e),s=_i(e),o=DP((l,u)=>{let c;return YP(()=>{const d=t[e];cs(c,d)&&(c=d,u())}),{get(){return l(),n.get?n.get(c):c},set(d){const f=r.vnode.props;!(f&&(e in f||i in f||s in f)&&(`onUpdate:${e}`in f||`onUpdate:${i}`in f||`onUpdate:${s}`in f))&&cs(d,c)&&(c=d,u()),r.emit(`update:${e}`,n.set?n.set(d):d)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function il(t,e,n){const r=arguments.length;return r===2?sn(e)&&!ze(e)?ia(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ia(n)&&(n=[n]),Z(t,e,n))}function A4(){}function P4(t,e,n,r){const i=n[r];if(i&&kk(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function kk(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(cs(n[r],e[r]))return!1;return nl>0&&ci&&ci.push(t),!0}const xk="3.4.21",k4=ui,x4=hF,D4=Ql,R4=FP,N4={createComponentInstance:Ik,setupComponent:Ok,renderComponentRoot:Pp,setCurrentRenderingInstance:Gd,isVNode:ia,normalizeVNode:wi},M4=N4,$4=null,L4=null,F4=null;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const U4="http://www.w3.org/2000/svg",V4="http://www.w3.org/1998/Math/MathML",No=typeof document<"u"?document:null,BS=No&&No.createElement("template"),B4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?No.createElementNS(U4,t):e==="mathml"?No.createElementNS(V4,t):No.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>No.createTextNode(t),createComment:t=>No.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>No.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{BS.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=BS.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},_o="transition",Ac="animation",Vu=Symbol("_vtc"),zi=(t,{slots:e})=>il(XP,Rk(t),e);zi.displayName="Transition";const Dk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},j4=zi.props=In({},g1,Dk),wa=(t,e=[])=>{ze(t)?t.forEach(n=>n(...e)):t&&t(...e)},jS=t=>t?ze(t)?t.some(e=>e.length>1):t.length>1:!1;function Rk(t){const e={};for(const $ in t)$ in Dk||(e[$]=t[$]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=H4(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:_,onLeave:b,onLeaveCancelled:w,onBeforeAppear:T=v,onAppear:x=y,onAppearCancelled:A=_}=e,O=($,D,k)=>{Ao($,D?c:a),Ao($,D?u:o),k&&k()},E=($,D)=>{$._isLeaving=!1,Ao($,d),Ao($,h),Ao($,f),D&&D()},M=$=>(D,k)=>{const N=$?x:y,R=()=>O(D,$,k);wa(N,[D,R]),HS(()=>{Ao(D,$?l:s),js(D,$?c:a),jS(N)||WS(D,r,m,R)})};return In(e,{onBeforeEnter($){wa(v,[$]),js($,s),js($,o)},onBeforeAppear($){wa(T,[$]),js($,l),js($,u)},onEnter:M(!1),onAppear:M(!0),onLeave($,D){$._isLeaving=!0;const k=()=>E($,D);js($,d),Mk(),js($,f),HS(()=>{$._isLeaving&&(Ao($,d),js($,h),jS(b)||WS($,r,g,k))}),wa(b,[$,k])},onEnterCancelled($){O($,!1),wa(_,[$])},onAppearCancelled($){O($,!0),wa(A,[$])},onLeaveCancelled($){E($),wa(w,[$])}})}function H4(t){if(t==null)return null;if(sn(t))return[ry(t.enter),ry(t.leave)];{const e=ry(t);return[e,e]}}function ry(t){return tm(t)}function js(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vu]||(t[Vu]=new Set)).add(e)}function Ao(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vu];n&&(n.delete(e),n.size||(t[Vu]=void 0))}function HS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let W4=0;function WS(t,e,n,r){const i=t._endId=++W4,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=Nk(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,f),s()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function Nk(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${_o}Delay`),s=r(`${_o}Duration`),o=KS(i,s),a=r(`${Ac}Delay`),l=r(`${Ac}Duration`),u=KS(a,l);let c=null,d=0,f=0;e===_o?o>0&&(c=_o,d=o,f=s.length):e===Ac?u>0&&(c=Ac,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?_o:Ac:null,f=c?c===_o?s.length:l.length:0);const h=c===_o&&/\b(transform|all)(,|$)/.test(r(`${_o}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function KS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>zS(n)+zS(t[r])))}function zS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Mk(){return document.body.offsetHeight}function K4(t,e,n){const r=t[Vu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const um=Symbol("_vod"),$k=Symbol("_vsh"),Zs={beforeMount(t,{value:e},{transition:n}){t[um]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Pc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Pc(t,!0),r.enter(t)):r.leave(t,()=>{Pc(t,!1)}):Pc(t,e))},beforeUnmount(t,{value:e}){Pc(t,e)}};function Pc(t,e){t.style.display=e?t[um]:"none",t[$k]=!e}function z4(){Zs.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Lk=Symbol("");function G4(t){const e=Ki();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Qb(s,i))},r=()=>{const i=t(e.proxy);Xb(e.subTree,i),n(i)};GP(r),Vt(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),mo(()=>i.disconnect())})}function Xb(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Xb(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Qb(t.el,e);else if(t.type===Te)t.children.forEach(n=>Xb(n,e));else if(t.type===Ha){let{el:n,anchor:r}=t;for(;n&&(Qb(n,e),n!==r);)n=n.nextSibling}}function Qb(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[Lk]=r}}const Y4=/(^|;)\s*display\s*:/;function q4(t,e,n){const r=t.style,i=Cn(n);let s=!1;if(n&&!i){if(e)if(Cn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&xp(r,a,"")}else for(const o in e)n[o]==null&&xp(r,o,"");for(const o in n)o==="display"&&(s=!0),xp(r,o,n[o])}else if(i){if(e!==n){const o=r[Lk];o&&(n+=";"+o),r.cssText=n,s=Y4.test(n)}}else e&&t.removeAttribute("style");um in t&&(t[um]=s?r.display:"",t[$k]&&(r.display="none"))}const GS=/\s*!important$/;function xp(t,e,n){if(ze(n))n.forEach(r=>xp(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=X4(t,e);GS.test(n)?t.setProperty(_i(r),n.replace(GS,""),"important"):t[r]=n}}const YS=["Webkit","Moz","ms"],iy={};function X4(t,e){const n=iy[e];if(n)return n;let r=Qr(e);if(r!=="filter"&&r in t)return iy[e]=r;r=zf(r);for(let i=0;i<YS.length;i++){const s=YS[i]+r;if(s in t)return iy[e]=s}return e}const qS="http://www.w3.org/1999/xlink";function Q4(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(qS,e.slice(6,e.length)):t.setAttributeNS(qS,e,n);else{const s=k3(e);n==null||s&&!hP(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function J4(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=hP(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ws(t,e,n,r){t.addEventListener(e,n,r)}function Z4(t,e,n,r){t.removeEventListener(e,n,r)}const XS=Symbol("_vei");function e6(t,e,n,r,i=null){const s=t[XS]||(t[XS]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=t6(e);if(r){const u=s[e]=i6(r,i);Ws(t,a,u,l)}else o&&(Z4(t,a,o,l),s[e]=void 0)}}const QS=/(?:Once|Passive|Capture)$/;function t6(t){let e;if(QS.test(t)){e={};let r;for(;r=t.match(QS);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_i(t.slice(2)),e]}let sy=0;const n6=Promise.resolve(),r6=()=>sy||(n6.then(()=>sy=0),sy=Date.now());function i6(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ii(s6(r,n.value),e,5,[r])};return n.value=t,n.attached=r6(),n}function s6(t,e){if(ze(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const JS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,o6=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?K4(t,r,u):e==="style"?q4(t,n,r):Kf(e)?Xw(e)||e6(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):a6(t,e,r,u))?J4(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Q4(t,e,r,u))};function a6(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&JS(e)&&at(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return JS(e)&&Cn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Fk(t,e){const n=Ae(t);class r extends Rg{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const l6=t=>Fk(t,Xk),u6=typeof HTMLElement<"u"?HTMLElement:class{};class Rg extends u6{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Wn(()=>{this._connected||(sl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!ze(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=tm(this._props[l])),(a||(a=Object.create(null)))[Qr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=ze(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Qr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Qr(e);this._numberProps&&this._numberProps[r]&&(n=tm(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(_i(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(_i(e),n+""):n||this.removeAttribute(_i(e))))}_update(){sl(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Z(this._def,In({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),_i(s)!==s&&r(_i(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Rg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function c6(t="$style"){{const e=Ki();if(!e)return tn;const n=e.type.__cssModules;if(!n)return tn;const r=n[t];return r||tn}}const Uk=new WeakMap,Vk=new WeakMap,cm=Symbol("_moveCb"),ZS=Symbol("_enterCb"),Bk={name:"TransitionGroup",props:In({},j4,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ki(),r=m1();let i,s;return kg(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!m6(i[0].el,n.vnode.el,o))return;i.forEach(f6),i.forEach(h6);const a=i.filter(p6);Mk(),a.forEach(l=>{const u=l.el,c=u.style;js(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[cm]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[cm]=null,Ao(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Tt(t),a=Rk(o);let l=o.tag||Te;i=s,s=e.default?Ag(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&el(c,Uu(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];el(c,Uu(c,a,r,n)),Uk.set(c,c.el.getBoundingClientRect())}return Z(l,null,s)}}},d6=t=>delete t.mode;Bk.props;const jk=Bk;function f6(t){const e=t.el;e[cm]&&e[cm](),e[ZS]&&e[ZS]()}function h6(t){Vk.set(t,t.el.getBoundingClientRect())}function p6(t){const e=Uk.get(t),n=Vk.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function m6(t,e,n){const r=t.cloneNode(),i=t[Vu];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=Nk(r);return s.removeChild(r),o}const sa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ze(e)?n=>wu(e,n):e};function g6(t){t.target.composing=!0}function eE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vi=Symbol("_assign"),dm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Vi]=sa(i);const s=r||i.props&&i.props.type==="number";Ws(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=jd(a)),t[Vi](a)}),n&&Ws(t,"change",()=>{t.value=t.value.trim()}),e||(Ws(t,"compositionstart",g6),Ws(t,"compositionend",eE),Ws(t,"change",eE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Vi]=sa(s),t.composing)return;const o=i||t.type==="number"?jd(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},S1={deep:!0,created(t,e,n){t[Vi]=sa(n),Ws(t,"change",()=>{const r=t._modelValue,i=Bu(t),s=t.checked,o=t[Vi];if(ze(r)){const a=yg(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Sl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Wk(t,s))})},mounted:tE,beforeUpdate(t,e,n){t[Vi]=sa(n),tE(t,e,n)}};function tE(t,{value:e,oldValue:n},r){t._modelValue=e,ze(e)?t.checked=yg(e,r.props.value)>-1:Sl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=ra(e,Wk(t,!0)))}const E1={created(t,{value:e},n){t.checked=ra(e,n.props.value),t[Vi]=sa(n),Ws(t,"change",()=>{t[Vi](Bu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Vi]=sa(r),e!==n&&(t.checked=ra(e,r.props.value))}},Hk={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Sl(e);Ws(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?jd(Bu(o)):Bu(o));t[Vi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Wn(()=>{t._assigning=!1})}),t[Vi]=sa(r)},mounted(t,{value:e,modifiers:{number:n}}){nE(t,e,n)},beforeUpdate(t,e,n){t[Vi]=sa(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||nE(t,e,n)}};function nE(t,e,n){const r=t.multiple,i=ze(e);if(!(r&&!i&&!Sl(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=Bu(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.includes(n?jd(l):l):a.selected=yg(e,l)>-1}else a.selected=e.has(l);else if(ra(Bu(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Bu(t){return"_value"in t?t._value:t.value}function Wk(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Kk={created(t,e,n){Gh(t,e,n,null,"created")},mounted(t,e,n){Gh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Gh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Gh(t,e,n,r,"updated")}};function zk(t,e){switch(t){case"SELECT":return Hk;case"TEXTAREA":return dm;default:switch(e){case"checkbox":return S1;case"radio":return E1;default:return dm}}}function Gh(t,e,n,r,i){const o=zk(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function v6(){dm.getSSRProps=({value:t})=>({value:t}),E1.getSSRProps=({value:t},e)=>{if(e.props&&ra(e.props.value,t))return{checked:!0}},S1.getSSRProps=({value:t},e)=>{if(ze(t)){if(e.props&&yg(t,e.props.value)>-1)return{checked:!0}}else if(Sl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Kk.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=zk(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const y6=["ctrl","shift","alt","meta"],b6={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>y6.some(n=>t[`${n}Key`]&&!e.includes(n))},wt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=b6[e[o]];if(a&&a(i,e))return}return t(i,...s)})},w6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ct=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=_i(i.key);if(e.some(o=>o===s||w6[o]===s))return t(i)})},Gk=In({patchProp:o6},B4);let gd,rE=!1;function Yk(){return gd||(gd=gk(Gk))}function qk(){return gd=rE?gd:vk(Gk),rE=!0,gd}const sl=(...t)=>{Yk().render(...t)},Xk=(...t)=>{qk().hydrate(...t)},Qk=(...t)=>{const e=Yk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Zk(r);if(!i)return;const s=e._component;!at(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,Jk(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},_6=(...t)=>{const e=qk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Zk(r);if(i)return n(i,!0,Jk(i))},e};function Jk(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Zk(t){return Cn(t)?document.querySelector(t):t}let iE=!1;const T6=()=>{iE||(iE=!0,v6(),z4())};/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const S6=()=>{},E6=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:XP,BaseTransitionPropsValidators:g1,Comment:Ur,DeprecationTypes:F4,EffectScope:e1,ErrorCodes:fF,ErrorTypeStrings:x4,Fragment:Te,KeepAlive:$F,ReactiveEffect:Lu,Static:Ha,Suspense:CF,Teleport:_1,Text:tl,TrackOpTypes:uF,Transition:zi,TransitionGroup:jk,TriggerOpTypes:cF,VueElement:Rg,assertNumber:dF,callWithAsyncErrorHandling:Ii,callWithErrorHandling:Js,camelize:Qr,capitalize:zf,cloneVNode:Ns,compatUtils:L4,compile:S6,computed:J,createApp:Qk,createBlock:ie,createCommentVNode:Y,createElementBlock:U,createElementVNode:K,createHydrationRenderer:vk,createPropsRestProxy:XF,createRenderer:gk,createSSRApp:_6,createSlots:Jn,createStaticVNode:b4,createTextVNode:Qe,createVNode:Z,customRef:DP,defineAsyncComponent:NF,defineComponent:Ae,defineCustomElement:Fk,defineEmits:BF,defineExpose:jF,defineModel:KF,defineOptions:HF,defineProps:VF,defineSSRCustomElement:l6,defineSlots:WF,devtools:D4,effect:R3,effectScope:bg,getCurrentInstance:Ki,getCurrentScope:Gf,getTransitionRawChildren:Ag,guardReactiveProps:rr,h:il,handleError:Cl,hasInjectionContext:ck,hydrate:Xk,initCustomFormatter:A4,initDirectivesForSSR:T6,inject:Jr,isMemoSame:kk,isProxy:s1,isReactive:As,isReadonly:Za,isRef:cn,isRuntimeOnly:E4,isShallow:Hd,isVNode:ia,markRaw:Yf,mergeDefaults:YF,mergeModels:qF,mergeProps:se,nextTick:Wn,normalizeClass:ke,normalizeProps:xn,normalizeStyle:nr,onActivated:JP,onBeforeMount:tk,onBeforeUnmount:Jf,onBeforeUpdate:v1,onDeactivated:ZP,onErrorCaptured:sk,onMounted:Vt,onRenderTracked:ik,onRenderTriggered:rk,onScopeDispose:wg,onServerPrefetch:nk,onUnmounted:mo,onUpdated:kg,openBlock:S,popScopeId:BP,provide:Iu,proxyRefs:l1,pushScopeId:VP,queuePostFlushCb:rm,reactive:Dn,readonly:Sg,ref:re,registerRuntimeCompiler:S4,render:sl,renderList:st,renderSlot:fe,resolveComponent:En,resolveDirective:qf,resolveDynamicComponent:gn,resolveFilter:$4,resolveTransitionHooks:Uu,setBlockTracking:Wb,setDevtoolsHook:R4,setTransitionHooks:el,shallowReactive:i1,shallowReadonly:eF,shallowRef:kP,ssrContextKey:KP,ssrUtils:M4,stop:N3,toDisplayString:Le,toHandlerKey:fd,toHandlers:FF,toRaw:Tt,toRef:Fu,toRefs:RP,toValue:iF,transformVNodeArgs:v4,triggerRef:rF,unref:P,useAttrs:GF,useCssModule:c6,useCssVars:G4,useModel:O4,useSSRContext:zP,useSlots:ca,useTransitionState:m1,vModelCheckbox:S1,vModelDynamic:Kk,vModelRadio:E1,vModelSelect:Hk,vModelText:dm,vShow:Zs,version:xk,warn:k4,watch:It,watchEffect:p1,watchPostEffect:GP,watchSyncEffect:YP,withAsyncContext:QF,withCtx:ce,withDefaults:zF,withDirectives:Ci,withKeys:ct,withMemo:P4,withModifiers:wt,withScopeId:bF},Symbol.toStringTag,{value:"Module"}));function I6(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const fm=I6();let sE=0;const C6=()=>{const t=sE;return sE+=1,t},ex=()=>(t,e)=>{const n={...t,id:C6(),group:t.group||""};return fm.emit("notify",{notification:n,timeout:e}),()=>fm.emit("close",n.id)},tx="context",Jb=Ae({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Jr(tx),i=Dn({notifications:[],timeouts:{}}),s=J(()=>i.notifications.filter(f=>f.group===r.group)),o=J(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(f,h)=>{i.timeouts[f]=window.setTimeout(()=>{h!==-1&&l(f)},Math.max(h||3e3,0))},l=f=>{i.notifications.splice(i.notifications.findIndex(h=>h.id===f),1),clearTimeout(i.timeouts[f])},u=({notification:f,timeout:h})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(f),a(f.id,h))},c=f=>{e("close"),l(f)},d=(f,h,p)=>{h?clearTimeout(i.timeouts[f]):a(f,p)};return Vt(()=>{fm.on("notify",u),fm.on("close",l)}),(f,h)=>(S(),ie(jk,{"enter-active-class":P(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ce(()=>[fe(f.$slots,"default",{notifications:P(o),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),oE=Ae({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Iu(tx,{group:e.group,position:e.position}),(n,r)=>fe(n.$slots,"default",{group:t.group})}});function O6(t){t.config.globalProperties.$notify=ex(),t.component("Notification",Jb),t.component("NotificationGroup",oE),t.component("notification",Jb),t.component("notificationGroup",oE)}const A6={install:O6},P6=ex(),k6={class:"px-4 py-2 -mx-3"},x6={class:"mx-3"},D6={class:"font-semibold text-white"},R6={class:"text-sm text-gray-100"},oy=Ae({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(S(),ie(P(Jb),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ce(({notifications:r})=>[(S(!0),U(Te,null,st(r,i=>(S(),U("div",{key:i.id},[i.type===e.type?(S(),U("div",{key:0,class:ke("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-lg shadow-md "+e.color)},[K("div",k6,[K("div",x6,[K("span",D6,Le(i.title),1),K("p",R6,Le(i.text),1)])])],2)):Y("",!0)]))),128))]),_:1}))}}),N6={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},M6={class:"w-full max-w-sm"},$6=Ae({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=En("NotificationGroup",!0);return S(),ie(r,null,{default:ce(()=>[K("div",N6,[K("div",M6,[Z(oy,{type:"error",color:"bg-red-800"}),Z(oy,{type:"warning",color:"bg-yellow-800"}),Z(oy,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Jl=typeof document<"u";function L6(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const en=Object.assign;function ay(t,e){const n={};for(const r in e){const i=e[r];n[r]=ds(i)?i.map(t):t(i)}return n}const vd=()=>{},ds=Array.isArray,nx=/#/g,F6=/&/g,U6=/\//g,V6=/=/g,B6=/\?/g,rx=/\+/g,j6=/%5B/g,H6=/%5D/g,ix=/%5E/g,W6=/%60/g,sx=/%7B/g,K6=/%7C/g,ox=/%7D/g,z6=/%20/g;function I1(t){return encodeURI(""+t).replace(K6,"|").replace(j6,"[").replace(H6,"]")}function G6(t){return I1(t).replace(sx,"{").replace(ox,"}").replace(ix,"^")}function Zb(t){return I1(t).replace(rx,"%2B").replace(z6,"+").replace(nx,"%23").replace(F6,"%26").replace(W6,"`").replace(sx,"{").replace(ox,"}").replace(ix,"^")}function Y6(t){return Zb(t).replace(V6,"%3D")}function q6(t){return I1(t).replace(nx,"%23").replace(B6,"%3F")}function X6(t){return t==null?"":q6(t).replace(U6,"%2F")}function Xd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Q6=/\/$/,J6=t=>t.replace(Q6,"");function ly(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=nU(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Xd(o)}}function Z6(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function aE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function eU(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ju(e.matched[r],n.matched[i])&&ax(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ju(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ax(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!tU(t[n],e[n]))return!1;return!0}function tU(t,e){return ds(t)?lE(t,e):ds(e)?lE(e,t):t===e}function lE(t,e){return ds(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function nU(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var Qd;(function(t){t.pop="pop",t.push="push"})(Qd||(Qd={}));var yd;(function(t){t.back="back",t.forward="forward",t.unknown=""})(yd||(yd={}));function rU(t){if(!t)if(Jl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),J6(t)}const iU=/^[^#]+#/;function sU(t,e){return t.replace(iU,"#")+e}function oU(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ng=()=>({left:window.scrollX,top:window.scrollY});function aU(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=oU(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function uE(t,e){return(history.state?history.state.position-e:-1)+t}const e0=new Map;function lU(t,e){e0.set(t,e)}function uU(t){const e=e0.get(t);return e0.delete(t),e}let cU=()=>location.protocol+"//"+location.host;function lx(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),aE(l,"")}return aE(n,t)+r+i}function dU(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const h=lx(t,location),p=n.value,m=e.value;let g=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}g=m?f.position-m.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:g,type:Qd.pop,direction:g?g>0?yd.forward:yd.back:yd.unknown})})};function l(){o=n.value}function u(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(en({},f.state,{scroll:Ng()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function cE(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Ng():null}}function fU(t){const{history:e,location:n}=window,r={value:lx(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:cU()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=en({},e.state,cE(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=en({},i.value,e.state,{forward:l,scroll:Ng()});s(c.current,c,!0);const d=en({},cE(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function hU(t){t=rU(t);const e=fU(t),n=dU(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=en({location:"",base:t,go:r,createHref:sU.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function pU(t){return typeof t=="string"||t&&typeof t=="object"}function ux(t){return typeof t=="string"||typeof t=="symbol"}const To={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cx=Symbol("");var dE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(dE||(dE={}));function Hu(t,e){return en(new Error,{type:t,[cx]:!0},e)}function Bs(t,e){return t instanceof Error&&cx in t&&(e==null||!!(t.type&e))}const fE="[^/]+?",mU={sensitive:!1,strict:!1,start:!0,end:!0},gU=/[.+*?^${}()[\]/\\]/g;function vU(t,e){const n=en({},mU,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(gU,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:g,regexp:v}=f;s.push({name:p,repeatable:m,optional:g});const y=v||fE;if(y!==fE){h+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+b.message)}}let _=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,h+=20,g&&(h+=-8),m&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=s[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:g}=h,v=p in u?u[p]:"";if(ds(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=ds(v)?v.join("/"):v;if(!y)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function yU(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function bU(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=yU(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(hE(r))return 1;if(hE(i))return-1}return i.length-r.length}function hE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const wU={type:0,value:""},_U=/[a-zA-Z0-9_]/;function TU(t){if(!t)return[[]];if(t==="/")return[[wU]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:_U.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function SU(t,e,n){const r=vU(TU(t.path),n),i=en(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function EU(t,e){const n=[],r=new Map;e=gE({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,f){const h=!f,p=IU(c);p.aliasOf=f&&f.record;const m=gE(e,c),g=[p];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of _)g.push(en({},p,{components:f?f.record.components:p.components,path:b,aliasOf:f?f.record:p}))}let v,y;for(const _ of g){const{path:b}=_;if(d&&b[0]!=="/"){const w=d.record.path,T=w[w.length-1]==="/"?"":"/";_.path=d.record.path+(b&&T+b)}if(v=SU(_,d,m),f?f.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),h&&c.name&&!mE(v)&&o(c.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)s(w[T],v,f&&f.children[T])}f=f||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return y?()=>{o(y)}:vd}function o(c){if(ux(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&bU(c,n[d])>=0&&(c.record.path!==n[d].record.path||!dx(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!mE(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,m;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Hu(1,{location:c});m=f.record.name,h=en(pE(d.params,f.keys.filter(y=>!y.optional).concat(f.parent?f.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),c.params&&pE(c.params,f.keys.map(y=>y.name))),p=f.stringify(h)}else if(c.path!=null)p=c.path,f=n.find(y=>y.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!f)throw Hu(1,{location:c,currentLocation:d});m=f.record.name,h=en({},d.params,c.params),p=f.stringify(h)}const g=[];let v=f;for(;v;)g.unshift(v.record),v=v.parent;return{name:m,path:p,params:h,matched:g,meta:OU(g)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function pE(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function IU(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:CU(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function CU(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function mE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function OU(t){return t.reduce((e,n)=>en(e,n.meta),{})}function gE(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function dx(t,e){return e.children.some(n=>n===t||dx(t,n))}function AU(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(rx," "),o=s.indexOf("="),a=Xd(o<0?s:s.slice(0,o)),l=o<0?null:Xd(s.slice(o+1));if(a in e){let u=e[a];ds(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function vE(t){let e="";for(let n in t){const r=t[n];if(n=Y6(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ds(r)?r.map(s=>s&&Zb(s)):[r&&Zb(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function PU(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ds(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const kU=Symbol(""),yE=Symbol(""),Mg=Symbol(""),C1=Symbol(""),t0=Symbol("");function kc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Mo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Hu(4,{from:n,to:e})):f instanceof Error?l(f):pU(f)?l(Hu(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function uy(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(xU(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Mo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=L6(c)?c.default:c;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Mo(h,n,r,o,a,i)()}))}}return s}function xU(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bE(t){const e=Jr(Mg),n=Jr(C1),r=J(()=>e.resolve(P(t.to))),i=J(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(ju.bind(null,c));if(f>-1)return f;const h=wE(l[u-2]);return u>1&&wE(c)===h&&d[d.length-1].path!==h?d.findIndex(ju.bind(null,l[u-2])):f}),s=J(()=>i.value>-1&&MU(n.params,r.value.params)),o=J(()=>i.value>-1&&i.value===n.matched.length-1&&ax(n.params,r.value.params));function a(l={}){return NU(l)?e[P(t.replace)?"replace":"push"](P(t.to)).catch(vd):Promise.resolve()}return{route:r,href:J(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const DU=Ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bE,setup(t,{slots:e}){const n=Dn(bE(t)),{options:r}=Jr(Mg),i=J(()=>({[_E(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_E(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:il("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),RU=DU;function NU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function MU(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ds(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function wE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _E=(t,e,n)=>t??e??n,$U=Ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Jr(t0),i=J(()=>t.route||r.value),s=Jr(yE,0),o=J(()=>{let u=P(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=J(()=>i.value.matched[o.value]);Iu(yE,J(()=>o.value+1)),Iu(kU,a),Iu(t0,i);const l=re();return It(()=>[l.value,a.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!ju(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return TE(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=il(f,en({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return TE(n.default,{Component:g,route:u})||g}}});function TE(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const fx=$U;function LU(t){const e=EU(t.routes,t),n=t.parseQuery||AU,r=t.stringifyQuery||vE,i=t.history,s=kc(),o=kc(),a=kc(),l=kP(To);let u=To;Jl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ay.bind(null,z=>""+z),d=ay.bind(null,X6),f=ay.bind(null,Xd);function h(z,ae){let X,he;return ux(z)?(X=e.getRecordMatcher(z),he=ae):he=z,e.addRoute(he,X)}function p(z){const ae=e.getRecordMatcher(z);ae&&e.removeRoute(ae)}function m(){return e.getRoutes().map(z=>z.record)}function g(z){return!!e.getRecordMatcher(z)}function v(z,ae){if(ae=en({},ae||l.value),typeof z=="string"){const L=ly(n,z,ae.path),H=e.resolve({path:L.path},ae),le=i.createHref(L.fullPath);return en(L,H,{params:f(H.params),hash:Xd(L.hash),redirectedFrom:void 0,href:le})}let X;if(z.path!=null)X=en({},z,{path:ly(n,z.path,ae.path).path});else{const L=en({},z.params);for(const H in L)L[H]==null&&delete L[H];X=en({},z,{params:d(L)}),ae.params=d(ae.params)}const he=e.resolve(X,ae),be=z.hash||"";he.params=c(f(he.params));const oe=Z6(r,en({},z,{hash:G6(be),path:he.path})),C=i.createHref(oe);return en({fullPath:oe,hash:be,query:r===vE?PU(z.query):z.query||{}},he,{redirectedFrom:void 0,href:C})}function y(z){return typeof z=="string"?ly(n,z,l.value.path):en({},z)}function _(z,ae){if(u!==z)return Hu(8,{from:ae,to:z})}function b(z){return x(z)}function w(z){return b(en(y(z),{replace:!0}))}function T(z){const ae=z.matched[z.matched.length-1];if(ae&&ae.redirect){const{redirect:X}=ae;let he=typeof X=="function"?X(z):X;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=y(he):{path:he},he.params={}),en({query:z.query,hash:z.hash,params:he.path!=null?{}:z.params},he)}}function x(z,ae){const X=u=v(z),he=l.value,be=z.state,oe=z.force,C=z.replace===!0,L=T(X);if(L)return x(en(y(L),{state:typeof L=="object"?en({},be,L.state):be,force:oe,replace:C}),ae||X);const H=X;H.redirectedFrom=ae;let le;return!oe&&eU(r,he,X)&&(le=Hu(16,{to:H,from:he}),ee(he,he,!0,!1)),(le?Promise.resolve(le):E(H,he)).catch(ue=>Bs(ue)?Bs(ue,2)?ue:I(ue):G(ue,H,he)).then(ue=>{if(ue){if(Bs(ue,2))return x(en({replace:C},y(ue.to),{state:typeof ue.to=="object"?en({},be,ue.to.state):be,force:oe}),ae||H)}else ue=$(H,he,!0,C,be);return M(H,he,ue),ue})}function A(z,ae){const X=_(z,ae);return X?Promise.reject(X):Promise.resolve()}function O(z){const ae=ve.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(z):z()}function E(z,ae){let X;const[he,be,oe]=FU(z,ae);X=uy(he.reverse(),"beforeRouteLeave",z,ae);for(const L of he)L.leaveGuards.forEach(H=>{X.push(Mo(H,z,ae))});const C=A.bind(null,z,ae);return X.push(C),j(X).then(()=>{X=[];for(const L of s.list())X.push(Mo(L,z,ae));return X.push(C),j(X)}).then(()=>{X=uy(be,"beforeRouteUpdate",z,ae);for(const L of be)L.updateGuards.forEach(H=>{X.push(Mo(H,z,ae))});return X.push(C),j(X)}).then(()=>{X=[];for(const L of oe)if(L.beforeEnter)if(ds(L.beforeEnter))for(const H of L.beforeEnter)X.push(Mo(H,z,ae));else X.push(Mo(L.beforeEnter,z,ae));return X.push(C),j(X)}).then(()=>(z.matched.forEach(L=>L.enterCallbacks={}),X=uy(oe,"beforeRouteEnter",z,ae,O),X.push(C),j(X))).then(()=>{X=[];for(const L of o.list())X.push(Mo(L,z,ae));return X.push(C),j(X)}).catch(L=>Bs(L,8)?L:Promise.reject(L))}function M(z,ae,X){a.list().forEach(he=>O(()=>he(z,ae,X)))}function $(z,ae,X,he,be){const oe=_(z,ae);if(oe)return oe;const C=ae===To,L=Jl?history.state:{};X&&(he||C?i.replace(z.fullPath,en({scroll:C&&L&&L.scroll},be)):i.push(z.fullPath,be)),l.value=z,ee(z,ae,X,C),I()}let D;function k(){D||(D=i.listen((z,ae,X)=>{if(!ne.listening)return;const he=v(z),be=T(he);if(be){x(en(be,{replace:!0}),he).catch(vd);return}u=he;const oe=l.value;Jl&&lU(uE(oe.fullPath,X.delta),Ng()),E(he,oe).catch(C=>Bs(C,12)?C:Bs(C,2)?(x(C.to,he).then(L=>{Bs(L,20)&&!X.delta&&X.type===Qd.pop&&i.go(-1,!1)}).catch(vd),Promise.reject()):(X.delta&&i.go(-X.delta,!1),G(C,he,oe))).then(C=>{C=C||$(he,oe,!1),C&&(X.delta&&!Bs(C,8)?i.go(-X.delta,!1):X.type===Qd.pop&&Bs(C,20)&&i.go(-1,!1)),M(he,oe,C)}).catch(vd)}))}let N=kc(),R=kc(),B;function G(z,ae,X){I(z);const he=R.list();return he.length?he.forEach(be=>be(z,ae,X)):console.error(z),Promise.reject(z)}function F(){return B&&l.value!==To?Promise.resolve():new Promise((z,ae)=>{N.add([z,ae])})}function I(z){return B||(B=!z,k(),N.list().forEach(([ae,X])=>z?X(z):ae()),N.reset()),z}function ee(z,ae,X,he){const{scrollBehavior:be}=t;if(!Jl||!be)return Promise.resolve();const oe=!X&&uU(uE(z.fullPath,0))||(he||!X)&&history.state&&history.state.scroll||null;return Wn().then(()=>be(z,ae,oe)).then(C=>C&&aU(C)).catch(C=>G(C,z,ae))}const te=z=>i.go(z);let ge;const ve=new Set,ne={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:g,getRoutes:m,resolve:v,options:t,push:b,replace:w,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:R.add,isReady:F,install(z){const ae=this;z.component("RouterLink",RU),z.component("RouterView",fx),z.config.globalProperties.$router=ae,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),Jl&&!ge&&l.value===To&&(ge=!0,b(i.location).catch(be=>{}));const X={};for(const be in To)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});z.provide(Mg,ae),z.provide(C1,i1(X)),z.provide(t0,l);const he=z.unmount;ve.add(z),z.unmount=function(){ve.delete(z),ve.size<1&&(u=To,D&&D(),D=null,l.value=To,ge=!1,B=!1),he()}}};function j(z){return z.reduce((ae,X)=>ae.then(()=>O(X)),Promise.resolve())}return ne}function FU(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>ju(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ju(u,l))||i.push(l))}return[n,r,i]}function hx(){return Jr(Mg)}function O1(){return Jr(C1)}const UU=Ae({__name:"App",setup(t){return(e,n)=>(S(),U(Te,null,[Z(P(fx)),Z($6)],64))}});var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=function(t,e){if(!t)throw pc(e)},pc=function(t){return new Error("Firebase Database ("+px.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new BU;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gx=function(t){const e=mx(t);return $g.encodeByteArray(e,!0)},hm=function(t){return gx(t).replace(/\./g,"")},pm=function(t){try{return $g.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return vx(void 0,t)}function vx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!HU(n)||(t[n]=vx(t[n],e[n]));return t}function HU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=()=>yx().__FIREBASE_DEFAULTS__,KU=()=>{if(typeof process>"u"||typeof SE>"u")return;const t=SE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pm(t[1]);return e&&JSON.parse(e)},Lg=()=>{try{return WU()||KU()||zU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bx=t=>{var e,n;return(n=(e=Lg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wx=t=>{const e=bx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_x=()=>{var t;return(t=Lg())===null||t===void 0?void 0:t.config},Tx=t=>{var e;return(e=Lg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hm(JSON.stringify(n)),hm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function GU(){var t;const e=(t=Lg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ex(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ix(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YU(){const t=Wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cx(){return px.NODE_ADMIN===!0}function Fg(){try{return typeof indexedDB=="object"}catch{return!1}}function Ox(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function qU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="FirebaseError";class Di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XU,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Di(i,a,r)}}function QU(t,e){return t.replace(JU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return JSON.parse(t)}function Er(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Jd(pm(s[0])||""),n=Jd(pm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},ZU=function(t){const e=Ax(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},e5=function(t){const e=Ax(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function n0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Zd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EE(s)&&EE(o)){if(!Zd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function n5(t,e){const n=new r5(t,e);return n.subscribe.bind(n)}class r5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}function s5(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Fe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ug=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=1e3,u5=2,c5=4*60*60*1e3,d5=.5;function r0(t,e=l5,n=u5){const r=e*Math.pow(n,t),i=Math.round(d5*r*(Math.random()-.5)*2);return Math.min(c5,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ol;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p5(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h5(t){return t===Ea?void 0:t}function p5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ft||(Ft={}));const g5={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},v5=Ft.INFO,y5={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},b5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gc{constructor(e){this.name=e,this._logLevel=v5,this._logHandler=b5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const w5=(t,e)=>e.some(n=>t instanceof n);let IE,CE;function _5(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T5(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Px=new WeakMap,i0=new WeakMap,kx=new WeakMap,dy=new WeakMap,P1=new WeakMap;function S5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Px.set(n,t)}).catch(()=>{}),P1.set(e,t),e}function E5(t){if(i0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});i0.set(t,e)}let s0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I5(t){s0=t(s0)}function C5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fy(this),e,...n);return kx.set(r,e.sort?e.sort():[e]),Go(r)}:T5().includes(t)?function(...e){return t.apply(fy(this),e),Go(Px.get(this))}:function(...e){return Go(t.apply(fy(this),e))}}function O5(t){return typeof t=="function"?C5(t):(t instanceof IDBTransaction&&E5(t),w5(t,_5())?new Proxy(t,s0):t)}function Go(t){if(t instanceof IDBRequest)return S5(t);if(dy.has(t))return dy.get(t);const e=O5(t);return e!==t&&(dy.set(t,e),P1.set(e,t)),e}const fy=t=>P1.get(t);function A5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Go(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Go(o.result),l.oldVersion,l.newVersion,Go(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const P5=["get","getKey","getAll","getAllKeys","count"],k5=["put","add","delete","clear"],hy=new Map;function OE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hy.set(e,s),s}I5(t=>({...t,get:(e,n,r)=>OE(e,n)||t.get(e,n,r),has:(e,n)=>!!OE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o0="@firebase/app",AE="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new gc("@firebase/app"),R5="@firebase/app-compat",N5="@firebase/analytics-compat",M5="@firebase/analytics",$5="@firebase/app-check-compat",L5="@firebase/app-check",F5="@firebase/auth",U5="@firebase/auth-compat",V5="@firebase/database",B5="@firebase/database-compat",j5="@firebase/functions",H5="@firebase/functions-compat",W5="@firebase/installations",K5="@firebase/installations-compat",z5="@firebase/messaging",G5="@firebase/messaging-compat",Y5="@firebase/performance",q5="@firebase/performance-compat",X5="@firebase/remote-config",Q5="@firebase/remote-config-compat",J5="@firebase/storage",Z5="@firebase/storage-compat",eV="@firebase/firestore",tV="@firebase/firestore-compat",nV="firebase",rV="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="[DEFAULT]",iV={[o0]:"fire-core",[R5]:"fire-core-compat",[M5]:"fire-analytics",[N5]:"fire-analytics-compat",[L5]:"fire-app-check",[$5]:"fire-app-check-compat",[F5]:"fire-auth",[U5]:"fire-auth-compat",[V5]:"fire-rtdb",[B5]:"fire-rtdb-compat",[j5]:"fire-fn",[H5]:"fire-fn-compat",[W5]:"fire-iid",[K5]:"fire-iid-compat",[z5]:"fire-fcm",[G5]:"fire-fcm-compat",[Y5]:"fire-perf",[q5]:"fire-perf-compat",[X5]:"fire-rc",[Q5]:"fire-rc-compat",[J5]:"fire-gcs",[Z5]:"fire-gcs-compat",[eV]:"fire-fst",[tV]:"fire-fst-compat","fire-js":"fire-js",[nV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,l0=new Map;function sV(t,e){try{t.container.addComponent(e)}catch(n){al.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if(l0.has(e))return al.debug(`There were multiple attempts to register component ${e}.`),!1;l0.set(e,t);for(const n of gm.values())sV(n,t);return!0}function Fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yo=new da("app","Firebase",oV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=rV;function xx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:a0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=_x()),!n)throw Yo.create("no-options");const s=gm.get(i);if(s){if(Zd(n,s.options)&&Zd(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const o=new m5(i);for(const l of l0.values())o.addComponent(l);const a=new aV(n,r,o);return gm.set(i,a),a}function vc(t=a0){const e=gm.get(t);if(!e&&t===a0&&_x())return xx();if(!e)throw Yo.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let i=(r=iV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),al.warn(a.join(" "));return}gi(new ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="firebase-heartbeat-database",uV=1,ef="firebase-heartbeat-store";let py=null;function Dx(){return py||(py=A5(lV,uV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ef)}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),py}async function cV(t){try{return await(await Dx()).transaction(ef).objectStore(ef).get(Rx(t))}catch(e){if(e instanceof Di)al.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});al.warn(n.message)}}}async function PE(t,e){try{const r=(await Dx()).transaction(ef,"readwrite");await r.objectStore(ef).put(e,Rx(t)),await r.done}catch(n){if(n instanceof Di)al.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});al.warn(r.message)}}}function Rx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=1024,fV=30*24*60*60*1e3;class hV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=fV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kE(),{heartbeatsToSend:n,unsentEntries:r}=pV(this._heartbeatsCache.heartbeats),i=hm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function kE(){return new Date().toISOString().substring(0,10)}function pV(t,e=dV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fg()?Ox().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xE(t){return hm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){gi(new ei("platform-logger",e=>new x5(e),"PRIVATE")),gi(new ei("heartbeat",e=>new hV(e),"PRIVATE")),Cr(o0,AE,t),Cr(o0,AE,"esm2017"),Cr("fire-js","")}gV("");const vV=(t,e)=>e.some(n=>t instanceof n);let DE,RE;function yV(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bV(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,u0=new WeakMap,Mx=new WeakMap,my=new WeakMap,k1=new WeakMap;function wV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nx.set(n,t)}).catch(()=>{}),k1.set(e,t),e}function _V(t){if(u0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});u0.set(t,e)}let c0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TV(t){c0=t(c0)}function SV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gy(this),e,...n);return Mx.set(r,e.sort?e.sort():[e]),qo(r)}:bV().includes(t)?function(...e){return t.apply(gy(this),e),qo(Nx.get(this))}:function(...e){return qo(t.apply(gy(this),e))}}function EV(t){return typeof t=="function"?SV(t):(t instanceof IDBTransaction&&_V(t),vV(t,yV())?new Proxy(t,c0):t)}function qo(t){if(t instanceof IDBRequest)return wV(t);if(my.has(t))return my.get(t);const e=EV(t);return e!==t&&(my.set(t,e),k1.set(e,t)),e}const gy=t=>k1.get(t);function IV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qo(o.result),l.oldVersion,l.newVersion,qo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const CV=["get","getKey","getAll","getAllKeys","count"],OV=["put","add","delete","clear"],vy=new Map;function NE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vy.get(e))return vy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return vy.set(e,s),s}TV(t=>({...t,get:(e,n,r)=>NE(e,n)||t.get(e,n,r),has:(e,n)=>!!NE(e,n)||t.has(e,n)}));const $x="@firebase/installations",x1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=1e4,Fx=`w:${x1}`,Ux="FIS_v2",AV="https://firebaseinstallations.googleapis.com/v1",PV=60*60*1e3,kV="installations",xV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ll=new da(kV,xV,DV);function Vx(t){return t instanceof Di&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx({projectId:t}){return`${AV}/projects/${t}/installations`}function jx(t){return{token:t.token,requestStatus:2,expiresIn:NV(t.expiresIn),creationTime:Date.now()}}async function Hx(t,e){const r=(await e.json()).error;return ll.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Wx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function RV(t,{refreshToken:e}){const n=Wx(t);return n.append("Authorization",MV(e)),n}async function Kx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function NV(t){return Number(t.replace("s","000"))}function MV(t){return`${Ux} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Bx(t),i=Wx(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Ux,appId:t.appId,sdkVersion:Fx},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Kx(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:jx(u.authToken)}}else throw await Hx("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=/^[cdef][\w-]{21}$/,d0="";function UV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=VV(t);return FV.test(n)?n:d0}catch{return d0}}function VV(t){return LV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new Map;function Yx(t,e){const n=Vg(t);qx(n,e),BV(n,e)}function qx(t,e){const n=Gx.get(t);if(n)for(const r of n)r(e)}function BV(t,e){const n=jV();n&&n.postMessage({key:t,fid:e}),HV()}let Ma=null;function jV(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=t=>{qx(t.data.key,t.data.fid)}),Ma}function HV(){Gx.size===0&&Ma&&(Ma.close(),Ma=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="firebase-installations-database",KV=1,ul="firebase-installations-store";let yy=null;function D1(){return yy||(yy=IV(WV,KV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ul)}}})),yy}async function vm(t,e){const n=Vg(t),i=(await D1()).transaction(ul,"readwrite"),s=i.objectStore(ul),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Yx(t,e.fid),e}async function Xx(t){const e=Vg(t),r=(await D1()).transaction(ul,"readwrite");await r.objectStore(ul).delete(e),await r.done}async function Bg(t,e){const n=Vg(t),i=(await D1()).transaction(ul,"readwrite"),s=i.objectStore(ul),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Yx(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(t){let e;const n=await Bg(t.appConfig,r=>{const i=zV(r),s=GV(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===d0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function zV(t){const e=t||{fid:UV(),registrationStatus:0};return Qx(e)}function GV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ll.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=YV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qV(t)}:{installationEntry:e}}async function YV(t,e){try{const n=await $V(t,e);return vm(t.appConfig,n)}catch(n){throw Vx(n)&&n.customData.serverCode===409?await Xx(t.appConfig):await vm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function qV(t){let e=await ME(t.appConfig);for(;e.registrationStatus===1;)await zx(100),e=await ME(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await R1(t);return r||n}return e}function ME(t){return Bg(t,e=>{if(!e)throw ll.create("installation-not-found");return Qx(e)})}function Qx(t){return XV(t)?{fid:t.fid,registrationStatus:0}:t}function XV(t){return t.registrationStatus===1&&t.registrationTime+Lx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV({appConfig:t,heartbeatServiceProvider:e},n){const r=JV(t,n),i=RV(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Fx,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Kx(()=>fetch(r,a));if(l.ok){const u=await l.json();return jx(u)}else throw await Hx("Generate Auth Token",l)}function JV(t,{fid:e}){return`${Bx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(t,e=!1){let n;const r=await Bg(t.appConfig,s=>{if(!Jx(s))throw ll.create("not-registered");const o=s.authToken;if(!e&&t9(o))return s;if(o.requestStatus===1)return n=ZV(t,e),s;{if(!navigator.onLine)throw ll.create("app-offline");const a=r9(s);return n=e9(t,a),a}});return n?await n:r.authToken}async function ZV(t,e){let n=await $E(t.appConfig);for(;n.authToken.requestStatus===1;)await zx(100),n=await $E(t.appConfig);const r=n.authToken;return r.requestStatus===0?N1(t,e):r}function $E(t){return Bg(t,e=>{if(!Jx(e))throw ll.create("not-registered");const n=e.authToken;return i9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function e9(t,e){try{const n=await QV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await vm(t.appConfig,r),n}catch(n){if(Vx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Xx(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vm(t.appConfig,r)}throw n}}function Jx(t){return t!==void 0&&t.registrationStatus===2}function t9(t){return t.requestStatus===2&&!n9(t)}function n9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+PV}function r9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function i9(t){return t.requestStatus===1&&t.requestTime+Lx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t){const e=t,{installationEntry:n,registrationPromise:r}=await R1(e);return r?r.catch(console.error):N1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e=!1){const n=t;return await a9(n),(await N1(n,e)).token}async function a9(t){const{registrationPromise:e}=await R1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){if(!t||!t.options)throw by("App Configuration");if(!t.name)throw by("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw by(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function by(t){return ll.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="installations",u9="installations-internal",c9=t=>{const e=t.getProvider("app").getImmediate(),n=l9(e),r=Fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},d9=t=>{const e=t.getProvider("app").getImmediate(),n=Fs(e,Zx).getImmediate();return{getId:()=>s9(n),getToken:i=>o9(n,i)}};function f9(){gi(new ei(Zx,c9,"PUBLIC")),gi(new ei(u9,d9,"PRIVATE"))}f9();Cr($x,x1);Cr($x,x1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="analytics",h9="firebase_id",p9="origin",m9=60*1e3,g9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",M1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new gc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Oi=new da("analytics","Analytics",v9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){if(!t.startsWith(M1)){const e=Oi.create("invalid-gtag-resource",{gtagURL:t});return hi.warn(e.message),""}return t}function eD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function b9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function w9(t,e){const n=b9("firebase-js-sdk-policy",{createScriptURL:y9}),r=document.createElement("script"),i=`${M1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function _9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function T9(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await eD(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){hi.error(a)}t("config",i,s)}async function S9(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await eD(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){hi.error(s)}}function E9(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await S9(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await T9(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){hi.error(a)}}return i}function I9(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=E9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function C9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(M1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=30,A9=1e3;class P9{constructor(e={},n=A9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tD=new P9;function k9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x9(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:k9(r)},s=g9.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function D9(t,e=tD,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Oi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Oi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new M9;return setTimeout(async()=>{a.abort()},n!==void 0?n:m9),nD({appId:r,apiKey:i,measurementId:s},o,a,e)}async function nD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=tD){var s;const{appId:o,measurementId:a}=t;try{await R9(r,e)}catch(l){if(a)return hi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await x9(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!N9(u)){if(i.deleteThrottleMetadata(o),a)return hi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?r0(n,i.intervalMillis,O9):r0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),hi.debug(`Calling attemptFetch again in ${c} millis`),nD(t,d,r,i)}}function R9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Oi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function N9(t){if(!(t instanceof Di)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class M9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(){if(Fg())try{await Ox()}catch(t){return hi.warn(Oi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hi.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function F9(t,e,n,r,i,s,o){var a;const l=D9(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&hi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>hi.error(h)),e.push(l);const u=L9().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);C9(s)||w9(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[p9]="firebase",f.update=!0,d!=null&&(f[h9]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.app=e}_delete(){return delete bd[this.app.options.appId],Promise.resolve()}}let bd={},LE=[];const FE={};let wy="dataLayer",V9="gtag",UE,rD,VE=!1;function B9(){const t=[];if(Ex()&&t.push("This is a browser extension environment."),qU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Oi.create("invalid-analytics-context",{errorInfo:e});hi.warn(n.message)}}function j9(t,e,n){B9();const r=t.options.appId;if(!r)throw Oi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Oi.create("no-api-key");if(bd[r]!=null)throw Oi.create("already-exists",{id:r});if(!VE){_9(wy);const{wrappedGtag:s,gtagCore:o}=I9(bd,LE,FE,wy,V9);rD=s,UE=o,VE=!0}return bd[r]=F9(t,LE,FE,e,UE,wy,n),new U9(t)}function H9(t=vc()){t=Wt(t);const e=Fs(t,ym);return e.isInitialized()?e.getImmediate():W9(t)}function W9(t,e={}){const n=Fs(t,ym);if(n.isInitialized()){const i=n.getImmediate();if(Zd(e,n.getOptions()))return i;throw Oi.create("already-initialized")}return n.initialize({options:e})}function K9(t,e,n,r){t=Wt(t),$9(rD,bd[t.app.options.appId],e,n,r).catch(i=>hi.error(i))}const BE="@firebase/analytics",jE="0.10.0";function z9(){gi(new ei(ym,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return j9(r,i,n)},"PUBLIC")),gi(new ei("analytics-internal",t,"PRIVATE")),Cr(BE,jE),Cr(BE,jE,"esm2017");function t(e){try{const n=e.getProvider(ym).getImmediate();return{logEvent:(r,i,s)=>K9(n,r,i,s)}}catch(n){throw Oi.create("interop-component-reg-failed",{reason:n})}}}z9();var G9="firebase",Y9="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(G9,Y9,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map,iD={activated:!1,tokenObservers:[]},q9={initialized:!1,enabled:!1};function ir(t){return f0.get(t)||Object.assign({},iD)}function X9(t,e){return f0.set(t,e),f0.get(t)}function jg(){return q9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="https://content-firebaseappcheck.googleapis.com/v1",Q9="exchangeRecaptchaV3Token",J9="exchangeDebugToken",HE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Z9=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ol,await t8(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ol,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function t8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},di=new da("appCheck","AppCheck",n8);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function $1(t){if(!ir(t).activated)throw di.create("use-before-activation",{appName:t.name})}function oD(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Yh(n)+"d:"),r&&(o+=Yh(r)+"h:"),o+=Yh(i)+"m:"+Yh(s)+"s",o}function Yh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw di.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw di.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw di.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function r8(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${sD}/projects/${n}/apps/${r}:${Q9}?key=${i}`,body:{recaptcha_v3_token:e}}}function aD(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${sD}/projects/${n}/apps/${r}:${J9}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="firebase-app-check-database",s8=1,tf="firebase-app-check-store",lD="debug-token";let qh=null;function uD(){return qh||(qh=new Promise((t,e)=>{try{const n=indexedDB.open(i8,s8);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(di.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(tf,{keyPath:"compositeKey"})}}}catch(n){e(di.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),qh)}function o8(t){return dD(fD(t))}function a8(t,e){return cD(fD(t),e)}function l8(t){return cD(lD,t)}function u8(){return dD(lD)}async function cD(t,e){const r=(await uD()).transaction(tf,"readwrite"),s=r.objectStore(tf).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(di.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function dD(t){const n=(await uD()).transaction(tf,"readonly"),i=n.objectStore(tf).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(di.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function fD(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new gc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t){if(Fg()){let e;try{e=await o8(t)}catch(n){nf.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function _y(t,e){return Fg()?a8(t,e).catch(n=>{nf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function d8(){let t;try{t=await u8()}catch{}if(t)return t;{const e=a5();return l8(e).catch(n=>nf.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){return jg().enabled}async function U1(){const t=jg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function f8(){const t=yx(),e=jg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new ol;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(d8())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8={error:"UNKNOWN_ERROR"};function p8(t){return $g.encodeString(JSON.stringify(t),!1)}async function h0(t,e=!1){const n=t.app;$1(n);const r=ir(n);let i=r.token,s;if(i&&!ou(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(ou(l)?i=l:await _y(n,void 0))}if(!e&&i&&ou(i))return{token:i.token};let o=!1;if(F1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=L1(aD(n,await U1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await _y(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ir(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?nf.warn(l.message):nf.error(l),s=l}let a;return i?s?ou(i)?a={token:i.token,internalError:s}:a=zE(s):(a={token:i.token},r.token=i,await _y(n,i)):a=zE(s),o&&mD(n,a),a}async function m8(t){const e=t.app;$1(e);const{provider:n}=ir(e);if(F1()){const r=await U1(),{token:i}=await L1(aD(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function hD(t,e,n,r){const{app:i}=t,s=ir(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&ou(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),KE(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>KE(t))}function pD(t,e){const n=ir(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function KE(t){const{app:e}=t,n=ir(e);let r=n.tokenRefresher;r||(r=g8(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function g8(t){const{app:e}=t;return new e8(async()=>{const n=ir(e);let r;if(n.token?r=await h0(t,!0):r=await h0(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ir(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},HE.RETRIAL_MIN_WAIT,HE.RETRIAL_MAX_WAIT)}function mD(t,e){const n=ir(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ou(t){return t.expireTimeMillis-Date.now()>0}function zE(t){return{token:p8(h8),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ir(this.app);for(const n of e)pD(this.app,n.next);return Promise.resolve()}}function y8(t,e){return new v8(t,e)}function b8(t){return{getToken:e=>h0(t,e),getLimitedUseToken:()=>m8(t),addTokenListener:e=>hD(t,"INTERNAL",e),removeTokenListener:e=>pD(t.app,e)}}const w8="@firebase/app-check",_8="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="https://www.google.com/recaptcha/api.js";function S8(t,e){const n=new ol,r=ir(t);r.reCAPTCHAState={initialized:n};const i=E8(t),s=WE(!1);return s?GE(t,e,s,i,n):O8(()=>{const o=WE(!1);if(!o)throw new Error("no recaptcha");GE(t,e,o,i,n)}),n.promise}function GE(t,e,n,r,i){n.ready(()=>{C8(t,e,n,r),i.resolve(n)})}function E8(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function I8(t){$1(t);const n=await ir(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ir(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function C8(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{ir(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ir(t).reCAPTCHAState.succeeded=!1}}),s=ir(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function O8(t){const e=document.createElement("script");e.src=T8,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;P8(this._throttleData);const i=await I8(this._app).catch(o=>{throw di.create("recaptcha-error")});if(!(!((e=ir(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw di.create("recaptcha-error");let s;try{s=await L1(r8(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=A8(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),di.create("throttled",{time:oD(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Fs(e,"heartbeat"),S8(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof V1?this._siteKey===e._siteKey:!1}}function A8(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Z9,httpStatus:t};{const n=e?e.backoffCount:0,r=r0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function P8(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw di.create("throttled",{time:oD(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t=vc(),e){t=Wt(t);const n=Fs(t,"app-check");if(jg().initialized||f8(),F1()&&U1().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw di.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return x8(t,e.provider,e.isTokenAutoRefreshEnabled),ir(t).isTokenAutoRefreshEnabled&&hD(r,"INTERNAL",()=>{}),r}function x8(t,e,n){const r=X9(t,Object.assign({},iD));r.activated=!0,r.provider=e,r.cachedTokenPromise=c8(t).then(i=>(i&&ou(i)&&(r.token=i,mD(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const D8="app-check",YE="app-check-internal";function R8(){gi(new ei(D8,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return y8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(YE).initialize()})),gi(new ei(YE,t=>{const e=t.getProvider("app-check").getImmediate();return b8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Cr(w8,_8)}R8();const N8={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},M8=t=>{k8(t,{provider:new V1("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},$8=()=>{const t=xx(N8);return M8(t),H9(t),t},gD=$8();var L8=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let vD;const Hg=t=>vD=t,yD=Symbol();function p0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var wd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(wd||(wd={}));function F8(){const t=bg(!0),e=t.run(()=>re({}));let n=[],r=[];const i=Yf({install(s){Hg(i),i._a=s,s.provide(yD,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!L8?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const bD=()=>{};function qE(t,e,n,r=bD){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Gf()&&wg(i),i}function Fl(t,...e){t.slice().forEach(n=>{n(...e)})}const U8=t=>t();function m0(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];p0(i)&&p0(r)&&t.hasOwnProperty(n)&&!cn(r)&&!As(r)?t[n]=m0(i,r):t[n]=r}return t}const V8=Symbol();function B8(t){return!p0(t)||!t.hasOwnProperty(V8)}const{assign:Po}=Object;function j8(t){return!!(cn(t)&&t.effect)}function H8(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=RP(n.state.value[t]);return Po(c,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=Yf(J(()=>{Hg(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=wD(t,u,e,n,r,!0),l}function wD(t,e,n={},r,i,s){let o;const a=Po({actions:{}},n),l={deep:!0};let u,c,d=[],f=[],h;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),re({});let m;function g(A){let O;u=c=!1,typeof A=="function"?(A(r.state.value[t]),O={type:wd.patchFunction,storeId:t,events:h}):(m0(r.state.value[t],A),O={type:wd.patchObject,payload:A,storeId:t,events:h});const E=m=Symbol();Wn().then(()=>{m===E&&(u=!0)}),c=!0,Fl(d,O,r.state.value[t])}const v=s?function(){const{state:O}=n,E=O?O():{};this.$patch(M=>{Po(M,E)})}:bD;function y(){o.stop(),d=[],f=[],r._s.delete(t)}function _(A,O){return function(){Hg(r);const E=Array.from(arguments),M=[],$=[];function D(R){M.push(R)}function k(R){$.push(R)}Fl(f,{args:E,name:A,store:w,after:D,onError:k});let N;try{N=O.apply(this&&this.$id===t?this:w,E)}catch(R){throw Fl($,R),R}return N instanceof Promise?N.then(R=>(Fl(M,R),R)).catch(R=>(Fl($,R),Promise.reject(R))):(Fl(M,N),N)}}const b={_p:r,$id:t,$onAction:qE.bind(null,f),$patch:g,$reset:v,$subscribe(A,O={}){const E=qE(d,A,O.detached,()=>M()),M=o.run(()=>It(()=>r.state.value[t],$=>{(O.flush==="sync"?c:u)&&A({storeId:t,type:wd.direct,events:h},$)},Po({},l,O)));return E},$dispose:y},w=Dn(b);r._s.set(t,w);const x=(r._a&&r._a.runWithContext||U8)(()=>r._e.run(()=>(o=bg()).run(e)));for(const A in x){const O=x[A];if(cn(O)&&!j8(O)||As(O))s||(p&&B8(O)&&(cn(O)?O.value=p[A]:m0(O,p[A])),r.state.value[t][A]=O);else if(typeof O=="function"){const E=_(A,O);x[A]=E,a.actions[A]=O}}return Po(w,x),Po(Tt(w),x),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:A=>{g(O=>{Po(O,A)})}}),r._p.forEach(A=>{Po(w,o.run(()=>A({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),u=!0,c=!0,w}function _D(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=ck();return a=a||(u?Jr(yD,null):null),a&&Hg(a),a=vD,a._s.has(r)||(s?wD(r,e,i,a):H8(r,i,a)),a._s.get(r)}return o.$id=r,o}function Jt(t){{t=Tt(t);const e={};for(const n in t){const r=t[n];(cn(r)||As(r))&&(e[n]=Fu(t,n))}return e}}const XE=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var W8=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),XE(l,e))}),e.$subscribe(()=>{a.forEach(l=>{XE(l,e)})})}};const TD=F8();TD.use(W8);const wr=class wr{constructor(e,n,r={},i){wr.log(r.debug,n),r.route&&GT.push({name:r.route}),P6({title:i??e,type:e.toLowerCase(),text:n},5e3)}};yo(wr,"success",(e,n={})=>new wr("Success",e,n)),yo(wr,"update",(e,n={})=>new wr("Warning",e,n,"Update")),yo(wr,"warning",(e,n={})=>new wr("Warning",e,n)),yo(wr,"error",(e,n={})=>new wr("Error",e,n)),yo(wr,"generalError",(e,n)=>new wr("Error",(n==null?void 0:n.message)||SD,{debug:e})),yo(wr,"firebaseError",(e,n)=>(wr.log(e,n),n instanceof Di?n.message=Ty[n.code]:n instanceof Error&&Object.keys(Ty).includes(n.name)?n.message=Ty[n.name]:n=void 0,wr.generalError(e,n))),yo(wr,"log",(e,n)=>{e&&console.log(n)});let qe=wr;const SD="Something went wrong",Ty={"":SD,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var K8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue,B1=B1||{},ft=K8||self;function Wg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function eh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function z8(t){return Object.prototype.hasOwnProperty.call(t,Sy)&&t[Sy]||(t[Sy]=++G8)}var Sy="closure_uid_"+(1e9*Math.random()>>>0),G8=0;function Y8(t,e,n){return t.call.apply(t.bind,arguments)}function q8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vr=Y8:Vr=q8,Vr.apply(null,arguments)}function Xh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ha(){this.s=this.s,this.o=this.o}var X8=0;ha.prototype.s=!1;ha.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),X8!=0)&&z8(this)};ha.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ED=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function j1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function QE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Br(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var Q8=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ft.addEventListener("test",()=>{},e),ft.removeEventListener("test",()=>{},e)}catch{}return t}();function rf(t){return/^[\s\xa0]*$/.test(t)}function Kg(){var t=ft.navigator;return t&&(t=t.userAgent)?t:""}function bs(t){return Kg().indexOf(t)!=-1}function H1(t){return H1[" "](t),t}H1[" "]=function(){};function J8(t,e){var n=WB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Z8=bs("Opera"),Ku=bs("Trident")||bs("MSIE"),ID=bs("Edge"),g0=ID||Ku,CD=bs("Gecko")&&!(Kg().toLowerCase().indexOf("webkit")!=-1&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),eB=Kg().toLowerCase().indexOf("webkit")!=-1&&!bs("Edge");function OD(){var t=ft.document;return t?t.documentMode:void 0}var v0;e:{var Ey="",Iy=function(){var t=Kg();if(CD)return/rv:([^\);]+)(\)|;)/.exec(t);if(ID)return/Edge\/([\d\.]+)/.exec(t);if(Ku)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eB)return/WebKit\/(\S+)/.exec(t);if(Z8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Iy&&(Ey=Iy?Iy[1]:""),Ku){var Cy=OD();if(Cy!=null&&Cy>parseFloat(Ey)){v0=String(Cy);break e}}v0=Ey}var y0;if(ft.document&&Ku){var JE=OD();y0=JE||parseInt(v0,10)||void 0}else y0=void 0;var tB=y0;function sf(t,e){if(Br.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CD){e:{try{H1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:nB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&sf.$.h.call(this)}}gr(sf,Br);var nB={2:"touch",3:"pen",4:"mouse"};sf.prototype.h=function(){sf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var th="closure_listenable_"+(1e6*Math.random()|0),rB=0;function iB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++rB,this.fa=this.ia=!1}function zg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function W1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function AD(t){const e={};for(const n in t)e[n]=t[n];return e}const ZE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ZE.length;s++)n=ZE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gg(t){this.src=t,this.g={},this.h=0}Gg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=w0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new iB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function b0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ED(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function w0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var K1="closure_lm_"+(1e6*Math.random()|0),Oy={};function kD(t,e,n,r,i){if(r&&r.once)return DD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kD(t,e[s],n,r,i);return null}return n=Y1(n),t&&t[th]?t.O(e,n,eh(r)?!!r.capture:!!r,i):xD(t,e,n,!1,r,i)}function xD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=eh(i)?!!i.capture:!!i,a=G1(t);if(a||(t[K1]=a=new Gg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=oB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Q8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ND(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oB(){function t(n){return e.call(t.src,t.listener,n)}const e=aB;return t}function DD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)DD(t,e[s],n,r,i);return null}return n=Y1(n),t&&t[th]?t.P(e,n,eh(r)?!!r.capture:!!r,i):xD(t,e,n,!0,r,i)}function RD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)RD(t,e[s],n,r,i);else r=eh(r)?!!r.capture:!!r,n=Y1(n),t&&t[th]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=w0(s,n,r,i),-1<n&&(zg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=G1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=w0(e,n,r,i)),(n=-1<t?e[t]:null)&&z1(n))}function z1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[th])b0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ND(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=G1(e))?(b0(n,t),n.h==0&&(n.src=null,e[K1]=null)):zg(t)}}}function ND(t){return t in Oy?Oy[t]:Oy[t]="on"+t}function aB(t,e){if(t.fa)t=!0;else{e=new sf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&z1(t),t=n.call(r,e)}return t}function G1(t){return t=t[K1],t instanceof Gg?t:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y1(t){return typeof t=="function"?t:(t[Ay]||(t[Ay]=function(e){return t.handleEvent(e)}),t[Ay])}function mr(){ha.call(this),this.i=new Gg(this),this.S=this,this.J=null}gr(mr,ha);mr.prototype[th]=!0;mr.prototype.removeEventListener=function(t,e,n,r){RD(this,t,e,n,r)};function Or(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Br(e,t);else if(e instanceof Br)e.target=e.target||t;else{var i=e;e=new Br(r,t),PD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qh(o,r,!0,e)&&i}if(o=e.g=t,i=Qh(o,r,!0,e)&&i,i=Qh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qh(o,r,!1,e)&&i}mr.prototype.N=function(){if(mr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zg(n[r]);delete t.g[e],t.h--}}this.J=null};mr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};mr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&b0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var q1=ft.JSON.stringify;class lB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function uB(){var t=X1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class cB{constructor(){this.h=this.g=null}add(e,n){const r=MD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var MD=new lB(()=>new dB,t=>t.reset());class dB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hB(t){ft.setTimeout(()=>{throw t},0)}let of,af=!1,X1=new cB,$D=()=>{const t=ft.Promise.resolve(void 0);of=()=>{t.then(pB)}};var pB=()=>{for(var t;t=uB();){try{t.h.call(t.g)}catch(n){hB(n)}var e=MD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}af=!1};function Yg(t,e){mr.call(this),this.h=t||1,this.g=e||ft,this.j=Vr(this.qb,this),this.l=Date.now()}gr(Yg,mr);Ue=Yg.prototype;Ue.ga=!1;Ue.T=null;Ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Or(this,"tick"),this.ga&&(Q1(this),this.start()))}};Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Q1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ue.N=function(){Yg.$.N.call(this),Q1(this),delete this.g};function J1(t,e,n){if(typeof t=="function")n&&(t=Vr(t,n));else if(t&&typeof t.handleEvent=="function")t=Vr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ft.setTimeout(t,e||0)}function LD(t){t.g=J1(()=>{t.g=null,t.i&&(t.i=!1,LD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mB extends ha{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LD(this)}N(){super.N(),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lf(t){ha.call(this),this.h=t,this.g={}}gr(lf,ha);var eI=[];function FD(t,e,n,r){Array.isArray(n)||(n&&(eI[0]=n.toString()),n=eI);for(var i=0;i<n.length;i++){var s=kD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function UD(t){W1(t.g,function(e,n){this.g.hasOwnProperty(n)&&z1(e)},t),t.g={}}lf.prototype.N=function(){lf.$.N.call(this),UD(this)};lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qg(){this.g=!0}qg.prototype.Ea=function(){this.g=!1};function gB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function vB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function au(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bB(t,n)+(r?" "+r:"")})}function yB(t,e){t.info(function(){return"TIMEOUT: "+e})}qg.prototype.info=function(){};function bB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return q1(n)}catch{return e}}var Ol={},tI=null;function Xg(){return tI=tI||new mr}Ol.Ta="serverreachability";function VD(t){Br.call(this,Ol.Ta,t)}gr(VD,Br);function uf(t){const e=Xg();Or(e,new VD(e))}Ol.STAT_EVENT="statevent";function BD(t,e){Br.call(this,Ol.STAT_EVENT,t),this.stat=e}gr(BD,Br);function Xr(t){const e=Xg();Or(e,new BD(e,t))}Ol.Ua="timingevent";function jD(t,e){Br.call(this,Ol.Ua,t),this.size=e}gr(jD,Br);function nh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){t()},e)}var Qg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Z1(){}Z1.prototype.h=null;function nI(t){return t.h||(t.h=t.i())}function WD(){}var rh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function e_(){Br.call(this,"d")}gr(e_,Br);function t_(){Br.call(this,"c")}gr(t_,Br);var _0;function Jg(){}gr(Jg,Z1);Jg.prototype.g=function(){return new XMLHttpRequest};Jg.prototype.i=function(){return{}};_0=new Jg;function ih(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new lf(this),this.P=wB,t=g0?125:void 0,this.V=new Yg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KD}function KD(){this.i=null,this.g="",this.h=!1}var wB=45e3,T0={},bm={};Ue=ih.prototype;Ue.setTimeout=function(t){this.P=t};function S0(t,e,n){t.L=1,t.v=ev(io(e)),t.s=n,t.S=!0,zD(t,null)}function zD(t,e){t.G=Date.now(),sh(t),t.A=io(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),eR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new KD,t.g=_R(t.l,n?e:null,!t.s),0<t.O&&(t.M=new mB(Vr(t.Pa,t,t.g),t.O)),FD(t.U,t.g,"readystatechange",t.nb),e=t.I?AD(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),uf(),gB(t.j,t.u,t.A,t.m,t.W,t.s)}Ue.nb=function(t){t=t.target;const e=this.M;e&&Ts(t)==3?e.l():this.Pa(t)};Ue.Pa=function(t){try{if(t==this.g)e:{const c=Ts(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||g0||this.g&&(this.h.h||this.g.ja()||oI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?uf(3):uf(2)),Zg(this);var n=this.g.da();this.ca=n;t:if(GD(this)){var r=oI(this.g);t="";var i=r.length,s=Ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$a(this),_d(this);var o="";break t}this.h.i=new ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,vB(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rf(a)){var u=a;break t}}u=null}if(n=u)au(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,E0(this,n);else{this.i=!1,this.o=3,Xr(12),$a(this),_d(this);break e}}this.S?(YD(this,c,o),g0&&this.i&&c==3&&(FD(this.U,this.V,"tick",this.mb),this.V.start())):(au(this.j,this.m,o,null),E0(this,o)),c==4&&$a(this),this.i&&!this.J&&(c==4?vR(this.l,this):(this.i=!1,sh(this)))}else BB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Xr(12)):(this.o=0,Xr(13)),$a(this),_d(this)}}}catch{}finally{}};function GD(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function YD(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=_B(t,n),i==bm){e==4&&(t.o=4,Xr(14),r=!1),au(t.j,t.m,null,"[Incomplete Response]");break}else if(i==T0){t.o=4,Xr(15),au(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else au(t.j,t.m,i,null),E0(t,i);GD(t)&&i!=bm&&i!=T0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Xr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),a_(e),e.M=!0,Xr(11))):(au(t.j,t.m,n,"[Invalid Chunked Response]"),$a(t),_d(t))}Ue.mb=function(){if(this.g){var t=Ts(this.g),e=this.g.ja();this.C<e.length&&(Zg(this),YD(this,t,e),this.i&&t!=4&&sh(this))}};function _B(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?bm:(n=Number(e.substring(n,r)),isNaN(n)?T0:(r+=1,r+n>e.length?bm:(e=e.slice(r,r+n),t.C=r+n,e)))}Ue.cancel=function(){this.J=!0,$a(this)};function sh(t){t.Y=Date.now()+t.P,qD(t,t.P)}function qD(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=nh(Vr(t.lb,t),e)}function Zg(t){t.B&&(ft.clearTimeout(t.B),t.B=null)}Ue.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(yB(this.j,this.A),this.L!=2&&(uf(),Xr(17)),$a(this),this.o=2,_d(this)):qD(this,this.Y-t)};function _d(t){t.l.H==0||t.J||vR(t.l,t)}function $a(t){Zg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Q1(t.V),UD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function E0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||I0(n.i,t))){if(!t.K&&I0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Tm(n),rv(n);else break e;o_(n),Xr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nh(Vr(n.ib,n),6e3));if(1>=rR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else La(n,11)}else if((t.K||n.g==t)&&Tm(n),!rf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(n_(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,vn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=wR(r,r.J?r.pa:null,r.Y),o.K){iR(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Zg(a),sh(a)),r.g=o}else mR(r);0<n.j.length&&iv(n)}else u[0]!="stop"&&u[0]!="close"||La(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?La(n,7):s_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}uf(4)}catch{}}function TB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function SB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function XD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=SB(t),r=TB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var QD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wa){this.h=t.h,wm(this,t.j),this.s=t.s,this.g=t.g,_m(this,t.m),this.l=t.l;var e=t.i,n=new cf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rI(this,n),this.o=t.o}else t&&(e=String(t).match(QD))?(this.h=!1,wm(this,e[1]||"",!0),this.s=Zc(e[2]||""),this.g=Zc(e[3]||"",!0),_m(this,e[4]),this.l=Zc(e[5]||"",!0),rI(this,e[6]||"",!0),this.o=Zc(e[7]||"")):(this.h=!1,this.i=new cf(null,this.h))}Wa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ed(e,iI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ed(e,iI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ed(n,n.charAt(0)=="/"?OB:CB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ed(n,PB)),t.join("")};function io(t){return new Wa(t)}function wm(t,e,n){t.j=n?Zc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _m(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rI(t,e,n){e instanceof cf?(t.i=e,kB(t.i,t.h)):(n||(e=ed(e,AB)),t.i=new cf(e,t.h))}function vn(t,e,n){t.i.set(e,n)}function ev(t){return vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ed(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iI=/[#\/\?@]/g,CB=/[#\?:]/g,OB=/[#\?]/g,AB=/[#\?@]/g,PB=/#/g;function cf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pa(t){t.g||(t.g=new Map,t.h=0,t.i&&EB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ue=cf.prototype;Ue.add=function(t,e){pa(this),this.i=null,t=yc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function JD(t,e){pa(t),e=yc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ZD(t,e){return pa(t),e=yc(t,e),t.g.has(e)}Ue.forEach=function(t,e){pa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ue.ta=function(){pa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ue.Z=function(t){pa(this);let e=[];if(typeof t=="string")ZD(this,t)&&(e=e.concat(this.g.get(yc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ue.set=function(t,e){return pa(this),this.i=null,t=yc(this,t),ZD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function eR(t,e,n){JD(t,e),0<n.length&&(t.i=null,t.g.set(yc(t,e),j1(n)),t.h+=n.length)}Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function yc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kB(t,e){e&&!t.j&&(pa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(JD(this,r),eR(this,i,n))},t)),t.j=e}var xB=class{constructor(t,e){this.g=t,this.map=e}};function tR(t){this.l=t||DB,ft.PerformanceNavigationTiming?(t=ft.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ft.g&&ft.g.Ka&&ft.g.Ka()&&ft.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DB=10;function nR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rR(t){return t.h?1:t.g?t.g.size:0}function I0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function n_(t,e){t.g?t.g.add(e):t.h=e}function iR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tR.prototype.cancel=function(){if(this.i=sR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function sR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return j1(t.i)}var RB=class{stringify(t){return ft.JSON.stringify(t,void 0)}parse(t){return ft.JSON.parse(t,void 0)}};function NB(){this.g=new RB}function MB(t,e,n){const r=n||"";try{XD(t,function(i,s){let o=i;eh(i)&&(o=q1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $B(t,e){const n=new qg;if(ft.Image){const r=new Image;r.onload=Xh(Jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xh(Jh,n,r,"TestLoadImage: error",!1,e),r.onabort=Xh(Jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xh(Jh,n,r,"TestLoadImage: timeout",!1,e),ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Jh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function oh(t){this.l=t.fc||null,this.j=t.ob||!1}gr(oh,Z1);oh.prototype.g=function(){return new tv(this.l,this.j)};oh.prototype.i=function(t){return function(){return t}}({});function tv(t,e){mr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=r_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gr(tv,mr);var r_=0;Ue=tv.prototype;Ue.open=function(t,e){if(this.readyState!=r_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,df(this)};Ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ah(this)),this.readyState=r_};Ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,df(this)),this.g&&(this.readyState=3,df(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ft.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function oR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ah(this):df(this),this.readyState==3&&oR(this)}};Ue.Za=function(t){this.g&&(this.response=this.responseText=t,ah(this))};Ue.Ya=function(t){this.g&&(this.response=t,ah(this))};Ue.ka=function(){this.g&&ah(this)};function ah(t){t.readyState=4,t.l=null,t.j=null,t.A=null,df(t)}Ue.setRequestHeader=function(t,e){this.v.append(t,e)};Ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function df(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(tv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LB=ft.JSON.parse;function Un(t){mr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aR,this.L=this.M=!1}gr(Un,mr);var aR="",FB=/^https?$/i,UB=["POST","PUT"];Ue=Un.prototype;Ue.Oa=function(t){this.M=t};Ue.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_0.g(),this.C=this.u?nI(this.u):nI(_0),this.g.onreadystatechange=Vr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){sI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ft.FormData&&t instanceof ft.FormData,!(0<=ED(UB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cR(this),0<this.B&&((this.L=VB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.ua,this)):this.A=J1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){sI(this,s)}};function VB(t){return Ku&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ue.ua=function(){typeof B1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Or(this,"timeout"),this.abort(8))};function sI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lR(t),nv(t)}function lR(t){t.F||(t.F=!0,Or(t,"complete"),Or(t,"error"))}Ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Or(this,"complete"),Or(this,"abort"),nv(this))};Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nv(this,!0)),Un.$.N.call(this)};Ue.La=function(){this.s||(this.G||this.v||this.l?uR(this):this.kb())};Ue.kb=function(){uR(this)};function uR(t){if(t.h&&typeof B1<"u"&&(!t.C[1]||Ts(t)!=4||t.da()!=2)){if(t.v&&Ts(t)==4)J1(t.La,0,t);else if(Or(t,"readystatechange"),Ts(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(QD)[1]||null;!i&&ft.self&&ft.self.location&&(i=ft.self.location.protocol.slice(0,-1)),r=!FB.test(i?i.toLowerCase():"")}n=r}if(n)Or(t,"complete"),Or(t,"success");else{t.m=6;try{var s=2<Ts(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",lR(t)}}finally{nv(t)}}}}function nv(t,e){if(t.g){cR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Or(t,"ready");try{n.onreadystatechange=r}catch{}}}function cR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ft.clearTimeout(t.A),t.A=null)}Ue.isActive=function(){return!!this.g};function Ts(t){return t.g?t.g.readyState:0}Ue.da=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}};Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LB(e)}};function oI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case aR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function BB(t){const e={};t=(t.g&&2<=Ts(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(rf(t[r]))continue;var n=fB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}sB(e,function(r){return r.join(", ")})}Ue.Ia=function(){return this.m};Ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function dR(t){let e="";return W1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function i_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):vn(t,e,n))}function xc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fR(t){this.Ga=0,this.j=[],this.l=new qg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xc("baseRetryDelayMs",5e3,t),this.hb=xc("retryDelaySeedMs",1e4,t),this.eb=xc("forwardChannelMaxRetries",2,t),this.xa=xc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new tR(t&&t.concurrentRequestLimit),this.Ja=new NB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ue=fR.prototype;Ue.ra=8;Ue.H=1;function s_(t){if(hR(t),t.H==3){var e=t.W++,n=io(t.I);if(vn(n,"SID",t.K),vn(n,"RID",e),vn(n,"TYPE","terminate"),lh(t,n),e=new ih(t,t.l,e),e.L=2,e.v=ev(io(n)),n=!1,ft.navigator&&ft.navigator.sendBeacon)try{n=ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ft.Image&&(new Image().src=e.v,n=!0),n||(e.g=_R(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sh(e)}bR(t)}function rv(t){t.g&&(a_(t),t.g.cancel(),t.g=null)}function hR(t){rv(t),t.u&&(ft.clearTimeout(t.u),t.u=null),Tm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ft.clearTimeout(t.m),t.m=null)}function iv(t){if(!nR(t.i)&&!t.m){t.m=!0;var e=t.Na;of||$D(),af||(of(),af=!0),X1.add(e,t),t.C=0}}function jB(t,e){return rR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=nh(Vr(t.Na,t,e),yR(t,t.C)),t.C++,!0)}Ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ih(this,this.l,t);let s=this.s;if(this.U&&(s?(s=AD(s),PD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pR(this,i,e),n=io(this.I),vn(n,"RID",t),vn(n,"CVER",22),this.F&&vn(n,"X-HTTP-Session-Id",this.F),lh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(dR(s)))+"&"+e:this.o&&i_(n,this.o,s)),n_(this.i,i),this.bb&&vn(n,"TYPE","init"),this.P?(vn(n,"$req",e),vn(n,"SID","null"),i.aa=!0,S0(i,n,null)):S0(i,n,e),this.H=2}}else this.H==3&&(t?aI(this,t):this.j.length==0||nR(this.i)||aI(this))};function aI(t,e){var n;e?n=e.m:n=t.W++;const r=io(t.I);vn(r,"SID",t.K),vn(r,"RID",n),vn(r,"AID",t.V),lh(t,r),t.o&&t.s&&i_(r,t.o,t.s),n=new ih(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=pR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),n_(t.i,n),S0(n,r,e)}function lh(t,e){t.na&&W1(t.na,function(n,r){vn(e,r,n)}),t.h&&XD({},function(n,r){vn(e,r,n)})}function pR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{MB(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function mR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;of||$D(),af||(of(),af=!0),X1.add(e,t),t.A=0}}function o_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=nh(Vr(t.Ma,t),yR(t,t.A)),t.A++,!0)}Ue.Ma=function(){if(this.u=null,gR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nh(Vr(this.jb,this),t)}};Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xr(10),rv(this),gR(this))};function a_(t){t.B!=null&&(ft.clearTimeout(t.B),t.B=null)}function gR(t){t.g=new ih(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=io(t.wa);vn(e,"RID","rpc"),vn(e,"SID",t.K),vn(e,"AID",t.V),vn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vn(e,"TO",t.qa),vn(e,"TYPE","xmlhttp"),lh(t,e),t.o&&t.s&&i_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ev(io(e)),n.s=null,n.S=!0,zD(n,t)}Ue.ib=function(){this.v!=null&&(this.v=null,rv(this),o_(this),Xr(19))};function Tm(t){t.v!=null&&(ft.clearTimeout(t.v),t.v=null)}function vR(t,e){var n=null;if(t.g==e){Tm(t),a_(t),t.g=null;var r=2}else if(I0(t.i,e))n=e.F,iR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Xg(),Or(r,new jD(r,n)),iv(t)}else mR(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&jB(t,e)||r==2&&o_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:La(t,5);break;case 4:La(t,10);break;case 3:La(t,6);break;default:La(t,2)}}}function yR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function La(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Vr(t.pb,t);n||(n=new Wa("//www.google.com/images/cleardot.gif"),ft.location&&ft.location.protocol=="http"||wm(n,"https"),ev(n)),$B(n.toString(),r)}else Xr(2);t.H=0,t.h&&t.h.za(e),bR(t),hR(t)}Ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xr(2)):(this.l.info("Failed to ping google.com"),Xr(1))};function bR(t){if(t.H=0,t.ma=[],t.h){const e=sR(t.i);(e.length!=0||t.j.length!=0)&&(QE(t.ma,e),QE(t.ma,t.j),t.i.i.length=0,j1(t.j),t.j.length=0),t.h.ya()}}function wR(t,e,n){var r=n instanceof Wa?io(n):new Wa(n);if(r.g!="")e&&(r.g=e+"."+r.g),_m(r,r.m);else{var i=ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wa(null);r&&wm(s,r),e&&(s.g=e),i&&_m(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&vn(r,n,e),vn(r,"VER",t.ra),lh(t,r),r}function _R(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Un(new oh({ob:!0})):new Un(t.va),e.Oa(t.J),e}Ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function TR(){}Ue=TR.prototype;Ue.Ba=function(){};Ue.Aa=function(){};Ue.za=function(){};Ue.ya=function(){};Ue.isActive=function(){return!0};Ue.Va=function(){};function Sm(){if(Ku&&!(10<=Number(tB)))throw Error("Environmental error: no available transport.")}Sm.prototype.g=function(t,e){return new ki(t,e)};function ki(t,e){mr.call(this),this.g=new fR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new bc(this)}gr(ki,mr);ki.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=wR(t,null,t.Y),iv(t)};ki.prototype.close=function(){s_(this.g)};ki.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=q1(t),t=n);e.j.push(new xB(e.fb++,t)),e.H==3&&iv(e)};ki.prototype.N=function(){this.g.h=null,delete this.j,s_(this.g),delete this.g,ki.$.N.call(this)};function SR(t){e_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gr(SR,e_);function ER(){t_.call(this),this.status=1}gr(ER,t_);function bc(t){this.g=t}gr(bc,TR);bc.prototype.Ba=function(){Or(this.g,"a")};bc.prototype.Aa=function(t){Or(this.g,new SR(t))};bc.prototype.za=function(t){Or(this.g,new ER)};bc.prototype.ya=function(){Or(this.g,"b")};function HB(){this.blockSize=-1}function fs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gr(fs,HB);fs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Py(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}fs.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Py(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Py(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Py(this,r),i=0;break}}this.h=i,this.i+=e};fs.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function nn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var WB={};function l_(t){return-128<=t&&128>t?J8(t,function(e){return new nn([e|0],0>e?-1:0)}):new nn([t|0],0>t?-1:0)}function Ss(t){if(isNaN(t)||!isFinite(t))return Cu;if(0>t)return Sr(Ss(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=C0;return new nn(e,0)}function IR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Sr(IR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ss(Math.pow(e,8)),r=Cu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ss(Math.pow(e,s)),r=r.R(s).add(Ss(o))):(r=r.R(n),r=r.add(Ss(o)))}return r}var C0=4294967296,Cu=l_(0),O0=l_(1),lI=l_(16777216);Ue=nn.prototype;Ue.ea=function(){if(Li(this))return-Sr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:C0+r)*e,e*=C0}return t};Ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Li(this))return"-"+Sr(this).toString(t);for(var e=Ss(Math.pow(t,6)),n=this,r="";;){var i=Im(n,e).g;n=Em(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Li(t){return t.h==-1}Ue.X=function(t){return t=Em(this,t),Li(t)?-1:zs(t)?0:1};function Sr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new nn(n,~t.h).add(O0)}Ue.abs=function(){return Li(this)?Sr(this):this};Ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new nn(n,n[n.length-1]&-2147483648?-1:0)};function Em(t,e){return t.add(Sr(e))}Ue.R=function(t){if(zs(this)||zs(t))return Cu;if(Li(this))return Li(t)?Sr(this).R(Sr(t)):Sr(Sr(this).R(t));if(Li(t))return Sr(this.R(Sr(t)));if(0>this.X(lI)&&0>t.X(lI))return Ss(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Zh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Zh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Zh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Zh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new nn(n,0)};function Zh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Dc(t,e){this.g=t,this.h=e}function Im(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new Dc(Cu,Cu);if(Li(t))return e=Im(Sr(t),e),new Dc(Sr(e.g),Sr(e.h));if(Li(e))return e=Im(t,Sr(e)),new Dc(Sr(e.g),e.h);if(30<t.g.length){if(Li(t)||Li(e))throw Error("slowDivide_ only works with positive integers.");for(var n=O0,r=e;0>=r.X(t);)n=uI(n),r=uI(r);var i=Ul(n,1),s=Ul(r,1);for(r=Ul(r,2),n=Ul(n,2);!zs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ul(r,1),n=Ul(n,1)}return e=Em(t,i.R(e)),new Dc(i,e)}for(i=Cu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ss(n),o=s.R(e);Li(o)||0<o.X(t);)n-=r,s=Ss(n),o=s.R(e);zs(s)&&(s=O0),i=i.add(s),t=Em(t,o)}return new Dc(i,t)}Ue.gb=function(t){return Im(this,t).h};Ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new nn(n,this.h&t.h)};Ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new nn(n,this.h|t.h)};Ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new nn(n,this.h^t.h)};function uI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new nn(n,t.h)}function Ul(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new nn(i,t.h)}Sm.prototype.createWebChannel=Sm.prototype.g;ki.prototype.send=ki.prototype.u;ki.prototype.open=ki.prototype.m;ki.prototype.close=ki.prototype.close;Qg.NO_ERROR=0;Qg.TIMEOUT=8;Qg.HTTP_ERROR=6;HD.COMPLETE="complete";WD.EventType=rh;rh.OPEN="a";rh.CLOSE="b";rh.ERROR="c";rh.MESSAGE="d";mr.prototype.listen=mr.prototype.O;Un.prototype.listenOnce=Un.prototype.P;Un.prototype.getLastError=Un.prototype.Sa;Un.prototype.getLastErrorCode=Un.prototype.Ia;Un.prototype.getStatus=Un.prototype.da;Un.prototype.getResponseJson=Un.prototype.Wa;Un.prototype.getResponseText=Un.prototype.ja;Un.prototype.send=Un.prototype.ha;Un.prototype.setWithCredentials=Un.prototype.Oa;fs.prototype.digest=fs.prototype.l;fs.prototype.reset=fs.prototype.reset;fs.prototype.update=fs.prototype.j;nn.prototype.add=nn.prototype.add;nn.prototype.multiply=nn.prototype.R;nn.prototype.modulo=nn.prototype.gb;nn.prototype.compare=nn.prototype.X;nn.prototype.toNumber=nn.prototype.ea;nn.prototype.toString=nn.prototype.toString;nn.prototype.getBits=nn.prototype.D;nn.fromNumber=Ss;nn.fromString=IR;var KB=function(){return new Sm},zB=function(){return Xg()},ky=Qg,GB=HD,YB=Ol,cI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qB=oh,ep=WD,XB=Un,QB=fs,Ou=nn;const dI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new gc("@firebase/firestore");function fI(){return cl.logLevel}function Je(t,...e){if(cl.logLevel<=Ft.DEBUG){const n=e.map(u_);cl.debug(`Firestore (${wc}): ${t}`,...n)}}function so(t,...e){if(cl.logLevel<=Ft.ERROR){const n=e.map(u_);cl.error(`Firestore (${wc}): ${t}`,...n)}}function zu(t,...e){if(cl.logLevel<=Ft.WARN){const n=e.map(u_);cl.warn(`Firestore (${wc}): ${t}`,...n)}}function u_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t="Unexpected state"){const e=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: `+t;throw so(e),new Error(e)}function bn(t,e){t||dt()}function gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let JB=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xr.UNAUTHENTICATED))}shutdown(){}},ZB=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ej=class{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new eo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new eo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bn(typeof r.accessToken=="string"),new CR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string"),new xr(e)}},tj=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},nj=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new tj(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rj=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ij=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bn(typeof n.token=="string"),this.T=n.token,new rj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OR=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Yt(t,e){return t<e?-1:t>e?1:0}function Gu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xn=class Dp{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dp.fromMillis(Date.now())}static fromDate(e){return Dp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dp(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class Rp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rp(e)}static min(){return new Rp(new Xn(0,0))}static max(){return new Rp(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR=class A0{constructor(e,n,r){n===void 0?n=0:n>e.length&&dt(),r===void 0?r=e.length-n:r>e.length-n&&dt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return A0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof A0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fn=class Np extends AR{construct(e,n,r){return new Np(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Np(n)}static emptyPath(){return new Np([])}};const oj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Ms=class Zl extends AR{construct(e,n,r){return new Zl(e,n,r)}static isValidIdentifier(e){return oj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zl(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Me(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Me(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Me(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Me(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zl(n)}static emptyPath(){return new Zl([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rt=class td{constructor(e){this.path=e}static fromPath(e){return new td(Fn.fromString(e))}static fromName(e){return new td(Fn.fromString(e).popFirst(5))}static empty(){return new td(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new td(new Fn(e.slice()))}};function aj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new Xn(n+1,0):new Xn(n,r));return new ff(i,rt.empty(),e)}function lj(t){return new ff(t.readTime,t.key,-1)}let ff=class P0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new P0(vt.min(),rt.empty(),-1)}static max(){return new P0(vt.max(),rt.empty(),-1)}};function uj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let dj=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==cj)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ne=class si{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new si((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof si?n:si.resolve(n)}catch(n){return si.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):si.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):si.reject(n)}static resolve(e){return new si((n,r)=>{n(e)})}static reject(e){return new si((n,r)=>{r(e)})}static waitFor(e){return new si((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=si.resolve(!1);for(const r of e)n=n.next(i=>i?si.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new si((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new si((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function ch(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};c_.ct=-1;function sv(t){return t==null}function Cm(t){return t===0&&1/t==-1/0}function fj(t){return typeof t=="number"&&Number.isInteger(t)&&!Cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn=class k0{constructor(e,n){this.comparator=e,this.root=n||Tr.EMPTY}insert(e,n){return new k0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new k0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}},tp=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}};class Tr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tr.RED,this.left=i??Tr.EMPTY,this.right=s??Tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Tr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai=class x0{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pI(this.data.getIterator())}getIteratorFrom(e){return new pI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof x0)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new x0(this.comparator);return n.data=e,n}},pI=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es=class D0{constructor(e){this.fields=e,e.sort(Ms.comparator)}static empty(){return new D0([])}unionWith(e){let n=new Ai(Ms.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new D0(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kR=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi=class R0{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kR("Invalid base64 string: "+i):i}}(e);return new R0(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new R0(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xi.EMPTY_BYTE_STRING=new xi("");const hj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(bn(!!t),typeof t=="string"){let e=0;const n=hj.exec(t);if(bn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qn(t.seconds),nanos:qn(t.nanos)}}function qn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dl(t){return typeof t=="string"?xi.fromBase64String(t):xi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function d_(t){const e=t.mapValue.fields.__previous_value__;return ov(e)?d_(e):e}function hf(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pj=class{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},xR=class N0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new N0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof N0&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:mj(t)?9007199254740991:10:dt()}function $s(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hf(t).isEqual(hf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=oa(r.timestampValue),o=oa(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return dl(r.bytesValue).isEqual(dl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qn(r.geoPointValue.latitude)===qn(i.geoPointValue.latitude)&&qn(r.geoPointValue.longitude)===qn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qn(r.integerValue)===qn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=qn(r.doubleValue),o=qn(i.doubleValue);return s===o?Cm(s)===Cm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(hI(s)!==hI(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!$s(s[a],o[a])))return!1;return!0}(t,e);default:return dt()}}function pf(t,e){return(t.values||[]).find(n=>$s(n,e))!==void 0}function Yu(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=qn(i.integerValue||i.doubleValue),a=qn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return mI(t.timestampValue,e.timestampValue);case 4:return mI(hf(t),hf(e));case 5:return Yt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=dl(i),a=dl(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Yt(o[l],a[l]);if(u!==0)return u}return Yt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Yt(qn(i.latitude),qn(s.latitude));return o!==0?o:Yt(qn(i.longitude),qn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Yu(o[l],a[l]);if(u)return u}return Yt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===np.mapValue&&s===np.mapValue)return 0;if(i===np.mapValue)return 1;if(s===np.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Yt(a[c],u[c]);if(d!==0)return d;const f=Yu(o[a[c]],l[u[c]]);if(f!==0)return f}return Yt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw dt()}}function mI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=oa(t),r=oa(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function qu(t){return M0(t)}function M0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=oa(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,rt.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=M0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${M0(r.fields[a])}`;return s+"}"}(t.mapValue):dt();var e,n}function Om(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $0(t){return!!t&&"integerValue"in t}function f_(t){return!!t&&"arrayValue"in t}function gI(t){return!!t&&"nullValue"in t}function vI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mp(t){return!!t&&"mapValue"in t}function Td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Al(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Td(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Td(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(n)}setAll(e){let n=Ms.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Td(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Al(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new li(Td(this.value))}}function DR(t){const e=[];return Al(t.fields,(n,r)=>{const i=new Ms([n]);if(Mp(r)){const s=DR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo=class Ia{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ia(e,0,vt.min(),vt.min(),vt.min(),li.empty(),0)}static newFoundDocument(e,n,r,i){return new Ia(e,1,n,vt.min(),r,i,0)}static newNoDocument(e,n){return new Ia(e,2,n,vt.min(),vt.min(),li.empty(),0)}static newUnknownDocument(e,n){return new Ia(e,3,n,vt.min(),vt.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ia(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=class{constructor(e,n){this.position=e,this.inclusive=n}};function yI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=Yu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$s(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function gj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR=class{},fr=class NR extends RR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yj(e,n,r):n==="array-contains"?new _j(e,r):n==="in"?new Tj(e,r):n==="not-in"?new Sj(e,r):n==="array-contains-any"?new Ej(e,r):new NR(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bj(e,r):new wj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yu(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(Yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},ao=class MR extends RR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new MR(e,n)}matches(e){return $R(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function $R(t){return t.op==="and"}function LR(t){return vj(t)&&$R(t)}function vj(t){for(const e of t.filters)if(e instanceof ao)return!1;return!0}function L0(t){if(t instanceof fr)return t.field.canonicalString()+t.op.toString()+qu(t.value);if(LR(t))return t.filters.map(e=>L0(e)).join(",");{const e=t.filters.map(n=>L0(n)).join(",");return`${t.op}(${e})`}}function FR(t,e){return t instanceof fr?function(n,r){return r instanceof fr&&n.op===r.op&&n.field.isEqual(r.field)&&$s(n.value,r.value)}(t,e):t instanceof ao?function(n,r){return r instanceof ao&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&FR(s,r.filters[o]),!0):!1}(t,e):void dt()}function UR(t){return t instanceof fr?function(e){return`${e.field.canonicalString()} ${e.op} ${qu(e.value)}`}(t):t instanceof ao?function(e){return e.op.toString()+" {"+e.getFilters().map(UR).join(" ,")+"}"}(t):"Filter"}let yj=class extends fr{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}},bj=class extends fr{constructor(e,n){super(e,"in",n),this.keys=VR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},wj=class extends fr{constructor(e,n){super(e,"not-in",n),this.keys=VR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function VR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}let _j=class extends fr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f_(n)&&pf(n.arrayValue,this.value)}},Tj=class extends fr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pf(this.value.arrayValue,n)}};class Sj extends fr{constructor(e,n){super(e,"not-in",n)}matches(e){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pf(this.value.arrayValue,n)}}class Ej extends fr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ij=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function wI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ij(t,e,n,r,i,s,o)}function h_(t){const e=gt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>L0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qu(r)).join(",")),e.dt=n}return e.dt}function p_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bI(t.startAt,e.startAt)&&bI(t.endAt,e.endAt)}function F0(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function Cj(t,e,n,r,i,s,o,a){return new Pl(t,e,n,r,i,s,o,a)}function av(t){return new Pl(t)}function _I(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function g_(t){return t.collectionGroup!==null}function Ka(t){const e=gt(t);if(e.wt===null){e.wt=[];const n=lv(e),r=m_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Au(n)),e.wt.push(new Au(Ms.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Au(Ms.keyField(),s))}}}return e.wt}function lo(t){const e=gt(t);if(!e._t)if(e.limitType==="F")e._t=wI(e.path,e.collectionGroup,Ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ka(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Au(s.field,o))}const r=e.endAt?new Xu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xu(e.startAt.position,e.startAt.inclusive):null;e._t=wI(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function U0(t,e){e.getFirstInequalityField(),lv(t);const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Am(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uv(t,e){return p_(lo(t),lo(e))&&t.limitType===e.limitType}function BR(t){return`${h_(lo(t))}|lt:${t.limitType}`}function V0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>UR(r)).join(", ")}]`),sv(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qu(r)).join(",")),`Target(${n})`}(lo(t))}; limitType=${t.limitType})`}function cv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):rt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ka(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=yI(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ka(n),r)||n.endAt&&!function(i,s,o){const a=yI(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ka(n),r))}(t,e)}function Oj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jR(t){return(e,n)=>{let r=!1;for(const i of Ka(t)){const s=Aj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Aj(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Yu(a,l):dt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Zn(rt.comparator);function uo(){return Pj}const HR=new Zn(rt.comparator);function nd(...t){let e=HR;for(const n of t)e=e.insert(n.key,n);return e}function WR(t){let e=HR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fa(){return Sd()}function KR(){return Sd()}function Sd(){return new _c(t=>t.toString(),(t,e)=>t.isEqual(e))}const kj=new Zn(rt.comparator),xj=new Ai(rt.comparator);function Et(...t){let e=xj;for(const n of t)e=e.add(n);return e}const Dj=new Ai(Yt);function Rj(){return Dj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(e)?"-0":e}}function GR(t){return{integerValue:""+t}}function Nj(t,e){return fj(e)?GR(e):zR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this._=void 0}}function Mj(t,e,n){return t instanceof Pm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ov(i)&&(i=d_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof mf?qR(t,e):t instanceof gf?XR(t,e):function(r,i){const s=YR(r,i),o=TI(s)+TI(r.gt);return $0(s)&&$0(r.gt)?GR(o):zR(r.serializer,o)}(t,e)}function $j(t,e,n){return t instanceof mf?qR(t,e):t instanceof gf?XR(t,e):n}function YR(t,e){return t instanceof km?$0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Pm extends dv{}class mf extends dv{constructor(e){super(),this.elements=e}}function qR(t,e){const n=QR(e);for(const r of t.elements)n.some(i=>$s(i,r))||n.push(r);return{arrayValue:{values:n}}}class gf extends dv{constructor(e){super(),this.elements=e}}function XR(t,e){let n=QR(e);for(const r of t.elements)n=n.filter(i=>!$s(i,r));return{arrayValue:{values:n}}}class km extends dv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function TI(t){return qn(t.integerValue||t.doubleValue)}function QR(t){return f_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Lj(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof mf&&r instanceof mf||n instanceof gf&&r instanceof gf?Gu(n.elements,r.elements,$s):n instanceof km&&r instanceof km?$s(n.gt,r.gt):n instanceof Pm&&r instanceof Pm}(t.transform,e.transform)}class Fj{constructor(e,n){this.version=e,this.transformResults=n}}class Bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fv{}function JR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v_(t.key,Bi.none()):new dh(t.key,t.data,Bi.none());{const n=t.data,r=li.empty();let i=new Ai(Ms.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ma(t.key,r,new Es(i.toArray()),Bi.none())}}function Uj(t,e,n){t instanceof dh?function(r,i,s){const o=r.value.clone(),a=EI(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ma?function(r,i,s){if(!$p(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=EI(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ZR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ed(t,e,n,r){return t instanceof dh?function(i,s,o,a){if(!$p(i.precondition,s))return o;const l=i.value.clone(),u=II(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ma?function(i,s,o,a){if(!$p(i.precondition,s))return o;const l=II(i.fieldTransforms,a,s),u=s.data;return u.setAll(ZR(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return $p(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Vj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YR(r.transform,i||null);s!=null&&(n===null&&(n=li.empty()),n.set(r.field,s))}return n||null}function SI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Gu(n,r,(i,s)=>Lj(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dh extends fv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ma extends fv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EI(t,e,n){const r=new Map;bn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$j(o,a,n[i]))}return r}function II(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Mj(s,o,e))}return r}class v_ extends fv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bj extends fv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Uj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=JR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,(n,r)=>SI(n,r))&&Gu(this.baseMutations,e.baseMutations,(n,r)=>SI(n,r))}}class y_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bn(e.mutations.length===r.length);let i=kj;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new y_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,kt;function Kj(t){switch(t){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function e2(t){if(t===void 0)return so("GRPC error has no .code"),pe.UNKNOWN;switch(t){case zn.OK:return pe.OK;case zn.CANCELLED:return pe.CANCELLED;case zn.UNKNOWN:return pe.UNKNOWN;case zn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case zn.INTERNAL:return pe.INTERNAL;case zn.UNAVAILABLE:return pe.UNAVAILABLE;case zn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case zn.NOT_FOUND:return pe.NOT_FOUND;case zn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case zn.ABORTED:return pe.ABORTED;case zn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case zn.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(kt=zn||(zn={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rp}static getOrCreateInstance(){return rp===null&&(rp=new b_),rp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let rp=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new Ou([4294967295,4294967295],0);function CI(t){const e=zj().encode(t),n=new QB;return n.update(e),new Uint8Array(n.digest())}function OI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ou([n,r],0),new Ou([i,s],0)]}class w_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rd(`Invalid padding: ${n}`);if(r<0)throw new rd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ou.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ou.fromNumber(r)));return i.compare(Gj)===1&&(i=new Ou([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=CI(e),[r,i]=OI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new w_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=CI(e),[r,i]=OI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hv(vt.min(),i,new Zn(Yt),uo(),Et())}}class fh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fh(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class t2{constructor(e,n){this.targetId=e,this.Vt=n}}class n2{constructor(e,n,r=xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AI{constructor(){this.St=0,this.Dt=kI(),this.Ct=xi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Et(),n=Et(),r=Et();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new fh(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=kI()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Yj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=uo(),this.zt=PI(),this.Wt=new Zn(Yt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(F0(o))if(i===0){const a=new rt(o.path);this.Yt(r,a,oo.newNoDocument(a,vt.min()))}else bn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=b_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,h,p,m,g,v;const y={localCacheCount:c,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(y.bloomFilter={applied:u===0,hashCount:(f=_==null?void 0:_.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(m=(p=(h=_==null?void 0:_.bits)===null||h===void 0?void 0:h.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(v=(g=_==null?void 0:_.bits)===null||g===void 0?void 0:g.padding)!==null&&v!==void 0?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=dl(s).toUint8Array()}catch(c){if(c instanceof kR)return zu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new w_(l,o,a)}catch(c){return zu(c instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&F0(a.target)){const l=new rt(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,oo.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Et();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new hv(e,n,this.Wt,this.jt,r);return this.jt=uo(),this.zt=PI(),this.Wt=new Zn(Yt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new AI,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ai(Yt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new AI),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function PI(){return new Zn(rt.comparator)}function kI(){return new Zn(rt.comparator)}const qj={asc:"ASCENDING",desc:"DESCENDING"},Xj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qj={and:"AND",or:"OR"};class Jj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B0(t,e){return t.useProto3Json||sv(e)?e:{value:e}}function xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zj(t,e){return xm(t,e.toTimestamp())}function Ps(t){return bn(!!t),vt.fromTimestamp(function(e){const n=oa(e);return new Xn(n.seconds,n.nanos)}(t))}function __(t,e){return function(n){return new Fn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function i2(t){const e=Fn.fromString(t);return bn(l2(e)),e}function j0(t,e){return __(t.databaseId,e.path)}function xy(t,e){const n=i2(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(s2(n))}function H0(t,e){return __(t.databaseId,e)}function e7(t){const e=i2(t);return e.length===4?Fn.emptyPath():s2(e)}function W0(t){return new Fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s2(t){return bn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xI(t,e,n){return{name:j0(t,e),fields:n.value.mapValue.fields}}function t7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(bn(u===void 0||typeof u=="string"),xi.fromBase64String(u||"")):(bn(u===void 0||u instanceof Uint8Array),xi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?pe.UNKNOWN:e2(l.code);return new Me(u,l.message||"")}(o);n=new n2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xy(t,r.document.name),s=Ps(r.document.updateTime),o=r.document.createTime?Ps(r.document.createTime):vt.min(),a=new li({mapValue:{fields:r.document.fields}}),l=oo.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Lp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xy(t,r.document),s=r.readTime?Ps(r.readTime):vt.min(),o=oo.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xy(t,r.document),s=r.removedTargetIds||[];n=new Lp([],s,i,null)}else{if(!("filter"in e))return dt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Wj(i,s),a=r.targetId;n=new t2(a,o)}}return n}function n7(t,e){let n;if(e instanceof dh)n={update:xI(t,e.key,e.value)};else if(e instanceof v_)n={delete:j0(t,e.key)};else if(e instanceof ma)n={update:xI(t,e.key,e.data),updateMask:d7(e.fieldMask)};else{if(!(e instanceof Bj))return dt();n={verify:j0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Pm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof mf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof gf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof km)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw dt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Zj(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:dt()}(t,e.precondition)),n}function r7(t,e){return t&&t.length>0?(bn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ps(r.updateTime):Ps(i);return s.isEqual(vt.min())&&(s=Ps(i)),new Fj(s,r.transformResults||[])}(n,e))):[]}function i7(t,e){return{documents:[H0(t,e.path)]}}function s7(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=H0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=H0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return a2(ao.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:eu(c.field),direction:l7(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=B0(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function o7(t){let e=e7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=o2(c);return d instanceof ao&&LR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Au(tu(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,sv(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Xu(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Xu(f,d)}(n.endAt)),Cj(e,i,o,s,a,"F",l,u)}function a7(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=tu(e.unaryFilter.field);return fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=tu(e.unaryFilter.field);return fr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tu(e.unaryFilter.field);return fr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tu(e.unaryFilter.field);return fr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(t):t.fieldFilter!==void 0?function(e){return fr.create(tu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ao.create(e.compositeFilter.filters.map(n=>o2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(t):dt()}function l7(t){return qj[t]}function u7(t){return Xj[t]}function c7(t){return Qj[t]}function eu(t){return{fieldPath:t.canonicalString()}}function tu(t){return Ms.fromServerFormat(t.fieldPath)}function a2(t){return t instanceof fr?function(e){if(e.op==="=="){if(vI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NAN"}};if(gI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(vI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NAN"}};if(gI(e.value))return{unaryFilter:{field:eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(e.field),op:u7(e.op),value:e.value}}}(t):t instanceof ao?function(e){const n=e.getFilters().map(r=>a2(r));return n.length===1?n[0]:{compositeFilter:{op:c7(e.op),filters:n}}}(t):dt()}function d7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_=class id{constructor(e,n,r,i,s=vt.min(),o=vt.min(),a=xi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new id(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f7=class{constructor(e){this.fe=e}};function h7(t){const e=o7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p7=class{constructor(){this.rn=new m7}addToCollectionParentIndex(e,n){return this.rn.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(ff.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(ff.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}},m7=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ai(Fn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ai(Fn.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0=class z0{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new z0(0)}static Mn(){return new z0(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g7=class{constructor(){this.changes=new _c(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,oo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y7=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ed(r.mutation,i,Es.empty(),Xn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=uo();const o=Sd(),a=Sd();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ma)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ed(c.mutation,u,c.mutation.getFieldMask(),Xn.now())):o.set(u.key,Es.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new v7(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sd();let i=new Zn((o,a)=>o-a),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Es.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Et()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=KR();c.forEach(f=>{if(!s.has(f)){const h=JR(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ne.resolve(Fa());let a=-1,l=s;return o.next(u=>Ne.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Ne.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Et())).next(c=>({batchId:a,changes:WR(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=nd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=nd();return this.indexManager.getCollectionParents(e,i).next(o=>Ne.forEach(o,a=>{const l=function(u,c){return new Pl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,oo.newInvalidDocument(u)))});let o=nd();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ed(u.mutation,l,Es.empty(),Xn.now()),cv(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b7=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ne.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ps(r.createTime)}),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:h7(r.bundledQuery),readTime:Ps(r.readTime)}}(n)),Ne.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w7=class{constructor(){this.overlays=new Zn(rt.comparator),this.ls=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return Ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Zn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Fa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Fa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ne.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hj(n,r));let s=this.ls.get(n);s===void 0&&(s=Et(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_=class{constructor(){this.fs=new Ai(cr.ds),this.ws=new Ai(cr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new cr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new cr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new rt(new Fn([])),r=new cr(n,e),i=new cr(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new rt(new Fn([])),r=new cr(n,e),i=new cr(n,e+1);let s=Et();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new cr(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}};class cr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return rt.comparator(e.key,n.key)||Yt(e.As,n.As)}static _s(e,n){return Yt(e.As,n.As)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ai(cr.ds)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new cr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(e,n){return Ne.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cr(n,0),i=new cr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ai(Yt);return n.forEach(i=>{const s=new cr(i,0),o=new cr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Ne.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new cr(new rt(s),0);let a=new Ai(Yt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Ne.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Ne.forEach(n.mutations,i=>{const s=new cr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new cr(n,0),i=this.Rs.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.Ds=e,this.docs=new Zn(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():oo.newInvalidDocument(n))}getEntries(e,n){let r=uo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():oo.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=uo();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||uj(lj(c),r)<=0||(i.has(c.key)||cv(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){dt()}Cs(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S7(this)}getSize(e){return Ne.resolve(this.size)}}class S7 extends g7{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.persistence=e,this.xs=new _c(n=>h_(n),p_),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new S_,this.targetCount=0,this.Ms=K0.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ne.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new K0(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Fn(n),Ne.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n){this.$s={},this.overlays={},this.Os=new c_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new E7(this),this.indexManager=new p7,this.remoteDocumentCache=function(r){return new T7(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new f7(n),this.qs=new b7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new _7(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new C7(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Ne.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class C7 extends dj{constructor(e){super(),this.currentSequenceNumber=e}}class E_{constructor(e){this.persistence=e,this.Qs=new S_,this.js=null}static zs(e){return new E_(e)}get Ws(){if(this.js)return this.js;throw dt()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Ws,r=>{const i=rt.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,vt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ne.or([()=>Ne.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Et(),i=Et();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(_I(n))return Ne.resolve(null);let r=lo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Am(n,null,"F"),r=lo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Et(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Am(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return _I(n)||i.isEqual(vt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(fI()<=Ft.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),V0(n)),this.Wi(e,o,n,aj(i,-1)))})}ji(e,n){let r=new Ai(jR(e));return n.forEach((i,s)=>{cv(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return fI()<=Ft.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",V0(n)),this.Ui.getDocumentsMatchingQuery(e,n,ff.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Zn(Yt),this.Yi=new _c(s=>h_(s),p_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y7(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function P7(t,e,n,r){return new A7(t,e,n,r)}async function u2(t,e){const n=gt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Et();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function k7(t,e){const n=gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=Ne.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(p=>{const m=l.docVersions.get(h);bn(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Et();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function c2(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function x7(t,e){const n=gt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(xi.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(p,m,g){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,c)&&a.push(n.Bs.updateTargetData(s,h))});let l=uo(),u=Et();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(D7(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(vt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function D7(t,e,n){let r=Et(),i=Et();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=uo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(vt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function R7(t,e){const n=gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N7(t,e){const n=gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Ne.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new T_(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function G0(t,e,n){const r=gt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ch(o))throw o;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function DI(t,e,n){const r=gt(t);let i=vt.min(),s=Et();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=gt(a),d=c.Yi.get(u);return d!==void 0?Ne.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,lo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:vt.min(),n?s:Et())).next(a=>(M7(r,Oj(e),a),{documents:a,ir:s})))}function M7(t,e,n){let r=t.Xi.get(e)||vt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class RI{constructor(){this.activeTargetIds=Rj()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $7{constructor(){this.Hr=new RI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new RI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip=null;function Dy(){return ip===null?ip=268435456+Math.round(2147483648*Math.random()):ip++,"0x"+ip.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection";class V7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Dy(),a=this.To(e,n);Je("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(Je("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw zu("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=F7[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Dy();return new Promise((o,a)=>{const l=new XB;l.setWithCredentials(!0),l.listenOnce(GB.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ky.NO_ERROR:const c=l.getResponseJson();Je(Ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ky.TIMEOUT:Je(Ar,`RPC '${e}' ${s} timed out`),a(new Me(pe.DEADLINE_EXCEEDED,"Request time out"));break;case ky.HTTP_ERROR:const d=l.getStatus();if(Je(Ar,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(g)>=0?g:pe.UNKNOWN}(h.status);a(new Me(p,h.message))}else a(new Me(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Me(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Je(Ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Je(Ar,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Dy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KB(),a=zB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new qB({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Je(Ar,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new U7({ro:g=>{h?Je(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(f||(Je(Ar,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Je(Ar,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,v,y)=>{g.listen(v,_=>{try{y(_)}catch(b){setTimeout(()=>{throw b},0)}})};return m(d,ep.EventType.OPEN,()=>{h||Je(Ar,`RPC '${e}' stream ${i} transport opened.`)}),m(d,ep.EventType.CLOSE,()=>{h||(h=!0,Je(Ar,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,ep.EventType.ERROR,g=>{h||(h=!0,zu(Ar,`RPC '${e}' stream ${i} transport errored:`,g),p.wo(new Me(pe.UNAVAILABLE,"The operation could not be completed")))}),m(d,ep.EventType.MESSAGE,g=>{var v;if(!h){const y=g.data[0];bn(!!y);const _=y,b=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(b){Je(Ar,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let T=function(A){const O=zn[A];if(O!==void 0)return e2(O)}(w),x=b.message;T===void 0&&(T=pe.INTERNAL,x="Unknown error status: "+w+" with message "+b.message),h=!0,p.wo(new Me(T,x)),d.close()}else Je(Ar,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),m(a,YB.STAT_EVENT,g=>{g.stat===cI.PROXY?Je(Ar,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===cI.NOPROXY&&Je(Ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Ry(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){return new Jj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new d2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(so(n.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Me(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B7 extends f2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=t7(this.serializer,e),r=function(i){if(!("targetChange"in i))return vt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?vt.min():s.readTime?Ps(s.readTime):vt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=W0(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=F0(a)?{documents:i7(i,a)}:{query:s7(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=r2(i,s.resumeToken);const l=B0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(vt.min())>0){o.readTime=xm(i,s.snapshotVersion.toTimestamp());const l=B0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=a7(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=W0(this.serializer),n.removeTarget=e,this.Wo(n)}}class j7 extends f2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=r7(e.writeResults,e.commitTime),r=Ps(e.commitTime);return this.listener.cu(r,n)}return bn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=W0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n7(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(pe.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(pe.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class W7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(so(n),this.mu=!1):Je("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{kl(this)&&(Je("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=gt(a);l.vu.add(4),await hh(l),l.bu.set("Unknown"),l.vu.delete(4),await mv(l)}(this))})}),this.bu=new W7(r,i)}}async function mv(t){if(kl(t))for(const e of t.Ru)await e(!0)}async function hh(t){for(const e of t.Ru)await e(!1)}function h2(t,e){const n=gt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),A_(n)?O_(n):Tc(n).Ko()&&C_(n,e))}function p2(t,e){const n=gt(t),r=Tc(n);n.Au.delete(e),r.Ko()&&m2(n,e),n.Au.size===0&&(r.Ko()?r.jo():kl(n)&&n.bu.set("Unknown"))}function C_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tc(t).su(e)}function m2(t,e){t.Vu.qt(e),Tc(t).iu(e)}function O_(t){t.Vu=new Yj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Tc(t).start(),t.bu.gu()}function A_(t){return kl(t)&&!Tc(t).Uo()&&t.Au.size>0}function kl(t){return gt(t).vu.size===0}function g2(t){t.Vu=void 0}async function z7(t){t.Au.forEach((e,n)=>{C_(t,e)})}async function G7(t,e){g2(t),A_(t)?(t.bu.Iu(e),O_(t)):t.bu.set("Unknown")}async function Y7(t,e,n){if(t.bu.set("Online"),e instanceof n2&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dm(t,r)}else if(e instanceof Lp?t.Vu.Ht(e):e instanceof t2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(vt.min()))try{const r=await c2(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(xi.EMPTY_BYTE_STRING,u.snapshotVersion)),m2(i,a);const c=new T_(u.target,a,l,u.sequenceNumber);C_(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Je("RemoteStore","Failed to raise snapshot:",r),await Dm(t,r)}}async function Dm(t,e,n){if(!ch(e))throw e;t.vu.add(1),await hh(t),t.bu.set("Offline"),n||(n=()=>c2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Je("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await mv(t)})}function v2(t,e){return e().catch(n=>Dm(t,n,e))}async function gv(t){const e=gt(t),n=aa(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;q7(e);)try{const i=await R7(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,X7(e,i)}catch(i){await Dm(e,i)}y2(e)&&b2(e)}function q7(t){return kl(t)&&t.Eu.length<10}function X7(t,e){t.Eu.push(e);const n=aa(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function y2(t){return kl(t)&&!aa(t).Uo()&&t.Eu.length>0}function b2(t){aa(t).start()}async function Q7(t){aa(t).hu()}async function J7(t){const e=aa(t);for(const n of t.Eu)e.uu(n.mutations)}async function Z7(t,e,n){const r=t.Eu.shift(),i=y_.from(r,e,n);await v2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gv(t)}async function eH(t,e){e&&aa(t).ou&&await async function(n,r){if(i=r.code,Kj(i)&&i!==pe.ABORTED){const s=n.Eu.shift();aa(n).Qo(),await v2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await gv(n)}var i}(t,e),y2(t)&&b2(t)}async function MI(t,e){const n=gt(t);n.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const r=kl(n);n.vu.add(3),await hh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await mv(n)}async function tH(t,e){const n=gt(t);e?(n.vu.delete(2),await mv(n)):e||(n.vu.add(2),await hh(n),n.bu.set("Unknown"))}function Tc(t){return t.Su||(t.Su=function(e,n,r){const i=gt(e);return i.fu(),new B7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:z7.bind(null,t),ao:G7.bind(null,t),nu:Y7.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),A_(t)?O_(t):t.bu.set("Unknown")):(await t.Su.stop(),g2(t))})),t.Su}function aa(t){return t.Du||(t.Du=function(e,n,r){const i=gt(e);return i.fu(),new j7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Q7.bind(null,t),ao:eH.bind(null,t),au:J7.bind(null,t),cu:Z7.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await gv(t)):(await t.Du.stop(),t.Eu.length>0&&(Je("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new P_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k_(t,e){if(so("AsyncQueue",`${e}: ${t}`),ch(t))return new Me(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=nd(),this.sortedSet=new Zn(this.comparator)}static emptySet(e){return new Pu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Cu=new Zn(rt.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):dt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qu(e,n,Pu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.Nu=void 0,this.listeners=[]}}class rH{constructor(){this.queries=new _c(e=>BR(e),uv),this.onlineState="Unknown",this.ku=new Set}}async function x_(t,e){const n=gt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new nH),i)try{s.Nu=await n.onListen(r)}catch(o){const a=k_(o,`Initialization of query '${V0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&R_(n)}async function D_(t,e){const n=gt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iH(t,e){const n=gt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&R_(n)}function sH(t,e,n){const r=gt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function R_(t){t.ku.forEach(e=>{e.next()})}class N_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.key=e}}class _2{constructor(e){this.key=e}}class oH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Et(),this.mutatedKeys=Et(),this.tc=jR(e),this.ec=new Pu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new $I,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=cv(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.rc(f,h)||(r.track({type:2,doc:h}),g=!0,(l&&this.tc(h,l)>0||u&&this.tc(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),g=!0):f&&!h&&(r.track({type:1,doc:f}),g=!0,(l||u)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,f){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return h(d)-h(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Qu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $I,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Et(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new _2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new w2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Et();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Qu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class aH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lH{constructor(e){this.key=e,this.fc=!1}}class uH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new _c(a=>BR(a),uv),this._c=new Map,this.mc=new Set,this.gc=new Zn(rt.comparator),this.yc=new Map,this.Ic=new S_,this.Tc={},this.Ec=new Map,this.Ac=K0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function cH(t,e){const n=wH(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await N7(n.localStore,lo(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await dH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&h2(n.remoteStore,o)}return i}async function dH(t,e,n,r,i){t.Rc=(d,f,h)=>async function(p,m,g,v){let y=m.view.sc(g);y.zi&&(y=await DI(p.localStore,m.query,!1).then(({documents:w})=>m.view.sc(w,y)));const _=v&&v.targetChanges.get(m.targetId),b=m.view.applyChanges(y,p.isPrimaryClient,_);return FI(p,m.targetId,b.cc),b.snapshot}(t,d,f,h);const s=await DI(t.localStore,e,!0),o=new oH(e,s.ir),a=o.sc(s.documents),l=fh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);FI(t,n,u.cc);const c=new aH(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function fH(t,e){const n=gt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!uv(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await G0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),p2(n.remoteStore,r.targetId),Y0(n,r.targetId)}).catch(uh)):(Y0(n,r.targetId),await G0(n.localStore,r.targetId,!0))}async function hH(t,e,n){const r=_H(t);try{const i=await function(s,o){const a=gt(s),l=Xn.now(),u=o.reduce((f,h)=>f.add(h.key),Et());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=uo(),p=Et();return a.Zi.getEntries(f,u).next(m=>{h=m,h.forEach((g,v)=>{v.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(m=>{c=m;const g=[];for(const v of o){const y=Vj(v,c.get(v.key).overlayedDocument);y!=null&&g.push(new ma(v.key,y,DR(y.value.mapValue),Bi.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,g,o)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:WR(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Zn(Yt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ph(r,i.changes),await gv(r.remoteStore)}catch(i){const s=k_(i,"Failed to persist write");n.reject(s)}}async function T2(t,e){const n=gt(t);try{const r=await x7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?bn(o.fc):i.removedDocuments.size>0&&(bn(o.fc),o.fc=!1))}),await ph(n,r,e)}catch(r){await uh(r)}}function LI(t,e,n){const r=gt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=gt(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&R_(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pH(t,e,n){const r=gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Zn(rt.comparator);o=o.insert(s,oo.newNoDocument(s,vt.min()));const a=Et().add(s),l=new hv(vt.min(),new Map,new Zn(Yt),o,a);await T2(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),M_(r)}else await G0(r.localStore,e,!1).then(()=>Y0(r,e,n)).catch(uh)}async function mH(t,e){const n=gt(t),r=e.batch.batchId;try{const i=await k7(n.localStore,e);E2(n,r,null),S2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ph(n,i)}catch(i){await uh(i)}}async function gH(t,e,n){const r=gt(t);try{const i=await function(s,o){const a=gt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(bn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);E2(r,e,n),S2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ph(r,i)}catch(i){await uh(i)}}function S2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function E2(t,e,n){const r=gt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||I2(t,r)})}function I2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(p2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),M_(t))}function FI(t,e,n){for(const r of n)r instanceof w2?(t.Ic.addReference(r.key,e),vH(t,r)):r instanceof _2?(Je("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||I2(t,r.key)):dt()}function vH(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Je("SyncEngine","New document in limbo: "+n),t.mc.add(r),M_(t))}function M_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new rt(Fn.fromString(e)),r=t.Ac.next();t.yc.set(r,new lH(n)),t.gc=t.gc.insert(n,r),h2(t.remoteStore,new T_(lo(av(n.path)),r,"TargetPurposeLimboResolution",c_.ct))}}async function ph(t,e,n){const r=gt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=I_.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=gt(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Ne.forEach(l,d=>Ne.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>Ne.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!ch(c))throw c;Je("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),h=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(h);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function yH(t,e){const n=gt(t);if(!n.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const r=await u2(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Me(pe.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ph(n,r.er)}}function bH(t,e){const n=gt(t),r=n.yc.get(e);if(r&&r.fc)return Et().add(r.key);{let i=Et();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function wH(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pH.bind(null,e),e.dc.nu=iH.bind(null,e.eventManager),e.dc.Pc=sH.bind(null,e.eventManager),e}function _H(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gH.bind(null,e),e}let UI=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return P7(this.persistence,new O7,e.initialUser,this.serializer)}createPersistence(e){return new I7(E_.zs,this.serializer)}createSharedClientState(e){return new $7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},TH=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yH.bind(null,this.syncEngine),await tH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rH}createDatastore(e){const n=pv(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new V7(i));var i;return function(s,o,a,l){return new H7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>LI(this.syncEngine,a,0),o=NI.D()?new NI:new L7,new K7(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new uH(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=gt(e);Je("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await hh(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=OR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=k_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ny(t,e){t.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await u2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IH(t);Je("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>MI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>MI(e.remoteStore,s)),t._onlineComponents=e}function EH(t){return t.name==="FirebaseError"?t.code===pe.FAILED_PRECONDITION||t.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function IH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!EH(n))throw n;zu("Error using user provided cache. Falling back to memory cache: "+n),await Ny(t,new UI)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),await Ny(t,new UI);return t._offlineComponents}async function C2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),await VI(t,t._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),await VI(t,new TH))),t._onlineComponents}function CH(t){return C2(t).then(e=>e.syncEngine)}async function Rm(t){const e=await C2(t),n=e.eventManager;return n.onListen=cH.bind(null,e.syncEngine),n.onUnlisten=fH.bind(null,e.syncEngine),n}function OH(t,e,n={}){const r=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new $_({next:d=>{s.enqueueAndForget(()=>D_(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new Me(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new Me(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new N_(av(o.path),u,{includeMetadataChanges:!0,Ku:!0});return x_(i,c)}(await Rm(t),t.asyncQueue,e,n,r)),r.promise}function AH(t,e,n={}){const r=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new $_({next:d=>{s.enqueueAndForget(()=>D_(i,c)),d.fromCache&&a.source==="server"?l.reject(new Me(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new N_(o,u,{includeMetadataChanges:!0,Ku:!0});return x_(i,c)}(await Rm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e,n){if(!n)throw new Me(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PH(t,e,n,r){if(e===!0&&r===!0)throw new Me(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jI(t){if(!rt.isDocumentKey(t))throw new Me(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HI(t){if(rt.isDocumentKey(t))throw new Me(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt()}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vv(t);throw new Me(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kH(t,e){if(e<=0)throw new Me(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Me(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class yv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Me(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new JB;switch(n.type){case"firstParty":return new nj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=BI.get(e);n&&(Je("ComponentProvider","Removing Datastore"),BI.delete(e),n.terminate())}(this),Promise.resolve()}}function xH(t,e,n,r={}){var i;const s=(t=pi(t,yv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xr.MOCK_USER;else{a=Sx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Me(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xr(u)}t._authCredentials=new ZB(new CR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jr(this.firestore,e,this._key)}}class Us{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Xo extends Us{constructor(e,n,r){super(e,n,av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new rt(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function Qi(t,e,...n){if(t=Wt(t),A2("collection","path",e),t instanceof yv){const r=Fn.fromString(e,...n);return HI(r),new Xo(t,null,r)}{if(!(t instanceof jr||t instanceof Xo))throw new Me(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fn.fromString(e,...n));return HI(r),new Xo(t.firestore,null,r)}}function Kt(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=OR.A()),A2("doc","path",e),t instanceof yv){const r=Fn.fromString(e,...n);return jI(r),new jr(t,null,new rt(r))}{if(!(t instanceof jr||t instanceof Xo))throw new Me(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fn.fromString(e,...n));return jI(r),new jr(t.firestore,t instanceof Xo?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new d2(this,"async_queue_retry"),this.Xc=()=>{const n=Ry();n&&Je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ry();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ry();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new eo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ch(e))throw e;Je("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw so("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=P_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function KI(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class co extends yv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||P2(this),this._firestoreClient.terminate()}}function RH(t,e){const n=typeof t=="object"?t:vc(),r=typeof t=="string"?t:e||"(default)",i=Fs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wx("firestore");s&&xH(i,...s)}return i}function bv(t){return t._firestoreClient||P2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function P2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new pj(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,O2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new SH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ju(xi.fromBase64String(e))}catch(n){throw new Me(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ju(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=/^__.*__$/;class MH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new dh(e,this.data,n,this.fieldTransforms)}}class k2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class U_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new U_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Nm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(x2(this.ca)&&NH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $H{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pv(e)}ya(e,n,r,i=!1){return new U_({ca:e,methodName:n,ga:r,path:Ms.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mh(t){const e=t._freezeSettings(),n=pv(t._databaseId);return new $H(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D2(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);V_("Data must be an object, but it was:",o,r);const a=$2(r,o);let l,u;if(s.merge)l=new Es(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=q0(e,d,n);if(!o.contains(f))throw new Me(pe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);F2(c,f)||c.push(f)}l=new Es(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new MH(new li(a),l,u)}let R2=class N2 extends L_{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof N2}};function LH(t,e,n,r){const i=t.ya(1,e,n);V_("Data must be an object, but it was:",i,r);const s=[],o=li.empty();Al(r,(l,u)=>{const c=B_(e,l,n);u=Wt(u);const d=i.da(c);if(u instanceof R2)s.push(c);else{const f=gh(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Es(s);return new k2(o,a,i.fieldTransforms)}function FH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[q0(e,r,n)],l=[i];if(s.length%2!=0)throw new Me(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(q0(e,s[f])),l.push(s[f+1]);const u=[],c=li.empty();for(let f=a.length-1;f>=0;--f)if(!F2(u,a[f])){const h=a[f];let p=l[f];p=Wt(p);const m=o.da(h);if(p instanceof R2)u.push(h);else{const g=gh(p,m);g!=null&&(u.push(h),c.set(h,g))}}const d=new Es(u);return new k2(c,d,o.fieldTransforms)}function M2(t,e,n,r=!1){return gh(n,t.ya(r?4:3,e))}function gh(t,e){if(L2(t=Wt(t)))return V_("Unsupported field value:",e,t),$2(t,e);if(t instanceof L_)return function(n,r){if(!x2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=gh(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Wt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Nj(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xn.fromDate(n);return{timestampValue:xm(r.serializer,i)}}if(n instanceof Xn){const i=new Xn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xm(r.serializer,i)}}if(n instanceof F_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ju)return{bytesValue:r2(r.serializer,n._byteString)};if(n instanceof jr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:__(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${vv(n)}`)}(t,e)}function $2(t,e){const n={};return PR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(t,(r,i)=>{const s=gh(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function L2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xn||t instanceof F_||t instanceof Ju||t instanceof jr||t instanceof L_)}function V_(t,e,n){if(!L2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=vv(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function q0(t,e,n){if((e=Wt(e))instanceof wv)return e._internalPath;if(typeof e=="string")return B_(t,e);throw Nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const UH=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(UH)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wv(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Me(pe.INVALID_ARGUMENT,a+t+l)}function F2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j_=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},VH=class extends j_{data(){return super.data()}};function _v(t,e){return typeof e=="string"?B_(t,e):e instanceof wv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let H_=class{},Tv=class extends H_{};function BH(t,e,...n){let r=[];e instanceof H_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof jH).length,o=i.filter(a=>a instanceof V2).length;if(s>1||s>0&&o>0)throw new Me(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let V2=class B2 extends Tv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new B2(e,n,r)}_apply(e){const n=this._parse(e);return z2(e._query,n),new Us(e.firestore,e.converter,U0(e._query,n))}_parse(e){const n=mh(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Me(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qI(c,u);const f=[];for(const h of c)f.push(YI(a,i,h));d={arrayValue:{values:f}}}else d=YI(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qI(c,u),d=M2(o,s,c,u==="in"||u==="not-in");return fr.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function zI(t,e,n){const r=e,i=_v("where",t);return V2._create(i,r,n)}let jH=class j2 extends H_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ao.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)z2(s,a),s=U0(s,a)}(e._query,n),new Us(e.firestore,e.converter,U0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},HH=class H2 extends Tv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new H2(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Me(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Au(i,s);return function(a,l){if(m_(a)===null){const u=lv(a);u!==null&&G2(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Pl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function GI(t,e="asc"){const n=e,r=_v("orderBy",t);return HH._create(r,n)}let WH=class W2 extends Tv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new W2(e,n,r)}_apply(e){return new Us(e.firestore,e.converter,Am(e._query,this._limit,this._limitType))}};function KH(t){return kH("limit",t),WH._create("limit",t,"F")}let zH=class K2 extends Tv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new K2(e,n,r)}_apply(e){const n=YH(e,this.type,this._docOrFields,this._inclusive);return new Us(e.firestore,e.converter,function(r,i){return new Pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}};function GH(...t){return zH._create("startAfter",t,!1)}function YH(t,e,n,r){if(n[0]=Wt(n[0]),n[0]instanceof j_)return function(i,s,o,a,l){if(!a)throw new Me(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Ka(i))if(c.field.isKeyField())u.push(Om(s,a.key));else{const d=a.data.field(c.field);if(ov(d))throw new Me(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=c.field.canonicalString();throw new Me(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new Xu(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=mh(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new Me(pe.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let h=0;h<u.length;h++){const p=u[h];if(d[h].field.isKeyField()){if(typeof p!="string")throw new Me(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!g_(s)&&p.indexOf("/")!==-1)throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(Fn.fromString(p));if(!rt.isDocumentKey(m))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const g=new rt(m);f.push(Om(o,g))}else{const m=M2(a,l,p);f.push(m)}}return new Xu(f,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function YI(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new Me(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g_(e)&&n.indexOf("/")!==-1)throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fn.fromString(n));if(!rt.isDocumentKey(r))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Om(t,new rt(r))}if(n instanceof jr)return Om(t,n._key);throw new Me(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vv(n)}.`)}function qI(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z2(t,e){if(e.isInequality()){const r=lv(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=m_(t);s!==null&&G2(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Me(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function G2(t,e,n){if(!n.isEqual(e))throw new Me(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let qH=class{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Al(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new F_(qn(e.latitude),qn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=d_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fn.fromString(e);bn(l2(r));const i=new xR(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||so(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q2 extends j_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_v("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fp extends q2{data(e={}){return super.data(e)}}class X2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fp(this._firestore,this._userDataWriter,r.key,r,new sd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Fp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new sd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Fp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new sd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:XH(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t){t=pi(t,jr);const e=pi(t.firestore,co);return OH(bv(e),t._key).then(n=>Q2(e,t,n))}class W_ extends qH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,n)}}function JH(t){t=pi(t,Us);const e=pi(t.firestore,co),n=bv(e),r=new W_(e);return U2(t._query),AH(n,t._query).then(i=>new X2(e,r,t,i))}function ZH(t,e,n){t=pi(t,jr);const r=pi(t.firestore,co),i=Y2(t.converter,e,n);return Sv(r,[D2(mh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bi.none())])}function eW(t,e,n,...r){t=pi(t,jr);const i=pi(t.firestore,co),s=mh(i);let o;return o=typeof(e=Wt(e))=="string"||e instanceof wv?FH(s,"updateDoc",t._key,e,n,r):LH(s,"updateDoc",t._key,e),Sv(i,[o.toMutation(t._key,Bi.exists(!0))])}function tW(t){return Sv(pi(t.firestore,co),[new v_(t._key,Bi.none())])}function nW(t,e){const n=pi(t.firestore,co),r=Kt(t),i=Y2(t.converter,e);return Sv(n,[D2(mh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bi.exists(!1))]).then(()=>r)}function sp(t,...e){var n,r,i;t=Wt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||KI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(KI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof jr)u=pi(t.firestore,co),c=av(t._key.path),l={next:d=>{e[o]&&e[o](Q2(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pi(t,Us);u=pi(d.firestore,co),c=d._query;const f=new W_(u);l={next:h=>{e[o]&&e[o](new X2(u,f,d,h))},error:e[o+1],complete:e[o+2]},U2(t._query)}return function(d,f,h,p){const m=new $_(p),g=new N_(f,m,h);return d.asyncQueue.enqueueAndForget(async()=>x_(await Rm(d),g)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>D_(await Rm(d),g))}}(bv(u),c,a,l)}function Sv(t,e){return function(n,r){const i=new eo;return n.asyncQueue.enqueueAndForget(async()=>hH(await CH(n),r,i)),i.promise}(bv(t),e)}function Q2(t,e,n){const r=n.docs.get(e._key),i=new W_(t);return new q2(t,i,e._key,r,new sd(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){wc=n})(fa),gi(new ei("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new co(new ej(n.getProvider("auth-internal")),new ij(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Me(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xR(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Cr(dI,"3.13.0",t),Cr(dI,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="firebasestorage.googleapis.com",Z2="storageBucket",rW=2*60*1e3,iW=10*60*1e3,sW=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Di{constructor(e,n,r=0){super(My(e),`Firebase Storage: ${n} (${My(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return My(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function My(t){return"storage/"+t}function K_(){const t="An unknown error occurred, please check the error payload for server response.";return new Rn(wn.UNKNOWN,t)}function oW(t){return new Rn(wn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aW(t){return new Rn(wn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rn(wn.UNAUTHENTICATED,t)}function uW(){return new Rn(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cW(t){return new Rn(wn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eN(){return new Rn(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tN(){return new Rn(wn.CANCELED,"User canceled the upload/download.")}function dW(t){return new Rn(wn.INVALID_URL,"Invalid URL '"+t+"'.")}function fW(t){return new Rn(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hW(){return new Rn(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Z2+"' property when initializing the app?")}function nN(){return new Rn(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pW(){return new Rn(wn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function mW(){return new Rn(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gW(t){return new Rn(wn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function X0(t){return new Rn(wn.INVALID_ARGUMENT,t)}function rN(){return new Rn(wn.APP_DELETED,"The Firebase app was deleted.")}function vW(t){return new Rn(wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Id(t,e){return new Rn(wn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rc(t){throw new Rn(wn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ti.makeFromUrl(e,n)}catch{return new Ti(e,"")}if(r.path==="")return r;throw fW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===J2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${g}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<_.length;b++){const w=_[b],T=w.regex.exec(e);if(T){const x=T[w.indices.bucket];let A=T[w.indices.path];A||(A=""),r=new Ti(x,A),w.postModify(r);break}}if(r==null)throw dW(e);return r}}class yW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...v){if(u){f();return}if(g){f(),c.call(null,g,...v);return}if(l()||o){f(),c.call(null,g,...v);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function wW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t){return t!==void 0}function TW(t){return typeof t=="function"}function SW(t){return typeof t=="object"&&!Array.isArray(t)}function Ev(t){return typeof t=="string"||t instanceof String}function XI(t){return z_()&&t instanceof Blob}function z_(){return typeof Blob<"u"&&!GU()}function QI(t,e,n,r){if(r<e)throw X0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw X0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function iN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(za||(za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new op(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===za.NO_ERROR,l=s.getStatus();if(!a||sN(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===za.ABORT;r(!1,new op(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new op(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_W(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=K_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?rN():tN();o(l)}else{const l=eN();o(l)}};this.canceled_?n(!1,new op(!1,null,!0)):this.backoffId_=bW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class op{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function IW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PW(t,e,n,r,i,s,o=!0){const a=iN(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return OW(u,e),IW(u,n),CW(u,s),AW(u,r),new EW(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xW(...t){const e=kW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(z_())return new Blob(t);throw new Rn(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t){if(typeof atob>"u")throw gW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $y{constructor(e,n){this.data=e,this.contentType=n||null}}function NW(t,e){switch(t){case Is.RAW:return new $y(oN(e));case Is.BASE64:case Is.BASE64URL:return new $y(aN(t,e));case Is.DATA_URL:return new $y($W(e),LW(e))}throw K_()}function oN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MW(t){let e;try{e=decodeURIComponent(t)}catch{throw Id(Is.DATA_URL,"Malformed data URL.")}return oN(e)}function aN(t,e){switch(t){case Is.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Id(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Is.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Id(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RW(e)}catch(i){throw i.message.includes("polyfill")?i:Id(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class lN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Id(Is.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=FW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $W(t){const e=new lN(t);return e.base64?aN(Is.BASE64,e.rest):MW(e.rest)}function LW(t){return new lN(t).contentType}function FW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){let r=0,i="";XI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(XI(this.data_)){const r=this.data_,i=DW(r,e,n);return i===null?null:new Fo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fo(r,!0)}}static getBlob(...e){if(z_()){const n=e.map(r=>r instanceof Fo?r.data_:r);return new Fo(xW.apply(null,n))}else{const n=e.map(o=>Ev(o)?NW(Is.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Fo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){let e;try{e=JSON.parse(t)}catch{return null}return SW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function cN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t,e){return e}class Kr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||BW}}let ap=null;function jW(t){return!Ev(t)||t.length<2?t:cN(t)}function dN(){if(ap)return ap;const t=[];t.push(new Kr("bucket")),t.push(new Kr("generation")),t.push(new Kr("metageneration")),t.push(new Kr("name","fullPath",!0));function e(s,o){return jW(o)}const n=new Kr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Kr("size");return i.xform=r,t.push(i),t.push(new Kr("timeCreated")),t.push(new Kr("updated")),t.push(new Kr("md5Hash",null,!0)),t.push(new Kr("cacheControl",null,!0)),t.push(new Kr("contentDisposition",null,!0)),t.push(new Kr("contentEncoding",null,!0)),t.push(new Kr("contentLanguage",null,!0)),t.push(new Kr("contentType",null,!0)),t.push(new Kr("metadata","customMetadata",!0)),ap=t,ap}function HW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ti(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function WW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return HW(r,t),r}function fN(t,e,n){const r=uN(e);return r===null?null:WW(t,r,n)}function KW(t,e,n,r){const i=uN(e);if(i===null||!Ev(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=Sc(f,n,r),p=iN({alt:"media",token:u});return h+p})[0]}function hN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class xl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){if(!t)throw K_()}function G_(t,e){function n(r,i){const s=fN(t,i,e);return to(s!==null),s}return n}function zW(t,e){function n(r,i){const s=fN(t,i,e);return to(s!==null),KW(s,i,t.host,t._protocol)}return n}function vh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=uW():i=lW():n.getStatus()===402?i=aW(t.bucket):n.getStatus()===403?i=cW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Y_(t){const e=vh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=oW(t.path)),s.serverResponse=i.serverResponse,s}return n}function GW(t,e,n){const r=e.fullServerUrl(),i=Sc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xl(i,s,G_(t,n),o);return a.errorHandler=Y_(e),a}function YW(t,e,n){const r=e.fullServerUrl(),i=Sc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xl(i,s,zW(t,n),o);return a.errorHandler=Y_(e),a}function qW(t,e){const n=e.fullServerUrl(),r=Sc(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new xl(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Y_(e),a}function XW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XW(null,e)),r}function QW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=pN(e,r,i),c=hN(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=Fo.getBlob(d,r,f);if(h===null)throw nN();const p={name:u.fullPath},m=Sc(s,t.host,t._protocol),g="POST",v=t.maxUploadRetryTime,y=new xl(m,g,G_(t,n),v);return y.urlParams=p,y.headers=o,y.body=h.uploadData(),y.errorHandler=vh(e),y}class Mm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function q_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{to(!1)}return to(!!n&&(e||["active"]).indexOf(n)!==-1),n}function JW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=pN(e,r,i),a={name:o.fullPath},l=Sc(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=hN(o,n),f=t.maxUploadRetryTime;function h(m){q_(m);let g;try{g=m.getResponseHeader("X-Goog-Upload-URL")}catch{to(!1)}return to(Ev(g)),g}const p=new xl(l,u,h,f);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=vh(e),p}function ZW(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=q_(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{to(!1)}d||to(!1);const f=Number(d);return to(!isNaN(f)),new Mm(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new xl(n,o,s,a);return l.headers=i,l.errorHandler=vh(e),l}const JI=256*1024;function eK(t,e,n,r,i,s,o,a){const l=new Mm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw pW();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let h="";c===0?h="finalize":u===c?h="upload, finalize":h="upload";const p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,f);if(m===null)throw nN();function g(b,w){const T=q_(b,["active","final"]),x=l.current+c,A=r.size();let O;return T==="final"?O=G_(e,s)(b,w):O=null,new Mm(x,A,T==="final",O)}const v="POST",y=e.maxUploadRetryTime,_=new xl(n,v,g,y);return _.headers=p,_.body=m.uploadData(),_.progressCallback=a||null,_.errorHandler=vh(t),_}const ai={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ly(t){switch(t){case"running":case"pausing":case"canceling":return ai.RUNNING;case"paused":return ai.PAUSED;case"success":return ai.SUCCESS;case"canceled":return ai.CANCELED;case"error":return ai.ERROR;default:return ai.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n,r){if(TW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class nK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Rc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rK extends nK{initXhr(){this.xhr_.responseType="text"}}function Da(){return new rK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=dN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(wn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(sN(i.status,[]))if(s)i=eN();else{this.sleepTime=Math.max(this.sleepTime*2,sW),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(wn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=JW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=ZW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Da,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=JI*this._chunkMultiplier,n=new Mm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=eK(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Da,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){JI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=GW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=QW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=tN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ly(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new tK(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ly(this._state)){case ai.SUCCESS:Vl(this._resolve.bind(null,this.snapshot))();break;case ai.CANCELED:case ai.ERROR:const n=this._reject;Vl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ly(this._state)){case ai.RUNNING:case ai.PAUSED:e.next&&Vl(e.next.bind(e,this.snapshot))();break;case ai.SUCCESS:e.complete&&Vl(e.complete.bind(e))();break;case ai.CANCELED:case ai.ERROR:e.error&&Vl(e.error.bind(e,this._error))();break;default:e.error&&Vl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this._service=e,n instanceof Ti?this._location=n:this._location=Ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hl(e,n)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cN(this._location.path)}get storage(){return this._service}get parent(){const e=UW(this._location.path);if(e===null)return null;const n=new Ti(this._location.bucket,e);return new hl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vW(e)}}function sK(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new iK(t,new Fo(e),n)}function oK(t){t._throwIfRoot("getDownloadURL");const e=YW(t.storage,t._location,dN());return t.storage.makeRequestWithTokens(e,Da).then(n=>{if(n===null)throw mW();return n})}function aK(t){t._throwIfRoot("deleteObject");const e=qW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Da)}function lK(t,e){const n=VW(t._location.path,e),r=new Ti(t._location.bucket,n);return new hl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t){return/^[A-Za-z]+:\/\//.test(t)}function cK(t,e){return new hl(t,e)}function mN(t,e){if(t instanceof X_){const n=t;if(n._bucket==null)throw hW();const r=new hl(n,n._bucket);return e!=null?mN(r,e):r}else return e!==void 0?lK(t,e):t}function dK(t,e){if(e&&uK(e)){if(t instanceof X_)return cK(t,e);throw X0("To use ref(service, url), the first argument must be a Storage instance.")}else return mN(t,e)}function ZI(t,e){const n=e==null?void 0:e[Z2];return n==null?null:Ti.makeFromBucketSpec(n,t)}function fK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Sx(i,t.app.options.projectId))}class X_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=J2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rW,this._maxUploadRetryTime=iW,this._requests=new Set,i!=null?this._bucket=Ti.makeFromBucketSpec(i,this._host):this._bucket=ZI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=ZI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yW(rN());{const o=PW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const eC="@firebase/storage",tC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="storage";function hK(t,e,n){return t=Wt(t),sK(t,e,n)}function pK(t){return t=Wt(t),oK(t)}function mK(t){return t=Wt(t),aK(t)}function gK(t,e){return t=Wt(t),dK(t,e)}function vK(t=vc(),e){t=Wt(t);const r=Fs(t,gN).getImmediate({identifier:e}),i=wx("storage");return i&&yK(r,...i),r}function yK(t,e,n,r={}){fK(t,e,n,r)}function bK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new X_(n,r,i,e,fa)}function wK(){gi(new ei(gN,bK,"PUBLIC").setMultipleInstances(!0)),Cr(eC,tC,""),Cr(eC,tC,"esm2017")}wK();const vN=1e3,Q0=vN*60,J0=Q0*60,$m=J0*24,Lm=$m*365,yN=async t=>{const e=await QH(t),n=e.data();return n?{id:e.id,...n}:null},Bl=async(t,e)=>{const n=await JH(e?BH(t,...e):t);return Promise.all(n.docs.map(r=>yN(r.ref)))},$i=yN,_K=nW,Fm=ZH,$o=eW,od=tW,Z0=t=>gK(vK(),t),nC=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),TK=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},ss=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!ss(a,o[l])||o.some((u,c)=>!ss(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!ss(r,i))return!1}else if(r!==i)return!1}return!0},ew=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Lm,o=r%Lm/$m,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},Up=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},SK=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},ko=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Ca=t=>Array.isArray(t)?t:[t],EK=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},tw=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),yh=t=>Object.keys(t).map(e=>t[e].error).some(e=>typeof e=="boolean"?e:typeof e=="string"?!!e:e.some(n=>n));function Q_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IK=bN,wN=new da("auth","Firebase",bN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new gc("@firebase/auth");function CK(t,...e){Um.logLevel<=Ft.WARN&&Um.warn(`Auth (${fa}): ${t}`,...e)}function Vp(t,...e){Um.logLevel<=Ft.ERROR&&Um.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,...e){throw J_(t,...e)}function ks(t,...e){return J_(t,...e)}function OK(t,e,n){const r=Object.assign(Object.assign({},IK()),{[e]:n});return new da("auth","Firebase",r).create(e,{appName:t.name})}function J_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wN.create(t,...e)}function it(t,e,...n){if(!t)throw J_(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vp(e),new Error(e)}function fo(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AK(){return rC()==="http:"||rC()==="https:"}function rC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AK()||Ex()||"connection"in navigator)?navigator.onLine:!0}function kK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,fo(n>e,"Short delay should be less than long delay!"),this.isMobile=A1()||Ix()}get(){return PK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e){fo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=new bh(3e4,6e4);function Dl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rl(t,e,n,r,i={}){return TN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),_N.fetch()(SN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function TN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xK),e);try{const i=new RK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw lp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw OK(t,c,u);hs(t,c)}}catch(i){if(i instanceof Di)throw i;hs(t,"network-request-failed",{message:String(i)})}}async function wh(t,e,n,r,i={}){const s=await Rl(t,e,n,r,i);return"mfaPendingCredential"in s&&hs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function SN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Z_(t.config,i):`${t.config.apiScheme}://${i}`}class RK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),DK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ks(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NK(t,e){return Rl(t,"POST","/v1/accounts:delete",e)}async function MK(t,e){return Rl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $K(t,e=!1){const n=Wt(t),r=await n.getIdToken(e),i=eT(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Cd(Fy(i.auth_time)),issuedAtTime:Cd(Fy(i.iat)),expirationTime:Cd(Fy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fy(t){return Number(t)*1e3}function eT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vp("JWT malformed, contained fewer than 3 sections"),null;try{const i=pm(n);return i?JSON.parse(i):(Vp("Failed to decode base64 JWT payload"),null)}catch(i){return Vp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LK(t){const e=eT(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Di&&FK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zu(t,MK(n,{idToken:r}));it(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jK(s.providerUserInfo):[],a=BK(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new EN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function VK(t){const e=Wt(t);await Vm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jK(t){return t.map(e=>{var{providerId:n}=e,r=Q_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e){const n=await TN(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=SN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_N.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LK(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return it(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HK(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vf;return r&&(it(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vf,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ga{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Q_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new EN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $K(this,e)}reload(){return VK(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ga(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zu(this,NK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:T,stsTokenManager:x}=n;it(_&&x,e,"internal-error");const A=vf.fromJSON(this.name,x);it(typeof _=="string",e,"internal-error"),So(d,e.name),So(f,e.name),it(typeof b=="boolean",e,"internal-error"),it(typeof w=="boolean",e,"internal-error"),So(h,e.name),So(p,e.name),So(m,e.name),So(g,e.name),So(v,e.name),So(y,e.name);const O=new Ga({uid:_,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:A,createdAt:v,lastLoginAt:y});return T&&Array.isArray(T)&&(O.providerData=T.map(E=>Object.assign({},E))),g&&(O._redirectEventId=g),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new vf;i.updateFromServerResponse(n);const s=new Ga({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Map;function Ys(t){fo(t instanceof Function,"Expected a class definition");let e=iC.get(t);return e?(fo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IN.type="NONE";const sC=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ga._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ku(Ys(sC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ys(sC);const o=Bp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ga._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ku(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kN(e))return"Blackberry";if(xN(e))return"Webos";if(tT(e))return"Safari";if((e.includes("chrome/")||ON(e))&&!e.includes("edge/"))return"Chrome";if(PN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CN(t=Wr()){return/firefox\//i.test(t)}function tT(t=Wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ON(t=Wr()){return/crios\//i.test(t)}function AN(t=Wr()){return/iemobile/i.test(t)}function PN(t=Wr()){return/android/i.test(t)}function kN(t=Wr()){return/blackberry/i.test(t)}function xN(t=Wr()){return/webos/i.test(t)}function Iv(t=Wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WK(t=Wr()){var e;return Iv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KK(){return YU()&&document.documentMode===10}function DN(t=Wr()){return Iv(t)||PN(t)||xN(t)||kN(t)||/windows phone/i.test(t)||AN(t)}function zK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e=[]){let n;switch(t){case"Browser":n=oC(Wr());break;case"Worker":n=`${oC(Wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}async function NN(t,e){return Rl(t,"GET","/v2/recaptchaConfig",Dl(t,e))}function aC(t){return t!==void 0&&t.enterprise!==void 0}class MN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function $N(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ks("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GK().appendChild(r)})}function YK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qK="https://www.google.com/recaptcha/enterprise.js?render=",XK="recaptcha-enterprise",QK="NO_RECAPTCHA";class LN{constructor(e){this.type=XK,this.auth=Nl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{NN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new MN(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;aC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(QK)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&aC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}$N(qK+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ec(t,e,n,r=!1){const i=new LN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lC(this),this.idTokenSubscription=new lC(this),this.beforeStateQueue=new JK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Wt(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}async initializeRecaptchaConfig(){const e=await NN(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new MN(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new LN(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return it(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Nl(t){return Wt(t)}class lC{constructor(e){this.auth=e,this.observer=null,this.addObserver=n5(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){const n=Fs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zd(s,e??{}))return i;hs(i,"already-initialized")}return n.initialize({options:e})}function ez(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tz(t,e,n){const r=Nl(t);it(r._canInitEmulator,r,"emulator-config-failed"),it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=UN(e),{host:o,port:a}=nz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||rz()}function UN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nz(t){const e=UN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uC(o)}}}function uC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function VN(t,e){return Rl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e){return wh(t,"POST","/v1/accounts:signInWithPassword",Dl(t,e))}async function iz(t,e){return Rl(t,"POST","/v1/accounts:sendOobCode",Dl(t,e))}async function Vy(t,e){return iz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e){return wh(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}async function oz(t,e){return wh(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends nT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ec(e,r,"signInWithPassword");return Uy(e,i)}else return Uy(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ec(e,r,"signInWithPassword");return Uy(e,s)}else return Promise.reject(i)});case"emailLink":return sz(e,{email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return VN(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oz(e,{idToken:n,email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e){return wh(t,"POST","/v1/accounts:signInWithIdp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az="http://localhost";class pl extends nT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Q_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new pl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xu(e,n)}buildRequest(){const e={requestUri:az,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uz(t){const e=Qc(Jc(t)).link,n=e?Qc(Jc(e)).deep_link_id:null,r=Qc(Jc(t)).deep_link_id;return(r?Qc(Jc(r)).link:null)||r||n||e||t}class rT{constructor(e){var n,r,i,s,o,a;const l=Qc(Jc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=lz((i=l.mode)!==null&&i!==void 0?i:null);it(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uz(e);try{return new rT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,n){return yf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rT.parseLink(n);return it(r,"argument-error"),yf._fromEmailAndCode(e,r.code,r.tenantId)}}la.PROVIDER_ID="password";la.EMAIL_PASSWORD_SIGN_IN_METHOD="password";la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends BN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends _h{constructor(){super("facebook.com")}static credential(e){return pl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vo.credential(n,r)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends _h{constructor(){super("github.com")}static credential(e){return pl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bo.credential(e.oauthAccessToken)}catch{return null}}}Bo.GITHUB_SIGN_IN_METHOD="github.com";Bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends _h{constructor(){super("twitter.com")}static credential(e,n){return pl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(t,e){return wh(t,"POST","/v1/accounts:signUp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ga._fromIdTokenResponse(e,r,i),o=cC(r);return new ml({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cC(r);return new ml({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends Di{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bm(e,n,r,i)}}function jN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bm._fromErrorAndOperation(t,s,e,r):s})}async function cz(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Zu(t,jN(r,i,e,t),n);it(s.idToken,r,"internal-error");const o=eT(s.idToken);it(o,r,"internal-error");const{sub:a}=o;return it(t.uid===a,r,"user-mismatch"),ml._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n=!1){const r="signIn",i=await jN(t,r,e),s=await ml._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dz(t,e){return WN(Nl(t),e)}async function dC(t,e){return HN(Wt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e,n){var r;it(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),it(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(it(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(it(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e,n){var r;const i=Nl(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await ec(i,s,"getOobCode",!0);n&&jy(i,o,n),await Vy(i,o)}else n&&jy(i,s,n),await Vy(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ec(i,s,"getOobCode",!0);n&&jy(i,a,n),await Vy(i,a)}else return Promise.reject(o)})}async function hz(t,e,n){var r;const i=Nl(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ec(i,s,"signUpPassword");o=By(i,u)}else o=By(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ec(i,s,"signUpPassword");return By(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await ml._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function pz(t,e,n){return dz(Wt(t),la.credential(e,n))}function mz(t,e){return KN(Wt(t),e,null)}function gz(t,e){return KN(Wt(t),null,e)}async function KN(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Zu(t,VN(r,s));await t._updateTokensIfNecessary(o,!0)}function zN(t,e,n,r){return Wt(t).onIdTokenChanged(e,n,r)}function vz(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function yz(t){return Wt(t).signOut()}async function bz(t){return Wt(t).delete()}const jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jm,"1"),this.storage.removeItem(jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){const t=Wr();return tT(t)||Iv(t)}const _z=1e3,Tz=10;class YN extends GN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wz()&&zK(),this.fallbackToPolling=DN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);KK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Tz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_z)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YN.type="LOCAL";const qN=YN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN extends GN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XN.type="SESSION";const iT=XN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Sz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=sT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function Iz(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function Cz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Az(){return QN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebaseLocalStorageDb",Pz=1,Hm="firebaseLocalStorage",ZN="fbase_key";class Th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ov(t,e){return t.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function kz(){const t=indexedDB.deleteDatabase(JN);return new Th(t).toPromise()}function rw(){const t=indexedDB.open(JN,Pz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hm,{keyPath:ZN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hm)?e(r):(r.close(),await kz(),e(await rw()))})})}async function fC(t,e,n){const r=Ov(t,!0).put({[ZN]:e,value:n});return new Th(r).toPromise()}async function xz(t,e){const n=Ov(t,!1).get(e),r=await new Th(n).toPromise();return r===void 0?null:r.value}function hC(t,e){const n=Ov(t,!0).delete(e);return new Th(n).toPromise()}const Dz=800,Rz=3;class eM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Rz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cv._getInstance(Az()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Cz(),!this.activeServiceWorker)return;this.sender=new Ez(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Oz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rw();return await fC(e,jm,"1"),await hC(e,jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ov(i,!1).getAll();return new Th(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eM.type="LOCAL";const tM=eM;new bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t,e){return e?Ys(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends nT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mz(t){return WN(t.auth,new oT(t),t.bypassAuthState)}function $z(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),HN(n,new oT(t),t.bypassAuthState)}async function Lz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),cz(n,new oT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mz;case"linkViaPopup":case"linkViaRedirect":return Lz;case"reauthViaPopup":case"reauthViaRedirect":return $z;default:hs(this.auth,"internal-error")}}resolve(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=new bh(2e3,1e4);class lu extends nM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,lu.currentPopupAction&&lu.currentPopupAction.cancel(),lu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){fo(this.filter.length===1,"Popup operations only handle one event");const e=sT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fz.get())};e()}}lu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz="pendingRedirect",jp=new Map;class Vz extends nM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jp.get(this.auth._key());if(!e){try{const r=await Bz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jp.set(this.auth._key(),e)}return this.bypassAuthState||jp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bz(t,e){const n=Wz(e),r=Hz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jz(t,e){jp.set(t._key(),e)}function Hz(t){return Ys(t._redirectPersistence)}function Wz(t){return Bp(Uz,t.config.apiKey,t.name)}async function Kz(t,e,n=!1){const r=Nl(t),i=Nz(r,e),o=await new Vz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=10*60*1e3;class Gz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ks(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zz&&this.cachedEventUids.clear(),this.cachedEventUids.has(pC(e))}saveEventToCache(e){this.cachedEventUids.add(pC(e)),this.lastProcessedEventTime=Date.now()}}function pC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e={}){return Rl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qz=/^https?/;async function Jz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qz(t);for(const n of e)try{if(Zz(n))return}catch{}hs(t,"unauthorized-domain")}function Zz(t){const e=nw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Qz.test(n))return!1;if(Xz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=new bh(3e4,6e4);function mC(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tG(t){return new Promise((e,n)=>{var r,i,s;function o(){mC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mC(),n(ks(t,"network-request-failed"))},timeout:eG.get()})}if(!((i=(r=xs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xs().gapi)===null||s===void 0)&&s.load)o();else{const a=YK("iframefcb");return xs()[a]=()=>{gapi.load?o():n(ks(t,"network-request-failed"))},$N(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hp=null,e})}let Hp=null;function nG(t){return Hp=Hp||tG(t),Hp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new bh(5e3,15e3),iG="__/auth/iframe",sG="emulator/auth/iframe",oG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lG(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z_(e,sG):`https://${t.config.authDomain}/${iG}`,r={apiKey:e.apiKey,appName:t.name,v:fa},i=aG.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mc(r).slice(1)}`}async function uG(t){const e=await nG(t),n=xs().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:lG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ks(t,"network-request-failed"),a=xs().setTimeout(()=>{s(o)},rG.get());function l(){xs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dG=500,fG=600,hG="_blank",pG="http://localhost";class gC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mG(t,e,n,r=dG,i=fG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cG),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Wr().toLowerCase();n&&(a=ON(u)?hG:n),CN(u)&&(e=e||pG,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(WK(u)&&a!=="_self")return gG(e||"",a),new gC(null);const d=window.open(e||"",a,c);it(d,t,"popup-blocked");try{d.focus()}catch{}return new gC(d)}function gG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG="__/auth/handler",yG="emulator/auth/handler",bG=encodeURIComponent("fac");async function vC(t,e,n,r,i,s){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(e instanceof BN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof _h){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${bG}=${encodeURIComponent(l)}`:"";return`${wG(t)}?${mc(a).slice(1)}${u}`}function wG({config:t}){return t.emulator?Z_(t,yG):`https://${t.authDomain}/${vG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="webStorageSupport";class _G{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=Kz,this._overrideRedirectResult=jz}async _openPopup(e,n,r,i){var s;fo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vC(e,n,r,nw(),i);return mG(e,o,sT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vC(e,n,r,nw(),i);return Iz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uG(e),r=new Gz(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hy,{type:Hy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hy];o!==void 0&&n(!!o),hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DN()||tT()||Iv()}}const iM=_G;var yC="@firebase/auth",bC="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function EG(t){gi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;it(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RN(t)},u=new ZK(r,i,s,l);return ez(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new ei("auth-internal",e=>{const n=Nl(e.getProvider("auth").getImmediate());return(r=>new TG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(yC,bC,SG(t)),Cr(yC,bC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=5*60,CG=Tx("authIdTokenMaxAge")||IG;let wC=null;const OG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CG)return;const i=n==null?void 0:n.token;wC!==i&&(wC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AG(t=vc()){const e=Fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FN(t,{popupRedirectResolver:iM,persistence:[tM,qN,iT]}),r=Tx("authTokenSyncURL");if(r){const s=OG(r);vz(n,s,()=>s(n.currentUser)),zN(n,o=>s(o))}const i=bx("auth");return i&&tz(n,`http://${i}`),n}EG("Browser");const sM=Symbol("firebaseApp");function oM(t){return Ki()&&Jr(sM,null)||vc(t)}const up=new WeakMap;function PG(t,e){if(!up.has(t)){const n=bg(!0);up.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),up.delete(t)}}return up.get(t)}const kG=new WeakMap,cp=new WeakMap;function xG(t){const e=oM(t);if(!cp.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{cp.set(e,s),n(s.value)}];cp.set(e,i)}return cp.get(e)}function DG(t,e){zN(e,n=>{const r=xG();t.value=n,Array.isArray(r)&&r[1](t)})}var _C={};const TC="@firebase/database",SC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aM="";function RG(t){aM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Er(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return go(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new NG(e)}}catch{}return new MG},Ua=lM("localStorage"),iw=lM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new gc("@firebase/database"),$G=function(){let t=1;return function(){return t++}}(),uM=function(t){const e=o5(t),n=new t5;n.update(e);const r=n.digest();return $g.encodeByteArray(r)},Sh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Sh.apply(null,r):typeof r=="object"?e+=Er(r):e+=r,e+=" "}return e};let Ya=null,EC=!0;const LG=function(t,e){Fe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Du.logLevel=Ft.VERBOSE,Ya=Du.log.bind(Du),e&&iw.set("logging_enabled",!0)):typeof t=="function"?Ya=t:(Ya=null,iw.remove("logging_enabled"))},Rr=function(...t){if(EC===!0&&(EC=!1,Ya===null&&iw.get("logging_enabled")===!0&&LG(!0)),Ya){const e=Sh.apply(null,t);Ya(e)}},Eh=function(t){return function(...e){Rr(t,...e)}},sw=function(...t){const e="FIREBASE INTERNAL ERROR: "+Sh(...t);Du.error(e)},gl=function(...t){const e=`FIREBASE FATAL ERROR: ${Sh(...t)}`;throw Du.error(e),new Error(e)},Pi=function(...t){const e="FIREBASE WARNING: "+Sh(...t);Du.warn(e)},FG=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},UG=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},tc="[MIN_NAME]",vl="[MAX_NAME]",Ec=function(t,e){if(t===e)return 0;if(t===tc||e===vl)return-1;if(e===tc||t===vl)return 1;{const n=IC(t),r=IC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},VG=function(t,e){return t===e?0:t<e?-1:1},Nc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Er(e))},aT=function(t){if(typeof t!="object"||t===null)return Er(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Er(e[r]),n+=":",n+=aT(t[e[r]]);return n+="}",n},dM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ji(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const fM=function(t){Fe(!cM(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},BG=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},HG=new RegExp("^-?(0*)\\d{1,10}$"),WG=-2147483648,KG=2147483647,IC=function(t){if(HG.test(t)){const e=Number(t);if(e>=WG&&e<=KG)return e}return null},Ih=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pi("Exception was thrown by user callback.",n),e},Math.floor(0))}},zG=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Od=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Rr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pi(e)}}class ow{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ow.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="5",hM="v",pM="s",mM="r",gM="f",vM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yM="ls",bM="p",aw="ac",wM="websocket",_M="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ua.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ua.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function XG(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TM(t,e,n){Fe(typeof e=="string","typeof type must == string"),Fe(typeof n=="object","typeof params must == object");let r;if(e===wM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_M)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XG(t)&&(n.ns=t.namespace);const i=[];return ji(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this.counters_={}}incrementCounter(e,n=1){go(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy={},Ky={};function uT(t){const e=t.toString();return Wy[e]||(Wy[e]=new QG),Wy[e]}function JG(t,e){const n=t.toString();return Ky[n]||(Ky[n]=e()),Ky[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ih(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="start",eY="close",tY="pLPCommand",nY="pRTLPCB",SM="id",EM="pw",IM="ser",rY="cb",iY="seg",sY="ts",oY="d",aY="dframe",CM=1870,OM=30,lY=CM-OM,uY=25e3,cY=3e4;class uu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Eh(e),this.stats_=uT(n),this.urlFn=l=>(this.appCheckToken&&(l[aw]=this.appCheckToken),TM(n,_M,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ZG(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cY)),UG(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cT((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===CC)this.id=a,this.password=l;else if(o===eY)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[CC]="t",r[IM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[rY]=this.scriptTagHolder.uniqueCallbackIdentifier),r[hM]=lT,this.transportSessionId&&(r[pM]=this.transportSessionId),this.lastSessionId&&(r[yM]=this.lastSessionId),this.applicationId&&(r[bM]=this.applicationId),this.appCheckToken&&(r[aw]=this.appCheckToken),typeof location<"u"&&location.hostname&&vM.test(location.hostname)&&(r[mM]=gM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uu.forceAllow_=!0}static forceDisallow(){uu.forceDisallow_=!0}static isAvailable(){return uu.forceAllow_?!0:!uu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BG()&&!jG()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gx(n),i=dM(r,lY);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[aY]="t",r[SM]=e,r[EM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Er(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class cT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$G(),window[tY+this.uniqueCallbackIdentifier]=e,window[nY+this.uniqueCallbackIdentifier]=n,this.myIFrame=cT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Rr("frame writing exception"),a.stack&&Rr(a.stack),Rr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[SM]=this.myID,e[EM]=this.myPW,e[IM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OM+r.length<=CM;){const o=this.pendingSegs.shift();r=r+"&"+iY+i+"="+o.seg+"&"+sY+i+"="+o.ts+"&"+oY+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(uY)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Rr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY=16384,fY=45e3;let Wm=null;typeof MozWebSocket<"u"?Wm=MozWebSocket:typeof WebSocket<"u"&&(Wm=WebSocket);class ts{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Eh(this.connId),this.stats_=uT(n),this.connURL=ts.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[hM]=lT,typeof location<"u"&&location.hostname&&vM.test(location.hostname)&&(o[mM]=gM),n&&(o[pM]=n),r&&(o[yM]=r),i&&(o[aw]=i),s&&(o[bM]=s),TM(e,wM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ua.set("previous_websocket_failure",!0);try{let r;Cx(),this.mySock=new Wm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ts.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wm!==null&&!ts.forceDisallow_}static previouslyFailed(){return Ua.isInMemoryStorage||Ua.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ua.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Jd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dM(n,dY);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fY))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ts.responsesRequiredToBeHealthy=2;ts.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uu,ts]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ts&&ts.isAvailable();let r=n&&!ts.previouslyFailed();if(e.webSocketOnly&&(n||Pi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ts];else{const i=this.transports_=[];for(const s of bf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);bf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=6e4,pY=5e3,mY=10*1024,gY=100*1024,zy="t",OC="d",vY="s",AC="r",yY="e",PC="o",kC="a",xC="n",DC="p",bY="h";class wY{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Eh("c:"+this.id+":"),this.transportManager_=new bf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Od(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mY?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zy in e){const n=e[zy];n===kC?this.upgradeIfSecondaryHealthy_():n===AC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===PC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nc("t",e),r=Nc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nc("t",e),r=Nc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nc(zy,e);if(OC in e){const r=e[OC];if(n===bY){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===xC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vY?this.onConnectionShutdown_(r):n===AC?this.onReset_(r):n===yY?sw("Server Error: "+r):n===PC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lT!==r&&Pi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Od(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hY))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Od(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pY))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ua.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends PM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!A1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Km}getInitialEvent(e){return Fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=32,NC=768;class _n{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function rn(){return new _n("")}function Dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ua(t){return t.pieces_.length-t.pieceNum_}function mn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _n(t.pieces_,e)}function kM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _Y(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function xM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function DM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _n(e,0)}function hr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _n)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _n(n,0)}function Ot(t){return t.pieceNum_>=t.pieces_.length}function Ui(t,e){const n=Dt(t),r=Dt(e);if(n===null)return e;if(n===r)return Ui(mn(t),mn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function RM(t,e){if(ua(t)!==ua(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function rs(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ua(t)>ua(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class TY{constructor(e,n){this.errorPrefix_=n,this.parts_=xM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ug(this.parts_[r]);NM(this)}}function SY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ug(e),NM(t)}function EY(t){const e=t.parts_.pop();t.byteLength_-=Ug(e),t.parts_.length>0&&(t.byteLength_-=1)}function NM(t){if(t.byteLength_>NC)throw new Error(t.errorPrefix_+"has a key path longer than "+NC+" bytes ("+t.byteLength_+").");if(t.parts_.length>RC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RC+") or object contains a cycle "+Oa(t))}function Oa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends PM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dT}getInitialEvent(e){return Fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=1e3,IY=60*5*1e3,MC=30*1e3,CY=1.3,OY=3e4,AY="server_kill",$C=3;class no extends AM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=no.nextPersistentConnectionId_++,this.log_=Eh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mc,this.maxReconnectDelay_=IY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Cx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Km.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Er(s)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ol,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;no.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&go(e,"w")){const r=Wu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Pi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||e5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=MC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ZU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Er(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):sw("Unrecognized action received from server: "+Er(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>OY&&(this.reconnectDelay_=Mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+no.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Fe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Rr("getToken() completed but was canceled"):(Rr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new wY(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{Pi(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(AY)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Pi(d),l())}}}interrupt(e){Rr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],n0(this.interruptReasons_)&&(this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>aT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _n(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Rr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$C&&(this.reconnectDelay_=MC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Rr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$C&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+aM.replace(/\./g,"-")]=1,A1()?e["framework.cordova"]=1:Ix()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Km.getInstance().currentlyOnline();return n0(this.interruptReasons_)&&e}}no.nextPersistentConnectionId_=0;no.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Rt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Rt(tc,e),i=new Rt(tc,n);return this.compare(r,i)!==0}minPost(){return Rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp;class MM extends Av{static get __EMPTY_NODE(){return dp}static set __EMPTY_NODE(e){dp=e}compare(e,n){return Ec(e.name,n.name)}isDefinedOn(e){throw pc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(vl,dp)}makePost(e,n){return Fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Rt(e,dp)}toString(){return".key"}}const Ru=new MM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dr.RED,this.left=i??fi.EMPTY_NODE,this.right=s??fi.EMPTY_NODE}copy(e,n,r,i,s){return new dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return fi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return fi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dr.RED=!0;dr.BLACK=!1;class PY{copy(e,n,r,i,s){return this}insert(e,n,r){return new dr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class fi{constructor(e,n=fi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new fi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dr.BLACK,null,null))}remove(e){return new fi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fp(this.root_,null,this.comparator_,!0,e)}}fi.EMPTY_NODE=new PY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t,e){return Ec(t.name,e.name)}function fT(t,e){return Ec(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lw;function xY(t){lw=t}const $M=function(t){return typeof t=="number"?"number:"+fM(t):"string:"+t},LM=function(t){if(t.isLeafNode()){const e=t.val();Fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&go(e,".sv"),"Priority must be a string or number.")}else Fe(t===lw||t.isEmpty(),"priority of unexpected type.");Fe(t===lw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LC;class ur{constructor(e,n=ur.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),LM(this.priorityNode_)}static set __childrenNodeConstructor(e){LC=e}static get __childrenNodeConstructor(){return LC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ur(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ur.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:Dt(e)===".priority"?this.priorityNode_:ur.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ur.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Dt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Fe(r!==".priority"||ua(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ur.__childrenNodeConstructor.EMPTY_NODE.updateChild(mn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$M(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=fM(this.value_):e+=this.value_,this.lazyHash_=uM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ur.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ur.__childrenNodeConstructor?-1:(Fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ur.VALUE_TYPE_ORDER.indexOf(n),s=ur.VALUE_TYPE_ORDER.indexOf(r);return Fe(i>=0,"Unknown leaf type: "+n),Fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ur.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FM,UM;function DY(t){FM=t}function RY(t){UM=t}class NY extends Av{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ec(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(vl,new ur("[PRIORITY-POST]",UM))}makePost(e,n){const r=FM(e);return new Rt(n,new ur("[PRIORITY-POST]",r))}toString(){return".priority"}}const Lr=new NY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=Math.log(2);class $Y{constructor(e){const n=s=>parseInt(Math.log(s)/MY,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new dr(f,d.node,dr.BLACK,null,null);{const h=parseInt(c/2,10)+l,p=i(l,h),m=i(h+1,u);return d=t[h],f=n?n(d):d,new dr(f,d.node,dr.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const f=function(p,m){const g=d-p,v=d;d-=p;const y=i(g+1,v),_=t[g],b=n?n(_):_;h(new dr(b,_.node,m,null,y))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?f(g,dr.BLACK):(f(g,dr.BLACK),f(g,dr.RED))}return c},o=new $Y(t.length),a=s(o);return new fi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy;const jl={};class qs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Fe(jl&&Lr,"ChildrenNode.ts has not been loaded"),Gy=Gy||new qs({".priority":jl},{".priority":Lr}),Gy}get(e){const n=Wu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fi?n:null}hasIndex(e){return go(this.indexSet_,e.toString())}addIndex(e,n){Fe(e!==Ru,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Rt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=zm(r,e.getCompare()):a=jl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new qs(c,u)}addToIndexes(e,n){const r=mm(this.indexes_,(i,s)=>{const o=Wu(this.indexSet_,s);if(Fe(o,"Missing index implementation for "+s),i===jl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Rt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),zm(a,o.getCompare())}else return jl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Rt(e.name,a))),l.insert(e,e.node)}});return new qs(r,this.indexSet_)}removeFromIndexes(e,n){const r=mm(this.indexes_,i=>{if(i===jl)return i;{const s=n.get(e.name);return s?i.remove(new Rt(e.name,s)):i}});return new qs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;class Qt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&LM(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $c||($c=new Qt(new fi(fT),null,qs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$c}updatePriority(e){return this.children_.isEmpty()?this:new Qt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$c:n}}getChild(e){const n=Dt(e);return n===null?this:this.getImmediateChild(n).getChild(mn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Rt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?$c:this.priorityNode_;return new Qt(i,o,s)}}updateChild(e,n){const r=Dt(e);if(r===null)return n;{Fe(Dt(e)!==".priority"||ua(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(mn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Lr,(o,a)=>{n[o]=a.val(e),r++,s&&Qt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$M(this.getPriority().val())+":"),this.forEachChild(Lr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":uM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Rt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Rt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Rt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ch?-1:0}withIndex(e){if(e===Ru||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Qt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ru||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Lr),i=n.getIterator(Lr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ru?null:this.indexMap_.get(e.toString())}}Qt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class LY extends Qt{constructor(){super(new fi(fT),Qt.EMPTY_NODE,qs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qt.EMPTY_NODE}isEmpty(){return!1}}const Ch=new LY;Object.defineProperties(Rt,{MIN:{value:new Rt(tc,Qt.EMPTY_NODE)},MAX:{value:new Rt(vl,Ch)}});MM.__EMPTY_NODE=Qt.EMPTY_NODE;ur.__childrenNodeConstructor=Qt;xY(Ch);RY(Ch);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY=!0;function Nr(t,e=null){if(t===null)return Qt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ur(n,Nr(e))}if(!(t instanceof Array)&&FY){const n=[];let r=!1;if(ji(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Nr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Rt(o,l)))}}),n.length===0)return Qt.EMPTY_NODE;const s=zm(n,kY,o=>o.name,fT);if(r){const o=zm(n,Lr.getCompare());return new Qt(s,Nr(e),new qs({".priority":o},{".priority":Lr}))}else return new Qt(s,Nr(e),qs.Default)}else{let n=Qt.EMPTY_NODE;return ji(t,(r,i)=>{if(go(t,r)&&r.substring(0,1)!=="."){const s=Nr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Nr(e))}}DY(Nr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY extends Av{constructor(e){super(),this.indexPath_=e,Fe(!Ot(e)&&Dt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ec(e.name,n.name):s}makePost(e,n){const r=Nr(e),i=Qt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Rt(n,i)}maxPost(){const e=Qt.EMPTY_NODE.updateChild(this.indexPath_,Ch);return new Rt(vl,e)}toString(){return xM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY extends Av{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ec(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(e,n){const r=Nr(e);return new Rt(n,r)}toString(){return".value"}}const BY=new VY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(t){return{type:"value",snapshotNode:t}}function HY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function WY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function FC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function KY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tc}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lr}copy(){const e=new hT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Lr?n="$priority":t.index_===BY?n="$value":t.index_===Ru?n="$key":(Fe(t.index_ instanceof UY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Er(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Er(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Er(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Er(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Er(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function VC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Lr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends AM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Eh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Gm.getListenId_(e,r),a={};this.listens_[o]=a;const l=UC(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Wu(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Gm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=UC(e._queryParams),r=e._path.toString(),i=new ol;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Jd(a.responseText)}catch{Pi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Pi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){return{value:null,children:new Map}}function VM(t,e,n){if(Ot(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Dt(e);t.children.has(r)||t.children.set(r,Ym());const i=t.children.get(r);e=mn(e),VM(i,e,n)}}function uw(t,e,n){t.value!==null?n(e,t.value):GY(t,(r,i)=>{const s=new _n(e.toString()+"/"+r);uw(i,s,n)})}function GY(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ji(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=10*1e3,qY=30*1e3,XY=5*60*1e3;class QY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YY(e);const r=BC+(qY-BC)*Math.random();Od(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ji(e,(i,s)=>{s>0&&go(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Od(this.reportStats_.bind(this),Math.floor(Math.random()*2*XY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cs||(Cs={}));function BM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function HM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cs.ACK_USER_WRITE,this.source=BM()}operationForChild(e){if(Ot(this.path)){if(this.affectedTree.value!=null)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _n(e));return new qm(rn(),n,this.revert)}}else return Fe(Dt(this.path)===e,"operationForChild called for unrelated child."),new qm(mn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cs.OVERWRITE}operationForChild(e){return Ot(this.path)?new yl(this.source,rn(),this.snap.getImmediateChild(e)):new yl(this.source,mn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cs.MERGE}operationForChild(e){if(Ot(this.path)){const n=this.children.subtree(new _n(e));return n.isEmpty()?null:n.value?new yl(this.source,rn(),n.value):new wf(this.source,rn(),n)}else return Fe(Dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wf(this.source,mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ot(e))return this.isFullyInitialized()&&!this.filtered_;const n=Dt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function JY(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(KY(o.childName,o.snapshotNode))}),Lc(t,i,"child_removed",e,r,n),Lc(t,i,"child_added",e,r,n),Lc(t,i,"child_moved",s,r,n),Lc(t,i,"child_changed",e,r,n),Lc(t,i,"value",e,r,n),i}function Lc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>eq(t,a,l)),o.forEach(a=>{const l=ZY(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function ZY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eq(t,e,n){if(e.childName==null||n.childName==null)throw pc("Should only compare child_ events.");const r=new Rt(e.childName,e.snapshotNode),i=new Rt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e){return{eventCache:t,serverCache:e}}function Ad(t,e,n,r){return WM(new pT(e,n,r),t.serverCache)}function KM(t,e,n,r){return WM(t.eventCache,new pT(e,n,r))}function cw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;const tq=()=>(Yy||(Yy=new fi(VG)),Yy);class pn{constructor(e,n=tq()){this.value=e,this.children=n}static fromObject(e){let n=new pn(null);return ji(e,(r,i)=>{n=n.set(new _n(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:rn(),value:this.value};if(Ot(e))return null;{const r=Dt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(mn(e),n);return s!=null?{path:hr(new _n(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ot(e))return this;{const n=Dt(e),r=this.children.get(n);return r!==null?r.subtree(mn(e)):new pn(null)}}set(e,n){if(Ot(e))return new pn(n,this.children);{const r=Dt(e),s=(this.children.get(r)||new pn(null)).set(mn(e),n),o=this.children.insert(r,s);return new pn(this.value,o)}}remove(e){if(Ot(e))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const n=Dt(e),r=this.children.get(n);if(r){const i=r.remove(mn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pn(null):new pn(this.value,s)}else return this}}get(e){if(Ot(e))return this.value;{const n=Dt(e),r=this.children.get(n);return r?r.get(mn(e)):null}}setTree(e,n){if(Ot(e))return n;{const r=Dt(e),s=(this.children.get(r)||new pn(null)).setTree(mn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pn(this.value,o)}}fold(e){return this.fold_(rn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(hr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,rn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ot(e))return null;{const s=Dt(e),o=this.children.get(s);return o?o.findOnPath_(mn(e),hr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,rn(),n)}foreachOnPath_(e,n,r){if(Ot(e))return this;{this.value&&r(n,this.value);const i=Dt(e),s=this.children.get(i);return s?s.foreachOnPath_(mn(e),hr(n,i),r):new pn(null)}}foreach(e){this.foreach_(rn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(hr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.writeTree_=e}static empty(){return new os(new pn(null))}}function Pd(t,e,n){if(Ot(e))return new os(new pn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ui(i,e);return s=s.updateChild(o,n),new os(t.writeTree_.set(i,s))}else{const i=new pn(n),s=t.writeTree_.setTree(e,i);return new os(s)}}}function jC(t,e,n){let r=t;return ji(n,(i,s)=>{r=Pd(r,hr(e,i),s)}),r}function HC(t,e){if(Ot(e))return os.empty();{const n=t.writeTree_.setTree(e,new pn(null));return new os(n)}}function dw(t,e){return Ml(t,e)!=null}function Ml(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ui(n.path,e)):null}function WC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Lr,(r,i)=>{e.push(new Rt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Rt(r,i.value))}),e}function Qo(t,e){if(Ot(e))return t;{const n=Ml(t,e);return n!=null?new os(new pn(n)):new os(t.writeTree_.subtree(e))}}function fw(t){return t.writeTree_.isEmpty()}function nc(t,e){return zM(rn(),t.writeTree_,e)}function zM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=zM(hr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(hr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t,e){return JM(e,t)}function nq(t,e,n,r,i){Fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Pd(t.visibleWrites,e,n)),t.lastWriteId=r}function rq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function iq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&sq(a,r.path)?i=!1:rs(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return oq(t),!0;if(r.snap)t.visibleWrites=HC(t.visibleWrites,r.path);else{const a=r.children;ji(a,l=>{t.visibleWrites=HC(t.visibleWrites,hr(r.path,l))})}return!0}else return!1}function sq(t,e){if(t.snap)return rs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rs(hr(t.path,n),e))return!0;return!1}function oq(t){t.visibleWrites=YM(t.allWrites,aq,rn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aq(t){return t.visible}function YM(t,e,n){let r=os.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)rs(n,o)?(a=Ui(n,o),r=Pd(r,a,s.snap)):rs(o,n)&&(a=Ui(o,n),r=Pd(r,rn(),s.snap.getChild(a)));else if(s.children){if(rs(n,o))a=Ui(n,o),r=jC(r,a,s.children);else if(rs(o,n))if(a=Ui(o,n),Ot(a))r=jC(r,rn(),s.children);else{const l=Wu(s.children,Dt(a));if(l){const u=l.getChild(mn(a));r=Pd(r,rn(),u)}}}else throw pc("WriteRecord should have .snap or .children")}}return r}function qM(t,e,n,r,i){if(!r&&!i){const s=Ml(t.visibleWrites,e);if(s!=null)return s;{const o=Qo(t.visibleWrites,e);if(fw(o))return n;if(n==null&&!dw(o,rn()))return null;{const a=n||Qt.EMPTY_NODE;return nc(o,a)}}}else{const s=Qo(t.visibleWrites,e);if(!i&&fw(s))return n;if(!i&&n==null&&!dw(s,rn()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(rs(u.path,e)||rs(e,u.path))},a=YM(t.allWrites,o,e),l=n||Qt.EMPTY_NODE;return nc(a,l)}}}function lq(t,e,n){let r=Qt.EMPTY_NODE;const i=Ml(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Lr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Qo(t.visibleWrites,e);return n.forEachChild(Lr,(o,a)=>{const l=nc(Qo(s,new _n(o)),a);r=r.updateImmediateChild(o,l)}),WC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Qo(t.visibleWrites,e);return WC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function uq(t,e,n,r,i){Fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=hr(e,n);if(dw(t.visibleWrites,s))return null;{const o=Qo(t.visibleWrites,s);return fw(o)?i.getChild(n):nc(o,i.getChild(n))}}function cq(t,e,n,r){const i=hr(e,n),s=Ml(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Qo(t.visibleWrites,i);return nc(o,r.getNode().getImmediateChild(n))}else return null}function dq(t,e){return Ml(t.visibleWrites,e)}function fq(t,e,n,r,i,s,o){let a;const l=Qo(t.visibleWrites,e),u=Ml(l,rn());if(u!=null)a=u;else if(n!=null)a=nc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function hq(){return{visibleWrites:os.empty(),allWrites:[],lastWriteId:-1}}function hw(t,e,n,r){return qM(t.writeTree,t.treePath,e,n,r)}function XM(t,e){return lq(t.writeTree,t.treePath,e)}function KC(t,e,n,r){return uq(t.writeTree,t.treePath,e,n,r)}function Xm(t,e){return dq(t.writeTree,hr(t.treePath,e))}function pq(t,e,n,r,i,s){return fq(t.writeTree,t.treePath,e,n,r,i,s)}function mT(t,e,n){return cq(t.writeTree,t.treePath,e,n)}function QM(t,e){return JM(hr(t.treePath,e),t.writeTree)}function JM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,FC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,WY(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,HY(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,FC(r,e.snapshotNode,i.oldSnap));else throw pc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ZM=new gq;class gT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new pT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bl(this.viewCache_),s=pq(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function vq(t,e){Fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yq(t,e,n,r,i){const s=new mq;let o,a;if(n.type===Cs.OVERWRITE){const u=n;u.source.fromUser?o=pw(t,e,u.path,u.snap,r,i,s):(Fe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ot(u.path),o=Qm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Cs.MERGE){const u=n;u.source.fromUser?o=wq(t,e,u.path,u.children,r,i,s):(Fe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=mw(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Cs.ACK_USER_WRITE){const u=n;u.revert?o=Sq(t,e,u.path,r,i,s):o=_q(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Cs.LISTEN_COMPLETE)o=Tq(t,e,n.path,r,s);else throw pc("Unknown operation type: "+n.type);const l=s.getChanges();return bq(e,o,l),{viewCache:o,changes:l}}function bq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=cw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(jY(cw(e)))}}function e$(t,e,n,r,i,s){const o=e.eventCache;if(Xm(r,n)!=null)return e;{let a,l;if(Ot(n))if(Fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=bl(e),c=u instanceof Qt?u:Qt.EMPTY_NODE,d=XM(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=hw(r,bl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Dt(n);if(u===".priority"){Fe(ua(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=KC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=mn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=KC(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=mT(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Ad(e,a,o.isFullyInitialized()||Ot(n),t.filter.filtersNodes())}}function Qm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Ot(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=Dt(n);if(!l.isCompleteForPath(n)&&ua(n)>1)return e;const p=mn(n),g=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=c.updatePriority(l.getNode(),g):u=c.updateChild(l.getNode(),h,g,p,ZM,null)}const d=KM(e,u,l.isFullyInitialized()||Ot(n),c.filtersNodes()),f=new gT(i,d,s);return e$(t,d,n,i,f,a)}function pw(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new gT(i,e,s);if(Ot(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ad(e,u,!0,t.filter.filtersNodes());else{const d=Dt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ad(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=mn(n),h=a.getNode().getImmediateChild(d);let p;if(Ot(f))p=r;else{const m=c.getCompleteChild(d);m!=null?kM(f)===".priority"&&m.getChild(DM(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=Qt.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,c,o);l=Ad(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function zC(t,e){return t.eventCache.isCompleteForChild(e)}function wq(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=hr(n,l);zC(e,Dt(c))&&(a=pw(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=hr(n,l);zC(e,Dt(c))||(a=pw(t,a,c,u,i,s,o))}),a}function GC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function mw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ot(n)?u=r:u=new pn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=GC(t,h,f);l=Qm(t,l,new _n(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=GC(t,p,f);l=Qm(t,l,new _n(d),m,i,s,o,a)}}),l}function _q(t,e,n,r,i,s,o){if(Xm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ot(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Qm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ot(n)){let u=new pn(null);return l.getNode().forEachChild(Ru,(c,d)=>{u=u.set(new _n(c),d)}),mw(t,e,n,u,i,s,a,o)}else return e}else{let u=new pn(null);return r.foreach((c,d)=>{const f=hr(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),mw(t,e,n,u,i,s,a,o)}}function Tq(t,e,n,r,i){const s=e.serverCache,o=KM(e,s.getNode(),s.isFullyInitialized()||Ot(n),s.isFiltered());return e$(t,o,n,r,ZM,i)}function Sq(t,e,n,r,i,s){let o;if(Xm(r,n)!=null)return e;{const a=new gT(r,e,i),l=e.eventCache.getNode();let u;if(Ot(n)||Dt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=hw(r,bl(e));else{const d=e.serverCache.getNode();Fe(d instanceof Qt,"serverChildren would be complete if leaf node"),c=XM(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Dt(n);let d=mT(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,mn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Qt.EMPTY_NODE,mn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hw(r,bl(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Xm(r,rn())!=null,Ad(e,u,o,t.filter.filtersNodes())}}function Eq(t,e){const n=bl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ot(e)&&!n.getImmediateChild(Dt(e)).isEmpty())?n.getChild(e):null}function YC(t,e,n,r){e.type===Cs.MERGE&&e.source.queryId!==null&&(Fe(bl(t.viewCache_),"We should always have a full cache before handling merges"),Fe(cw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=yq(t.processor_,i,e,n,r);return vq(t.processor_,s.viewCache),Fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Iq(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Iq(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return JY(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qC;function Cq(t){Fe(!qC,"__referenceConstructor has already been defined"),qC=t}function vT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Fe(s!=null,"SyncTree gave us an op for an invalid query."),YC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(YC(o,e,n,r));return s}}function yT(t,e){let n=null;for(const r of t.views.values())n=n||Eq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XC;function Oq(t){Fe(!XC,"__referenceConstructor has already been defined"),XC=t}class QC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pn(null),this.pendingWriteTree_=hq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Aq(t,e,n,r,i){return nq(t.pendingWriteTree_,e,n,r,i),i?kv(t,new yl(BM(),e,n)):[]}function cu(t,e,n=!1){const r=rq(t.pendingWriteTree_,e);if(iq(t.pendingWriteTree_,e)){let s=new pn(null);return r.snap!=null?s=s.set(rn(),!0):ji(r.children,o=>{s=s.set(new _n(o),!0)}),kv(t,new qm(r.path,s,n))}else return[]}function Pv(t,e,n){return kv(t,new yl(jM(),e,n))}function Pq(t,e,n){const r=pn.fromObject(n);return kv(t,new wf(jM(),e,r))}function kq(t,e,n,r){const i=i$(t,r);if(i!=null){const s=s$(i),o=s.path,a=s.queryId,l=Ui(o,e),u=new yl(HM(a),l,n);return o$(t,o,u)}else return[]}function xq(t,e,n,r){const i=i$(t,r);if(i){const s=s$(i),o=s.path,a=s.queryId,l=Ui(o,e),u=pn.fromObject(n),c=new wf(HM(a),l,u);return o$(t,o,c)}else return[]}function t$(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ui(o,e),u=yT(a,l);if(u)return u});return qM(i,e,s,n,!0)}function kv(t,e){return n$(e,t.syncPointTree_,null,GM(t.pendingWriteTree_,rn()))}function n$(t,e,n,r){if(Ot(t.path))return r$(t,e,n,r);{const i=e.get(rn());n==null&&i!=null&&(n=yT(i,rn()));let s=[];const o=Dt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=QM(r,o);s=s.concat(n$(a,l,u,c))}return i&&(s=s.concat(vT(i,t,r,n))),s}}function r$(t,e,n,r){const i=e.get(rn());n==null&&i!=null&&(n=yT(i,rn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=QM(r,o),c=t.operationForChild(o);c&&(s=s.concat(r$(c,a,l,u)))}),i&&(s=s.concat(vT(i,t,r,n))),s}function i$(t,e){return t.tagToQueryMap.get(e)}function s$(t){const e=t.indexOf("$");return Fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _n(t.substr(0,e))}}function o$(t,e,n){const r=t.syncPointTree_.get(e);Fe(r,"Missing sync point for query tag that we're tracking");const i=GM(t.pendingWriteTree_,e);return vT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bT(n)}node(){return this.node_}}class wT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=hr(this.path_,e);return new wT(this.syncTree_,n)}node(){return t$(this.syncTree_,this.path_)}}const Dq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},JC=function(t,e,n){if(!t||typeof t!="object")return t;if(Fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Rq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Nq(t[".sv"],e);Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Rq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Fe(!1,"Unexpected server value: "+t)}},Nq=function(t,e,n){t.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Fe(!1,"Unexpected increment value: "+r);const i=e.node();if(Fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Mq=function(t,e,n,r){return _T(e,new wT(n,t),r)},$q=function(t,e,n){return _T(t,new bT(e),n)};function _T(t,e,n){const r=t.getPriority().val(),i=JC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=JC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ur(a,Nr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ur(i))),o.forEachChild(Lr,(a,l)=>{const u=_T(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ST(t,e){let n=e instanceof _n?e:new _n(e),r=t,i=Dt(n);for(;i!==null;){const s=Wu(r.node.children,i)||{children:{},childCount:0};r=new TT(i,r,s),n=mn(n),i=Dt(n)}return r}function Ic(t){return t.node.value}function a$(t,e){t.node.value=e,gw(t)}function l$(t){return t.node.childCount>0}function Lq(t){return Ic(t)===void 0&&!l$(t)}function xv(t,e){ji(t.node.children,(n,r)=>{e(new TT(n,t,r))})}function u$(t,e,n,r){n&&!r&&e(t),xv(t,i=>{u$(i,e,!0,r)}),n&&r&&e(t)}function Fq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Oh(t){return new _n(t.parent===null?t.name:Oh(t.parent)+"/"+t.name)}function gw(t){t.parent!==null&&Uq(t.parent,t.name,t)}function Uq(t,e,n){const r=Lq(n),i=go(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,gw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,gw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=/[\[\].#$\/\u0000-\u001F\u007F]/,Bq=/[\[\].#$\u0000-\u001F\u007F]/,qy=10*1024*1024,c$=function(t){return typeof t=="string"&&t.length!==0&&!Vq.test(t)},jq=function(t){return typeof t=="string"&&t.length!==0&&!Bq.test(t)},Hq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jq(t)},d$=function(t,e,n){const r=n instanceof _n?new TY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Oa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Oa(r)+" with contents = "+e.toString());if(cM(e))throw new Error(t+"contains "+e.toString()+" "+Oa(r));if(typeof e=="string"&&e.length>qy/3&&Ug(e)>qy)throw new Error(t+"contains a string greater than "+qy+" utf8 bytes "+Oa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ji(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!c$(o)))throw new Error(t+" contains an invalid key ("+o+") "+Oa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);SY(r,o),d$(t,a,r),EY(r)}),i&&s)throw new Error(t+' contains ".value" child '+Oa(r)+" in addition to actual children.")}},Wq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!c$(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Hq(n))throw new Error(s5(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zq(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!RM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $l(t,e,n){zq(t,n),Gq(t,r=>rs(r,e)||rs(e,r))}function Gq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Yq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Yq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ya&&Rr("event: "+n.toString()),Ih(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq="repo_interrupt",Xq=25;class Qq{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ym(),this.transactionQueueTree_=new TT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jq(t,e,n){if(t.stats_=uT(t.repoInfo_),t.forceRestClient_||zG())t.server_=new Gm(t.repoInfo_,(r,i,s,o)=>{ZC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>eO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Er(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new no(t.repoInfo_,e,(r,i,s,o)=>{ZC(t,r,i,s,o)},r=>{eO(t,r)},r=>{eX(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=JG(t.repoInfo_,()=>new QY(t.stats_,t.server_)),t.infoData_=new zY,t.infoSyncTree_=new QC({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Pv(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),ET(t,"connected",!1),t.serverSyncTree_=new QC({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);$l(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Zq(t){const n=t.infoData_.getNode(new _n(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function f$(t){return Dq({timestamp:Zq(t)})}function ZC(t,e,n,r,i){t.dataUpdateCount++;const s=new _n(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=mm(n,u=>Nr(u));o=xq(t.serverSyncTree_,s,l,i)}else{const l=Nr(n);o=kq(t.serverSyncTree_,s,l,i)}else if(r){const l=mm(n,u=>Nr(u));o=Pq(t.serverSyncTree_,s,l)}else{const l=Nr(n);o=Pv(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=CT(t,s)),$l(t.eventQueue_,a,o)}function eO(t,e){ET(t,"connected",e),e===!1&&nX(t)}function eX(t,e){ji(e,(n,r)=>{ET(t,n,r)})}function ET(t,e,n){const r=new _n("/.info/"+e),i=Nr(n);t.infoData_.updateSnapshot(r,i);const s=Pv(t.infoSyncTree_,r,i);$l(t.eventQueue_,r,s)}function tX(t){return t.nextWriteId_++}function nX(t){h$(t,"onDisconnectEvents");const e=f$(t),n=Ym();uw(t.onDisconnect_,rn(),(i,s)=>{const o=Mq(i,s,t.serverSyncTree_,e);VM(n,i,o)});let r=[];uw(n,rn(),(i,s)=>{r=r.concat(Pv(t.serverSyncTree_,i,s));const o=oX(t,i);CT(t,o)}),t.onDisconnect_=Ym(),$l(t.eventQueue_,rn(),r)}function rX(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qq)}function h$(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Rr(n,...e)}function p$(t,e,n){return t$(t.serverSyncTree_,e,n)||Qt.EMPTY_NODE}function IT(t,e=t.transactionQueueTree_){if(e||Dv(t,e),Ic(e)){const n=g$(t,e);Fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&iX(t,Oh(e),n)}else l$(e)&&xv(e,n=>{IT(t,n)})}function iX(t,e,n){const r=n.map(u=>u.currentWriteId),i=p$(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Fe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ui(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{h$(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(cu(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Dv(t,ST(t.transactionQueueTree_,e)),IT(t,t.transactionQueueTree_),$l(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Ih(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Pi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}CT(t,e)}},o)}function CT(t,e){const n=m$(t,e),r=Oh(n),i=g$(t,n);return sX(t,i,r),r}function sX(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ui(n,l.path);let c=!1,d;if(Fe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(cu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Xq)c=!0,d="maxretry",i=i.concat(cu(t.serverSyncTree_,l.currentWriteId,!0));else{const f=p$(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){d$("transaction failed: Data returned ",h,l.path);let p=Nr(h);typeof h=="object"&&h!=null&&go(h,".priority")||(p=p.updatePriority(f.getPriority()));const g=l.currentWriteId,v=f$(t),y=$q(p,f,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=tX(t),o.splice(o.indexOf(g),1),i=i.concat(Aq(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(cu(t.serverSyncTree_,g,!0))}else c=!0,d="nodata",i=i.concat(cu(t.serverSyncTree_,l.currentWriteId,!0))}$l(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Dv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ih(r[a]);IT(t,t.transactionQueueTree_)}function m$(t,e){let n,r=t.transactionQueueTree_;for(n=Dt(e);n!==null&&Ic(r)===void 0;)r=ST(r,n),e=mn(e),n=Dt(e);return r}function g$(t,e){const n=[];return v$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function v$(t,e,n){const r=Ic(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);xv(e,i=>{v$(t,i,n)})}function Dv(t,e){const n=Ic(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,a$(e,n.length>0?n:void 0)}xv(e,r=>{Dv(t,r)})}function oX(t,e){const n=Oh(m$(t,e)),r=ST(t.transactionQueueTree_,e);return Fq(r,i=>{Xy(t,i)}),Xy(t,r),u$(r,i=>{Xy(t,i)}),n}function Xy(t,e){const n=Ic(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Fe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Fe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?a$(e,void 0):n.length=s+1,$l(t.eventQueue_,Oh(e),i);for(let o=0;o<r.length;o++)Ih(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function lX(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pi(`Invalid query segment '${n}' in query '${t}'`)}return e}const tO=function(t,e){const n=uX(t),r=n.namespace;n.domain==="firebase.com"&&gl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&gl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FG();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qG(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _n(n.pathString)}},uX=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=aX(t.substring(c,d)));const f=lX(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ot(this._path)?null:kM(this._path)}get ref(){return new Cc(this._repo,this._path)}get _queryIdentifier(){const e=VC(this._queryParams),n=aT(e);return n==="{}"?"default":n}get _queryObject(){return VC(this._queryParams)}isEqual(e){if(e=Wt(e),!(e instanceof OT))return!1;const n=this._repo===e._repo,r=RM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+_Y(this._path)}}class Cc extends OT{constructor(e,n){super(e,n,new hT,!1)}get parent(){const e=DM(this._path);return e===null?null:new Cc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Cq(Cc);Oq(Cc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="FIREBASE_DATABASE_EMULATOR_HOST",vw={};let dX=!1;function fX(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||gl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=tO(s,i),a=o.repoInfo,l,u;typeof process<"u"&&_C&&(u=_C[cX]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=tO(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new ow(ow.OWNER):new YG(t.name,t.options,e);Wq("Invalid Firebase Database URL",o),Ot(o.path)||gl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=pX(a,t,c,new GG(t.name,n));return new mX(d,t)}function hX(t,e){const n=vw[e];(!n||n[t.key]!==t)&&gl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rX(t),delete n[t.key]}function pX(t,e,n,r){let i=vw[e.name];i||(i={},vw[e.name]=i);let s=i[t.toURLString()];return s&&gl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Qq(t,dX,n,r),i[t.toURLString()]=s,s}class mX{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Jq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cc(this._repo,rn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hX(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(t){RG(fa),gi(new ei("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return fX(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Cr(TC,SC,t),Cr(TC,SC,"esm2017")}no.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};no.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gX();function y$(t){return RH(oM(t))}function vX(t){return bX({initialUser:t,dependencies:{popupRedirectResolver:iM,persistence:[tM,qN,iT]}})}const yX=Symbol("VueFireAuth");function bX({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=wX(n,r,e,t);DG(i,s)}}function wX(t,e,n,r,i=FN(t,r)){const s=PG(t,e).run(()=>re(n));return kG.set(t,s),e.provide(yX,i),[s,i]}function _X(t,{firebaseApp:e,modules:n=[]}){t.provide(sM,e);for(const r of n)r(e,t)}const TX=""+new URL("bundle9.css",import.meta.url).href,b$={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},SX={avatarUrl:TX,headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},EX=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],IX=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],w$=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Yn;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await $i(l)))??[])).map(async l=>Jm.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[]}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Yn||(Yn={}));var Jm;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await $i(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(Jm||(Jm={}));var yw;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(yw||(yw={}));const Zm=[{value:"bg-gray-900",label:"Default",background:"bg-gray-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"}],CX=t=>Zm.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-gray-900",text:(t==null?void 0:t.text)||"text-white"}:e),OX=Zm.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-gray-700",text:"text-white"}:t),Qy=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Xt=y$(),Ht={content:Qi(Xt,"content"),projects:Qi(Xt,"projects"),menuItems:t=>Qi(Xt,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:Qi(Xt,"menuItemsPrivate"),blogPosts:t=>Qi(Xt,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:Qi(Xt,"blogPostsPrivate"),blogReactions:t=>Qi(Xt,t?"blogReactionsPrivate":"blogReactions"),usersPublic:Qi(Xt,"usersPublic"),files:Qi(Xt,"files")},ar=_D("main",{state:()=>({profile:b$,content:SX,menuItems:IX,projects:EX,blogPosts:{data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1,databaseCreationActive:!1,databaseMutationActive:!1,databaseDeletionActive:!1},blogReactions:{databaseCreationActive:!1,databaseDeletionActive:!1,unread:[]},publicUsers:[],online:!0,debug:!1,fetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],databaseActionActive:t=>t.blogPosts.databaseCreationActive||t.blogPosts.databaseMutationActive||t.blogPosts.databaseDeletionActive||t.blogReactions.databaseCreationActive||t.blogReactions.databaseDeletionActive},actions:{async fetchAll(t,e){try{this.fetchAllLoading||(this.fetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){qe.firebaseError(this.debug,n)}finally{this.fetchAllLoading=!1}},async fetchContent(){try{const t=await $i(Kt(Xt,Ht.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){qe.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Bl(Ht.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await $i(n)))})));this.projects=t.length?nC(t):this.projects}catch(t){qe.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Bl(Ht.menuItems());if(t)try{e=e.concat(await Bl(Ht.menuItemsPrivate,[zI("allowedUserIds","array-contains",Kt(Xt,Ht.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?nC(e):this.menuItems,this.menuItems}catch(e){qe.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{e.loadingIndicator!==!1&&(this.blogPosts.fetchLoading=!0);const r=e.visibility??this.blogPosts.visibility,i=this.blogPosts.data[r][this.blogPosts.data[r].length-1],s=[GI("datePinned","desc"),GI("date","desc"),KH(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[r]=[]),!e.amount&&i&&s.push(GH(i.datePinned,i.date));var n=[];r==="private"&&t?n=await Bl(Ht.blogPostsPrivate,[zI("allowedUserIds","array-contains",Kt(Xt,Ht.usersPublic.id,t).id),...s]):r==="public"&&(n=await Bl(Ht.blogPosts(!1),s));const o=await Promise.all(n.map(async a=>await Yn.mapIncoming(a)));if(e.amount)this.blogPosts.data[r]=o;else for(const a of o)this.blogPosts.data[r].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(r){qe.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t,e){try{console.log("attempt to fetch single"),this.blogPosts.fetchLoading=!0,this.blogPosts.previousData.single=this.blogPosts.data.single;var n=await $i(Kt(Ht.blogPosts(!!(e!=null&&e.isPrivate)),t));return n||(n=await $i(Kt(Ht.blogPostsPrivate,t))),n?(this.blogPosts.data.single=await Yn.mapIncoming(n),this.blogPosts.data.single):null}catch(r){return qe.firebaseError(this.debug,r),null}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await Bl(Ht.usersPublic)}catch(t){return qe.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await $i(Kt(Xt,Ht.usersPublic.id,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},setPreviousBlogPosts(){this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkForUnreadBlogPosts(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts){const n=this.visibleBlogPosts.find(r=>r.id===e.id);if(n&&n.reactions.length!==e.reactions.length){const r=n.reactions.filter(i=>!e.reactions.some(s=>s.id===i.id));for(const i of r)this.blogReactions.unread.every(s=>s.id!==i.id)&&this.blogReactions.unread.push(i)}}t!==this.blogReactions.unread.length&&qe.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{this.blogPosts.databaseCreationActive=!0,this.blogPosts.mutationLoading=!0;const i=ko(e);return await Fm(Kt(Xt,Ht.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Xn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Xn.fromDate(e.countdown):null,timer:e.timer?Xn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),qe.success("Successfully created Post"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const i=Ht.blogPosts(n.isPrivate).id;let s="";if(Yn.Content.instanceOf(e)&&(await $o(Kt(Xt,i,t),{...Yn.Content.convert(e),dateUpdated:Xn.now()}),s="content"),Yn.Styling.instanceOf(e)&&(await $o(Kt(Xt,i,t),{...Yn.Styling.convert(e)}),s="styling"),Yn.Settings.instanceOf(e)&&(await $o(Kt(Xt,i,t),{...Yn.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){qe.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||qe.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,Jm.convert(a),{includeTime:!0,fetch:!1})||qe.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=Z0(a);await this.updateFileInfo(l.name,o)||qe.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return qe.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.databaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=ko(n);return await od(Kt(Xt,Ht.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),qe.success("Successfully deleted Post"),!0}return!1}catch(n){return qe.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.databaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.databaseCreationActive=!0;const r=ko(t),i=Kt(Xt,Ht.blogPosts(r.isPrivate).id,t.id),s=await $i(i);if(s){const o=await _K(Ht.blogReactions(r.isPrivate),{user:Kt(Xt,Ht.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Xn.now(),post:i});if(await $o(Kt(Xt,Ht.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r);this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return qe.success("Successfully created Reaction"),!0}return!1}catch(r){return qe.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.databaseDeletionActive=!0;const i=ko(e);if(n.mutatePost){const s=Kt(Xt,Ht.blogPosts(i.isPrivate).id,e.id),o=await $i(s);o&&await $o(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await od(Kt(Xt,Ht.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),qe.success("Successfully deleted Reaction"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.databaseDeletionActive=!0;const e=ko(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await od(Kt(Xt,Ht.blogReactions(e.isPrivate).id,r.id));return n.length&&qe.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return qe.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await $i(Kt(Xt,Ht.files.path,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=hK(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,qe.success("Successfully uploaded File"),!0}catch(r){return qe.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=ko(i);s=Kt(Xt,Ht.blogPosts(o.isPrivate).id,i.id)}return await Fm(Kt(Xt,Ht.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return qe.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=ko(e);n=Kt(Xt,Ht.blogPosts(r.isPrivate).id,e.id)}return await $o(Kt(Xt,Ht.files.path,t),{post:n??null}),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await od(Kt(Xt,Ht.files.path,t.name)),await mK(t),e||qe.success("Successfully deleted File"),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(Z0(r),!0);return n.length&&qe.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),nu=AG(gD);nu.onAuthStateChanged(t=>{sr().fetchUser(t);const e=ar();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Hs=y$(),_a={users:Qi(Hs,"users"),usersPublic:Qi(Hs,"usersPublic")},sr=_D("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:nu.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await $i(Kt(Hs,_a.usersPublic.id,t.uid));const e=await $i(Kt(Hs,_a.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await pz(nu,t,e);await this.fetchUser(n),qe.success("Successfully logged in",{route:"dashboard"})}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await hz(nu,t,e);await Fm(Kt(Hs,_a.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),qe.success("Successfully created your account",{route:"dashboard"})}catch(r){qe.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=la.credential(this.firebaseUser.email,e);await dC(this.firebaseUser,n),await mz(this.firebaseUser,t),qe.success("Successfully changed your e-mail")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=la.credential(this.firebaseUser.email,e);await dC(this.firebaseUser,n),await gz(this.firebaseUser,t),qe.success("Successfully changed your password")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await fz(nu,t),qe.success("Successfully requested password reset")}catch(e){qe.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(ss(this.currentUser,t)?qe.warning("Nothing changed in your details"):(await $o(Kt(Hs,_a.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your profile")))}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?ss(this.publicUser,t)?qe.warning("Nothing changed in your public profile"):(await $o(Kt(Hs,_a.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):this.firebaseUser?(await Fm(Kt(Hs,_a.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):qe.firebaseError(!1)}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await yz(nu),this.currentUser=null,this.publicUser=null,qe.success("Successfully logged out",{route:"home"})}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await od(Kt(Hs,_a.users.id,this.firebaseUser.uid)),await bz(this.firebaseUser),this.currentUser=null,this.publicUser=null,qe.success("Successfully deleted your account",{route:"home"}))}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function AX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z","clip-rule":"evenodd"})])}function PX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),K("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function kX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function xX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}function DX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})])}function RX(t,e){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}const NX=["href"],MX=Ae({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{}},setup(t){return(e,n)=>{const r=En("RouterLink");return e.url?(S(),U(Te,{key:0},[e.url.startsWith("http")?(S(),U("a",{key:1,class:ke(e.class),href:e.url},[fe(e.$slots,"default")],10,NX)):(S(),ie(r,{key:0,class:ke(e.class),"active-class":e.activeClass,to:{path:e.url}},{default:ce(()=>[fe(e.$slots,"default")]),_:3},8,["class","active-class","to"]))],64)):fe(e.$slots,"default",{key:1,class:ke(e.class)})}}}),$X=["type","disabled"],LX={class:ke("w-full flex flex-column justify-center")},Ut=Ae({__name:"CustomButton",props:{class:{},url:{},type:{},activeClass:{},style:{type:[Boolean,null,String,Object,Array]},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=J(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"action-positive":return e.outlined?"button-outlined-action-positive":"button-action-positive";case"orange":return e.outlined?"button-outlined-orange":"button-orange";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(S(),ie(MX,{class:ke([n.value,"md:mt-0 py-2 px-4 rounded-full",r.list?"flex flex-column justify-center":"",...P(Ca)(e.class)]),activeClass:r.activeClass,url:r.url},{default:ce(({class:s})=>[K("button",{class:ke(s),style:nr(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=wt(o=>r.$emit("click"),["stop"]))},[K("span",LX,[r.loading?(S(),ie(P(AX),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):Y("",!0),fe(r.$slots,"default")])],14,$X)]),_:3},8,["class","activeClass","url"]))}}),Fc=Ae({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(S(),U("span",{class:ke({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},Le(e.time),3))}}),FX=Ae({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=m=>(e.direction==="up"?m=Math.abs(m):m=Math.max(0,m),Math.floor(m)),r=re(0),i=J(()=>n(r.value/Lm)),s=J(()=>r.value%Lm),o=J(()=>n(s.value/$m)),a=J(()=>s.value%$m),l=J(()=>n(a.value/J0)),u=J(()=>a.value%J0),c=J(()=>n(u.value/Q0)),d=J(()=>u.value%Q0),f=J(()=>n(d.value/vN)),h=J(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&f.value===0),p=()=>{r.value=e.time-new Date().getTime(),setTimeout(p,1e3)};return Vt(()=>{p()}),(m,g)=>fe(m.$slots,"default",{years:i.value,days:o.value,hours:l.value,minutes:c.value,seconds:f.value,isTimeUp:h.value,daysIsLast:m.direction==="down"?o.value===364:o.value===0,hoursIsLast:m.direction==="down"?l.value===23:o.value===0,minutesIsLast:m.direction==="down"?c.value===59:c.value===0,secondsIsLast:m.direction==="down"?f.value===59:f.value===0})}}),UX={class:"grid grid-flow-col text-center"},VX={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},BX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},jX={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},HX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},WX={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},KX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},zX={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},GX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},YX={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},qX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Hl=Ae({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(S(),U("div",{class:ke({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[Z(FX,{time:e.time,direction:n.direction},{default:ce(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:f,secondsIsLast:h})=>[K("div",UX,[i>0?(S(),U("div",VX,[K("span",BX,[Z(Fc,{time:i,animate:i>=0&&c&&d&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" years ")])):Y("",!0),i>0||s>0||u?(S(),U("div",jX,[K("span",HX,[Z(Fc,{time:s,animate:s>=0&&d&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" days ")])):Y("",!0),i>0||s>0||o>0||u?(S(),U("div",WX,[K("span",KX,[Z(Fc,{time:o,animate:o>=0&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" hrs ")])):Y("",!0),i>0||s>0||o>0||a>0||u?(S(),U("div",zX,[K("span",GX,[Z(Fc,{time:a,animate:a>=0&&h,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" mins ")])):Y("",!0),i>0||s>0||o>0||a>0||l>0||u?(S(),U("div",YX,[K("span",qX,[Z(Fc,{time:l,animate:!u,direction:n.direction},null,8,["time","animate","direction"])]),Qe(" secs ")])):Y("",!0)])]),_:1},8,["time","direction"])],2))}});function Jy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=AT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function XX(t){return ZX(t)||JX(t)||AT(t)||QX()}function QX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZX(t){if(Array.isArray(t))return bw(t)}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function Zy(t,e){return nQ(t)||tQ(t,e)||AT(t,e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AT(t,e){if(t){if(typeof t=="string")return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nQ(t){if(Array.isArray(t))return t}var Oe={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Zy(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(d,f){if(f!=null){var h=kd(f);if(h==="string"||h==="number")d.push(f);else if(h==="object"){var p=Array.isArray(f)?s(o,f):Object.entries(f).map(function(m){var g=Zy(m,2),v=g[0],y=g[1];return o==="style"&&(y||y===0)?"".concat(v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(y):y?v:void 0});d=p.length?d.concat(p.filter(function(m){return!!m})):d}}return d},c)};Object.entries(r).forEach(function(s){var o=Zy(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?XX(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport(),h,p,m="top";u.top+a+s>f.height?(h=u.top+c-s,m="bottom",h<0&&(h=c)):h=a+u.top+c,u.left+o>f.width?p=Math.max(0,u.left+d+l-o):p=u.left+d,e.style.top=h+"px",e.style.left=p+"px",e.style.transformOrigin=m,r&&(e.style.marginTop=m==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(g){try{var v=window.getComputedStyle(g,null);return i.test(v.getPropertyValue("overflow"))||i.test(v.getPropertyValue("overflowX"))||i.test(v.getPropertyValue("overflowY"))}catch{return!1}},o=Jy(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=Jy(c),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,p=this.findSingle(l,h);p&&s(p)&&n.push(p)}}catch(m){d.e(m)}finally{d.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(m){o.e(m)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":kd(HTMLElement))==="object"?e instanceof HTMLElement:e&&kd(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,d=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>d&&(e.scrollTop=c+u-d+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Jy(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sQ(r.key),r)}}function iQ(t,e,n){return e&&nO(t.prototype,e),n&&nO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQ(t){var e=oQ(t,"string");return _f(e)=="symbol"?e:String(e)}function oQ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _$=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};rQ(this,t),this.element=e,this.listener=n}return iQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=Oe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function aQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function rO(t,e){return cQ(t)||uQ(t,e)||PT(t,e)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cQ(t){if(Array.isArray(t))return t}function iO(t){return hQ(t)||fQ(t)||PT(t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return ww(t)}function eb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=PT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function PT(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}var Ee={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&xd(e)=="object"&&xd(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=eb(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=eb(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=eb(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&xd(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=iO(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(iO(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=rO(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=rO(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},sO=0;function rc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return sO++,"".concat(t).concat(sO)}function pQ(t){return yQ(t)||vQ(t)||gQ(t)||mQ()}function mQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQ(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function vQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yQ(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return pQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Nu=bQ();function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=TQ(t,"string");return Tf(e)=="symbol"?e:String(e)}function TQ(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ki()?Vt(t):e?t():Wn(t)}var EQ=0;function T$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=re(!1),r=re(t),i=re(null),s=Oe.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,f=e.name,h=f===void 0?"style_".concat(++EQ):f,p=e.id,m=p===void 0?void 0:p,g=e.media,v=g===void 0?void 0:g,y=e.nonce,_=y===void 0?void 0:y,b=e.props,w=b===void 0?{}:b,T=function(){},x=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var $=aO(aO({},w),M),D=$.name||h,k=$.id||m,N=$.nonce||_;i.value=a.querySelector('style[data-primevue-style-id="'.concat(D,'"]'))||a.getElementById(k)||a.createElement("style"),i.value.isConnected||(r.value=E||t,Oe.setAttributes(i.value,{type:"text/css",id:k,media:v,nonce:N}),a.head.appendChild(i.value),Oe.setAttribute(i.value,"data-primevue-style-id",h),Oe.setAttributes(i.value,$)),!n.value&&(T=It(r,function(R){i.value.textContent=R},{immediate:!0}),n.value=!0)}},A=function(){!a||!n.value||(T(),Oe.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&SQ(x),{id:m,name:h,css:r,unload:A,load:x,isLoaded:Sg(n)}}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function IQ(t,e){return PQ(t)||AQ(t,e)||OQ(t,e)||CQ()}function CQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return lO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(t,e)}}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function PQ(t){if(Array.isArray(t))return t}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){kQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kQ(t,e,n){return e=xQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=DQ(t,"string");return Sf(e)=="symbol"?e:String(e)}function DQ(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,NQ={},MQ={},or={name:"base",css:RQ,classes:NQ,inlineStyles:MQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?T$(this.css,tb({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=IQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return tb(tb({},this),{},{css:void 0},e)}};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return e=FQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=UQ(t,"string");return Ef(e)=="symbol"?e:String(e)}function UQ(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nb=or.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T$(e,$Q({name:"global"},n))}});function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function VQ(t){return I$(t)||BQ(t)||E$(t)||S$()}function BQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hp(t,e){return I$(t)||jQ(t,e)||E$(t,e)||S$()}function S$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E$(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function I$(t){if(Array.isArray(t))return t}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){Wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wp(t,e,n){return e=HQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=WQ(t,"string");return If(e)=="symbol"?e:String(e)}function WQ(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ti={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;nb.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,d,f=(e=this.pt)===null||e===void 0?void 0:e._usept,h=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,p=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=p||h)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var m=(o=this.$config)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,g=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,v=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=v||g)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;or.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ee.isFunction(e)?e.apply(void 0,r):se.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ee.isNotEmpty(n)&&nb.loadGlobalStyle(n,{nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ee.toFlatCase(n).split("."),s=i.shift();return s?Ee.isObject(e)?this._getOptionValue(Ee.getItemValue(e[Object.keys(e).find(function(o){return Ee.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ee.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$config)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,h=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,dn(dn({},i),{},{global:f||{}})),p=this._getPTDatasets(r);return u||!u&&h?d?this._mergeProps(d,f,h,p):dn(dn(dn({},f),h),p):dn(dn({},h),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return se(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Ee.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&dn(dn({},r==="root"&&dn(Wp({},"".concat(i,"name"),Ee.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&Wp({},"".concat(i,"extend"),Ee.toFlatCase(this.$.type.name)))),{},Wp({},"".concat(i,"section"),Ee.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Ee.isString(e)||Ee.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Ee.toFlatCase(r),f=Ee.toFlatCase(n.$name);return(l=u?d!==f?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(m){return n(m,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$config)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,f=s(e.originalValue),h=s(e.value);return f===void 0&&h===void 0?void 0:Ee.isString(h)?h:Ee.isString(f)?f:u||!u&&h?d?this._mergeProps(d,f,h):dn(dn({},f),h):h}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,dn(dn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return se(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,dn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,dn(dn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,dn(dn({},this.$params),r)),s=this._getOptionValue(nb.inlineStyles,e,dn(dn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return Ee.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,dn({},n.$params))||Ee.getItemValue(r,dn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$config)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return dn(dn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=hp(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=hp(n,2),i=r[0],s=r[1],o=i.split(":"),a=VQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,d,f){return!u[c]&&(u[c]=d===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=hp(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=hp(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},KQ={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},zQ=or.extend({name:"tag",classes:KQ}),GQ={name:"BaseTag",extends:ti,props:{value:null,severity:null,rounded:Boolean,icon:String},style:zQ,provide:function(){return{$parentInstance:this}}},Tw={name:"Tag",extends:GQ,inheritAttrs:!1};function YQ(t,e,n,r,i,s){return S(),U("span",se({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(S(),ie(gn(t.$slots.icon),se({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(S(),U("span",se({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):Y("",!0),t.value||t.$slots.default?fe(t.$slots,"default",{key:2},function(){return[K("span",se({class:t.cx("value")},t.ptm("value")),Le(t.value),17)]}):Y("",!0)],16)}Tw.render=YQ;const qQ={class:"flex flex-col"},XQ={class:"flex justify-between"},QQ={class:"xl:flex"},JQ={key:0,class:"flex flex-wrap gap-x-2"},ZQ=["src"],eJ=["href"],tJ={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},nJ={key:1,class:"flex flex-wrap gap-2"},rJ={key:1,class:"flex gap-2"},iJ=["src"],sJ={key:0,class:"xl:mt-2"},Zr=Ae({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},description:{},avatar:{},loading:{type:Boolean},clickable:{type:Boolean},isCollapsed:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,i=()=>{n.clickable&&r("click")};return(s,o)=>(S(),U("div",{class:ke(["background-primary rounded-3xl p-5",{"md:p-10":!s.isCollapsed,"hover:bg-opacity-30":!!s.url,"animate-pulse":!!s.loading,"cursor-pointer":!!s.clickable&&!!s.isCollapsed}])},[K("div",{class:ke(["group/bubble flex justify-between",{"cursor-pointer":!!s.clickable&&!s.isCollapsed}]),onClick:i},[K("div",qQ,[K("div",XQ,[K("div",QQ,[s.url||s.clickable?(S(),U("div",JQ,[s.avatar?(S(),U("img",{key:0,class:"rounded-full h-12 w-12",src:s.avatar},null,8,ZQ)):Y("",!0),K("a",{href:s.url},[K("h2",tJ,Le(s.title),1)],8,eJ),s.tags?(S(),U("div",nJ,[(S(!0),U(Te,null,st(s.tags,a=>(S(),ie(P(Tw),{class:"h-fit p-2",value:a.value,severity:a.severity,rounded:a.rounded!==!1,icon:a.icon},null,8,["value","severity","rounded","icon"]))),256))])):Y("",!0)])):s.title?(S(),U("div",rJ,[s.avatar?(S(),U("img",{key:0,class:"rounded-full h-12 w-12",src:s.avatar},null,8,iJ)):Y("",!0),K("h2",se({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},s.titleProps),[Qe(Le(s.title)+" ",1),s.tags?(S(!0),U(Te,{key:0},st(s.tags,a=>(S(),ie(P(Tw),{class:"ms-2",value:a.value,severity:a.severity,rounded:a.rounded!==!1,icon:a.icon},null,8,["value","severity","rounded","icon"]))),256)):Y("",!0)],16)])):Y("",!0),s.subTitle?(S(),U("p",se({key:2,class:"text-sm text-gray-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},s.subTitleProps),Le(s.subTitle),17)):Y("",!0)])]),s.description&&!s.isCollapsed?(S(),U("div",sJ,[(S(!0),U(Te,null,st(Array.isArray(s.description)?s.description:[s.description],a=>(S(),U("p",se({class:"text-gray-400 mb-2"},s.descriptionProps),Le(a),17))),256))])):Y("",!0)]),fe(s.$slots,"right")],2),s.isCollapsed?Y("",!0):fe(s.$slots,"default",{key:0})],2))}});var oJ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,aJ=or.extend({name:"baseicon",css:oJ});function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return Cf(e)=="symbol"?e:String(e)}function cJ(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ga={name:"BaseIcon",extends:ti,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:aJ,methods:{pti:function(){var e=Ee.isEmpty(this.label);return pO(pO({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Rv={name:"ChevronDownIcon",extends:ga},dJ=K("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),fJ=[dJ];function hJ(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),fJ,16)}Rv.render=hJ;var C$={name:"ChevronRightIcon",extends:ga},pJ=K("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),mJ=[pJ];function gJ(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),mJ,16)}C$.render=gJ;function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function mO(t,e){return wJ(t)||bJ(t,e)||yJ(t,e)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return gO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function wJ(t){if(Array.isArray(t))return t}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){Sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sw(t,e,n){return e=_J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=TJ(t,"string");return Of(e)=="symbol"?e:String(e)}function TJ(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mt={_getMeta:function(){return[Ee.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ee.getItemValue(Ee.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ee.toFlatCase(n).split("."),s=i.shift();return s?Ee.isObject(e)?Mt._getOptionValue(Ee.getItemValue(e[Object.keys(e).find(function(o){return Ee.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ee.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var y=Mt._getOptionValue.apply(Mt,arguments);return Ee.isString(y)||Ee.isArray(y)?{class:y}:y},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$config)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,f=u.mergeProps,h=f===void 0?!1:f,p=a?Mt._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,m=Mt._usePT(r,Mt._getPT(i,r.$name),l,s,On(On({},o),{},{global:p||{}})),g=Mt._getPTDatasets(r,s);return d||!d&&m?h?Mt._mergeProps(r,h,p,m,g):On(On(On({},p),m),g):On(On({},m),g)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return On(On({},n==="root"&&Sw({},"".concat(r,"name"),Ee.toFlatCase(e.$name))),{},Sw({},"".concat(r,"section"),Ee.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Ee.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(g){return r(g,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$config)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,f=d===void 0?!1:d,h=o(n.originalValue),p=o(n.value);return h===void 0&&p===void 0?void 0:Ee.isString(p)?p:Ee.isString(h)?h:c||!c&&p?f?Mt._mergeProps(e,f,h,p):On(On({},h),p):p}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Mt._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Ee.toCapitalCase(n)),c=Mt._getConfig(i,s),d=r==null?void 0:r.$instance,f=Mt._usePT(d,Mt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Mt._getOptionValue,"hooks.".concat(u)),h=Mt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Mt._getOptionValue,"hooks.".concat(u)),p={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(d,p),h==null||h(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ee.isFunction(e)?e.apply(void 0,r):se.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,d;o._$instances=o._$instances||{};var f=Mt._getConfig(a,l),h=o._$instances[e]||{},p=Ee.isEmpty(h)?On(On({},n),n==null?void 0:n.methods):{};o._$instances[e]=On(On({},h),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:h.$el||o||void 0,$style:On({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$config:f,defaultPT:function(){return Mt._getPT(f==null?void 0:f.pt,void 0,function(g){var v;return g==null||(v=g.directives)===null||v===void 0?void 0:v[e]})},isUnstyled:function(){var g,v;return((g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.unstyled)!==void 0?(v=o.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.unstyled:f==null?void 0:f.unstyled},ptm:function(){var g,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Mt._getPTValue(o.$instance,(g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.pt,v,On({},y))},ptmo:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Mt._getPTValue(o.$instance,g,v,y,!1)},cx:function(){var g,v,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(g=o.$instance)!==null&&g!==void 0&&g.isUnstyled()?void 0:Mt._getOptionValue((v=o.$instance)===null||v===void 0||(v=v.$style)===null||v===void 0?void 0:v.classes,y,On({},_))},sx:function(){var g,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y?Mt._getOptionValue((g=o.$instance)===null||g===void 0||(g=g.$style)===null||g===void 0?void 0:g.inlineStyles,v,On({},_)):void 0}},p),o.$instance=o._$instances[e],(c=(d=o.$instance)[s])===null||c===void 0||c.call(d,o,a,l,u),o["$".concat(e)]=o.$instance,Mt._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,d,f,h=Mt._getConfig(o,a);or.loadStyle({nonce:h==null||(u=h.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,d,f,h=Mt._getConfig(o,a);or.loadStyle({nonce:h==null||(u=h.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Mt._getMeta.apply(Mt,arguments),n=mO(e,2),r=n[0],i=n[1];return On({extend:function(){var o=Mt._getMeta.apply(Mt,arguments),a=mO(o,2),l=a[0],u=a[1];return Mt.extend(l,On(On(On({},i),i==null?void 0:i.methods),u))}},Mt._extend(r,i))}},SJ={root:"p-ink"},EJ=or.extend({name:"ripple",classes:SJ}),IJ=Mt.extend({style:EJ});function CJ(t){return kJ(t)||PJ(t)||AJ(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(t,e){if(t){if(typeof t=="string")return Ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(t,e)}}function PJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kJ(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nv=IJ.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$config;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=Oe.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&Oe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!Oe.getHeight(i)&&!Oe.getWidth(i)){var s=Math.max(Oe.getOuterWidth(r),Oe.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=Oe.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-Oe.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-Oe.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&Oe.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&Oe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Oe.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?CJ(e.children).find(function(n){return Oe.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),xJ={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},DJ=or.extend({name:"accordion",classes:xJ}),RJ={name:"BaseAccordion",extends:ti,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:DJ,provide:function(){return{$parentInstance:this}}},Ah={name:"Accordion",extends:RJ,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||rc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||rc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,s={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return se(this.ptm("tab.".concat(n),{tab:s}),this.ptm("accordiontab.".concat(n),{accordiontab:s}),this.ptm("accordiontab.".concat(n),s),this.ptmo(this.getTabProp(e,"pt"),n,s))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=Oe.findSingle(r,'[data-pc-section="header"]');return i?Oe.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):Oe.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=Oe.findSingle(r,'[data-pc-section="header"]');return i?Oe.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):Oe.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(Oe.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:Rv,ChevronRightIcon:C$},directives:{ripple:Nv}};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){NJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NJ(t,e,n){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=$J(t,"string");return Af(e)=="symbol"?e:String(e)}function $J(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LJ=["data-pc-index","data-p-active"],FJ=["data-p-highlight","data-p-disabled"],UJ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],VJ=["id","aria-labelledby"];function BJ(t,e,n,r,i,s){return S(),U("div",se({class:t.cx("root")},t.ptmi("root")),[(S(!0),U(Te,null,st(s.tabs,function(o,a){return S(),U("div",se({key:s.getKey(o,a),class:t.cx("tab.root",{tab:o,index:a})},s.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":s.isTabActive(a)}),[K("div",se({style:s.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:a}),s.getTabProp(o,"headerClass")]},Wl(Wl({},s.getTabProp(o,"headerProps")),s.getTabPT(o,"header",a)),{"data-p-highlight":s.isTabActive(a),"data-p-disabled":s.getTabProp(o,"disabled")}),[K("a",se({id:s.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":s.getTabProp(o,"disabled"),"aria-expanded":s.isTabActive(a),"aria-controls":s.getTabContentId(a),onClick:function(u){return s.onTabClick(u,o,a)},onKeydown:function(u){return s.onTabKeyDown(u,o,a)}},Wl(Wl({},s.getTabProp(o,"headeractionprops")),s.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(S(),ie(gn(o.children.headericon),{key:0,isTabActive:s.isTabActive(a),active:s.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):s.isTabActive(a)?(S(),ie(gn(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),se({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])):(S(),ie(gn(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),se({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(S(),U("span",se({key:3,class:t.cx("tab.headerTitle")},s.getTabPT(o,"headertitle",a)),Le(o.props.header),17)):Y("",!0),o.children&&o.children.header?(S(),ie(gn(o.children.header),{key:4})):Y("",!0)],16,UJ)],16,FJ),Z(zi,se({name:"p-toggleable-content"},s.getTabPT(o,"transition",a)),{default:ce(function(){return[!t.lazy||s.isTabActive(a)?Ci((S(),U("div",se({key:0,id:s.getTabContentId(a),style:s.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),s.getTabProp(o,"contentClass")],role:"region","aria-labelledby":s.getTabHeaderActionId(a)},Wl(Wl({},s.getTabProp(o,"contentProps")),s.getTabPT(o,"toggleablecontent",a))),[K("div",se({class:t.cx("tab.content")},s.getTabPT(o,"content",a)),[(S(),ie(gn(o)))],16)],16,VJ)),[[Zs,t.lazy?!0:s.isTabActive(a)]]):Y("",!0)]}),_:2},1040)],16,LJ)}),128))],16)}Ah.render=BJ;var jJ={},HJ={name:"BaseAccordionTab",extends:ti,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:jJ,provide:function(){return{$parentInstance:this}}},Jo={name:"AccordionTab",extends:HJ,inheritAttrs:!1};function WJ(t,e,n,r,i,s){return fe(t.$slots,"default")}Jo.render=WJ;var kT={name:"TimesCircleIcon",extends:ga},KJ=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),zJ=[KJ];function GJ(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),zJ,16)}kT.render=GJ;var YJ={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},qJ=or.extend({name:"chip",classes:YJ}),XJ={name:"BaseChip",extends:ti,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:qJ,provide:function(){return{$parentInstance:this}}},O$={name:"Chip",extends:XJ,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:kT}},QJ=["aria-label"],JJ=["src"];function ZJ(t,e,n,r,i,s){return i.visible?(S(),U("div",se({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[t.image?(S(),U("img",se({key:0,src:t.image},t.ptm("image")),null,16,JJ)):t.$slots.icon?(S(),ie(gn(t.$slots.icon),se({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(S(),U("span",se({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):Y("",!0),t.label?(S(),U("div",se({key:3,class:t.cx("label")},t.ptm("label")),Le(t.label),17)):Y("",!0)]}),t.removable?fe(t.$slots,"removeicon",{key:0,onClick:s.close,onKeydown:s.onKeydown,removeCallback:s.close,keydownCallback:s.onKeydown},function(){return[(S(),ie(gn(t.removeIcon?"span":"TimesCircleIcon"),se({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:s.close,onKeydown:s.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):Y("",!0)],16,QJ)):Y("",!0)}O$.render=ZJ;const eZ={key:0,class:"text-red-600"},xT=Ae({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(S(),U("p",eZ,Le(e.error),1)):Y("",!0)}});var DT=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(DT||{});const xt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},tZ=Ae({__name:"TrashIcon",setup(t){return(e,n)=>(S(),ie(P(RX),{class:"h-7 w-7"}))}}),A$=Ae({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(S(),ie(Ut,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:ce(()=>[Z(tZ)]),_:1}))}}),nZ={class:"m-4"},rZ=["for"],iZ={class:"flex"},pr=Ae({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete","click"],setup(t,{expose:e,emit:n}){const r=t,i=J(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=J(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===DT.Required)?" *":""):void 0),o=J(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,f=r.rules||[];typeof r.minValue=="number"&&f.push(xt.Min),typeof r.maxValue=="number"&&f.push(xt.Max),typeof r.minLength=="number"&&f.push(xt.MinLength),typeof r.maxLength=="number"&&f.push(xt.MaxLength),r.compare&&f.push(xt.EqualTo);const h={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=f.filter(m=>!m.test(h)).map(m=>{var g;return((g=m.compareError)==null?void 0:g.call(m,h))||m.error(h)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var f,h;return S(),U("div",nZ,[c.label?(S(),U("label",se({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Le(s.value),17,rZ)):Y("",!0),K("div",iZ,[(S(),ie(gn(((f=c.inputProps)==null?void 0:f.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),se({id:o.value,ref:"input",value:i.value,class:"p-input",type:((h=c.inputProps)==null?void 0:h.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a,onClick:d[0]||(d[0]=wt(p=>u("click"),["stop"]))},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(S(),ie(A$,{key:0,class:"h-fit",onClick:d[1]||(d[1]=p=>u("update:delete"))})):Y("",!0)]),c.error?(S(),ie(xT,{key:1,name:c.name,error:c.error},null,8,["name","error"])):Y("",!0)])}}}),sZ={class:"flex flex-col"},oZ=Ae({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=Jt(sr()),i=ar(),{deleteBlogReaction:s}=i,{blogReactions:o}=Jt(i),a=J(()=>o.value.unread.find(u=>u.id===e.reaction.id)),l=J(()=>{const u=[];return a.value&&u.push({value:"Unread",severity:"warning",rounded:!1}),u});return(u,c)=>(S(),ie(Zr,{id:e.reaction.id,class:ke(["p-5 mb-5 w-full md:w-3/4",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":a.value}]),titleProps:{class:"!text-base mt-1"},title:e.reaction.user.displayName||"Unknown user",subTitle:P(ew)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message,tags:l.value},Jn({_:2},[P(n)&&e.reaction.user.id===P(n).id||P(r)?{name:"right",fn:ce(()=>[K("div",sZ,[e.post.locked?Y("",!0):(S(),ie(Ut,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:c[0]||(c[0]=d=>P(s)(e.reaction.id,e.post))},{default:ce(()=>[Qe(" Delete ")]),_:1}))])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","description","tags"]))}}),aZ={class:"grid justify-items-center p-5"},lZ=Ae({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=Jt(sr()),r=ar(),{content:i}=Jt(r),{createBlogReaction:s}=r,o=re(),a=Dn({reaction:{value:"",error:""}}),l=async()=>{await o.value.test(),!a.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:a.reaction.value,date:new Date})&&(a.reaction.value=""),EK()};return(u,c)=>(S(),U("form",{action:"",onSubmit:wt(l,["prevent"])},[K("div",aZ,[(S(!0),U(Te,null,st(u.post.reactions,d=>(S(),ie(oZ,{post:u.post,reaction:d},null,8,["post","reaction"]))),256)),!P(n)||u.post.reactions.filter(d=>d.user.id===P(n).id).length<8?(S(),ie(Zr,{key:0,class:ke(["p-5 flex justify-center w-full md:w-3/4",u.post.colorTertiary||"bg-gray-700",u.post.opacityTertiary||"bg-opacity-50"])},{default:ce(()=>[Z(pr,{class:"w-5/6",id:u.post.id,inputProps:{class:["rounded-xl border-none !placeholder-gray-300",u.post.colorSecondary||u.post.colorPrimary||"bg-gray-600",u.post.opacitySecondary||"!bg-opacity-20",!u.post.locked&&P(n)?"hover:!bg-gray-700 focus:!bg-gray-600 focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50",{"cursor-pointer":!P(n)&&!u.post.locked}]},ref_key:"reaction",ref:o,name:"reaction",placeholder:u.post.locked?"Locked for comments":P(n)?"Reply":P(i).blogLoginGuest,modelValue:a.reaction.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.reaction.value=d),error:a.reaction.error,"onUpdate:error":c[1]||(c[1]=d=>a.reaction.error=d),rules:[P(xt).Required],onClick:c[2]||(c[2]=()=>!P(n)&&!u.post.locked?P(GT).push({name:"login"}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):Y("",!0)])],32))}}),uZ=Ae({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(S(),U("div",null,[K("div",{class:ke({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[K("ul",{class:ke(["list-disc",{"ms-5":e.alignment==="left"}])},[(S(!0),U(Te,null,st(e.bullets,r=>(S(),U("li",null,Le(r),1))),256))],2)],2)]))}}),cZ=["href"],dZ={class:"break-all"},fZ={key:1},hZ={key:2},pp=Ae({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(S(!0),U(Te,null,st(e.description.split(`
`).map(s=>s.trim()),s=>(S(),U("div",{class:ke(["text-lg",e.class])},[K("div",{class:ke({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(S(),U("a",{key:0,href:s,onClick:i[0]||(i[0]=wt(()=>{},["stop"])),class:"underline hover:no-underline"},[K("span",dZ,Le(s),1)],8,cZ)):s?(S(),U("p",fZ,Le(s),1)):(S(),U("br",hZ))],2)],2))),256))}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){gZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iw(t){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iw(t)}function pZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function mZ(t,e,n){return e&&wO(t.prototype,e),n&&wO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gZ(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vZ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P$(t){var e=vZ(t,"string");return typeof e=="symbol"?e:String(e)}var _O={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},yZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Mv=typeof window<"u"&&typeof window.document<"u",ho=Mv?window:{},Mu=Mv&&ho.document.documentElement?"ontouchstart"in ho.document.documentElement:!1,NT=Mv?"PointerEvent"in ho:!1,yt="viewer",Kp="move",k$="switch",ad="zoom",mp="".concat(yt,"-active"),bZ="".concat(yt,"-close"),zp="".concat(yt,"-fade"),Cw="".concat(yt,"-fixed"),wZ="".concat(yt,"-fullscreen"),TO="".concat(yt,"-fullscreen-exit"),Ra="".concat(yt,"-hide"),_Z="".concat(yt,"-hide-md-down"),TZ="".concat(yt,"-hide-sm-down"),SZ="".concat(yt,"-hide-xs-down"),Ni="".concat(yt,"-in"),Dd="".concat(yt,"-invisible"),$u="".concat(yt,"-loading"),EZ="".concat(yt,"-move"),SO="".concat(yt,"-open"),Kl="".concat(yt,"-show"),$n="".concat(yt,"-transition"),ic="click",Ow="dblclick",EO="dragstart",IO="focusin",CO="keydown",Fi="load",qa="error",IZ=Mu?"touchend touchcancel":"mouseup",CZ=Mu?"touchmove":"mousemove",OZ=Mu?"touchstart":"mousedown",OO=NT?"pointerdown":OZ,AO=NT?"pointermove":CZ,PO=NT?"pointerup pointercancel":IZ,kO="resize",Ji="transitionend",xO="wheel",DO="ready",RO="show",NO="shown",MO="hide",$O="hidden",LO="view",Pf="viewed",FO="move",UO="moved",VO="rotate",BO="rotated",jO="scale",HO="scaled",WO="zoom",KO="zoomed",zO="play",GO="stop",eg="".concat(yt,"Action"),MT=/\s\s*/,gp=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function kf(t){return typeof t=="string"}var AZ=Number.isNaN||ho.isNaN;function Pn(t){return typeof t=="number"&&!AZ(t)}function du(t){return typeof t>"u"}function sc(t){return Iw(t)==="object"&&t!==null}var PZ=Object.prototype.hasOwnProperty;function fu(t){if(!sc(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&PZ.call(n,"isPrototypeOf")}catch{return!1}}function on(t){return typeof t=="function"}function un(t,e){if(t&&on(e))if(Array.isArray(t)||Pn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else sc(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Si=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return sc(e)&&r.length>0&&r.forEach(function(s){sc(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},kZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function is(t,e){var n=t.style;un(e,function(r,i){kZ.test(i)&&Pn(r)&&(r+="px"),n[i]=r})}function xZ(t){return kf(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function ru(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function ut(t,e){if(!(!t||!e)){if(Pn(t.length)){un(t,function(r){ut(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function zt(t,e){if(!(!t||!e)){if(Pn(t.length)){un(t,function(n){zt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function xf(t,e,n){if(e){if(Pn(t.length)){un(t,function(r){xf(r,e,n)});return}n?ut(t,e):zt(t,e)}}var DZ=/([a-z\d])([A-Z])/g;function $T(t){return t.replace(DZ,"$1-$2").toLowerCase()}function hu(t,e){return sc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat($T(e)))}function Aw(t,e,n){sc(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat($T(e)),n)}var x$=function(){var t=!1;if(Mv){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});ho.addEventListener("test",n,r),ho.removeEventListener("test",n,r)}return t}();function an(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(MT).forEach(function(s){if(!x$){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function pt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(MT).forEach(function(s){if(r.once&&!x$){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Bn(t,e,n,r){var i;return on(Event)&&on(CustomEvent)?i=new CustomEvent(e,RT({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function RZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Gp(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];Pn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),Pn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),Pn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),Pn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),Pn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function NZ(t){return kf(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var rb=ho.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ho.navigator.userAgent);function D$(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!rb)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),rb||i.removeChild(r)},un(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,rb||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function vp(t){switch(t){case 2:return SZ;case 3:return TZ;case 4:return _Z;default:return""}}function MZ(t){var e=RT({},t),n=[];return un(t,function(r,i){delete e[i],un(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),f=(d-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function yp(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:RT({timeStamp:Date.now(),startX:n,startY:r},i)}function $Z(t){var e=0,n=0,r=0;return un(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var LZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Si({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&is(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",un(this.images,function(o,a){var l=o.src,u=o.alt||NZ(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),f=document.createElement("img");un(r.inheritedAttributes,function(h){var p=o.getAttribute(h);p!==null&&f.setAttribute(h,p)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(f),i.appendChild(d),s.push(d)}}),this.items=s,un(s,function(o){var a=o.firstElementChild,l,u;Aw(a,"filled",!0),r.loading&&ut(o,$u),pt(a,Fi,l=function(d){an(a,qa,u),r.loading&&zt(o,$u),e.loadImage(d)},{once:!0}),pt(a,qa,u=function(){an(a,Fi,l),r.loading&&zt(o,$u)},{once:!0})}),r.transition&&pt(n,Pf,function(){ut(i,$n)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;is(this.list,Si({width:o*this.length-i},Gp({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",zt(e,$n),is(e,Gp({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=D$(i,r,function(d,f){var h=d/f,p=Math.max(0,Math.min(1,r.initialCoverage)),m=a,g=l;n.imageInitializing=!1,l*h>a?g=a/h:m=l*h,p=Pn(p)?p:.9,m=Math.min(m*p,d),g=Math.min(g*p,f);var v=(a-m)/2,y=(l-g)/2,_={left:v,top:y,x:v,y,width:m,height:g,oldRatio:1,ratio:m/d,aspectRatio:h,naturalWidth:d,naturalHeight:f},b=Si({},_);r.rotatable&&(_.rotate=u.rotate||0,b.rotate=0),r.scalable&&(_.scaleX=u.scaleX||1,_.scaleY=u.scaleY||1,b.scaleX=1,b.scaleY=1),n.imageData=_,n.initialImageData=b,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(is(r,Si({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Gp(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&ru(r,$n)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){an(r,Ji,s)}},pt(r,Ji,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},FZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;pt(n,ic,this.onClick=this.click.bind(this)),pt(n,EO,this.onDragStart=this.dragstart.bind(this)),pt(r,OO,this.onPointerDown=this.pointerdown.bind(this)),pt(i,AO,this.onPointerMove=this.pointermove.bind(this)),pt(i,PO,this.onPointerUp=this.pointerup.bind(this)),pt(i,CO,this.onKeyDown=this.keydown.bind(this)),pt(window,kO,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&pt(n,xO,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&pt(r,Ow,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;an(n,ic,this.onClick),an(n,EO,this.onDragStart),an(r,OO,this.onPointerDown),an(i,AO,this.onPointerMove),an(i,PO,this.onPointerUp),an(i,CO,this.onKeyDown),an(window,kO,this.onResize),e.zoomable&&e.zoomOnWheel&&an(n,xO,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&an(r,Ow,this.onDblclick)}},UZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=hu(i,eg);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=hu(i,eg)),Mu&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(hu(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Mu&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;zt(i,Dd),r.loading&&zt(this.canvas,$u),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){xf(i,EZ,r.movable),xf(i,$n,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,on(r.viewed)&&pt(n,Pf,r.viewed,{once:!0}),Bn(n,Pf,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!hu(n,"filled");D$(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,is(n,Si({width:c,height:d},Gp({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Pn(i)&&i!==1||Pn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?un(e.changedTouches,function(a){r[a.identifier]=yp(a)}):r[e.pointerId||0]=yp(e);var o=n.movable?Kp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=ad:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=k$),n.transition&&(o===Kp||o===ad)&&zt(this.image,$n),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?un(e.changedTouches,function(i){Si(n[i.identifier]||{},yp(i,!0))}):Si(n[e.pointerId||0]||{},yp(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?un(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Kp||i===ad)&&ut(this.image,$n),this.action=!1,Mu&&i!==ad&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Bn(n.image,Ow,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Bn(n.canvas,ic,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}un(this.player.getElementsByTagName("img"),function(n){pt(n,Fi,e.loadImage.bind(e),{once:!0}),Bn(n,Fi)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},VZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(on(r.show)&&pt(n,RO,r.show,{once:!0}),Bn(n,RO)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(zt(i,Ra),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){an(i,Ji,s),zt(i,Ni)}},ut(i,$n),i.initialOffsetWidth=i.offsetWidth,pt(i,Ji,s,{once:!0}),ut(i,Ni)}else ut(i,Ni),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(on(i.hide)&&pt(r,MO,i.hide,{once:!0}),Bn(r,MO)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){zt(s,Ni),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(an(s,Ji,c),e.hidden())},u=function(){ru(s,$n)?(pt(s,Ji,l),zt(s,Ni)):a()};this.transitioning={abort:function(){e.viewed&&ru(o,$n)?an(o,Ji,u):ru(s,$n)&&an(s,Ji,l)}},this.viewed&&ru(o,$n)?(pt(o,Ji,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=hu(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(un(i.inheritedAttributes,function(g){var v=l.getAttribute(g);v!==null&&d.setAttribute(g,v)}),d.src=u,d.alt=c,on(i.view)&&pt(r,LO,i.view,{once:!0}),Bn(r,LO,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(zt(f,mp),f.removeAttribute("aria-selected")),ut(a,mp),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},ut(d,Dd),i.loading&&ut(o,$u),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var h=function(){var v=e.imageData,y=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=xZ(on(y)?y.call(e,d,v):"".concat(c," (").concat(v.naturalWidth," × ").concat(v.naturalHeight,")"))},p,m;return pt(r,Pf,h,{once:!0}),this.viewing={abort:function(){an(r,Pf,h),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",an(d,Fi,p),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(pt(d,Fi,p=function(){an(d,qa,m),e.load()},{once:!0}),pt(d,qa,m=function(){an(d,Fi,p),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),zt(d,Dd),i.loading&&zt(e.canvas,$u)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){zt(d,Dd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(du(e)?e:r.x+Number(e),du(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(Pn(e)?c=!0:e=l,Pn(r)?c=!0:r=u,c){if(on(o.move)&&pt(s,FO,o.move,{once:!0}),Bn(s,FO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,on(o.moved)&&pt(s,UO,o.moved,{once:!0}),Bn(s,UO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),Pn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(on(i.rotate)&&pt(r,VO,i.rotate,{once:!0}),Bn(r,VO,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,on(i.rotated)&&pt(r,BO,i.rotated,{once:!0}),Bn(r,BO,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(Pn(e)?u=!0:e=a,Pn(r)?u=!0:r=l,u){if(on(s.scale)&&pt(i,jO,s.scale,{once:!0}),Bn(i,jO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,on(s.scaled)&&pt(i,HO,s.scaled,{once:!0}),Bn(i,HO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,f=c.y,h=c.width,p=c.height,m=c.naturalWidth,g=c.naturalHeight;if(e=Math.max(0,e),Pn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var v=Math.max(.01,l.minZoomRatio),y=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,v),y)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var _=m*e,b=g*e,w=_-h,T=b-p,x=c.ratio;if(on(l.zoom)&&pt(a,WO,l.zoom,{once:!0}),Bn(a,WO,{ratio:e,oldRatio:x,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var A=RZ(this.viewer),O=u&&Object.keys(u).length>0?$Z(u):{pageX:s.pageX,pageY:s.pageY};c.x-=w*((O.pageX-A.left-d)/h),c.y-=T*((O.pageY-A.top-f)/p)}else fu(i)&&Pn(i.x)&&Pn(i.y)?(c.x-=w*((i.x-d)/h),c.y-=T*((i.y-f)/p)):(c.x-=w/2,c.y-=T/2);c.left=c.x,c.top=c.y,c.width=_,c.height=b,c.oldRatio=x,c.ratio=e,this.renderImage(function(){n.zooming=!1,on(l.zoomed)&&pt(a,KO,l.zoomed,{once:!0}),Bn(a,KO,{ratio:e,oldRatio:x,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(on(i.play)&&pt(r,zO,i.play,{once:!0}),Bn(r,zO)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),ut(s,Kl),un(this.items,function(f,h){var p=f.querySelector("img"),m=document.createElement("img");m.src=hu(p,"originalUrl"),m.alt=p.getAttribute("alt"),m.referrerPolicy=p.referrerPolicy,l+=1,ut(m,zp),xf(m,$n,i.transition),ru(f,mp)&&(ut(m,Ni),u=h),a.push(m),pt(m,Fi,o,{once:!0}),s.appendChild(m)}),Pn(i.interval)&&i.interval>0){var c=function f(){clearTimeout(e.playing.timeout),zt(a[u],Ni),u-=1,u=u>=0?u:l-1,ut(a[u],Ni),e.playing.timeout=setTimeout(f,i.interval)},d=function f(){clearTimeout(e.playing.timeout),zt(a[u],Ni),u+=1,u=u<l?u:0,ut(a[u],Ni),e.playing.timeout=setTimeout(f,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(on(r.stop)&&pt(n,GO,r.stop,{once:!0}),Bn(n,GO)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,un(i.getElementsByTagName("img"),function(s){an(s,Fi,e.onLoadWhenPlay)}),zt(i,Kl),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),ut(this.button,TO),n.transition&&(zt(s,$n),this.viewed&&zt(i,$n)),ut(r,Cw),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),is(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Si({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){ut(i,$n),ut(s,$n)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),zt(this.button,TO),n.transition&&(zt(s,$n),this.viewed&&zt(i,$n)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),zt(r,Cw),is(r,{zIndex:n.zIndexInline}),this.viewerData=Si({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){ut(i,$n),ut(s,$n)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Bn(r,Ji),ut(r,Kl),ut(r,zp),ut(r,$n),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,ut(r,Ni)):(ut(r,Kl),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(pt(r,Ji,function(){zt(r,Kl),zt(r,zp),zt(r,$n),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),zt(r,Ni),e.fading=!0):(zt(r,Kl),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Si({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(un(i?[n]:n.querySelectorAll("img"),function(u){on(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(un(this.items,function(u,c){var d=u.querySelector("img"),f=s[c];f&&d?(f.src!==d.src||f.alt!==d.alt)&&o.push(c):o.push(c)}),is(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];ut(l,mp),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[yt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||an(e,ic,this.onStart),e[yt]=void 0,this):this}},BZ={getImageURL:function(e){var n=this.options.url;return kf(n)?n=e.getAttribute(n):on(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),pt(document,IO,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(an(document,IO,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;ut(e,SO),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;zt(e,SO),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),on(n.shown)&&pt(e,NO,n.shown,{once:!0}),Bn(e,NO)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),ut(r,Ra),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(on(n.hidden)&&pt(e,$O,n.hidden,{once:!0}),Bn(e,$O,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?fu(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case Kp:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case ad:this.zoom(MZ(r),!1,null,e);break;case k$:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}un(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},jZ=ho.Viewer,HZ=function(t){return function(){return t+=1,t}}(-1),oc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Si({},_O,fu(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=HZ(),this.init()}return mZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[yt]){r[yt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(un(s?[r]:r.querySelectorAll("img"),function(u){on(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),du(document.createElement(yt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){un(o,function(c){c.complete||(an(c,Fi,l),an(c,qa,l))})}},un(o,function(u){if(u.complete)l();else{var c,d;pt(u,Fi,c=function(){an(u,qa,d),l()},{once:!0}),pt(u,qa,d=function(){an(u,Fi,c),l()},{once:!0})}})}else pt(r,ic,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!on(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=yZ;var o=s.querySelector(".".concat(yt,"-container")),a=o.querySelector(".".concat(yt,"-title")),l=o.querySelector(".".concat(yt,"-toolbar")),u=o.querySelector(".".concat(yt,"-navbar")),c=o.querySelector(".".concat(yt,"-button")),d=o.querySelector(".".concat(yt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(yt,"-footer")),this.tooltipBox=o.querySelector(".".concat(yt,"-tooltip")),this.player=o.querySelector(".".concat(yt,"-player")),this.list=o.querySelector(".".concat(yt,"-list")),o.id="".concat(yt).concat(this.id),a.id="".concat(yt,"Title").concat(this.id),ut(a,r.title?vp(Array.isArray(r.title)?r.title[0]:r.title):Ra),ut(u,r.navbar?vp(r.navbar):Ra),xf(c,Ra,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(ut(o,"".concat(yt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Aw(d,eg,"hide")),kf(r.className)&&r.className&&r.className.split(MT).forEach(function(_){ut(o,_)}),r.toolbar){var f=document.createElement("ul"),h=fu(r.toolbar),p=gp.slice(0,3),m=gp.slice(7,9),g=gp.slice(9);h||ut(l,vp(r.toolbar)),un(h?r.toolbar:gp,function(_,b){var w=h&&fu(_),T=h?$T(b):_,x=w&&!du(_.show)?_.show:_;if(!(!x||!r.zoomable&&p.indexOf(T)!==-1||!r.rotatable&&m.indexOf(T)!==-1||!r.scalable&&g.indexOf(T)!==-1)){var A=w&&!du(_.size)?_.size:_,O=w&&!du(_.click)?_.click:_,E=document.createElement("li");r.keyboard&&E.setAttribute("tabindex",0),E.setAttribute("role","button"),ut(E,"".concat(yt,"-").concat(T)),on(O)||Aw(E,eg,T),Pn(x)&&ut(E,vp(x)),["small","large"].indexOf(A)!==-1?ut(E,"".concat(yt,"-").concat(A)):T==="play"&&ut(E,"".concat(yt,"-large")),on(O)&&pt(E,ic,O),f.appendChild(E)}}),l.appendChild(f)}else ut(l,Ra);if(!r.rotatable){var v=l.querySelectorAll('li[class*="rotate"]');ut(v,Dd),un(v,function(_){l.appendChild(_)})}if(r.inline)ut(c,wZ),is(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&is(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{ut(c,bZ),ut(o,Cw),ut(o,zp),ut(o,Ra),is(o,{zIndex:r.zIndex});var y=r.container;kf(y)&&(y=n.ownerDocument.querySelector(y)),y||(y=this.body),y.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,on(r.ready)&&pt(n,DO,r.ready,{once:!0}),Bn(n,DO)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=jZ,t}},{key:"setDefaults",value:function(n){Si(_O,fu(n)&&n)}}]),t}();Si(oc.prototype,LZ,FZ,UZ,VZ,BZ);var WZ=typeof global=="object"&&global&&global.Object===Object&&global;const R$=WZ;var KZ=typeof self=="object"&&self&&self.Object===Object&&self,zZ=R$||KZ||Function("return this")();const $v=zZ;var GZ=$v.Symbol;const tg=GZ;var N$=Object.prototype,YZ=N$.hasOwnProperty,qZ=N$.toString,Uc=tg?tg.toStringTag:void 0;function XZ(t){var e=YZ.call(t,Uc),n=t[Uc];try{t[Uc]=void 0;var r=!0}catch{}var i=qZ.call(t);return r&&(e?t[Uc]=n:delete t[Uc]),i}var QZ=Object.prototype,JZ=QZ.toString;function ZZ(t){return JZ.call(t)}var eee="[object Null]",tee="[object Undefined]",YO=tg?tg.toStringTag:void 0;function Lv(t){return t==null?t===void 0?tee:eee:YO&&YO in Object(t)?XZ(t):ZZ(t)}function Fv(t){return t!=null&&typeof t=="object"}var nee="[object Symbol]";function ree(t){return typeof t=="symbol"||Fv(t)&&Lv(t)==nee}var iee=Array.isArray;const see=iee;var oee=/\s/;function aee(t){for(var e=t.length;e--&&oee.test(t.charAt(e)););return e}var lee=/^\s+/;function uee(t){return t&&t.slice(0,aee(t)+1).replace(lee,"")}function wl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qO=NaN,cee=/^[-+]0x[0-9a-f]+$/i,dee=/^0b[01]+$/i,fee=/^0o[0-7]+$/i,hee=parseInt;function XO(t){if(typeof t=="number")return t;if(ree(t))return qO;if(wl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=uee(t);var n=dee.test(t);return n||fee.test(t)?hee(t.slice(2),n?2:8):cee.test(t)?qO:+t}function M$(t){return t}var pee="[object AsyncFunction]",mee="[object Function]",gee="[object GeneratorFunction]",vee="[object Proxy]";function $$(t){if(!wl(t))return!1;var e=Lv(t);return e==mee||e==gee||e==pee||e==vee}var yee=$v["__core-js_shared__"];const ib=yee;var QO=function(){var t=/[^.]+$/.exec(ib&&ib.keys&&ib.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bee(t){return!!QO&&QO in t}var wee=Function.prototype,_ee=wee.toString;function Tee(t){if(t!=null){try{return _ee.call(t)}catch{}try{return t+""}catch{}}return""}var See=/[\\^$.*+?()[\]{}|]/g,Eee=/^\[object .+?Constructor\]$/,Iee=Function.prototype,Cee=Object.prototype,Oee=Iee.toString,Aee=Cee.hasOwnProperty,Pee=RegExp("^"+Oee.call(Aee).replace(See,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kee(t){if(!wl(t)||bee(t))return!1;var e=$$(t)?Pee:Eee;return e.test(Tee(t))}function xee(t,e){return t==null?void 0:t[e]}function Dee(t,e){var n=xee(t,e);return kee(n)?n:void 0}function Ree(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Nee=800,Mee=16,$ee=Date.now;function Lee(t){var e=0,n=0;return function(){var r=$ee(),i=Mee-(r-n);if(n=r,i>0){if(++e>=Nee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Fee(t){return function(){return t}}var Uee=function(){try{var t=Dee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const ng=Uee;var Vee=ng?function(t,e){return ng(t,"toString",{configurable:!0,enumerable:!1,value:Fee(e),writable:!0})}:M$;const Bee=Vee;var jee=Lee(Bee);const Hee=jee;var Wee=9007199254740991,Kee=/^(?:0|[1-9]\d*)$/;function L$(t,e){var n=typeof t;return e=e??Wee,!!e&&(n=="number"||n!="symbol"&&Kee.test(t))&&t>-1&&t%1==0&&t<e}function F$(t,e,n){e=="__proto__"&&ng?ng(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function LT(t,e){return t===e||t!==t&&e!==e}var zee=Object.prototype,Gee=zee.hasOwnProperty;function U$(t,e,n){var r=t[e];(!(Gee.call(t,e)&&LT(r,n))||n===void 0&&!(e in t))&&F$(t,e,n)}function Yee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?F$(n,a,l):U$(n,a,l)}return n}var JO=Math.max;function qee(t,e,n){return e=JO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=JO(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Ree(t,this,a)}}function V$(t,e){return Hee(qee(t,e,M$),t+"")}var Xee=9007199254740991;function B$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xee}function Uv(t){return t!=null&&B$(t.length)&&!$$(t)}function j$(t,e,n){if(!wl(n))return!1;var r=typeof e;return(r=="number"?Uv(n)&&L$(e,n.length):r=="string"&&e in n)?LT(n[e],t):!1}function Qee(t){return V$(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&j$(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Jee=Object.prototype;function FT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Jee;return t===n}function Zee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ete="[object Arguments]";function ZO(t){return Fv(t)&&Lv(t)==ete}var H$=Object.prototype,tte=H$.hasOwnProperty,nte=H$.propertyIsEnumerable,rte=ZO(function(){return arguments}())?ZO:function(t){return Fv(t)&&tte.call(t,"callee")&&!nte.call(t,"callee")};const ite=rte;function ste(){return!1}var W$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eA=W$&&typeof module=="object"&&module&&!module.nodeType&&module,ote=eA&&eA.exports===W$,tA=ote?$v.Buffer:void 0,ate=tA?tA.isBuffer:void 0,lte=ate||ste;const ute=lte;var cte="[object Arguments]",dte="[object Array]",fte="[object Boolean]",hte="[object Date]",pte="[object Error]",mte="[object Function]",gte="[object Map]",vte="[object Number]",yte="[object Object]",bte="[object RegExp]",wte="[object Set]",_te="[object String]",Tte="[object WeakMap]",Ste="[object ArrayBuffer]",Ete="[object DataView]",Ite="[object Float32Array]",Cte="[object Float64Array]",Ote="[object Int8Array]",Ate="[object Int16Array]",Pte="[object Int32Array]",kte="[object Uint8Array]",xte="[object Uint8ClampedArray]",Dte="[object Uint16Array]",Rte="[object Uint32Array]",hn={};hn[Ite]=hn[Cte]=hn[Ote]=hn[Ate]=hn[Pte]=hn[kte]=hn[xte]=hn[Dte]=hn[Rte]=!0;hn[cte]=hn[dte]=hn[Ste]=hn[fte]=hn[Ete]=hn[hte]=hn[pte]=hn[mte]=hn[gte]=hn[vte]=hn[yte]=hn[bte]=hn[wte]=hn[_te]=hn[Tte]=!1;function Nte(t){return Fv(t)&&B$(t.length)&&!!hn[Lv(t)]}function Mte(t){return function(e){return t(e)}}var K$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rd=K$&&typeof module=="object"&&module&&!module.nodeType&&module,$te=Rd&&Rd.exports===K$,sb=$te&&R$.process,Lte=function(){try{var t=Rd&&Rd.require&&Rd.require("util").types;return t||sb&&sb.binding&&sb.binding("util")}catch{}}();const nA=Lte;var rA=nA&&nA.isTypedArray,Fte=rA?Mte(rA):Nte;const Ute=Fte;var Vte=Object.prototype,Bte=Vte.hasOwnProperty;function z$(t,e){var n=see(t),r=!n&&ite(t),i=!n&&!r&&ute(t),s=!n&&!r&&!i&&Ute(t),o=n||r||i||s,a=o?Zee(t.length,String):[],l=a.length;for(var u in t)(e||Bte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||L$(u,l)))&&a.push(u);return a}function jte(t,e){return function(n){return t(e(n))}}var Hte=jte(Object.keys,Object);const Wte=Hte;var Kte=Object.prototype,zte=Kte.hasOwnProperty;function Gte(t){if(!FT(t))return Wte(t);var e=[];for(var n in Object(t))zte.call(t,n)&&n!="constructor"&&e.push(n);return e}function Yte(t){return Uv(t)?z$(t):Gte(t)}var qte=Object.prototype,Xte=qte.hasOwnProperty,Qte=Qee(function(t,e){if(FT(e)||Uv(e)){Yee(e,Yte(e),t);return}for(var n in e)Xte.call(e,n)&&U$(t,n,e[n])});const Jte=Qte;function Zte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ene=Object.prototype,tne=ene.hasOwnProperty;function nne(t){if(!wl(t))return Zte(t);var e=FT(t),n=[];for(var r in t)r=="constructor"&&(e||!tne.call(t,r))||n.push(r);return n}function rne(t){return Uv(t)?z$(t,!0):nne(t)}var ine=function(){return $v.Date.now()};const ob=ine;var sne="Expected a function",one=Math.max,ane=Math.min;function lne(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(sne);e=XO(e)||0,wl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?one(XO(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(T){var x=r,A=i;return r=i=void 0,u=T,o=t.apply(A,x),o}function p(T){return u=T,a=setTimeout(v,e),c?h(T):o}function m(T){var x=T-l,A=T-u,O=e-x;return d?ane(O,s-A):O}function g(T){var x=T-l,A=T-u;return l===void 0||x>=e||x<0||d&&A>=s}function v(){var T=ob();if(g(T))return y(T);a=setTimeout(v,m(T))}function y(T){return a=void 0,f&&r?h(T):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?o:y(ob())}function w(){var T=ob(),x=g(T);if(r=arguments,i=this,l=T,x){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),o}return w.cancel=_,w.flush=b,w}var G$=Object.prototype,une=G$.hasOwnProperty,cne=V$(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&j$(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=rne(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||LT(c,G$[u])&&!une.call(t,u))&&(t[u]=s[u])}return t});const dne=cne,fne=({images:t=[],options:e})=>{e=Jte(e,{inline:!1});const n=document.createElement("div"),r=il("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>il("img",typeof a=="string"?{src:a}:a)));sl(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new oc(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),sl(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},hne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,f=!1,h=!1){await Wn(),!(h&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new oc(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=d?d.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,d,f,h){a(c);const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!p){u("Observer not supported");return}const m=new p(v=>{v.forEach(y=>{u(`Viewer mutation:${y.type}`),f(c,d,h,!0)})}),g={attributes:!0,childList:!0,characterData:!0,subtree:!0};m.observe(c,g),c.__viewerMutationObserver=m,u("Observer created")}function s(c,d,f,h){c.__viewerUnwatch=It(()=>d.value,(p,m)=>{u("Change detected by watcher: ",d.value),h(c,p,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,f){u("Viewer bind");const h=lne(n,50);h(c,d.value),s(c,d,f,h),d.modifiers.static||i(c,d.value,h,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},pne=Ae({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=re();function i(){n=new oc(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return It(()=>t.images,()=>{Wn(()=>{l()})},u),It(()=>t.trigger,()=>{Wn(()=>{l()})},u),It(()=>t.options,()=>{Wn(()=>{o()})},u),Vt(()=>i()),mo(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),mne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},gne={ref:"root"};function vne(t,e,n,r,i,s){return S(),U("div",gne,[fe(t.$slots,"default",{images:t.images,options:t.options})],512)}const Y$=mne(pne,[["render",vne]]),yne={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&oc.setDefaults(r),t.config.globalProperties[`$${e}Api`]=fne,t.component(e,dne(Y$,{name:e})),t.directive(e,hne({name:e,debug:n}))},setDefaults(t){oc.setDefaults(t)}};function bne(t){return Gf()?(wg(t),!0):!1}function Pw(t){return typeof t=="function"?t():P(t)}const wne=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function _ne(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}const q$=wne?window:void 0;function Tne(){const t=re(!1),e=Ki();return e&&Vt(()=>{t.value=!0},e),t}function Sne(t){const e=Tne();return J(()=>(e.value,!!t()))}function Vc(t,e={}){const{window:n=q$}=e,r=Sne(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=re(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=p1(()=>{r.value&&(a(),i=n.matchMedia(Pw(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return bne(()=>{l(),a(),i=void 0}),s}const Ene={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Ine(t,e={}){function n(c,d){let f=Pw(t[Pw(c)]);return d!=null&&(f=_ne(f,d)),typeof f=="number"&&(f=`${f}px`),f}const{window:r=q$,strategy:i="min-width"}=e;function s(c){return r?r.matchMedia(c).matches:!1}const o=c=>Vc(()=>`(min-width: ${n(c)})`,e),a=c=>Vc(()=>`(max-width: ${n(c)})`,e),l=Object.keys(t).reduce((c,d)=>(Object.defineProperty(c,d,{get:()=>i==="min-width"?o(d):a(d),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(t).map(d=>[d,o(d)]);return J(()=>c.filter(([,d])=>d.value).map(([d])=>d))}return Object.assign(l,{greaterOrEqual:o,smallerOrEqual:a,greater(c){return Vc(()=>`(min-width: ${n(c,.1)})`,e)},smaller(c){return Vc(()=>`(max-width: ${n(c,-.1)})`,e)},between(c,d){return Vc(()=>`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`,e)},isGreater(c){return s(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return s(`(min-width: ${n(c)})`)},isSmaller(c){return s(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return s(`(max-width: ${n(c)})`)},isInBetween(c,d){return s(`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`)},current:u,active(){const c=u();return J(()=>c.value.length===0?"":c.value.at(-1))}})}const Cne=["src"],iA=Ae({__name:"BlogPostImage",props:{post:{},coverImageUrl:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=Ine(Ene),r=n.greaterOrEqual("sm"),i=n.greaterOrEqual("md"),s=re(0),o=re(0),a=J(()=>s.value>o.value),l=J(()=>s.value>o.value*1.5),u=J(()=>o.value>s.value),c=J(()=>o.value>s.value*1.5),d=J(()=>i.value?"60%":r.value?"80%":e.maxHeight?e.maxHeight:a.value&&c.value?"80%":"100%"),f=J(()=>i.value?"60%":r.value?"80%":e.maxWidth?e.maxWidth:u.value&&l.value?"80%":"100%");return Vt(()=>{const h=new Image;h.src=e.coverImageUrl,h.onload=()=>{s.value=h.height,o.value=h.width}}),(h,p)=>(S(),U("div",{class:ke({flex:!0,"justify-start":h.alignment==="left","justify-center":h.alignment===void 0||h.alignment==="center","justify-end":h.alignment==="right"})},[Z(Zr,{class:ke(["!p-0 md:!p-3 xl:!p-5 my-5 w-fit border border-white md:border-none rounded-none md:rounded-3xl",h.post.colorTertiary||"",h.post.opacityTertiary||"bg-opacity-50"]),style:nr({maxHeight:d.value,maxWidth:f.value})},{default:ce(()=>[Z(P(Y$),{class:"cursor-pointer"},{default:ce(()=>[K("img",{class:"cover-image md:rounded-xl",src:h.coverImageUrl},null,8,Cne)]),_:1})]),_:1},8,["class","style"])],2))}}),kw=Ae({__name:"ArrowIcon",props:{rotate:{type:Boolean},size:{}},setup(t){return(e,n)=>(S(),ie(P(kX),{class:ke(["sm:block animation",{"rotate-180":e.rotate,"mt-0.5 mr-2.5 h-5 w-5":!e.size||e.size==="sm","h-10 w-10":e.size==="md","h-20 w-20":e.size==="xl"}])},null,8,["class"]))}}),One=Ae({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(S(),U("div",{class:ke(["font-bold text-lg md:text-2xl",{"hover:underline cursor-pointer":n.isExpandable},e.class])},[K("div",{class:ke({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[K("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(S(),ie(kw,{key:0,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):Y("",!0),fe(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(S(),ie(kw,{key:1,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):Y("",!0)])],2)],2))}}),Ane={class:"flex flex-wrap justify-end h-fit gap-3"},sA=Ae({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(t){return(e,n)=>(S(),U("div",Ane,[Z(Ut,{class:"min-w-80",onClick:n[0]||(n[0]=r=>e.$emit("editClicked"))},{default:ce(()=>[Qe(" Edit ")]),_:1}),Z(Ut,{class:"min-w-80",type:"danger",outlined:"",onClick:n[1]||(n[1]=r=>e.$emit("deleteClicked"))},{default:ce(()=>[Qe(" Delete ")]),_:1})]))}}),Pne={class:"flex gap-3"},kne=K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[K("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1),xne={class:"flex justify-between h-fit mt-2 gap-2"},Dne={class:"flex flex-wrap gap-3"},Rne={class:"w-full"},Nne={class:"w-full"},X$=Ae({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Jt(ar()),{firebaseUser:r,isOwner:i}=Jt(sr()),s=re(e.post.archived),o=J(()=>{var f;return(f=e.post.allowedUserIds)!=null&&f.length?n.value.filter(h=>{var p;return(p=e.post.allowedUserIds)==null?void 0:p.includes(h.id)}):[]}),a=J(()=>{const f=ew(new Date(e.post.date)),h=e.post.dateUpdated?ew(new Date(e.post.dateUpdated)):"";return f+` - updated ${h}`}),l=J(()=>{const f=[];return e.post.datePinned&&f.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&f.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&f.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),f}),u=J(()=>e.post.sections.map(f=>({...f,isExpandable:c(f)}))),c=f=>!!f.description||!!f.coverImageUrl||!!f.bullets.length,d=()=>{const f=document.createElement("textarea"),{protocol:h,hostname:p,port:m,pathname:g}=window.location,v=`${h}//${p}`+(p==="localhost"?`:${m}`:"")+g;f.value=`${v}/${e.post.id}`,document.body.appendChild(f),f.select(),document.execCommand("copy"),document.body.removeChild(f),qe.success("Copied link!")};return(f,h)=>(S(),ie(Zr,{id:f.post.id,class:ke([{"min-h-[90vh]":!s.value},"border-4 border-transparent",f.post.colorPrimary||"bg-gray-900",f.post.opacityPrimary||"bg-opacity-30"]),title:f.post.title,subTitle:a.value,tags:l.value,loading:f.post.loading,isCollapsed:s.value,clickable:"",onClick:h[4]||(h[4]=p=>s.value=!s.value)},{right:ce(()=>[K("div",Pne,[s.value?P(i)?(S(),ie(sA,{key:1,onEditClicked:h[0]||(h[0]=p=>f.$emit("editClicked")),onDeleteClicked:h[1]||(h[1]=p=>f.$emit("deleteClicked"))})):Y("",!0):(S(),ie(Ut,{key:0,class:"border-none bg-gray-500 text-purple-100 bg-opacity-10 h-fit",type:"secondary",outlined:"",onClick:d},{default:ce(()=>[kne]),_:1}))])]),default:ce(()=>{var p;return[K("div",xne,[K("div",Dne,[(S(!0),U(Te,null,st(o.value,m=>{var g;return S(),ie(P(O$),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:m.id===((g=P(r))==null?void 0:g.uid)?"You":m.displayName,rounded:""},null,8,["label"])}),256))]),P(i)?(S(),U("div",{key:0,class:ke(["flex justify-end ms-5",(p=f.post.allowedUserIds)!=null&&p.length?"flex-col md:flex-row":"flex-row"])},[Z(sA,{onEditClicked:h[2]||(h[2]=m=>f.$emit("editClicked")),onDeleteClicked:h[3]||(h[3]=m=>f.$emit("deleteClicked"))})],2)):Y("",!0)]),Z(Zr,{class:ke(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",f.post.colorSecondary||f.post.colorPrimary,f.post.opacitySecondary||"bg-opacity-25"])},{default:ce(()=>[K("div",{class:ke(["flex relative",f.post.countdown||f.post.alignment==="center"?"flex justify-between":""])},[K("div",Rne,[f.post.countdown?(S(),ie(Hl,{key:0,time:new Date(f.post.countdown).getTime(),direction:"down",alignment:f.post.alignment},null,8,["time","alignment"])):Y("",!0),f.post.timer?(S(),ie(Hl,{key:1,time:new Date(f.post.timer).getTime(),direction:"up",alignment:f.post.alignment},null,8,["time","alignment"])):Y("",!0),f.post.description?(S(),ie(pp,{key:2,description:f.post.description,alignment:f.post.alignment},null,8,["description","alignment"])):Y("",!0)])],2),f.post.coverImageUrl?(S(),ie(iA,{key:0,post:f.post,"cover-image-url":f.post.coverImageUrl},null,8,["post","cover-image-url"])):Y("",!0),f.post.descriptionFooter?(S(),ie(pp,{key:1,class:"mb-5",description:f.post.descriptionFooter,alignment:f.post.alignment},null,8,["description","alignment"])):Y("",!0),Z(P(Ah),null,{default:ce(()=>[(S(!0),U(Te,null,st(u.value,m=>(S(),ie(P(Jo),{disabled:!m.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",m.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:m.isExpandable?void 0:"invisible"}}},Jn({header:ce(()=>[K("div",Nne,[m.title?(S(),ie(One,{key:0,alignment:m.alignment},{default:ce(()=>[Qe(Le(m.title),1)]),_:2},1032,["alignment"])):Y("",!0),m.subTitle?(S(),ie(pp,{key:1,class:"mb-5",description:m.subTitle,alignment:m.alignment},null,8,["description","alignment"])):Y("",!0),m.isExpandable?Y("",!0):(S(),U(Te,{key:2},[m.countdown?(S(),ie(Hl,{key:0,time:new Date(m.countdown).getTime(),direction:"down",alignment:m.alignment},null,8,["time","alignment"])):Y("",!0),m.timer?(S(),ie(Hl,{key:1,time:new Date(m.timer).getTime(),direction:"up",alignment:m.alignment},null,8,["time","alignment"])):Y("",!0)],64))])]),default:ce(()=>[m.description?(S(),ie(pp,{key:0,description:m.description,alignment:m.alignment},null,8,["description","alignment"])):Y("",!0),m.coverImageUrl?(S(),ie(iA,{key:1,post:f.post,"cover-image-url":m.coverImageUrl,alignment:m.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):Y("",!0),Z(uZ,{bullets:m.bullets,alignment:m.alignment},null,8,["bullets","alignment"]),m.isExpandable?(S(),U(Te,{key:2},[m.countdown?(S(),ie(Hl,{key:0,time:new Date(m.countdown).getTime(),direction:"down",alignment:m.alignment},null,8,["time","alignment"])):Y("",!0),m.timer?(S(),ie(Hl,{key:1,time:new Date(m.timer).getTime(),direction:"up",alignment:m.alignment},null,8,["time","alignment"])):Y("",!0)],64)):Y("",!0)]),_:2},[m.isExpandable?void 0:{name:"headericon",fn:ce(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1})]),_:1},8,["class"]),Z(lZ,{post:f.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}}),Mne={key:0,class:"flex justify-center mt-5"},$ne={class:"grid grid-cols-6 mb-5 gap-5"},Lne=Ae({__name:"BlogDetails",setup(t){const e=O1(),n=J(()=>e.params.postId),r=ar(),{fetchBlogPost:i}=r,{blogPosts:s}=Jt(r);return Vt(()=>{var o,a;n.value&&((o=s.value.data.single)==null?void 0:o.id)!==n.value&&((a=s.value.data.single)==null?void 0:a.id)!==n.value&&i(n.value)}),(o,a)=>P(s).fetchLoading?(S(),U("div",Mne,[Z(Ut,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:P(s).fetchLoading},{default:ce(()=>[Qe(" Loading... ")]),_:1},8,["loading"])])):(S(),U(Te,{key:1},[K("div",$ne,[Z(Ut,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"orange",url:"/blog"},{default:ce(()=>[Qe(" All Posts ")]),_:1})]),P(s).data.single?(S(),ie(X$,{key:0,post:P(s).data.single},null,8,["post"])):Y("",!0)],64))}}),Fne={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},Une={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},Vne={class:"bg-gray-800 border border-gray-500 rounded-2xl p-5"},Bne={class:"sm:p-8"},jne={class:"text-title-secondary"},Hne={class:"mt-4 text-gray-300"},Wne={class:"my-2"},Kne={class:"grid grid-cols-4 mt-10 gap-3"},UT=Ae({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return Jf(()=>{document.body.style.overflow=""}),It(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${SK()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(S(),U("div",Fne,[K("div",{class:"fixed inset-0 bg-gray-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),K("div",Une,[K("div",Vne,[K("div",Bne,[K("h3",jne,Le(n.title),1),K("div",Hne,[(S(!0),U(Te,null,st(Array.isArray(n.description)?[...n.description]:[n.description],i=>(S(),U("p",Wne,Le(i),1))),256))]),fe(n.$slots,"default")]),K("div",Kne,[Z(Ut,{class:ke(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:ce(()=>[Qe(" Cancel ")]),_:1},8,["class"]),n.confirmText?(S(),ie(Ut,se({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:ce(()=>[Qe(Le(n.confirmText),1)]),_:1},16,["loading"])):Y("",!0)])])])])):Y("",!0)}});let bp;const zne=new Uint8Array(16);function Gne(){if(!bp&&(bp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bp(zne)}const yr=[];for(let t=0;t<256;++t)yr.push((t+256).toString(16).slice(1));function Yne(t,e=0){return yr[t[e+0]]+yr[t[e+1]]+yr[t[e+2]]+yr[t[e+3]]+"-"+yr[t[e+4]]+yr[t[e+5]]+"-"+yr[t[e+6]]+yr[t[e+7]]+"-"+yr[t[e+8]]+yr[t[e+9]]+"-"+yr[t[e+10]]+yr[t[e+11]]+yr[t[e+12]]+yr[t[e+13]]+yr[t[e+14]]+yr[t[e+15]]}const qne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oA={randomUUID:qne};function rg(t,e,n){if(oA.randomUUID&&!e&&!t)return oA.randomUUID();t=t||{};const r=t.random||(t.rng||Gne)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Yne(r)}const Xne={class:"m-4"},Qne=["for"],ig=Ae({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=J({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=J(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=()=>{},a=n;return e({test:o}),(l,u)=>{const c=En("VueDatePicker");return S(),U("div",Xne,[l.label?(S(),U("label",se({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Le(l.label),17,Qne)):Y("",!0),Z(c,{uid:s.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),Jne={class:"m-4"},Zne=["for"],ere={class:"flex justify-between gap-1"},tre=["id","disabled"],nre={key:2},rre={class:"flex justify-center"},ire=["src"],VT=Ae({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=Jt(sr()),{fetchFileInfo:s,uploadFile:o,deleteFile:a}=ar(),l=re(),u=re(null),c=re(0),d=J(()=>Z0(r.modelValue||"uploads/"+rg())),f=J(()=>d.value.name),h=re(),p=re(""),m=b=>{const w=b.target;w.files&&w.files.length>0&&(u.value=w.files[0],p.value=u.value.name,g())},g=async()=>{var b,w;u.value&&((b=i.value)!=null&&b.uid)&&await o(d.value,u.value,T=>c.value=T,p.value,(w=i.value)==null?void 0:w.uid,r.isPublic,r.blogPost)&&(_("update:modelValue",await pK(d.value)),u.value=null,c.value=0)},v=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")},y=()=>{};It(()=>r.modelValue,async()=>{var b;h.value=r.modelValue?await s(f.value):void 0,p.value=((b=h.value)==null?void 0:b.name)??""},{immediate:!0});const _=n;return e({test:y}),(b,w)=>(S(),U("div",Jne,[b.label?(S(),U("label",{key:0,class:"block text-sm font-bold mb-2",for:`${b.id}`},Le(b.label),9,Zne)):Y("",!0),K("div",ere,[K("input",{id:`${b.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:m,class:"p-input",disabled:!!h.value},null,40,tre),h.value?(S(),ie(A$,{key:0,onClick:v})):Y("",!0)]),b.error?(S(),ie(xT,{key:1,name:b.name,error:b.error},null,8,["name","error"])):Y("",!0),c.value>0?(S(),U("div",nre,"Uploading: "+Le(c.value.toFixed(2))+"%",1)):Y("",!0),K("div",rre,[K("div",xn(rr(b.imageContainerProps)),[h.value?(S(),U("img",se({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:b.modelValue},b.imageProps),null,16,ire)):Y("",!0)],16)])]))}}),sre={class:"m-4"},ore=["for"],Dr=Ae({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=J(()=>(r.rules??[]).some(h=>h.type===DT.Required)),o=J({get:()=>{if(r.multiple){const h=Array.isArray(r.modelValue)?r.modelValue:[];return h.length?h:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const h=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return h||(r.options.length?r.options[0].value:"")}},set:h=>{i("update:modelValue",Ca(h)[0]),i("update:arrayValue",Ca(h))}}),a=J(()=>r.label+(s.value?" *":"")),l=J(()=>r.name+(r.id?"."+r.id:"")),u=J(()=>r.options.find(({value:h})=>h===o.value)),c=J(()=>{var h,p,m;return[((h=u.value)==null?void 0:h.background)??"bg-transparent",(p=u.value)!=null&&p.background?"bg-opacity-90":"bg-opacity-40",((m=u.value)==null?void 0:m.text)??"text-black"]}),d=J(()=>Ca(o.value).map(h=>{var p;return(p=r.options.find(m=>m.value===h))==null?void 0:p.label}).join(", "));return Vt(()=>{s.value&&(i("update:modelValue",Ca(o.value)[0]),i("update:arrayValue",Ca(o.value)))}),e({test:async()=>{const h=r.rules||[];let p="";for(const m of Ca(o.value)){const g={value:m.toString()},v=h.filter(y=>!y.test(g)).map(y=>y.error(g))||[];if(v[0]){p=v[0];break}}i("update:error",p)}}),(h,p)=>(S(),U("div",sre,[K("label",{class:"block text-sm font-bold mb-2",for:l.value},Le(a.value),9,ore),K("div",null,[(S(),ie(gn(h.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=m=>o.value=m),placeholder:h.placeholder??"No option selected",class:"w-full p-input p-0",multiple:h.multiple,options:h.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:ce(({placeholder:m})=>{var g;return[K("span",{class:ke(["block w-full p-2",...c.value])},Le((h.multiple?d.value:(g=u.value)==null?void 0:g.label)||m),3)]}),option:ce(({option:m})=>[K("span",{class:ke(["w-full p-2",m.background,m.background?"bg-opacity-90":"bg-opacity-40",m.text])},Le(m.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),h.error?(S(),ie(xT,{key:0,name:h.name,error:h.error},null,8,["name","error"])):Y("",!0)]))}});var are=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Q$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var J$={exports:{}};const ure=Q$(E6);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function aA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yp=function(e){return typeof e}:Yp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function cre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hi(){return Hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hi.apply(this,arguments)}function dre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fre(t,e){if(t==null)return{};var n=dre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hre(t){return pre(t)||mre(t)||gre(t)||vre()}function pre(t){if(Array.isArray(t))return xw(t)}function mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gre(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yre="1.14.0";function ro(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var vo=ro(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ph=ro(/Edge/i),lA=ro(/firefox/i),Nd=ro(/safari/i)&&!ro(/chrome/i)&&!ro(/android/i),Z$=ro(/iP(ad|od|hone)/i),bre=ro(/chrome/i)&&ro(/android/i),eL={capture:!1,passive:!1};function St(t,e,n){t.addEventListener(e,n,!vo&&eL)}function _t(t,e,n){t.removeEventListener(e,n,!vo&&eL)}function sg(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function wre(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Zi(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&sg(t,e):sg(t,e))||r&&t===n)return t;if(t===n)break}while(t=wre(t))}return null}var uA=/\s+/g;function An(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(uA," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(uA," ")}}function Xe(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Xa(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Xe(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function tL(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Ds(){var t=document.scrollingElement;return t||document.documentElement}function Sn(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Ds()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!vo))do if(i&&i.getBoundingClientRect&&(Xe(i,"transform")!=="none"||n&&Xe(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(Xe(i,"border-top-width")),a-=f.left+parseInt(Xe(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var h=Xa(i||t),p=h&&h.a,m=h&&h.d;h&&(o/=m,a/=p,d/=p,c/=m,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function cA(t,e,n){for(var r=Wo(t,!0),i=Sn(t)[e];r;){var s=Sn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===Ds())break;r=Wo(r,!1)}return!1}function ac(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==ot.ghost&&(r||o[s]!==ot.dragged)&&Zi(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function BT(t,e){for(var n=t.lastElementChild;n&&(n===ot.ghost||Xe(n,"display")==="none"||e&&!sg(n,e));)n=n.previousElementSibling;return n||null}function Ln(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ot.clone&&(!e||sg(t,e))&&n++;return n}function dA(t){var e=0,n=0,r=Ds();if(t)do{var i=Xa(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function _re(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Wo(t,e){if(!t||!t.getBoundingClientRect)return Ds();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Xe(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ds();if(r||e)return n;r=!0}}while(n=n.parentNode);return Ds()}function Tre(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ab(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Md;function nL(t,e){return function(){if(!Md){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Md=setTimeout(function(){Md=void 0},e)}}}function Sre(){clearTimeout(Md),Md=void 0}function rL(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function jT(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function fA(t,e){Xe(t,"position","absolute"),Xe(t,"top",e.top),Xe(t,"left",e.left),Xe(t,"width",e.width),Xe(t,"height",e.height)}function lb(t){Xe(t,"position",""),Xe(t,"top",""),Xe(t,"left",""),Xe(t,"width",""),Xe(t,"height","")}var $r="Sortable"+new Date().getTime();function Ere(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Xe(i,"display")==="none"||i===ot.ghost)){t.push({target:i,rect:Sn(i)});var s=Ls({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Xa(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(_re(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Sn(u),f=u.prevFromRect,h=u.prevToRect,p=a.rect,m=Xa(u,!0);m&&(d.top-=m.f,d.left-=m.e),u.toRect=d,u.thisAnimationDuration&&ab(f,d)&&!ab(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=Cre(p,f,h,i.options)),ab(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){Xe(r,"transition",""),Xe(r,"transform","");var a=Xa(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,Xe(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=Ire(r),Xe(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Xe(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Xe(r,"transition",""),Xe(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function Ire(t){return t.offsetWidth}function Cre(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var zl=[],ub={initializeByDefault:!0},kh={mount:function(e){for(var n in ub)ub.hasOwnProperty(n)&&!(n in e)&&(e[n]=ub[n]);zl.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),zl.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";zl.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Ls({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Ls({sortable:n},r)))})},initializePlugins:function(e,n,r,i){zl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Hi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return zl.forEach(function(i){typeof i.eventProperties=="function"&&Hi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return zl.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function ld(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[$r],!!e){var m,g=e.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!vo&&!Ph?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var y=Ls(Ls({},p),kh.getEventProperties(r,e));for(var _ in y)m[_]=y[_];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}var Ore=["evt"],ri=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=fre(r,Ore);kh.pluginEvent.bind(ot)(e,n,Ls({dragEl:De,parentEl:Nn,ghostEl:mt,rootEl:Tn,nextEl:Aa,lastDownEl:qp,cloneEl:Mn,cloneHidden:Ho,dragStarted:ud,putSortable:br,activeSortable:ot.active,originalEvent:i,oldIndex:pu,oldDraggableIndex:$d,newIndex:yi,newDraggableIndex:Lo,hideGhostForTarget:aL,unhideGhostForTarget:lL,cloneNowHidden:function(){Ho=!0},cloneNowShown:function(){Ho=!1},dispatchSortableEvent:function(a){Yr({sortable:n,name:a,originalEvent:i})}},s))};function Yr(t){ld(Ls({putSortable:br,cloneEl:Mn,targetEl:De,rootEl:Tn,oldIndex:pu,oldDraggableIndex:$d,newIndex:yi,newDraggableIndex:Lo},t))}var De,Nn,mt,Tn,Aa,qp,Mn,Ho,pu,yi,$d,Lo,wp,br,iu=!1,og=!1,ag=[],Ta,Yi,cb,db,hA,pA,ud,Gl,Ld,Fd=!1,_p=!1,Xp,Pr,fb=[],Dw=!1,lg=[],Vv=typeof document<"u",Tp=Z$,mA=Ph||vo?"cssFloat":"float",Are=Vv&&!bre&&!Z$&&"draggable"in document.createElement("div"),iL=function(){if(Vv){if(vo)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),sL=function(e,n){var r=Xe(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=ac(e,0,n),o=ac(e,1,n),a=s&&Xe(s),l=o&&Xe(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Sn(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Sn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[mA]==="none"||o&&r[mA]==="none"&&u+c>i)?"vertical":"horizontal"},Pre=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},kre=function(e,n){var r;return ag.some(function(i){var s=i[$r].options.emptyInsertThreshold;if(!(!s||BT(i))){var o=Sn(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},oL=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=e.group;(!i||Yp(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},aL=function(){!iL&&mt&&Xe(mt,"display","none")},lL=function(){!iL&&mt&&Xe(mt,"display","")};Vv&&document.addEventListener("click",function(t){if(og)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),og=!1,!1},!0);var Sa=function(e){if(De){e=e.touches?e.touches[0]:e;var n=kre(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[$r]._onDragOver(r)}}},xre=function(e){De&&De.parentNode[$r]._isOutsideThisEl(e.target)};function ot(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Hi({},e),t[$r]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return sL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ot.supportPointer!==!1&&"PointerEvent"in window&&!Nd,emptyInsertThreshold:5};kh.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);oL(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Are,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?St(t,"pointerdown",this._onTapStart):(St(t,"mousedown",this._onTapStart),St(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(St(t,"dragover",this),St(t,"dragenter",this)),ag.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Hi(this,Ere())}ot.prototype={constructor:ot,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Gl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,De):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(Ure(r),!De&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Nd&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Zi(l,i.draggable,r,!1),!(l&&l.animated)&&qp!==l)){if(pu=Ln(l),$d=Ln(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Yr({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),ri("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Zi(u,d.trim(),r,!1),d)return Yr({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),ri("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Zi(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!De&&r.parentNode===s){var u=Sn(r);if(Tn=s,De=r,Nn=De.parentNode,Aa=De.nextSibling,qp=r,wp=o.group,ot.dragged=De,Ta={target:De,clientX:(n||e).clientX,clientY:(n||e).clientY},hA=Ta.clientX-u.left,pA=Ta.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,De.style["will-change"]="all",l=function(){if(ri("delayEnded",i,{evt:e}),ot.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!lA&&i.nativeDraggable&&(De.draggable=!0),i._triggerDragStart(e,n),Yr({sortable:i,name:"choose",originalEvent:e}),An(De,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){tL(De,c.trim(),hb)}),St(a,"dragover",Sa),St(a,"mousemove",Sa),St(a,"touchmove",Sa),St(a,"mouseup",i._onDrop),St(a,"touchend",i._onDrop),St(a,"touchcancel",i._onDrop),lA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,De.draggable=!0),ri("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ph||vo))){if(ot.eventCanceled){this._onDrop();return}St(a,"mouseup",i._disableDelayedDrag),St(a,"touchend",i._disableDelayedDrag),St(a,"touchcancel",i._disableDelayedDrag),St(a,"mousemove",i._delayedDragTouchMoveHandler),St(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&St(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){De&&hb(De),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_t(e,"mouseup",this._disableDelayedDrag),_t(e,"touchend",this._disableDelayedDrag),_t(e,"touchcancel",this._disableDelayedDrag),_t(e,"mousemove",this._delayedDragTouchMoveHandler),_t(e,"touchmove",this._delayedDragTouchMoveHandler),_t(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?St(document,"pointermove",this._onTouchMove):n?St(document,"touchmove",this._onTouchMove):St(document,"mousemove",this._onTouchMove):(St(De,"dragend",this),St(Tn,"dragstart",this._onDragStart));try{document.selection?Qp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(iu=!1,Tn&&De){ri("dragStarted",this,{evt:n}),this.nativeDraggable&&St(document,"dragover",xre);var r=this.options;!e&&An(De,r.dragClass,!1),An(De,r.ghostClass,!0),ot.active=this,e&&this._appendGhost(),Yr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Yi){this._lastX=Yi.clientX,this._lastY=Yi.clientY,aL();for(var e=document.elementFromPoint(Yi.clientX,Yi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Yi.clientX,Yi.clientY),e!==n);)n=e;if(De.parentNode[$r]._isOutsideThisEl(e),n)do{if(n[$r]){var r=void 0;if(r=n[$r]._onDragOver({clientX:Yi.clientX,clientY:Yi.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);lL()}},_onTouchMove:function(e){if(Ta){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=mt&&Xa(mt,!0),a=mt&&o&&o.a,l=mt&&o&&o.d,u=Tp&&Pr&&dA(Pr),c=(s.clientX-Ta.clientX+i.x)/(a||1)+(u?u[0]-fb[0]:0)/(a||1),d=(s.clientY-Ta.clientY+i.y)/(l||1)+(u?u[1]-fb[1]:0)/(l||1);if(!ot.active&&!iu){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(mt){o?(o.e+=c-(cb||0),o.f+=d-(db||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Xe(mt,"webkitTransform",f),Xe(mt,"mozTransform",f),Xe(mt,"msTransform",f),Xe(mt,"transform",f),cb=c,db=d,Yi=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!mt){var e=this.options.fallbackOnBody?document.body:Tn,n=Sn(De,!0,Tp,!0,e),r=this.options;if(Tp){for(Pr=e;Xe(Pr,"position")==="static"&&Xe(Pr,"transform")==="none"&&Pr!==document;)Pr=Pr.parentNode;Pr!==document.body&&Pr!==document.documentElement?(Pr===document&&(Pr=Ds()),n.top+=Pr.scrollTop,n.left+=Pr.scrollLeft):Pr=Ds(),fb=dA(Pr)}mt=De.cloneNode(!0),An(mt,r.ghostClass,!1),An(mt,r.fallbackClass,!0),An(mt,r.dragClass,!0),Xe(mt,"transition",""),Xe(mt,"transform",""),Xe(mt,"box-sizing","border-box"),Xe(mt,"margin",0),Xe(mt,"top",n.top),Xe(mt,"left",n.left),Xe(mt,"width",n.width),Xe(mt,"height",n.height),Xe(mt,"opacity","0.8"),Xe(mt,"position",Tp?"absolute":"fixed"),Xe(mt,"zIndex","100000"),Xe(mt,"pointerEvents","none"),ot.ghost=mt,e.appendChild(mt),Xe(mt,"transform-origin",hA/parseInt(mt.style.width)*100+"% "+pA/parseInt(mt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(ri("dragStart",this,{evt:e}),ot.eventCanceled){this._onDrop();return}ri("setupClone",this),ot.eventCanceled||(Mn=jT(De),Mn.draggable=!1,Mn.style["will-change"]="",this._hideClone(),An(Mn,this.options.chosenClass,!1),ot.clone=Mn),r.cloneId=Qp(function(){ri("clone",r),!ot.eventCanceled&&(r.options.removeCloneOnHide||Tn.insertBefore(Mn,De),r._hideClone(),Yr({sortable:r,name:"clone"}))}),!n&&An(De,s.dragClass,!0),n?(og=!0,r._loopId=setInterval(r._emulateDragOver,50)):(_t(document,"mouseup",r._onDrop),_t(document,"touchend",r._onDrop),_t(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,De)),St(document,"drop",r),Xe(De,"transform","translateZ(0)")),iu=!0,r._dragStartId=Qp(r._dragStarted.bind(r,n,e)),St(document,"selectstart",r),ud=!0,Nd&&Xe(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=ot.active,c=wp===l,d=a.sort,f=br||u,h,p=this,m=!1;if(Dw)return;function g(G,F){ri(G,p,Ls({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:f,target:r,completed:y,onMove:function(ee,te){return Sp(Tn,n,De,i,ee,Sn(ee),e,te)},changed:_},F))}function v(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function y(G){return g("dragOverCompleted",{insertion:G}),G&&(c?u._hideClone():u._showClone(p),p!==f&&(An(De,br?br.options.ghostClass:u.options.ghostClass,!1),An(De,a.ghostClass,!0)),br!==p&&p!==ot.active?br=p:p===ot.active&&br&&(br=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===De&&!De.animated||r===n&&!r.animated)&&(Gl=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(De.parentNode[$r]._isOutsideThisEl(e.target),!G&&Sa(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function _(){yi=Ln(De),Lo=Ln(De,a.draggable),Yr({sortable:p,name:"change",toEl:n,newIndex:yi,newDraggableIndex:Lo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Zi(r,a.draggable,n,!0),g("dragOver"),ot.eventCanceled)return m;if(De.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return y(!1);if(og=!1,u&&!a.disabled&&(c?d||(o=Nn!==Tn):br===this||(this.lastPutMode=wp.checkPull(this,u,De,e))&&l.checkPut(this,u,De,e))){if(h=this._getDirection(e,r)==="vertical",i=Sn(De),g("dragOverValid"),ot.eventCanceled)return m;if(o)return Nn=Tn,v(),this._hideClone(),g("revert"),ot.eventCanceled||(Aa?Tn.insertBefore(De,Aa):Tn.appendChild(De)),y(!0);var b=BT(n,a.draggable);if(!b||Mre(e,h,this)&&!b.animated){if(b===De)return y(!1);if(b&&n===e.target&&(r=b),r&&(s=Sn(r)),Sp(Tn,n,De,i,r,s,e,!!r)!==!1)return v(),n.appendChild(De),Nn=n,_(),y(!0)}else if(b&&Nre(e,h,this)){var w=ac(n,0,a,!0);if(w===De)return y(!1);if(r=w,s=Sn(r),Sp(Tn,n,De,i,r,s,e,!1)!==!1)return v(),n.insertBefore(De,w),Nn=n,_(),y(!0)}else if(r.parentNode===n){s=Sn(r);var T=0,x,A=De.parentNode!==n,O=!Pre(De.animated&&De.toRect||i,r.animated&&r.toRect||s,h),E=h?"top":"left",M=cA(r,"top","top")||cA(De,"top","top"),$=M?M.scrollTop:void 0;Gl!==r&&(x=s[E],Fd=!1,_p=!O&&a.invertSwap||A),T=$re(e,r,s,h,O?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,_p,Gl===r);var D;if(T!==0){var k=Ln(De);do k-=T,D=Nn.children[k];while(D&&(Xe(D,"display")==="none"||D===mt))}if(T===0||D===r)return y(!1);Gl=r,Ld=T;var N=r.nextElementSibling,R=!1;R=T===1;var B=Sp(Tn,n,De,i,r,s,e,R);if(B!==!1)return(B===1||B===-1)&&(R=B===1),Dw=!0,setTimeout(Rre,30),v(),R&&!N?n.appendChild(De):r.parentNode.insertBefore(De,R?N:r),M&&rL(M,0,$-M.scrollTop),Nn=De.parentNode,x!==void 0&&!_p&&(Xp=Math.abs(x-Sn(r)[E])),_(),y(!0)}if(n.contains(De))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_t(document,"mousemove",this._onTouchMove),_t(document,"touchmove",this._onTouchMove),_t(document,"pointermove",this._onTouchMove),_t(document,"dragover",Sa),_t(document,"mousemove",Sa),_t(document,"touchmove",Sa)},_offUpEvents:function(){var e=this.el.ownerDocument;_t(e,"mouseup",this._onDrop),_t(e,"touchend",this._onDrop),_t(e,"pointerup",this._onDrop),_t(e,"touchcancel",this._onDrop),_t(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(yi=Ln(De),Lo=Ln(De,r.draggable),ri("drop",this,{evt:e}),Nn=De&&De.parentNode,yi=Ln(De),Lo=Ln(De,r.draggable),ot.eventCanceled){this._nulling();return}iu=!1,_p=!1,Fd=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Rw(this.cloneId),Rw(this._dragStartId),this.nativeDraggable&&(_t(document,"drop",this),_t(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Nd&&Xe(document.body,"user-select",""),Xe(De,"transform",""),e&&(ud&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(Tn===Nn||br&&br.lastPutMode!=="clone")&&Mn&&Mn.parentNode&&Mn.parentNode.removeChild(Mn),De&&(this.nativeDraggable&&_t(De,"dragend",this),hb(De),De.style["will-change"]="",ud&&!iu&&An(De,br?br.options.ghostClass:this.options.ghostClass,!1),An(De,this.options.chosenClass,!1),Yr({sortable:this,name:"unchoose",toEl:Nn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Tn!==Nn?(yi>=0&&(Yr({rootEl:Nn,name:"add",toEl:Nn,fromEl:Tn,originalEvent:e}),Yr({sortable:this,name:"remove",toEl:Nn,originalEvent:e}),Yr({rootEl:Nn,name:"sort",toEl:Nn,fromEl:Tn,originalEvent:e}),Yr({sortable:this,name:"sort",toEl:Nn,originalEvent:e})),br&&br.save()):yi!==pu&&yi>=0&&(Yr({sortable:this,name:"update",toEl:Nn,originalEvent:e}),Yr({sortable:this,name:"sort",toEl:Nn,originalEvent:e})),ot.active&&((yi==null||yi===-1)&&(yi=pu,Lo=$d),Yr({sortable:this,name:"end",toEl:Nn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ri("nulling",this),Tn=De=Nn=mt=Aa=Mn=qp=Ho=Ta=Yi=ud=yi=Lo=pu=$d=Gl=Ld=br=wp=ot.dragged=ot.ghost=ot.clone=ot.active=null,lg.forEach(function(e){e.checked=!0}),lg.length=cb=db=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":De&&(this._onDragOver(e),Dre(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Zi(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||Fre(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Zi(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Zi(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=kh.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&oL(r)},destroy:function(){ri("destroy",this);var e=this.el;e[$r]=null,_t(e,"mousedown",this._onTapStart),_t(e,"touchstart",this._onTapStart),_t(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_t(e,"dragover",this),_t(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ag.splice(ag.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ho){if(ri("hideClone",this),ot.eventCanceled)return;Xe(Mn,"display","none"),this.options.removeCloneOnHide&&Mn.parentNode&&Mn.parentNode.removeChild(Mn),Ho=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ho){if(ri("showClone",this),ot.eventCanceled)return;De.parentNode==Tn&&!this.options.group.revertClone?Tn.insertBefore(Mn,De):Aa?Tn.insertBefore(Mn,Aa):Tn.appendChild(Mn),this.options.group.revertClone&&this.animate(De,Mn),Xe(Mn,"display",""),Ho=!1}}};function Dre(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Sp(t,e,n,r,i,s,o,a){var l,u=t[$r],c=u.options.onMove,d;return window.CustomEvent&&!vo&&!Ph?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||Sn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function hb(t){t.draggable=!1}function Rre(){Dw=!1}function Nre(t,e,n){var r=Sn(ac(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function Mre(t,e,n){var r=Sn(BT(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function $re(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(a&&Xp<u*i){if(!Fd&&(Ld===1?l>c+u*s/2:l<d-u*s/2)&&(Fd=!0),Fd)f=!0;else if(Ld===1?l<c+Xp:l>d-Xp)return-Ld}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return Lre(e)}return f=f||o,f&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function Lre(t){return Ln(De)<Ln(t)?1:-1}function Fre(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Ure(t){lg.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&lg.push(r)}}function Qp(t){return setTimeout(t,0)}function Rw(t){return clearTimeout(t)}Vv&&St(document,"touchmove",function(t){(ot.active||iu)&&t.cancelable&&t.preventDefault()});ot.utils={on:St,off:_t,css:Xe,find:tL,is:function(e,n){return!!Zi(e,n,e,!1)},extend:Tre,throttle:nL,closest:Zi,toggleClass:An,clone:jT,index:Ln,nextTick:Qp,cancelNextTick:Rw,detectDirection:sL,getChild:ac};ot.get=function(t){return t[$r]};ot.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ot.utils=Ls(Ls({},ot.utils),r.utils)),kh.mount(r)})};ot.create=function(t,e){return new ot(t,e)};ot.version=yre;var Gn=[],cd,Nw,Mw=!1,pb,mb,ug,dd;function Vre(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?St(document,"dragover",this._handleAutoScroll):this.options.supportPointer?St(document,"pointermove",this._handleFallbackAutoScroll):r.touches?St(document,"touchmove",this._handleFallbackAutoScroll):St(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?_t(document,"dragover",this._handleAutoScroll):(_t(document,"pointermove",this._handleFallbackAutoScroll),_t(document,"touchmove",this._handleFallbackAutoScroll),_t(document,"mousemove",this._handleFallbackAutoScroll)),gA(),Jp(),Sre()},nulling:function(){ug=Nw=cd=Mw=dd=pb=mb=null,Gn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(ug=n,r||this.options.forceAutoScrollFallback||Ph||vo||Nd){gb(n,this.options,a,r);var l=Wo(a,!0);Mw&&(!dd||s!==pb||o!==mb)&&(dd&&gA(),dd=setInterval(function(){var u=Wo(document.elementFromPoint(s,o),!0);u!==l&&(l=u,Jp()),gb(n,i.options,u,r)},10),pb=s,mb=o)}else{if(!this.options.bubbleScroll||Wo(a,!0)===Ds()){Jp();return}gb(n,this.options,Wo(a,!1),!1)}}},Hi(t,{pluginName:"scroll",initializeByDefault:!0})}function Jp(){Gn.forEach(function(t){clearInterval(t.pid)}),Gn=[]}function gA(){clearInterval(dd)}var gb=nL(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Ds(),u=!1,c;Nw!==n&&(Nw=n,Jp(),cd=e.scroll,c=e.scrollFn,cd===!0&&(cd=Wo(n,!0)));var d=0,f=cd;do{var h=f,p=Sn(h),m=p.top,g=p.bottom,v=p.left,y=p.right,_=p.width,b=p.height,w=void 0,T=void 0,x=h.scrollWidth,A=h.scrollHeight,O=Xe(h),E=h.scrollLeft,M=h.scrollTop;h===l?(w=_<x&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),T=b<A&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(w=_<x&&(O.overflowX==="auto"||O.overflowX==="scroll"),T=b<A&&(O.overflowY==="auto"||O.overflowY==="scroll"));var $=w&&(Math.abs(y-i)<=o&&E+_<x)-(Math.abs(v-i)<=o&&!!E),D=T&&(Math.abs(g-s)<=o&&M+b<A)-(Math.abs(m-s)<=o&&!!M);if(!Gn[d])for(var k=0;k<=d;k++)Gn[k]||(Gn[k]={});(Gn[d].vx!=$||Gn[d].vy!=D||Gn[d].el!==h)&&(Gn[d].el=h,Gn[d].vx=$,Gn[d].vy=D,clearInterval(Gn[d].pid),($!=0||D!=0)&&(u=!0,Gn[d].pid=setInterval((function(){r&&this.layer===0&&ot.active._onTouchMove(ug);var N=Gn[this.layer].vy?Gn[this.layer].vy*a:0,R=Gn[this.layer].vx?Gn[this.layer].vx*a:0;typeof c=="function"&&c.call(ot.dragged.parentNode[$r],R,N,t,ug,Gn[this.layer].el)!=="continue"||rL(Gn[this.layer].el,R,N)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=Wo(f,!1)));Mw=u}},30),uL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function HT(){}HT.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=ac(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:uL};Hi(HT,{pluginName:"revertOnSpill"});function WT(){}WT.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:uL};Hi(WT,{pluginName:"removeOnSpill"});var Mi;function Bre(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Mi=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Mi;s(i)!==!1?(An(i,c.swapClass,!0),Mi=i):Mi=null,d&&d!==Mi&&An(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Mi&&An(Mi,a.swapClass,!1),Mi&&(a.swap||i&&i.options.swap)&&s!==Mi&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),jre(s,Mi),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Mi=null}},Hi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Mi}}})}function jre(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Ln(t),s=Ln(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var ht=[],vi=[],Bc,qi,jc=!1,ii=!1,Yl=!1,ln,Hc,Ep;function Hre(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?St(document,"pointerup",this._deselectMultiDrag):(St(document,"mouseup",this._deselectMultiDrag),St(document,"touchend",this._deselectMultiDrag)),St(document,"keydown",this._checkKeyDown),St(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";ht.length&&qi===e?ht.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;ln=r},delayEnded:function(){this.isMultiDrag=~ht.indexOf(ln)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<ht.length;s++)vi.push(jT(ht[s])),vi[s].sortableIndex=ht[s].sortableIndex,vi[s].draggable=!1,vi[s].style["will-change"]="",An(vi[s],this.options.selectedClass,!1),ht[s]===ln&&An(vi[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ht.length&&qi===r&&(vA(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(vA(!1,i),vi.forEach(function(o){Xe(o,"display","")}),r(),Ep=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(vi.forEach(function(o){Xe(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Ep=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&qi&&qi.multiDrag._deselectMultiDrag(),ht.forEach(function(r){r.sortableIndex=Ln(r)}),ht=ht.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Yl=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){ht.forEach(function(o){o!==ln&&Xe(o,"position","absolute")});var s=Sn(ln,!1,!0,!0);ht.forEach(function(o){o!==ln&&fA(o,s)}),ii=!0,jc=!0}i.animateAll(function(){ii=!1,jc=!1,r.options.animation&&ht.forEach(function(o){lb(o)}),r.options.sort&&Ip()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;ii&&~ht.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;ht.length>1&&(ht.forEach(function(a){s.addAnimationState({target:a,rect:ii?Sn(a):o}),lb(a),a.fromRect=o,r.removeAnimationState(a)}),ii=!1,Wre(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),jc=!1,u.animation&&ht.length>1&&(ii||!i&&!o.options.sort&&!l)){var c=Sn(ln,!1,!0,!0);ht.forEach(function(f){f!==ln&&(fA(f,c),a.appendChild(f))}),ii=!0}if(!i)if(ii||Ip(),ht.length>1){var d=Ep;o._showClone(r),o.options.animation&&!Ep&&d&&vi.forEach(function(f){o.addAnimationState({target:f,rect:Hc}),f.fromRect=Hc,f.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(ht.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){Hc=Hi({},r);var o=Xa(ln,!0);Hc.top-=o.f,Hc.left-=o.e}},dragOverAnimationComplete:function(){ii&&(ii=!1,Ip())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,f=s.children;if(!Yl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),An(ln,d.selectedClass,!~ht.indexOf(ln)),~ht.indexOf(ln))ht.splice(ht.indexOf(ln),1),Bc=null,ld({sortable:o,rootEl:i,name:"deselect",targetEl:ln,originalEvt:r});else{if(ht.push(ln),ld({sortable:o,rootEl:i,name:"select",targetEl:ln,originalEvt:r}),r.shiftKey&&Bc&&o.el.contains(Bc)){var h=Ln(Bc),p=Ln(ln);if(~h&&~p&&h!==p){var m,g;for(p>h?(g=h,m=p):(g=p,m=h+1);g<m;g++)~ht.indexOf(f[g])||(An(f[g],d.selectedClass,!0),ht.push(f[g]),ld({sortable:o,rootEl:i,name:"select",targetEl:f[g],originalEvt:r}))}}else Bc=ln;qi=c}if(Yl&&this.isMultiDrag){if(ii=!1,(s[$r].options.sort||s!==i)&&ht.length>1){var v=Sn(ln),y=Ln(ln,":not(."+this.options.selectedClass+")");if(!jc&&d.animation&&(ln.thisAnimationDuration=null),c.captureAnimationState(),!jc&&(d.animation&&(ln.fromRect=v,ht.forEach(function(b){if(b.thisAnimationDuration=null,b!==ln){var w=ii?Sn(b):v;b.fromRect=w,c.addAnimationState({target:b,rect:w})}})),Ip(),ht.forEach(function(b){f[y]?s.insertBefore(b,f[y]):s.appendChild(b),y++}),l===Ln(ln))){var _=!1;ht.forEach(function(b){if(b.sortableIndex!==Ln(b)){_=!0;return}}),_&&a("update")}ht.forEach(function(b){lb(b)}),c.animateAll()}qi=c}(i===s||u&&u.lastPutMode!=="clone")&&vi.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=Yl=!1,vi.length=0},destroyGlobal:function(){this._deselectMultiDrag(),_t(document,"pointerup",this._deselectMultiDrag),_t(document,"mouseup",this._deselectMultiDrag),_t(document,"touchend",this._deselectMultiDrag),_t(document,"keydown",this._checkKeyDown),_t(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Yl<"u"&&Yl)&&qi===this.sortable&&!(n&&Zi(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;ht.length;){var r=ht[0];An(r,this.options.selectedClass,!1),ht.shift(),ld({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Hi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[$r];!r||!r.options.multiDrag||~ht.indexOf(n)||(qi&&qi!==r&&(qi.multiDrag._deselectMultiDrag(),qi=r),An(n,r.options.selectedClass,!0),ht.push(n))},deselect:function(n){var r=n.parentNode[$r],i=ht.indexOf(n);!r||!r.options.multiDrag||!~i||(An(n,r.options.selectedClass,!1),ht.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return ht.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;ii&&s!==ln?o=-1:ii?o=Ln(s,":not(."+n.options.selectedClass+")"):o=Ln(s),i.push({multiDragElement:s,index:o})}),{items:hre(ht),clones:[].concat(vi),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function Wre(t,e){ht.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function vA(t,e){vi.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Ip(){ht.forEach(function(t){t!==ln&&t.parentNode&&t.parentNode.removeChild(t)})}ot.mount(new Vre);ot.mount(WT,HT);const Kre=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Hre,Sortable:ot,Swap:Bre,default:ot},Symbol.toStringTag,{value:"Module"})),zre=Q$(Kre);(function(t,e){(function(r,i){t.exports=i(ure,zre)})(typeof self<"u"?self:are,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,f){return l.call(u,d,f)};case 3:return function(d,f,h){return l.call(u,d,f,h)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return l(f)}catch{return c.slice()}};i.exports.f=function(h){return c&&u.call(h)=="[object Window]"?d(h):l(a(h))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),f=o("5135"),h=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(g,v){if(g=c(g),v=d(v,!0),h)try{return p(g,v)}catch{}if(f(g,v))return u(!l.f.call(g,v),g[v])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),f=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!f},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var f=d.call(u,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var f=a[d],h=f&&f.prototype;if(h&&h.forEach!==u)try{c(h,"forEach",u)}catch{h.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(h){return a(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(f,h){if(!h&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},f(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var f=[],h=f.constructor={};return h[c]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var f=a(c);return f<0?l(f+d,0):u(f,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),f=o("e893"),h=o("94ca");i.exports=function(p,m){var g=p.target,v=p.global,y=p.stat,_,b,w,T,x,A;if(v?b=a:y?b=a[g]||d(g,{}):b=(a[g]||{}).prototype,b)for(w in m){if(x=m[w],p.noTargetGet?(A=l(b,w),T=A&&A.value):T=b[w],_=h(v?w:g+(y?".":"#")+w,p.forced),!_&&T!==void 0){if(typeof x==typeof T)continue;f(x,T)}(p.sham||T&&T.sham)&&u(x,"sham",!0),c(b,w,x,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",f=RegExp.prototype,h=f[d],p=u(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),m=h.name!=d;(p||m)&&a(RegExp.prototype,d,function(){var v=l(this),y=String(v.source),_=v.flags,b=String(_===void 0&&v instanceof RegExp&&!("flags"in f)?c.call(v):_);return"/"+y+"/"+b},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),f=o("ab13"),h=o("c430"),p="".startsWith,m=Math.min,g=f("startsWith"),v=!h&&!g&&!!function(){var y=l(String.prototype,"startsWith");return y&&!y.writable}();a({target:"String",proto:!0,forced:!v&&!g},{startsWith:function(_){var b=String(d(this));c(_);var w=u(m(arguments.length>1?arguments[1]:void 0,b.length)),T=String(_);return p?p.call(b,T,w):b.slice(w,w+T.length)===T}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,f,h;d?(f=d.split("."),h=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(h=f[1]))),i.exports=h&&+h},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(f,h){u(f);for(var p=c(h),m=p.length,g=0,v;m>g;)l.f(f,v=p[g++],h[v]);return f}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,f=l.getterFor(c);u(String,"String",function(h){d(this,{type:c,string:String(h),index:0})},function(){var p=f(this),m=p.string,g=p.index,v;return g>=m.length?{value:void 0,done:!0}:(v=a(m,g),p.index+=v.length,{value:v,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(f){d[c][f]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var f;return a(d)&&((f=d[c])!==void 0?!!f:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(f,h,p){var m=a(f),g=l(m.length),v=u(p,g),y;if(d&&h!=h){for(;g>v;)if(y=m[v++],y!=y)return!0}else for(;g>v;v++)if((d||v in m)&&m[v]===h)return d||v||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),f=c("filter");a({target:"Array",proto:!0,forced:!d||!f},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),f=o("8418"),h=o("35a1");i.exports=function(m){var g=l(m),v=typeof this=="function"?this:Array,y=arguments.length,_=y>1?arguments[1]:void 0,b=_!==void 0,w=h(g),T=0,x,A,O,E,M,$;if(b&&(_=a(_,y>2?arguments[2]:void 0,2)),w!=null&&!(v==Array&&c(w)))for(E=w.call(g),M=E.next,A=new v;!(O=M.call(E)).done;T++)$=b?u(E,_,[O.value,T],!0):O.value,f(A,T,$);else for(x=d(g.length),A=new v(x);x>T;T++)$=b?_(g[T],T):g[T],f(A,T,$);return A.length=T,A}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),f=o("1d80"),h=o("8aa5"),p=o("14c3"),m=Math.max,g=Math.min,v=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,b=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,T,x,A){var O=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=A.REPLACE_KEEPS_$0,M=O?"$":"$0";return[function(k,N){var R=f(this),B=k==null?void 0:k[w];return B!==void 0?B.call(k,R,N):T.call(String(R),k,N)},function(D,k){if(!O&&E||typeof k=="string"&&k.indexOf(M)===-1){var N=x(T,D,this,k);if(N.done)return N.value}var R=l(D),B=String(this),G=typeof k=="function";G||(k=String(k));var F=R.global;if(F){var I=R.unicode;R.lastIndex=0}for(var ee=[];;){var te=p(R,B);if(te===null||(ee.push(te),!F))break;var ge=String(te[0]);ge===""&&(R.lastIndex=h(B,c(R.lastIndex),I))}for(var ve="",ne=0,j=0;j<ee.length;j++){te=ee[j];for(var z=String(te[0]),ae=m(g(d(te.index),B.length),0),X=[],he=1;he<te.length;he++)X.push(b(te[he]));var be=te.groups;if(G){var oe=[z].concat(X,ae,B);be!==void 0&&oe.push(be);var C=String(k.apply(void 0,oe))}else C=$(z,B,ae,X,be,k);ae>=ne&&(ve+=B.slice(ne,ae)+C,ne=ae+z.length)}return ve+B.slice(ne)}];function $(D,k,N,R,B,G){var F=N+D.length,I=R.length,ee=_;return B!==void 0&&(B=u(B),ee=y),T.call(G,ee,function(te,ge){var ve;switch(ge.charAt(0)){case"$":return"$";case"&":return D;case"`":return k.slice(0,N);case"'":return k.slice(F);case"<":ve=B[ge.slice(1,-1)];break;default:var ne=+ge;if(ne===0)return te;if(ne>I){var j=v(ne/10);return j===0?te:j<=I?R[j-1]===void 0?ge.charAt(1):R[j-1]+ge.charAt(1):te}ve=R[ne-1]}return ve===void 0?"":ve})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(f){var h=l.f(c(f)),p=u.f;return p?h.concat(p(f)):h}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),f=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),g=c(m.length),v;return d(p),v=f(m,0),v.length=l(v,m,m,g,0,1,p,arguments.length>1?arguments[1]:void 0),v}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,f){var h=String(l(d)),p=a(f),m=h.length,g,v;return p<0||p>=m?c?"":void 0:(g=h.charCodeAt(p),g<55296||g>56319||p+1===m||(v=h.charCodeAt(p+1))<56320||v>57343?c?h.charAt(p):g:c?h.slice(p,p+2):(g-55296<<10)+(v-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,f){var h;return l(d)&&(h=d.constructor,typeof h=="function"&&(h===Array||l(h.prototype))?h=void 0:a(h)&&(h=h[c],h===null&&(h=void 0))),new(h===void 0?Array:h)(f===0?0:f)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),f=o("f772"),h=o("d012"),p=l.WeakMap,m,g,v,y=function(O){return v(O)?g(O):m(O,{})},_=function(O){return function(E){var M;if(!u(E)||(M=g(E)).type!==O)throw TypeError("Incompatible receiver, "+O+" required");return M}};if(a){var b=new p,w=b.get,T=b.has,x=b.set;m=function(O,E){return x.call(b,O,E),E},g=function(O){return w.call(b,O)||{}},v=function(O){return T.call(b,O)}}else{var A=f("state");h[A]=!0,m=function(O,E){return c(O,A,E),E},g=function(O){return d(O,A)?O[A]:{}},v=function(O){return d(O,A)}}i.exports={set:m,get:g,has:v,enforce:y,getterFor:_}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),f=o("69f3"),h=f.get,p=f.enforce,m=String(String).split("String");(i.exports=function(g,v,y,_){var b=_?!!_.unsafe:!1,w=_?!!_.enumerable:!1,T=_?!!_.noTargetGet:!1;if(typeof y=="function"&&(typeof v=="string"&&!u(y,"name")&&l(y,"name",v),p(y).source=m.join(typeof v=="string"?v:"")),g===a){w?g[v]=y:c(v,y);return}else b?!T&&g[v]&&(w=!0):delete g[v];w?g[v]=y:l(g,v,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(f){return function(h){for(var p=u(h),m=l(p),g=m.length,v=0,y=[],_;g>v;)_=m[v++],(!a||c.call(p,_))&&y.push(f?[_,p[_]]:p[_]);return y}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var f=a.Symbol||(a.Symbol={});l(f,d)||c(f,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),f=o("cc12"),h=o("f772"),p=">",m="<",g="prototype",v="script",y=h("IE_PROTO"),_=function(){},b=function(O){return m+v+p+O+m+"/"+v+p},w=function(O){O.write(b("")),O.close();var E=O.parentWindow.Object;return O=null,E},T=function(){var O=f("iframe"),E="java"+v+":",M;return O.style.display="none",d.appendChild(O),O.src=String(E),M=O.contentWindow.document,M.open(),M.write(b("document.F=Object")),M.close(),M.F},x,A=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch{}A=x?w(x):T();for(var O=u.length;O--;)delete A[g][u[O]];return A()};c[y]=!0,i.exports=Object.create||function(E,M){var $;return E!==null?(_[g]=a(E),$=new _,_[g]=null,$[y]=E):$=A(),M===void 0?$:l($,M)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),f=o("9112"),h=o("6eeb"),p=o("b622"),m=o("c430"),g=o("3f8c"),v=o("ae93"),y=v.IteratorPrototype,_=v.BUGGY_SAFARI_ITERATORS,b=p("iterator"),w="keys",T="values",x="entries",A=function(){return this};i.exports=function(O,E,M,$,D,k,N){l(M,E,$);var R=function(j){if(j===D&&ee)return ee;if(!_&&j in F)return F[j];switch(j){case w:return function(){return new M(this,j)};case T:return function(){return new M(this,j)};case x:return function(){return new M(this,j)}}return function(){return new M(this)}},B=E+" Iterator",G=!1,F=O.prototype,I=F[b]||F["@@iterator"]||D&&F[D],ee=!_&&I||R(D),te=E=="Array"&&F.entries||I,ge,ve,ne;if(te&&(ge=u(te.call(new O)),y!==Object.prototype&&ge.next&&(!m&&u(ge)!==y&&(c?c(ge,y):typeof ge[b]!="function"&&f(ge,b,A)),d(ge,B,!0,!0),m&&(g[B]=A))),D==T&&I&&I.name!==T&&(G=!0,ee=function(){return I.call(this)}),(!m||N)&&F[b]!==ee&&f(F,b,ee),g[E]=ee,D)if(ve={values:R(T),keys:k?ee:R(w),entries:R(x)},N)for(ne in ve)(_||G||!(ne in F))&&h(F,ne,ve[ne]);else a({target:E,proto:!0,forced:_||G},ve);return ve}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,f){var h=a(d);h in c?l.f(c,h,u(0,f)):c[h]=f}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(x){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(x.stack)||h.exec(x.stack),m=p&&p[1]||!1,g=p&&p[2]||!1,v=document.location.href.replace(document.location.hash,""),y,_,b,w=document.getElementsByTagName("script");m===v&&(y=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=y.replace(_,"$1").trim());for(var T=0;T<w.length;T++)if(w[T].readyState==="interactive"||w[T].src===m||m===v&&w[T].innerHTML&&w[T].innerHTML.trim()===b)return w[T];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,f){return l.f(c,d,u(1,f))}:function(c,d,f){return c[d]=f,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,f=function(){var g=/a/,v=/b*/g;return u.call(g,"a"),u.call(v,"a"),g.lastIndex!==0||v.lastIndex!==0}(),h=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=f||p||h;m&&(d=function(v){var y=this,_,b,w,T,x=h&&y.sticky,A=a.call(y),O=y.source,E=0,M=v;return x&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),M=String(v).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&v[y.lastIndex-1]!==`
`)&&(O="(?: "+O+")",M=" "+M,E++),b=new RegExp("^(?:"+O+")",A)),p&&(b=new RegExp("^"+O+"$(?!\\s)",A)),f&&(_=y.lastIndex),w=u.call(x?b:y,M),x?w?(w.input=w.input.slice(E),w[0]=w[0].slice(E),w.index=y.lastIndex,y.lastIndex+=w[0].length):y.lastIndex=0:f&&w&&(y.lastIndex=y.global?w.index+w[0].length:_),p&&w&&w.length>1&&c.call(w[0],b,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(w[T]=void 0)}),w}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,m){var g=d[c(p)];return g==h?!0:g==f?!1:typeof m=="function"?a(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},f=u.NATIVE="N",h=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),f=o("50c4"),h=o("8418"),p=o("65f0"),m=o("1dde"),g=o("b622"),v=o("2d00"),y=g("isConcatSpreadable"),_=9007199254740991,b="Maximum allowed index exceeded",w=v>=51||!l(function(){var O=[];return O[y]=!1,O.concat()[0]!==O}),T=m("concat"),x=function(O){if(!c(O))return!1;var E=O[y];return E!==void 0?!!E:u(O)},A=!w||!T;a({target:"Array",proto:!0,forced:A},{concat:function(E){var M=d(this),$=p(M,0),D=0,k,N,R,B,G;for(k=-1,R=arguments.length;k<R;k++)if(G=k===-1?M:arguments[k],x(G)){if(B=f(G.length),D+B>_)throw TypeError(b);for(N=0;N<B;N++,D++)N in G&&h($,D,G[N])}else{if(D>=_)throw TypeError(b);h($,D++,G)}return $.length=D,$}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(h){var f=l.return;throw f!==void 0&&a(f.call(l)),h}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(h,p,m){if(u(h),p=c(p,!0),u(m),l)try{return d(h,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(h[p]=m.value),h}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),f=function(){return this};i.exports=function(h,p,m){var g=p+" Iterator";return h.prototype=l(a,{next:u(1,m)}),c(h,g,!1,!0),d[g]=f,h}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,f,h,p,m,g,v,y){for(var _=m,b=0,w=v?u(v,y,3):!1,T;b<p;){if(b in h){if(T=w?w(h[b],b,f):h[b],g>0&&a(T))_=c(d,f,T,l(T.length),_,g-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[_]=T}_++}b++}return _};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),f=o("65f0"),h=o("8418"),p=o("1dde"),m=o("ae40"),g=p("splice"),v=m("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,_=Math.min,b=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!g||!v},{splice:function(x,A){var O=d(this),E=c(O.length),M=l(x,E),$=arguments.length,D,k,N,R,B,G;if($===0?D=k=0:$===1?(D=0,k=E-M):(D=$-2,k=_(y(u(A),0),E-M)),E+D-k>b)throw TypeError(w);for(N=f(O,k),R=0;R<k;R++)B=M+R,B in O&&h(N,R,O[B]);if(N.length=k,D<k){for(R=M;R<E-k;R++)B=R+k,G=R+D,B in O?O[G]=O[B]:delete O[G];for(R=E;R>E-k+D;R--)delete O[R-1]}else if(D>k)for(R=E-k;R>M;R--)B=R+k-1,G=R+D-1,B in O?O[G]=O[B]:delete O[G];for(R=0;R<D;R++)O[R+M]=arguments[R+2];return O.length=E-k+D,N}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),f=o("4930"),h=o("fdbf"),p=o("d039"),m=o("5135"),g=o("e8b5"),v=o("861d"),y=o("825a"),_=o("7b0b"),b=o("fc6a"),w=o("c04e"),T=o("5c6c"),x=o("7c73"),A=o("df75"),O=o("241c"),E=o("057f"),M=o("7418"),$=o("06cf"),D=o("9bf2"),k=o("d1e7"),N=o("9112"),R=o("6eeb"),B=o("5692"),G=o("f772"),F=o("d012"),I=o("90e3"),ee=o("b622"),te=o("e538"),ge=o("746f"),ve=o("d44e"),ne=o("69f3"),j=o("b727").forEach,z=G("hidden"),ae="Symbol",X="prototype",he=ee("toPrimitive"),be=ne.set,oe=ne.getterFor(ae),C=Object[X],L=l.Symbol,H=u("JSON","stringify"),le=$.f,ue=D.f,Se=E.f,Pe=k.f,we=B("symbols"),Ie=B("op-symbols"),ye=B("string-to-symbol-registry"),Re=B("symbol-to-string-registry"),Be=B("wks"),Ke=l.QObject,et=!Ke||!Ke[X]||!Ke[X].findChild,lt=d&&p(function(){return x(ue({},"a",{get:function(){return ue(this,"a",{value:7}).a}})).a!=7})?function(Ye,je,tt){var Ct=le(C,je);Ct&&delete C[je],ue(Ye,je,tt),Ct&&Ye!==C&&ue(C,je,Ct)}:ue,q=function(Ye,je){var tt=we[Ye]=x(L[X]);return be(tt,{type:ae,tag:Ye,description:je}),d||(tt.description=je),tt},V=h?function(Ye){return typeof Ye=="symbol"}:function(Ye){return Object(Ye)instanceof L},W=function(je,tt,Ct){je===C&&W(Ie,tt,Ct),y(je);var Nt=w(tt,!0);return y(Ct),m(we,Nt)?(Ct.enumerable?(m(je,z)&&je[z][Nt]&&(je[z][Nt]=!1),Ct=x(Ct,{enumerable:T(0,!1)})):(m(je,z)||ue(je,z,T(1,{})),je[z][Nt]=!0),lt(je,Nt,Ct)):ue(je,Nt,Ct)},Q=function(je,tt){y(je);var Ct=b(tt),Nt=A(Ct).concat(Ce(Ct));return j(Nt,function(ni){(!d||$e.call(Ct,ni))&&W(je,ni,Ct[ni])}),je},de=function(je,tt){return tt===void 0?x(je):Q(x(je),tt)},$e=function(je){var tt=w(je,!0),Ct=Pe.call(this,tt);return this===C&&m(we,tt)&&!m(Ie,tt)?!1:Ct||!m(this,tt)||!m(we,tt)||m(this,z)&&this[z][tt]?Ct:!0},Ge=function(je,tt){var Ct=b(je),Nt=w(tt,!0);if(!(Ct===C&&m(we,Nt)&&!m(Ie,Nt))){var ni=le(Ct,Nt);return ni&&m(we,Nt)&&!(m(Ct,z)&&Ct[z][Nt])&&(ni.enumerable=!0),ni}},me=function(je){var tt=Se(b(je)),Ct=[];return j(tt,function(Nt){!m(we,Nt)&&!m(F,Nt)&&Ct.push(Nt)}),Ct},Ce=function(je){var tt=je===C,Ct=Se(tt?Ie:b(je)),Nt=[];return j(Ct,function(ni){m(we,ni)&&(!tt||m(C,ni))&&Nt.push(we[ni])}),Nt};if(f||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor");var je=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),tt=I(je),Ct=function(Nt){this===C&&Ct.call(Ie,Nt),m(this,z)&&m(this[z],tt)&&(this[z][tt]=!1),lt(this,tt,T(1,Nt))};return d&&et&&lt(C,tt,{configurable:!0,set:Ct}),q(tt,je)},R(L[X],"toString",function(){return oe(this).tag}),R(L,"withoutSetter",function(Ye){return q(I(Ye),Ye)}),k.f=$e,D.f=W,$.f=Ge,O.f=E.f=me,M.f=Ce,te.f=function(Ye){return q(ee(Ye),Ye)},d&&(ue(L[X],"description",{configurable:!0,get:function(){return oe(this).description}}),c||R(C,"propertyIsEnumerable",$e,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:L}),j(A(Be),function(Ye){ge(Ye)}),a({target:ae,stat:!0,forced:!f},{for:function(Ye){var je=String(Ye);if(m(ye,je))return ye[je];var tt=L(je);return ye[je]=tt,Re[tt]=je,tt},keyFor:function(je){if(!V(je))throw TypeError(je+" is not a symbol");if(m(Re,je))return Re[je]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!d},{create:de,defineProperty:W,defineProperties:Q,getOwnPropertyDescriptor:Ge}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:me,getOwnPropertySymbols:Ce}),a({target:"Object",stat:!0,forced:p(function(){M.f(1)})},{getOwnPropertySymbols:function(je){return M.f(_(je))}}),H){var xe=!f||p(function(){var Ye=L();return H([Ye])!="[null]"||H({a:Ye})!="{}"||H(Object(Ye))!="{}"});a({target:"JSON",stat:!0,forced:xe},{stringify:function(je,tt,Ct){for(var Nt=[je],ni=1,qv;arguments.length>ni;)Nt.push(arguments[ni++]);if(qv=tt,!(!v(tt)&&je===void 0||V(je)))return g(tt)||(tt=function(p3,Mh){if(typeof qv=="function"&&(Mh=qv.call(this,p3,Mh)),!V(Mh))return Mh}),Nt[1]=tt,H.apply(null,Nt)}})}L[X][he]||N(L[X],he,L[X].valueOf),ve(L,ae),F[z]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},f=function(h){throw h};i.exports=function(h,p){if(u(d,h))return d[h];p||(p={});var m=[][h],g=u(p,"ACCESSORS")?p.ACCESSORS:!1,v=u(p,0)?p[0]:f,y=u(p,1)?p[1]:void 0;return d[h]=!!m&&!l(function(){if(g&&!a)return!0;var _={length:-1};g?c(_,1,{enumerable:!0,get:f}):_[1]=1,m.call(_,v,y)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),f=c("iterator"),h=!1,p=function(){return this},m,g,v;[].keys&&(v=[].keys(),"next"in v?(g=a(a(v)),g!==Object.prototype&&(m=g)):h=!0),m==null&&(m={}),!d&&!u(m,f)&&l(m,f,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:h}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,f="name";a&&!(f in u)&&l(u,f,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),f=o("fdbf"),h=l("wks"),p=a.Symbol,m=f?p:p&&p.withoutSetter||c;i.exports=function(g){return u(h,g)||(d&&u(p,g)?h[g]=p[g]:h[g]=m("Symbol."+g)),h[g]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(h){return u(l(h))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),f=[].push,h=function(p){var m=p==1,g=p==2,v=p==3,y=p==4,_=p==6,b=p==5||_;return function(w,T,x,A){for(var O=u(w),E=l(O),M=a(T,x,3),$=c(E.length),D=0,k=A||d,N=m?k(w,$):g?k(w,0):void 0,R,B;$>D;D++)if((b||D in E)&&(R=E[D],B=M(R,D,O),p)){if(m)N[D]=B;else if(B)switch(p){case 3:return!0;case 5:return R;case 6:return D;case 2:f.call(N,R)}else if(y)return!1}return _?-1:v||y?y:N}};i.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",f=!0,h=c(d);d in[]&&Array(1)[d](function(){f=!1}),a({target:"Array",proto:!0,forced:f||!h},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,h=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:f||!h||!p},{indexOf:function(g){return f?d.apply(this,arguments)||0:l(this,g,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,f){var h=l(d),p=0,m=[],g;for(g in h)!a(c,g)&&a(h,g)&&m.push(g);for(;f.length>p;)a(h,g=f[p++])&&(~u(m,g)||m.push(g));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var f=l(this,d);return!!f&&f.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(h,p){return a(h),l(p),u?d.call(h,p):h.__proto__=p,h}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,f,h){d&&!l(d=h?d:d.prototype,c)&&a(d,c,{configurable:!0,value:f})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(f){return function(h,p,m,g){a(p);var v=l(h),y=u(v),_=c(v.length),b=f?_-1:0,w=f?-1:1;if(m<2)for(;;){if(b in y){g=y[b],b+=w;break}if(b+=w,f?b<0:_<=b)throw TypeError("Reduce of empty array with no initial value")}for(;f?b>=0:_>b;b+=w)b in y&&(g=p(g,y[b],b,v));return g}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),f=u("species"),h=!l(function(){var y=/./;return y.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(y,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),g=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),v=!l(function(){var y=/(?:)/,_=y.exec;y.exec=function(){return _.apply(this,arguments)};var b="ab".split(y);return b.length!==2||b[0]!=="a"||b[1]!=="b"});i.exports=function(y,_,b,w){var T=u(y),x=!l(function(){var D={};return D[T]=function(){return 7},""[y](D)!=7}),A=x&&!l(function(){var D=!1,k=/a/;return y==="split"&&(k={},k.constructor={},k.constructor[f]=function(){return k},k.flags="",k[T]=/./[T]),k.exec=function(){return D=!0,null},k[T](""),!D});if(!x||!A||y==="replace"&&!(h&&p&&!g)||y==="split"&&!v){var O=/./[T],E=b(T,""[y],function(D,k,N,R,B){return k.exec===c?x&&!B?{done:!0,value:O.call(k,N,R)}:{done:!0,value:D.call(N,k,R)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),M=E[0],$=E[1];a(String.prototype,y,M),a(RegExp.prototype,T,_==2?function(D,k){return $.call(D,this,k)}:function(D){return $.call(D,this)})}w&&d(RegExp.prototype[T],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),f=c("map");a({target:"Array",proto:!0,forced:!d||!f},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),f=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),g=d.f,v=u(m),y={},_=0,b,w;v.length>_;)w=g(m,b=v[_++]),w!==void 0&&f(y,b,w);return y}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),f=d("iterator"),h=d("toStringTag"),p=u.values;for(var m in l){var g=a[m],v=g&&g.prototype;if(v){if(v[f]!==p)try{c(v,f,p)}catch{v[f]=p}if(v[h]||c(v,h,m),l[m]){for(var y in u)if(v[y]!==u[y])try{c(v,y,u[y])}catch{v[y]=u[y]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),f=o("9bf2").f,h=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},g=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof g?new p(T):T===void 0?p():p(T);return T===""&&(m[x]=!0),x};h(g,p);var v=g.prototype=p.prototype;v.constructor=g;var y=v.toString,_=String(p("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/;f(v,"description",{configurable:!0,get:function(){var T=d(this)?this.valueOf():this,x=y.call(T);if(c(m,T))return"";var A=_?x.slice(7,-1):x.replace(b,"$1");return A===""?void 0:A}}),a({global:!0,forced:!0},{Symbol:g})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),f=Object.prototype;i.exports=c?Object.getPrototypeOf:function(h){return h=l(h),a(h,d)?h[d]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?f:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),f="Array Iterator",h=c.set,p=c.getterFor(f);i.exports=d(Array,"Array",function(m,g){h(this,{type:f,target:a(m),index:0,kind:g})},function(){var m=p(this),g=m.target,v=m.kind,y=m.index++;return!g||y>=g.length?(m.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:y,done:!1}:v=="values"?{value:g[y],done:!1}:{value:[y,g[y]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),f=l(function(){c(1)}),h=!d||f;a({target:"Object",stat:!0,forced:h,sham:!d},{getOwnPropertyDescriptor:function(m,g){return c(u(m),g)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,f){for(var h=l(f),p=c.f,m=u.f,g=0;g<h.length;g++){var v=h[g];a(d,v)||p(d,v,m(f,v))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",f=function(h,p){try{return h[p]}catch{}};i.exports=a?l:function(h){var p,m,g;return h===void 0?"Undefined":h===null?"Null":typeof(m=f(p=Object(h),c))=="string"?m:d?l(p):(g=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":g}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(V,W,Q){return W in V?Object.defineProperty(V,W,{value:Q,enumerable:!0,configurable:!0,writable:!0}):V[W]=Q,V}function d(V,W){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(V);W&&(de=de.filter(function($e){return Object.getOwnPropertyDescriptor(V,$e).enumerable})),Q.push.apply(Q,de)}return Q}function f(V){for(var W=1;W<arguments.length;W++){var Q=arguments[W]!=null?arguments[W]:{};W%2?d(Object(Q),!0).forEach(function(de){c(V,de,Q[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):d(Object(Q)).forEach(function(de){Object.defineProperty(V,de,Object.getOwnPropertyDescriptor(Q,de))})}return V}function h(V){if(Array.isArray(V))return V}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(V,W){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(V)))){var Q=[],de=!0,$e=!1,Ge=void 0;try{for(var me=V[Symbol.iterator](),Ce;!(de=(Ce=me.next()).done)&&(Q.push(Ce.value),!(W&&Q.length===W));de=!0);}catch(xe){$e=!0,Ge=xe}finally{try{!de&&me.return!=null&&me.return()}finally{if($e)throw Ge}}return Q}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(V,W){(W==null||W>V.length)&&(W=V.length);for(var Q=0,de=new Array(W);Q<W;Q++)de[Q]=V[Q];return de}function g(V,W){if(V){if(typeof V=="string")return m(V,W);var Q=Object.prototype.toString.call(V).slice(8,-1);if(Q==="Object"&&V.constructor&&(Q=V.constructor.name),Q==="Map"||Q==="Set")return Array.from(V);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return m(V,W)}}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(V,W){return h(V)||p(V,W)||g(V,W)||v()}function _(V){if(Array.isArray(V))return m(V)}function b(V){if(typeof Symbol<"u"&&Symbol.iterator in Object(V))return Array.from(V)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(V){return _(V)||b(V)||g(V)||w()}var x=o("a352"),A=o.n(x);function O(V){V.parentElement!==null&&V.parentElement.removeChild(V)}function E(V,W,Q){var de=Q===0?V.children[0]:V.children[Q-1].nextSibling;V.insertBefore(W,de)}var M=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function $(V){var W=Object.create(null);return function(de){var $e=W[de];return $e||(W[de]=V(de))}}var D=/-(\w)/g,k=$(function(V){return V.replace(D,function(W,Q){return Q.toUpperCase()})});o("5db7"),o("73d9");var N=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],B=["Move"],G=[B,N,R].flatMap(function(V){return V}).map(function(V){return"on".concat(V)}),F={manage:B,manageAndEmit:N,emit:R};function I(V){return G.indexOf(V)!==-1}o("caad"),o("2ca0");var ee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function te(V){return ee.includes(V)}function ge(V){return["transition-group","TransitionGroup"].includes(V)}function ve(V){return["id","class","role","style"].includes(V)||V.startsWith("data-")||V.startsWith("aria-")||V.startsWith("on")}function ne(V){return V.reduce(function(W,Q){var de=y(Q,2),$e=de[0],Ge=de[1];return W[$e]=Ge,W},{})}function j(V){var W=V.$attrs,Q=V.componentData,de=Q===void 0?{}:Q,$e=ne(Object.entries(W).filter(function(Ge){var me=y(Ge,2),Ce=me[0];return me[1],ve(Ce)}));return f(f({},$e),de)}function z(V){var W=V.$attrs,Q=V.callBackBuilder,de=ne(ae(W));Object.entries(Q).forEach(function(Ge){var me=y(Ge,2),Ce=me[0],xe=me[1];F[Ce].forEach(function(Ye){de["on".concat(Ye)]=xe(Ye)})});var $e="[data-draggable]".concat(de.draggable||"");return f(f({},de),{},{draggable:$e})}function ae(V){return Object.entries(V).filter(function(W){var Q=y(W,2),de=Q[0];return Q[1],!ve(de)}).map(function(W){var Q=y(W,2),de=Q[0],$e=Q[1];return[k(de),$e]}).filter(function(W){var Q=y(W,2),de=Q[0];return Q[1],!I(de)})}o("c740");function X(V,W){if(!(V instanceof W))throw new TypeError("Cannot call a class as a function")}function he(V,W){for(var Q=0;Q<W.length;Q++){var de=W[Q];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(V,de.key,de)}}function be(V,W,Q){return W&&he(V.prototype,W),Q&&he(V,Q),V}var oe=function(W){var Q=W.el;return Q},C=function(W,Q){return W.__draggable_context=Q},L=function(W){return W.__draggable_context},H=function(){function V(W){var Q=W.nodes,de=Q.header,$e=Q.default,Ge=Q.footer,me=W.root,Ce=W.realList;X(this,V),this.defaultNodes=$e,this.children=[].concat(T(de),T($e),T(Ge)),this.externalComponent=me.externalComponent,this.rootTransition=me.transition,this.tag=me.tag,this.realList=Ce}return be(V,[{key:"render",value:function(Q,de){var $e=this.tag,Ge=this.children,me=this._isRootComponent,Ce=me?{default:function(){return Ge}}:Ge;return Q($e,de,Ce)}},{key:"updated",value:function(){var Q=this.defaultNodes,de=this.realList;Q.forEach(function($e,Ge){C(oe($e),{element:de[Ge],index:Ge})})}},{key:"getUnderlyingVm",value:function(Q){return L(Q)}},{key:"getVmIndexFromDomIndex",value:function(Q,de){var $e=this.defaultNodes,Ge=$e.length,me=de.children,Ce=me.item(Q);if(Ce===null)return Ge;var xe=L(Ce);if(xe)return xe.index;if(Ge===0)return 0;var Ye=oe($e[0]),je=T(me).findIndex(function(tt){return tt===Ye});return Q<je?0:Ge}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),V}(),le=o("8bbf");function ue(V,W){var Q=V[W];return Q?Q():[]}function Se(V){var W=V.$slots,Q=V.realList,de=V.getKey,$e=Q||[],Ge=["header","footer"].map(function(tt){return ue(W,tt)}),me=y(Ge,2),Ce=me[0],xe=me[1],Ye=W.item;if(!Ye)throw new Error("draggable element must have an item slot");var je=$e.flatMap(function(tt,Ct){return Ye({element:tt,index:Ct}).map(function(Nt){return Nt.key=de(tt),Nt.props=f(f({},Nt.props||{}),{},{"data-draggable":!0}),Nt})});if(je.length!==$e.length)throw new Error("Item slot must have only one child");return{header:Ce,footer:xe,default:je}}function Pe(V){var W=ge(V),Q=!te(V)&&!W;return{transition:W,externalComponent:Q,tag:Q?Object(le.resolveComponent)(V):W?le.TransitionGroup:V}}function we(V){var W=V.$slots,Q=V.tag,de=V.realList,$e=V.getKey,Ge=Se({$slots:W,realList:de,getKey:$e}),me=Pe(Q);return new H({nodes:Ge,root:me,realList:de})}function Ie(V,W){var Q=this;Object(le.nextTick)(function(){return Q.$emit(V.toLowerCase(),W)})}function ye(V){var W=this;return function(Q,de){if(W.realList!==null)return W["onDrag".concat(V)](Q,de)}}function Re(V){var W=this,Q=ye.call(this,V);return function(de,$e){Q.call(W,de,$e),Ie.call(W,V,de)}}var Be=null,Ke={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(W){return W}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},et=["update:modelValue","change"].concat(T([].concat(T(F.manageAndEmit),T(F.emit)).map(function(V){return V.toLowerCase()}))),lt=Object(le.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ke,emits:et,data:function(){return{error:!1}},render:function(){try{this.error=!1;var W=this.$slots,Q=this.$attrs,de=this.tag,$e=this.componentData,Ge=this.realList,me=this.getKey,Ce=we({$slots:W,tag:de,realList:Ge,getKey:me});this.componentStructure=Ce;var xe=j({$attrs:Q,componentData:$e});return Ce.render(le.h,xe)}catch(Ye){return this.error=!0,Object(le.h)("pre",{style:{color:"red"}},Ye.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var W=this;if(!this.error){var Q=this.$attrs,de=this.$el,$e=this.componentStructure;$e.updated();var Ge=z({$attrs:Q,callBackBuilder:{manageAndEmit:function(xe){return Re.call(W,xe)},emit:function(xe){return Ie.bind(W,xe)},manage:function(xe){return ye.call(W,xe)}}}),me=de.nodeType===1?de:de.parentElement;this._sortable=new A.a(me,Ge),this.targetDomElement=me,me.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var W=this.list;return W||this.modelValue},getKey:function(){var W=this.itemKey;return typeof W=="function"?W:function(Q){return Q[W]}}},watch:{$attrs:{handler:function(W){var Q=this._sortable;Q&&ae(W).forEach(function(de){var $e=y(de,2),Ge=$e[0],me=$e[1];Q.option(Ge,me)})},deep:!0}},methods:{getUnderlyingVm:function(W){return this.componentStructure.getUnderlyingVm(W)||null},getUnderlyingPotencialDraggableComponent:function(W){return W.__draggable_component__},emitChanges:function(W){var Q=this;Object(le.nextTick)(function(){return Q.$emit("change",W)})},alterList:function(W){if(this.list){W(this.list);return}var Q=T(this.modelValue);W(Q),this.$emit("update:modelValue",Q)},spliceList:function(){var W=arguments,Q=function($e){return $e.splice.apply($e,T(W))};this.alterList(Q)},updatePosition:function(W,Q){var de=function(Ge){return Ge.splice(Q,0,Ge.splice(W,1)[0])};this.alterList(de)},getRelatedContextFromMoveEvent:function(W){var Q=W.to,de=W.related,$e=this.getUnderlyingPotencialDraggableComponent(Q);if(!$e)return{component:$e};var Ge=$e.realList,me={list:Ge,component:$e};if(Q!==de&&Ge){var Ce=$e.getUnderlyingVm(de)||{};return f(f({},Ce),me)}return me},getVmIndexFromDomIndex:function(W){return this.componentStructure.getVmIndexFromDomIndex(W,this.targetDomElement)},onDragStart:function(W){this.context=this.getUnderlyingVm(W.item),W.item._underlying_vm_=this.clone(this.context.element),Be=W.item},onDragAdd:function(W){var Q=W.item._underlying_vm_;if(Q!==void 0){O(W.item);var de=this.getVmIndexFromDomIndex(W.newIndex);this.spliceList(de,0,Q);var $e={element:Q,newIndex:de};this.emitChanges({added:$e})}},onDragRemove:function(W){if(E(this.$el,W.item,W.oldIndex),W.pullMode==="clone"){O(W.clone);return}var Q=this.context,de=Q.index,$e=Q.element;this.spliceList(de,1);var Ge={element:$e,oldIndex:de};this.emitChanges({removed:Ge})},onDragUpdate:function(W){O(W.item),E(W.from,W.item,W.oldIndex);var Q=this.context.index,de=this.getVmIndexFromDomIndex(W.newIndex);this.updatePosition(Q,de);var $e={element:this.context.element,oldIndex:Q,newIndex:de};this.emitChanges({moved:$e})},computeFutureIndex:function(W,Q){if(!W.element)return 0;var de=T(Q.to.children).filter(function(Ce){return Ce.style.display!=="none"}),$e=de.indexOf(Q.related),Ge=W.component.getVmIndexFromDomIndex($e),me=de.indexOf(Be)!==-1;return me||!Q.willInsertAfter?Ge:Ge+1},onDragMove:function(W,Q){var de=this.move,$e=this.realList;if(!de||!$e)return!0;var Ge=this.getRelatedContextFromMoveEvent(W),me=this.computeFutureIndex(Ge,W),Ce=f(f({},this.context),{},{futureIndex:me}),xe=f(f({},W),{},{relatedContext:Ge,draggedContext:Ce});return de(xe,Q)},onDragEnd:function(){Be=null}}}),q=lt;s.default=q},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),f=o("fc6a"),h=o("8418"),p=o("b622"),m=o("1dde"),g=o("ae40"),v=m("slice"),y=g("slice",{ACCESSORS:!0,0:0,1:2}),_=p("species"),b=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!v||!y},{slice:function(x,A){var O=f(this),E=d(O.length),M=c(x,E),$=c(A===void 0?E:A,E),D,k,N;if(u(O)&&(D=O.constructor,typeof D=="function"&&(D===Array||u(D.prototype))?D=void 0:l(D)&&(D=D[_],D===null&&(D=void 0)),D===Array||D===void 0))return b.call(O,M,$);for(k=new(D===void 0?Array:D)(w($-M,0)),N=0;M<$;M++,N++)M in O&&h(k,N,O[M]);return k.length=N,k}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(J$);var Gre=J$.exports;const cL=lre(Gre),Yre={key:0,class:"mb-5 p-4 border-y"},qre={class:"flex"},Xre=Ae({__name:"StringListField",props:{name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(""),s=J({get:()=>r.modelValue,set:d=>{u("update:modelValue",d),i.value=""}}),o=d=>{if(d.moved){const{oldIndex:f,newIndex:h}=d.moved,p=[...s.value];if(p.length===2)s.value=[p[1],p[0]];else{const m=p.splice(f,1)[0];p.splice(h,0,m),s.value=p}}},a=()=>{i.value.length&&(s.value=[...s.value,i.value])},l=d=>{s.value.splice(d,1)},u=n;return e({test:()=>{}}),(d,f)=>(S(),U("div",null,[Z(pr,{id:d.name,name:d.name,label:d.label,modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h),max:200,placeholder:d.placeholder,onKeydown:f[1]||(f[1]=ct(h=>a(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),s.value.length?(S(),U("div",Yre,[Z(P(cL),{modelValue:s.value,itemKey:"index",onChange:o},{item:ce(({element:h,index:p})=>[K("div",qre,[Z(pr,{class:"w-full",id:`${d.name}.${p}`,name:d.name,"model-value":h,max:200,"delete-button":"","onUpdate:modelValue":m=>s.value[p]=m.toString(),"onUpdate:delete":m=>l(p)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):Y("",!0)]))}});var Qre={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Ee.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Ee.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},Jre=or.extend({name:"badge",classes:Qre}),Zre={name:"BaseBadge",extends:ti,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:Jre,provide:function(){return{$parentInstance:this}}},dL={name:"Badge",extends:Zre,inheritAttrs:!1};function eie(t,e,n,r,i,s){return S(),U("span",se({class:t.cx("root")},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[Qe(Le(t.value),1)]})],16)}dL.render=eie;var xh={name:"SpinnerIcon",extends:ga},tie=K("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),nie=[tie];function rie(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),nie,16)}xh.render=rie;function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Eo(t,e,n){return e=iie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=sie(t,"string");return Df(e)=="symbol"?e:String(e)}function sie(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oie={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",Eo(Eo(Eo(Eo(Eo(Eo(Eo(Eo({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},aie=or.extend({name:"button",classes:oie}),lie={name:"BaseButton",extends:ti,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:aie,provide:function(){return{$parentInstance:this}}},fL={name:"Button",extends:lie,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:xh,Badge:dL},directives:{ripple:Nv}},uie=["aria-label","disabled","data-p-severity"];function cie(t,e,n,r,i,s){var o=En("SpinnerIcon"),a=En("Badge"),l=qf("ripple");return Ci((S(),U("button",se({class:t.cx("root"),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},s.getPTOptions("root"),{"data-p-severity":t.severity}),[fe(t.$slots,"default",{},function(){return[t.loading?fe(t.$slots,"loadingicon",{key:0,class:ke([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(S(),U("span",se({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(S(),ie(o,se({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"icon",{key:1,class:ke([t.cx("icon")])},function(){return[t.icon?(S(),U("span",se({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):Y("",!0)]}),K("span",se({class:t.cx("label")},t.ptm("label")),Le(t.label||" "),17),t.badge?(S(),ie(a,se({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):Y("",!0)]})],16,uie)),[[l]])}fL.render=cie;var die={},fie=Mt.extend({style:die});function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hie(t,e,n){return e=pie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=mie(t,"string");return Rf(e)=="symbol"?e:String(e)}function mie(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gie=fie.extend("focustrap",{mounted:function(e,n){var r=n.value||{},i=r.disabled;i||(this.createHiddenFocusableElements(e,n),this.bind(e,n),this.autoElementFocus(e,n)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,n){var r=n.value||{},i=r.disabled;i&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,n){var r=this,i=n.value||{},s=i.onFocusIn,o=i.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function c(d){var f=Oe.isFocusableElement(d)?Oe.isFocusableElement(d,r.getComputedSelector(e.$_pfocustrap_focusableselector))?d:Oe.getFirstFocusableElement(e,r.getComputedSelector(e.$_pfocustrap_focusableselector)):Oe.getFirstFocusableElement(d);return Ee.isNotEmpty(f)?f:d.nextSibling&&c(d.nextSibling)};Oe.focus(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return s&&s(a)},e.$_pfocustrap_focusoutlistener=function(a){return o&&o(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:bA(bA({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,n){var r=n.value||{},i=r.autoFocusSelector,s=i===void 0?"":i,o=r.firstFocusableSelector,a=o===void 0?"":o,l=r.autoFocus,u=l===void 0?!1:l,c=Oe.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(s)));u&&!c&&(c=Oe.getFirstFocusableElement(e,this.getComputedSelector(a))),Oe.focus(c)},onFirstHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_lasthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?Oe.getFirstFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_lasthiddenfocusableelement;Oe.focus(s)},onLastHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_firsthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?Oe.getLastFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_firsthiddenfocusableelement;Oe.focus(s)},createHiddenFocusableElements:function(e,n){var r=this,i=n.value||{},s=i.tabIndex,o=s===void 0?0:s,a=i.firstFocusableSelector,l=a===void 0?"":a,u=i.lastFocusableSelector,c=u===void 0?"":u,d=function(m){return Oe.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:o,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:m==null?void 0:m.bind(r)})},f=d(this.onFirstHiddenElementFocus),h=d(this.onLastHiddenElementFocus);f.$_pfocustrap_lasthiddenfocusableelement=h,f.$_pfocustrap_focusableselector=l,f.setAttribute("data-pc-section","firstfocusableelement"),h.$_pfocustrap_firsthiddenfocusableelement=f,h.$_pfocustrap_focusableselector=c,h.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(f),e.append(h)}}}),Bv={name:"TimesIcon",extends:ga},vie=K("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),yie=[vie];function bie(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),yie,16)}Bv.render=bie;var wie={root:function(e){var n=e.props;return["p-inplace p-component",{"p-inplace-closable":n.closable}]},display:function(e){var n=e.props;return["p-inplace-display",{"p-disabled":n.disabled}]},content:"p-inplace-content"},_ie=or.extend({name:"inplace",classes:wie}),Tie={name:"BaseInplace",extends:ti,props:{closable:{type:Boolean,default:!1},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeIcon:{type:String,default:void 0},displayProps:{type:null,default:null},closeButtonProps:{type:null,default:null}},style:_ie,provide:function(){return{$parentInstance:this}}},hL={name:"Inplace",extends:Tie,inheritAttrs:!1,emits:["open","close","update:active"],data:function(){return{d_active:this.active}},watch:{active:function(e){this.d_active=e}},methods:{open:function(e){this.disabled||(this.$emit("open",e),this.d_active=!0,this.$emit("update:active",!0))},close:function(e){var n=this;this.$emit("close",e),this.d_active=!1,this.$emit("update:active",!1),setTimeout(function(){n.$refs.display.focus()},0)}},computed:{closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{IPButton:fL,TimesIcon:Bv},directives:{focustrap:gie}};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function wA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wA(Object(n),!0).forEach(function(r){Sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sie(t,e,n){return e=Eie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eie(t){var e=Iie(t,"string");return Nf(e)=="symbol"?e:String(e)}function Iie(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cie=["tabindex"];function Oie(t,e,n,r,i,s){var o=En("IPButton"),a=qf("focustrap");return Ci((S(),U("div",se({class:t.cx("root"),"aria-live":"polite"},t.ptmi("root")),[i.d_active?(S(),U("div",se({key:1,class:t.cx("content")},t.ptm("content")),[fe(t.$slots,"content"),t.closable?(S(),ie(o,se({key:0,"aria-label":s.closeAriaLabel,onClick:s.close,unstyled:t.unstyled,pt:t.ptm("closeButton")},t.closeButtonProps),{icon:ce(function(){return[fe(t.$slots,"closeicon",{},function(){return[(S(),ie(gn(t.closeIcon?"span":"TimesIcon"),se({class:t.closeIcon},t.ptm("closeButton").icon,{"data-pc-section":"closebuttonicon"}),null,16,["class"]))]})]}),_:3},16,["aria-label","onClick","unstyled","pt"])):Y("",!0)],16)):(S(),U("div",se({key:0,ref:"display",class:t.cx("display"),tabindex:t.$attrs.tabindex||"0",role:"button",onClick:e[0]||(e[0]=function(){return s.open&&s.open.apply(s,arguments)}),onKeydown:e[1]||(e[1]=ct(function(){return s.open&&s.open.apply(s,arguments)},["enter"]))},_A(_A({},t.displayProps),t.ptm("display"))),[fe(t.$slots,"display")],16,Cie))],16)),[[a]])}hL.render=Oie;const Aie={class:"mt-5"},Pie={class:"px-5"},kie={class:"flex justify-center"},xie={class:"mt-3 flex justify-evenly font-bold"},Die=Ae({__name:"BlogPostContentSectionDialogSection",props:{selected:{},selectedBlogPost:{},index:{},isOpen:{type:Boolean}},emits:["update:selected","error","delete"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=re(),o=re(),a=re(),l=re(),u=re(),c=re(),d=re(),f=re(),h=()=>({selected:{title:{value:r.selected.title,error:""},subTitle:{value:r.selected.subTitle,error:""},description:{value:r.selected.description,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},alignment:{value:r.selected.alignment,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},bullets:{value:r.selected.bullets,error:""}}}),p=Dn(h()),m=async()=>{var g,v,y,_,b,w,T,x;await Promise.all([(g=s.value)==null?void 0:g.test(),(v=o.value)==null?void 0:v.test(),(y=a.value)==null?void 0:y.test(),(_=u.value)==null?void 0:_.test(),(b=l.value)==null?void 0:b.test(),(w=c.value)==null?void 0:w.test(),(T=d.value)==null?void 0:T.test(),(x=f.value)==null?void 0:x.test()]),i("error",yh(p.selected))};return It(()=>r.selectedBlogPost,()=>{p.selected=h().selected}),It(()=>p.selected,()=>{i("update:selected",{title:p.selected.title.value,subTitle:p.selected.subTitle.value,description:p.selected.description.value,alignment:p.selected.alignment.value,coverImageUrl:p.selected.coverImageUrl.value,countdown:p.selected.countdown.value,timer:p.selected.timer.value,bullets:p.selected.bullets.value})},{deep:!0}),e({test:m}),(g,v)=>(S(),U("div",Aie,[g.isOpen?(S(),ie(P(Ah),{key:0},{default:ce(()=>[Z(P(Jo),{header:`Section ${g.index+1}`,pt:{toggleableContent:{class:"background-secondary rounded-t-md rounded-b-xl"}}},{default:ce(()=>[K("div",Pie,[Z(pr,{class:"mt-0 pt-5",ref_key:"title",ref:s,id:g.index,name:"title",label:"Section Title",modelValue:p.selected.title.value,"onUpdate:modelValue":v[0]||(v[0]=y=>p.selected.title.value=y),error:p.selected.title.error,"onUpdate:error":v[1]||(v[1]=y=>p.selected.title.error=y),max:50},null,8,["id","modelValue","error"]),Z(pr,{ref_key:"subTitle",ref:o,id:g.index,name:"subTitle",label:"Section Subtitle",modelValue:p.selected.subTitle.value,"onUpdate:modelValue":v[2]||(v[2]=y=>p.selected.subTitle.value=y),error:p.selected.subTitle.error,"onUpdate:error":v[3]||(v[3]=y=>p.selected.subTitle.error=y),max:200},null,8,["id","modelValue","error"]),Z(pr,{ref_key:"description",ref:a,id:g.index,name:"description",label:"Section Description",modelValue:p.selected.description.value,"onUpdate:modelValue":v[4]||(v[4]=y=>p.selected.description.value=y),error:p.selected.description.error,"onUpdate:error":v[5]||(v[5]=y=>p.selected.description.error=y),max:300,"input-props":{type:"textarea",rows:p.selected.description.value.split(`
`).length<=5?p.selected.description.value.split(`
`).length:5}},null,8,["id","modelValue","error","input-props"]),K("div",kie,[g.isOpen?(S(),ie(P(hL),{key:0},{display:ce(()=>[Qe(" Other options ")]),content:ce(()=>[Z(Dr,{ref_key:"alignment",ref:l,id:g.index,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":v[6]||(v[6]=y=>p.selected.alignment.value=y),error:p.selected.alignment.error,"onUpdate:error":v[7]||(v[7]=y=>p.selected.alignment.error=y),options:P(w$),rules:[P(xt).Required]},null,8,["id","modelValue","error","options","rules"]),Z(VT,{ref_key:"coverImageUrl",ref:u,id:g.index,name:"coverImageUrl",label:"Cover image",modelValue:p.selected.coverImageUrl.value,"onUpdate:modelValue":v[8]||(v[8]=y=>p.selected.coverImageUrl.value=y),error:p.selected.coverImageUrl.error,"onUpdate:error":v[9]||(v[9]=y=>p.selected.coverImageUrl.error=y)},null,8,["id","modelValue","error"]),Z(ig,{ref_key:"countdown",ref:c,id:g.index,name:"countdown",label:"Countdown",modelValue:p.selected.countdown.value,"onUpdate:modelValue":v[10]||(v[10]=y=>p.selected.countdown.value=y),error:p.selected.countdown.error,"onUpdate:error":v[11]||(v[11]=y=>p.selected.countdown.error=y)},null,8,["id","modelValue","error"]),Z(ig,{ref_key:"timer",ref:d,id:g.index,name:"timer",label:"Timer",modelValue:p.selected.timer.value,"onUpdate:modelValue":v[12]||(v[12]=y=>p.selected.timer.value=y),error:p.selected.timer.error,"onUpdate:error":v[13]||(v[13]=y=>p.selected.timer.error=y)},null,8,["id","modelValue","error"]),Z(Xre,{ref_key:"bullets",ref:f,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:p.selected.bullets.value,"onUpdate:modelValue":v[14]||(v[14]=y=>p.selected.bullets.value=y)},null,8,["modelValue"])]),_:1})):Y("",!0)]),K("div",xie,[Z(Ut,{class:"w-1/2",type:"danger",outlined:"",onClick:v[15]||(v[15]=y=>g.$emit("delete"))},{default:ce(()=>[Qe(" Delete ")]),_:1})])])]),_:1},8,["header"])]),_:1})):Y("",!0)]))}}),Rie={class:"mt-3 flex justify-center"},Nie=Ae({__name:"BlogPostContentDialogSection",props:{selected:{},selectedBlogPost:{},isOpen:{type:Boolean}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=re(),o=re(),a=re(),l=re(),u=re(),c=re(),d=re([]),f=()=>({selected:{title:{value:r.selected.title,error:""},description:{value:r.selected.description,error:""},descriptionFooter:{value:r.selected.descriptionFooter,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},sections:{value:r.selected.sections.map(_=>({id:rg(),..._})),error:[]}}}),h=Dn(f()),p=()=>{h.selected.sections.value.push({id:rg(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,bullets:[]})},m=(_,b)=>{h.selected.sections.value.splice(b,1,{id:h.selected.sections.value[b].id,..._})},g=_=>{h.selected.sections.value.splice(_,1)},v=(_,b)=>{h.selected.sections.error[b]=_},y=async()=>{for(const _ of d.value)await _.test();await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test()]),i("error",yh(h.selected)),h.selected.sections.error=[]};return It(()=>r.selectedBlogPost,()=>{h.selected=f().selected}),It(()=>h.selected,()=>{i("update:selected",{title:h.selected.title.value,description:h.selected.description.value,descriptionFooter:h.selected.descriptionFooter.value,coverImageUrl:h.selected.coverImageUrl.value,countdown:h.selected.countdown.value,timer:h.selected.timer.value,sections:h.selected.sections.value})},{deep:!0}),e({test:y}),(_,b)=>(S(),U(Te,null,[Z(pr,{ref_key:"title",ref:s,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:h.selected.title.value,"onUpdate:modelValue":b[0]||(b[0]=w=>h.selected.title.value=w),error:h.selected.title.error,"onUpdate:error":b[1]||(b[1]=w=>h.selected.title.error=w),rules:[P(xt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),Z(pr,{ref_key:"description",ref:o,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:h.selected.description.value,"onUpdate:modelValue":b[2]||(b[2]=w=>h.selected.description.value=w),error:h.selected.description.error,"onUpdate:error":b[3]||(b[3]=w=>h.selected.description.error=w),"max-length":500,"input-props":{type:"textarea",rows:h.selected.description.value.split(`
`).length<=5?h.selected.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),Z(VT,{ref_key:"coverImageUrl",ref:l,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:h.selected.coverImageUrl.value,"onUpdate:modelValue":b[4]||(b[4]=w=>h.selected.coverImageUrl.value=w),error:h.selected.coverImageUrl.error,"onUpdate:error":b[5]||(b[5]=w=>h.selected.coverImageUrl.error=w),"blog-post":_.selectedBlogPost??void 0},null,8,["modelValue","error","blog-post"]),_.isOpen?(S(),ie(P(Ah),{key:0},{default:ce(()=>[Z(P(Jo),{header:"Other content"},{default:ce(()=>[Z(pr,{ref_key:"descriptionFooter",ref:a,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:h.selected.descriptionFooter.value,"onUpdate:modelValue":b[6]||(b[6]=w=>h.selected.descriptionFooter.value=w),error:h.selected.descriptionFooter.error,"onUpdate:error":b[7]||(b[7]=w=>h.selected.descriptionFooter.error=w),"max-length":300,"input-props":{type:"textarea",rows:h.selected.descriptionFooter.value.split(`
`).length<=5?h.selected.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),Z(ig,{ref_key:"countdown",ref:u,name:"countdown",label:"Countdown",modelValue:h.selected.countdown.value,"onUpdate:modelValue":b[8]||(b[8]=w=>h.selected.countdown.value=w),error:h.selected.countdown.error,"onUpdate:error":b[9]||(b[9]=w=>h.selected.countdown.error=w)},null,8,["modelValue","error"]),Z(ig,{ref_key:"timer",ref:c,name:"timer",label:"Timer",modelValue:h.selected.timer.value,"onUpdate:modelValue":b[10]||(b[10]=w=>h.selected.timer.value=w),error:h.selected.timer.error,"onUpdate:error":b[11]||(b[11]=w=>h.selected.timer.error=w)},null,8,["modelValue","error"])]),_:1}),Z(P(Jo),{header:"Sections"},{default:ce(()=>[(S(!0),U(Te,null,st(h.selected.sections.value,(w,T)=>(S(),ie(Die,{key:w.id,ref_for:!0,ref_key:"sections",ref:d,selected:w,"selected-blog-post":_.selectedBlogPost,index:T,"is-open":_.isOpen,"onUpdate:selected":x=>m(x,T),onError:x=>v(x,T),onDelete:x=>g(T)},null,8,["selected","selected-blog-post","index","is-open","onUpdate:selected","onError","onDelete"]))),128)),K("div",Rie,[Z(Ut,{class:"w-1/2",type:"action-positive",onClick:p},{default:ce(()=>[Qe(" Add Section ")]),_:1})])]),_:1})]),_:1})):Y("",!0)],64))}});var Mie={root:{position:"relative"}},$ie={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},Lie=or.extend({name:"inputswitch",classes:$ie,inlineStyles:Mie}),Fie={name:"BaseInputSwitch",extends:ti,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Lie,provide:function(){return{$parentInstance:this}}},pL={name:"InputSwitch",extends:Fie,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},Uie=["data-p-highlight","data-p-disabled"],Vie=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function Bie(t,e,n,r,i,s){return S(),U("div",se({class:t.cx("root"),style:t.sx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[K("input",se({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":s.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,Vie),K("span",se({class:t.cx("slider")},s.getPTOptions("slider")),null,16)],16,Uie)}pL.render=Bie;const jie={class:"m-4"},Hie=["for"],Ud=Ae({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=J({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=J(()=>r.name+(r.id?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>(S(),U("div",jie,[l.label?(S(),U("label",se({key:0,class:"block text-sm font-bold mb-2",for:s.value},l.labelProps),Le(l.label),17,Hie)):Y("",!0),K("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=wt(c=>i.value=!i.value,["prevent"]))},[Z(P(pL),{inputId:s.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c)},null,8,["inputId","modelValue"])])]))}}),Wie=Ae({__name:"BlogPostSettingsDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,{firebaseUser:s,publicUser:o}=Jt(sr()),a=ar(),{allowedPublicUsers:l}=a,{publicUsers:u}=Jt(a),c=re(),d=re(),f=re(),h=re(),p=J(()=>u.value.map(({id:_,displayName:b})=>({value:_,label:b}))),m=re([]),g=()=>({selected:{allowedUserIds:{value:r.selected.allowedUserIds,error:""},locked:{value:r.selected.locked,error:""},archived:{value:r.selected.archived,error:""},pinned:{value:!!r.selected.datePinned,error:""}}}),v=Dn(g()),y=async()=>{v.selected.allowedUserIds.value.length&&!m.value.length&&(v.selected.allowedUserIds.error="Invalid user ID's"),await Promise.all([d.value.test(),f.value.test(),h.value.test()]),i("error",yh(v.selected))};return It(()=>v.selected.allowedUserIds.value,async _=>{m.value=await l(_)},{immediate:!0}),It(()=>r.selectedBlogPost,()=>{v.selected=g().selected}),It(()=>v.selected,()=>{var _,b;i("update:selected",{allowedUserIds:v.selected.allowedUserIds.value,locked:v.selected.locked.value,archived:v.selected.archived.value,datePinned:v.selected.pinned.value?(_=r.selected)!=null&&_.datePinned?((b=r.selected)==null?void 0:b.datePinned)??null:new Date:null})},{deep:!0}),e({test:y}),(_,b)=>(S(),U(Te,null,[Z(Dr,{ref_key:"allowedUsers",ref:c,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":v.selected.allowedUserIds.value,error:v.selected.allowedUserIds.error,"onUpdate:error":b[0]||(b[0]=w=>v.selected.allowedUserIds.error=w),"onUpdate:arrayValue":b[1]||(b[1]=w=>v.selected.allowedUserIds.value=w),options:[{value:P(s).uid,label:P(o).displayName},...p.value.filter(({value:w})=>{var T;return w!==((T=P(s))==null?void 0:T.uid)})],multiple:""},null,8,["model-value","error","options"]),Z(Ud,{ref_key:"pinned",ref:h,name:"pinned",label:"Pinned",modelValue:v.selected.pinned.value,"onUpdate:modelValue":b[2]||(b[2]=w=>v.selected.pinned.value=w)},null,8,["modelValue"]),Z(Ud,{ref_key:"locked",ref:d,name:"locked",label:"Locked for commenting",modelValue:v.selected.locked.value,"onUpdate:modelValue":b[3]||(b[3]=w=>v.selected.locked.value=w)},null,8,["modelValue"]),Z(Ud,{ref_key:"archived",ref:f,name:"archived",label:"Archived",modelValue:v.selected.archived.value,"onUpdate:modelValue":b[4]||(b[4]=w=>v.selected.archived.value=w)},null,8,["modelValue"])],64))}}),Kie=Ae({__name:"BlogPostStylingDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=re(),o=re(),a=re(),l=re(),u=re(),c=re(),d=re(),f=J(()=>CX(Zm.find(g=>g.value===p.selected.colorPrimary.value))),h=()=>({selected:{alignment:{value:r.selected.alignment,error:""},colorPrimary:{value:r.selected.colorPrimary,error:""},colorSecondary:{value:r.selected.colorSecondary,error:""},colorTertiary:{value:r.selected.colorTertiary,error:""},opacityPrimary:{value:r.selected.opacityPrimary,error:""},opacitySecondary:{value:r.selected.opacitySecondary,error:""},opacityTertiary:{value:r.selected.opacityTertiary,error:""}}}),p=Dn(h()),m=async()=>{await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test()]),i("error",yh(p.selected))};return It(()=>r.selectedBlogPost,()=>{p.selected=h().selected}),It(()=>p.selected,()=>{i("update:selected",{alignment:p.selected.alignment.value,colorPrimary:p.selected.colorPrimary.value,colorSecondary:p.selected.colorSecondary.value,colorTertiary:p.selected.colorTertiary.value,opacityPrimary:p.selected.opacityPrimary.value,opacitySecondary:p.selected.opacitySecondary.value,opacityTertiary:p.selected.opacityTertiary.value})},{deep:!0}),e({test:m}),(g,v)=>(S(),U(Te,null,[Z(Dr,{ref_key:"alignment",ref:s,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":v[0]||(v[0]=y=>p.selected.alignment.value=y),error:p.selected.alignment.error,"onUpdate:error":v[1]||(v[1]=y=>p.selected.alignment.error=y),options:P(w$),rules:[P(xt).Required]},null,8,["modelValue","error","options","rules"]),Z(Dr,{ref_key:"colorPrimary",ref:o,name:"colorPrimary",label:"Primary Style",modelValue:p.selected.colorPrimary.value,"onUpdate:modelValue":v[2]||(v[2]=y=>p.selected.colorPrimary.value=y),error:p.selected.colorPrimary.error,"onUpdate:error":v[3]||(v[3]=y=>p.selected.colorPrimary.error=y),options:P(Zm),rules:[P(xt).Required]},null,8,["modelValue","error","options","rules"]),Z(Dr,{ref_key:"opacityPrimary",ref:u,name:"opacityPrimary",label:"Primary Opacity",modelValue:p.selected.opacityPrimary.value,"onUpdate:modelValue":v[4]||(v[4]=y=>p.selected.opacityPrimary.value=y),error:p.selected.opacityPrimary.error,"onUpdate:error":v[5]||(v[5]=y=>p.selected.opacityPrimary.error=y),options:P(Qy)},null,8,["modelValue","error","options"]),Z(Dr,{ref_key:"colorSecondary",ref:a,name:"colorSecondary",label:"Secondary Style",modelValue:p.selected.colorSecondary.value,"onUpdate:modelValue":v[6]||(v[6]=y=>p.selected.colorSecondary.value=y),error:p.selected.colorSecondary.error,"onUpdate:error":v[7]||(v[7]=y=>p.selected.colorSecondary.error=y),options:f.value},null,8,["modelValue","error","options"]),Z(Dr,{ref_key:"opacitySecondary",ref:c,name:"opacitySecondary",label:"Secondary Opacity",modelValue:p.selected.opacitySecondary.value,"onUpdate:modelValue":v[8]||(v[8]=y=>p.selected.opacitySecondary.value=y),error:p.selected.opacitySecondary.error,"onUpdate:error":v[9]||(v[9]=y=>p.selected.opacitySecondary.error=y),options:P(Qy)},null,8,["modelValue","error","options"]),Z(Dr,{ref_key:"colorTertiary",ref:l,name:"colorTertiary",label:"Tertiary Style",modelValue:p.selected.colorTertiary.value,"onUpdate:modelValue":v[10]||(v[10]=y=>p.selected.colorTertiary.value=y),error:p.selected.colorTertiary.error,"onUpdate:error":v[11]||(v[11]=y=>p.selected.colorTertiary.error=y),options:P(OX)},null,8,["modelValue","error","options"]),Z(Dr,{ref_key:"opacityTertiary",ref:d,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:p.selected.opacityTertiary.value,"onUpdate:modelValue":v[12]||(v[12]=y=>p.selected.opacityTertiary.value=y),error:p.selected.opacityTertiary.error,"onUpdate:error":v[13]||(v[13]=y=>p.selected.opacityTertiary.error=y),options:P(Qy)},null,8,["modelValue","error","options"])],64))}}),zie=Ae({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close","scroll-to-updated"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Jt(sr()),i=ar(),{createBlogPost:s,updateBlogPost:o,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l}=i,{blogPosts:u}=Jt(i),c=re(),d=re(),f=re(),h=re(),p=()=>{var k,N,R,B,G,F,I,ee,te,ge,ve,ne,j,z,ae,X,he,be;return{id:rg(),form:{content:{value:{title:((k=n.selected)==null?void 0:k.title)??"",description:((N=n.selected)==null?void 0:N.description)??"",descriptionFooter:((R=n.selected)==null?void 0:R.descriptionFooter)??"",coverImageUrl:((B=n.selected)==null?void 0:B.coverImageUrl)??"",timer:((G=n.selected)==null?void 0:G.timer)??null,countdown:((F=n.selected)==null?void 0:F.countdown)??null,sections:((I=n.selected)==null?void 0:I.sections)??[]},error:!1},styling:{value:{alignment:((ee=n.selected)==null?void 0:ee.alignment)??"center",colorPrimary:((te=n.selected)==null?void 0:te.colorPrimary)??"",colorSecondary:((ge=n.selected)==null?void 0:ge.colorSecondary)??"",colorTertiary:((ve=n.selected)==null?void 0:ve.colorTertiary)??"",opacityPrimary:((ne=n.selected)==null?void 0:ne.opacityPrimary)??"",opacitySecondary:((j=n.selected)==null?void 0:j.opacitySecondary)??"",opacityTertiary:((z=n.selected)==null?void 0:z.opacityTertiary)??""},error:!1},settings:{value:{locked:((ae=n.selected)==null?void 0:ae.locked)??!1,allowedUserIds:((X=n.selected)==null?void 0:X.allowedUserIds)??[],archived:((he=n.selected)==null?void 0:he.archived)??!1,datePinned:((be=n.selected)==null?void 0:be.datePinned)??null},error:!1}}}},m=Dn(p()),g=()=>{var k,N;return{id:m.id,date:((k=n.selected)==null?void 0:k.date)||new Date,dateUpdated:((N=n.selected)==null?void 0:N.dateUpdated)||new Date,...m.form.content.value,...m.form.styling.value,...m.form.settings.value,reactions:[]}},v=re(g()),y=J(()=>Yn.Content.convert(v.value)),_=J(()=>!!n.selected&&!ss(Yn.Content.convert(Yn.convert(n.selected)),y.value)),b=J(()=>Yn.Styling.convert(v.value)),w=J(()=>!!n.selected&&!ss(Yn.Styling.convert(Yn.convert(n.selected)),b.value)),T=J(()=>Yn.Settings.convert(v.value)),x=J(()=>!!n.selected&&!ss(Yn.Settings.convert(Yn.convert(n.selected)),T.value)),A=J(()=>{var k,N,R,B,G,F;return!!((N=(k=n.selected)==null?void 0:k.allowedUserIds)!=null&&N.length)&&!((R=T.value.allowedUserIds)!=null&&R.length)||!((G=(B=n.selected)==null?void 0:B.allowedUserIds)!=null&&G.length)&&!!((F=T.value.allowedUserIds)!=null&&F.length)}),O=J(()=>{const k=[];return _.value&&k.push("Content"),w.value&&k.push("Styling"),x.value&&k.push("Settings"),k.length?"Update "+tw(k):void 0}),E=J(()=>ko(n.selected)),M=async()=>{var k,N,R,B,G;if(await Promise.all([d.value.test(),f.value.test(),h.value.test()]),!yh(m.form))if(!n.selected)await s(m.id,v.value,(k=r.value)==null?void 0:k.uid)&&(D("close"),D("scroll-to-updated",m.id));else if(A.value){const F=n.selected.id;D("close"),await l(F,Yn.convert(v.value),n.selected.reactions,v.value.allowedUserIds.length?"private":"public",(N=r.value)==null?void 0:N.uid)&&(qe.success("Successfully updated Post Visibility"),D("scroll-to-updated",F))}else{const F=n.selected.id;let I=[];_.value&&I.push(await o(F,y.value,E.value,(R=r.value)==null?void 0:R.uid)),w.value&&I.push(await o(F,b.value,E.value,(B=r.value)==null?void 0:B.uid)),x.value&&(I.push(await o(F,T.value,E.value,(G=r.value)==null?void 0:G.uid)),D("scroll-to-updated",F)),I=I.filter(ee=>typeof ee=="string"),I.length&&(qe.success(`Successfully updated Post ${tw(I)}`),D("close"))}},$=async()=>{a(v.value,n.selected??void 0),Object.assign(m,p()),D("close")};It(()=>n.selected,()=>{const k=p();m.id=k.id,m.form.content=k.form.content,m.form.styling=k.form.styling,m.form.settings=k.form.settings}),It(m,()=>{v.value=g()},{deep:!0});const D=e;return(k,N)=>(S(),ie(UT,{isOpen:k.isOpen,title:k.selected?"Update Post":"Create Post",description:k.selected?"Update this post":"Create a new post","confirm-text":k.selected?O.value:"Create","confirm-loading":P(u).mutationLoading,onConfirm:M,onCancel:$},{default:ce(()=>[K("form",{ref_key:"dialog",ref:c,class:"pt-6 mb-4 xl:px-16"},[k.isOpen?(S(),ie(P(Ah),{key:0,"active-index":0},{default:ce(()=>[Z(P(Jo),{header:"Content"},{default:ce(()=>[Z(Nie,{ref_key:"content",ref:d,selected:m.form.content.value,"onUpdate:selected":N[0]||(N[0]=R=>m.form.content.value=R),"selected-blog-post":k.selected??void 0,"is-open":k.isOpen,onError:N[1]||(N[1]=R=>m.form.content.error=R)},null,8,["selected","selected-blog-post","is-open"])]),_:1}),Z(P(Jo),{header:"Styling"},{default:ce(()=>[Z(Kie,{ref_key:"styling",ref:f,selected:m.form.styling.value,"onUpdate:selected":N[2]||(N[2]=R=>m.form.styling.value=R),"selected-blog-post":k.selected??void 0,onError:N[3]||(N[3]=R=>m.form.styling.error=R)},null,8,["selected","selected-blog-post"])]),_:1}),Z(P(Jo),{header:"Settings"},{default:ce(()=>[Z(Wie,{ref_key:"settings",ref:h,selected:m.form.settings.value,"onUpdate:selected":N[4]||(N[4]=R=>m.form.settings.value=R),"selected-blog-post":k.selected??void 0,onError:N[5]||(N[5]=R=>m.form.settings.error=R)},null,8,["selected","selected-blog-post"])]),_:1})]),_:1})):Y("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),Gie={key:0,class:"grid grid-cols-6 mb-5 gap-5"},Yie={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},qie={class:"grid gap-4 md:gap-10 xl:gap-20"},Xie={key:2,class:"flex justify-center mt-5"},Qie=Ae({__name:"BlogPosts",setup(t){const e=ar(),{deleteBlogPost:n,fetchBlogPosts:r,checkForUnreadBlogPosts:i}=e,{blogPosts:s,visibleBlogPosts:o,blogReactions:a,databaseActionActive:l}=Jt(e),{isOwner:u,firebaseUser:c}=Jt(sr());let d=[];const f=re(),h=re(),p=re(!1),m=re(!1),g=re(null),v=re(),y=re(),_=()=>{g.value=null,p.value=!0},b=M=>{g.value=M,p.value=!0},w=M=>{g.value=M,m.value=!0},T=async M=>{await n(M)&&(m.value=!1,g.value=null)},x=()=>{p.value=!1,g.value=null},A=async M=>{var $;s.value.visibility!==M&&(s.value.visibility=M,s.value.isLastPage=!1,o.value.length||await r(($=c.value)==null?void 0:$.uid),Up(f.value))},O=async()=>{var $;const M=o.value.length;await r(($=c.value)==null?void 0:$.uid),o.value[M]&&Up(h.value[M])},E=M=>{M.metadata.hasPendingWrites||l.value||(clearTimeout(y.value),y.value=setTimeout(async()=>{var $;await r(($=c.value)==null?void 0:$.uid,{amount:o.value.length,loadingIndicator:!1}),i()},200))};return Vt(()=>{a.value.unread=[],d.push(sp(Ht.blogPosts(!1),E)),d.push(sp(Ht.blogReactions(!1),E)),c.value&&(d.push(sp(Ht.blogPosts(!0),E)),d.push(sp(Ht.blogReactions(!0),E)))}),mo(()=>{clearTimeout(y.value),d.forEach(M=>{M()})}),It(()=>{var M;return(M=h.value)==null?void 0:M.length},()=>{var M;if((M=h.value)!=null&&M.length&&v.value){const $=o.value.find(D=>D.id===v.value);if($){const D=o.value.indexOf($);Up(h.value[D]),v.value=void 0}}}),(M,$)=>(S(),U(Te,null,[K("div",{ref_key:"container",ref:f},[P(c)?(S(),U("div",Gie,[Z(Ut,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"orange",outlined:P(s).visibility!=="public",loading:P(s).fetchLoading,onClick:$[0]||($[0]=D=>A("public"))},{default:ce(()=>[Qe(" Public Posts ")]),_:1},8,["outlined","loading"]),P(u)?(S(),ie(Ut,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",onClick:_},{default:ce(()=>[Qe(" New Post ")]),_:1})):Y("",!0),Z(Ut,{type:"orange",class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",outlined:P(s).visibility!=="private",loading:P(s).fetchLoading,onClick:$[1]||($[1]=D=>A("private"))},{default:ce(()=>[Qe(" Private Posts ")]),_:1},8,["outlined","loading"])])):Y("",!0),P(c)?(S(),U("div",Yie,[Z(Ut,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"orange",outlined:P(s).visibility!=="public",loading:P(s).fetchLoading,onClick:$[2]||($[2]=D=>A("public"))},{default:ce(()=>[Qe(" Public Posts ")]),_:1},8,["outlined","loading"]),Z(Ut,{type:"orange",class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",outlined:P(s).visibility!=="private",loading:P(s).fetchLoading,onClick:$[3]||($[3]=D=>A("private"))},{default:ce(()=>[Qe(" Private Posts ")]),_:1},8,["outlined","loading"])])):Y("",!0),K("div",qie,[P(o).length?(S(!0),U(Te,{key:0},st(P(o),D=>(S(),U("div",{key:D.id,ref_for:!0,ref_key:"posts",ref:h},[Z(X$,{post:D,onEditClicked:k=>b(D),onDeleteClicked:k=>w(D)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):P(s).fetchLoading?Y("",!0):(S(),ie(Zr,{key:1,class:"!bg-red-900 !bg-opacity-40",title:"No posts"}))]),P(s).isLastPage?Y("",!0):(S(),U("div",Xie,[Z(Ut,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:P(s).fetchLoading,onClick:O},{default:ce(()=>[Qe(" Load more posts ")]),_:1},8,["loading"])]))],512),Z(zie,{isOpen:p.value,selected:g.value,onClose:x,onScrollToUpdated:$[4]||($[4]=D=>v.value=D)},null,8,["isOpen","selected"]),g.value?(S(),ie(UT,{key:0,title:"Delete Post",isOpen:m.value,description:[` Are you sure you want to delete this post called ' ${g.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:$[5]||($[5]=D=>T(g.value.id)),onCancel:$[6]||($[6]=D=>m.value=!1)},null,8,["isOpen","description"])):Y("",!0)],64))}}),Jie={class:"bg-black text-white shadow-md py-4"},Zie={class:"container mx-auto text-center"},ese=Ae({__name:"Footer",setup(t){const{content:e}=Jt(ar());return(n,r)=>(S(),U("footer",Jie,[K("div",Zie,[K("p",null,"© "+Le(new Date().getFullYear()+" "+P(e).footerCopyright),1)])]))}}),tse={class:"flex justify-between"},nse={class:"hidden sm:block w-full sm:min-w-fit"},rse=["src","alt"],ise={class:"w-fit sm:max-w-1/2"},sse={class:"text-title-primary"},ose={class:"text-title-secondary"},ase={class:"text-title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},lse={class:"mt-2 flex items-center whitespace-nowrap me-6"},use={class:"mt-2 flex items-center whitespace-nowrap"},cse={class:"sm:hidden min-w-fit mt-3"},dse=["src","alt"],TA=Ae({__name:"HeaderContent",setup(t){const{profile:e,content:n}=Jt(ar());return(r,i)=>{const s=En("RouterLink");return S(),U("div",tse,[K("div",nse,[Z(s,{to:{name:"home"}},{default:ce(()=>[K("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,rse)]),_:1})]),K("div",ise,[K("h1",sse,Le(P(e).name),1),K("h2",ose,Le(P(e).service),1),K("div",ase,[K("div",lse,[Z(P(PX),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Qe(" "+Le(P(e).role),1)]),K("div",use,[Z(P(xX),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Qe(" "+Le(P(e).location.city)+", "+Le(P(e).location.country),1)])])]),K("div",cse,[Z(s,{to:{name:"home"}},{default:ce(()=>[K("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,dse)]),_:1})])])}}}),fse=Ae({__name:"NavigationDropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=sr(),{currentUser:n}=Jt(e),{visibleMenuItems:r}=Jt(ar());return(i,s)=>(S(),U(Te,null,[Ci(K("div",{class:"md:hidden w-screen h-screen z-10 bg-gray-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Zs,i.isOpen]]),Ci(K("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-gray-900 border border-indigo-600 rounded-xl",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(S(!0),U(Te,null,st(P(r),o=>(S(),ie(Ut,{class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:o.url,loading:o.loading},{default:ce(()=>[Qe(Le(o.name),1)]),_:2},1032,["url","loading"]))),256)),P(n)?(S(),ie(Ut,{key:0,class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:"dashboard"},{default:ce(()=>[Qe(" Dashboard ")]),_:1})):Y("",!0),P(n)?(S(),ie(Ut,{key:1,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"danger",onClick:P(e).logout},{default:ce(()=>[Qe(" Logout ")]),_:1},8,["onClick"])):(S(),ie(Ut,{key:2,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"secondary",url:"login"},{default:ce(()=>[Qe(" Login ")]),_:1}))],512),[[Zs,i.isOpen]])],64))}}),hse={key:0,class:ke(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},pse={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},mse={class:"flex justify-between sm:justify-center"},gse=K("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),vse=[gse],yse=Ae({__name:"NavigationMenu",setup(t){const e=sr(),{currentUser:n,logoutLoading:r}=Jt(e),{visibleMenuItems:i}=Jt(ar()),s=re(),o=re(!1),a=()=>{o.value=!o.value,o.value&&Wn(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>P(i).length?(S(),U("div",hse,[(S(!0),U(Te,null,st(P(i),c=>(S(),ie(Ut,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",outlined:"",url:c.url,loading:c.loading},{default:ce(()=>[Qe(Le(c.name),1)]),_:2},1032,["url","loading"]))),256)),P(n)?Y("",!0):(S(),ie(Ut,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"secondary",outlined:"",url:"login"},{default:ce(()=>[Qe(" Login ")]),_:1})),P(n)?(S(),ie(Ut,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:P(r),onClick:P(e).logout},{default:ce(()=>[Qe(" Logout ")]),_:1},8,["loading","onClick"])):Y("",!0),K("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[K("div",pse,[K("div",{class:ke(["flex animation",o.value?"justify-center":"justify-end"])},[Z(Ut,{class:ke(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:ce(()=>[K("div",mse,[Z(kw,{rotate:o.value,class:ke(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),K("p",{class:ke(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(S(),U("svg",{class:ke(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},vse,2))])]),_:1},8,["class"])],2)]),Z(fse,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):Y("",!0)}}),bse={class:ke(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto","w-fit md:w-1/3","mb-8 py-8 bg-transparent text-indigo-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-black sm:bg-opacity-50 sm:rounded-3xl sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-3xl lg:rounded-t-none"])},wse={key:0,class:"hidden sm:flex justify-center mb-4"},_se={class:"hidden md:block w-4/5 space-y-2"},Tse={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},Sse={class:"flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},Ese={key:1},Ise={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},Cse={class:"font-semibold text-base first:font-bold first:text-lg"},Ose=Ae({__name:"NavigationCard",setup(t){const{currentUser:e}=Jt(sr()),{content:n}=Jt(ar());return(r,i)=>{const s=En("RouterLink");return S(),U("div",bse,[P(e)?(S(),U("div",wse,[K("div",_se,[(S(!0),U(Te,null,st(P(n).headerDescriptionUser,o=>(S(),U("p",Tse,Le(o.replace("%USER%",P(e).firstName+(P(e).lastName?" "+P(e).lastName:""))),1))),256))]),K("div",Sse,[Z(s,{to:{name:"dashboard"}},{default:ce(()=>[Z(P(DX),{class:"w-16 h-16 rounded-full border-2 text-indigo-600 border-indigo-600 animation-scale"})]),_:1})])])):(S(),U("div",Ese,[K("div",Ise,[(S(!0),U(Te,null,st(P(n).headerDescriptionGuest,o=>(S(),U("p",Cse,Le(o),1))),256))])])),Z(yse)])}}}),Ase={class:"sm:flex sm:items-start sm:justify-between mb-20"},Pse={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},kse=Ae({__name:"Header",setup(t){return(e,n)=>(S(),U("div",Ase,[Z(TA,{class:"hidden sm:block"}),K("div",Pse,[Z(Ose)]),Z(TA,{class:"sm:hidden"})]))}}),xse={class:"min-h-screen bg-gradient-to-t from-black to-blue-900 via-gray-800"},Dse={class:"mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-3xl text-white bg-blue-gray-900 bg-opacity-50 bg-gradient-to-b from-transparent to-black via-purple-900 border-opacity-100"},va=Ae({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=O1(),r=re(),i=()=>{e.scrollToContent&&Up(r.value)};return It(()=>n.fullPath,()=>{i()}),Vt(()=>{i()}),(s,o)=>(S(),U(Te,null,[K("div",xse,[K("div",Dse,[K("header",null,[s.$slots.header?fe(s.$slots,"header",{key:0}):(S(),ie(kse,{key:1}))]),K("main",null,[K("div",{ref_key:"content",ref:r},[fe(s.$slots,"content")],512)])])]),K("footer",null,[s.$slots.footer?fe(s.$slots,"footer",{key:0}):(S(),ie(ese,{key:1}))])],64))}}),Rse={class:"grid mt-10 md:mt-15"},Nse={class:"grid justify-center"},Mse={class:"text-lg md:text-xl text-white"},$se=["innerHTML"],Lse={class:"grid my-5 xl:mx-20"},Fse=Ae({__name:"Blog",setup(t){const{publicUser:e}=Jt(sr()),{menuItems:n,content:r}=Jt(ar()),i=J(()=>window.location.hash),s=O1(),o=J(()=>{var a;return e.value?[...r.value.blogDescriptionUser.map(l=>l.replace("%USER%",e.value.displayName||"Unknown user")),...((a=n.value.find(l=>l.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:a.description)||[]]:r.value.blogDescriptionGuest});return(a,l)=>(S(),ie(va,{"scroll-to-content":!i.value},{content:ce(()=>[K("div",Rse,[K("div",Nse,[(S(!0),U(Te,null,st(o.value,u=>(S(),U("h1",Mse,[K("span",{innerHTML:u},null,8,$se)]))),256))]),K("div",Lse,[P(s).params.postId?(S(),ie(Lne,{key:0})):(S(),ie(Qie,{key:1}))])])]),_:1},8,["scroll-to-content"]))}}),Use=Ae({__name:"Blog",setup(t){return(e,n)=>(S(),ie(Fse))}}),Vse={class:"flex flex-col items-center content-center"},Bse=Ae({__name:"CatCalc",setup(t){const e=Dn({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"Nederlandse Voedsel- en Warenautoriteit"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=J(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(w,T)=>{const A=o[w].sort((D,k)=>D.weight-k.weight);let O=A[A.length-2].weight,E=A[A.length-2].calories,M=A[A.length-1].weight,$=A[A.length-1].calories;for(let D=0;D<A.length-1;D++)if(T>=A[D].weight&&T<=A[D+1].weight){O=A[D].weight,E=A[D].calories,M=A[D+1].weight,$=A[D+1].calories;break}return{x1:O,y1:E,x2:M,y2:$}},l=(w,T)=>{const{x1:x,y1:A,x2:O,y2:E}=a(w,T);return A+(T-x)*(E-A)/(O-x)},u=()=>{const w=new Map;for(const A of Object.values(o).filter(O=>O!==o.average))for(const{weight:O,calories:E}of A)w.has(O)||w.set(O,{sum:0,count:0}),w.get(O).sum+=E,w.get(O).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(A=>w.has(A)).map(A=>({weight:A,calories:w.get(A).sum/w.get(A).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],f=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish (8kcal)",calories:8}],h=J(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=J(()=>{var w;return h.value*(((w=r.find(T=>T.value===e.catAge.value))==null?void 0:w.rerIndex)??1)}),m=J(()=>{var w;return p.value*(((w=s.value.find(T=>T.value===e.catSize.value))==null?void 0:w.factor)??1)}),g=J(()=>{const w=f.find(T=>T.value===e.catFoodSnax.value);return w!=null&&w.calories?m.value*(Number(e.catFoodSnaxPercentage.value)/100)/w.calories:void 0}),v=J(()=>m.value*(1-Number(g.value?e.catFoodSnaxPercentage.value:0)/100)),y=J(()=>{const w=d.find(T=>T.value===e.catFoodWet.value);return w!=null&&w.calories?v.value/4/w.calories*100:void 0}),_=J(()=>v.value/4*(y.value?3:4)),b=J(()=>{var w;return _.value/(((w=c.find(T=>T.value===e.catFoodDry.value))==null?void 0:w.calories)??c[0].calories)*100});return(w,T)=>(S(),ie(va,null,{content:ce(()=>[Z(Zr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:ce(()=>{var x;return[K("div",Vse,[Z(Dr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":T[0]||(T[0]=A=>e.calculator.value=A),error:e.calculator.error,"onUpdate:error":T[1]||(T[1]=A=>e.calculator.error=A),options:n,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(pr,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":T[2]||(T[2]=A=>e.catWeigth.value=A),error:e.catWeigth.error,"onUpdate:error":T[3]||(T[3]=A=>e.catWeigth.error=A),rules:[P(xt).Required,P(xt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),Z(Dr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":T[4]||(T[4]=A=>e.catAge.value=A),error:e.catAge.error,"onUpdate:error":T[5]||(T[5]=A=>e.catAge.error=A),options:r,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(Dr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":T[6]||(T[6]=A=>e.catGender.value=A),error:e.catGender.error,"onUpdate:error":T[7]||(T[7]=A=>e.catGender.error=A),options:i,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(Dr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":T[8]||(T[8]=A=>e.catSize.value=A),error:e.catSize.error,"onUpdate:error":T[9]||(T[9]=A=>e.catSize.error=A),options:s.value,rules:[P(xt).Required]},null,8,["modelValue","error","options","rules"]),Z(Zr,{class:"w-full md:w-1/2 my-5 border border-gray-400",description:"Required energy per day: "+m.value.toFixed(1)+" kcal"},null,8,["description"]),Z(Dr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":T[10]||(T[10]=A=>e.catFoodDry.value=A),error:e.catFoodDry.error,"onUpdate:error":T[11]||(T[11]=A=>e.catFoodDry.error=A),options:c,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(Dr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":T[12]||(T[12]=A=>e.catFoodWet.value=A),error:e.catFoodWet.error,"onUpdate:error":T[13]||(T[13]=A=>e.catFoodWet.error=A),options:d,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(Dr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":T[14]||(T[14]=A=>e.catFoodSnax.value=A),error:e.catFoodSnax.error,"onUpdate:error":T[15]||(T[15]=A=>e.catFoodSnax.error=A),options:f,rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(S(),ie(pr,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":T[16]||(T[16]=A=>e.catFoodSnaxPercentage.value=A),error:e.catFoodSnaxPercentage.error,"onUpdate:error":T[17]||(T[17]=A=>e.catFoodSnaxPercentage.error=A),rules:[P(xt).Required,P(xt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):Y("",!0),Z(Zr,{class:"w-full md:w-1/2 my-5 border border-gray-400",title:"Result","sub-title":"Based on constants from "+((x=n.find(A=>A.value===e.calculator.value))==null?void 0:x.label),description:["Required dry food per day: "+b.value.toFixed(1)+" g","","","Required dry food per meal: "+(b.value/(y.value?2:3)).toFixed(1)+" g",...y.value?["Required wet food per day: "+y.value.toFixed(1)+" g"]:[],...g.value?["Allowed snacks per day: "+g.value.toFixed(g.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),jse=Ae({__name:"CatCalc",setup(t){return(e,n)=>(S(),ie(Bse))}}),Hse={class:"min-w-0 flex-1"},Wse=K("img",{class:"w-48 h-48 rounded-full animation-scale mb-4 cursor-pointer",src:"https://www.spigotmc.org/data/resource_icons/28/28103.jpg?1472586104",alt:"customvoting"},null,-1),Kse=Ae({__name:"CustomVoting",setup(t){return(e,n)=>{const r=En("RouterLink");return S(),ie(va,null,{header:ce(()=>[K("div",Hse,[Z(r,{to:{name:"home"}},{default:ce(()=>[Wse]),_:1})])]),content:ce(()=>[Z(Zr,{class:"!bg-yellow-700 !bg-opacity-50 my-5",title:"CustomVoting",description:"In Progress"})]),_:1})}}}),zse=Ae({__name:"CustomVoting",setup(t){return(e,n)=>(S(),ie(Kse))}}),Gse={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-primary"},Yse={class:"m-1 lg:w-4/5"},KT=Ae({__name:"Privacy",setup(t){const{content:e}=Jt(ar());return(n,r)=>(S(),U("div",Gse,[(S(!0),U(Te,null,st(P(e).privacyStatement,i=>(S(),U("p",Yse,Le(i),1))),256))]))}}),zT=Ae({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(),s=J({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=J({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(S(),ie(pr,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,P(xt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),mu=Ae({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(),s=J({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=J({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(S(),ie(pr,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),qse={class:"flex flex-wrap pt-6 pb-8 mb-4"},Xse={class:"basis-full lg:basis-1/2"},Qse={class:"flex gap-3 mt-10 flex-wrap"},Jse={class:"basis-full lg:basis-1/2"},Zse={class:"flex flex-col items-center content-center"},eoe=Ae({__name:"Dashboard",setup(t){const e=sr(),{currentUser:n,firebaseUser:r,publicUser:i,isOwner:s,mutationLoading:o}=Jt(e),a=ar(),{fetchAll:l}=a,{content:u,online:c,debug:d}=Jt(a),f=re(!1),h=re(),p=re(),m=re(),g=re(),v=re(),y=re(),_=re(),b=re(),w=Dn({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),T=J(()=>({firstName:w.firstName.value,lastName:w.lastName.value})),x=J(()=>({displayName:w.displayName.value,avatar:w.avatar.value})),A=J(()=>!!i.value&&!ss(yw.convert(i.value),x.value)),O=J(()=>{var $;return w.email.value!==(($=r.value)==null?void 0:$.email)}),E=J(()=>{const $=[];return ss(n.value,T.value)||$.push("Details"),A.value&&$.push("Public Profile"),O.value&&$.push("E-mail"),w.newPassword.value&&$.push("Password"),$.length?"Save "+tw($):void 0}),M=async()=>{var $;Object.keys(w).forEach(D=>w[D].error=""),w.newPassword.value&&(await Promise.all([v.value.test(),y.value.test(),_.value.test()]),!w.newPassword.error&&!w.currentPassword.error&&!w.repeatPassword.error&&(await e.updatePassword(w.newPassword.value,w.currentPassword.value),w.newPassword.value="",w.currentPassword.value="")),A.value&&(await m.value.test(),!w.displayName.error&&!w.avatar.error&&e.updatePublicUser({displayName:w.displayName.value,avatar:w.avatar.value})),O.value&&(await Promise.all([g.value.test(),y.value.test()]),!w.email.error&&!w.currentPassword.error&&(await e.updateMail(w.email.value,w.currentPassword.value),w.currentPassword.value="")),ss(n.value,T.value)||(await Promise.all([h.value.test(),p.value.test()]),!w.firstName.error&&!w.lastName.error&&e.updateUser({firstName:w.firstName.value,lastName:w.lastName.value})),await l(($=r.value)==null?void 0:$.uid,!0)};return p1(()=>{var $,D,k,N,R;w.firstName.value=(($=n.value)==null?void 0:$.firstName)||"",w.lastName.value=((D=n.value)==null?void 0:D.lastName)||"",w.displayName.value=((k=i.value)==null?void 0:k.displayName)||"",w.email.value=((N=r.value)==null?void 0:N.email)||"",w.avatar.value=((R=i.value)==null?void 0:R.avatar)||""}),($,D)=>(S(),ie(va,null,{content:ce(()=>[P(n)&&P(r)?(S(),ie(Zr,{key:0,class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Welcome "+P(n).firstName+(P(n).lastName?" "+P(n).lastName:""),description:P(u).dashboardDescription},{default:ce(()=>[K("div",qse,[K("div",Xse,[K("form",{onSubmit:D[19]||(D[19]=wt(k=>M(),["prevent"]))},[Z(pr,{name:"accountType",label:"Account Type","model-value":P(s)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),Z(pr,{ref_key:"firstName",ref:h,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:w.firstName.value,"onUpdate:modelValue":D[0]||(D[0]=k=>w.firstName.value=k),error:w.firstName.error,"onUpdate:error":D[1]||(D[1]=k=>w.firstName.error=k),rules:[P(xt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),Z(pr,{ref_key:"lastName",ref:p,name:"lastName",label:"Last Name",modelValue:w.lastName.value,"onUpdate:modelValue":D[2]||(D[2]=k=>w.lastName.value=k),error:w.lastName.error,"onUpdate:error":D[3]||(D[3]=k=>w.lastName.error=k),"min-length":3,"max-length":50},null,8,["modelValue","error"]),Z(pr,{ref_key:"displayName",ref:m,name:"displayName",label:"Public Username",modelValue:w.displayName.value,"onUpdate:modelValue":D[4]||(D[4]=k=>w.displayName.value=k),error:w.displayName.error,"onUpdate:error":D[5]||(D[5]=k=>w.displayName.error=k),rules:[P(xt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),Z(zT,{ref_key:"email",ref:g,name:"email",label:"E-mail",modelValue:w.email.value,"onUpdate:modelValue":D[6]||(D[6]=k=>w.email.value=k),error:w.email.error,"onUpdate:error":D[7]||(D[7]=k=>w.email.error=k),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),O.value?(S(),ie(mu,{key:0,ref_key:"currentPassword",ref:y,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":D[8]||(D[8]=k=>w.currentPassword.value=k),error:w.currentPassword.error,"onUpdate:error":D[9]||(D[9]=k=>w.currentPassword.error=k),rules:[P(xt).Required]},null,8,["modelValue","error","rules"])):Y("",!0),Z(mu,{ref_key:"newPassword",ref:v,name:"newPassword",label:"New Password",modelValue:w.newPassword.value,"onUpdate:modelValue":D[10]||(D[10]=k=>w.newPassword.value=k),error:w.newPassword.error,"onUpdate:error":D[11]||(D[11]=k=>w.newPassword.error=k),min:6,max:50},null,8,["modelValue","error"]),w.newPassword.value?(S(),ie(mu,{key:1,ref_key:"repeatPassword",ref:_,name:"repeatPassword",label:"Repeat New Password",modelValue:w.repeatPassword.value,"onUpdate:modelValue":D[12]||(D[12]=k=>w.repeatPassword.value=k),error:w.repeatPassword.error,"onUpdate:error":D[13]||(D[13]=k=>w.repeatPassword.error=k),rules:[P(xt).Required],compare:{value:w.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):Y("",!0),w.newPassword.value&&!O.value?(S(),ie(mu,{key:2,ref_key:"currentPassword",ref:y,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":D[14]||(D[14]=k=>w.currentPassword.value=k),error:w.currentPassword.error,"onUpdate:error":D[15]||(D[15]=k=>w.currentPassword.error=k),rules:[P(xt).Required]},null,8,["modelValue","error","rules"])):Y("",!0),K("div",Qse,[E.value?(S(),ie(Ut,{key:0,class:"w-full",action:"submit",loading:P(o)},{default:ce(()=>[Qe(Le(E.value),1)]),_:1},8,["loading"])):Y("",!0),P(s)?Y("",!0):(S(),ie(Ut,{key:1,class:"w-full",type:"danger",outlined:"",onClick:D[16]||(D[16]=k=>f.value=!0)},{default:ce(()=>[Qe(" Delete account ")]),_:1}))]),P(s)?(S(),ie(Ud,{key:3,name:"online",label:"Online",modelValue:P(c),"onUpdate:modelValue":D[17]||(D[17]=k=>cn(c)?c.value=k:null)},null,8,["modelValue"])):Y("",!0),P(s)?(S(),ie(Ud,{key:4,name:"debug",label:"Debug",modelValue:P(d),"onUpdate:modelValue":D[18]||(D[18]=k=>cn(d)?d.value=k:null)},null,8,["modelValue"])):Y("",!0)],32)]),K("div",Jse,[Z(VT,{ref_key:"avatar",ref:b,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:w.avatar.value,"onUpdate:modelValue":D[20]||(D[20]=k=>w.avatar.value=k),error:w.avatar.error,"onUpdate:error":D[21]||(D[21]=k=>w.avatar.error=k),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])])]),K("div",Zse,[Z(KT)])]),_:1},8,["title","description"])):Y("",!0),Z(UT,{title:"Delete Account",isOpen:f.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:D[22]||(D[22]=k=>P(e).deleteAccount()),onCancel:D[23]||(D[23]=k=>f.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),toe=Ae({__name:"Dashboard",setup(t){return(e,n)=>(S(),ie(eoe))}}),noe=t=>(VP("data-v-bdf50b04"),t=t(),BP(),t),roe=noe(()=>K("h3",{class:"text-title-secondary"},"My Work",-1)),ioe=Ae({__name:"Projects",setup(t){const e=ar(),{moveProject:n}=e,{projects:r}=Jt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Wn(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),TK(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return It(()=>r.value,(o,a)=>{o>a&&s()}),Vt(()=>{s()}),(o,a)=>(S(),U(Te,null,[roe,Z(P(cL),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":P(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:ce(({element:l})=>[Z(Zr,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,description:l.description,loading:l.loading},{default:ce(()=>[(S(!0),U(Te,null,st(l.technologies,u=>(S(),ie(Ut,{class:"m-1 md:mt-2 font-bold",style:nr({backgroundColor:u.color})},{default:ce(()=>[Qe(Le(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","description","loading"])]),_:1},8,["model-value"])],64))}}),soe=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},ooe=soe(ioe,[["__scopeId","data-v-bdf50b04"]]),aoe={class:"grid mt-20"},loe=Ae({__name:"Home",setup(t){return(e,n)=>(S(),ie(va,{"scroll-to-content":!1},{content:ce(()=>[K("div",aoe,[Z(ooe)])]),_:1}))}}),uoe=Ae({__name:"Home",setup(t){return(e,n)=>(S(),ie(loe))}}),coe={class:"flex flex-col items-center content-center"},doe={class:"grid grid-cols-4 mt-10 gap-3"},foe=Ae({__name:"Login",setup(t){const e=sr(),{loginLoading:n}=Jt(e),r=hx(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=re(),a=re(),l=Dn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return Vt(()=>{r.replace({query:void 0})}),(d,f)=>{const h=En("RouterLink");return S(),ie(va,null,{content:ce(()=>[Z(Zr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:ce(()=>[K("div",coe,[K("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:f[4]||(f[4]=wt(p=>u(),["prevent"]))},[Z(zT,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":f[0]||(f[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":f[1]||(f[1]=p=>l.email.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(mu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":f[2]||(f[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":f[3]||(f[3]=p=>l.password.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),K("div",doe,[Z(Ut,{class:"col-span-full md:col-span-2",action:"submit",loading:P(n)},{default:ce(()=>[Qe(" Login ")]),_:1},8,["loading"]),Z(h,{class:"col-span-full md:col-span-2",to:{name:"register",query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:ce(()=>[Z(Ut,{class:"w-full",outlined:""},{default:ce(()=>[Qe(" Register ")]),_:1})]),_:1},8,["to"]),Z(Ut,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:ce(()=>[Qe(" Forgot Password ")]),_:1})])],32),Z(KT)])]),_:1})]),_:1})}}}),hoe=Ae({__name:"Login",setup(t){return(e,n)=>(S(),ie(foe))}}),poe=Ae({__name:"NotFound",setup(t){return(e,n)=>(S(),ie(va,{"scroll-to-content":!1},{content:ce(()=>[Z(Zr,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),moe=Ae({__name:"NotFound",setup(t){return(e,n)=>(S(),ie(poe))}}),goe={class:"flex flex-col items-center content-center"},voe={class:"grid grid-cols-2 mt-10 gap-3"},yoe=Ae({__name:"Register",setup(t){const e=sr(),{loginLoading:n}=Jt(e),r=hx(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=re(),a=re(),l=re(),u=Dn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return Vt(()=>{r.replace({query:void 0})}),(d,f)=>{const h=En("RouterLink");return S(),ie(va,null,{content:ce(()=>[Z(Zr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:ce(()=>[K("div",goe,[K("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:f[6]||(f[6]=wt(p=>c(),["prevent"]))},[Z(pr,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":f[0]||(f[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":f[1]||(f[1]=p=>u.firstName.error=p),rules:[P(xt).Required,P(xt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),Z(zT,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":f[2]||(f[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":f[3]||(f[3]=p=>u.email.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),Z(mu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":f[4]||(f[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":f[5]||(f[5]=p=>u.password.error=p),rules:[P(xt).Required]},null,8,["modelValue","error","rules"]),K("div",voe,[Z(Ut,{class:"col-span-full md:col-span-1",action:"submit",loading:P(n)},{default:ce(()=>[Qe(" Register ")]),_:1},8,["loading"]),Z(h,{to:{name:"login",query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:ce(()=>[Z(Ut,{class:"w-full",outlined:""},{default:ce(()=>[Qe(" Login ")]),_:1})]),_:1},8,["to"])])],32),Z(KT)])]),_:1})]),_:1})}}}),boe=Ae({__name:"Register",setup(t){return(e,n)=>(S(),ie(yoe))}}),jv=LU({history:hU(""),routes:[{path:"/",name:"home",meta:{title:"Home"},component:uoe,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];jv.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},{path:"/login",name:"login",meta:{title:"Login"},component:hoe,beforeEnter:(t,e,n)=>{sr().currentUser?n({name:"dashboard"}):n()}},{path:"/register",name:"register",meta:{title:"Register"},component:boe,beforeEnter:(t,e,n)=>{sr().currentUser?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",meta:{title:"Dashboard"},component:toe,beforeEnter:(t,e,n)=>{sr().currentUser?n():n({name:"login"})}},{path:"/blog/:postId?",name:"blog",meta:{title:"Blog"},component:Use},{path:"/customvoting",name:"customvoting",meta:{title:"CustomVoting"},component:zse},{path:"/cat-calc",name:"cat-calc",meta:{title:"CatCalc"},component:jse},{path:"/:pathMatch(.*)*",name:"notfound",meta:{title:"404"},component:moe}],scrollBehavior(t,e,n){return t.hash?new Promise((r,i)=>{let s=10;const o=()=>{setTimeout(()=>{try{document.getElementById(t.hash.replace("#",""))?r({el:t.hash,behavior:"smooth",top:15}):(s--,s>0?o():i())}catch(a){i(a)}},1e3)};o()}):n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),SA=b$.name;jv.beforeEach(async(t,e,n)=>{var r,i;if(t!==e){const s=ar();t.name&&(["home","login","register","dashboard","notfound"].includes(t.name.toString())||(i=await s.fetchMenuItems((r=sr().firebaseUser)==null?void 0:r.uid))!=null&&i.some(o=>t.path.startsWith(o.url)))?n():n({name:"notfound"})}else n()});jv.beforeResolve(t=>{document.title=SA+" | "+t.meta.title||SA});const GT=jv;function Wi(t){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(t)}function nt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function We(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ze(t){We(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Wi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ks(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function as(t,e){We(2,arguments);var n=Ze(t),r=nt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function mL(t,e){if(We(2,arguments),!e||Wi(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=Ze(t),c=r||n?as(u,r+n*12):u,d=s||i?Ks(c,s+i*7):c,f=a+o*60,h=l+f*60,p=h*1e3,m=new Date(d.getTime()+p);return m}function woe(t,e){We(2,arguments);var n=Ze(t).getTime(),r=nt(e);return new Date(n+r)}var _oe={};function Vs(){return _oe}function _l(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function cg(t){return We(1,arguments),_l(t,{weekStartsOn:1})}function Toe(t){We(1,arguments);var e=Ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=cg(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=cg(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Soe(t){We(1,arguments);var e=Toe(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=cg(n);return r}function dg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function EA(t){We(1,arguments);var e=Ze(t);return e.setHours(0,0,0,0),e}var Eoe=864e5;function Ioe(t,e){We(2,arguments);var n=EA(t),r=EA(e),i=n.getTime()-dg(n),s=r.getTime()-dg(r);return Math.round((i-s)/Eoe)}function Coe(t,e){We(2,arguments);var n=nt(e),r=n*3;return as(t,r)}function YT(t,e){We(2,arguments);var n=nt(e);return as(t,n*12)}var qT=6e4,XT=36e5,Ooe=1e3;function gL(t){return We(1,arguments),t instanceof Date||Wi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vd(t){if(We(1,arguments),!gL(t)&&typeof t!="number")return!1;var e=Ze(t);return!isNaN(Number(e))}function IA(t){We(1,arguments);var e=Ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function vL(t,e){var n;We(1,arguments);var r=t||{},i=Ze(r.start),s=Ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Mf(t){We(1,arguments);var e=Ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Aoe(t){We(1,arguments);var e=t||{},n=Ze(e.start),r=Ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Mf(n),o=Mf(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(Ze(l)),l=Coe(l,1);return a}function Poe(t){We(1,arguments);var e=Ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function koe(t){We(1,arguments);var e=Ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function xoe(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getDay(),p=(h<d?-7:0)+6-(h-d);return f.setDate(f.getDate()+p),f.setHours(23,59,59,999),f}function CA(t){We(1,arguments);var e=Ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function yL(t,e){We(2,arguments);var n=nt(e);return woe(t,-n)}var Doe=864e5;function Roe(t){We(1,arguments);var e=Ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Doe)+1}function lc(t){We(1,arguments);var e=1,n=Ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function bL(t){We(1,arguments);var e=Ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=lc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=lc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Noe(t){We(1,arguments);var e=bL(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=lc(n);return r}var Moe=6048e5;function wL(t){We(1,arguments);var e=Ze(t),n=lc(e).getTime()-Noe(e).getTime();return Math.round(n/Moe)+1}function Tl(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function QT(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Ze(t),d=c.getUTCFullYear(),f=Vs(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var m=Tl(p,e),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var v=Tl(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}function $oe(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=QT(t,e),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=Tl(h,e);return p}var Loe=6048e5;function _L(t,e){We(1,arguments);var n=Ze(t),r=Tl(n,e).getTime()-$oe(n,e).getTime();return Math.round(r/Loe)+1}function Zt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Foe={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Zt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Zt(r+1,2)},d:function(e,n){return Zt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Zt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Zt(e.getUTCHours(),n.length)},m:function(e,n){return Zt(e.getUTCMinutes(),n.length)},s:function(e,n){return Zt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Zt(s,n.length)}};const Io=Foe;var ql={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Uoe={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Io.y(e,n)},Y:function(e,n,r,i){var s=QT(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Zt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Zt(o,n.length)},R:function(e,n){var r=bL(e);return Zt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Zt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Zt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Zt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Io.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Zt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=_L(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Zt(s,n.length)},I:function(e,n,r){var i=wL(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Zt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Io.d(e,n)},D:function(e,n,r){var i=Roe(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Zt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Zt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Zt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Zt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=ql.noon:i===0?s=ql.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=ql.evening:i>=12?s=ql.afternoon:i>=4?s=ql.morning:s=ql.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Io.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Io.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Zt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Zt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Io.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Io.s(e,n)},S:function(e,n){return Io.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return AA(o);case"XXXX":case"XX":return Pa(o);case"XXXXX":case"XXX":default:return Pa(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return AA(o);case"xxxx":case"xx":return Pa(o);case"xxxxx":case"xxx":default:return Pa(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+OA(o,":");case"OOOO":default:return"GMT"+Pa(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+OA(o,":");case"zzzz":default:return"GMT"+Pa(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Zt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Zt(o,n.length)}};function OA(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Zt(s,2)}function AA(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Zt(Math.abs(t)/60,2)}return Pa(t,e)}function Pa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Zt(Math.floor(i/60),2),o=Zt(i%60,2);return r+s+n+o}var PA=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},TL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Voe=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return PA(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",PA(i,n)).replace("{{time}}",TL(s,n))},$w={p:TL,P:Voe},Boe=["D","DD"],joe=["YY","YYYY"];function SL(t){return Boe.indexOf(t)!==-1}function EL(t){return joe.indexOf(t)!==-1}function fg(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Hoe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Woe=function(e,n,r){var i,s=Hoe[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Koe=Woe;function vb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var zoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Goe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yoe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qoe={date:vb({formats:zoe,defaultWidth:"full"}),time:vb({formats:Goe,defaultWidth:"full"}),dateTime:vb({formats:Yoe,defaultWidth:"full"})};const Xoe=qoe;var Qoe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Joe=function(e,n,r,i){return Qoe[e]};const Zoe=Joe;function Wc(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var eae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oae=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aae={ordinalNumber:oae,era:Wc({values:eae,defaultWidth:"wide"}),quarter:Wc({values:tae,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wc({values:nae,defaultWidth:"wide"}),day:Wc({values:rae,defaultWidth:"wide"}),dayPeriod:Wc({values:iae,defaultWidth:"wide",formattingValues:sae,defaultFormattingWidth:"wide"})};const lae=aae;function Kc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?cae(a,function(d){return d.test(o)}):uae(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function uae(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function cae(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function dae(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var fae=/^(\d+)(th|st|nd|rd)?/i,hae=/\d+/i,pae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mae={any:[/^b/i,/^(a|c)/i]},gae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vae={any:[/1/i,/2/i,/3/i,/4/i]},yae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_ae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Eae={ordinalNumber:dae({matchPattern:fae,parsePattern:hae,valueCallback:function(e){return parseInt(e,10)}}),era:Kc({matchPatterns:pae,defaultMatchWidth:"wide",parsePatterns:mae,defaultParseWidth:"any"}),quarter:Kc({matchPatterns:gae,defaultMatchWidth:"wide",parsePatterns:vae,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Kc({matchPatterns:yae,defaultMatchWidth:"wide",parsePatterns:bae,defaultParseWidth:"any"}),day:Kc({matchPatterns:wae,defaultMatchWidth:"wide",parsePatterns:_ae,defaultParseWidth:"any"}),dayPeriod:Kc({matchPatterns:Tae,defaultMatchWidth:"any",parsePatterns:Sae,defaultParseWidth:"any"})};const Iae=Eae;var Cae={code:"en-US",formatDistance:Koe,formatLong:Xoe,formatRelative:Zoe,localize:lae,match:Iae,options:{weekStartsOn:0,firstWeekContainsDate:1}};const IL=Cae;var Oae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Aae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pae=/^'([^]*?)'?$/,kae=/''/g,xae=/[a-zA-Z]/;function Zo(t,e,n){var r,i,s,o,a,l,u,c,d,f,h,p,m,g,v,y,_,b;We(2,arguments);var w=String(e),T=Vs(),x=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:IL,A=nt((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(d=T.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=nt((h=(p=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(v=n.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&m!==void 0?m:T.weekStartsOn)!==null&&p!==void 0?p:(_=T.locale)===null||_===void 0||(b=_.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var E=Ze(t);if(!Vd(E))throw new RangeError("Invalid time value");var M=dg(E),$=yL(E,M),D={firstWeekContainsDate:A,weekStartsOn:O,locale:x,_originalDate:E},k=w.match(Aae).map(function(N){var R=N[0];if(R==="p"||R==="P"){var B=$w[R];return B(N,x.formatLong)}return N}).join("").match(Oae).map(function(N){if(N==="''")return"'";var R=N[0];if(R==="'")return Dae(N);var B=Uoe[R];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&EL(N)&&fg(N,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&SL(N)&&fg(N,e,String(t)),B($,N,x.localize,D);if(R.match(xae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return N}).join("");return k}function Dae(t){var e=t.match(Pae);return e?e[1].replace(kae,"'"):t}function Rae(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Nae(t){We(1,arguments);var e=Ze(t),n=e.getDay();return n}function Mae(t){We(1,arguments);var e=Ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function ls(t){We(1,arguments);var e=Ze(t),n=e.getHours();return n}var $ae=6048e5;function Lae(t){We(1,arguments);var e=Ze(t),n=cg(e).getTime()-Soe(e).getTime();return Math.round(n/$ae)+1}function Rs(t){We(1,arguments);var e=Ze(t),n=e.getMinutes();return n}function $t(t){We(1,arguments);var e=Ze(t),n=e.getMonth();return n}function uc(t){We(1,arguments);var e=Ze(t),n=e.getSeconds();return n}function Fae(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Ze(t),d=c.getFullYear(),f=Vs(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,h),p.setHours(0,0,0,0);var m=_l(p,e),g=new Date(0);g.setFullYear(d,0,h),g.setHours(0,0,0,0);var v=_l(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}function Uae(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Vs(),d=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Fae(t,e),h=new Date(0);h.setFullYear(f,0,d),h.setHours(0,0,0,0);var p=_l(h,e);return p}var Vae=6048e5;function Bae(t,e){We(1,arguments);var n=Ze(t),r=_l(n,e).getTime()-Uae(n,e).getTime();return Math.round(r/Vae)+1}function bt(t){return We(1,arguments),Ze(t).getFullYear()}function $f(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()>r.getTime()}function Lf(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()<r.getTime()}function gu(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()===r.getTime()}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jae(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function xA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jae(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function Bt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!t})()}function Hae(t,e){if(e&&(Wi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}function jt(t){var e=CL();return function(){var r=hg(t),i;if(e){var s=hg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Hae(this,i)}}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wae(t,e){if(Wi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OL(t){var e=Wae(t,"string");return Wi(e)=="symbol"?e:String(e)}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function Pt(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ve(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kae=10,AL=function(){function t(){At(this,t),Ve(this,"priority",void 0),Ve(this,"subPriority",0)}return Pt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),zae=function(t){Bt(n,t);var e=jt(n);function n(r,i,s,o,a){var l;return At(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return Pt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(AL),Gae=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",Kae),Ve(He(r),"subPriority",-1),r}return Pt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(AL),qt=function(){function t(){At(this,t),Ve(this,"incompatibleTokens",void 0),Ve(this,"priority",void 0),Ve(this,"subPriority",void 0)}return Pt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new zae(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Yae=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",140),Ve(He(r),"incompatibleTokens",["R","u","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ws={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hn(t,e){return t&&{value:e(t.value),rest:t.rest}}function kn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function _s(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*XT+s*qT+o*Ooe),rest:e.slice(n[0].length)}}function PL(t){return kn(jn.anyDigitsSigned,t)}function Vn(t,e){switch(t){case 1:return kn(jn.singleDigit,e);case 2:return kn(jn.twoDigits,e);case 3:return kn(jn.threeDigits,e);case 4:return kn(jn.fourDigits,e);default:return kn(new RegExp("^\\d{1,"+t+"}"),e)}}function pg(t,e){switch(t){case 1:return kn(jn.singleDigitSigned,e);case 2:return kn(jn.twoDigitsSigned,e);case 3:return kn(jn.threeDigitsSigned,e);case 4:return kn(jn.fourDigitsSigned,e);default:return kn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function JT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function kL(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function xL(t){return t%400===0||t%4===0&&t%100!==0}var qae=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Hn(Vn(4,i),a);case"yo":return Hn(o.ordinalNumber(i,{unit:"year"}),a);default:return Hn(Vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=kL(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),Xae=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Hn(Vn(4,i),a);case"Yo":return Hn(o.ordinalNumber(i,{unit:"year"}),a);default:return Hn(Vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=QT(i,a);if(o.isTwoDigitYear){var u=kL(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Tl(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Tl(i,a)}}]),n}(qt),Qae=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s){return pg(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),lc(a)}}]),n}(qt),Jae=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s){return pg(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),Zae=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",120),Ve(He(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Vn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),ele=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",120),Ve(He(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Vn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),tle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ve(He(r),"priority",110),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Hn(kn(jn.month,i),a);case"MM":return Hn(Vn(2,i),a);case"Mo":return Hn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt),nle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",110),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Hn(kn(jn.month,i),a);case"LL":return Hn(Vn(2,i),a);case"Lo":return Hn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(qt);function rle(t,e,n){We(2,arguments);var r=Ze(t),i=nt(e),s=_L(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var ile=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",100),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return kn(jn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Tl(rle(i,o,a),a)}}]),n}(qt);function sle(t,e){We(2,arguments);var n=Ze(t),r=nt(e),i=wL(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var ole=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",100),Ve(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return kn(jn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return lc(sle(i,o))}}]),n}(qt),ale=[31,28,31,30,31,30,31,31,30,31,30,31],lle=[31,29,31,30,31,30,31,31,30,31,30,31],ule=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"subPriority",1),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return kn(jn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=xL(o),l=i.getUTCMonth();return a?s>=1&&s<=lle[l]:s>=1&&s<=ale[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(qt),cle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"subpriority",1),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return kn(jn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=xL(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(qt);function ZT(t,e,n){var r,i,s,o,a,l,u,c;We(2,arguments);var d=Vs(),f=nt((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ze(t),p=nt(e),m=h.getUTCDay(),g=p%7,v=(g+7)%7,y=(v<f?7:0)+p-m;return h.setUTCDate(h.getUTCDate()+y),h}var dle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=ZT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(qt),fle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Hn(Vn(s.length,i),l);case"eo":return Hn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=ZT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(qt),hle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Hn(Vn(s.length,i),l);case"co":return Hn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=ZT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(qt);function ple(t,e){We(2,arguments);var n=nt(e);n%7===0&&(n=n-7);var r=1,i=Ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var mle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Vn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Hn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Hn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Hn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Hn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=ple(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(qt),gle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(JT(o),0,0,0),i}}]),n}(qt),vle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(JT(o),0,0,0),i}}]),n}(qt),yle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["a","b","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(JT(o),0,0,0),i}}]),n}(qt),ble=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return kn(jn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(qt),wle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return kn(jn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(qt),_le=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return kn(jn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(qt),Tle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return kn(jn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(qt),Sle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",60),Ve(He(r),"incompatibleTokens",["t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return kn(jn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(qt),Ele=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",50),Ve(He(r),"incompatibleTokens",["t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return kn(jn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(qt),Ile=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",30),Ve(He(r),"incompatibleTokens",["t","T"]),r}return Pt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Hn(Vn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(qt),Cle=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",10),Ve(He(r),"incompatibleTokens",["t","T","x"]),r}return Pt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return _s(ws.basicOptionalMinutes,i);case"XX":return _s(ws.basic,i);case"XXXX":return _s(ws.basicOptionalSeconds,i);case"XXXXX":return _s(ws.extendedOptionalSeconds,i);case"XXX":default:return _s(ws.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(qt),Ole=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",10),Ve(He(r),"incompatibleTokens",["t","T","X"]),r}return Pt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return _s(ws.basicOptionalMinutes,i);case"xx":return _s(ws.basic,i);case"xxxx":return _s(ws.basicOptionalSeconds,i);case"xxxxx":return _s(ws.extendedOptionalSeconds,i);case"xxx":default:return _s(ws.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(qt),Ale=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",40),Ve(He(r),"incompatibleTokens","*"),r}return Pt(n,[{key:"parse",value:function(i){return PL(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(qt),Ple=function(t){Bt(n,t);var e=jt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",20),Ve(He(r),"incompatibleTokens","*"),r}return Pt(n,[{key:"parse",value:function(i){return PL(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(qt),kle={G:new Yae,y:new qae,Y:new Xae,R:new Qae,u:new Jae,Q:new Zae,q:new ele,M:new tle,L:new nle,w:new ile,I:new ole,d:new ule,D:new cle,E:new dle,e:new fle,c:new hle,i:new mle,a:new gle,b:new vle,B:new yle,h:new ble,H:new wle,K:new _le,k:new Tle,m:new Sle,s:new Ele,S:new Ile,X:new Cle,x:new Ole,t:new Ale,T:new Ple},xle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rle=/^'([^]*?)'?$/,Nle=/''/g,Mle=/\S/,$le=/[a-zA-Z]/;function Fw(t,e,n,r){var i,s,o,a,l,u,c,d,f,h,p,m,g,v,y,_,b,w;We(3,arguments);var T=String(t),x=String(e),A=Vs(),O=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:A.locale)!==null&&i!==void 0?i:IL;if(!O.match)throw new RangeError("locale must contain match property");var E=nt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:A.firstWeekContainsDate)!==null&&a!==void 0?a:(f=A.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=nt((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(y=r.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:A.weekStartsOn)!==null&&m!==void 0?m:(b=A.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(x==="")return T===""?Ze(n):new Date(NaN);var $={firstWeekContainsDate:E,weekStartsOn:M,locale:O},D=[new Gae],k=x.match(Dle).map(function(ae){var X=ae[0];if(X in $w){var he=$w[X];return he(ae,O.formatLong)}return ae}).join("").match(xle),N=[],R=xA(k),B;try{var G=function(){var X=B.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&EL(X)&&fg(X,x,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&SL(X)&&fg(X,x,t);var he=X[0],be=kle[he];if(be){var oe=be.incompatibleTokens;if(Array.isArray(oe)){var C=N.find(function(H){return oe.includes(H.token)||H.token===he});if(C)throw new RangeError("The format string mustn't contain `".concat(C.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&N.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));N.push({token:he,fullToken:X});var L=be.run(T,X,O.match,$);if(!L)return{v:new Date(NaN)};D.push(L.setter),T=L.rest}else{if(he.match($le))throw new RangeError("Format string contains an unescaped latin alphabet character `"+he+"`");if(X==="''"?X="'":he==="'"&&(X=Lle(X)),T.indexOf(X)===0)T=T.slice(X.length);else return{v:new Date(NaN)}}};for(R.s();!(B=R.n()).done;){var F=G();if(Wi(F)==="object")return F.v}}catch(ae){R.e(ae)}finally{R.f()}if(T.length>0&&Mle.test(T))return new Date(NaN);var I=D.map(function(ae){return ae.priority}).sort(function(ae,X){return X-ae}).filter(function(ae,X,he){return he.indexOf(ae)===X}).map(function(ae){return D.filter(function(X){return X.priority===ae}).sort(function(X,he){return he.subPriority-X.subPriority})}).map(function(ae){return ae[0]}),ee=Ze(n);if(isNaN(ee.getTime()))return new Date(NaN);var te=yL(ee,dg(ee)),ge={},ve=xA(I),ne;try{for(ve.s();!(ne=ve.n()).done;){var j=ne.value;if(!j.validate(te,$))return new Date(NaN);var z=j.set(te,ge,$);Array.isArray(z)?(te=z[0],Rae(ge,z[1])):te=z}}catch(ae){ve.e(ae)}finally{ve.f()}return te}function Lle(t){return t.match(Rle)[1].replace(Nle,"'")}function RA(t,e){We(2,arguments);var n=Mf(t),r=Mf(e);return n.getTime()===r.getTime()}function Fle(t,e){We(2,arguments);var n=nt(e);return Ks(t,-n)}function Ule(t,e){var n;We(1,arguments);var r=nt((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Hle(t),s;if(i.date){var o=Wle(i.date,r);s=Kle(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=zle(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Gle(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Cp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Vle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ble=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Hle(t){var e={},n=t.split(Cp.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Cp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Cp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Cp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Wle(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Kle(t,e){if(e===null)return new Date(NaN);var n=t.match(Vle);if(!n)return new Date(NaN);var r=!!n[4],i=zc(n[1]),s=zc(n[2])-1,o=zc(n[3]),a=zc(n[4]),l=zc(n[5])-1;if(r)return Jle(e,a,l)?Yle(e,a,l):new Date(NaN);var u=new Date(0);return!Xle(e,s,o)||!Qle(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function zc(t){return t?parseInt(t):1}function zle(t){var e=t.match(Ble);if(!e)return NaN;var n=yb(e[1]),r=yb(e[2]),i=yb(e[3]);return Zle(n,r,i)?n*XT+r*qT+i*1e3:NaN}function yb(t){return t&&parseFloat(t.replace(",","."))||0}function Gle(t){if(t==="Z")return 0;var e=t.match(jle);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return eue(r,i)?n*(r*XT+i*qT):NaN}function Yle(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var qle=[31,null,31,30,31,30,31,31,30,31,30,31];function DL(t){return t%400===0||t%4===0&&t%100!==0}function Xle(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(qle[e]||(DL(t)?29:28))}function Qle(t,e){return e>=1&&e<=(DL(t)?366:365)}function Jle(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Zle(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function eue(t,e){return e>=0&&e<=59}function RL(t,e){We(2,arguments);var n=Ze(t),r=nt(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Mae(o);return n.setMonth(r,Math.min(s,a)),n}function yn(t,e){if(We(2,arguments),Wi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=RL(n,e.month)),e.date!=null&&n.setDate(nt(e.date)),e.hours!=null&&n.setHours(nt(e.hours)),e.minutes!=null&&n.setMinutes(nt(e.minutes)),e.seconds!=null&&n.setSeconds(nt(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(nt(e.milliseconds)),n)}function NL(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setHours(r),n}function eS(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setMilliseconds(r),n}function ML(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setMinutes(r),n}function tS(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setSeconds(r),n}function Os(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function cc(t,e){We(2,arguments);var n=nt(e);return as(t,-n)}function tue(t,e){if(We(2,arguments),!e||Wi(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=cc(t,r+n*12),c=Fle(u,s+i*7),d=a+o*60,f=l+d*60,h=f*1e3,p=new Date(c.getTime()-h);return p}function $L(t,e){We(2,arguments);var n=nt(e);return YT(t,-n)}function Oc(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),K("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Oc.compatConfig={MODE:3};function LL(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),K("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}LL.compatConfig={MODE:3};function nS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}nS.compatConfig={MODE:3};function rS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}rS.compatConfig={MODE:3};function iS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),K("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}iS.compatConfig={MODE:3};function sS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}sS.compatConfig={MODE:3};function oS(){return S(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}oS.compatConfig={MODE:3};function aS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FL={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(FL);var nue=FL.exports,Uw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Uw,Uw.exports);var rue=Uw.exports;const iue=aS(rue);var Vw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Vw,Vw.exports);var sue=Vw.exports;const NA=aS(sue);function oue(t,e){var n=cue(e);return n.formatToParts?lue(n,t):uue(n,t)}var aue={year:0,month:1,day:2,hour:3,minute:4,second:5};function lue(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=aue[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function uue(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var bb={};function cue(t){if(!bb[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";bb[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return bb[t]}function lS(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var MA=36e5,due=6e4,wb={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function uS(t,e,n){var r,i;if(t===""||(r=wb.timezoneZ.exec(t),r))return 0;var s;if(r=wb.timezoneHH.exec(t),r)return s=parseInt(r[1],10),$A(s)?-(s*MA):NaN;if(r=wb.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return $A(s,o)?(i=Math.abs(s)*MA+o*due,s>0?-i:i):NaN}if(pue(t)){e=new Date(e||Date.now());var a=n?e:fue(e),l=Bw(a,t),u=n?l:hue(e,l,t);return-u}return NaN}function fue(t){return lS(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Bw(t,e){var n=oue(t,e),r=lS(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function hue(t,e,n){var r=t.getTime(),i=r-e,s=Bw(new Date(i),n);if(e===s)return e;i-=s-e;var o=Bw(new Date(i),n);return s===o?s:Math.max(s,o)}function $A(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var LA={};function pue(t){if(LA[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),LA[t]=!0,!0}catch{return!1}}var UL=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,_b=36e5,FA=6e4,mue=2,qr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:UL};function jw(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?mue:iue(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=gue(t),s=vue(i.date,r),o=s.year,a=s.restDateString,l=yue(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=bue(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=uS(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=NA(new Date(u+c)),d=NA(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function gue(t){var e={},n=qr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=qr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=qr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function vue(t,e){var n=qr.YYY[e],r=qr.YYYYY[e],i;if(i=qr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=qr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function yue(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=qr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,VA(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=qr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Tue(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=qr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return VA(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=qr.Www.exec(t),n)return s=parseInt(n[1],10)-1,BA(e,s)?UA(e,s):new Date(NaN);if(n=qr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return BA(e,s,l)?UA(e,s,l):new Date(NaN)}return null}function bue(t){var e,n,r;if(e=qr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Tb(n)?n%24*_b:NaN;if(e=qr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Tb(n,r)?n%24*_b+r*FA:NaN;if(e=qr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Tb(n,r,i)?n%24*_b+r*FA+i*1e3:NaN}return null}function UA(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var wue=[31,28,31,30,31,30,31,31,30,31,30,31],_ue=[31,29,31,30,31,30,31,31,30,31,30,31];function VL(t){return t%400===0||t%4===0&&t%100!==0}function VA(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=VL(t);if(r&&n>_ue[e]||!r&&n>wue[e])return!1}return!0}function Tue(t,e){if(e<1)return!1;var n=VL(t);return!(n&&e>366||!n&&e>365)}function BA(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Tb(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Hw={exports:{}},Ww={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Ww,Ww.exports);var Sue=Ww.exports;(function(t,e){var n=nue.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(Sue);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Hw,Hw.exports);var Eue=Hw.exports;const Iue=aS(Eue);function Cue(t,e,n){var r=jw(t,n),i=uS(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function Oue(t,e,n){if(typeof t=="string"&&!t.match(UL)){var r=Iue(n);return r.timeZone=e,jw(t,r)}var i=jw(t,n),s=lS(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=uS(e,new Date(s));return new Date(s+o)}function jA(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function Aue(t){return e=>Zo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Pue=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(Aue(t))}catch{i=r.map(jA(e))}else i=r.map(jA(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},cS=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},BL=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Zo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},kue=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],tr=t=>{const e=P(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},xue=t=>Object.assign({type:"dot"},t),jL=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,mg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},lr=t=>t,HA=t=>t===0?t:!t||isNaN(+t)?null:+t,WA=t=>t===null,Due=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Rue=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Ff=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},dc=(t,e)=>Rue(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ea=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},Nue=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Mue(t,e){let n=[...document.querySelectorAll(Nue())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const $ue=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},KA=(t,e,n,r,i)=>{const s=Fw(t,e.slice(0,t.length),new Date);return Vd(s)&&gL(s)?r||i?s:yn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},Lue=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return KA(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=KA(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},_e=t=>t?new Date(t):new Date,Fue=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Hr=t=>{let e=_e(JSON.parse(JSON.stringify(t)));return e=NL(e,0),e=ML(e,0),e=tS(e,0),e=eS(e,0),e},ta=(t,e,n,r)=>{let i=t?_e(t):_e();return(e||e===0)&&(i=NL(i,+e)),(n||n===0)&&(i=ML(i,+n)),(r||r===0)&&(i=tS(i,+r)),eS(i,0)},Ir=(t,e)=>!t||!e?!1:Lf(Hr(t),Hr(e)),Gt=(t,e)=>!t||!e?!1:gu(Hr(t),Hr(e)),Fr=(t,e)=>!t||!e?!1:$f(Hr(t),Hr(e)),Hv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Fr(n,t[0])&&Ir(n,t[1]):t!=null&&t[0]&&e?Fr(n,t[0])&&Ir(n,e)||Ir(n,t[0])&&Fr(n,e):!1,ns=t=>{const e=yn(new Date(t),{date:1});return Hr(e)},Sb=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Qa=t=>({hours:ls(t),minutes:Rs(t),seconds:uc(t)}),HL=(t,e)=>{if(e){const n=bt(_e(e));if(n>t)return 12;if(n===t)return $t(_e(e))}},WL=(t,e)=>{if(e){const n=bt(_e(e));return n<t?-1:n===t?$t(_e(e)):void 0}},fc=t=>{if(t)return bt(_e(t))},us=(t,e)=>e?Cue(t,e):t,KL=(t,e)=>e?Oue(t,e):t,Uue=t=>t instanceof Date?t:Ule(t),zL=(t,e)=>{const n=Fr(t,e)?e:t,r=Fr(e,t)?e:t;return vL({start:n,end:r})},Vue=t=>{const e=as(t,1);return{month:$t(e),year:bt(e)}},Zp=(t,e,n)=>{const r=_l(us(t,e),{weekStartsOn:+n}),i=xoe(us(t,e),{weekStartsOn:+n});return[r,i]},GL=(t,e)=>{const n={hours:ls(_e()),minutes:Rs(_e()),seconds:e?uc(_e()):0};return Object.assign(n,t)},Ko=(t,e,n)=>[yn(_e(t),{date:1}),yn(_e(),{month:e,year:n,date:1})],Xs=(t,e,n)=>{let r=t?_e(t):_e();return(e||e===0)&&(r=RL(r,e)),n&&(r=Os(r,n)),r},YL=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?as(t,1):cc(t,1),o=[$t(s),bt(s)];return i?!jue(...o,e):!Bue(...o,n)},Bue=(t,e,n)=>Ir(...Ko(n,t,e))||Gt(...Ko(n,t,e)),jue=(t,e,n)=>Fr(...Ko(n,t,e))||Gt(...Ko(n,t,e)),qL=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Zo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?Zo(t[1],s,a):""}`:Zo(t,s,a)},Xl=t=>{if(t)return null;throw new Error(mg.prop("partial-range"))},Op=(t,e)=>{if(e)return t();throw new Error(mg.prop("range"))},Kw=t=>Array.isArray(t)?Vd(t[0])&&(t[1]?Vd(t[1]):!0):t?Vd(t):!1,Hue=(t,e)=>yn(e??_e(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Eb=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Lf(t,e):$f(t,e),s={seconds:0,milliseconds:0};return i||gu(yn(t,s),yn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Ib=(t,e,n)=>t?Hue(t,e):_e(n??e),zA=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Ib(t,r[0],e),a=Ib(t,r[1],e);return Eb(r[0],o,n,!!e)&&Eb(r[1],a,n,!!e)&&i}const s=Ib(t,r,e);return Eb(r,s,n,!!e)&&i},Cb=t=>yn(_e(),Qa(t)),Wue=(t,e)=>Array.isArray(t)?t.map(n=>_e(n)).filter(n=>bt(_e(n))===e).map(n=>$t(n)):[],XL=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),dS=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Gc=Dn({menuFocused:!1,shiftKeyInMenu:!1}),QL=()=>{const t=n=>{Gc.menuFocused=n},e=n=>{Gc.shiftKeyInMenu!==n&&(Gc.shiftKeyInMenu=n)};return{control:J(()=>({shiftKeyInMenu:Gc.shiftKeyInMenu,menuFocused:Gc.menuFocused})),setMenuFocused:t,setShiftKey:e}},fn=Dn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ob=re(null),Ap=re(!1),Ab=re(!1),Pb=re(!1),kb=re(!1),zr=re(0),vr=re(0),ya=()=>{const t=J(()=>Ap.value?[...fn.selectionGrid,fn.actionRow].filter(d=>d.length):Ab.value?[...fn.timePicker[0],...fn.timePicker[1],kb.value?[]:[Ob.value],fn.actionRow].filter(d=>d.length):Pb.value?[...fn.monthPicker,fn.actionRow]:[fn.monthYear,...fn.calendar,fn.time,fn.actionRow].filter(d=>d.length)),e=d=>{zr.value=d?zr.value+1:zr.value-1;let f=null;t.value[vr.value]&&(f=t.value[vr.value][zr.value]),f||(zr.value=d?zr.value-1:zr.value+1)},n=d=>{vr.value===0&&!d||vr.value===t.value.length&&d||(vr.value=d?vr.value+1:vr.value-1,t.value[vr.value]?t.value[vr.value]&&!t.value[vr.value][zr.value]&&zr.value!==0&&(zr.value=t.value[vr.value].length-1):vr.value=d?vr.value-1:vr.value+1)},r=d=>{let f=null;t.value[vr.value]&&(f=t.value[vr.value][zr.value]),f?f.focus({preventScroll:!Ap.value}):zr.value=d?zr.value-1:zr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{fn[f]=d},u=(d,f)=>{fn[f]=d},c=()=>{zr.value=0,vr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Ob.value=d},setSelectionGrid:d=>{Ap.value=d,c(),d||(fn.selectionGrid=[])},setTimePicker:(d,f=!1)=>{Ab.value=d,kb.value=f,c(),d||(fn.timePicker[0]=[],fn.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{fn.timePicker[f]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{fn.monthYear=[],fn.calendar=[],fn.time=[],fn.actionRow=[],fn.selectionGrid=[],fn.timePicker[0]=[],fn.timePicker[1]=[],Ap.value=!1,Ab.value=!1,kb.value=!1,Pb.value=!1,c(),Ob.value=null},setMonthPicker:d=>{Pb.value=d,c()},refSets:fn}},GA=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Kue=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),YA=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,zue=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:YA(!1)};const r=e?t:{},i=e?r.count??!0:t,s=YA(i);return Object.assign(n,r,{count:s})},Gue=(t,e,n)=>t||(typeof n=="string"?n:e),Yue=t=>typeof t=="boolean"?t?GA({}):!1:GA(t),que=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Xue=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Que=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Jue=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},Zue=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),ece=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>_e(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},tce=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Kn=t=>{const e=()=>{const v=t.enableSeconds?":ss":"";return t.is24?`HH:mm${v}`:`hh:mm${v} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=v=>GL(v,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=J(()=>zue(t.multiCalendars)),o=J(()=>i()),a=J(()=>Kue(t.ariaLabels)),l=J(()=>Xue(t.filters)),u=J(()=>Yue(t.transitions)),c=J(()=>Que(t.actionRow)),d=J(()=>Gue(t.previewFormat,t.format,n())),f=J(()=>que(t.textInput)),h=J(()=>Jue(t.inline)),p=J(()=>Zue(t.config)),m=J(()=>ece(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),g=J(()=>tce(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:g,getDefaultPattern:n,getDefaultStartTime:i}},nce=(t,e,n)=>{const r=re(),{defaultedTextInput:i,getDefaultPattern:s}=Kn(e),o=re(""),a=Fu(e,"format");It(r,()=>{t("internal-model-change",r.value)}),It(a,()=>{k()});const l=I=>KL(I,e.timezone),u=I=>us(I,e.timezone),c=(I,ee,te=!1)=>qL(I,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ee??s(),te),d=I=>I?e.modelType?R(I):{hours:ls(I),minutes:Rs(I),seconds:e.enableSeconds?uc(I):0}:null,f=I=>e.modelType?R(I):{month:$t(I),year:bt(I)},h=I=>Array.isArray(I)?e.multiDates?I.map(ee=>p(ee,Os(_e(),ee))):Op(()=>[Os(_e(),I[0]),I[1]?Os(_e(),I[1]):Xl(e.partialRange)],e.range):Os(_e(),+I),p=(I,ee)=>(typeof I=="string"||typeof I=="number")&&e.modelType?N(I):ee,m=I=>Array.isArray(I)?[p(I[0],ta(null,+I[0].hours,+I[0].minutes,I[0].seconds)),p(I[1],ta(null,+I[1].hours,+I[1].minutes,I[1].seconds))]:p(I,ta(null,I.hours,I.minutes,I.seconds)),g=I=>Array.isArray(I)?e.multiDates?I.map(ee=>p(ee,Xs(null,+ee.month,+ee.year))):Op(()=>[p(I[0],Xs(null,+I[0].month,+I[0].year)),p(I[1],I[1]?Xs(null,+I[1].month,+I[1].year):Xl(e.partialRange))],e.range):p(I,Xs(null,+I.month,+I.year)),v=I=>{if(Array.isArray(I))return I.map(ee=>N(ee));throw new Error(mg.dateArr("multi-dates"))},y=I=>{if(Array.isArray(I))return[_e(I[0]),_e(I[1])];throw new Error(mg.dateArr("week-picker"))},_=I=>e.modelAuto?Array.isArray(I)?[N(I[0]),N(I[1])]:e.autoApply?[N(I)]:[N(I),null]:Array.isArray(I)?Op(()=>[N(I[0]),I[1]?N(I[1]):Xl(e.partialRange)],e.range):N(I),b=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Xl(e.partialRange))},w=()=>{const I=r.value;return[R(I[0]),I[1]?R(I[1]):Xl(e.partialRange)]},T=()=>r.value[1]?w():R(lr(r.value[0])),x=()=>(r.value||[]).map(I=>R(I)),A=()=>(b(),e.modelAuto?T():e.multiDates?x():Array.isArray(r.value)?Op(()=>w(),e.range):R(lr(r.value))),O=I=>!I||Array.isArray(I)&&!I.length?null:e.timePicker?m(lr(I)):e.monthPicker?g(lr(I)):e.yearPicker?h(lr(I)):e.multiDates?v(lr(I)):e.weekPicker?y(lr(I)):_(lr(I)),E=I=>{const ee=O(I);Kw(lr(ee))?(r.value=lr(ee),k()):(r.value=null,o.value="")},M=()=>{const I=ee=>Zo(ee,i.value.format);return`${I(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?I(r.value[1]):""}`},$=()=>n.value&&r.value?Array.isArray(r.value)?M():Zo(r.value,i.value.format):c(r.value),D=()=>r.value?e.multiDates?r.value.map(I=>c(I)).join("; "):i.value.enabled&&typeof i.value.format=="string"?$():c(r.value):"",k=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=D():o.value=e.format(r.value)},N=I=>{if(e.utc){const ee=new Date(I);return e.utc==="preserve"?new Date(ee.getTime()+ee.getTimezoneOffset()*6e4):ee}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(I)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Fw(I,s(),new Date):u(Fw(I,e.modelType,new Date)):u(new Date(I))},R=I=>I?e.utc?Fue(I,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(I):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(I)):c(l(I),e.modelType,!0):l(I):"",B=(I,ee=!1)=>{if(t("update:model-value",I),e.emitTimezone&&ee){const te=Array.isArray(I)?I.map(ge=>us(lr(ge)),e.emitTimezone):us(lr(I),e.emitTimezone);t("update:model-timezone-value",te)}},G=I=>Array.isArray(r.value)?e.multiDates?r.value.map(ee=>I(ee)):[I(r.value[0]),r.value[1]?I(r.value[1]):Xl(e.partialRange)]:I(lr(r.value)),F=I=>B(lr(G(I)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:E,formatInputValue:k,emitModelValue:()=>(k(),e.monthPicker?F(f):e.timePicker?F(d):e.yearPicker?F(bt):e.weekPicker?B(r.value.map(I=>R(I)),!0):B(A(),!0))}},rce=(t,e)=>{const{defaultedFilters:n}=Kn(t),{validateMonthYearInRange:r}=Ll(t),i=(u,c)=>{let d=u;return n.value.months.includes($t(d))?(d=c?as(u,1):cc(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(bt(d))?(d=c?YT(u,1):$L(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=yn(new Date,{month:t.month,year:t.year});let f=u?as(d,1):cc(d,1);t.disableYearSelect&&(f=Os(f,t.year));let h=$t(f),p=bt(f);n.value.months.includes(h)&&(f=i(f,u),h=$t(f),p=bt(f)),n.value.years.includes(p)&&(f=s(f,u),p=bt(f)),r(h,p,u,t.preventMinMaxNavigation)&&a(h,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=J(()=>u=>YL(yn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var su=(t=>(t.center="center",t.left="left",t.right="right",t))(su||{}),Xi=(t=>(t.month="month",t.year="year",t))(Xi||{}),ka=(t=>(t.top="top",t.bottom="bottom",t))(ka||{}),Ja=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ja||{}),vs=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(vs||{});const ice=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=re({}),u=re(!1),c=re({top:"0",left:"0"}),d=re(!1),f=Fu(o,"teleportCenter");It(f,()=>{c.value=JSON.parse(JSON.stringify({})),b()});const h=N=>{if(o.teleport){const R=N.getBoundingClientRect();return{left:R.left+window.scrollX,top:R.top+window.scrollY}}return{top:0,left:0}},p=(N,R)=>{c.value.left=`${N+R-l.value.width}px`},m=N=>{c.value.left=`${N}px`},g=(N,R)=>{o.position===su.left&&m(N),o.position===su.right&&p(N,R),o.position===su.center&&(c.value.left=`${N+R/2-l.value.width/2}px`)},v=N=>{const{width:R,height:B}=N.getBoundingClientRect(),{top:G,left:F}=o.altPosition?o.altPosition(N):h(N);return{top:+G,left:+F,width:R,height:B}},y=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const N=tr(n),{top:R,left:B,transform:G}=o.altPosition(N);c.value={top:`${R}px`,left:`${B}px`,transform:G??""}},b=(N=!0)=>{var R;if(!i.value.enabled){if(f.value)return y();if(o.altPosition!==null)return _();if(N){const B=o.teleport?(R=e.value)==null?void 0:R.$el:t.value;B&&(l.value=B.getBoundingClientRect()),s("recalculate-position")}return M()}},w=({inputEl:N,left:R,width:B})=>{window.screen.width>768&&!u.value&&g(R,B),A(N)},T=N=>{const{top:R,left:B,height:G,width:F}=v(N);c.value.top=`${G+R+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${B+F/2-l.value.width/2}px`),w({inputEl:N,left:B,width:F})},x=N=>{const{top:R,left:B,width:G}=v(N);c.value.top=`${R-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:N,left:B,width:G})},A=N=>{if(o.autoPosition){const{left:R,width:B}=v(N),{left:G,right:F}=l.value;if(!u.value){if(Math.abs(G)!==Math.abs(F)){if(G<=0)return u.value=!0,m(R);if(F>=document.documentElement.clientWidth)return u.value=!0,p(R,B)}return g(R,B)}}},O=()=>{const N=tr(n);if(N){const{height:R}=l.value,{top:B,height:G}=N.getBoundingClientRect(),F=window.innerHeight-B-G,I=B;return R<=F?ka.bottom:R>F&&R<=I?ka.top:F>=I?ka.bottom:ka.top}return ka.bottom},E=N=>O()===ka.bottom?T(N):x(N),M=()=>{const N=tr(n);if(N)return o.autoPosition?E(N):T(N)},$=function(N){if(N){const R=N.scrollHeight>N.clientHeight,B=window.getComputedStyle(N).overflowY.indexOf("hidden")!==-1;return R&&!B}return!0},D=function(N){return!N||N===document.body||N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:$(N)?N:D(N.parentNode)},k=N=>{if(N)switch(o.position){case su.left:return{left:0,transform:"translateX(0)"};case su.right:return{left:`${N.width}px`,transform:"translateX(-100%)"};default:return{left:`${N.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:b,getScrollableParent:D,shadowRender:(N,R)=>{var B,G,F;const I=document.createElement("div"),ee=(B=tr(n))==null?void 0:B.getBoundingClientRect();I.setAttribute("id","dp--temp-container");const te=(G=r.value)!=null&&G.clientWidth?r.value:document.body;te.append(I);const ge=k(ee),ve=il(N,{...R,shadow:!0,style:{opacity:0,position:"absolute",...ge}},Object.fromEntries(Object.keys(a).filter(ne=>["right-sidebar","left-sidebar"].includes(ne)).map(ne=>[ne,a[ne]])));sl(ve,I),l.value=(F=ve.el)==null?void 0:F.getBoundingClientRect(),sl(null,I),te.removeChild(I)}}},Co=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],sce=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],oce={all:()=>Co,monthYear:()=>Co.filter(t=>t.use.includes("month-year")),input:()=>sce,timePicker:()=>Co.filter(t=>t.use.includes("time")),action:()=>Co.filter(t=>t.use.includes("action")),calendar:()=>Co.filter(t=>t.use.includes("calendar")),menu:()=>Co.filter(t=>t.use.includes("menu")),shared:()=>Co.filter(t=>t.use.includes("shared")),yearMode:()=>Co.filter(t=>t.use.includes("year-mode"))},Ei=(t,e,n)=>{const r=[];return oce[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Dh=t=>{const e=J(()=>r=>t.value?r?t.value.open:t.value.close:""),n=J(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Rh=(t,e)=>{const n=_e(us(new Date,t.timezone)),r=re([{month:$t(n),year:bt(n)}]),i=Dn({hours:t.range?[ls(n),ls(n)]:ls(n),minutes:t.range?[Rs(n),Rs(n)]:Rs(n),seconds:t.range?[0,0]:0}),s=J({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=J(()=>l=>r.value[l]?r.value[l].month:0),a=J(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},ace=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Kn(e),{isDisabled:i,matchDate:s}=Ll(e),o=re(null),a=re(_e(us(new Date,e.timezone))),l=F=>{!F.current&&e.hideOffsetDates||(o.value=F.value)},u=()=>{o.value=null},c=F=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?F?Fr(o.value,t.value[0]):Ir(o.value,t.value[0]):!0,d=(F,I)=>{const ee=()=>t.value?I?t.value[0]||null:t.value[1]:null,te=t.value&&Array.isArray(t.value)?ee():null;return Gt(_e(F.value),te)},f=F=>{const I=Array.isArray(t.value)?t.value[0]:null;return F?!Ir(o.value??null,I):!0},h=(F,I=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!F.current?!1:Gt(_e(F.value),t.value[I?0:1]):e.range?d(F,I)&&f(I)||Gt(F.value,Array.isArray(t.value)?t.value[0]:null)&&c(I):!1,p=(F,I,ee)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?F?!1:ee?Fr(t.value[0],I.value):Ir(t.value[0],I.value):!1,m=F=>!t.value||e.hideOffsetDates&&!F.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Gt(F.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(I=>Gt(I,F.value)):Gt(F.value,t.value?t.value:a.value),g=F=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!F.current)return!1;const I=Ks(o.value,+e.autoRange),ee=Zp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Gt(ee[1],_e(F.value)):Gt(I,_e(F.value))}return!1}return!1},v=F=>{if(e.autoRange||e.weekPicker){if(o.value){const I=Ks(o.value,+e.autoRange);if(e.hideOffsetDates&&!F.current)return!1;const ee=Zp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Fr(F.value,ee[0])&&Ir(F.value,ee[1]):Fr(F.value,o.value)&&Ir(F.value,I)}return!1}return!1},y=F=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!F.current)return!1;const I=Zp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Gt(I[0],F.value):Gt(o.value,F.value)}return!1}return!1},_=F=>Hv(t.value,o.value,F.value),b=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?jL(e.internalModelValue):!0,T=F=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const I=e.range?!h(F)&&!h(F,!1):!0;return!i(F.value)&&!m(F)&&!(!F.current&&e.hideOffsetDates)&&I},x=F=>e.range?e.modelAuto?b()&&m(F):!1:m(F),A=F=>{var I;return r.value?typeof r.value=="function"?r.value(F.value):s(F.value,(I=e.arrMapValues)!=null&&I.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},O=F=>{const I=i(F.value);return I&&(typeof r.value=="function"?!r.value(F.value,I):!r.value.options.highlightDisabled)},E=F=>{var I;return typeof r.value=="function"?r.value(F.value):(I=r.value.weekdays)==null?void 0:I.includes(F.value.getDay())},M=F=>(e.range||e.weekPicker)&&(!(n.value.count>0)||F.current)&&w()&&!(!F.current&&e.hideOffsetDates)&&!m(F)?_(F):!1,$=F=>{const{isRangeStart:I,isRangeEnd:ee}=N(F),te=e.range?I||ee:!1;return{dp__cell_offset:!F.current,dp__pointer:!e.disabled&&!(!F.current&&e.hideOffsetDates)&&!i(F.value),dp__cell_disabled:i(F.value),dp__cell_highlight:!O(F)&&(A(F)||E(F))&&!x(F)&&!te&&!y(F)&&!(M(F)&&e.weekPicker)&&!ee,dp__cell_highlight_active:!O(F)&&(A(F)||E(F))&&x(F),dp__today:!e.noToday&&Gt(F.value,a.value)&&F.current}},D=F=>({dp__active_date:x(F),dp__date_hover:T(F)}),k=F=>({...R(F),...B(F),dp__range_between_week:M(F)&&e.weekPicker}),N=F=>{const I=n.value.count>0?F.current&&h(F)&&w():h(F)&&w(),ee=n.value.count>0?F.current&&h(F,!1)&&w():h(F,!1)&&w();return{isRangeStart:I,isRangeEnd:ee}},R=F=>{const{isRangeStart:I,isRangeEnd:ee}=N(F);return{dp__range_start:I,dp__range_end:ee,dp__range_between:M(F)&&!e.weekPicker,dp__date_hover_start:p(T(F),F,!0),dp__date_hover_end:p(T(F),F,!1)}},B=F=>({...R(F),dp__cell_auto_range:v(F),dp__cell_auto_range_start:y(F),dp__cell_auto_range_end:g(F)}),G=F=>e.range?e.autoRange?B(F):e.modelAuto?{...D(F),...R(F)}:R(F):e.weekPicker?k(F):D(F);return{setHoverDate:l,clearHoverDate:u,getDayClassData:F=>e.hideOffsetDates&&!F.current?{}:{...$(F),...G(F),[e.dayClass?e.dayClass(F.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ll=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Kn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=E=>{const M=Hr(s(_e(E))).toISOString(),[$]=M.split("T");return $},s=E=>t.utc==="preserve"?KL(E,r()):us(E,r()),o=E=>{var M;const $=t.maxDate?Fr(E,s(_e(t.maxDate))):!1,D=t.minDate?Ir(E,s(_e(t.minDate))):!1,k=c(s(E),(M=t.arrMapValues)!=null&&M.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),N=e.value.months.map(I=>+I).includes($t(E)),R=t.disabledWeekDays.length?t.disabledWeekDays.some(I=>+I===Nae(E)):!1,B=f(E),G=bt(E),F=G<+t.yearRange[0]||G>+t.yearRange[1];return!($||D||k||N||F||R||B)},a=(E,M)=>Ir(...Ko(t.minDate,E,M))||Gt(...Ko(t.minDate,E,M)),l=(E,M)=>Fr(...Ko(t.maxDate,E,M))||Gt(...Ko(t.maxDate,E,M)),u=(E,M,$)=>{let D=!1;return t.maxDate&&$&&l(E,M)&&(D=!0),t.minDate&&!$&&a(E,M)&&(D=!0),D},c=(E,M)=>E?M instanceof Map?!!M.get(i(E)):Array.isArray(M)?M.some($=>Gt(s(_e($)),E)):M?M(_e(JSON.parse(JSON.stringify(E)))):!1:!0,d=(E,M,$,D)=>{let k=!1;return D?t.minDate&&t.maxDate?k=u(E,M,$):(t.minDate&&a(E,M)||t.maxDate&&l(E,M))&&(k=!0):k=!0,k},f=E=>{var M,$,D,k,N;return Array.isArray(t.allowedDates)&&!((M=t.allowedDates)!=null&&M.length)?!0:($=t.arrMapValues)!=null&&$.allowedDates?!c(E,(D=t.arrMapValues)==null?void 0:D.allowedDates):(k=t.allowedDates)!=null&&k.length?!((N=t.allowedDates)!=null&&N.some(R=>Gt(Hr(R),s(Hr(E))))):!1},h=E=>!o(E),p=E=>t.noDisabledRange?!vL({start:E[0],end:E[1]}).some(M=>h(M)):!0,m=(E,M,$=0)=>{if(Array.isArray(M)&&M[$]){const D=Ioe(E,M[$]),k=zL(M[$],E),N=k.length===1?0:k.filter(B=>h(B)).length,R=Math.abs(D)-N;if(t.minRange&&t.maxRange)return R>=+t.minRange&&R<=+t.maxRange;if(t.minRange)return R>=+t.minRange;if(t.maxRange)return R<=+t.maxRange}return!0},g=E=>new Map(E.map(M=>[i(M),!0])),v=E=>Array.isArray(E)&&E.length>0,y=()=>{const E={disabledDates:null,allowedDates:null,highlightedDates:null};return v(t.allowedDates)&&(E.allowedDates=g(t.allowedDates)),typeof n.value!="function"&&v(n.value.dates)&&(E.highlightedDates=g(n.value.dates)),v(t.disabledDates)&&(E.disabledDates=g(t.disabledDates)),E},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,b=E=>Array.isArray(E)?[E[0]?Cb(E[0]):null,E[1]?Cb(E[1]):null]:Cb(E),w=(E,M,$)=>E.find(D=>+D.hours===ls(M)&&D.minutes==="*"?!0:+D.minutes===Rs(M)&&+D.hours===ls(M))&&$,T=(E,M,$)=>{const[D,k]=E,[N,R]=M;return!w(D,N,$)&&!w(k,R,$)&&$},x=(E,M)=>{const $=Array.isArray(M)?M:[M];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?T(t.disabledTimes,$,E):!$.some(D=>w(t.disabledTimes,D,E)):E},A=(E,M)=>{const $=Array.isArray(M)?[Qa(M[0]),M[1]?Qa(M[1]):void 0]:Qa(M),D=!t.disabledTimes($);return E&&D},O=(E,M)=>t.disabledTimes?Array.isArray(t.disabledTimes)?x(M,E):A(M,E):M;return{isDisabled:h,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:m,matchDate:c,mapDatesArrToMap:y,isValidTime:E=>{let M=!0;if(!E||_())return!0;const $=!t.minDate&&!t.maxDate?b(E):E;return(t.maxTime||t.maxDate)&&(M=zA(t.maxTime,t.maxDate,"max",lr($),M)),(t.minTime||t.minDate)&&(M=zA(t.minTime,t.minDate,"min",lr($),M)),O(E,M)}}},Wv=()=>{const t=J(()=>(r,i)=>r==null?void 0:r.includes(i)),e=J(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=J(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},lce=(t,e,n)=>{const r=re(0),i=Dn({[Ja.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ja.calendar]:!1,[Ja.header]:!1}),s=J(()=>t.monthPicker),o=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(h=>!i[h]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,f,...h)=>{t.flow[r.value]===d&&n.value&&n.value[f](...h)},c=()=>{u(vs.month,"toggleMonthPicker",!0),u(vs.year,"toggleYearPicker",!0),u(vs.calendar,"toggleTimePicker",!1,!0),u(vs.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===vs.hours||d===vs.minutes||d===vs.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Kv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},ps={...Kv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},uce={key:1,class:"dp__input_wrap"},cce=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],dce={key:2,class:"dp__clear_icon"},fce=Ae({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Kv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Kn(i),{checkMinMaxRange:d}=Ll(i),f=re(),h=re(null),p=re(!1),m=re(!1),g=J(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:p.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),v=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},y=k=>{const N=c();return Lue(k,s.value.format??u(),N??GL({},i.enableSeconds),i.inputValue,m.value)},_=k=>{const{rangeSeparator:N}=s.value,[R,B]=k.split(`${N}`);if(R){const G=y(R.trim()),F=B?y(B.trim()):null,I=G&&F?[G,F]:[G];d(F,I,0)&&(f.value=G?I:null)}},b=()=>{m.value=!0},w=k=>{if(i.range)_(k);else if(i.multiDates){const N=k.split(";");f.value=N.map(R=>y(R.trim())).filter(R=>R)}else f.value=y(k)},T=k=>{var N;const R=typeof k=="string"?k:(N=k.target)==null?void 0:N.value;R!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),w(R),r("set-input-date",f.value)):v(),m.value=!1,r("update:input-value",R)},x=k=>{s.value.enabled?(w(k.target.value),s.value.enterSubmit&&Kw(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):E(k)},A=k=>{s.value.enabled&&s.value.tabSubmit&&w(k.target.value),s.value.tabSubmit&&Kw(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},O=()=>{var k;p.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((k=h.value)==null||k.select())},E=k=>{k.preventDefault(),ea(k,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},M=()=>{r("real-blur"),p.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},$=k=>{ea(k,l.value,!0),r("clear")},D=k=>{if(!s.value.enabled){if(k.code==="Tab")return;k.preventDefault()}};return e({focusInput:()=>{var k;(k=h.value)==null||k.focus({preventScroll:!0})},setParsedDate:k=>{f.value=k}}),(k,N)=>{var R;return S(),U("div",{onClick:E},[k.$slots.trigger&&!k.$slots["dp-input"]&&!P(a).enabled?fe(k.$slots,"trigger",{key:0}):Y("",!0),!k.$slots.trigger&&(!P(a).enabled||P(a).input)?(S(),U("div",uce,[k.$slots["dp-input"]&&!k.$slots.trigger&&!P(a).enabled?fe(k.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:T,onEnter:x,onTab:A,onClear:$,onBlur:M,onKeypress:D,onPaste:b,openMenu:()=>k.$emit("open"),closeMenu:()=>k.$emit("close"),toggleMenu:()=>k.$emit("toggle")}):Y("",!0),k.$slots["dp-input"]?Y("",!0):(S(),U("input",{key:1,id:k.uid?`dp-input-${k.uid}`:void 0,ref_key:"inputRef",ref:h,name:k.name,class:ke(g.value),inputmode:P(s).enabled?"text":"none",placeholder:k.placeholder,disabled:k.disabled,readonly:k.readonly,required:k.required,value:t.inputValue,autocomplete:k.autocomplete,"aria-label":(R=P(o))==null?void 0:R.input,"aria-disabled":k.disabled||void 0,"aria-invalid":k.state===!1?!0:void 0,onInput:T,onKeydown:[ct(x,["enter"]),ct(A,["tab"]),D],onBlur:M,onFocus:O,onKeypress:D,onPaste:b},null,42,cce)),K("div",{onClick:N[2]||(N[2]=B=>r("toggle"))},[k.$slots["input-icon"]&&!k.hideInputIcon?(S(),U("span",{key:0,class:"dp__input_icon",onClick:N[0]||(N[0]=B=>r("toggle"))},[fe(k.$slots,"input-icon")])):Y("",!0),!k.$slots["input-icon"]&&!k.hideInputIcon&&!k.$slots["dp-input"]?(S(),ie(P(Oc),{key:1,class:"dp__input_icon dp__input_icons",onClick:N[1]||(N[1]=B=>r("toggle"))})):Y("",!0)]),k.$slots["clear-icon"]&&t.inputValue&&k.clearable&&!k.disabled&&!k.readonly?(S(),U("span",dce,[fe(k.$slots,"clear-icon",{clear:$})])):Y("",!0),k.clearable&&!k.$slots["clear-icon"]&&t.inputValue&&!k.disabled&&!k.readonly?(S(),ie(P(LL),{key:3,class:"dp__clear_icon dp__input_icons",onClick:N[3]||(N[3]=wt(B=>$(B),["prevent"]))})):Y("",!0)])):Y("",!0)])}}}),hce=["title"],pce={class:"dp__action_buttons"},mce=["disabled"],gce=Ae({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ps},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Kn(r),{isValidTime:c}=Ll(r),{buildMatrix:d}=ya(),f=re(null),h=re(null);Vt(()=>{r.arrowNavigation&&d([tr(f),tr(h)],"actionRow")});const p=J(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),m=J(()=>!g.value||!v.value||!p.value),g=J(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),v=J(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(E=>!A(E)).length:A(r.internalModelValue):!0),y=()=>{const E=s.value;return r.timePicker||r.monthPicker,E(lr(r.internalModelValue))},_=()=>{const E=r.internalModelValue;return o.value.count>0?`${b(E[0])} - ${b(E[1])}`:[b(E[0]),b(E[1])]},b=E=>qL(E,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),w=J(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?_():r.multiDates?r.internalModelValue.map(E=>`${b(E)}`):r.modelAuto?`${b(r.internalModelValue[0])}`:`${b(r.internalModelValue[0])} -`:b(r.internalModelValue):y()),T=()=>r.multiDates?"; ":" - ",x=J(()=>Array.isArray(w.value)?w.value.join(T()):w.value),A=E=>{if(!r.monthPicker)return!0;let M=!0;const $=_e(ns(E));if(r.minDate&&r.maxDate){const D=_e(ns(r.minDate)),k=_e(ns(r.maxDate));return Fr($,D)&&Ir($,k)||Gt($,D)||Gt($,k)}if(r.minDate){const D=_e(ns(r.minDate));M=Fr($,D)||Gt($,D)}if(r.maxDate){const D=_e(ns(r.maxDate));M=Ir($,D)||Gt($,D)}return M},O=()=>{g.value&&v.value&&p.value?n("select-date"):n("invalid-select")};return(E,M)=>(S(),U("div",{class:"dp__action_row",style:nr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[E.$slots["action-row"]?fe(E.$slots,"action-row",xn(se({key:0},{internalModelValue:E.internalModelValue,disabled:m.value,selectDate:()=>E.$emit("select-date"),closePicker:()=>E.$emit("close-picker")}))):(S(),U(Te,{key:1},[P(i).showPreview?(S(),U("div",{key:0,class:"dp__selection_preview",title:x.value},[E.$slots["action-preview"]?fe(E.$slots,"action-preview",{key:0,value:E.internalModelValue}):Y("",!0),E.$slots["action-preview"]?Y("",!0):(S(),U(Te,{key:1},[Qe(Le(x.value),1)],64))],8,hce)):Y("",!0),K("div",pce,[E.$slots["action-buttons"]?fe(E.$slots,"action-buttons",{key:0,value:E.internalModelValue}):Y("",!0),E.$slots["action-buttons"]?Y("",!0):(S(),U(Te,{key:1},[!P(l).enabled&&P(i).showCancel?(S(),U("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[0]||(M[0]=$=>E.$emit("close-picker")),onKeydown:[M[1]||(M[1]=ct($=>E.$emit("close-picker"),["enter"])),M[2]||(M[2]=ct($=>E.$emit("close-picker"),["space"]))]},Le(E.cancelText),545)):Y("",!0),P(i).showNow?(S(),U("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[3]||(M[3]=$=>E.$emit("select-now")),onKeydown:[M[4]||(M[4]=ct($=>E.$emit("select-now"),["enter"])),M[5]||(M[5]=ct($=>E.$emit("select-now"),["space"]))]},Le(E.nowButtonLabel),545)):Y("",!0),P(i).showSelect?(S(),U("button",{key:2,ref_key:"selectButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_select",disabled:m.value,onKeydown:[ct(O,["enter"]),ct(O,["space"])],onClick:O},Le(E.selectText),41,mce)):Y("",!0)],64))])],64))],4))}}),vce=["onKeydown"],yce={class:"dp__selection_grid_header"},bce=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],wce=["aria-label"],Nh=Ae({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=ya(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Kn(a),{hideNavigationButtons:d}=Wv(),f=re(!1),h=re(null),p=re(null),m=re([]),g=re(),v=re(null),y=re(0),_=re(null);v1(()=>{h.value=null}),Vt(()=>{Wn().then(()=>M()),a.noOverlayFocus||w(),b(!0)}),mo(()=>b(!1));const b=F=>{var I;a.arrowNavigation&&((I=a.headerRefs)!=null&&I.length?s(F):r(F))},w=()=>{var F;const I=tr(p);I&&(u.value.enabled||(h.value?(F=h.value)==null||F.focus({preventScroll:!0}):I.focus({preventScroll:!0})),f.value=I.clientHeight<I.scrollHeight)},T=J(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),x=J(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),A=J(()=>({dp__overlay_col:!0})),O=J(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),E=J(()=>{var F,I;return{dp__overlay_container:!0,dp__container_flex:((F=a.items)==null?void 0:F.length)<=6,dp__container_block:((I=a.items)==null?void 0:I.length)>6}});It(()=>a.items,()=>M(),{deep:!0});const M=()=>{Wn().then(()=>{const F=tr(h),I=tr(p),ee=tr(v),te=tr(_),ge=ee?ee.getBoundingClientRect().height:0;I&&(I.getBoundingClientRect().height?y.value=I.getBoundingClientRect().height-ge:y.value=c.value.modeHeight-ge),F&&te&&(te.scrollTop=F.offsetTop-te.offsetTop-(y.value/2-F.getBoundingClientRect().height)-ge)})},$=F=>{F.disabled||o("selected",F.value)},D=()=>{o("toggle"),o("reset-flow")},k=()=>{a.escClose&&D()},N=(F,I,ee,te)=>{F&&((I.active||I.value===a.focusValue)&&(h.value=F),a.arrowNavigation&&(Array.isArray(m.value[ee])?m.value[ee][te]=F:m.value[ee]=[F],R()))},R=()=>{var F,I;const ee=(F=a.headerRefs)!=null&&F.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[v.value]]);i(lr(ee),(I=a.headerRefs)!=null&&I.length?"monthPicker":"selectionGrid")},B=F=>{a.arrowNavigation||ea(F,c.value,!0)},G=F=>{g.value=F,o("hover-value",F)};return e({focusGrid:w}),(F,I)=>{var ee;return S(),U("div",{ref_key:"gridWrapRef",ref:p,class:ke(T.value),style:nr(x.value),role:"dialog",tabindex:"0",onKeydown:[ct(wt(k,["prevent"]),["esc"]),I[0]||(I[0]=ct(wt(te=>B(te),["prevent"]),["left"])),I[1]||(I[1]=ct(wt(te=>B(te),["prevent"]),["up"])),I[2]||(I[2]=ct(wt(te=>B(te),["prevent"]),["down"])),I[3]||(I[3]=ct(wt(te=>B(te),["prevent"]),["right"]))]},[K("div",{ref_key:"containerRef",ref:_,class:ke(E.value),role:"grid",style:nr({height:`${y.value}px`})},[K("div",yce,[fe(F.$slots,"header")]),F.$slots.overlay?fe(F.$slots,"overlay",{key:0}):(S(!0),U(Te,{key:1},st(F.items,(te,ge)=>(S(),U("div",{key:ge,class:ke(["dp__overlay_row",{dp__flex_row:F.items.length>=3}]),role:"row"},[(S(!0),U(Te,null,st(te,(ve,ne)=>(S(),U("div",{key:ve.value,ref_for:!0,ref:j=>N(j,ve,ge,ne),role:"gridcell",class:ke(A.value),"aria-selected":ve.active,"aria-disabled":ve.disabled||void 0,tabindex:"0",onClick:j=>$(ve),onKeydown:[ct(wt(j=>$(ve),["prevent"]),["enter"]),ct(wt(j=>$(ve),["prevent"]),["space"])],onMouseover:j=>G(ve.value)},[K("div",{class:ke(ve.className)},[F.$slots.item?fe(F.$slots,"item",{key:0,item:ve}):Y("",!0),F.$slots.item?Y("",!0):(S(),U(Te,{key:1},[Qe(Le(ve.text),1)],64))],2)],42,bce))),128))],2))),128))],6),F.$slots["button-icon"]?Ci((S(),U("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(ee=P(l))==null?void 0:ee.toggleOverlay,class:ke(O.value),tabindex:"0",onClick:D,onKeydown:[ct(D,["enter"]),ct(D,["tab"])]},[fe(F.$slots,"button-icon")],42,wce)),[[Zs,!P(d)(F.hideNavigation,F.type)]]):Y("",!0)],46,vce)}}}),zv=Ae({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=J(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=J(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(S(),U("div",{class:ke({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(S(!0),U(Te,null,st(n.value,(o,a)=>(S(),U("div",{key:o,class:ke(r.value)},[fe(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),_ce=["aria-label","aria-disabled"],Bd=Ae({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=re(null);return Vt(()=>n("set-ref",r)),(i,s)=>(S(),U("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=ct(wt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=ct(wt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[K("span",{class:ke(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[fe(i.$slots,"default")],2)],40,_ce))}}),Tce={class:"dp--year-mode-picker"},Sce=["aria-label"],JL=Ae({__name:"YearModePicker",props:{...ps,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Wv(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Kn(r),{showTransition:c,transitionName:d}=Dh(u),f=(m=!1,g)=>{n("toggle-year-picker",{flow:m,show:g})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,g)=>{var v,y,_;return S(),U("div",Tce,[P(s)(P(a),t.instance)?(S(),ie(Bd,{key:0,ref:"mpPrevIconRef","aria-label":(v=P(l))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:g[0]||(g[0]=b=>p(!1))},{default:ce(()=>[m.$slots["arrow-left"]?fe(m.$slots,"arrow-left",{key:0}):Y("",!0),m.$slots["arrow-left"]?Y("",!0):(S(),ie(P(nS),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),K("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(y=P(l))==null?void 0:y.openYearsOverlay,onClick:g[1]||(g[1]=()=>f(!1)),onKeydown:g[2]||(g[2]=ct(()=>f(!1),["enter"]))},[m.$slots.year?fe(m.$slots,"year",{key:0,year:t.year}):Y("",!0),m.$slots.year?Y("",!0):(S(),U(Te,{key:1},[Qe(Le(t.year),1)],64))],40,Sce),P(i)(P(a),t.instance)?(S(),ie(Bd,{key:1,ref:"mpNextIconRef","aria-label":(_=P(l))==null?void 0:_.nextYear,disabled:t.isDisabled(!0),onActivate:g[3]||(g[3]=b=>p(!0))},{default:ce(()=>[m.$slots["arrow-right"]?fe(m.$slots,"arrow-right",{key:0}):Y("",!0),m.$slots["arrow-right"]?Y("",!0):(S(),ie(P(rS),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),Z(zi,{name:P(d)(t.showYearPicker),css:P(c)},{default:ce(()=>[t.showYearPicker?(S(),ie(Nh,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!P(o).keepActionRow,"hide-navigation":m.hideNavigation,type:"year",onToggle:f,onSelected:g[4]||(g[4]=b=>h(b))},Jn({"button-icon":ce(()=>[m.$slots["calendar-icon"]?fe(m.$slots,"calendar-icon",{key:0}):Y("",!0),m.$slots["calendar-icon"]?Y("",!0):(S(),ie(P(Oc),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ce(({item:b})=>[fe(m.$slots,"year-overlay-value",{text:b.text,value:b.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):Y("",!0)]),_:3},8,["name","css"])])}}}),fS=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Gt(t,r))){const r=e.value.filter(i=>!Gt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},hS=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Ir(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Gv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},ZL=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>us(_e(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=us(_e(t.value),t.timezone))},e3=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=J(()=>cS(i.yearRange,i.reverseYears)),u=re([!1]),c=J(()=>(b,w)=>{const T=yn(ns(new Date),{month:o.value(b),year:s.value(b)});return YL(T,i.maxDate,i.minDate,i.preventMinMaxNavigation,w)}),d=()=>{for(let b=0;b<t.value.count;b++)if(b===0)n.value[b]=n.value[0];else{const w=yn(_e(),n.value[b-1]);n.value[b]={month:$t(w),year:bt(YT(w,1))}}},f=b=>{if(!b)return d();const w=yn(_e(),n.value[b]);return n.value[0].year=bt($L(w,t.value.count-1)),d()},h=b=>i.focusStartDate?b[0]:b[1]?b[1]:b[0],p=()=>{if(r.value){const b=Array.isArray(r.value)?h(r.value):r.value;n.value[0]={month:$t(b),year:bt(b)}}};Vt(()=>{p(),t.value.count&&d()});const m=(b,w)=>{n.value[w].year=b,t.value.count&&!t.value.solo&&f(w)},g=J(()=>b=>dc(l.value,w=>{const T=s.value(b)===w.value,x=Ff(w.value,fc(i.minDate),fc(i.maxDate)),A=dS(e.value,w.value);return{active:T,disabled:x,highlighted:A}})),v=(b,w)=>{m(b,w),_(w)},y=(b,w=!1)=>{if(!c.value(b,w)){const T=w?s.value(b)+1:s.value(b)-1;m(T,b)}},_=(b,w=!1,T)=>{w||a("reset-flow"),T!==void 0?u.value[b]=T:u.value[b]=!u.value[b],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:g,showYearPicker:u,selectYear:m,toggleYearPicker:_,handleYearSelect:v,handleYear:y}},Ece=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Kn(t),{modelValue:a,year:l,month:u,calendars:c}=Rh(t,e),d=J(()=>BL(t.formatLocale,t.locale,t.monthNameFormat)),f=re(null),{selectYear:h,groupedYears:p,showYearPicker:m,toggleYearPicker:g,handleYearSelect:v,handleYear:y,isDisabled:_}=e3({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});Vt(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&h(bt(_e(t.startDate)),0)});const b=B=>B?{month:$t(B),year:bt(B)}:{month:null,year:null},w=()=>a.value?Array.isArray(a.value)?a.value.map(B=>b(B)):b(a.value):b(),T=(B,G)=>{const F=c.value[B],I=w();return Array.isArray(I)?I.some(ee=>ee.year===(F==null?void 0:F.year)&&ee.month===G):(F==null?void 0:F.year)===I.year&&G===I.month},x=(B,G,F)=>{var I,ee;const te=w();return Array.isArray(te)?l.value(G)===((I=te[F])==null?void 0:I.year)&&B===((ee=te[F])==null?void 0:ee.month):!1},A=(B,G)=>{if(t.range){const F=w();if(Array.isArray(a.value)&&Array.isArray(F)){const I=x(B,G,0)||x(B,G,1),ee=Xs(ns(_e()),B,l.value(G));return Hv(a.value,f.value,ee)&&!I}return!1}return!1},O=J(()=>B=>dc(d.value,G=>{const F=T(B,G.value),I=Ff(G.value,HL(l.value(B),t.minDate),WL(l.value(B),t.maxDate))||Wue(t.disabledDates,l.value(B)).includes(G.value),ee=A(G.value,B),te=XL(o.value,G.value,l.value(B));return{active:F,disabled:I,isBetween:ee,highlighted:te}})),E=(B,G)=>Xs(ns(_e()),B,l.value(G)),M=(B,G)=>{const F=a.value?a.value:ns(new Date);a.value=Xs(F,B,l.value(G)),e("auto-apply")},$=(B,G)=>{const F=hS(a,E(B,G),e);Gv(F,e,t.autoApply,t.modelAuto)},D=(B,G)=>{fS(E(B,G),a,t.multiDatesLimit),e("auto-apply",!0)},k=(B,G)=>(c.value[G].month=B,R(G,c.value[G].year,B),t.multiDates?D(B,G):t.range?$(B,G):M(B,G)),N=(B,G)=>{h(B,G),R(G,B,null)},R=(B,G,F)=>{let I=F;if(!I&&I!==0){const ee=w();I=Array.isArray(ee)?ee[B].month:ee.month}e("update-month-year",{instance:B,year:G,month:I})};return{groupedMonths:O,groupedYears:p,year:l,isDisabled:_,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:m,modelValue:a,presetDate:(B,G)=>{ZL({value:B,modelValue:a,range:t.range,timezone:G?void 0:t.timezone}),e("auto-apply")},setHoverDate:(B,G)=>{f.value=E(B,G)},selectMonth:k,selectYear:N,toggleYearPicker:g,handleYearSelect:v,handleYear:y,getModelMonthYear:w}},Ice=Ae({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ps},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=ca(),s=Ei(i,"yearMode"),o=t;Vt(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:g,selectMonth:v,selectYear:y,toggleYearPicker:_,handleYearSelect:b,handleYear:w,getModelMonthYear:T}=Ece(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:T,selectMonth:v,selectYear:y,handleYear:w}),presetDate:m,toggleYearPicker:x=>_(0,x)}),(x,A)=>(S(),ie(zv,{"multi-calendars":P(d).count,stretch:""},{default:ce(({instance:O})=>[x.$slots["month-year"]?fe(x.$slots,"month-year",xn(se({key:0},{year:P(u),months:P(a)(O),years:P(l)(O),selectMonth:P(v),selectYear:P(y),instance:O}))):(S(),ie(Nh,{key:1,items:P(a)(O),"arrow-navigation":x.arrowNavigation,"is-last":x.autoApply&&!P(f).keepActionRow,"esc-close":x.escClose,height:P(f).modeHeight,config:x.config,"no-overlay-focus":!!(x.noOverlayFocus||x.textInput),"use-relative":"",type:"month",onSelected:E=>P(v)(E,O),onHoverValue:E=>P(g)(E,O)},{header:ce(()=>[Z(JL,se(x.$props,{items:P(l)(O),instance:O,"show-year-picker":P(h)[O],year:P(u)(O),"is-disabled":E=>P(c)(O,E),onHandleYear:E=>P(w)(O,E),onYearSelect:E=>P(b)(E,O),onToggleYearPicker:E=>P(_)(O,E==null?void 0:E.flow,E==null?void 0:E.show)}),Jn({_:2},[st(P(s),(E,M)=>({name:E,fn:ce($=>[fe(x.$slots,E,xn(rr($)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Cce=(t,e)=>{const{modelValue:n}=Rh(t,e),r=re(null),{defaultedHighlight:i,defaultedFilters:s}=Kn(t),o=re();Vt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=bt(_e(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(f=>bt(f)===d):n.value?bt(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?Hv(n.value,r.value,c(d)):!1,u=J(()=>dc(cS(t.yearRange,t.reverseYears),d=>{const f=a(d.value),h=Ff(d.value,fc(t.minDate),fc(t.maxDate))||s.value.years.includes(d.value),p=l(d.value)&&!f,m=dS(i.value,d.value);return{active:f,disabled:h,isBetween:p,highlighted:m}})),c=d=>Os(ns(new Date),d);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:d=>{r.value=Os(ns(new Date),d)},selectYear:d=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(h=>bt(h))).includes(d)?n.value=n.value.filter(h=>bt(h)!==d):n.value.push(Os(Hr(_e()),d))):n.value=[Os(Hr(_e()),d)],e("auto-apply",!0);if(t.range){const h=hS(n,c(d),e);return Gv(h,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},Oce=Ae({compatConfig:{MODE:3},__name:"YearPicker",props:{...ps},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=Cce(i,r),{defaultedConfig:c}=Kn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,f)=>(S(),U("div",null,[d.$slots["month-year"]?fe(d.$slots,"month-year",xn(se({key:0},{years:P(s),selectYear:P(l)}))):(S(),ie(Nh,{key:1,items:P(s),"is-last":d.autoApply&&!P(c).keepActionRow,height:P(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":P(a),type:"year","use-relative":"",onSelected:P(l),onHoverValue:P(u)},Jn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:ce(({item:h})=>[fe(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ace={key:0,class:"dp__time_input"},Pce=["aria-label","onKeydown","onClick"],kce=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),xce=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Dce=["aria-label","disabled","onKeydown","onClick"],Rce=["aria-label","onKeydown","onClick"],Nce=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Mce=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),$ce={key:0},Lce=["aria-label","onKeydown"],Fce=Ae({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ps},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=ya(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Kn(i),{transitionName:d,showTransition:f}=Dh(l),h=Dn({hours:!1,minutes:!1,seconds:!1}),p=re("AM"),m=re(null),g=re([]);Vt(()=>{r("mounted")});const v=j=>yn(new Date,{hours:j.hours,minutes:j.minutes,seconds:i.enableSeconds?j.seconds:0,milliseconds:0}),y=J(()=>j=>k(j,i[j])||b(j,i[j])),_=J(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),b=(j,z)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(j,z):!1,w=(j,z)=>{if(i.range&&!i.disableTimeRangeValidation){const ae=z?+i[`${j}Increment`]:-+i[`${j}Increment`],X=i[j]+ae;return!i.validateTime(j,X)}return!1},T=J(()=>j=>!R(+i[j]+ +i[`${j}Increment`],j)||w(j,!0)),x=J(()=>j=>!R(+i[j]-+i[`${j}Increment`],j)||w(j,!1)),A=(j,z)=>mL(yn(_e(),j),z),O=(j,z)=>tue(yn(_e(),j),z),E=J(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),M=J(()=>{const j=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?j.concat([{type:"",separator:!0},{type:"seconds"}]):j}),$=J(()=>M.value.filter(j=>!j.separator)),D=J(()=>j=>{if(j==="hours"){const z=ee(+i.hours);return{text:z<10?`0${z}`:`${z}`,value:z}}return{text:i[j]<10?`0${i[j]}`:`${i[j]}`,value:i[j]}}),k=(j,z)=>{var ae;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,j==="hours"?z:void 0);return X[j]?!!((ae=X[j])!=null&&ae.includes(z)):!0},N=j=>{const z=i.is24?24:12,ae=j==="hours"?z:60,X=+i[`${j}GridIncrement`],he=j==="hours"&&!i.is24?X:0,be=[];for(let oe=he;oe<ae;oe+=X)be.push({value:oe,text:oe<10?`0${oe}`:`${oe}`});return j==="hours"&&!i.is24&&be.push({value:0,text:"12"}),dc(be,oe=>({active:!1,disabled:u.value.times[j].includes(oe.value)||!R(oe.value,j)||k(j,oe.value)||b(j,oe.value)}))},R=(j,z)=>{const ae=i.minTime?v(Sb(i.minTime)):null,X=i.maxTime?v(Sb(i.maxTime)):null,he=v(Sb(_.value,z,j));return ae&&X?(Lf(he,X)||gu(he,X))&&($f(he,ae)||gu(he,ae)):ae?$f(he,ae)||gu(he,ae):X?Lf(he,X)||gu(he,X):!0},B=j=>i[`no${j[0].toUpperCase()+j.slice(1)}Overlay`],G=j=>{B(j)||(h[j]=!h[j],h[j]||r("overlay-closed"))},F=j=>j==="hours"?ls:j==="minutes"?Rs:uc,I=(j,z=!0)=>{const ae=z?A:O,X=z?+i[`${j}Increment`]:-+i[`${j}Increment`];R(+i[j]+X,j)&&r(`update:${j}`,F(j)(ae({[j]:+i[j]},{[j]:+i[`${j}Increment`]})))},ee=j=>i.is24?j:(j>=12?p.value="PM":p.value="AM",kue(j)),te=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},ge=j=>{h[j]=!0},ve=(j,z,ae)=>{if(j&&i.arrowNavigation){Array.isArray(g.value[z])?g.value[z][ae]=j:g.value[z]=[j];const X=g.value.reduce((he,be)=>be.map((oe,C)=>[...he[C]||[],be[C]]),[]);o(i.closeTimePickerBtn),m.value&&(X[1]=X[1].concat(m.value)),s(X,i.order)}},ne=(j,z)=>(G(j),j==="hours"&&!i.is24?r(`update:${j}`,p.value==="PM"?z+12:z):r(`update:${j}`,z));return e({openChildCmp:ge}),(j,z)=>{var ae;return j.disabled?Y("",!0):(S(),U("div",Ace,[(S(!0),U(Te,null,st(M.value,(X,he)=>{var be,oe,C;return S(),U("div",{key:he,class:ke(E.value)},[X.separator?(S(),U(Te,{key:0},[Qe(" : ")],64)):(S(),U(Te,{key:1},[K("button",{ref_for:!0,ref:L=>ve(L,he,0),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_top:j.timePickerInline,dp__inc_dec_button_disabled:T.value(X.type)}),"aria-label":(be=P(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[ct(wt(L=>I(X.type),["prevent"]),["enter"]),ct(wt(L=>I(X.type),["prevent"]),["space"])],onClick:L=>I(X.type)},[i.timePickerInline?(S(),U(Te,{key:1},[kce,xce],64)):(S(),U(Te,{key:0},[j.$slots["arrow-up"]?fe(j.$slots,"arrow-up",{key:0}):Y("",!0),j.$slots["arrow-up"]?Y("",!0):(S(),ie(P(sS),{key:1}))],64))],42,Pce),K("button",{ref_for:!0,ref:L=>ve(L,he,1),type:"button","aria-label":(oe=P(a))==null?void 0:oe.openTpOverlay(X.type),class:ke({dp__time_display:!0,dp__time_display_block:!j.timePickerInline,dp__time_display_inline:j.timePickerInline,"dp--time-invalid":y.value(X.type),"dp--time-overlay-btn":!y.value(X.type)}),disabled:B(X.type),tabindex:"0",onKeydown:[ct(wt(L=>G(X.type),["prevent"]),["enter"]),ct(wt(L=>G(X.type),["prevent"]),["space"])],onClick:L=>G(X.type)},[j.$slots[X.type]?fe(j.$slots,X.type,{key:0,text:D.value(X.type).text,value:D.value(X.type).value}):Y("",!0),j.$slots[X.type]?Y("",!0):(S(),U(Te,{key:1},[Qe(Le(D.value(X.type).text),1)],64))],42,Dce),K("button",{ref_for:!0,ref:L=>ve(L,he,2),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_bottom:j.timePickerInline,dp__inc_dec_button_disabled:x.value(X.type)}),"aria-label":(C=P(a))==null?void 0:C.decrementValue(X.type),tabindex:"0",onKeydown:[ct(wt(L=>I(X.type,!1),["prevent"]),["enter"]),ct(wt(L=>I(X.type,!1),["prevent"]),["space"])],onClick:L=>I(X.type,!1)},[i.timePickerInline?(S(),U(Te,{key:1},[Nce,Mce],64)):(S(),U(Te,{key:0},[j.$slots["arrow-down"]?fe(j.$slots,"arrow-down",{key:0}):Y("",!0),j.$slots["arrow-down"]?Y("",!0):(S(),ie(P(oS),{key:1}))],64))],42,Rce)],64))],2)}),128)),j.is24?Y("",!0):(S(),U("div",$ce,[j.$slots["am-pm-button"]?fe(j.$slots,"am-pm-button",{key:0,toggle:te,value:p.value}):Y("",!0),j.$slots["am-pm-button"]?Y("",!0):(S(),U("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ae=P(a))==null?void 0:ae.amPmButton,tabindex:"0",onClick:te,onKeydown:[ct(wt(te,["prevent"]),["enter"]),ct(wt(te,["prevent"]),["space"])]},Le(p.value),41,Lce))])),(S(!0),U(Te,null,st($.value,(X,he)=>(S(),ie(zi,{key:he,name:P(d)(h[X.type]),css:P(f)},{default:ce(()=>[h[X.type]?(S(),ie(Nh,{key:0,items:N(X.type),"is-last":j.autoApply&&!P(c).keepActionRow,"esc-close":j.escClose,type:X.type,"text-input":j.textInput,config:j.config,"arrow-navigation":j.arrowNavigation,onSelected:be=>ne(X.type,be),onToggle:be=>G(X.type),onResetFlow:z[0]||(z[0]=be=>j.$emit("reset-flow"))},Jn({"button-icon":ce(()=>[j.$slots["clock-icon"]?fe(j.$slots,"clock-icon",{key:0}):Y("",!0),j.$slots["clock-icon"]?Y("",!0):(S(),ie(gn(j.timePickerInline?P(Oc):P(iS)),{key:1}))]),_:2},[j.$slots[`${X.type}-overlay-value`]?{name:"item",fn:ce(({item:be})=>[fe(j.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):Y("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Uce={class:"dp--tp-wrap"},Vce=["aria-label","tabindex"],Bce=["tabindex"],jce=["aria-label"],t3=Ae({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ps},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=ya(),a=ca(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=Kn(i),{transitionName:f,showTransition:h}=Dh(l),{hideNavigationButtons:p}=Wv(),m=re(null),g=re(null),v=re([]),y=re(null);Vt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([tr(m.value)],"time"):o(!0,i.timePicker)});const _=J(()=>i.range&&i.modelAuto?jL(i.internalModelValue):!0),b=re(!1),w=N=>({hours:Array.isArray(i.hours)?i.hours[N]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[N]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[N]:i.seconds}),T=J(()=>{const N=[];if(i.range)for(let R=0;R<2;R++)N.push(w(R));else N.push(w(0));return N}),x=(N,R=!1,B="")=>{R||r("reset-flow"),b.value=N,r(N?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(N),Wn(()=>{B!==""&&v.value[0]&&v.value[0].openChildCmp(B)})},A=J(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),O=Ei(a,"timePicker"),E=(N,R,B)=>i.range?R===0?[N,T.value[1][B]]:[T.value[0][B],N]:N,M=N=>{r("update:hours",N)},$=N=>{r("update:minutes",N)},D=N=>{r("update:seconds",N)},k=()=>{if(y.value&&!c.value.enabled&&!i.noOverlayFocus){const N=Due(y.value);N&&N.focus({preventScroll:!0})}};return e({toggleTimePicker:x}),(N,R)=>{var B;return S(),U("div",Uce,[!N.timePicker&&!N.timePickerInline?Ci((S(),U("button",{key:0,ref_key:"openTimePickerBtn",ref:m,type:"button",class:ke(A.value),"aria-label":(B=P(u))==null?void 0:B.openTimePicker,tabindex:N.noOverlayFocus?void 0:0,onKeydown:[R[0]||(R[0]=ct(G=>x(!0),["enter"])),R[1]||(R[1]=ct(G=>x(!0),["space"]))],onClick:R[2]||(R[2]=G=>x(!0))},[N.$slots["clock-icon"]?fe(N.$slots,"clock-icon",{key:0}):Y("",!0),N.$slots["clock-icon"]?Y("",!0):(S(),ie(P(iS),{key:1}))],42,Vce)),[[Zs,!P(p)(N.hideNavigation,"time")]]):Y("",!0),Z(zi,{name:P(f)(b.value),css:P(h)&&!N.timePickerInline},{default:ce(()=>{var G;return[b.value||N.timePicker||N.timePickerInline?(S(),U("div",{key:0,ref_key:"overlayRef",ref:y,class:ke({dp__overlay:!N.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!N.timePickerInline,"dp--overlay-relative":i.timePicker}),style:nr(N.timePicker?{height:`${P(d).modeHeight}px`}:void 0),tabindex:N.timePickerInline?void 0:0},[K("div",{class:ke(N.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[N.$slots["time-picker-overlay"]?fe(N.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:M,setMinutes:$,setSeconds:D}):Y("",!0),N.$slots["time-picker-overlay"]?Y("",!0):(S(),U("div",{key:1,class:ke(N.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(S(!0),U(Te,null,st(T.value,(F,I)=>Ci((S(),ie(Fce,se({key:I},{...N.$props,order:I,hours:F.hours,minutes:F.minutes,seconds:F.seconds,closeTimePickerBtn:g.value,disabledTimesConfig:t.disabledTimesConfig,disabled:I===0?N.fixedStart:N.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:v,"validate-time":(ee,te)=>t.validateTime(ee,E(te,I,ee)),"onUpdate:hours":ee=>M(E(ee,I,"hours")),"onUpdate:minutes":ee=>$(E(ee,I,"minutes")),"onUpdate:seconds":ee=>D(E(ee,I,"seconds")),onMounted:k,onOverlayClosed:k,onAmPmChange:R[3]||(R[3]=ee=>N.$emit("am-pm-change",ee))}),Jn({_:2},[st(P(O),(ee,te)=>({name:ee,fn:ce(ge=>[fe(N.$slots,ee,xn(rr(ge)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Zs,I===0?!0:_.value]])),128))],2)),!N.timePicker&&!N.timePickerInline?Ci((S(),U("button",{key:2,ref_key:"closeTimePickerBtn",ref:g,type:"button",class:ke(A.value),"aria-label":(G=P(u))==null?void 0:G.closeTimePicker,tabindex:"0",onKeydown:[R[4]||(R[4]=ct(F=>x(!1),["enter"])),R[5]||(R[5]=ct(F=>x(!1),["space"]))],onClick:R[6]||(R[6]=F=>x(!1))},[N.$slots["calendar-icon"]?fe(N.$slots,"calendar-icon",{key:0}):Y("",!0),N.$slots["calendar-icon"]?Y("",!0):(S(),ie(P(Oc),{key:1}))],42,jce)),[[Zs,!P(p)(N.hideNavigation,"time")]]):Y("",!0)],2)],14,Bce)):Y("",!0)]}),_:3},8,["name","css"])])}}}),n3=(t,e,n,r)=>{const i=(v,y)=>Array.isArray(e[v])?e[v][y]:e[v],s=v=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[v]:e.seconds:0,o=(v,y)=>v?y!==void 0?ta(v,i("hours",y),i("minutes",y),s(y)):ta(v,e.hours,e.minutes,s()):tS(_e(),s(y)),a=(v,y)=>{e[v]=y},l=(v,y)=>{const _=Object.fromEntries(Object.keys(e).map(b=>b===v?[b,y]:[b,e[b]].slice()));if(t.range&&!t.disableTimeRangeValidation){const b=T=>n.value?ta(n.value[T],_.hours[T],_.minutes[T],_.seconds[T]):null,w=T=>eS(n.value[T],0);return!(Gt(b(0),b(1))&&($f(b(0),w(1))||Lf(b(1),w(0))))}return!0},u=(v,y)=>{l(v,y)&&(a(v,y),r&&r())},c=v=>{u("hours",v)},d=v=>{u("minutes",v)},f=v=>{u("seconds",v)},h=(v,y,_,b)=>{y&&c(v),!y&&!_&&d(v),_&&f(v),n.value&&b(n.value)},p=v=>{if(v){const y=Array.isArray(v),_=y?[+v[0].hours,+v[1].hours]:+v.hours,b=y?[+v[0].minutes,+v[1].minutes]:+v.minutes,w=y?[+v[0].seconds,+v[1].seconds]:+v.seconds;a("hours",_),a("minutes",b),t.enableSeconds&&a("seconds",w)}},m=(v,y)=>{const _={hours:Array.isArray(e.hours)?e.hours[v]:e.hours,disabledArr:[]};return(y||y===0)&&(_.hours=y),Array.isArray(t.disabledTimes)&&(_.disabledArr=t.range&&Array.isArray(t.disabledTimes[v])?t.disabledTimes[v]:t.disabledTimes),_},g=J(()=>(v,y)=>{var _;if(Array.isArray(t.disabledTimes)){const{disabledArr:b,hours:w}=m(v,y),T=b.filter(x=>+x.hours===w);return((_=T[0])==null?void 0:_.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(x=>+x.minutes))??[],seconds:(T==null?void 0:T.map(x=>x.seconds?+x.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:f,getSetDateTime:o,updateTimeValues:h,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:g}},Hce=(t,e)=>{const{modelValue:n,time:r}=Rh(t,e),{defaultedStartTime:i}=Kn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=n3(t,r,n),d=y=>{const{hours:_,minutes:b,seconds:w}=y;return{hours:+_,minutes:+b,seconds:w?+w:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=d(t.startTime[0]),b=d(t.startTime[1]);return[yn(_e(),_),yn(_e(),b)]}const y=d(t.startTime);return yn(_e(),y)}return t.range?[null,null]:null},h=()=>{if(t.range){const[y,_]=f();n.value=[o(y,0),o(_,1)]}else n.value=o(f())},p=y=>Array.isArray(y)?[Qa(_e(y[0])),Qa(_e(y[1]))]:[Qa(y??_e())],m=(y,_,b)=>{a("hours",y),a("minutes",_),a("seconds",t.enableSeconds?b:0)},g=()=>{const[y,_]=p(n.value);return t.range?m([y.hours,_.hours],[y.minutes,_.minutes],[y.seconds,_.minutes]):m(y.hours,y.minutes,y.seconds)};Vt(()=>{if(!t.shadow)return l(i.value),n.value?g():h()});const v=()=>{Array.isArray(n.value)?n.value=n.value.map((y,_)=>y&&o(y,_)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(y,_=!0,b=!1)=>{s(y,_,b,v)},validateTime:c}},Wce=Ae({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ps},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ca(),o=Ei(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=Hce(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,h)=>(S(),ie(zv,{"multi-calendars":0,stretch:""},{default:ce(()=>[Z(t3,se(f.$props,{hours:P(a).hours,minutes:P(a).minutes,seconds:P(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":P(u),"validate-time":P(d),"onUpdate:hours":h[0]||(h[0]=p=>P(c)(p)),"onUpdate:minutes":h[1]||(h[1]=p=>P(c)(p,!1)),"onUpdate:seconds":h[2]||(h[2]=p=>P(c)(p,!1,!0)),onAmPmChange:h[3]||(h[3]=p=>f.$emit("am-pm-change",p))}),Jn({_:2},[st(P(o),(p,m)=>({name:p,fn:ce(g=>[fe(f.$slots,p,xn(rr(g)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Kce={class:"dp__month_year_row"},zce=["aria-label","onClick","onKeydown"],Gce=Ae({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ps},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Kn(i),{transitionName:d,showTransition:f}=Dh(s),{buildMatrix:h}=ya(),{handleMonthYearChange:p,isDisabled:m,updateMonthYear:g}=rce(i,r),{showLeftIcon:v,showRightIcon:y}=Wv(),_=re(!1),b=re(!1),w=re([null,null,null,null]);Vt(()=>{r("mount")});const T=I=>({get:()=>i[I],set:ee=>{const te=I===Xi.month?Xi.year:Xi.month;r("update-month-year",{[I]:ee,[te]:i[te]}),I===Xi.month?k(!0):N(!0)}}),x=J(T(Xi.month)),A=J(T(Xi.year)),O=J(()=>I=>({month:i.month,year:i.year,items:I===Xi.month?i.months:i.years,instance:i.instance,updateMonthYear:g,toggle:I===Xi.month?k:N})),E=J(()=>i.months.find(ee=>ee.value===i.month)||{text:"",value:0}),M=J(()=>dc(i.months,I=>{const ee=i.month===I.value,te=Ff(I.value,HL(i.year,i.minDate),WL(i.year,i.maxDate))||l.value.months.includes(I.value),ge=XL(c.value,I.value,i.year);return{active:ee,disabled:te,highlighted:ge}})),$=J(()=>dc(i.years,I=>{const ee=i.year===I.value,te=Ff(I.value,fc(i.minDate),fc(i.maxDate))||l.value.years.includes(I.value),ge=dS(c.value,I.value);return{active:ee,disabled:te,highlighted:ge}})),D=(I,ee)=>{ee!==void 0?I.value=ee:I.value=!I.value,I.value||r("overlay-closed")},k=(I=!1,ee)=>{R(I),D(_,ee)},N=(I=!1,ee)=>{R(I),D(b,ee)},R=I=>{I||r("reset-flow")},B=(I,ee)=>{i.arrowNavigation&&(w.value[ee]=tr(I),h(w.value,"monthYear"))},G=J(()=>{var I,ee;return[{type:Xi.month,index:1,toggle:k,modelValue:x.value,updateModelValue:te=>x.value=te,text:E.value.text,showSelectionGrid:_.value,items:M.value,ariaLabel:(I=o.value)==null?void 0:I.openMonthsOverlay},{type:Xi.year,index:2,toggle:N,modelValue:A.value,updateModelValue:te=>A.value=te,text:i.year,showSelectionGrid:b.value,items:$.value,ariaLabel:(ee=o.value)==null?void 0:ee.openYearsOverlay}]}),F=J(()=>i.disableYearSelect?[G.value[0]]:i.yearFirst?[...G.value].reverse():G.value);return e({toggleMonthPicker:k,toggleYearPicker:N,handleMonthYearChange:p}),(I,ee)=>{var te,ge,ve;return S(),U("div",Kce,[I.$slots["month-year"]?fe(I.$slots,"month-year",xn(se({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:P(g),handleMonthYearChange:P(p),instance:t.instance}))):(S(),U(Te,{key:1},[P(v)(P(a),t.instance)&&!I.vertical?(S(),ie(Bd,{key:0,"aria-label":(te=P(o))==null?void 0:te.prevMonth,disabled:P(m)(!1),onActivate:ee[0]||(ee[0]=ne=>P(p)(!1,!0)),onSetRef:ee[1]||(ee[1]=ne=>B(ne,0))},{default:ce(()=>[I.$slots["arrow-left"]?fe(I.$slots,"arrow-left",{key:0}):Y("",!0),I.$slots["arrow-left"]?Y("",!0):(S(),ie(P(nS),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),K("div",{class:ke(["dp__month_year_wrap",{dp__year_disable_select:I.disableYearSelect}])},[(S(!0),U(Te,null,st(F.value,(ne,j)=>(S(),U(Te,{key:ne.type},[K("button",{ref_for:!0,ref:z=>B(z,j+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":ne.ariaLabel,onClick:ne.toggle,onKeydown:[ct(wt(ne.toggle,["prevent"]),["enter"]),ct(wt(ne.toggle,["prevent"]),["space"])]},[I.$slots[ne.type]?fe(I.$slots,ne.type,{key:0,text:ne.text,value:i[ne.type]}):Y("",!0),I.$slots[ne.type]?Y("",!0):(S(),U(Te,{key:1},[Qe(Le(ne.text),1)],64))],40,zce),Z(zi,{name:P(d)(ne.showSelectionGrid),css:P(f)},{default:ce(()=>[ne.showSelectionGrid?(S(),ie(Nh,{key:0,items:ne.items,"arrow-navigation":I.arrowNavigation,"hide-navigation":I.hideNavigation,"is-last":I.autoApply&&!P(u).keepActionRow,"skip-button-ref":!1,config:I.config,type:ne.type,"header-refs":[],"esc-close":I.escClose,"text-input":I.textInput,onSelected:ne.updateModelValue,onToggle:ne.toggle},Jn({"button-icon":ce(()=>[I.$slots["calendar-icon"]?fe(I.$slots,"calendar-icon",{key:0}):Y("",!0),I.$slots["calendar-icon"]?Y("",!0):(S(),ie(P(Oc),{key:1}))]),_:2},[I.$slots[`${ne.type}-overlay-value`]?{name:"item",fn:ce(({item:z})=>[fe(I.$slots,`${ne.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0,I.$slots[`${ne.type}-overlay`]?{name:"overlay",fn:ce(()=>[fe(I.$slots,`${ne.type}-overlay`,xn(rr(O.value(ne.type))))]),key:"1"}:void 0,I.$slots[`${ne.type}-overlay-header`]?{name:"header",fn:ce(()=>[fe(I.$slots,`${ne.type}-overlay-header`,{toggle:ne.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):Y("",!0)]),_:2},1032,["name","css"])],64))),128))],2),P(v)(P(a),t.instance)&&I.vertical?(S(),ie(Bd,{key:1,"aria-label":(ge=P(o))==null?void 0:ge.prevMonth,disabled:P(m)(!1),onActivate:ee[2]||(ee[2]=ne=>P(p)(!1,!0))},{default:ce(()=>[I.$slots["arrow-up"]?fe(I.$slots,"arrow-up",{key:0}):Y("",!0),I.$slots["arrow-up"]?Y("",!0):(S(),ie(P(sS),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),P(y)(P(a),t.instance)?(S(),ie(Bd,{key:2,ref:"rightIcon",disabled:P(m)(!0),"aria-label":(ve=P(o))==null?void 0:ve.nextMonth,onActivate:ee[3]||(ee[3]=ne=>P(p)(!0,!0)),onSetRef:ee[4]||(ee[4]=ne=>B(ne,I.disableYearSelect?2:3))},{default:ce(()=>[I.$slots[I.vertical?"arrow-down":"arrow-right"]?fe(I.$slots,I.vertical?"arrow-down":"arrow-right",{key:0}):Y("",!0),I.$slots[I.vertical?"arrow-down":"arrow-right"]?Y("",!0):(S(),ie(gn(I.vertical?P(oS):P(rS)),{key:1}))]),_:3},8,["disabled","aria-label"])):Y("",!0)],64))])}}}),Yce=["aria-label"],qce={class:"dp__calendar_header",role:"row"},Xce={key:0,class:"dp__calendar_header_item",role:"gridcell"},Qce=K("div",{class:"dp__calendar_header_separator"},null,-1),Jce=["aria-label"],Zce={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},ede={class:"dp__cell_inner"},tde=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],nde=Ae({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ps},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=ya(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Kn(i),d=re(null),f=re({bottom:"",left:"",transform:""}),h=re([]),p=re(null),m=re(!0),g=re(""),v=re({startX:0,endX:0,startY:0,endY:0}),y=re([]),_=re({left:"50%"}),b=J(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),w=J(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):Pue(i.formatLocale,i.locale,+i.weekStart));Vt(()=>{r("mount",{cmp:"calendar",refs:h}),a.value.noSwipe||p.value&&(p.value.addEventListener("touchstart",N,{passive:!1}),p.value.addEventListener("touchend",R,{passive:!1}),p.value.addEventListener("touchmove",B,{passive:!1})),i.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",I,{passive:!1})});const T=ne=>ne?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",x=(ne,j)=>{if(i.transitions){const z=Hr(Xs(_e(),i.month,i.year));g.value=Fr(Hr(Xs(_e(),ne,j)),z)?o.value[T(!0)]:o.value[T(!1)],m.value=!1,Wn(()=>{m.value=!0})}},A=J(()=>({[i.calendarClassName]:!!i.calendarClassName})),O=J(()=>ne=>{const j=xue(ne);return{dp__marker_dot:j.type==="dot",dp__marker_line:j.type==="line"}}),E=J(()=>ne=>Gt(ne,d.value)),M=J(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),$=J(()=>ne=>i.hideOffsetDates?ne.current:!0),D=async(ne,j,z)=>{var ae,X;if(r("set-hover-date",ne),(X=(ae=ne.marker)==null?void 0:ae.tooltip)!=null&&X.length){const he=tr(h.value[j][z]);if(he){const{width:be,height:oe}=he.getBoundingClientRect();d.value=ne.value;let C={left:`${be/2}px`},L=-50;if(await Wn(),y.value[0]){const{left:H,width:le}=y.value[0].getBoundingClientRect();H<0&&(C={left:"0"},L=0,_.value.left=`${be/2}px`),window.innerWidth<H+le&&(C={right:"0"},L=0,_.value.left=`${le-be/2}px`)}f.value={bottom:`${oe}px`,...C,transform:`translateX(${L}%)`},r("tooltip-open",ne.marker)}}},k=ne=>{d.value&&(d.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ne.marker))},N=ne=>{v.value.startX=ne.changedTouches[0].screenX,v.value.startY=ne.changedTouches[0].screenY},R=ne=>{v.value.endX=ne.changedTouches[0].screenX,v.value.endY=ne.changedTouches[0].screenY,G()},B=ne=>{i.vertical&&!i.inline&&ne.preventDefault()},G=()=>{const ne=i.vertical?"Y":"X";Math.abs(v.value[`start${ne}`]-v.value[`end${ne}`])>10&&r("handle-swipe",v.value[`start${ne}`]>v.value[`end${ne}`]?"right":"left")},F=(ne,j,z)=>{ne&&(Array.isArray(h.value[j])?h.value[j][z]=ne:h.value[j]=[ne]),i.arrowNavigation&&s(h.value,"calendar")},I=ne=>{i.monthChangeOnScroll&&(ne.preventDefault(),r("handle-scroll",ne))},ee=ne=>c.value.type==="local"?Bae(ne.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Lae(ne.value):typeof c.value.type=="function"?c.value.type(ne.value):"",te=ne=>{const j=ne[0];return c.value.hideOnOffsetDates?ne.some(z=>z.current)?ee(j):"":ee(j)},ge=(ne,j)=>{ea(ne,a.value),r("select-date",j)},ve=ne=>{ea(ne,a.value)};return e({triggerTransition:x}),(ne,j)=>{var z;return S(),U("div",{class:ke(M.value)},[K("div",{ref_key:"calendarWrapRef",ref:p,role:"grid",class:ke(A.value),"aria-label":(z=P(l))==null?void 0:z.calendarWrap},[(S(),U(Te,{key:0},[K("div",qce,[ne.weekNumbers?(S(),U("div",Xce,Le(ne.weekNumName),1)):Y("",!0),(S(!0),U(Te,null,st(w.value,(ae,X)=>(S(),U("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[ne.$slots["calendar-header"]?fe(ne.$slots,"calendar-header",{key:0,day:ae,index:X}):Y("",!0),ne.$slots["calendar-header"]?Y("",!0):(S(),U(Te,{key:1},[Qe(Le(ae),1)],64))]))),128))]),Qce,Z(zi,{name:g.value,css:!!ne.transitions},{default:ce(()=>{var ae;return[m.value?(S(),U("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ae=P(l))==null?void 0:ae.calendarDays)||void 0},[(S(!0),U(Te,null,st(b.value,(X,he)=>(S(),U("div",{key:he,class:"dp__calendar_row",role:"row"},[ne.weekNumbers?(S(),U("div",Zce,[K("div",ede,Le(te(X.days)),1)])):Y("",!0),(S(!0),U(Te,null,st(X.days,(be,oe)=>{var C,L,H;return S(),U("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:le=>F(le,he,oe),key:oe+he,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(L=(C=P(l))==null?void 0:C.day)==null?void 0:L.call(C,be),tabindex:"0",onClick:wt(le=>ge(le,be),["prevent"]),onKeydown:[ct(le=>ne.$emit("select-date",be),["enter"]),ct(le=>ne.$emit("handle-space",be),["space"])],onMouseenter:le=>D(be,he,oe),onMouseleave:le=>k(be)},[K("div",{class:ke(["dp__cell_inner",be.classData])},[ne.$slots.day&&$.value(be)?fe(ne.$slots,"day",{key:0,day:+be.text,date:be.value}):Y("",!0),ne.$slots.day?Y("",!0):(S(),U(Te,{key:1},[Qe(Le(be.text),1)],64)),be.marker&&$.value(be)?(S(),U(Te,{key:2},[ne.$slots.marker?fe(ne.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(S(),U("div",{key:1,class:ke(O.value(be.marker)),style:nr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):Y("",!0),E.value(be.value)?(S(),U("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:y,class:"dp__marker_tooltip",style:nr(f.value)},[(H=be.marker)!=null&&H.tooltip?(S(),U("div",{key:0,class:"dp__tooltip_content",onClick:ve},[(S(!0),U(Te,null,st(be.marker.tooltip,(le,ue)=>(S(),U("div",{key:ue,class:"dp__tooltip_text"},[ne.$slots["marker-tooltip"]?fe(ne.$slots,"marker-tooltip",{key:0,tooltip:le,day:be.value}):Y("",!0),ne.$slots["marker-tooltip"]?Y("",!0):(S(),U(Te,{key:1},[K("div",{class:"dp__tooltip_mark",style:nr(le.color?{backgroundColor:le.color}:{})},null,4),K("div",null,Le(le.text),1)],64))]))),128)),K("div",{class:"dp__arrow_bottom_tp",style:nr(_.value)},null,4)])):Y("",!0)],4)):Y("",!0)],2)],40,tde)}),128))]))),128))],8,Jce)):Y("",!0)]}),_:3},8,["name","css"])],64))],10,Yce)],2)}}}),qA=t=>Array.isArray(t),rde=(t,e,n,r)=>{const i=re([]),{modelValue:s,calendars:o,time:a}=Rh(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Kn(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:f,checkMinMaxRange:h}=Ll(t),{updateTimeValues:p,getSetDateTime:m,setTime:g,assignStartTime:v,validateTime:y,disabledTimesConfig:_}=n3(t,a,s,r),b=J(()=>q=>o.value[q]?o.value[q].month:0),w=J(()=>q=>o.value[q]?o.value[q].year:0),T=(q,V,W)=>{var Q,de;o.value[q]||(o.value[q]={month:0,year:0}),o.value[q].month=WA(V)?(Q=o.value[q])==null?void 0:Q.month:V,o.value[q].year=WA(W)?(de=o.value[q])==null?void 0:de.year:W},x=()=>{t.autoApply&&e("select-date")};It(s,(q,V)=>{JSON.stringify(q)!==JSON.stringify(V)&&E()}),Vt(()=>{t.shadow||(s.value||(I(),u.value&&v(u.value)),E(!0),t.focusStartDate&&t.startDate&&I())});const A=J(()=>{var q;return(q=t.flow)!=null&&q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),O=()=>{t.autoApply&&A.value&&e("auto-apply",t.partialFlow)},E=(q=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,R(q)):$(s.value,q);if(l.value.count&&q&&!t.startDate)return M(_e(),q)},M=(q,V=!1)=>{if((!l.value.count||!l.value.static||V)&&T(0,$t(q),bt(q)),l.value.count&&(!l.value.solo||!s.value))for(let W=1;W<l.value.count;W++){const Q=yn(_e(),{month:b.value(W-1),year:w.value(W-1)}),de=mL(Q,{months:1});o.value[W]={month:$t(de),year:bt(de)}}},$=(q,V)=>{M(q),g("hours",ls(q)),g("minutes",Rs(q)),g("seconds",uc(q)),l.value.count&&V&&F()},D=q=>{if(l.value.count){if(l.value.solo)return 0;const V=$t(q[0]),W=$t(q[1]);return Math.abs(W-V)<l.value.count?0:1}return 1},k=(q,V)=>{q[1]&&t.showLastInRange?M(q[D(q)],V):M(q[0],V);const W=(Q,de)=>[Q(q[0]),q[1]?Q(q[1]):a[de][1]];g("hours",W(ls,"hours")),g("minutes",W(Rs,"minutes")),g("seconds",W(uc,"seconds"))},N=(q,V)=>{if((t.range||t.weekPicker)&&!t.multiDates)return k(q,V);if(t.multiDates&&V){const W=q[q.length-1];return $(W,V)}},R=q=>{const V=s.value;N(V,q),l.value.count&&l.value.solo&&F()},B=(q,V)=>{const W=yn(_e(),{month:b.value(V),year:w.value(V)}),Q=q<0?as(W,1):cc(W,1);c($t(Q),bt(Q),q<0,t.preventMinMaxNavigation)&&(T(V,$t(Q),bt(Q)),e("update-month-year",{instance:V,month:$t(Q),year:bt(Q)}),l.value.count&&!l.value.solo&&G(V),n())},G=q=>{for(let V=q-1;V>=0;V--){const W=cc(yn(_e(),{month:b.value(V+1),year:w.value(V+1)}),1);T(V,$t(W),bt(W))}for(let V=q+1;V<=l.value.count-1;V++){const W=as(yn(_e(),{month:b.value(V-1),year:w.value(V-1)}),1);T(V,$t(W),bt(W))}},F=()=>{if(Array.isArray(s.value)&&s.value.length===2){const q=_e(_e(s.value[1]?s.value[1]:as(s.value[0],1))),[V,W]=[$t(s.value[0]),bt(s.value[0])],[Q,de]=[$t(s.value[1]),bt(s.value[1])];(V!==Q||V===Q&&W!==de)&&l.value.solo&&T(1,$t(q),bt(q))}else s.value&&!Array.isArray(s.value)&&(T(0,$t(s.value),bt(s.value)),M(_e()))},I=()=>{t.startDate&&(T(0,$t(_e(t.startDate)),bt(_e(t.startDate))),l.value.count&&G(0))},ee=$ue((q,V)=>{t.monthChangeOnScroll&&B(t.monthChangeOnScroll!=="inverse"?-q.deltaY:q.deltaY,V)},50),te=(q,V,W=!1)=>{t.monthChangeOnArrows&&t.vertical===W&&ge(q,V)},ge=(q,V)=>{B(q==="right"?-1:1,V)},ve=q=>t.markers.find(V=>Gt(Uue(q.value),us(_e(V.date),t.timezone))),ne=(q,V)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[q==0,!0];case"fair":return[q==0||V>q,!0];case"append":return[!1,!1];default:return[!1,!1]}},j=(q,V,W,Q)=>{if(t.sixWeeks&&q.length<6){const de=6-q.length,$e=(V.getDay()+7-Q)%7,Ge=6-(W.getDay()+7-Q)%7,[me,Ce]=ne($e,Ge);for(let xe=1;xe<=de;xe++)if(Ce?!!(xe%2)==me:me){const Ye=q[0].days[0],je=z(Ks(Ye.value,-7),$t(V));q.unshift({days:je})}else{const Ye=q[q.length-1],je=Ye.days[Ye.days.length-1],tt=z(Ks(je.value,1),$t(V));q.push({days:tt})}}return q},z=(q,V)=>{const W=_e(q),Q=[];for(let de=0;de<7;de++){const $e=Ks(W,de),Ge=$t($e)!==V;Q.push({text:t.hideOffsetDates&&Ge?"":$e.getDate(),value:$e,current:!Ge,classData:{}})}return Q},ae=(q,V)=>{const W=[],Q=new Date(V,q),de=new Date(V,q+1,0),$e=t.weekStart,Ge=_l(Q,{weekStartsOn:$e}),me=Ce=>{const xe=z(Ce,q);if(W.push({days:xe}),!W[W.length-1].days.some(Ye=>Gt(Hr(Ye.value),Hr(de)))){const Ye=Ks(Ce,7);me(Ye)}};return me(Ge),j(W,Q,de,$e)},X=q=>(s.value=Zp(_e(q.value),t.timezone,t.weekStart),e("date-update",q.value),O()),he=q=>{const V=ta(_e(q.value),a.hours,a.minutes,Se());e("date-update",V),t.multiDates?fS(V,s,t.multiDatesLimit):s.value=V,r(),Wn().then(()=>{O()})},be=q=>t.noDisabledRange?zL(i.value[0],q).some(V=>d(V)):!1,oe=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},C=(q,V)=>{const W=[_e(q.value),Ks(_e(q.value),+t.autoRange)];f(W)?(V&&L(q.value),i.value=W):e("invalid-date",q.value)},L=q=>{const V=$t(_e(q)),W=bt(_e(q));if(T(0,V,W),l.value.count>0)for(let Q=1;Q<l.value.count;Q++){const de=Vue(yn(_e(q),{year:b.value(Q-1),month:w.value(Q-1)}));T(Q,de.month,de.year)}},H=q=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(Fr(q,s.value[0])||Gt(q,s.value[0]))?[s.value[0],q]:t.fixedEnd&&(Ir(q,s.value[1])||Gt(q,s.value[1]))?[q,s.value[1]]:(e("invalid-fixed-range",q),s.value):[],le=q=>{if(be(q.value)||!h(q.value,s.value,t.fixedStart?0:1))return e("invalid-date",q.value);i.value=H(_e(q.value))},ue=(q,V)=>{if(oe(),t.autoRange)return C(q,V);if(t.fixedStart||t.fixedEnd)return le(q);i.value[0]?h(_e(q.value),s.value)&&!be(q.value)?Ir(_e(q.value),_e(i.value[0]))?(i.value.unshift(_e(q.value)),e("range-end",i.value[0])):(i.value[1]=_e(q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",q.value),e("invalid-date",q.value)):(i.value[0]=_e(q.value),e("range-start",i.value[0]))},Se=(q=!0)=>t.enableSeconds?Array.isArray(a.seconds)?q?a.seconds[0]:a.seconds[1]:a.seconds:0,Pe=q=>{i.value[q]=ta(i.value[q],a.hours[q],a.minutes[q],Se(q!==1))},we=()=>{var q,V;i.value[0]&&i.value[1]&&+((q=i.value)==null?void 0:q[0])>+((V=i.value)==null?void 0:V[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Ie=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Pe(0):(Pe(0),Pe(1),r()),we(),s.value=i.value.slice(),Gv(i.value,e,t.autoApply,t.modelAuto))},ye=(q,V=!1)=>{if(d(q.value)||!q.current&&t.hideOffsetDates)return e("invalid-date",q.value);if(t.weekPicker)return X(q);if(!t.range)return he(q);qA(a.hours)&&qA(a.minutes)&&!t.multiDates&&(ue(q,V),Ie())},Re=(q,V)=>{var W;T(q,V.month,V.year),l.value.count&&!l.value.solo&&G(q),e("update-month-year",{instance:q,month:V.month,year:V.year}),n(l.value.solo?q:void 0);const Q=(W=t.flow)!=null&&W.length?t.flow[t.flowStep]:void 0;!V.fromNav&&(Q===vs.month||Q===vs.year)&&r()},Be=(q,V)=>{ZL({value:q,modelValue:s,range:t.range,timezone:V?void 0:t.timezone}),x(),t.multiCalendars&&Wn().then(()=>E(!0))},Ke=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Ir(_e(),s.value[0])?[_e(),s.value[0]]:[s.value[0],_e()]:s.value=[_e()]:s.value=_e(),x()},et=()=>{if(Array.isArray(s.value))if(t.multiDates){const q=lt();s.value[s.value.length-1]=m(q)}else s.value=s.value.map((q,V)=>q&&m(q,V));else s.value=m(s.value);e("time-update")},lt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:b,year:w,time:a,disabledTimesConfig:_,validateTime:y,getCalendarDays:ae,getMarker:ve,handleScroll:ee,handleSwipe:ge,handleArrow:te,selectDate:ye,updateMonthYear:Re,presetDate:Be,selectCurrentDate:Ke,updateTime:(q,V=!0,W=!1)=>{p(q,V,W,et)}}},ide={key:0},sde=Ae({__name:"DatePicker",props:{...ps},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:f,getMarker:h,handleArrow:p,handleScroll:m,handleSwipe:g,selectDate:v,updateMonthYear:y,presetDate:_,selectCurrentDate:b,updateTime:w}=rde(i,r,F,I),T=ca(),{setHoverDate:x,getDayClassData:A,clearHoverDate:O}=ace(l,i),{defaultedMultiCalendars:E}=Kn(i),M=re([]),$=re([]),D=re(null),k=Ei(T,"calendar"),N=Ei(T,"monthYear"),R=Ei(T,"timePicker"),B=te=>{i.shadow||r("mount",te)};It(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const G=J(()=>te=>f(o.value(te),a.value(te)).map(ge=>({...ge,days:ge.days.map(ve=>(ve.marker=h(ve),ve.classData=A(ve),ve))})));function F(te){var ge;te||te===0?(ge=$.value[te])==null||ge.triggerTransition(o.value(te),a.value(te)):$.value.forEach((ve,ne)=>ve.triggerTransition(o.value(ne),a.value(ne)))}function I(){r("update-flow-step")}const ee=(te,ge=!1)=>{v(te,ge),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:O,presetDate:_,selectCurrentDate:b,toggleMonthPicker:(te,ge,ve=0)=>{var ne;(ne=M.value[ve])==null||ne.toggleMonthPicker(te,ge)},toggleYearPicker:(te,ge,ve=0)=>{var ne;(ne=M.value[ve])==null||ne.toggleYearPicker(te,ge)},toggleTimePicker:(te,ge,ve)=>{var ne;(ne=D.value)==null||ne.toggleTimePicker(te,ge,ve)},handleArrow:p,updateMonthYear:y,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:w,updateMonthYear:y,selectDate:v,presetDate:_})}),(te,ge)=>(S(),U(Te,null,[Z(zv,{"multi-calendars":P(E).count},{default:ce(({instance:ve,index:ne})=>[te.disableMonthYearSelect?Y("",!0):(S(),ie(Gce,se({key:0,ref:j=>{j&&(M.value[ne]=j)},months:P(BL)(te.formatLocale,te.locale,te.monthNameFormat),years:P(cS)(te.yearRange,te.reverseYears),month:P(o)(ve),year:P(a)(ve),instance:ve},te.$props,{onMount:ge[0]||(ge[0]=j=>B(P(Ja).header)),onResetFlow:ge[1]||(ge[1]=j=>te.$emit("reset-flow")),onUpdateMonthYear:j=>P(y)(ve,j),onOverlayClosed:ge[2]||(ge[2]=j=>te.$emit("focus-menu"))}),Jn({_:2},[st(P(N),(j,z)=>({name:j,fn:ce(ae=>[fe(te.$slots,j,xn(rr(ae)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Z(nde,se({ref:j=>{j&&($.value[ne]=j)},"mapped-dates":G.value(ve),month:P(o)(ve),year:P(a)(ve),instance:ve},te.$props,{onSelectDate:j=>P(v)(j,ve!==1),onHandleSpace:j=>ee(j,ve!==1),onSetHoverDate:ge[3]||(ge[3]=j=>P(x)(j)),onHandleScroll:j=>P(m)(j,ve),onHandleSwipe:j=>P(g)(j,ve),onMount:ge[4]||(ge[4]=j=>B(P(Ja).calendar)),onResetFlow:ge[5]||(ge[5]=j=>te.$emit("reset-flow")),onTooltipOpen:ge[6]||(ge[6]=j=>te.$emit("tooltip-open",j)),onTooltipClose:ge[7]||(ge[7]=j=>te.$emit("tooltip-close",j))}),Jn({_:2},[st(P(k),(j,z)=>({name:j,fn:ce(ae=>[fe(te.$slots,j,xn(rr({...ae})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),te.enableTimePicker?(S(),U("div",ide,[te.$slots["time-picker"]?fe(te.$slots,"time-picker",xn(se({key:0},{time:P(u),updateTime:P(w)}))):(S(),ie(t3,se({key:1,ref_key:"timePickerRef",ref:D},te.$props,{hours:P(u).hours,minutes:P(u).minutes,seconds:P(u).seconds,"internal-model-value":te.internalModelValue,"disabled-times-config":P(c),"validate-time":P(d),onMount:ge[8]||(ge[8]=ve=>B(P(Ja).timePicker)),"onUpdate:hours":ge[9]||(ge[9]=ve=>P(w)(ve)),"onUpdate:minutes":ge[10]||(ge[10]=ve=>P(w)(ve,!1)),"onUpdate:seconds":ge[11]||(ge[11]=ve=>P(w)(ve,!1,!0)),onResetFlow:ge[12]||(ge[12]=ve=>te.$emit("reset-flow")),onOverlayClosed:ge[13]||(ge[13]=ve=>te.$emit("time-picker-close")),onOverlayOpened:ge[14]||(ge[14]=ve=>te.$emit("time-picker-open",ve)),onAmPmChange:ge[15]||(ge[15]=ve=>te.$emit("am-pm-change",ve))}),Jn({_:2},[st(P(R),(ve,ne)=>({name:ve,fn:ce(j=>[fe(te.$slots,ve,xn(rr(j)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):Y("",!0)],64))}}),ode=(t,e)=>{const n=re(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Kn(t),{modelValue:o,year:a,month:l,calendars:u}=Rh(t,e),{isDisabled:c}=Ll(t),{selectYear:d,groupedYears:f,showYearPicker:h,isDisabled:p,toggleYearPicker:m,handleYearSelect:g,handleYear:v}=e3({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),y=(O,E)=>[O,E].map(M=>Zo(M,"MMMM",{locale:t.formatLocale})).join("-"),_=J(()=>O=>o.value?Array.isArray(o.value)?o.value.some(E=>RA(O,E)):RA(o.value,O):!1),b=O=>{if(t.range){if(Array.isArray(o.value)){const E=Gt(O,o.value[0])||Gt(O,o.value[1]);return Hv(o.value,n.value,O)&&!E}return!1}return!1},w=J(()=>O=>{const E=yn(new Date,{year:a.value(O)});return Aoe({start:koe(E),end:Poe(E)}).map(M=>{const $=Mf(M),D=CA(M),k=c(M),N=b($),R=typeof s.value=="function"?s.value({quarter:IA($),year:bt($)}):!!s.value.quarters.find(B=>B.quarter===IA($)&&B.year===bt($));return{text:y($,D),value:$,active:_.value($),highlighted:R,disabled:k,isBetween:N}})}),T=O=>{fS(O,o,t.multiDatesLimit),e("auto-apply",!0)},x=O=>{const E=hS(o,O,e);Gv(E,e,t.autoApply,t.modelAuto)},A=O=>{o.value=O,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:p,quarters:w,showYearPicker:h,modelValue:o,setHoverDate:O=>{n.value=O},selectYear:d,selectQuarter:(O,E,M)=>{if(!M)return u.value[E].month=$t(CA(O)),t.multiDates?T(O):t.range?x(O):A(O)},toggleYearPicker:m,handleYearSelect:g,handleYear:v}},ade={class:"dp--quarter-items"},lde=["disabled","onClick","onMouseover"],ude=Ae({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ps},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ca(),o=Ei(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:g,toggleYearPicker:v,handleYearSelect:y,handleYear:_}=ode(i,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:g,handleYearSelect:y,handleYear:_})}),(b,w)=>(S(),ie(zv,{"multi-calendars":P(a).count,stretch:""},{default:ce(({instance:T})=>[K("div",{class:"dp-quarter-picker-wrap",style:nr({minHeight:`${P(l).modeHeight}px`})},[K("div",null,[Z(JL,se(b.$props,{items:P(u)(T),instance:T,"show-year-picker":P(p)[T],year:P(c)(T),"is-disabled":x=>P(d)(T,x),onHandleYear:x=>P(_)(T,x),onYearSelect:x=>P(y)(x,T),onToggleYearPicker:x=>P(v)(T,x==null?void 0:x.flow,x==null?void 0:x.show)}),Jn({_:2},[st(P(o),(x,A)=>({name:x,fn:ce(O=>[fe(b.$slots,x,xn(rr(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),K("div",ade,[(S(!0),U(Te,null,st(P(f)(T),(x,A)=>(S(),U("div",{key:A},[K("button",{type:"button",class:ke(["dp--qr-btn",{"dp--qr-btn-active":x.active,"dp--qr-btn-between":x.isBetween,"dp--qr-btn-disabled":x.disabled,"dp--highlighted":x.highlighted}]),disabled:x.disabled,onClick:O=>P(g)(x.value,T,x.disabled),onMouseover:O=>P(m)(x.value)},[b.$slots.quarter?fe(b.$slots,"quarter",{key:0,value:x.value,text:x.text}):(S(),U(Te,{key:1},[Qe(Le(x.text),1)],64))],42,lde)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),cde=["id"],dde={key:0,class:"dp__sidebar_left"},fde={key:1,class:"dp--preset-dates"},hde=["onClick","onKeydown"],pde={key:2,class:"dp__sidebar_right"},mde={key:3,class:"dp__action_extra"},XA=Ae({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Kv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=J(()=>{const{openOnTop:oe,...C}=i;return{...C,flowStep:A.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=QL(),u=ca(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:f}=Kn(i),h=re(null),p=re(0),m=re(null),g=re(null),v=re(!1),y=re(null);Vt(()=>{if(!i.shadow){v.value=!0,_(),window.addEventListener("resize",_);const oe=tr(m);if(oe&&!c.value.enabled&&!d.value.enabled&&(o(!0),D()),oe){const C=L=>{f.value.allowPreventDefault&&L.preventDefault(),ea(L,f.value,!0)};oe.addEventListener("pointerdown",C),oe.addEventListener("mousedown",C)}}}),mo(()=>{window.removeEventListener("resize",_)});const _=()=>{const oe=tr(g);oe&&(p.value=oe.getBoundingClientRect().width)},{arrowRight:b,arrowLeft:w,arrowDown:T,arrowUp:x}=ya(),{flowStep:A,updateFlowStep:O,childMount:E,resetFlow:M}=lce(i,r,y),$=J(()=>i.monthPicker?Ice:i.yearPicker?Oce:i.timePicker?Wce:i.quarterPicker?ude:sde),D=()=>{const oe=tr(m);oe&&oe.focus({preventScroll:!0})},k=J(()=>{var oe;return((oe=y.value)==null?void 0:oe.getSidebarProps())||{}}),N=()=>{i.openOnTop&&r("recalculate-position")},R=Ei(u,"action"),B=J(()=>i.monthPicker||i.yearPicker?Ei(u,"monthYear"):i.timePicker?Ei(u,"timePicker"):Ei(u,"shared")),G=J(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),F=J(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),I=J(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),ee=oe=>{ea(oe,f.value,!0)},te=()=>{i.escClose&&r("close-picker")},ge=oe=>{if(i.arrowNavigation){if(oe==="up")return x();if(oe==="down")return T();if(oe==="left")return w();if(oe==="right")return b()}else oe==="left"||oe==="up"?ae("handleArrow","left",0,oe==="up"):ae("handleArrow","right",0,oe==="down")},ve=oe=>{a(oe.shiftKey),!i.disableMonthYearSelect&&oe.code==="Tab"&&oe.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(oe.preventDefault(),ea(oe,f.value,!0),r("close-picker"))},ne=()=>{D(),r("time-picker-close")},j=oe=>{var C,L,H;(C=y.value)==null||C.toggleTimePicker(!1,!1),(L=y.value)==null||L.toggleMonthPicker(!1,!1,oe),(H=y.value)==null||H.toggleYearPicker(!1,!1,oe)},z=(oe,C=0)=>{var L,H,le;return oe==="month"?(L=y.value)==null?void 0:L.toggleMonthPicker(!1,!0,C):oe==="year"?(H=y.value)==null?void 0:H.toggleYearPicker(!1,!0,C):oe==="time"?(le=y.value)==null?void 0:le.toggleTimePicker(!0,!1):j(C)},ae=(oe,...C)=>{var L,H;(L=y.value)!=null&&L[oe]&&((H=y.value)==null||H[oe](...C))},X=()=>{ae("selectCurrentDate")},he=(oe,C)=>{ae("presetDate",oe,C)},be=()=>{ae("clearHoverDate")};return e({updateMonthYear:(oe,C)=>{ae("updateMonthYear",oe,C)},switchView:z}),(oe,C)=>{var L;return S(),U("div",{id:oe.uid?`dp-menu-${oe.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog",class:ke(I.value),onMouseleave:be,onClick:ee,onKeydown:[ct(te,["esc"]),C[18]||(C[18]=ct(wt(H=>ge("left"),["prevent"]),["left"])),C[19]||(C[19]=ct(wt(H=>ge("up"),["prevent"]),["up"])),C[20]||(C[20]=ct(wt(H=>ge("down"),["prevent"]),["down"])),C[21]||(C[21]=ct(wt(H=>ge("right"),["prevent"]),["right"])),ve]},[(oe.disabled||oe.readonly)&&P(d).enabled?(S(),U("div",{key:0,class:ke(F.value)},null,2)):Y("",!0),!P(d).enabled&&!oe.teleportCenter?(S(),U("div",{key:1,class:ke(G.value)},null,2)):Y("",!0),K("div",{ref_key:"innerMenuRef",ref:g,class:ke({dp__menu_content_wrapper:((L=oe.presetDates)==null?void 0:L.length)||!!oe.$slots["left-sidebar"]||!!oe.$slots["right-sidebar"]}),style:nr({"--dp-menu-width":`${p.value}px`})},[oe.$slots["left-sidebar"]?(S(),U("div",dde,[fe(oe.$slots,"left-sidebar",xn(rr(k.value)))])):Y("",!0),oe.presetDates.length?(S(),U("div",fde,[(S(!0),U(Te,null,st(oe.presetDates,(H,le)=>(S(),U(Te,{key:le},[H.slot?fe(oe.$slots,H.slot,{key:0,presetDate:he,label:H.label,value:H.value}):(S(),U("button",{key:1,type:"button",style:nr(H.style||{}),class:"dp__btn dp--preset-range",onClick:wt(ue=>he(H.value,H.noTz),["prevent"]),onKeydown:[ct(wt(ue=>he(H.value,H.noTz),["prevent"]),["enter"]),ct(wt(ue=>he(H.value,H.noTz),["prevent"]),["space"])]},Le(H.label),45,hde))],64))),128))])):Y("",!0),K("div",{ref_key:"calendarWrapperRef",ref:h,class:"dp__instance_calendar",role:"document"},[(S(),ie(gn($.value),se({ref_key:"dynCmpRef",ref:y},s.value,{"flow-step":P(A),onMount:P(E),onUpdateFlowStep:P(O),onResetFlow:P(M),onFocusMenu:D,onSelectDate:C[0]||(C[0]=H=>oe.$emit("select-date")),onDateUpdate:C[1]||(C[1]=H=>oe.$emit("date-update",H)),onTooltipOpen:C[2]||(C[2]=H=>oe.$emit("tooltip-open",H)),onTooltipClose:C[3]||(C[3]=H=>oe.$emit("tooltip-close",H)),onAutoApply:C[4]||(C[4]=H=>oe.$emit("auto-apply",H)),onRangeStart:C[5]||(C[5]=H=>oe.$emit("range-start",H)),onRangeEnd:C[6]||(C[6]=H=>oe.$emit("range-end",H)),onInvalidFixedRange:C[7]||(C[7]=H=>oe.$emit("invalid-fixed-range",H)),onTimeUpdate:C[8]||(C[8]=H=>oe.$emit("time-update")),onAmPmChange:C[9]||(C[9]=H=>oe.$emit("am-pm-change",H)),onTimePickerOpen:C[10]||(C[10]=H=>oe.$emit("time-picker-open",H)),onTimePickerClose:ne,onRecalculatePosition:N,onUpdateMonthYear:C[11]||(C[11]=H=>oe.$emit("update-month-year",H)),onAutoApplyInvalid:C[12]||(C[12]=H=>oe.$emit("auto-apply-invalid",H)),onInvalidDate:C[13]||(C[13]=H=>oe.$emit("invalid-date",H)),"onUpdate:internalModelValue":C[14]||(C[14]=H=>oe.$emit("update:internal-model-value",H))}),Jn({_:2},[st(B.value,(H,le)=>({name:H,fn:ce(ue=>[fe(oe.$slots,H,xn(rr({...ue})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),oe.$slots["right-sidebar"]?(S(),U("div",pde,[fe(oe.$slots,"right-sidebar",xn(rr(k.value)))])):Y("",!0),oe.$slots["action-extra"]?(S(),U("div",mde,[oe.$slots["action-extra"]?fe(oe.$slots,"action-extra",{key:0,selectCurrentDate:X}):Y("",!0)])):Y("",!0)],6),!oe.autoApply||P(f).keepActionRow?(S(),ie(gce,se({key:2,"menu-mount":v.value},s.value,{"calendar-width":p.value,onClosePicker:C[15]||(C[15]=H=>oe.$emit("close-picker")),onSelectDate:C[16]||(C[16]=H=>oe.$emit("select-date")),onInvalidSelect:C[17]||(C[17]=H=>oe.$emit("invalid-select")),onSelectNow:X}),Jn({_:2},[st(P(R),(H,le)=>({name:H,fn:ce(ue=>[fe(oe.$slots,H,xn(rr({...ue})))])}))]),1040,["menu-mount","calendar-width"])):Y("",!0)],42,cde)}}}),gde=typeof window<"u"?window:void 0,xb=()=>{},vde=t=>Gf()?(wg(t),!0):!1,yde=(t,e,n,r)=>{if(!t)return xb;let i=xb;const s=It(()=>P(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=xb})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return vde(o),o},bde=(t,e,n,r={})=>{const{window:i=gde,event:s="pointerdown"}=r;return i?yde(i,s,o=>{const a=tr(t),l=tr(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},wde=Ae({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Kv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ca(),o=re(!1),a=Fu(i,"modelValue"),l=Fu(i,"timezone"),u=re(null),c=re(null),d=re(null),f=re(!1),h=re(null),p=re(!1),m=re(!1),{setMenuFocused:g,setShiftKey:v}=QL(),{clearArrowNav:y}=ya(),{mapDatesArrToMap:_,validateDate:b,isValidTime:w}=Ll(i),{defaultedTransitions:T,defaultedTextInput:x,defaultedInline:A,defaultedConfig:O}=Kn(i),{menuTransition:E,showTransition:M}=Dh(T);Vt(()=>{ge(i.modelValue),Wn().then(()=>{if(!A.value.enabled){const me=F(h.value);me==null||me.addEventListener("scroll",oe),window==null||window.addEventListener("resize",C)}}),A.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",L),window==null||window.addEventListener("keydown",H)});const $=J(()=>_());mo(()=>{if(!A.value.enabled){const me=F(h.value);me==null||me.removeEventListener("scroll",oe),window==null||window.removeEventListener("resize",C)}window==null||window.removeEventListener("keyup",L),window==null||window.removeEventListener("keydown",H)});const D=Ei(s,"all",i.presetDates),k=Ei(s,"input");It([a,l],()=>{ge(a.value)},{deep:!0});const{openOnTop:N,menuStyle:R,xCorrect:B,setMenuPosition:G,getScrollableParent:F,shadowRender:I}=ice({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:A,emit:r,props:i,slots:s}),{inputValue:ee,internalModelValue:te,parseExternalModelValue:ge,emitModelValue:ve,formatInputValue:ne,checkBeforeEmit:j}=nce(r,i,f),z=J(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:A.value.enabled,dp__flex_display_with_input:A.value.input})),ae=J(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=J(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||A.value.enabled})),he=J(()=>({class:"dp__outer_menu_wrap"})),be=J(()=>A.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),oe=()=>{o.value&&(O.value.closeOnScroll?Be():G())},C=()=>{o.value&&G()},L=me=>{me.key==="Tab"&&!A.value.enabled&&!i.teleport&&O.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Be()),m.value=me.shiftKey},H=me=>{m.value=me.shiftKey},le=()=>{!i.disabled&&!i.readonly&&(I(XA,i),G(!1),o.value=!0,o.value&&r("open"),o.value||Re(),ge(i.modelValue))},ue=()=>{var me;ee.value="",Re(),(me=d.value)==null||me.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),O.value.closeOnClearValue&&Be()},Se=()=>{const me=te.value;return!me||!Array.isArray(me)&&b(me)?!0:Array.isArray(me)?i.multiDates||me.length===2&&b(me[0])&&b(me[1])?!0:i.partialRange&&!i.timePicker?b(me[0]):!1:!1},Pe=()=>{j()&&Se()?(ve(),Be()):r("invalid-select",te.value)},we=me=>{Ie(),ve(),O.value.closeOnAutoApply&&!me&&Be()},Ie=()=>{d.value&&x.value.enabled&&d.value.setParsedDate(te.value)},ye=(me=!1)=>{i.autoApply&&w(te.value)&&Se()&&(i.range&&Array.isArray(te.value)?(i.partialRange||te.value.length===2)&&we(me):we(me))},Re=()=>{x.value.enabled||(te.value=null)},Be=()=>{A.value.enabled||(o.value&&(o.value=!1,B.value=!1,g(!1),v(!1),y(),r("closed"),ee.value&&ge(a.value)),Re(),r("blur"))},Ke=(me,Ce,xe=!1)=>{if(!me){te.value=null;return}const Ye=Array.isArray(me)?!me.some(tt=>!b(tt)):b(me),je=w(me);Ye&&je&&(te.value=me,Ce&&(p.value=xe,Pe(),r("text-submit")))},et=()=>{i.autoApply&&w(te.value)&&ve(),Ie()},lt=()=>o.value?Be():le(),q=me=>{te.value=me},V=()=>{x.value.enabled&&(f.value=!0,ne()),r("focus")},W=()=>{if(x.value.enabled&&(f.value=!1,ge(i.modelValue),p.value)){const me=Mue(h.value,m.value);me==null||me.focus()}r("blur")},Q=me=>{c.value&&c.value.updateMonthYear(0,{month:HA(me.month),year:HA(me.year)})},de=me=>{ge(me??i.modelValue)},$e=(me,Ce)=>{var xe;(xe=c.value)==null||xe.switchView(me,Ce)},Ge=me=>O.value.onClickOutside?O.value.onClickOutside(me):Be();return bde(u,d,()=>Ge(Se)),e({closeMenu:Be,selectDate:Pe,clearValue:ue,openMenu:le,onScroll:oe,formatInputValue:ne,updateInternalModelValue:q,setMonthYear:Q,parseModel:de,switchView:$e,toggleMenu:lt}),(me,Ce)=>(S(),U("div",{ref_key:"pickerWrapperRef",ref:h,class:ke(z.value),"data-datepicker-instance":""},[Z(fce,se({ref_key:"inputRef",ref:d,"input-value":P(ee),"onUpdate:inputValue":Ce[0]||(Ce[0]=xe=>cn(ee)?ee.value=xe:null),"is-menu-open":o.value},me.$props,{onClear:ue,onOpen:le,onSetInputDate:Ke,onSetEmptyDate:P(ve),onSelectDate:Pe,onToggle:lt,onClose:Be,onFocus:V,onBlur:W,onRealBlur:Ce[1]||(Ce[1]=xe=>f.value=!1)}),Jn({_:2},[st(P(k),(xe,Ye)=>({name:xe,fn:ce(je=>[fe(me.$slots,xe,xn(rr(je)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),Z(_1,xn(rr(X.value)),{default:ce(()=>[Z(zi,{name:P(E)(P(N)),css:P(M)&&!P(A).enabled},{default:ce(()=>[o.value?(S(),U("div",se({key:0,ref_key:"dpWrapMenuRef",ref:u},he.value,{class:{"dp--menu-wrapper":!P(A).enabled},style:P(A).enabled?void 0:P(R)}),[Z(XA,se({ref_key:"dpMenuRef",ref:c},me.$props,{"internal-model-value":P(te),"onUpdate:internalModelValue":Ce[2]||(Ce[2]=xe=>cn(te)?te.value=xe:null),class:{[ae.value]:!0,"dp--menu-wrapper":me.teleport},"open-on-top":P(N),"arr-map-values":$.value,"no-overlay-focus":be.value,onClosePicker:Be,onSelectDate:Pe,onAutoApply:ye,onTimeUpdate:et,onFlowStep:Ce[3]||(Ce[3]=xe=>me.$emit("flow-step",xe)),onUpdateMonthYear:Ce[4]||(Ce[4]=xe=>me.$emit("update-month-year",xe)),onInvalidSelect:Ce[5]||(Ce[5]=xe=>me.$emit("invalid-select",P(te))),onAutoApplyInvalid:Ce[6]||(Ce[6]=xe=>me.$emit("invalid-select",xe)),onInvalidFixedRange:Ce[7]||(Ce[7]=xe=>me.$emit("invalid-fixed-range",xe)),onRecalculatePosition:P(G),onTooltipOpen:Ce[8]||(Ce[8]=xe=>me.$emit("tooltip-open",xe)),onTooltipClose:Ce[9]||(Ce[9]=xe=>me.$emit("tooltip-close",xe)),onTimePickerOpen:Ce[10]||(Ce[10]=xe=>me.$emit("time-picker-open",xe)),onTimePickerClose:Ce[11]||(Ce[11]=xe=>me.$emit("time-picker-close",xe)),onAmPmChange:Ce[12]||(Ce[12]=xe=>me.$emit("am-pm-change",xe)),onRangeStart:Ce[13]||(Ce[13]=xe=>me.$emit("range-start",xe)),onRangeEnd:Ce[14]||(Ce[14]=xe=>me.$emit("range-end",xe)),onDateUpdate:Ce[15]||(Ce[15]=xe=>me.$emit("date-update",xe)),onInvalidDate:Ce[16]||(Ce[16]=xe=>me.$emit("invalid-date",xe))}),Jn({_:2},[st(P(D),(xe,Ye)=>({name:xe,fn:ce(je=>[fe(me.$slots,xe,xn(rr({...je})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):Y("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),pS=(()=>{const t=wde;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),_de=Object.freeze(Object.defineProperty({__proto__:null,default:pS},Symbol.toStringTag,{value:"Module"}));Object.entries(_de).forEach(([t,e])=>{t!=="default"&&(pS[t]=e)});var kr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function QA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Tde(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Tde(t,e){if(t){if(typeof t=="string")return JA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(t,e)}}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var r3={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=QA(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=QA(n),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,h=Ee.resolveFieldData(u,f);if(this.filters[i](h,r,s)){o.push(u);break}}}catch(p){c.e(p)}finally{c.f()}}}}catch(p){a.e(p)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Ee.removeAccents(e.toString()).toLocaleLowerCase(r)==Ee.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Ee.removeAccents(e.toString()).toLocaleLowerCase(r)!=Ee.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Ee.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Ide(t,"string");return Uf(e)=="symbol"?e:String(e)}function Ide(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eP={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[kr.STARTS_WITH,kr.CONTAINS,kr.NOT_CONTAINS,kr.ENDS_WITH,kr.EQUALS,kr.NOT_EQUALS],numeric:[kr.EQUALS,kr.NOT_EQUALS,kr.LESS_THAN,kr.LESS_THAN_OR_EQUAL_TO,kr.GREATER_THAN,kr.GREATER_THAN_OR_EQUAL_TO],date:[kr.DATE_IS,kr.DATE_IS_NOT,kr.DATE_BEFORE,kr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},Cde=Symbol();function Ode(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var Ade={install:function(e,n){var r=n?Db(Db({},eP),n):Db({},eP),i={config:Dn(r),changeTheme:Ode};e.config.globalProperties.$primevue=i,e.provide(Cde,i)}},i3={name:"BlankIcon",extends:ga},Pde=K("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),kde=[Pde];function xde(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),kde,16)}i3.render=xde;var Yv={name:"CheckIcon",extends:ga},Dde=K("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),Rde=[Dde];function Nde(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Rde,16)}Yv.render=Nde;var mS={name:"SearchIcon",extends:ga},Mde=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),$de=[Mde];function Lde(t,e,n,r,i,s){return S(),U("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),$de,16)}mS.render=Lde;var s3=aQ(),gS={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=Oe.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function Fde(t,e,n,r,i,s){return s.inline?fe(t.$slots,"default",{key:0}):i.mounted?(S(),ie(_1,{key:1,to:n.appendTo},[fe(t.$slots,"default")],8,["to"])):Y("",!0)}gS.render=Fde;var Ude=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,tP=or.extend({name:"virtualscroller",css:Ude}),Vde={name:"BaseVirtualScroller",extends:ti,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:tP,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;tP.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){o3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o3(t,e,n){return e=Bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=jde(t,"string");return Vf(e)=="symbol"?e:String(e)}function jde(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vS={name:"VirtualScroller",extends:Vde,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Oe.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Oe.getWidth(this.element),this.defaultHeight=Oe.getHeight(this.element),this.defaultContentWidth=Oe.getWidth(this.content),this.defaultContentHeight=Oe.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(x){return x>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,f=d===void 0?0:d,h=this.calculateNumItems(),p=h.numToleratedItems,m=this.getContentPosition(),g=this.itemSize,v=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1?arguments[1]:void 0;return A<=O?0:A},y=function(A,O,E){return A*O+E},_=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:A,top:O,behavior:r})},b=i?{rows:0,cols:0}:0,w=!1,T=!1;i?(b={rows:v(e[0],p[0]),cols:v(e[1],p[1])},_(y(b.cols,g[1],m.left),y(b.rows,g[0],m.top)),T=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,w=b.rows!==a.rows||b.cols!==a.cols):(b=v(e,p),s?_(y(b,g,m.left),c):_(f,y(b,g,m.top)),T=this.lastScrollPos!==(s?f:c),w=b!==a),this.isRangeChanged=w,T&&(this.first=b)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(g){return g>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:v,top:y,behavior:i})},f=n==="to-start",h=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var p=(c.first-1)*this.itemSize;o?d(p,0):d(0,p)}}else if(h){if(s)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var m=(c.first+1)*this.itemSize;o?d(m,0):d(0,m)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,f){return Math.floor(d/(f||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,h){return Math.ceil(f/(h||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,d,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<f?2:3)*f,h)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[Oe.getWidth(e.element),Oe.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Yc(Yc({},e.spacerStyle),o3({},"".concat(l),(u||[]).length*c+d+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Yc(Yc({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(M,$){return M?M>$?M-$:M:0},l=function(M,$){return Math.floor(M/($||M))},u=function(M,$,D,k,N,R){return M<=N?N:R?D-k-N:$+N-1},c=function(M,$,D,k,N,R,B){return M<=R?0:Math.max(0,B?M<$?D:M-R:M>$?D:M-2*R)},d=function(M,$,D,k,N,R){var B=$+k+2*N;return M>=N&&(B+=N+1),n.getLast(B,R)},f=a(r.scrollTop,o.top),h=a(r.scrollLeft,o.left),p=i?{rows:0,cols:0}:0,m=this.last,g=!1,v=this.lastScrollPos;if(i){var y=this.lastScrollPos.top<=f,_=this.lastScrollPos.left<=h;if(!this.appendOnly||this.appendOnly&&(y||_)){var b={rows:l(f,this.itemSize[0]),cols:l(h,this.itemSize[1])},w={rows:u(b.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],y),cols:u(b.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)};p={rows:c(b.rows,w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],y),cols:c(b.cols,w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)},m={rows:d(b.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(b.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},g=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,v={top:f,left:h}}}else{var T=s?h:f,x=this.lastScrollPos<=T;if(!this.appendOnly||this.appendOnly&&x){var A=l(T,this.itemSize),O=u(A,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,x);p=c(A,O,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,x),m=d(A,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),g=p!==this.first||m!==this.last||this.isRangeChanged,v=T}}return{first:p,last:m,isRangeChanged:g,scrollPos:v}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Oe.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[Oe.getWidth(e.element),Oe.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=Oe.getWidth(e.content),e.defaultContentHeight=Oe.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Yc({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||Oe.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:xh}},Hde=["tabindex"];function Wde(t,e,n,r,i,s){var o=En("SpinnerIcon");return t.disabled?(S(),U(Te,{key:1},[fe(t.$slots,"default"),fe(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(S(),U("div",se({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[fe(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[K("div",se({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(S(!0),U(Te,null,st(s.loadedItems,function(a,l){return fe(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(S(),U("div",se({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):Y("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(S(),U("div",se({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(S(!0),U(Te,{key:0},st(i.loaderArr,function(a,l){return fe(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):Y("",!0),fe(t.$slots,"loadingicon",{},function(){return[Z(o,se({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):Y("",!0)],16,Hde))}vS.render=Wde;var Kde={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n=e.instance,r=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!r.editable&&n.label===r.placeholder,"p-dropdown-label-empty":!r.editable&&!n.$slots.value&&(n.label==="p-emptylabel"||n.label.length===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},zde=or.extend({name:"dropdown",classes:Kde}),Gde={name:"BaseDropdown",extends:ti,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:zde,provide:function(){return{$parentInstance:this}}};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Yde(t){return Jde(t)||Qde(t)||Xde(t)||qde()}function qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xde(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function Qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jde(t){if(Array.isArray(t))return zw(t)}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){a3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a3(t,e,n){return e=Zde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=efe(t,"string");return Bf(e)=="symbol"?e:String(e)}function efe(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l3={name:"Dropdown",extends:Gde,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||rc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||rc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Nu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ee.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ee.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Ee.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ee.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ee.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ee.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Oe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Oe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||Oe.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Ee.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Ee.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){s3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onDeleteKey:function(e){this.showClear&&(this.updateModel(e,null),e.preventDefault())},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget,i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Oe.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Nu.set("overlay",e,this.$primevue.config.zIndex.overlay),Oe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Oe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Nu.clear(e)},alignOverlay:function(){this.appendTo==="self"?Oe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Oe.getOuterWidth(this.$el)+"px",Oe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new _$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Oe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&Oe.isVisible(n)&&(this.labelClickListener=function(){Oe.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&Oe.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return Oe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ee.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Ee.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Ee.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Oe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=r3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(iP(iP({},o),{},a3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",Yde(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Ee.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Ee.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Nv},components:{VirtualScroller:vS,Portal:gS,TimesIcon:Bv,ChevronDownIcon:Rv,SpinnerIcon:xh,SearchIcon:mS,CheckIcon:Yv,BlankIcon:i3}};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return jf(e)=="symbol"?e:String(e)}function rfe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ife=["id"],sfe=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],ofe=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],afe=["value","placeholder","aria-owns","aria-activedescendant"],lfe=["id"],ufe=["id"],cfe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function dfe(t,e,n,r,i,s){var o=En("SpinnerIcon"),a=En("CheckIcon"),l=En("BlankIcon"),u=En("VirtualScroller"),c=En("Portal"),d=qf("ripple");return S(),U("div",se({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(S(),U("input",se({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},ms(ms({},t.inputProps),t.ptm("input"))),null,16,sfe)):(S(),U("span",se({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},ms(ms({},t.inputProps),t.ptm("input"))),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Qe(Le(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,ofe)),t.showClear&&t.modelValue!=null?fe(t.$slots,"clearicon",{key:2,class:ke(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(S(),ie(gn(t.clearIcon?"i":"TimesIcon"),se({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},ms(ms({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):Y("",!0),K("div",se({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:ke(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(S(),U("span",se({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(S(),ie(o,se({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:ke(t.cx("dropdownIcon"))},function(){return[(S(),ie(gn(t.dropdownIcon?"span":"ChevronDownIcon"),se({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Z(c,{appendTo:t.appendTo},{default:ce(function(){return[Z(zi,se({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ce(function(){return[i.overlayVisible?(S(),U("div",se({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},ms(ms({},t.panelProps),t.ptm("panel"))),[K("span",se({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(S(),U("div",se({key:0,class:t.cx("header")},t.ptm("header")),[K("div",se({class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",se({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},ms(ms({},t.filterInputProps),t.ptm("filterInput"))),null,16,afe),fe(t.$slots,"filtericon",{class:ke(t.cx("filterIcon"))},function(){return[(S(),ie(gn(t.filterIcon?"span":"SearchIcon"),se({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),K("span",se({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Le(s.filterResultMessageText),17)],16)):Y("",!0),K("div",se({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Z(u,se({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Jn({content:ce(function(f){var h=f.styleClass,p=f.contentRef,m=f.items,g=f.getItemOptions,v=f.contentStyle,y=f.itemSize;return[K("ul",se({ref:function(b){return s.listRef(b,p)},id:i.id+"_list",class:[t.cx("list"),h],style:v,role:"listbox"},t.ptm("list")),[(S(!0),U(Te,null,st(m,function(_,b){return S(),U(Te,{key:s.getOptionRenderKey(_,s.getOptionIndex(b,g))},[s.isOptionGroup(_)?(S(),U("li",se({key:0,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:y?y+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(b,g)},function(){return[K("span",se({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),Le(s.getOptionGroupLabel(_.optionGroup)),17)]})],16,ufe)):Ci((S(),U("li",se({key:1,id:i.id+"_"+s.getOptionIndex(b,g),class:t.cx("item",{option:_,focusedOption:s.getOptionIndex(b,g)}),style:{height:y?y+"px":void 0},role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(b,g)),onClick:function(T){return s.onOptionSelect(T,_)},onMousemove:function(T){return s.onOptionMouseMove(T,s.getOptionIndex(b,g))},"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(b,g),"data-p-disabled":s.isOptionDisabled(_)},s.getPTItemOptions(_,g,b,"item")),[t.checkmark?(S(),U(Te,{key:0},[s.isSelected(_)?(S(),ie(a,se({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(S(),ie(l,se({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):Y("",!0),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(b,g)},function(){return[K("span",se({class:t.cx("itemLabel")},t.ptm("itemLabel")),Le(s.getOptionLabel(_)),17)]})],16,cfe)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(S(),U("li",se({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"emptyfilter",{},function(){return[Qe(Le(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(S(),U("li",se({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"empty",{},function(){return[Qe(Le(s.emptyMessageText),1)]})],16)):Y("",!0)],16,lfe)]}),_:2},[t.$slots.loader?{name:"loader",fn:ce(function(f){var h=f.options;return[fe(t.$slots,"loader",{options:h})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(S(),U("span",se({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Le(s.emptyMessageText),17)):Y("",!0),K("span",se({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Le(s.selectedMessageText),17),K("span",se({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Y("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,ife)}l3.render=dfe;var ffe={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},hfe=or.extend({name:"inputtext",classes:ffe}),pfe={name:"BaseInputText",extends:ti,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:hfe,provide:function(){return{$parentInstance:this}}},u3={name:"InputText",extends:pfe,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},mfe=["value","aria-invalid"];function gfe(t,e,n,r,i,s){return S(),U("input",se({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,mfe)}u3.render=gfe;var vfe={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},yfe=or.extend({name:"checkbox",classes:vfe}),bfe={name:"BaseCheckbox",extends:ti,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:yfe,provide:function(){return{$parentInstance:this}}};function wfe(t){return Efe(t)||Sfe(t)||Tfe(t)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tfe(t,e){if(t){if(typeof t=="string")return Gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(t,e)}}function Sfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Efe(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c3={name:"Checkbox",extends:bfe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Ee.equals(i,n.value)}):r=this.modelValue?[].concat(wfe(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ee.contains(this.value,this.modelValue)}},components:{CheckIcon:Yv}},Ife=["data-p-highlight","data-p-disabled"],Cfe=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function Ofe(t,e,n,r,i,s){var o=En("CheckIcon");return S(),U("div",se({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[K("input",se({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,Cfe),K("div",se({class:t.cx("box")},s.getPTOptions("box")),[fe(t.$slots,"icon",{checked:s.checked,class:ke(t.cx("icon"))},function(){return[s.checked?(S(),ie(o,se({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):Y("",!0)]})],16)],16,Ife)}c3.render=Ofe;var Afe={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},Pfe={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},kfe=or.extend({name:"multiselect",classes:Pfe,inlineStyles:Afe}),xfe={name:"BaseMultiSelect",extends:ti,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:kfe,provide:function(){return{$parentInstance:this}}};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){d3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d3(t,e,n){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Rfe(t,"string");return Hf(e)=="symbol"?e:String(e)}function Rfe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lP(t){return Lfe(t)||$fe(t)||Mfe(t)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mfe(t,e){if(t){if(typeof t=="string")return Yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yw(t,e)}}function $fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lfe(t){if(Array.isArray(t))return Yw(t)}function Yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f3={name:"MultiSelect",extends:xfe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||rc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||rc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Nu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ee.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ee.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?Ee.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ee.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ee.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ee.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&Oe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Oe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Ee.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Oe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Oe.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Ee.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(lP(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&Oe.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){s3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(0,e.shiftKey?i:0),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,o,this.startRangeIndex),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(e.shiftKey?0:i,i),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Oe.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Nu.set("overlay",e,this.$primevue.config.zIndex.overlay),Oe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Oe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Nu.clear(e)},alignOverlay:function(){this.appendTo==="self"?Oe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Oe.getOuterWidth(this.$el)+"px",Oe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new _$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Oe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Ee.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Ee.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return Oe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ee.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ee.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Ee.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Oe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=r3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(aP(aP({},o),{},d3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",lP(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Ee.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Ee.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Ee.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Ee.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Ee.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Nv},components:{Checkbox:c3,VirtualScroller:vS,Portal:gS,TimesIcon:Bv,SearchIcon:mS,TimesCircleIcon:kT,ChevronDownIcon:Rv,SpinnerIcon:xh,CheckIcon:Yv}};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qw(t,e,n){return e=Ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ffe(t){var e=Ufe(t,"string");return Wf(e)=="symbol"?e:String(e)}function Ufe(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vfe=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Bfe=["onClick"],jfe=["value","placeholder","aria-owns","aria-activedescendant"],Hfe=["aria-label"],Wfe=["id"],Kfe=["id"],zfe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Gfe(t,e,n,r,i,s){var o=En("TimesCircleIcon"),a=En("SpinnerIcon"),l=En("Checkbox"),u=En("VirtualScroller"),c=En("Portal"),d=qf("ripple");return S(),U("div",se({ref:"container",class:t.cx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[K("div",se({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[K("input",se({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Oo(Oo({},t.inputProps),t.ptm("hiddenInput"))),null,16,Vfe)],16),K("div",se({class:t.cx("labelContainer")},t.ptm("labelContainer")),[K("div",se({class:t.cx("label")},t.ptm("label")),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(S(),U(Te,{key:0},[Qe(Le(s.label||"empty"),1)],64)):t.display==="chip"?(S(),U(Te,{key:1},[(S(!0),U(Te,null,st(s.chipSelectedItems,function(f){return S(),U("div",se({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[fe(t.$slots,"chip",{value:f},function(){return[K("span",se({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),Le(s.getLabelByValue(f)),17)]}),t.disabled?Y("",!0):fe(t.$slots,"removetokenicon",{key:0,class:ke(t.cx("removeTokenIcon")),item:f,onClick:function(p){return s.removeOption(p,f)},removeCallback:function(p){return s.removeOption(p,f)}},function(){return[t.removeTokenIcon?(S(),U("span",se({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:wt(function(h){return s.removeOption(h,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,Bfe)):(S(),ie(o,se({key:1,class:t.cx("removeTokenIcon"),onClick:wt(function(h){return s.removeOption(h,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(S(),U(Te,{key:0},[Qe(Le(t.placeholder||"empty"),1)],64)):Y("",!0)],64)):Y("",!0)]})],16)],16),K("div",se({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:ke(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(S(),U("span",se({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(S(),ie(a,se({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:ke(t.cx("dropdownIcon"))},function(){return[(S(),ie(gn(t.dropdownIcon?"span":"ChevronDownIcon"),se({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Z(c,{appendTo:t.appendTo},{default:ce(function(){return[Z(zi,se({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ce(function(){return[i.overlayVisible?(S(),U("div",se({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Oo(Oo({},t.panelProps),t.ptm("panel"))),[K("span",se({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(S(),U("div",se({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(S(),ie(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:ce(function(f){return[t.$slots.headercheckboxicon?(S(),ie(gn(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:ke(f.class)},null,8,["checked","class"])):f.checked?(S(),ie(gn(t.checkboxIcon?"span":"CheckIcon"),se({key:1,class:[f.class,qw({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):Y("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):Y("",!0),t.filter?(S(),U("div",se({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",se({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Oo(Oo({},t.filterInputProps),t.ptm("filterInput"))),null,16,jfe),fe(t.$slots,"filtericon",{class:ke(t.cx("filterIcon"))},function(){return[(S(),ie(gn(t.filterIcon?"span":"SearchIcon"),se({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):Y("",!0),t.filter?(S(),U("span",se({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Le(s.filterResultMessageText),17)):Y("",!0),Ci((S(),U("button",se({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Oo(Oo({},t.closeButtonProps),t.ptm("closeButton"))),[fe(t.$slots,"closeicon",{class:ke(t.cx("closeIcon"))},function(){return[(S(),ie(gn(t.closeIcon?"span":"TimesIcon"),se({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,Hfe)),[[d]])],16)):Y("",!0),K("div",se({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Z(u,se({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Jn({content:ce(function(f){var h=f.styleClass,p=f.contentRef,m=f.items,g=f.getItemOptions,v=f.contentStyle,y=f.itemSize;return[K("ul",se({ref:function(b){return s.listRef(b,p)},id:i.id+"_list",class:[t.cx("list"),h],style:v,role:"listbox","aria-multiselectable":"true"},t.ptm("list")),[(S(!0),U(Te,null,st(m,function(_,b){return S(),U(Te,{key:s.getOptionRenderKey(_,s.getOptionIndex(b,g))},[s.isOptionGroup(_)?(S(),U("li",se({key:0,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:y?y+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(b,g)},function(){return[Qe(Le(s.getOptionGroupLabel(_.optionGroup)),1)]})],16,Kfe)):Ci((S(),U("li",se({key:1,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:y?y+"px":void 0},class:t.cx("item",{option:_,index:b,getItemOptions:g}),role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(b,g)),onClick:function(T){return s.onOptionSelect(T,_,s.getOptionIndex(b,g),!0)},onMousemove:function(T){return s.onOptionMouseMove(T,s.getOptionIndex(b,g))}},s.getCheckboxPTOptions(_,g,b,"item"),{"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(b,g),"data-p-disabled":s.isOptionDisabled(_)}),[Z(l,{modelValue:s.isSelected(_),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(_,g,b,"itemCheckbox")},{icon:ce(function(w){return[t.$slots.itemcheckboxicon?(S(),ie(gn(t.$slots.itemcheckboxicon),{key:0,checked:w.checked,class:ke(w.class)},null,8,["checked","class"])):w.checked?(S(),ie(gn(t.checkboxIcon?"span":"CheckIcon"),se({key:1,class:[w.class,qw({},t.checkboxIcon,w.checked)]},s.getCheckboxPTOptions(_,g,b,"itemCheckbox.icon")),null,16,["class"])):Y("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(b,g)},function(){return[K("span",xn(rr(t.ptm("option"))),Le(s.getOptionLabel(_)),17)]})],16,zfe)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(S(),U("li",se({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"emptyfilter",{},function(){return[Qe(Le(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(S(),U("li",se({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"empty",{},function(){return[Qe(Le(s.emptyMessageText),1)]})],16)):Y("",!0)],16,Wfe)]}),_:2},[t.$slots.loader?{name:"loader",fn:ce(function(f){var h=f.options;return[fe(t.$slots,"loader",{options:h})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(S(),U("span",se({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Le(s.emptyMessageText),17)):Y("",!0),K("span",se({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Le(s.selectedMessageText),17),K("span",se({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Y("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}f3.render=Gfe;var Yfe={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},qfe=or.extend({name:"textarea",classes:Yfe}),Xfe={name:"BaseTextarea",extends:ti,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:qfe,provide:function(){return{$parentInstance:this}}},h3={name:"Textarea",extends:Xfe,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},Qfe=["value","aria-invalid"];function Jfe(t,e,n,r,i,s){return S(),U("textarea",se({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,Qfe)}h3.render=Jfe;const Gi=Qk(UU);Gi.use(GT);Gi.use(_X,{firebaseApp:gD,modules:[vX()]});Gi.use(TD);Gi.use(A6);Gi.use(yne);Gi.use(Ade);Gi.component("VueDatePicker",pS);Gi.component("PrimeInputText",u3);Gi.component("PrimeTextArea",h3);Gi.component("PrimeDropdown",l3);Gi.component("PrimeMultiSelect",f3);Gi.mount("#app");
