var NN=Object.defineProperty;var MN=(t,e,n)=>e in t?NN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var os=(t,e,n)=>(MN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const mt={},cl=[],ai=()=>{},LN=()=>!1,yd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),jy=t=>t.startsWith("onUpdate:"),zt=Object.assign,Hy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},VN=Object.prototype.hasOwnProperty,kt=(t,e)=>VN.call(t,e),$e=Array.isArray,dl=t=>eu(t)==="[object Map]",wa=t=>eu(t)==="[object Set]",ww=t=>eu(t)==="[object Date]",FN=t=>eu(t)==="[object RegExp]",Ze=t=>typeof t=="function",Jt=t=>typeof t=="string",ki=t=>typeof t=="symbol",jt=t=>t!==null&&typeof t=="object",Wy=t=>(jt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),jS=Object.prototype.toString,eu=t=>jS.call(t),$N=t=>eu(t).slice(8,-1),fp=t=>eu(t)==="[object Object]",qy=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hl=hp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},UN=/-(\w)/g,vr=pp(t=>t.replace(UN,(e,n)=>n?n.toUpperCase():"")),BN=/\B([A-Z])/g,Lr=pp(t=>t.replace(BN,"-$1").toLowerCase()),mp=pp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Uh=pp(t=>t?`on${mp(t)}`:""),Cr=(t,e)=>!Object.is(t,e),fl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},HS=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},of=t=>{const e=parseFloat(t);return isNaN(e)?t:e},af=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let Tw;const gp=()=>Tw||(Tw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),jN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",HN=hp(jN);function Pr(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Jt(r)?KN(r):Pr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Jt(t)||jt(t))return t}const WN=/;(?![^(]*\))/g,qN=/:([^]+)/,zN=/\/\*[^]*?\*\//g;function KN(t){const e={};return t.replace(zN,"").split(WN).forEach(n=>{if(n){const r=n.split(qN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Jt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(jt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function bn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=tt(e)),n&&(t.style=Pr(n)),t}const YN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",GN=hp(YN);function WS(t){return!!t||t===""}function QN(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=po(t[r],e[r]);return n}function po(t,e){if(t===e)return!0;let n=ww(t),r=ww(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ki(t),r=ki(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?QN(t,e):!1;if(n=jt(t),r=jt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!po(t[o],e[o]))return!1}}return String(t)===String(e)}function vp(t,e){return t.findIndex(n=>po(n,e))}const qS=t=>!!(t&&t.__v_isRef===!0),dt=t=>Jt(t)?t:t==null?"":$e(t)||jt(t)&&(t.toString===jS||!Ze(t.toString))?qS(t)?dt(t.value):JSON.stringify(t,zS,2):String(t),zS=(t,e)=>qS(e)?zS(t,e.value):dl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Um(r,s)+" =>"]=i,n),{})}:wa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Um(n))}:ki(e)?Um(e):jt(e)&&!$e(e)&&!fp(e)?String(e):e,Um=(t,e="")=>{var n;return ki(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sr;class KS{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Sr,!e&&Sr&&(this.index=(Sr.scopes||(Sr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Sr;try{return Sr=this,e()}finally{Sr=n}}}on(){Sr=this}off(){Sr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function zy(t){return new KS(t)}function Ky(){return Sr}function YS(t,e=!1){Sr&&Sr.cleanups.push(t)}let Yt;const Bm=new WeakSet;class lf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Sr&&Sr.active&&Sr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bm.has(this)&&(Bm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||QS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ew(this),XS(this);const e=Yt,n=Si;Yt=this,Si=!0;try{return this.fn()}finally{JS(this),Yt=e,Si=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Qy(e);this.deps=this.depsTail=void 0,Ew(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zg(this)&&this.run()}get dirty(){return Zg(this)}}let GS=0,Xu,Ju;function QS(t,e=!1){if(t.flags|=8,e){t.next=Ju,Ju=t;return}t.next=Xu,Xu=t}function Yy(){GS++}function Gy(){if(--GS>0)return;if(Ju){let e=Ju;for(Ju=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Xu;){let e=Xu;for(Xu=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function XS(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function JS(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Qy(r),XN(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Zg(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ZS(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ZS(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ic))return;t.globalVersion=Ic;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Zg(t)){t.flags&=-3;return}const n=Yt,r=Si;Yt=t,Si=!0;try{XS(t);const i=t.fn(t._value);(e.version===0||Cr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Yt=n,Si=r,JS(t),t.flags&=-3}}function Qy(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Qy(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function XN(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function ene(t,e){t.effect instanceof lf&&(t=t.effect.fn);const n=new lf(t);e&&zt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function tne(t){t.effect.stop()}let Si=!0;const eC=[];function Eo(){eC.push(Si),Si=!1}function Io(){const t=eC.pop();Si=t===void 0?!0:t}function Ew(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Yt;Yt=void 0;try{e()}finally{Yt=n}}}let Ic=0;class JN{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Yt||!Si||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new JN(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,tC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=r)}return n}trigger(e){this.version++,Ic++,this.notify(e)}notify(e){Yy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gy()}}}function tC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)tC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const uf=new WeakMap,zo=Symbol(""),ev=Symbol(""),Sc=Symbol("");function ur(t,e,n){if(Si&&Yt){let r=uf.get(t);r||uf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new yp),i.map=r,i.key=n),i.track()}}function hs(t,e,n,r,i,s){const o=uf.get(t);if(!o){Ic++;return}const a=l=>{l&&l.trigger()};if(Yy(),e==="clear")o.forEach(a);else{const l=$e(t),u=l&&qy(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Sc||!ki(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Sc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(zo)),dl(t)&&a(o.get(ev)));break;case"delete":l||(a(o.get(zo)),dl(t)&&a(o.get(ev)));break;case"set":dl(t)&&a(o.get(zo));break}}Gy()}function ZN(t,e){const n=uf.get(t);return n&&n.get(e)}function $a(t){const e=pt(t);return e===t?e:(ur(e,"iterate",Sc),li(t)?e:e.map(cr))}function _p(t){return ur(t=pt(t),"iterate",Sc),t}const eM={__proto__:null,[Symbol.iterator](){return jm(this,Symbol.iterator,cr)},concat(...t){return $a(this).concat(...t.map(e=>$e(e)?$a(e):e))},entries(){return jm(this,"entries",t=>(t[1]=cr(t[1]),t))},every(t,e){return as(this,"every",t,e,void 0,arguments)},filter(t,e){return as(this,"filter",t,e,n=>n.map(cr),arguments)},find(t,e){return as(this,"find",t,e,cr,arguments)},findIndex(t,e){return as(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return as(this,"findLast",t,e,cr,arguments)},findLastIndex(t,e){return as(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return as(this,"forEach",t,e,void 0,arguments)},includes(...t){return Hm(this,"includes",t)},indexOf(...t){return Hm(this,"indexOf",t)},join(t){return $a(this).join(t)},lastIndexOf(...t){return Hm(this,"lastIndexOf",t)},map(t,e){return as(this,"map",t,e,void 0,arguments)},pop(){return Su(this,"pop")},push(...t){return Su(this,"push",t)},reduce(t,...e){return Iw(this,"reduce",t,e)},reduceRight(t,...e){return Iw(this,"reduceRight",t,e)},shift(){return Su(this,"shift")},some(t,e){return as(this,"some",t,e,void 0,arguments)},splice(...t){return Su(this,"splice",t)},toReversed(){return $a(this).toReversed()},toSorted(t){return $a(this).toSorted(t)},toSpliced(...t){return $a(this).toSpliced(...t)},unshift(...t){return Su(this,"unshift",t)},values(){return jm(this,"values",cr)}};function jm(t,e,n){const r=_p(t),i=r[e]();return r!==t&&!li(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const tM=Array.prototype;function as(t,e,n,r,i,s){const o=_p(t),a=o!==t&&!li(t),l=o[e];if(l!==tM[e]){const h=l.apply(t,s);return a?cr(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,cr(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function Iw(t,e,n,r){const i=_p(t);let s=n;return i!==t&&(li(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,cr(a),l,t)}),i[e](s,...r)}function Hm(t,e,n){const r=pt(t);ur(r,"iterate",Sc);const i=r[e](...n);return(i===-1||i===!1)&&Jy(n[0])?(n[0]=pt(n[0]),r[e](...n)):i}function Su(t,e,n=[]){Eo(),Yy();const r=pt(t)[e].apply(t,n);return Gy(),Io(),r}const nM=hp("__proto__,__v_isRef,__isVue"),nC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ki));function rM(t){ki(t)||(t=String(t));const e=pt(this);return ur(e,"has",t),e.hasOwnProperty(t)}class rC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?uC:lC:s?aC:oC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=eM[n]))return l;if(n==="hasOwnProperty")return rM}const a=Reflect.get(e,n,an(e)?e:r);return(ki(n)?nC.has(n):nM(n))||(i||ur(e,"get",n),s)?a:an(a)?o&&qy(n)?a:a.value:jt(a)?i?Xy(a):Rr(a):a}}class iC extends rC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=na(s);if(!li(r)&&!na(r)&&(s=pt(s),r=pt(r)),!$e(e)&&an(s)&&!an(r))return l?!1:(s.value=r,!0)}const o=$e(e)&&qy(n)?Number(n)<e.length:kt(e,n),a=Reflect.set(e,n,r,an(e)?e:i);return e===pt(i)&&(o?Cr(r,s)&&hs(e,"set",n,r):hs(e,"add",n,r)),a}deleteProperty(e,n){const r=kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&hs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ki(n)||!nC.has(n))&&ur(e,"has",n),r}ownKeys(e){return ur(e,"iterate",$e(e)?"length":zo),Reflect.ownKeys(e)}}class sC extends rC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const iM=new iC,sM=new sC,oM=new iC(!0),aM=new sC(!0),tv=t=>t,ah=t=>Reflect.getPrototypeOf(t);function lM(t,e,n){return function(...r){const i=this.__v_raw,s=pt(i),o=dl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?tv:e?nv:cr;return!e&&ur(s,"iterate",l?ev:zo),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function lh(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function uM(t,e){const n={get(i){const s=this.__v_raw,o=pt(s),a=pt(i);t||(Cr(i,a)&&ur(o,"get",i),ur(o,"get",a));const{has:l}=ah(o),u=e?tv:t?nv:cr;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&ur(pt(i),"iterate",zo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=pt(s),a=pt(i);return t||(Cr(i,a)&&ur(o,"has",i),ur(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=pt(a),u=e?tv:t?nv:cr;return!t&&ur(l,"iterate",zo),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return zt(n,t?{add:lh("add"),set:lh("set"),delete:lh("delete"),clear:lh("clear")}:{add(i){!e&&!li(i)&&!na(i)&&(i=pt(i));const s=pt(this);return ah(s).has.call(s,i)||(s.add(i),hs(s,"add",i,i)),this},set(i,s){!e&&!li(s)&&!na(s)&&(s=pt(s));const o=pt(this),{has:a,get:l}=ah(o);let u=a.call(o,i);u||(i=pt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Cr(s,c)&&hs(o,"set",i,s):hs(o,"add",i,s),this},delete(i){const s=pt(this),{has:o,get:a}=ah(s);let l=o.call(s,i);l||(i=pt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&hs(s,"delete",i,void 0),u},clear(){const i=pt(this),s=i.size!==0,o=i.clear();return s&&hs(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=lM(i,t,e)}),n}function bp(t,e){const n=uM(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kt(n,i)&&i in r?n:r,i,s)}const cM={get:bp(!1,!1)},dM={get:bp(!1,!0)},hM={get:bp(!0,!1)},fM={get:bp(!0,!0)},oC=new WeakMap,aC=new WeakMap,lC=new WeakMap,uC=new WeakMap;function pM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mM(t){return t.__v_skip||!Object.isExtensible(t)?0:pM($N(t))}function Rr(t){return na(t)?t:wp(t,!1,iM,cM,oC)}function cC(t){return wp(t,!1,oM,dM,aC)}function Xy(t){return wp(t,!0,sM,hM,lC)}function nne(t){return wp(t,!0,aM,fM,uC)}function wp(t,e,n,r,i){if(!jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=mM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ki(t){return na(t)?Ki(t.__v_raw):!!(t&&t.__v_isReactive)}function na(t){return!!(t&&t.__v_isReadonly)}function li(t){return!!(t&&t.__v_isShallow)}function Jy(t){return t?!!t.__v_raw:!1}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Zy(t){return!kt(t,"__v_skip")&&Object.isExtensible(t)&&HS(t,"__v_skip",!0),t}const cr=t=>jt(t)?Rr(t):t,nv=t=>jt(t)?Xy(t):t;function an(t){return t?t.__v_isRef===!0:!1}function fe(t){return hC(t,!1)}function dC(t){return hC(t,!0)}function hC(t,e){return an(t)?t:new gM(t,e)}class gM{constructor(e,n){this.dep=new yp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pt(e),this._value=n?e:cr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||li(e)||na(e);e=r?e:pt(e),Cr(e,n)&&(this._rawValue=e,this._value=r?e:cr(e),this.dep.trigger())}}function rne(t){t.dep&&t.dep.trigger()}function K(t){return an(t)?t.value:t}function ine(t){return Ze(t)?t():K(t)}const vM={get:(t,e,n)=>e==="__v_raw"?t:K(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function fC(t){return Ki(t)?t:new Proxy(t,vM)}class yM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new yp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function _M(t){return new yM(t)}function bM(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=pC(t,n);return e}class wM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ZN(pt(this._object),this._key)}}class TM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Cc(t,e,n){return an(t)?t:Ze(t)?new TM(t):jt(t)&&arguments.length>1?pC(t,e,n):fe(t)}function pC(t,e,n){const r=t[e];return an(r)?r:new wM(t,e,n)}class EM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new yp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ic-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return QS(this,!0),!0}get value(){const e=this.dep.track();return ZS(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function IM(t,e,n=!1){let r,i;return Ze(t)?r=t:(r=t.get,i=t.set),new EM(r,i,n)}const sne={GET:"get",HAS:"has",ITERATE:"iterate"},one={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},uh={},cf=new WeakMap;let zs;function ane(){return zs}function SM(t,e=!1,n=zs){if(n){let r=cf.get(n);r||cf.set(n,r=[]),r.push(t)}}function CM(t,e,n=mt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=I=>i?I:li(I)||i===!1||i===0?fs(I,1):fs(I);let c,h,f,p,g=!1,b=!1;if(an(t)?(h=()=>t.value,g=li(t)):Ki(t)?(h=()=>u(t),g=!0):$e(t)?(b=!0,g=t.some(I=>Ki(I)||li(I)),h=()=>t.map(I=>{if(an(I))return I.value;if(Ki(I))return u(I);if(Ze(I))return l?l(I,2):I()})):Ze(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Eo();try{f()}finally{Io()}}const I=zs;zs=c;try{return l?l(t,3,[p]):t(p)}finally{zs=I}}:h=ai,e&&i){const I=h,M=i===!0?1/0:i;h=()=>fs(I(),M)}const S=Ky(),R=()=>{c.stop(),S&&S.active&&Hy(S.effects,c)};if(s&&e){const I=e;e=(...M)=>{I(...M),R()}}let P=b?new Array(t.length).fill(uh):uh;const E=I=>{if(!(!(c.flags&1)||!c.dirty&&!I))if(e){const M=c.run();if(i||g||(b?M.some((L,w)=>Cr(L,P[w])):Cr(M,P))){f&&f();const L=zs;zs=c;try{const w=[M,P===uh?void 0:b&&P[0]===uh?[]:P,p];l?l(e,3,w):e(...w),P=M}finally{zs=L}}}else c.run()};return a&&a(E),c=new lf(h),c.scheduler=o?()=>o(E,!1):E,p=I=>SM(I,!1,c),f=c.onStop=()=>{const I=cf.get(c);if(I){if(l)l(I,4);else for(const M of I)M();cf.delete(c)}},e?r?E(!0):P=c.run():o?o(E.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function fs(t,e=1/0,n){if(e<=0||!jt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))fs(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)fs(t[r],e,n);else if(wa(t)||dl(t))t.forEach(r=>{fs(r,e,n)});else if(fp(t)){for(const r in t)fs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&fs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const mC=[];function AM(t){mC.push(t)}function OM(){mC.pop()}function lne(t,e){}const une={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},PM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function _d(t,e,n,r){try{return r?t(...r):t()}catch(i){tu(i,e,n)}}function Ri(t,e,n,r){if(Ze(t)){const i=_d(t,e,n,r);return i&&Wy(i)&&i.catch(s=>{tu(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ri(t[s],e,n,r));return i}}function tu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||mt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){Eo(),_d(s,null,10,[t,l,u]),Io();return}}kM(t,n,i,r,o)}function kM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ar=[];let Fi=-1;const pl=[];let Ks=null,Ka=0;const gC=Promise.resolve();let df=null;function jn(t){const e=df||gC;return t?e.then(this?t.bind(this):t):e}function RM(t){let e=Fi+1,n=Ar.length;for(;e<n;){const r=e+n>>>1,i=Ar[r],s=Ac(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function e_(t){if(!(t.flags&1)){const e=Ac(t),n=Ar[Ar.length-1];!n||!(t.flags&2)&&e>=Ac(n)?Ar.push(t):Ar.splice(RM(e),0,t),t.flags|=1,vC()}}function vC(){df||(df=gC.then(yC))}function hf(t){$e(t)?pl.push(...t):Ks&&t.id===-1?Ks.splice(Ka+1,0,t):t.flags&1||(pl.push(t),t.flags|=1),vC()}function Sw(t,e,n=Fi+1){for(;n<Ar.length;n++){const r=Ar[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ar.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ff(t){if(pl.length){const e=[...new Set(pl)].sort((n,r)=>Ac(n)-Ac(r));if(pl.length=0,Ks){Ks.push(...e);return}for(Ks=e,Ka=0;Ka<Ks.length;Ka++){const n=Ks[Ka];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,Ka=0}}const Ac=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yC(t){try{for(Fi=0;Fi<Ar.length;Fi++){const e=Ar[Fi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_d(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fi<Ar.length;Fi++){const e=Ar[Fi];e&&(e.flags&=-2)}Fi=-1,Ar.length=0,ff(),df=null,(Ar.length||pl.length)&&yC()}}let Ya,ch=[];function _C(t,e){var n,r;Ya=t,Ya?(Ya.enabled=!0,ch.forEach(({event:i,args:s})=>Ya.emit(i,...s)),ch=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{_C(s,e)}),setTimeout(()=>{Ya||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ch=[])},3e3)):ch=[]}let Mn=null,Tp=null;function Oc(t){const e=Mn;return Mn=t,Tp=t&&t.type.__scopeId||null,e}function cne(t){Tp=t}function dne(){Tp=null}const hne=t=>Qe;function Qe(t,e=Mn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&$w(-1);const s=Oc(e);let o;try{o=t(...i)}finally{Oc(s),r._d&&$w(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ko(t,e){if(Mn===null)return t;const n=Td(Mn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=mt]=e[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&fs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ui(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Eo(),Ri(l,n,8,[t.el,a,t,e]),Io())}}const bC=Symbol("_vte"),wC=t=>t.__isTeleport,Zu=t=>t&&(t.disabled||t.disabled===""),Cw=t=>t&&(t.defer||t.defer===""),Aw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ow=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,rv=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},TC={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:b,createComment:S}}=u,R=Zu(e.props);let{shapeFlag:P,children:E,dynamicChildren:I}=e;if(t==null){const M=e.el=b(""),L=e.anchor=b("");p(M,n,r),p(L,n,r);const w=(_,v)=>{P&16&&(i&&i.isCE&&(i.ce._teleportTarget=_),c(E,_,v,i,s,o,a,l))},T=()=>{const _=e.target=rv(e.props,g),v=IC(_,e,b,p);_&&(o!=="svg"&&Aw(_)?o="svg":o!=="mathml"&&Ow(_)&&(o="mathml"),R||(w(_,v),Bh(e,!1)))};R&&(w(n,L),Bh(e,!0)),Cw(e.props)?On(()=>{T(),e.el.__isMounted=!0},s):T()}else{if(Cw(e.props)&&!t.el.__isMounted){On(()=>{TC.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,L=e.target=t.target,w=e.targetAnchor=t.targetAnchor,T=Zu(t.props),_=T?n:L,v=T?M:w;if(o==="svg"||Aw(L)?o="svg":(o==="mathml"||Ow(L))&&(o="mathml"),I?(f(t.dynamicChildren,I,_,i,s,o,a),d_(t,e,!0)):l||h(t,e,_,v,i,s,o,a,!1),R)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):dh(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=rv(e.props,g);C&&dh(e,C,null,u,0)}else T&&dh(e,L,w,u,1);Bh(e,R)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!Zu(f);for(let g=0;g<a.length;g++){const b=a[g];r(b,e,n,p,!!b.dynamicChildren)}}},move:dh,hydrate:DM};function dh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||Zu(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function DM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=rv(e.props,l);if(f){const p=Zu(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||IC(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}Bh(e,p)}return e.anchor&&o(e.anchor)}const EC=TC;function Bh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function IC(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[bC]=s,t&&(r(i,t),r(s,t)),s}const Ys=Symbol("_leaveCb"),hh=Symbol("_enterCb");function SC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vn(()=>{t.isMounted=!0}),s_(()=>{t.isUnmounting=!0}),t}const ni=[Function,Array],CC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},AC=t=>{const e=t.subTree;return e.component?AC(e.component):e},xM={name:"BaseTransition",props:CC,setup(t,{slots:e}){const n=Zr(),r=SC();return()=>{const i=e.default&&t_(e.default(),!0);if(!i||!i.length)return;const s=OC(i),o=pt(t),{mode:a}=o;if(r.isLeaving)return Wm(s);const l=Pw(s);if(!l)return Wm(s);let u=Pc(l,o,r,n,h=>u=h);l.type!==Rn&&mo(l,u);let c=n.subTree&&Pw(n.subTree);if(c&&c.type!==Rn&&!_i(l,c)&&AC(n).type!==Rn){let h=Pc(c,o,r,n);if(mo(c,h),a==="out-in"&&l.type!==Rn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},Wm(s);a==="in-out"&&l.type!==Rn?h.delayLeave=(f,p,g)=>{const b=PC(r,c);b[String(c.key)]=c,f[Ys]=()=>{p(),f[Ys]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function OC(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Rn){e=n;break}}return e}const NM=xM;function PC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Pc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:S,onAppear:R,onAfterAppear:P,onAppearCancelled:E}=e,I=String(t.key),M=PC(n,t),L=(_,v)=>{_&&Ri(_,r,9,v)},w=(_,v)=>{const C=v[1];L(_,v),$e(_)?_.every(O=>O.length<=1)&&C():_.length<=1&&C()},T={mode:o,persisted:a,beforeEnter(_){let v=l;if(!n.isMounted)if(s)v=S||l;else return;_[Ys]&&_[Ys](!0);const C=M[I];C&&_i(t,C)&&C.el[Ys]&&C.el[Ys](),L(v,[_])},enter(_){let v=u,C=c,O=h;if(!n.isMounted)if(s)v=R||u,C=P||c,O=E||h;else return;let k=!1;const Y=_[hh]=B=>{k||(k=!0,B?L(O,[_]):L(C,[_]),T.delayedLeave&&T.delayedLeave(),_[hh]=void 0)};v?w(v,[_,Y]):Y()},leave(_,v){const C=String(t.key);if(_[hh]&&_[hh](!0),n.isUnmounting)return v();L(f,[_]);let O=!1;const k=_[Ys]=Y=>{O||(O=!0,v(),Y?L(b,[_]):L(g,[_]),_[Ys]=void 0,M[C]===t&&delete M[C])};M[C]=t,p?w(p,[_,k]):k()},clone(_){const v=Pc(_,e,n,r,i);return i&&i(v),v}};return T}function Wm(t){if(bd(t))return t=Is(t),t.children=null,t}function Pw(t){if(!bd(t))return wC(t.type)&&t.children?OC(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function mo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,mo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function t_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ne?(o.patchFlag&128&&i++,r=r.concat(t_(o.children,e,a))):(e||o.type!==Rn)&&r.push(a!=null?Is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Kt(t,e){return Ze(t)?zt({name:t.name},e,{setup:t}):t}function fne(){const t=Zr();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function n_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function pne(t){const e=Zr(),n=dC(null);if(e){const i=e.refs===mt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function kc(t,e,n,r,i=!1){if($e(t)){t.forEach((g,b)=>kc(g,e&&($e(e)?e[b]:e),n,r,i));return}if(io(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&kc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Td(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===mt?a.refs={}:a.refs,h=a.setupState,f=pt(h),p=h===mt?()=>!1:g=>kt(f,g);if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,p(u)&&(h[u]=null)):an(u)&&(u.value=null)),Ze(l))_d(l,a,12,[o,c]);else{const g=Jt(l),b=an(l);if(g||b){const S=()=>{if(t.f){const R=g?p(l)?h[l]:c[l]:l.value;i?$e(R)&&Hy(R,s):$e(R)?R.includes(s)||R.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(S.id=-1,On(S,n)):S()}}}let kw=!1;const Ua=()=>{kw||(console.error("Hydration completed but contains mismatches."),kw=!0)},MM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",LM=t=>t.namespaceURI.includes("MathML"),fh=t=>{if(t.nodeType===1){if(MM(t))return"svg";if(LM(t))return"mathml"}},tl=t=>t.nodeType===8;function VM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(E,I)=>{if(!I.hasChildNodes()){n(null,E,I),ff(),I._vnode=E;return}h(I.firstChild,E,null,null,null),ff(),I._vnode=E},h=(E,I,M,L,w,T=!1)=>{T=T||!!I.dynamicChildren;const _=tl(E)&&E.data==="[",v=()=>b(E,I,M,L,w,_),{type:C,ref:O,shapeFlag:k,patchFlag:Y}=I;let B=E.nodeType;I.el=E,Y===-2&&(T=!1,I.dynamicChildren=null);let $=null;switch(C){case Go:B!==3?I.children===""?(l(I.el=i(""),o(E),E),$=E):$=v():(E.data!==I.children&&(Ua(),E.data=I.children),$=s(E));break;case Rn:P(E)?($=s(E),R(I.el=E.content.firstChild,E,M)):B!==8||_?$=v():$=s(E);break;case gl:if(_&&(E=s(E),B=E.nodeType),B===1||B===3){$=E;const F=!I.children.length;for(let V=0;V<I.staticCount;V++)F&&(I.children+=$.nodeType===1?$.outerHTML:$.data),V===I.staticCount-1&&(I.anchor=$),$=s($);return _?s($):$}else v();break;case Ne:_?$=g(E,I,M,L,w,T):$=v();break;default:if(k&1)(B!==1||I.type.toLowerCase()!==E.tagName.toLowerCase())&&!P(E)?$=v():$=f(E,I,M,L,w,T);else if(k&6){I.slotScopeIds=w;const F=o(E);if(_?$=S(E):tl(E)&&E.data==="teleport start"?$=S(E,E.data,"teleport end"):$=s(E),e(I,F,null,M,L,fh(F),T),io(I)&&!I.type.__asyncResolved){let V;_?(V=et(Ne),V.anchor=$?$.previousSibling:F.lastChild):V=E.nodeType===3?Dn(""):et("div"),V.el=E,I.component.subTree=V}}else k&64?B!==8?$=v():$=I.type.hydrate(E,I,M,L,w,T,t,p):k&128&&($=I.type.hydrate(E,I,M,L,fh(o(E)),w,T,t,h))}return O!=null&&kc(O,null,L,I),$},f=(E,I,M,L,w,T)=>{T=T||!!I.dynamicChildren;const{type:_,props:v,patchFlag:C,shapeFlag:O,dirs:k,transition:Y}=I,B=_==="input"||_==="option";if(B||C!==-1){k&&Ui(I,null,M,"created");let $=!1;if(P(E)){$=zC(null,Y)&&M&&M.vnode.props&&M.vnode.props.appear;const V=E.content.firstChild;$&&Y.beforeEnter(V),R(V,E,M),I.el=E=V}if(O&16&&!(v&&(v.innerHTML||v.textContent))){let V=p(E.firstChild,I,E,M,L,w,T);for(;V;){ph(E,1)||Ua();const x=V;V=V.nextSibling,a(x)}}else if(O&8){let V=I.children;V[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(V=V.slice(1)),E.textContent!==V&&(ph(E,0)||Ua(),E.textContent=I.children)}if(v){if(B||!T||C&48){const V=E.tagName.includes("-");for(const x in v)(B&&(x.endsWith("value")||x==="indeterminate")||yd(x)&&!hl(x)||x[0]==="."||V)&&r(E,x,null,v[x],void 0,M)}else if(v.onClick)r(E,"onClick",null,v.onClick,void 0,M);else if(C&4&&Ki(v.style))for(const V in v.style)v.style[V]}let F;(F=v&&v.onVnodeBeforeMount)&&xr(F,M,I),k&&Ui(I,null,M,"beforeMount"),((F=v&&v.onVnodeMounted)||k||$)&&JC(()=>{F&&xr(F,M,I),$&&Y.enter(E),k&&Ui(I,null,M,"mounted")},L)}return E.nextSibling},p=(E,I,M,L,w,T,_)=>{_=_||!!I.dynamicChildren;const v=I.children,C=v.length;for(let O=0;O<C;O++){const k=_?v[O]:v[O]=Mr(v[O]),Y=k.type===Go;E?(Y&&!_&&O+1<C&&Mr(v[O+1]).type===Go&&(l(i(E.data.slice(k.children.length)),M,s(E)),E.data=k.children),E=h(E,k,L,w,T,_)):Y&&!k.children?l(k.el=i(""),M):(ph(M,1)||Ua(),n(null,k,M,null,L,w,fh(M),T))}return E},g=(E,I,M,L,w,T)=>{const{slotScopeIds:_}=I;_&&(w=w?w.concat(_):_);const v=o(E),C=p(s(E),I,v,M,L,w,T);return C&&tl(C)&&C.data==="]"?s(I.anchor=C):(Ua(),l(I.anchor=u("]"),v,C),C)},b=(E,I,M,L,w,T)=>{if(ph(E.parentElement,1)||Ua(),I.el=null,T){const C=S(E);for(;;){const O=s(E);if(O&&O!==C)a(O);else break}}const _=s(E),v=o(E);return a(E),n(null,I,v,_,M,L,fh(v),w),M&&(M.vnode.el=I.el,Sp(M,I.el)),_},S=(E,I="[",M="]")=>{let L=0;for(;E;)if(E=s(E),E&&tl(E)&&(E.data===I&&L++,E.data===M)){if(L===0)return s(E);L--}return E},R=(E,I,M)=>{const L=I.parentNode;L&&L.replaceChild(E,I);let w=M;for(;w;)w.vnode.el===I&&(w.vnode.el=w.subTree.el=E),w=w.parent},P=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[c,h]}const Rw="data-allow-mismatch",FM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ph(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Rw);)t=t.parentElement;const n=t&&t.getAttribute(Rw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(FM[e])}}const $M=gp().requestIdleCallback||(t=>setTimeout(t,1)),UM=gp().cancelIdleCallback||(t=>clearTimeout(t)),mne=(t=1e4)=>e=>{const n=$M(e,{timeout:t});return()=>UM(n)};function BM(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const gne=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(BM(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},vne=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},yne=(t=[])=>(e,n)=>{Jt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function jM(t,e){if(tl(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(tl(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const io=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function _ne(t){Ze(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((S,R)=>{l(b,()=>S(f()),()=>R(b),h+1)});throw b}).then(b=>g!==u&&u?u:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),c=b,b)))};return Kt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,b,S){const R=s?()=>{const P=s(S,E=>jM(g,E));P&&(b.bum||(b.bum=[])).push(P)}:S;c?R():p().then(()=>!b.isUnmounted&&R())},get __asyncResolved(){return c},setup(){const g=xn;if(n_(g),c)return()=>qm(c,g);const b=E=>{u=null,tu(E,g,13,!r)};if(a&&g.suspense||Al)return p().then(E=>()=>qm(E,g)).catch(E=>(b(E),()=>r?et(r,{error:E}):null));const S=fe(!1),R=fe(),P=fe(!!i);return i&&setTimeout(()=>{P.value=!1},i),o!=null&&setTimeout(()=>{if(!S.value&&!R.value){const E=new Error(`Async component timed out after ${o}ms.`);b(E),R.value=E}},o),p().then(()=>{S.value=!0,g.parent&&bd(g.parent.vnode)&&g.parent.update()}).catch(E=>{b(E),R.value=E}),()=>{if(S.value&&c)return qm(c,g);if(R.value&&r)return et(r,{error:R.value});if(n&&!P.value)return et(n)}}})}function qm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=et(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const bd=t=>t.type.__isKeepAlive,HM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Zr(),r=n.ctx;if(!r.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(P,E,I,M,L)=>{const w=P.component;u(P,E,I,0,a),l(w.vnode,P,E,I,w,a,M,P.slotScopeIds,L),On(()=>{w.isDeactivated=!1,w.a&&fl(w.a);const T=P.props&&P.props.onVnodeMounted;T&&xr(T,w.parent,P)},a)},r.deactivate=P=>{const E=P.component;mf(E.m),mf(E.a),u(P,f,null,1,a),On(()=>{E.da&&fl(E.da);const I=P.props&&P.props.onVnodeUnmounted;I&&xr(I,E.parent,P),E.isDeactivated=!0},a)};function p(P){zm(P),c(P,n,a,!0)}function g(P){i.forEach((E,I)=>{const M=pv(E.type);M&&!P(M)&&b(I)})}function b(P){const E=i.get(P);E&&(!o||!_i(E,o))?p(E):o&&zm(o),i.delete(P),s.delete(P)}Cn(()=>[t.include,t.exclude],([P,E])=>{P&&g(I=>Bu(P,I)),E&&g(I=>!Bu(E,I))},{flush:"post",deep:!0});let S=null;const R=()=>{S!=null&&(gf(n.subTree.type)?On(()=>{i.set(S,mh(n.subTree))},n.subTree.suspense):i.set(S,mh(n.subTree)))};return vn(R),i_(R),s_(()=>{i.forEach(P=>{const{subTree:E,suspense:I}=n,M=mh(E);if(P.type===M.type&&P.key===M.key){zm(M);const L=M.component.da;L&&On(L,I);return}p(P)})}),()=>{if(S=null,!e.default)return o=null;const P=e.default(),E=P[0];if(P.length>1)return o=null,P;if(!go(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let I=mh(E);if(I.type===Rn)return o=null,I;const M=I.type,L=pv(io(I)?I.type.__asyncResolved||{}:M),{include:w,exclude:T,max:_}=t;if(w&&(!L||!Bu(w,L))||T&&L&&Bu(T,L))return I.shapeFlag&=-257,o=I,E;const v=I.key==null?M:I.key,C=i.get(v);return I.el&&(I=Is(I),E.shapeFlag&128&&(E.ssContent=I)),S=v,C?(I.el=C.el,I.component=C.component,I.transition&&mo(I,I.transition),I.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),_&&s.size>parseInt(_,10)&&b(s.values().next().value)),I.shapeFlag|=256,o=I,gf(E.type)?E:I}}},bne=HM;function Bu(t,e){return $e(t)?t.some(n=>Bu(n,e)):Jt(t)?t.split(",").includes(e):FN(t)?(t.lastIndex=0,t.test(e)):!1}function WM(t,e){kC(t,"a",e)}function qM(t,e){kC(t,"da",e)}function kC(t,e,n=xn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ep(e,r,n),n){let i=n.parent;for(;i&&i.parent;)bd(i.parent.vnode)&&zM(r,e,n,i),i=i.parent}}function zM(t,e,n,r){const i=Ep(e,t,r,!0);Ta(()=>{Hy(r[e],i)},n)}function zm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function mh(t){return t.shapeFlag&128?t.ssContent:t}function Ep(t,e,n=xn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Eo();const a=ia(n),l=Ri(e,n,t,o);return a(),Io(),l});return r?i.unshift(s):i.push(s),s}}const Rs=t=>(e,n=xn)=>{(!Al||t==="sp")&&Ep(t,(...r)=>e(...r),n)},KM=Rs("bm"),vn=Rs("m"),r_=Rs("bu"),i_=Rs("u"),s_=Rs("bum"),Ta=Rs("um"),YM=Rs("sp"),GM=Rs("rtg"),QM=Rs("rtc");function XM(t,e=xn){Ep("ec",t,e)}const o_="components",JM="directives";function zr(t,e){return a_(o_,t,!0,e)||t}const RC=Symbol.for("v-ndc");function qr(t){return Jt(t)?a_(o_,t,!1)||t:t||RC}function DC(t){return a_(JM,t)}function a_(t,e,n=!0,r=!1){const i=Mn||xn;if(i){const s=i.type;if(t===o_){const a=pv(s,!1);if(a&&(a===e||a===vr(e)||a===mp(vr(e))))return s}const o=Dw(i[t]||s[t],e)||Dw(i.appContext[t],e);return!o&&r?s:o}}function Dw(t,e){return t&&(t[e]||t[vr(e)]||t[mp(vr(e))])}function Vt(t,e,n,r){let i;const s=n&&n[r],o=$e(t);if(o||Jt(t)){const a=o&&Ki(t);let l=!1;a&&(l=!li(t),t=_p(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?cr(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(jt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function Zn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(Mn.ce||Mn.parent&&io(Mn.parent)&&Mn.parent.ce)return e!=="default"&&(n.name=e),W(),qe(Ne,null,[et("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),W();const o=s&&l_(s(n)),a=n.key||o&&o.key,l=qe(Ne,{key:(a&&!ki(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function l_(t){return t.some(e=>go(e)?!(e.type===Rn||e.type===Ne&&!l_(e.children)):!0)?t:null}function wne(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Uh(r)]=t[r];return n}const iv=t=>t?rA(t)?Td(t):iv(t.parent):null,ec=zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>iv(t.parent),$root:t=>iv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>u_(t),$forceUpdate:t=>t.f||(t.f=()=>{e_(t.update)}),$nextTick:t=>t.n||(t.n=jn.bind(t.proxy)),$watch:t=>bL.bind(t)}),Km=(t,e)=>t!==mt&&!t.__isScriptSetup&&kt(t,e),sv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Km(r,e))return o[e]=1,r[e];if(i!==mt&&kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&kt(u,e))return o[e]=3,s[e];if(n!==mt&&kt(n,e))return o[e]=4,n[e];ov&&(o[e]=0)}}const c=ec[e];let h,f;if(c)return e==="$attrs"&&ur(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==mt&&kt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,kt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Km(i,e)?(i[e]=n,!0):r!==mt&&kt(r,e)?(r[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==mt&&kt(t,o)||Km(e,o)||(a=s[0])&&kt(a,o)||kt(r,o)||kt(ec,o)||kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},ZM=zt({},sv,{get(t,e){if(e!==Symbol.unscopables)return sv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!HN(e)}});function Tne(){return null}function Ene(){return null}function Ine(t){}function Sne(t){}function Cne(){return null}function Ane(){}function One(t,e){return null}function Ea(){return xC().slots}function Pne(){return xC().attrs}function xC(){const t=Zr();return t.setupContext||(t.setupContext=oA(t))}function Rc(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function kne(t,e){const n=Rc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?$e(i)||Ze(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Rne(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):zt({},Rc(t),Rc(e))}function Dne(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function xne(t){const e=Zr();let n=t();return dv(),Wy(n)&&(n=n.catch(r=>{throw ia(e),r})),[n,()=>ia(e)]}let ov=!0;function eL(t){const e=u_(t),n=t.proxy,r=t.ctx;ov=!1,e.beforeCreate&&xw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:b,deactivated:S,beforeDestroy:R,beforeUnmount:P,destroyed:E,unmounted:I,render:M,renderTracked:L,renderTriggered:w,errorCaptured:T,serverPrefetch:_,expose:v,inheritAttrs:C,components:O,directives:k,filters:Y}=e;if(u&&tL(u,r,null),o)for(const F in o){const V=o[F];Ze(V)&&(r[F]=V.bind(n))}if(i){const F=i.call(n,n);jt(F)&&(t.data=Rr(F))}if(ov=!0,s)for(const F in s){const V=s[F],x=Ze(V)?V.bind(n,n):Ze(V.get)?V.get.bind(n,n):ai,A=!Ze(V)&&Ze(V.set)?V.set.bind(n):ai,q=ue({get:x,set:A});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>q.value,set:G=>q.value=G})}if(a)for(const F in a)NC(a[F],r,n,F);if(l){const F=Ze(l)?l.call(n):l;Reflect.ownKeys(F).forEach(V=>{tc(V,F[V])})}c&&xw(c,t,"c");function $(F,V){$e(V)?V.forEach(x=>F(x.bind(n))):V&&F(V.bind(n))}if($(KM,h),$(vn,f),$(r_,p),$(i_,g),$(WM,b),$(qM,S),$(XM,T),$(QM,L),$(GM,w),$(s_,P),$(Ta,I),$(YM,_),$e(v))if(v.length){const F=t.exposed||(t.exposed={});v.forEach(V=>{Object.defineProperty(F,V,{get:()=>n[V],set:x=>n[V]=x})})}else t.exposed||(t.exposed={});M&&t.render===ai&&(t.render=M),C!=null&&(t.inheritAttrs=C),O&&(t.components=O),k&&(t.directives=k),_&&n_(t)}function tL(t,e,n=ai){$e(t)&&(t=av(t));for(const r in t){const i=t[r];let s;jt(i)?"default"in i?s=kr(i.from||r,i.default,!0):s=kr(i.from||r):s=kr(i),an(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function xw(t,e,n){Ri($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function NC(t,e,n,r){let i=r.includes(".")?YC(n,r):()=>n[r];if(Jt(t)){const s=e[t];Ze(s)&&Cn(i,s)}else if(Ze(t))Cn(i,t.bind(n));else if(jt(t))if($e(t))t.forEach(s=>NC(s,e,n,r));else{const s=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(s)&&Cn(i,s,t)}}function u_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>pf(l,u,o,!0)),pf(l,e,o)),jt(e)&&s.set(e,l),l}function pf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&pf(t,s,n,!0),i&&i.forEach(o=>pf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=nL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nL={data:Nw,props:Mw,emits:Mw,methods:ju,computed:ju,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:ju,directives:ju,watch:iL,provide:Nw,inject:rL};function Nw(t,e){return e?t?function(){return zt(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function rL(t,e){return ju(av(t),av(e))}function av(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ir(t,e){return t?[...new Set([].concat(t,e))]:e}function ju(t,e){return t?zt(Object.create(null),t,e):e}function Mw(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:zt(Object.create(null),Rc(t),Rc(e??{})):e}function iL(t,e){if(!t)return e;if(!e)return t;const n=zt(Object.create(null),t);for(const r in e)n[r]=Ir(t[r],e[r]);return n}function MC(){return{app:null,config:{isNativeTag:LN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sL=0;function oL(t,e){return function(r,i=null){Ze(r)||(r=zt({},r)),i!=null&&!jt(i)&&(i=null);const s=MC(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:sL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:$L,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ze(c.install)?(o.add(c),c.install(u,...h)):Ze(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||et(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Td(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ri(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Yo;Yo=u;try{return c()}finally{Yo=h}}};return u}}let Yo=null;function tc(t,e){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[t]=e}}function kr(t,e,n=!1){const r=xn||Mn;if(r||Yo){const i=Yo?Yo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}function aL(){return!!(xn||Mn||Yo)}const LC={},VC=()=>Object.create(LC),FC=t=>Object.getPrototypeOf(t)===LC;function lL(t,e,n,r=!1){const i={},s=VC();t.propsDefaults=Object.create(null),$C(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:cC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function uL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Ip(t.emitsOptions,f))continue;const p=e[f];if(l)if(kt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=vr(f);i[g]=lv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{$C(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!kt(e,h)&&((c=Lr(h))===h||!kt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=lv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!kt(e,h))&&(delete s[h],u=!0)}u&&hs(t.attrs,"set","")}function $C(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(hl(l))continue;const u=e[l];let c;i&&kt(i,c=vr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ip(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pt(n),u=a||mt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=lv(i,l,h,u[h],t,!kt(u,h))}}return o}function lv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=ia(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Lr(n))&&(r=!0))}return r}const cL=new WeakMap;function UC(t,e,n=!1){const r=n?cL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ze(t)){const c=h=>{l=!0;const[f,p]=UC(h,e,!0);zt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return jt(t)&&r.set(t,cl),cl;if($e(s))for(let c=0;c<s.length;c++){const h=vr(s[c]);Lw(h)&&(o[h]=mt)}else if(s)for(const c in s){const h=vr(c);if(Lw(h)){const f=s[c],p=o[h]=$e(f)||Ze(f)?{type:f}:zt({},f),g=p.type;let b=!1,S=!0;if($e(g))for(let R=0;R<g.length;++R){const P=g[R],E=Ze(P)&&P.name;if(E==="Boolean"){b=!0;break}else E==="String"&&(S=!1)}else b=Ze(g)&&g.name==="Boolean";p[0]=b,p[1]=S,(b||kt(p,"default"))&&a.push(h)}}const u=[o,a];return jt(t)&&r.set(t,u),u}function Lw(t){return t[0]!=="$"&&!hl(t)}const BC=t=>t[0]==="_"||t==="$stable",c_=t=>$e(t)?t.map(Mr):[Mr(t)],dL=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>c_(e(...i)),n);return r._c=!1,r},jC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(BC(i))continue;const s=t[i];if(Ze(s))e[i]=dL(i,s,r);else if(s!=null){const o=c_(s);e[i]=()=>o}}},HC=(t,e)=>{const n=c_(e);t.slots.default=()=>n},WC=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},hL=(t,e,n)=>{const r=t.slots=VC();if(t.vnode.shapeFlag&32){const i=e._;i?(WC(r,e,n),n&&HS(r,"_",i,!0)):jC(e,r)}else e&&HC(t,e)},fL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=mt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:WC(i,e,n):(s=!e.$stable,jC(e,i)),o=e}else e&&(HC(t,e),o={default:1});if(s)for(const a in i)!BC(a)&&o[a]==null&&delete i[a]},On=JC;function pL(t){return qC(t)}function mL(t){return qC(t,VM)}function qC(t,e){const n=gp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=ai,insertStaticContent:g}=t,b=(D,U,j,oe=null,se=null,pe=null,Se=void 0,Ee=null,Te=!!U.dynamicChildren)=>{if(D===U)return;D&&!_i(D,U)&&(oe=Q(D),G(D,se,pe,!0),D=null),U.patchFlag===-2&&(Te=!1,U.dynamicChildren=null);const{type:me,ref:He,shapeFlag:Ie}=U;switch(me){case Go:S(D,U,j,oe);break;case Rn:R(D,U,j,oe);break;case gl:D==null&&P(U,j,oe,Se);break;case Ne:O(D,U,j,oe,se,pe,Se,Ee,Te);break;default:Ie&1?M(D,U,j,oe,se,pe,Se,Ee,Te):Ie&6?k(D,U,j,oe,se,pe,Se,Ee,Te):(Ie&64||Ie&128)&&me.process(D,U,j,oe,se,pe,Se,Ee,Te,ce)}He!=null&&se&&kc(He,D&&D.ref,pe,U||D,!U)},S=(D,U,j,oe)=>{if(D==null)r(U.el=a(U.children),j,oe);else{const se=U.el=D.el;U.children!==D.children&&u(se,U.children)}},R=(D,U,j,oe)=>{D==null?r(U.el=l(U.children||""),j,oe):U.el=D.el},P=(D,U,j,oe)=>{[D.el,D.anchor]=g(D.children,U,j,oe,D.el,D.anchor)},E=({el:D,anchor:U},j,oe)=>{let se;for(;D&&D!==U;)se=f(D),r(D,j,oe),D=se;r(U,j,oe)},I=({el:D,anchor:U})=>{let j;for(;D&&D!==U;)j=f(D),i(D),D=j;i(U)},M=(D,U,j,oe,se,pe,Se,Ee,Te)=>{U.type==="svg"?Se="svg":U.type==="math"&&(Se="mathml"),D==null?L(U,j,oe,se,pe,Se,Ee,Te):_(D,U,se,pe,Se,Ee,Te)},L=(D,U,j,oe,se,pe,Se,Ee)=>{let Te,me;const{props:He,shapeFlag:Ie,transition:Fe,dirs:Ge}=D;if(Te=D.el=o(D.type,pe,He&&He.is,He),Ie&8?c(Te,D.children):Ie&16&&T(D.children,Te,null,oe,se,Ym(D,pe),Se,Ee),Ge&&Ui(D,null,oe,"created"),w(Te,D,D.scopeId,Se,oe),He){for(const z in He)z!=="value"&&!hl(z)&&s(Te,z,null,He[z],pe,oe);"value"in He&&s(Te,"value",null,He.value,pe),(me=He.onVnodeBeforeMount)&&xr(me,oe,D)}Ge&&Ui(D,null,oe,"beforeMount");const Ke=zC(se,Fe);Ke&&Fe.beforeEnter(Te),r(Te,U,j),((me=He&&He.onVnodeMounted)||Ke||Ge)&&On(()=>{me&&xr(me,oe,D),Ke&&Fe.enter(Te),Ge&&Ui(D,null,oe,"mounted")},se)},w=(D,U,j,oe,se)=>{if(j&&p(D,j),oe)for(let pe=0;pe<oe.length;pe++)p(D,oe[pe]);if(se){let pe=se.subTree;if(U===pe||gf(pe.type)&&(pe.ssContent===U||pe.ssFallback===U)){const Se=se.vnode;w(D,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},T=(D,U,j,oe,se,pe,Se,Ee,Te=0)=>{for(let me=Te;me<D.length;me++){const He=D[me]=Ee?Gs(D[me]):Mr(D[me]);b(null,He,U,j,oe,se,pe,Se,Ee)}},_=(D,U,j,oe,se,pe,Se)=>{const Ee=U.el=D.el;let{patchFlag:Te,dynamicChildren:me,dirs:He}=U;Te|=D.patchFlag&16;const Ie=D.props||mt,Fe=U.props||mt;let Ge;if(j&&No(j,!1),(Ge=Fe.onVnodeBeforeUpdate)&&xr(Ge,j,U,D),He&&Ui(U,D,j,"beforeUpdate"),j&&No(j,!0),(Ie.innerHTML&&Fe.innerHTML==null||Ie.textContent&&Fe.textContent==null)&&c(Ee,""),me?v(D.dynamicChildren,me,Ee,j,oe,Ym(U,se),pe):Se||V(D,U,Ee,null,j,oe,Ym(U,se),pe,!1),Te>0){if(Te&16)C(Ee,Ie,Fe,j,se);else if(Te&2&&Ie.class!==Fe.class&&s(Ee,"class",null,Fe.class,se),Te&4&&s(Ee,"style",Ie.style,Fe.style,se),Te&8){const Ke=U.dynamicProps;for(let z=0;z<Ke.length;z++){const ae=Ke[z],xe=Ie[ae],We=Fe[ae];(We!==xe||ae==="value")&&s(Ee,ae,xe,We,se,j)}}Te&1&&D.children!==U.children&&c(Ee,U.children)}else!Se&&me==null&&C(Ee,Ie,Fe,j,se);((Ge=Fe.onVnodeUpdated)||He)&&On(()=>{Ge&&xr(Ge,j,U,D),He&&Ui(U,D,j,"updated")},oe)},v=(D,U,j,oe,se,pe,Se)=>{for(let Ee=0;Ee<U.length;Ee++){const Te=D[Ee],me=U[Ee],He=Te.el&&(Te.type===Ne||!_i(Te,me)||Te.shapeFlag&70)?h(Te.el):j;b(Te,me,He,null,oe,se,pe,Se,!0)}},C=(D,U,j,oe,se)=>{if(U!==j){if(U!==mt)for(const pe in U)!hl(pe)&&!(pe in j)&&s(D,pe,U[pe],null,se,oe);for(const pe in j){if(hl(pe))continue;const Se=j[pe],Ee=U[pe];Se!==Ee&&pe!=="value"&&s(D,pe,Ee,Se,se,oe)}"value"in j&&s(D,"value",U.value,j.value,se)}},O=(D,U,j,oe,se,pe,Se,Ee,Te)=>{const me=U.el=D?D.el:a(""),He=U.anchor=D?D.anchor:a("");let{patchFlag:Ie,dynamicChildren:Fe,slotScopeIds:Ge}=U;Ge&&(Ee=Ee?Ee.concat(Ge):Ge),D==null?(r(me,j,oe),r(He,j,oe),T(U.children||[],j,He,se,pe,Se,Ee,Te)):Ie>0&&Ie&64&&Fe&&D.dynamicChildren?(v(D.dynamicChildren,Fe,j,se,pe,Se,Ee),(U.key!=null||se&&U===se.subTree)&&d_(D,U,!0)):V(D,U,j,He,se,pe,Se,Ee,Te)},k=(D,U,j,oe,se,pe,Se,Ee,Te)=>{U.slotScopeIds=Ee,D==null?U.shapeFlag&512?se.ctx.activate(U,j,oe,Se,Te):Y(U,j,oe,se,pe,Se,Te):B(D,U,Te)},Y=(D,U,j,oe,se,pe,Se)=>{const Ee=D.component=nA(D,oe,se);if(bd(D)&&(Ee.ctx.renderer=ce),iA(Ee,!1,Se),Ee.asyncDep){if(se&&se.registerDep(Ee,$,Se),!D.el){const Te=Ee.subTree=et(Rn);R(null,Te,U,j)}}else $(Ee,D,U,j,se,pe,Se)},B=(D,U,j)=>{const oe=U.component=D.component;if(SL(D,U,j))if(oe.asyncDep&&!oe.asyncResolved){F(oe,U,j);return}else oe.next=U,oe.update();else U.el=D.el,oe.vnode=U},$=(D,U,j,oe,se,pe,Se)=>{const Ee=()=>{if(D.isMounted){let{next:Ie,bu:Fe,u:Ge,parent:Ke,vnode:z}=D;{const Nt=KC(D);if(Nt){Ie&&(Ie.el=z.el,F(D,Ie,Se)),Nt.asyncDep.then(()=>{D.isUnmounted||Ee()});return}}let ae=Ie,xe;No(D,!1),Ie?(Ie.el=z.el,F(D,Ie,Se)):Ie=z,Fe&&fl(Fe),(xe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&xr(xe,Ke,Ie,z),No(D,!0);const We=jh(D),ct=D.subTree;D.subTree=We,b(ct,We,h(ct.el),Q(ct),D,se,pe),Ie.el=We.el,ae===null&&Sp(D,We.el),Ge&&On(Ge,se),(xe=Ie.props&&Ie.props.onVnodeUpdated)&&On(()=>xr(xe,Ke,Ie,z),se)}else{let Ie;const{el:Fe,props:Ge}=U,{bm:Ke,m:z,parent:ae,root:xe,type:We}=D,ct=io(U);if(No(D,!1),Ke&&fl(Ke),!ct&&(Ie=Ge&&Ge.onVnodeBeforeMount)&&xr(Ie,ae,U),No(D,!0),Fe&&ee){const Nt=()=>{D.subTree=jh(D),ee(Fe,D.subTree,D,se,null)};ct&&We.__asyncHydrate?We.__asyncHydrate(Fe,D,Nt):Nt()}else{xe.ce&&xe.ce._injectChildStyle(We);const Nt=D.subTree=jh(D);b(null,Nt,j,oe,D,se,pe),U.el=Nt.el}if(z&&On(z,se),!ct&&(Ie=Ge&&Ge.onVnodeMounted)){const Nt=U;On(()=>xr(Ie,ae,Nt),se)}(U.shapeFlag&256||ae&&io(ae.vnode)&&ae.vnode.shapeFlag&256)&&D.a&&On(D.a,se),D.isMounted=!0,U=j=oe=null}};D.scope.on();const Te=D.effect=new lf(Ee);D.scope.off();const me=D.update=Te.run.bind(Te),He=D.job=Te.runIfDirty.bind(Te);He.i=D,He.id=D.uid,Te.scheduler=()=>e_(He),No(D,!0),me()},F=(D,U,j)=>{U.component=D;const oe=D.vnode.props;D.vnode=U,D.next=null,uL(D,U.props,oe,j),fL(D,U.children,j),Eo(),Sw(D),Io()},V=(D,U,j,oe,se,pe,Se,Ee,Te=!1)=>{const me=D&&D.children,He=D?D.shapeFlag:0,Ie=U.children,{patchFlag:Fe,shapeFlag:Ge}=U;if(Fe>0){if(Fe&128){A(me,Ie,j,oe,se,pe,Se,Ee,Te);return}else if(Fe&256){x(me,Ie,j,oe,se,pe,Se,Ee,Te);return}}Ge&8?(He&16&&H(me,se,pe),Ie!==me&&c(j,Ie)):He&16?Ge&16?A(me,Ie,j,oe,se,pe,Se,Ee,Te):H(me,se,pe,!0):(He&8&&c(j,""),Ge&16&&T(Ie,j,oe,se,pe,Se,Ee,Te))},x=(D,U,j,oe,se,pe,Se,Ee,Te)=>{D=D||cl,U=U||cl;const me=D.length,He=U.length,Ie=Math.min(me,He);let Fe;for(Fe=0;Fe<Ie;Fe++){const Ge=U[Fe]=Te?Gs(U[Fe]):Mr(U[Fe]);b(D[Fe],Ge,j,null,se,pe,Se,Ee,Te)}me>He?H(D,se,pe,!0,!1,Ie):T(U,j,oe,se,pe,Se,Ee,Te,Ie)},A=(D,U,j,oe,se,pe,Se,Ee,Te)=>{let me=0;const He=U.length;let Ie=D.length-1,Fe=He-1;for(;me<=Ie&&me<=Fe;){const Ge=D[me],Ke=U[me]=Te?Gs(U[me]):Mr(U[me]);if(_i(Ge,Ke))b(Ge,Ke,j,null,se,pe,Se,Ee,Te);else break;me++}for(;me<=Ie&&me<=Fe;){const Ge=D[Ie],Ke=U[Fe]=Te?Gs(U[Fe]):Mr(U[Fe]);if(_i(Ge,Ke))b(Ge,Ke,j,null,se,pe,Se,Ee,Te);else break;Ie--,Fe--}if(me>Ie){if(me<=Fe){const Ge=Fe+1,Ke=Ge<He?U[Ge].el:oe;for(;me<=Fe;)b(null,U[me]=Te?Gs(U[me]):Mr(U[me]),j,Ke,se,pe,Se,Ee,Te),me++}}else if(me>Fe)for(;me<=Ie;)G(D[me],se,pe,!0),me++;else{const Ge=me,Ke=me,z=new Map;for(me=Ke;me<=Fe;me++){const Be=U[me]=Te?Gs(U[me]):Mr(U[me]);Be.key!=null&&z.set(Be.key,me)}let ae,xe=0;const We=Fe-Ke+1;let ct=!1,Nt=0;const Hn=new Array(We);for(me=0;me<We;me++)Hn[me]=0;for(me=Ge;me<=Ie;me++){const Be=D[me];if(xe>=We){G(Be,se,pe,!0);continue}let je;if(Be.key!=null)je=z.get(Be.key);else for(ae=Ke;ae<=Fe;ae++)if(Hn[ae-Ke]===0&&_i(Be,U[ae])){je=ae;break}je===void 0?G(Be,se,pe,!0):(Hn[je-Ke]=me+1,je>=Nt?Nt=je:ct=!0,b(Be,U[je],j,null,se,pe,Se,Ee,Te),xe++)}const Oe=ct?gL(Hn):cl;for(ae=Oe.length-1,me=We-1;me>=0;me--){const Be=Ke+me,je=U[Be],Wn=Be+1<He?U[Be+1].el:oe;Hn[me]===0?b(null,je,j,Wn,se,pe,Se,Ee,Te):ct&&(ae<0||me!==Oe[ae]?q(je,j,Wn,2):ae--)}}},q=(D,U,j,oe,se=null)=>{const{el:pe,type:Se,transition:Ee,children:Te,shapeFlag:me}=D;if(me&6){q(D.component.subTree,U,j,oe);return}if(me&128){D.suspense.move(U,j,oe);return}if(me&64){Se.move(D,U,j,ce);return}if(Se===Ne){r(pe,U,j);for(let Ie=0;Ie<Te.length;Ie++)q(Te[Ie],U,j,oe);r(D.anchor,U,j);return}if(Se===gl){E(D,U,j);return}if(oe!==2&&me&1&&Ee)if(oe===0)Ee.beforeEnter(pe),r(pe,U,j),On(()=>Ee.enter(pe),se);else{const{leave:Ie,delayLeave:Fe,afterLeave:Ge}=Ee,Ke=()=>r(pe,U,j),z=()=>{Ie(pe,()=>{Ke(),Ge&&Ge()})};Fe?Fe(pe,Ke,z):z()}else r(pe,U,j)},G=(D,U,j,oe=!1,se=!1)=>{const{type:pe,props:Se,ref:Ee,children:Te,dynamicChildren:me,shapeFlag:He,patchFlag:Ie,dirs:Fe,cacheIndex:Ge}=D;if(Ie===-2&&(se=!1),Ee!=null&&kc(Ee,null,j,D,!0),Ge!=null&&(U.renderCache[Ge]=void 0),He&256){U.ctx.deactivate(D);return}const Ke=He&1&&Fe,z=!io(D);let ae;if(z&&(ae=Se&&Se.onVnodeBeforeUnmount)&&xr(ae,U,D),He&6)te(D.component,j,oe);else{if(He&128){D.suspense.unmount(j,oe);return}Ke&&Ui(D,null,U,"beforeUnmount"),He&64?D.type.remove(D,U,j,ce,oe):me&&!me.hasOnce&&(pe!==Ne||Ie>0&&Ie&64)?H(me,U,j,!1,!0):(pe===Ne&&Ie&384||!se&&He&16)&&H(Te,U,j),oe&&re(D)}(z&&(ae=Se&&Se.onVnodeUnmounted)||Ke)&&On(()=>{ae&&xr(ae,U,D),Ke&&Ui(D,null,U,"unmounted")},j)},re=D=>{const{type:U,el:j,anchor:oe,transition:se}=D;if(U===Ne){ve(j,oe);return}if(U===gl){I(D);return}const pe=()=>{i(j),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(D.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Ee}=se,Te=()=>Se(j,pe);Ee?Ee(D.el,pe,Te):Te()}else pe()},ve=(D,U)=>{let j;for(;D!==U;)j=f(D),i(D),D=j;i(U)},te=(D,U,j)=>{const{bum:oe,scope:se,job:pe,subTree:Se,um:Ee,m:Te,a:me}=D;mf(Te),mf(me),oe&&fl(oe),se.stop(),pe&&(pe.flags|=8,G(Se,D,U,j)),Ee&&On(Ee,U),On(()=>{D.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},H=(D,U,j,oe=!1,se=!1,pe=0)=>{for(let Se=pe;Se<D.length;Se++)G(D[Se],U,j,oe,se)},Q=D=>{if(D.shapeFlag&6)return Q(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const U=f(D.anchor||D.el),j=U&&U[bC];return j?f(j):U};let ie=!1;const X=(D,U,j)=>{D==null?U._vnode&&G(U._vnode,null,null,!0):b(U._vnode||null,D,U,null,null,null,j),U._vnode=D,ie||(ie=!0,Sw(),ff(),ie=!1)},ce={p:b,um:G,m:q,r:re,mt:Y,mc:T,pc:V,pbc:v,n:Q,o:t};let be,ee;return e&&([be,ee]=e(ce)),{render:X,hydrate:be,createApp:oL(X,be)}}function Ym({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function No({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function zC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function d_(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Gs(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&d_(o,a)),a.type===Go&&(a.el=o.el)}}function gL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function KC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:KC(e)}function mf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vL=Symbol.for("v-scx"),yL=()=>kr(vL);function Nne(t,e){return wd(t,null,e)}function Mne(t,e){return wd(t,null,{flush:"post"})}function _L(t,e){return wd(t,null,{flush:"sync"})}function Cn(t,e,n){return wd(t,e,n)}function wd(t,e,n=mt){const{immediate:r,deep:i,flush:s,once:o}=n,a=zt({},n),l=e&&r||!e&&s!=="post";let u;if(Al){if(s==="sync"){const p=yL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ai,p.resume=ai,p.pause=ai,p}}const c=xn;a.call=(p,g,b)=>Ri(p,c,g,b);let h=!1;s==="post"?a.scheduler=p=>{On(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():e_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=CM(t,e,a);return Al&&(u?u.push(f):l&&f()),f}function bL(t,e,n){const r=this.proxy,i=Jt(t)?t.includes(".")?YC(r,t):()=>r[t]:t.bind(r,r);let s;Ze(e)?s=e:(s=e.handler,n=e);const o=ia(this),a=wd(i,s.bind(r),n);return o(),a}function YC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Lne(t,e,n=mt){const r=Zr(),i=vr(e),s=Lr(e),o=GC(t,i),a=_M((l,u)=>{let c,h=mt,f;return _L(()=>{const p=t[i];Cr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Cr(g,c)&&!(h!==mt&&Cr(p,h)))return;const b=r.vnode.props;b&&(e in b||i in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${i}`in b||`onUpdate:${s}`in b)||(c=p,u()),r.emit(`update:${e}`,g),Cr(p,g)&&Cr(p,h)&&!Cr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||mt:a,done:!1}:{done:!0}}}},a}const GC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${vr(e)}Modifiers`]||t[`${Lr(e)}Modifiers`];function wL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||mt;let i=n;const s=e.startsWith("update:"),o=s&&GC(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Jt(c)?c.trim():c)),o.number&&(i=n.map(of)));let a,l=r[a=Uh(e)]||r[a=Uh(vr(e))];!l&&s&&(l=r[a=Uh(Lr(e))]),l&&Ri(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ri(u,t,6,i)}}function QC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ze(t)){const l=u=>{const c=QC(u,e,!0);c&&(a=!0,zt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(jt(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):zt(o,s),jt(t)&&r.set(t,o),o)}function Ip(t,e){return!t||!yd(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,Lr(e))||kt(t,e))}function jh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:b}=t,S=Oc(t);let R,P;try{if(n.shapeFlag&4){const I=i||r,M=I;R=Mr(u.call(M,I,c,h,p,f,g)),P=a}else{const I=e;R=Mr(I.length>1?I(h,{attrs:a,slots:o,emit:l}):I(h,null)),P=e.props?a:EL(a)}}catch(I){nc.length=0,tu(I,t,1),R=et(Rn)}let E=R;if(P&&b!==!1){const I=Object.keys(P),{shapeFlag:M}=E;I.length&&M&7&&(s&&I.some(jy)&&(P=IL(P,s)),E=Is(E,P,!1,!0))}return n.dirs&&(E=Is(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&mo(E,n.transition),R=E,Oc(S),R}function TL(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(go(i)){if(i.type!==Rn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const EL=t=>{let e;for(const n in t)(n==="class"||n==="style"||yd(n))&&((e||(e={}))[n]=t[n]);return e},IL=(t,e)=>{const n={};for(const r in t)(!jy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function SL(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Vw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Ip(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Vw(r,o,u):!0:!!o;return!1}function Vw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Ip(n,s))return!0}return!1}function Sp({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const gf=t=>t.__isSuspense;let uv=0;const CL={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)AL(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}OL(t,e,n,r,i,o,a,l,u)}},hydrate:PL,normalize:kL},Vne=CL;function Dc(t,e){const n=t.props&&t.props[e];Ze(n)&&n()}function AL(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=XC(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Dc(t,"onPending"),Dc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),ml(f,t.ssFallback)):f.resolve(!1,!0)}function OL(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:S,isHydrating:R}=h;if(b)h.pendingBranch=f,_i(f,b)?(l(b,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():S&&(R||(l(g,p,n,r,i,null,s,o,a),ml(h,p)))):(h.pendingId=uv++,R?(h.isHydrating=!1,h.activeBranch=b):u(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),S?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),ml(h,p))):g&&_i(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&_i(f,g))l(g,f,n,r,i,h,s,o,a),ml(h,f);else if(Dc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=uv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:P,pendingId:E}=h;P>0?setTimeout(()=>{h.pendingId===E&&h.fallback(p)},P):P===0&&h.fallback(p)}}function XC(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:b,remove:S}}=u;let R;const P=RL(t);P&&e&&e.pendingBranch&&(R=e.pendingId,e.deps++);const E=t.props?af(t.props.timeout):void 0,I=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:uv++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(L=!1,w=!1){const{vnode:T,activeBranch:_,pendingBranch:v,pendingId:C,effects:O,parentComponent:k,container:Y}=M;let B=!1;M.isHydrating?M.isHydrating=!1:L||(B=_&&v.transition&&v.transition.mode==="out-in",B&&(_.transition.afterLeave=()=>{C===M.pendingId&&(f(v,Y,s===I?g(_):s,0),hf(O))}),_&&(b(_.el)===Y&&(s=g(_)),p(_,k,M,!0)),B||f(v,Y,s,0)),ml(M,v),M.pendingBranch=null,M.isInFallback=!1;let $=M.parent,F=!1;for(;$;){if($.pendingBranch){$.effects.push(...O),F=!0;break}$=$.parent}!F&&!B&&hf(O),M.effects=[],P&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!w&&e.resolve()),Dc(T,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:w,activeBranch:T,parentComponent:_,container:v,namespace:C}=M;Dc(w,"onFallback");const O=g(T),k=()=>{M.isInFallback&&(h(null,L,v,O,_,null,C,a,l),ml(M,L))},Y=L.transition&&L.transition.mode==="out-in";Y&&(T.transition.afterLeave=k),M.isInFallback=!0,p(T,_,null,!0),Y||k()},move(L,w,T){M.activeBranch&&f(M.activeBranch,L,w,T),M.container=L},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(L,w,T){const _=!!M.pendingBranch;_&&M.deps++;const v=L.vnode.el;L.asyncDep.catch(C=>{tu(C,L,0)}).then(C=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:O}=L;hv(L,C,!1),v&&(O.el=v);const k=!v&&L.subTree.el;w(L,O,b(v||L.subTree.el),v?null:g(L.subTree),M,o,T),k&&S(k),Sp(L,O.el),_&&--M.deps===0&&M.resolve()})},unmount(L,w){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,w),M.pendingBranch&&p(M.pendingBranch,n,L,w)}};return M}function PL(t,e,n,r,i,s,o,a,l){const u=e.suspense=XC(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function kL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Fw(r?n.default:n),t.ssFallback=r?Fw(n.fallback):et(Rn)}function Fw(t){let e;if(Ze(t)){const n=ra&&t._c;n&&(t._d=!1,W()),t=t(),n&&(t._d=!0,e=pr,ZC())}return $e(t)&&(t=TL(t)),t=Mr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function JC(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):hf(t)}function ml(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Sp(r,i))}function RL(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ne=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),Rn=Symbol.for("v-cmt"),gl=Symbol.for("v-stc"),nc=[];let pr=null;function W(t=!1){nc.push(pr=t?null:[])}function ZC(){nc.pop(),pr=nc[nc.length-1]||null}let ra=1;function $w(t,e=!1){ra+=t,t<0&&pr&&e&&(pr.hasOnce=!0)}function eA(t){return t.dynamicChildren=ra>0?pr||cl:null,ZC(),ra>0&&pr&&pr.push(t),t}function Z(t,e,n,r,i,s){return eA(Ce(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return eA(et(t,e,n,r,i,!0))}function go(t){return t?t.__v_isVNode===!0:!1}function _i(t,e){return t.type===e.type&&t.key===e.key}function Fne(t){}const tA=({key:t})=>t??null,Hh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||an(t)||Ze(t)?{i:Mn,r:t,k:e,f:!!n}:t:null);function Ce(t,e=null,n=null,r=0,i=null,s=t===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tA(e),ref:e&&Hh(e),scopeId:Tp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Mn};return a?(h_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),ra>0&&!o&&pr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&pr.push(l),l}const et=DL;function DL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===RC)&&(t=Rn),go(t)){const a=Is(t,e,!0);return n&&h_(a,n),ra>0&&!s&&pr&&(a.shapeFlag&6?pr[pr.indexOf(t)]=a:pr.push(a)),a.patchFlag=-2,a}if(VL(t)&&(t=t.__vccOpts),e){e=Jn(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=tt(a)),jt(l)&&(Jy(l)&&!$e(l)&&(l=zt({},l)),e.style=Pr(l))}const o=Jt(t)?1:gf(t)?128:wC(t)?64:jt(t)?4:Ze(t)?2:0;return Ce(t,e,n,r,i,o,s,!0)}function Jn(t){return t?Jy(t)||FC(t)?zt({},t):t:null}function Is(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?he(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&tA(u),ref:e&&e.ref?n&&s?$e(s)?s.concat(Hh(e)):[s,Hh(e)]:Hh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&mo(c,l.clone(c)),c}function Dn(t=" ",e=0){return et(Go,null,t,e)}function $ne(t,e){const n=et(gl,null,t);return n.staticCount=e,n}function de(t="",e=!1){return e?(W(),qe(Rn,null,t)):et(Rn,null,t)}function Mr(t){return t==null||typeof t=="boolean"?et(Rn):$e(t)?et(Ne,null,t.slice()):go(t)?Gs(t):et(Go,null,String(t))}function Gs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function h_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),h_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!FC(e)?e._ctx=Mn:i===3&&Mn&&(Mn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:Mn},n=32):(e=String(e),r&64?(n=16,e=[Dn(e)]):n=8);t.children=e,t.shapeFlag|=n}function he(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=Pr([e.style,r.style]);else if(yd(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function xr(t,e,n,r=null){Ri(t,e,7,[n,r])}const xL=MC();let NL=0;function nA(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||xL,s={uid:NL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new KS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:UC(r,i),emitsOptions:QC(r,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=wL.bind(null,s),t.ce&&t.ce(s),s}let xn=null;const Zr=()=>xn||Mn;let vf,cv;{const t=gp(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};vf=e("__VUE_INSTANCE_SETTERS__",n=>xn=n),cv=e("__VUE_SSR_SETTERS__",n=>Al=n)}const ia=t=>{const e=xn;return vf(t),t.scope.on(),()=>{t.scope.off(),vf(e)}},dv=()=>{xn&&xn.scope.off(),vf(null)};function rA(t){return t.vnode.shapeFlag&4}let Al=!1;function iA(t,e=!1,n=!1){e&&cv(e);const{props:r,children:i}=t.vnode,s=rA(t);lL(t,r,s,e),hL(t,i,n);const o=s?ML(t,e):void 0;return e&&cv(!1),o}function ML(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sv);const{setup:r}=n;if(r){Eo();const i=t.setupContext=r.length>1?oA(t):null,s=ia(t),o=_d(r,t,0,[t.props,i]),a=Wy(o);if(Io(),s(),(a||t.sp)&&!io(t)&&n_(t),a){if(o.then(dv,dv),e)return o.then(l=>{hv(t,l,e)}).catch(l=>{tu(l,t,0)});t.asyncDep=o}else hv(t,o,e)}else sA(t,e)}function hv(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:jt(e)&&(t.setupState=fC(e)),sA(t,n)}let yf,fv;function Une(t){yf=t,fv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,ZM))}}const Bne=()=>!yf;function sA(t,e,n){const r=t.type;if(!t.render){if(!e&&yf&&!r.render){const i=r.template||u_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=zt(zt({isCustomElement:s,delimiters:a},o),l);r.render=yf(i,u)}}t.render=r.render||ai,fv&&fv(t)}{const i=ia(t);Eo();try{eL(t)}finally{Io(),i()}}}const LL={get(t,e){return ur(t,"get",""),t[e]}};function oA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,LL),slots:t.slots,emit:t.emit,expose:e}}function Td(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fC(Zy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ec)return ec[n](t)},has(e,n){return n in e||n in ec}})):t.proxy}function pv(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function VL(t){return Ze(t)&&"__vccOpts"in t}const ue=(t,e)=>IM(t,e,Al);function Ol(t,e,n){const r=arguments.length;return r===2?jt(e)&&!$e(e)?go(e)?et(t,null,[e]):et(t,e):et(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&go(n)&&(n=[n]),et(t,e,n))}function jne(){}function Hne(t,e,n,r){const i=n[r];if(i&&FL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function FL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Cr(n[r],e[r]))return!1;return ra>0&&pr&&pr.push(t),!0}const $L="3.5.13",Wne=ai,qne=PM,zne=Ya,Kne=_C,UL={createComponentInstance:nA,setupComponent:iA,renderComponentRoot:jh,setCurrentRenderingInstance:Oc,isVNode:go,normalizeVNode:Mr,getComponentPublicInstance:Td,ensureValidVNode:l_,pushWarningContext:AM,popWarningContext:OM},Yne=UL,Gne=null,Qne=null,Xne=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mv;const Uw=typeof window<"u"&&window.trustedTypes;if(Uw)try{mv=Uw.createPolicy("vue",{createHTML:t=>t})}catch{}const aA=mv?t=>mv.createHTML(t):t=>t,BL="http://www.w3.org/2000/svg",jL="http://www.w3.org/1998/Math/MathML",cs=typeof document<"u"?document:null,Bw=cs&&cs.createElement("template"),HL={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?cs.createElementNS(BL,t):e==="mathml"?cs.createElementNS(jL,t):n?cs.createElement(t,{is:n}):cs.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>cs.createTextNode(t),createComment:t=>cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Bw.innerHTML=aA(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Bw.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fs="transition",Cu="animation",Pl=Symbol("_vtc"),lA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uA=zt({},CC,lA),WL=t=>(t.displayName="Transition",t.props=uA,t),So=WL((t,{slots:e})=>Ol(NM,cA(t),e)),Mo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},jw=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function cA(t){const e={};for(const O in t)O in lA||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=qL(i),b=g&&g[0],S=g&&g[1],{onBeforeEnter:R,onEnter:P,onEnterCancelled:E,onLeave:I,onLeaveCancelled:M,onBeforeAppear:L=R,onAppear:w=P,onAppearCancelled:T=E}=e,_=(O,k,Y,B)=>{O._enterCancelled=B,Ws(O,k?c:a),Ws(O,k?u:o),Y&&Y()},v=(O,k)=>{O._isLeaving=!1,Ws(O,h),Ws(O,p),Ws(O,f),k&&k()},C=O=>(k,Y)=>{const B=O?w:P,$=()=>_(k,O,Y);Mo(B,[k,$]),Hw(()=>{Ws(k,O?l:s),Vi(k,O?c:a),jw(B)||Ww(k,r,b,$)})};return zt(e,{onBeforeEnter(O){Mo(R,[O]),Vi(O,s),Vi(O,o)},onBeforeAppear(O){Mo(L,[O]),Vi(O,l),Vi(O,u)},onEnter:C(!1),onAppear:C(!0),onLeave(O,k){O._isLeaving=!0;const Y=()=>v(O,k);Vi(O,h),O._enterCancelled?(Vi(O,f),gv()):(gv(),Vi(O,f)),Hw(()=>{O._isLeaving&&(Ws(O,h),Vi(O,p),jw(I)||Ww(O,r,S,Y))}),Mo(I,[O,Y])},onEnterCancelled(O){_(O,!1,void 0,!0),Mo(E,[O])},onAppearCancelled(O){_(O,!0,void 0,!0),Mo(T,[O])},onLeaveCancelled(O){v(O),Mo(M,[O])}})}function qL(t){if(t==null)return null;if(jt(t))return[Gm(t.enter),Gm(t.leave)];{const e=Gm(t);return[e,e]}}function Gm(t){return af(t)}function Vi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Pl]||(t[Pl]=new Set)).add(e)}function Ws(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Pl];n&&(n.delete(e),n.size||(t[Pl]=void 0))}function Hw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let zL=0;function Ww(t,e,n,r){const i=t._endId=++zL,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=dA(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function dA(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${Fs}Delay`),s=r(`${Fs}Duration`),o=qw(i,s),a=r(`${Cu}Delay`),l=r(`${Cu}Duration`),u=qw(a,l);let c=null,h=0,f=0;e===Fs?o>0&&(c=Fs,h=o,f=s.length):e===Cu?u>0&&(c=Cu,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Fs:Cu:null,f=c?c===Fs?s.length:l.length:0);const p=c===Fs&&/\b(transform|all)(,|$)/.test(r(`${Fs}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function qw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>zw(n)+zw(t[r])))}function zw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function gv(){return document.body.offsetHeight}function KL(t,e,n){const r=t[Pl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _f=Symbol("_vod"),hA=Symbol("_vsh"),rc={beforeMount(t,{value:e},{transition:n}){t[_f]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Au(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Au(t,!0),r.enter(t)):r.leave(t,()=>{Au(t,!1)}):Au(t,e))},beforeUnmount(t,{value:e}){Au(t,e)}};function Au(t,e){t.style.display=e?t[_f]:"none",t[hA]=!e}function YL(){rc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const fA=Symbol("");function Jne(t){const e=Zr();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>bf(s,i))},r=()=>{const i=t(e.proxy);e.ce?bf(e.ce,i):vv(e.subTree,i),n(i)};r_(()=>{hf(r)}),vn(()=>{Cn(r,ai,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Ta(()=>i.disconnect())})}function vv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{vv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)bf(t.el,e);else if(t.type===Ne)t.children.forEach(n=>vv(n,e));else if(t.type===gl){let{el:n,anchor:r}=t;for(;n&&(bf(n,e),n!==r);)n=n.nextSibling}}function bf(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[fA]=r}}const GL=/(^|;)\s*display\s*:/;function QL(t,e,n){const r=t.style,i=Jt(n);let s=!1;if(n&&!i){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Wh(r,a,"")}else for(const o in e)n[o]==null&&Wh(r,o,"");for(const o in n)o==="display"&&(s=!0),Wh(r,o,n[o])}else if(i){if(e!==n){const o=r[fA];o&&(n+=";"+o),r.cssText=n,s=GL.test(n)}}else e&&t.removeAttribute("style");_f in t&&(t[_f]=s?r.display:"",t[hA]&&(r.display="none"))}const Kw=/\s*!important$/;function Wh(t,e,n){if($e(n))n.forEach(r=>Wh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=XL(t,e);Kw.test(n)?t.setProperty(Lr(r),n.replace(Kw,""),"important"):t[r]=n}}const Yw=["Webkit","Moz","ms"],Qm={};function XL(t,e){const n=Qm[e];if(n)return n;let r=vr(e);if(r!=="filter"&&r in t)return Qm[e]=r;r=mp(r);for(let i=0;i<Yw.length;i++){const s=Yw[i]+r;if(s in t)return Qm[e]=s}return e}const Gw="http://www.w3.org/1999/xlink";function Qw(t,e,n,r,i,s=GN(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Gw,e.slice(6,e.length)):t.setAttributeNS(Gw,e,n):n==null||s&&!WS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ki(n)?String(n):n)}function Xw(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?aA(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=WS(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ps(t,e,n,r){t.addEventListener(e,n,r)}function JL(t,e,n,r){t.removeEventListener(e,n,r)}const Jw=Symbol("_vei");function ZL(t,e,n,r,i=null){const s=t[Jw]||(t[Jw]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=e2(e);if(r){const u=s[e]=r2(r,i);ps(t,a,u,l)}else o&&(JL(t,a,o,l),s[e]=void 0)}}const Zw=/(?:Once|Passive|Capture)$/;function e2(t){let e;if(Zw.test(t)){e={};let r;for(;r=t.match(Zw);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lr(t.slice(2)),e]}let Xm=0;const t2=Promise.resolve(),n2=()=>Xm||(t2.then(()=>Xm=0),Xm=Date.now());function r2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ri(i2(r,n.value),e,5,[r])};return n.value=t,n.attached=n2(),n}function i2(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const eT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,s2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?KL(t,r,o):e==="style"?QL(t,n,r):yd(e)?jy(e)||ZL(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):o2(t,e,r,o))?(Xw(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Qw(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Jt(r))?Xw(t,vr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Qw(t,e,r,o))};function o2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&eT(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eT(e)&&Jt(n)?!1:e in t}const tT={};/*! #__NO_SIDE_EFFECTS__ */function a2(t,e,n){const r=Kt(t,e);fp(r)&&zt(r,e);class i extends f_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const Zne=(t,e)=>a2(t,e,I2),l2=typeof HTMLElement<"u"?HTMLElement:class{};class f_ extends l2{constructor(e,n={},r=_v){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==_v?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof f_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,jn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!$e(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=af(this._props[l])),(a||(a=Object.create(null)))[vr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)kt(this,r)||Object.defineProperty(this,r,{get:()=>K(n[r])})}_resolveProps(e){const{props:n}=e,r=$e(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(vr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):tT;const i=vr(e);n&&this._numberProps&&this._numberProps[i]&&(r=af(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===tT?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Lr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Lr(e),n+""):n||this.removeAttribute(Lr(e)),s&&s.observe(this,{attributes:!0})}}_update(){xc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=et(this._def,zt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,fp(o[0])?zt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Lr(s)!==s&&i(Lr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function u2(t){const e=Zr(),n=e&&e.ce;return n||null}function ere(){const t=u2();return t&&t.shadowRoot}function tre(t="$style"){{const e=Zr();if(!e)return mt;const n=e.type.__cssModules;if(!n)return mt;const r=n[t];return r||mt}}const pA=new WeakMap,mA=new WeakMap,wf=Symbol("_moveCb"),nT=Symbol("_enterCb"),c2=t=>(delete t.props.mode,t),d2=c2({name:"TransitionGroup",props:zt({},uA,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Zr(),r=SC();let i,s;return i_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!g2(i[0].el,n.vnode.el,o))return;i.forEach(f2),i.forEach(p2);const a=i.filter(m2);gv(),a.forEach(l=>{const u=l.el,c=u.style;Vi(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[wf]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[wf]=null,Ws(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=pt(t),a=cA(o);let l=o.tag||Ne;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),mo(c,Pc(c,a,r,n)),pA.set(c,c.el.getBoundingClientRect()))}s=e.default?t_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&mo(c,Pc(c,a,r,n))}return et(l,null,s)}}}),h2=d2;function f2(t){const e=t.el;e[wf]&&e[wf](),e[nT]&&e[nT]()}function p2(t){mA.set(t,t.el.getBoundingClientRect())}function m2(t){const e=pA.get(t),n=mA.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function g2(t,e,n){const r=t.cloneNode(),i=t[Pl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=dA(r);return s.removeChild(r),o}const vo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>fl(e,n):e};function v2(t){t.target.composing=!0}function rT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ui=Symbol("_assign"),yv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ui]=vo(i);const s=r||i.props&&i.props.type==="number";ps(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=of(a)),t[ui](a)}),n&&ps(t,"change",()=>{t.value=t.value.trim()}),e||(ps(t,"compositionstart",v2),ps(t,"compositionend",rT),ps(t,"change",rT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[ui]=vo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?of(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},gA={deep:!0,created(t,e,n){t[ui]=vo(n),ps(t,"change",()=>{const r=t._modelValue,i=kl(t),s=t.checked,o=t[ui];if($e(r)){const a=vp(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(wa(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(yA(t,s))})},mounted:iT,beforeUpdate(t,e,n){t[ui]=vo(n),iT(t,e,n)}};function iT(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if($e(e))i=vp(e,r.props.value)>-1;else if(wa(e))i=e.has(r.props.value);else{if(e===n)return;i=po(e,yA(t,!0))}t.checked!==i&&(t.checked=i)}const vA={created(t,{value:e},n){t.checked=po(e,n.props.value),t[ui]=vo(n),ps(t,"change",()=>{t[ui](kl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ui]=vo(r),e!==n&&(t.checked=po(e,r.props.value))}},y2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=wa(e);ps(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?of(kl(o)):kl(o));t[ui](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,jn(()=>{t._assigning=!1})}),t[ui]=vo(r)},mounted(t,{value:e}){sT(t,e)},beforeUpdate(t,e,n){t[ui]=vo(n)},updated(t,{value:e}){t._assigning||sT(t,e)}};function sT(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!wa(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=kl(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=vp(e,a)>-1}else o.selected=e.has(a);else if(po(kl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function kl(t){return"_value"in t?t._value:t.value}function yA(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const _2={created(t,e,n){gh(t,e,n,null,"created")},mounted(t,e,n){gh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){gh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){gh(t,e,n,r,"updated")}};function _A(t,e){switch(t){case"SELECT":return y2;case"TEXTAREA":return yv;default:switch(e){case"checkbox":return gA;case"radio":return vA;default:return yv}}}function gh(t,e,n,r,i){const o=_A(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function b2(){yv.getSSRProps=({value:t})=>({value:t}),vA.getSSRProps=({value:t},e)=>{if(e.props&&po(e.props.value,t))return{checked:!0}},gA.getSSRProps=({value:t},e)=>{if($e(t)){if(e.props&&vp(t,e.props.value)>-1)return{checked:!0}}else if(wa(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},_2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=_A(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const w2=["ctrl","shift","alt","meta"],T2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>w2.some(n=>t[`${n}Key`]&&!e.includes(n))},Mt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=T2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},E2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Lr(i.key);if(e.some(o=>o===s||E2[o]===s))return t(i)})},bA=zt({patchProp:s2},HL);let ic,oT=!1;function wA(){return ic||(ic=pL(bA))}function TA(){return ic=oT?ic:mL(bA),oT=!0,ic}const xc=(...t)=>{wA().render(...t)},nre=(...t)=>{TA().hydrate(...t)},_v=(...t)=>{const e=wA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=IA(r);if(!i)return;const s=e._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,EA(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},I2=(...t)=>{const e=TA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=IA(r);if(i)return n(i,!0,EA(i))},e};function EA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function IA(t){return Jt(t)?document.querySelector(t):t}let aT=!1;const rre=()=>{aT||(aT=!0,b2(),YL())};function S2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Tf=S2();let lT=0;const C2=()=>{const t=lT;return lT+=1,t},SA=()=>(t,e)=>{const n={...t,id:C2(),group:t.group||""};return Tf.emit("notify",{notification:n,timeout:e}),()=>Tf.emit("close",n.id)},CA="context",bv=Kt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=kr(CA),i=Rr({notifications:[],timeouts:{}}),s=ue(()=>i.notifications.filter(f=>f.group===r.group)),o=ue(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(f,p)=>{i.timeouts[f]=window.setTimeout(()=>{p!==-1&&l(f)},Math.max(p||3e3,0))},l=f=>{i.notifications.splice(i.notifications.findIndex(p=>p.id===f),1),clearTimeout(i.timeouts[f])},u=({notification:f,timeout:p})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(f),a(f.id,p))},c=f=>{e("close"),l(f)},h=(f,p,g)=>{p?clearTimeout(i.timeouts[f]):a(f,g)};return vn(()=>{Tf.on("notify",u),Tf.on("close",l)}),(f,p)=>(W(),qe(h2,{"enter-active-class":K(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[_e(f.$slots,"default",{notifications:K(o),close:c,hovering:h})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),uT=Kt({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return tc(CA,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:t.group})}});function A2(t){t.config.globalProperties.$notify=SA(),t.component("Notification",bv),t.component("NotificationGroup",uT),t.component("notification",bv),t.component("notificationGroup",uT)}const O2={install:A2},P2=SA(),k2={class:"px-4 py-2 -mx-3"},R2={class:"mx-3"},D2={class:"font-semibold text-white"},x2={class:"text-sm text-gray-100"},Jm=Kt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(W(),qe(K(bv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(W(!0),Z(Ne,null,Vt(r,i=>(W(),Z("div",{key:i.id},[i.type===e.type?(W(),Z("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ce("div",k2,[Ce("div",R2,[Ce("span",D2,dt(i.title),1),Ce("p",x2,dt(i.text),1)])])],2)):de("",!0)]))),128))]),_:1}))}}),N2={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},M2={class:"w-full max-w-sm"},L2=Kt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=zr("NotificationGroup",!0);return W(),qe(r,null,{default:Qe(()=>[Ce("div",N2,[Ce("div",M2,[et(Jm,{type:"error",color:"bg-red-800"}),et(Jm,{type:"warning",color:"bg-yellow-800"}),et(Jm,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ga=typeof document<"u";function AA(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function V2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&AA(t.default)}const $t=Object.assign;function Zm(t,e){const n={};for(const r in e){const i=e[r];n[r]=Di(i)?i.map(t):t(i)}return n}const sc=()=>{},Di=Array.isArray,OA=/#/g,F2=/&/g,$2=/\//g,U2=/=/g,B2=/\?/g,PA=/\+/g,j2=/%5B/g,H2=/%5D/g,kA=/%5E/g,W2=/%60/g,RA=/%7B/g,q2=/%7C/g,DA=/%7D/g,z2=/%20/g;function p_(t){return encodeURI(""+t).replace(q2,"|").replace(j2,"[").replace(H2,"]")}function K2(t){return p_(t).replace(RA,"{").replace(DA,"}").replace(kA,"^")}function wv(t){return p_(t).replace(PA,"%2B").replace(z2,"+").replace(OA,"%23").replace(F2,"%26").replace(W2,"`").replace(RA,"{").replace(DA,"}").replace(kA,"^")}function Y2(t){return wv(t).replace(U2,"%3D")}function G2(t){return p_(t).replace(OA,"%23").replace(B2,"%3F")}function Q2(t){return t==null?"":G2(t).replace($2,"%2F")}function Nc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const X2=/\/$/,J2=t=>t.replace(X2,"");function eg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=nV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Nc(o)}}function Z2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function cT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function eV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Rl(e.matched[r],n.matched[i])&&xA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Rl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function xA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!tV(t[n],e[n]))return!1;return!0}function tV(t,e){return Di(t)?dT(t,e):Di(e)?dT(e,t):t===e}function dT(t,e){return Di(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function nV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Mc;(function(t){t.pop="pop",t.push="push"})(Mc||(Mc={}));var oc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oc||(oc={}));function rV(t){if(!t)if(Ga){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),J2(t)}const iV=/^[^#]+#/;function sV(t,e){return t.replace(iV,"#")+e}function oV(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Cp=()=>({left:window.scrollX,top:window.scrollY});function aV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=oV(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function hT(t,e){return(history.state?history.state.position-e:-1)+t}const Tv=new Map;function lV(t,e){Tv.set(t,e)}function uV(t){const e=Tv.get(t);return Tv.delete(t),e}let cV=()=>location.protocol+"//"+location.host;function NA(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),cT(l,"")}return cT(n,t)+r+i}function dV(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=NA(t,location),g=n.value,b=e.value;let S=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}S=b?f.position-b.position:0}else r(p);i.forEach(R=>{R(n.value,g,{delta:S,type:Mc.pop,direction:S?S>0?oc.forward:oc.back:oc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState($t({},f.state,{scroll:Cp()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function fT(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Cp():null}}function hV(t){const{history:e,location:n}=window,r={value:NA(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:cV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=$t({},e.state,fT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=$t({},i.value,e.state,{forward:l,scroll:Cp()});s(c.current,c,!0);const h=$t({},fT(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function fV(t){t=rV(t);const e=hV(t),n=dV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=$t({location:"",base:t,go:r,createHref:sV.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function pV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),fV(t)}function mV(t){return typeof t=="string"||t&&typeof t=="object"}function MA(t){return typeof t=="string"||typeof t=="symbol"}const LA=Symbol("");var pT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(pT||(pT={}));function Dl(t,e){return $t(new Error,{type:t,[LA]:!0},e)}function ls(t,e){return t instanceof Error&&LA in t&&(e==null||!!(t.type&e))}const mT="[^/]+?",gV={sensitive:!1,strict:!1,start:!0,end:!0},vV=/[.+*?^${}()[\]/\\]/g;function yV(t,e){const n=$t({},gV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(vV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:b,optional:S,regexp:R}=f;s.push({name:g,repeatable:b,optional:S});const P=R||mT;if(P!==mT){p+=10;try{new RegExp(`(${P})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+I.message)}}let E=b?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(E=S&&u.length<2?`(?:/${E})`:"/"+E),S&&(E+="?"),i+=E,p+=20,S&&(p+=-8),b&&(p+=-20),P===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:b,optional:S}=p,R=g in u?u[g]:"";if(Di(R)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=Di(R)?R.join("/"):R;if(!P)if(S)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=P}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function _V(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function VA(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=_V(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(gT(r))return 1;if(gT(i))return-1}return i.length-r.length}function gT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bV={type:0,value:""},wV=/[a-zA-Z0-9_]/;function TV(t){if(!t)return[[]];if(t==="/")return[[bV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:wV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function EV(t,e,n){const r=yV(TV(t.path),n),i=$t(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function IV(t,e){const n=[],r=new Map;e=bT({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,b=yT(h);b.aliasOf=p&&p.record;const S=bT(e,h),R=[b];if("alias"in h){const I=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of I)R.push(yT($t({},b,{components:p?p.record.components:b.components,path:M,aliasOf:p?p.record:b})))}let P,E;for(const I of R){const{path:M}=I;if(f&&M[0]!=="/"){const L=f.record.path,w=L[L.length-1]==="/"?"":"/";I.path=f.record.path+(M&&w+M)}if(P=EV(I,f,S),p?p.alias.push(P):(E=E||P,E!==P&&E.alias.push(P),g&&h.name&&!_T(P)&&o(h.name)),FA(P)&&l(P),b.children){const L=b.children;for(let w=0;w<L.length;w++)s(L[w],P,p&&p.children[w])}p=p||P}return E?()=>{o(E)}:sc}function o(h){if(MA(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=AV(h,n);n.splice(f,0,h),h.record.name&&!_T(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},b,S;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Dl(1,{location:h});S=p.record.name,g=$t(vT(f.params,p.keys.filter(E=>!E.optional).concat(p.parent?p.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&vT(h.params,p.keys.map(E=>E.name))),b=p.stringify(g)}else if(h.path!=null)b=h.path,p=n.find(E=>E.re.test(b)),p&&(g=p.parse(b),S=p.record.name);else{if(p=f.name?r.get(f.name):n.find(E=>E.re.test(f.path)),!p)throw Dl(1,{location:h,currentLocation:f});S=p.record.name,g=$t({},f.params,h.params),b=p.stringify(g)}const R=[];let P=p;for(;P;)R.unshift(P.record),P=P.parent;return{name:S,path:b,params:g,matched:R,meta:CV(R)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function vT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function yT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:SV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function SV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function _T(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function CV(t){return t.reduce((e,n)=>$t(e,n.meta),{})}function bT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function AV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;VA(t,e[s])<0?r=s:n=s+1}const i=OV(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function OV(t){let e=t;for(;e=e.parent;)if(FA(e)&&VA(t,e)===0)return e}function FA({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function PV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(PA," "),o=s.indexOf("="),a=Nc(o<0?s:s.slice(0,o)),l=o<0?null:Nc(s.slice(o+1));if(a in e){let u=e[a];Di(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function wT(t){let e="";for(let n in t){const r=t[n];if(n=Y2(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Di(r)?r.map(s=>s&&wv(s)):[r&&wv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function kV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Di(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const RV=Symbol(""),TT=Symbol(""),Ap=Symbol(""),m_=Symbol(""),Ev=Symbol("");function Ou(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Dl(4,{from:n,to:e})):f instanceof Error?l(f):mV(f)?l(Dl(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function tg(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(AA(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Qs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=V2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Qs(p,n,r,o,a,i)()}))}}return s}function ET(t){const e=kr(Ap),n=kr(m_),r=ue(()=>{const l=K(t.to);return e.resolve(l)}),i=ue(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Rl.bind(null,c));if(f>-1)return f;const p=IT(l[u-2]);return u>1&&IT(c)===p&&h[h.length-1].path!==p?h.findIndex(Rl.bind(null,l[u-2])):f}),s=ue(()=>i.value>-1&&MV(n.params,r.value.params)),o=ue(()=>i.value>-1&&i.value===n.matched.length-1&&xA(n.params,r.value.params));function a(l={}){return NV(l)?e[K(t.replace)?"replace":"push"](K(t.to)).catch(sc):Promise.resolve()}return{route:r,href:ue(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const DV=Kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ET,setup(t,{slots:e}){const n=Rr(ET(t)),{options:r}=kr(Ap),i=ue(()=>({[ST(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ST(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Ol("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),xV=DV;function NV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function MV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Di(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function IT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ST=(t,e,n)=>t??e??n,LV=Kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=kr(Ev),i=ue(()=>t.route||r.value),s=kr(TT,0),o=ue(()=>{let u=K(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=ue(()=>i.value.matched[o.value]);tc(TT,ue(()=>o.value+1)),tc(RV,a),tc(Ev,i);const l=fe();return Cn(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Rl(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return CT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,S=Ol(f,$t({},g,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return CT(n.default,{Component:S,route:u})||S}}});function CT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const $A=LV;function VV(t){const e=IV(t.routes,t),n=t.parseQuery||PV,r=t.stringifyQuery||wT,i=t.history,s=Ou(),o=Ou(),a=Ou(),l=dC($s);let u=$s;Ga&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Zm.bind(null,Q=>""+Q),h=Zm.bind(null,Q2),f=Zm.bind(null,Nc);function p(Q,ie){let X,ce;return MA(Q)?(X=e.getRecordMatcher(Q),ce=ie):ce=Q,e.addRoute(ce,X)}function g(Q){const ie=e.getRecordMatcher(Q);ie&&e.removeRoute(ie)}function b(){return e.getRoutes().map(Q=>Q.record)}function S(Q){return!!e.getRecordMatcher(Q)}function R(Q,ie){if(ie=$t({},ie||l.value),typeof Q=="string"){const U=eg(n,Q,ie.path),j=e.resolve({path:U.path},ie),oe=i.createHref(U.fullPath);return $t(U,j,{params:f(j.params),hash:Nc(U.hash),redirectedFrom:void 0,href:oe})}let X;if(Q.path!=null)X=$t({},Q,{path:eg(n,Q.path,ie.path).path});else{const U=$t({},Q.params);for(const j in U)U[j]==null&&delete U[j];X=$t({},Q,{params:h(U)}),ie.params=h(ie.params)}const ce=e.resolve(X,ie),be=Q.hash||"";ce.params=c(f(ce.params));const ee=Z2(r,$t({},Q,{hash:K2(be),path:ce.path})),D=i.createHref(ee);return $t({fullPath:ee,hash:be,query:r===wT?kV(Q.query):Q.query||{}},ce,{redirectedFrom:void 0,href:D})}function P(Q){return typeof Q=="string"?eg(n,Q,l.value.path):$t({},Q)}function E(Q,ie){if(u!==Q)return Dl(8,{from:ie,to:Q})}function I(Q){return w(Q)}function M(Q){return I($t(P(Q),{replace:!0}))}function L(Q){const ie=Q.matched[Q.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let ce=typeof X=="function"?X(Q):X;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=P(ce):{path:ce},ce.params={}),$t({query:Q.query,hash:Q.hash,params:ce.path!=null?{}:Q.params},ce)}}function w(Q,ie){const X=u=R(Q),ce=l.value,be=Q.state,ee=Q.force,D=Q.replace===!0,U=L(X);if(U)return w($t(P(U),{state:typeof U=="object"?$t({},be,U.state):be,force:ee,replace:D}),ie||X);const j=X;j.redirectedFrom=ie;let oe;return!ee&&eV(r,ce,X)&&(oe=Dl(16,{to:j,from:ce}),q(ce,ce,!0,!1)),(oe?Promise.resolve(oe):v(j,ce)).catch(se=>ls(se)?ls(se,2)?se:A(se):V(se,j,ce)).then(se=>{if(se){if(ls(se,2))return w($t({replace:D},P(se.to),{state:typeof se.to=="object"?$t({},be,se.to.state):be,force:ee}),ie||j)}else se=O(j,ce,!0,D,be);return C(j,ce,se),se})}function T(Q,ie){const X=E(Q,ie);return X?Promise.reject(X):Promise.resolve()}function _(Q){const ie=ve.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(Q):Q()}function v(Q,ie){let X;const[ce,be,ee]=FV(Q,ie);X=tg(ce.reverse(),"beforeRouteLeave",Q,ie);for(const U of ce)U.leaveGuards.forEach(j=>{X.push(Qs(j,Q,ie))});const D=T.bind(null,Q,ie);return X.push(D),H(X).then(()=>{X=[];for(const U of s.list())X.push(Qs(U,Q,ie));return X.push(D),H(X)}).then(()=>{X=tg(be,"beforeRouteUpdate",Q,ie);for(const U of be)U.updateGuards.forEach(j=>{X.push(Qs(j,Q,ie))});return X.push(D),H(X)}).then(()=>{X=[];for(const U of ee)if(U.beforeEnter)if(Di(U.beforeEnter))for(const j of U.beforeEnter)X.push(Qs(j,Q,ie));else X.push(Qs(U.beforeEnter,Q,ie));return X.push(D),H(X)}).then(()=>(Q.matched.forEach(U=>U.enterCallbacks={}),X=tg(ee,"beforeRouteEnter",Q,ie,_),X.push(D),H(X))).then(()=>{X=[];for(const U of o.list())X.push(Qs(U,Q,ie));return X.push(D),H(X)}).catch(U=>ls(U,8)?U:Promise.reject(U))}function C(Q,ie,X){a.list().forEach(ce=>_(()=>ce(Q,ie,X)))}function O(Q,ie,X,ce,be){const ee=E(Q,ie);if(ee)return ee;const D=ie===$s,U=Ga?history.state:{};X&&(ce||D?i.replace(Q.fullPath,$t({scroll:D&&U&&U.scroll},be)):i.push(Q.fullPath,be)),l.value=Q,q(Q,ie,X,D),A()}let k;function Y(){k||(k=i.listen((Q,ie,X)=>{if(!te.listening)return;const ce=R(Q),be=L(ce);if(be){w($t(be,{replace:!0}),ce).catch(sc);return}u=ce;const ee=l.value;Ga&&lV(hT(ee.fullPath,X.delta),Cp()),v(ce,ee).catch(D=>ls(D,12)?D:ls(D,2)?(w(D.to,ce).then(U=>{ls(U,20)&&!X.delta&&X.type===Mc.pop&&i.go(-1,!1)}).catch(sc),Promise.reject()):(X.delta&&i.go(-X.delta,!1),V(D,ce,ee))).then(D=>{D=D||O(ce,ee,!1),D&&(X.delta&&!ls(D,8)?i.go(-X.delta,!1):X.type===Mc.pop&&ls(D,20)&&i.go(-1,!1)),C(ce,ee,D)}).catch(sc)}))}let B=Ou(),$=Ou(),F;function V(Q,ie,X){A(Q);const ce=$.list();return ce.length?ce.forEach(be=>be(Q,ie,X)):console.error(Q),Promise.reject(Q)}function x(){return F&&l.value!==$s?Promise.resolve():new Promise((Q,ie)=>{B.add([Q,ie])})}function A(Q){return F||(F=!Q,Y(),B.list().forEach(([ie,X])=>Q?X(Q):ie()),B.reset()),Q}function q(Q,ie,X,ce){const{scrollBehavior:be}=t;if(!Ga||!be)return Promise.resolve();const ee=!X&&uV(hT(Q.fullPath,0))||(ce||!X)&&history.state&&history.state.scroll||null;return jn().then(()=>be(Q,ie,ee)).then(D=>D&&aV(D)).catch(D=>V(D,Q,ie))}const G=Q=>i.go(Q);let re;const ve=new Set,te={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:b,resolve:R,options:t,push:I,replace:M,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:$.add,isReady:x,install(Q){const ie=this;Q.component("RouterLink",xV),Q.component("RouterView",$A),Q.config.globalProperties.$router=ie,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>K(l)}),Ga&&!re&&l.value===$s&&(re=!0,I(i.location).catch(be=>{}));const X={};for(const be in $s)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});Q.provide(Ap,ie),Q.provide(m_,cC(X)),Q.provide(Ev,l);const ce=Q.unmount;ve.add(Q),Q.unmount=function(){ve.delete(Q),ve.size<1&&(u=$s,k&&k(),k=null,l.value=$s,re=!1,F=!1),ce()}}};function H(Q){return Q.reduce((ie,X)=>ie.then(()=>_(X)),Promise.resolve())}return te}function FV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Rl(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Rl(u,l))||i.push(l))}return[n,r,i]}function ire(){return kr(Ap)}function sre(t){return kr(m_)}const $V=Kt({__name:"App",setup(t){return(e,n)=>(W(),Z(Ne,null,[et(K($A)),et(L2)],64))}});var AT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw nu(e)},nu=function(t){return new Error("Firebase Database ("+UA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new BV;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(t){const e=BA(t);return Op.encodeByteArray(e,!0)},Ef=function(t){return jA(t).replace(/\./g,"")},If=function(t){try{return Op.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){return HA(void 0,t)}function HA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!HV(n)||(t[n]=HA(t[n],e[n]));return t}function HV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=()=>WA().__FIREBASE_DEFAULTS__,qV=()=>{if(typeof process>"u"||typeof AT>"u")return;const t=AT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&If(t[1]);return e&&JSON.parse(e)},Pp=()=>{try{return WV()||qV()||zV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KV=t=>{var e,n;return(n=(e=Pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qA=t=>{const e=KV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zA=()=>{var t;return(t=Pp())===null||t===void 0?void 0:t.config},YV=t=>{var e;return(e=Pp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ef(JSON.stringify(n)),Ef(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function GV(){var t;const e=(t=Pp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XV(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QA(){return UA.NODE_ADMIN===!0}function JV(){return!GV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kp(){try{return typeof indexedDB=="object"}catch{return!1}}function XA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function ZV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eF,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function tF(t,e){return t.replace(nF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){return JSON.parse(t)}function Gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Lc(If(s[0])||""),n=Lc(If(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},rF=function(t){const e=JA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iF=function(t){const e=JA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Iv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(OT(s)&&OT(o)){if(!Vc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function OT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function oF(t,e){const n=new aF(t,e);return n.subscribe.bind(n)}class aF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ng),i.error===void 0&&(i.error=ng),i.complete===void 0&&(i.complete=ng);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ng(){}function uF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1e3,fF=2,pF=4*60*60*1e3,mF=.5;function Sv(t,e=hF,n=fF){const r=e*Math.pow(n,t),i=Math.round(mF*r*(Math.random()-.5)*2);return Math.min(pF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yF(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vF(t){return t===Vo?void 0:t}function yF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const bF={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},wF=ht.INFO,TF={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},EF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iu{constructor(e){this.name=e,this._logLevel=wF,this._logHandler=EF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const IF=(t,e)=>e.some(n=>t instanceof n);let PT,kT;function SF(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CF(){return kT||(kT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZA=new WeakMap,Cv=new WeakMap,eO=new WeakMap,rg=new WeakMap,v_=new WeakMap;function AF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(so(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZA.set(n,t)}).catch(()=>{}),v_.set(e,t),e}function OF(t){if(Cv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cv.set(t,e)}let Av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PF(t){Av=t(Av)}function kF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ig(this),e,...n);return eO.set(r,e.sort?e.sort():[e]),so(r)}:CF().includes(t)?function(...e){return t.apply(ig(this),e),so(ZA.get(this))}:function(...e){return so(t.apply(ig(this),e))}}function RF(t){return typeof t=="function"?kF(t):(t instanceof IDBTransaction&&OF(t),IF(t,SF())?new Proxy(t,Av):t)}function so(t){if(t instanceof IDBRequest)return AF(t);if(rg.has(t))return rg.get(t);const e=RF(t);return e!==t&&(rg.set(t,e),v_.set(e,t)),e}const ig=t=>v_.get(t);function tO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=so(o);return r&&o.addEventListener("upgradeneeded",l=>{r(so(o.result),l.oldVersion,l.newVersion,so(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const DF=["get","getKey","getAll","getAllKeys","count"],xF=["put","add","delete","clear"],sg=new Map;function RT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return sg.set(e,s),s}PF(t=>({...t,get:(e,n,r)=>RT(e,n)||t.get(e,n,r),has:(e,n)=>!!RT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ov="@firebase/app",DT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new iu("@firebase/app"),LF="@firebase/app-compat",VF="@firebase/analytics-compat",FF="@firebase/analytics",$F="@firebase/app-check-compat",UF="@firebase/app-check",BF="@firebase/auth",jF="@firebase/auth-compat",HF="@firebase/database",WF="@firebase/data-connect",qF="@firebase/database-compat",zF="@firebase/functions",KF="@firebase/functions-compat",YF="@firebase/installations",GF="@firebase/installations-compat",QF="@firebase/messaging",XF="@firebase/messaging-compat",JF="@firebase/performance",ZF="@firebase/performance-compat",e$="@firebase/remote-config",t$="@firebase/remote-config-compat",n$="@firebase/storage",r$="@firebase/storage-compat",i$="@firebase/firestore",s$="@firebase/vertexai-preview",o$="@firebase/firestore-compat",a$="firebase",l$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="[DEFAULT]",u$={[Ov]:"fire-core",[LF]:"fire-core-compat",[FF]:"fire-analytics",[VF]:"fire-analytics-compat",[UF]:"fire-app-check",[$F]:"fire-app-check-compat",[BF]:"fire-auth",[jF]:"fire-auth-compat",[HF]:"fire-rtdb",[WF]:"fire-data-connect",[qF]:"fire-rtdb-compat",[zF]:"fire-fn",[KF]:"fire-fn-compat",[YF]:"fire-iid",[GF]:"fire-iid-compat",[QF]:"fire-fcm",[XF]:"fire-fcm-compat",[JF]:"fire-perf",[ZF]:"fire-perf-compat",[e$]:"fire-rc",[t$]:"fire-rc-compat",[n$]:"fire-gcs",[r$]:"fire-gcs-compat",[i$]:"fire-fst",[o$]:"fire-fst-compat",[s$]:"fire-vertex","fire-js":"fire-js",[a$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,c$=new Map,kv=new Map;function xT(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){const e=t.name;if(kv.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;kv.set(e,t);for(const n of Cf.values())xT(n,t);for(const n of c$.values())xT(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Co("app","Firebase",d$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=l$;function nO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=zA()),!n)throw oo.create("no-options");const s=Cf.get(i);if(s){if(Vc(n,s.options)&&Vc(r,s.config))return s;throw oo.create("duplicate-app",{appName:i})}const o=new _F(i);for(const l of kv.values())o.addComponent(l);const a=new h$(n,r,o);return Cf.set(i,a),a}function Ed(t=Pv){const e=Cf.get(t);if(!e&&t===Pv&&zA())return nO();if(!e)throw oo.create("no-app",{appName:t});return e}function er(t,e,n){var r;let i=(r=u$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(a.join(" "));return}jr(new Dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="firebase-heartbeat-database",p$=1,Fc="firebase-heartbeat-store";let og=null;function rO(){return og||(og=tO(f$,p$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),og}async function m$(t){try{const n=(await rO()).transaction(Fc),r=await n.objectStore(Fc).get(iO(t));return await n.done,r}catch(e){if(e instanceof ei)Ss.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function NT(t,e){try{const r=(await rO()).transaction(Fc,"readwrite");await r.objectStore(Fc).put(e,iO(t)),await r.done}catch(n){if(n instanceof ei)Ss.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function iO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=1024,v$=30*24*60*60*1e3;class y${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=v$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MT(),{heartbeatsToSend:r,unsentEntries:i}=_$(this._heartbeatsCache.heartbeats),s=Ef(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ss.warn(n),""}}}function MT(){return new Date().toISOString().substring(0,10)}function _$(t,e=g$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kp()?XA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LT(t){return Ef(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){jr(new Dr("platform-logger",e=>new NF(e),"PRIVATE")),jr(new Dr("heartbeat",e=>new y$(e),"PRIVATE")),er(Ov,DT,t),er(Ov,DT,"esm2017"),er("fire-js","")}w$("");const sO="@firebase/installations",y_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1e4,aO=`w:${y_}`,lO="FIS_v2",T$="https://firebaseinstallations.googleapis.com/v1",E$=60*60*1e3,I$="installations",S$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new Co(I$,S$,C$);function uO(t){return t instanceof ei&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO({projectId:t}){return`${T$}/projects/${t}/installations`}function dO(t){return{token:t.token,requestStatus:2,expiresIn:O$(t.expiresIn),creationTime:Date.now()}}async function hO(t,e){const r=(await e.json()).error;return oa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A$(t,{refreshToken:e}){const n=fO(t);return n.append("Authorization",P$(e)),n}async function pO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function O$(t){return Number(t.replace("s","000"))}function P$(t){return`${lO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cO(t),i=fO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:lO,appId:t.appId,sdkVersion:aO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await pO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:dO(u.authToken)}}else throw await hO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=/^[cdef][\w-]{21}$/,Rv="";function x$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=N$(t);return D$.test(n)?n:Rv}catch{return Rv}}function N$(t){return R$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Map;function vO(t,e){const n=Dp(t);yO(n,e),M$(n,e)}function yO(t,e){const n=gO.get(t);if(n)for(const r of n)r(e)}function M$(t,e){const n=L$();n&&n.postMessage({key:t,fid:e}),V$()}let Ho=null;function L$(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{yO(t.data.key,t.data.fid)}),Ho}function V$(){gO.size===0&&Ho&&(Ho.close(),Ho=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="firebase-installations-database",$$=1,aa="firebase-installations-store";let ag=null;function __(){return ag||(ag=tO(F$,$$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(aa)}}})),ag}async function Af(t,e){const n=Dp(t),i=(await __()).transaction(aa,"readwrite"),s=i.objectStore(aa),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&vO(t,e.fid),e}async function _O(t){const e=Dp(t),r=(await __()).transaction(aa,"readwrite");await r.objectStore(aa).delete(e),await r.done}async function xp(t,e){const n=Dp(t),i=(await __()).transaction(aa,"readwrite"),s=i.objectStore(aa),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&vO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(t){let e;const n=await xp(t.appConfig,r=>{const i=U$(r),s=B$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Rv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function U$(t){const e=t||{fid:x$(),registrationStatus:0};return bO(e)}function B$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=j$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:H$(t)}:{installationEntry:e}}async function j$(t,e){try{const n=await k$(t,e);return Af(t.appConfig,n)}catch(n){throw uO(n)&&n.customData.serverCode===409?await _O(t.appConfig):await Af(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function H$(t){let e=await VT(t.appConfig);for(;e.registrationStatus===1;)await mO(100),e=await VT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await b_(t);return r||n}return e}function VT(t){return xp(t,e=>{if(!e)throw oa.create("installation-not-found");return bO(e)})}function bO(t){return W$(t)?{fid:t.fid,registrationStatus:0}:t}function W$(t){return t.registrationStatus===1&&t.registrationTime+oO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$({appConfig:t,heartbeatServiceProvider:e},n){const r=z$(t,n),i=A$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:aO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await pO(()=>fetch(r,a));if(l.ok){const u=await l.json();return dO(u)}else throw await hO("Generate Auth Token",l)}function z$(t,{fid:e}){return`${cO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_(t,e=!1){let n;const r=await xp(t.appConfig,s=>{if(!wO(s))throw oa.create("not-registered");const o=s.authToken;if(!e&&G$(o))return s;if(o.requestStatus===1)return n=K$(t,e),s;{if(!navigator.onLine)throw oa.create("app-offline");const a=X$(s);return n=Y$(t,a),a}});return n?await n:r.authToken}async function K$(t,e){let n=await FT(t.appConfig);for(;n.authToken.requestStatus===1;)await mO(100),n=await FT(t.appConfig);const r=n.authToken;return r.requestStatus===0?w_(t,e):r}function FT(t){return xp(t,e=>{if(!wO(e))throw oa.create("not-registered");const n=e.authToken;return J$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Y$(t,e){try{const n=await q$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Af(t.appConfig,r),n}catch(n){if(uO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _O(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Af(t.appConfig,r)}throw n}}function wO(t){return t!==void 0&&t.registrationStatus===2}function G$(t){return t.requestStatus===2&&!Q$(t)}function Q$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+E$}function X$(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function J$(t){return t.requestStatus===1&&t.requestTime+oO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t){const e=t,{installationEntry:n,registrationPromise:r}=await b_(e);return r?r.catch(console.error):w_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e=!1){const n=t;return await t3(n),(await w_(n,e)).token}async function t3(t){const{registrationPromise:e}=await b_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){if(!t||!t.options)throw lg("App Configuration");if(!t.name)throw lg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lg(t){return oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="installations",r3="installations-internal",i3=t=>{const e=t.getProvider("app").getImmediate(),n=n3(e),r=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},s3=t=>{const e=t.getProvider("app").getImmediate(),n=xs(e,TO).getImmediate();return{getId:()=>Z$(n),getToken:i=>e3(n,i)}};function o3(){jr(new Dr(TO,i3,"PUBLIC")),jr(new Dr(r3,s3,"PRIVATE"))}o3();er(sO,y_);er(sO,y_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="analytics",a3="firebase_id",l3="origin",u3=60*1e3,c3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new iu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xr=new Co("analytics","Analytics",d3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){if(!t.startsWith(T_)){const e=Xr.create("invalid-gtag-resource",{gtagURL:t});return Ur.warn(e.message),""}return t}function EO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function f3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function p3(t,e){const n=f3("firebase-js-sdk-policy",{createScriptURL:h3}),r=document.createElement("script"),i=`${T_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function m3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function g3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await EO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ur.error(a)}t("config",i,s)}async function v3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await EO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ur.error(s)}}function y3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await v3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await g3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ur.error(a)}}return i}function _3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=y3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function b3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(T_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=30,T3=1e3;class E3{constructor(e={},n=T3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const IO=new E3;function I3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function S3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:I3(r)},s=c3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Xr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function C3(t,e=IO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Xr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new P3;return setTimeout(async()=>{a.abort()},n!==void 0?n:u3),SO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function SO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=IO){var s;const{appId:o,measurementId:a}=t;try{await A3(r,e)}catch(l){if(a)return Ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await S3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!O3(u)){if(i.deleteThrottleMetadata(o),a)return Ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Sv(n,i.intervalMillis,w3):Sv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Ur.debug(`Calling attemptFetch again in ${c} millis`),SO(t,h,r,i)}}function A3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function O3(t){if(!(t instanceof ei)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class P3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function k3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(){if(kp())try{await XA()}catch(t){return Ur.warn(Xr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ur.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D3(t,e,n,r,i,s,o){var a;const l=C3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ur.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ur.error(p)),e.push(l);const u=R3().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);b3(s)||p3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[l3]="firebase",f.update=!0,h!=null&&(f[a3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.app=e}_delete(){return delete ac[this.app.options.appId],Promise.resolve()}}let ac={},$T=[];const UT={};let ug="dataLayer",N3="gtag",BT,CO,jT=!1;function M3(){const t=[];if(YA()&&t.push("This is a browser extension environment."),ZV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xr.create("invalid-analytics-context",{errorInfo:e});Ur.warn(n.message)}}function L3(t,e,n){M3();const r=t.options.appId;if(!r)throw Xr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xr.create("no-api-key");if(ac[r]!=null)throw Xr.create("already-exists",{id:r});if(!jT){m3(ug);const{wrappedGtag:s,gtagCore:o}=_3(ac,$T,UT,ug,N3);CO=s,BT=o,jT=!0}return ac[r]=D3(t,$T,UT,e,BT,ug,n),new x3(t)}function AO(t=Ed()){t=Dt(t);const e=xs(t,Of);return e.isInitialized()?e.getImmediate():V3(t)}function V3(t,e={}){const n=xs(t,Of);if(n.isInitialized()){const i=n.getImmediate();if(Vc(e,n.getOptions()))return i;throw Xr.create("already-initialized")}return n.initialize({options:e})}function OO(t,e,n,r){t=Dt(t),k3(CO,ac[t.app.options.appId],e,n,r).catch(i=>Ur.error(i))}const HT="@firebase/analytics",WT="0.10.8";function F3(){jr(new Dr(Of,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return L3(r,i,n)},"PUBLIC")),jr(new Dr("analytics-internal",t,"PRIVATE")),er(HT,WT),er(HT,WT,"esm2017");function t(e){try{const n=e.getProvider(Of).getImmediate();return{logEvent:(r,i,s)=>OO(n,r,i,s)}}catch(n){throw Xr.create("interop-component-reg-failed",{reason:n})}}}F3();var $3="firebase",U3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er($3,U3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map,PO={activated:!1,tokenObservers:[]},B3={initialized:!1,enabled:!1};function Ln(t){return Dv.get(t)||Object.assign({},PO)}function j3(t,e){return Dv.set(t,e),Dv.get(t)}function Np(){return B3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="https://content-firebaseappcheck.googleapis.com/v1",H3="exchangeRecaptchaV3Token",W3="exchangeDebugToken",qT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},q3=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new sa,this.pending.promise.catch(n=>{}),await K3(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new sa,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function K3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Fr=new Co("appCheck","AppCheck",Y3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function E_(t){if(!Ln(t).activated)throw Fr.create("use-before-activation",{appName:t.name})}function RO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=vh(n)+"d:"),r&&(o+=vh(r)+"h:"),o+=vh(i)+"m:"+vh(s)+"s",o}function vh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw Fr.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw Fr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw Fr.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function G3(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${kO}/projects/${n}/apps/${r}:${H3}?key=${i}`,body:{recaptcha_v3_token:e}}}function DO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${kO}/projects/${n}/apps/${r}:${W3}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="firebase-app-check-database",X3=1,$c="firebase-app-check-store",xO="debug-token";let yh=null;function NO(){return yh||(yh=new Promise((t,e)=>{try{const n=indexedDB.open(Q3,X3);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Fr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($c,{keyPath:"compositeKey"})}}}catch(n){e(Fr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),yh)}function J3(t){return LO(VO(t))}function Z3(t,e){return MO(VO(t),e)}function e4(t){return MO(xO,t)}function t4(){return LO(xO)}async function MO(t,e){const r=(await NO()).transaction($c,"readwrite"),s=r.objectStore($c).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Fr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function LO(t){const n=(await NO()).transaction($c,"readonly"),i=n.objectStore($c).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Fr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function VO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new iu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t){if(kp()){let e;try{e=await J3(t)}catch(n){Uc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function cg(t,e){return kp()?Z3(t,e).catch(n=>{Uc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function r4(){let t;try{t=await t4()}catch{}if(t)return t;{const e=dF();return e4(e).catch(n=>Uc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){return Np().enabled}async function C_(){const t=Np();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function i4(){const t=WA(),e=Np();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new sa;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(r4())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={error:"UNKNOWN_ERROR"};function o4(t){return Op.encodeString(JSON.stringify(t),!1)}async function xv(t,e=!1){const n=t.app;E_(n);const r=Ln(n);let i=r.token,s;if(i&&!nl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(nl(l)?i=l:await cg(n,void 0))}if(!e&&i&&nl(i))return{token:i.token};let o=!1;if(S_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=I_(DO(n,await C_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await cg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Ln(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Uc.warn(l.message):Uc.error(l),s=l}let a;return i?s?nl(i)?a={token:i.token,internalError:s}:a=YT(s):(a={token:i.token},r.token=i,await cg(n,i)):a=YT(s),o&&UO(n,a),a}async function a4(t){const e=t.app;E_(e);const{provider:n}=Ln(e);if(S_()){const r=await C_(),{token:i}=await I_(DO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function FO(t,e,n,r){const{app:i}=t,s=Ln(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&nl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),KT(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>KT(t))}function $O(t,e){const n=Ln(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function KT(t){const{app:e}=t,n=Ln(e);let r=n.tokenRefresher;r||(r=l4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function l4(t){const{app:e}=t;return new z3(async()=>{const n=Ln(e);let r;if(n.token?r=await xv(t,!0):r=await xv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Ln(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},qT.RETRIAL_MIN_WAIT,qT.RETRIAL_MAX_WAIT)}function UO(t,e){const n=Ln(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nl(t){return t.expireTimeMillis-Date.now()>0}function YT(t){return{token:o4(s4),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ln(this.app);for(const n of e)$O(this.app,n.next);return Promise.resolve()}}function c4(t,e){return new u4(t,e)}function d4(t){return{getToken:e=>xv(t,e),getLimitedUseToken:()=>a4(t),addTokenListener:e=>FO(t,"INTERNAL",e),removeTokenListener:e=>$O(t.app,e)}}const h4="@firebase/app-check",f4="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="https://www.google.com/recaptcha/api.js";function m4(t,e){const n=new sa,r=Ln(t);r.reCAPTCHAState={initialized:n};const i=g4(t),s=zT(!1);return s?GT(t,e,s,i,n):_4(()=>{const o=zT(!1);if(!o)throw new Error("no recaptcha");GT(t,e,o,i,n)}),n.promise}function GT(t,e,n,r,i){n.ready(()=>{y4(t,e,n,r),i.resolve(n)})}function g4(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function v4(t){E_(t);const n=await Ln(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Ln(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function y4(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Ln(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ln(t).reCAPTCHAState.succeeded=!1}}),s=Ln(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function _4(t){const e=document.createElement("script");e.src=p4,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;w4(this._throttleData);const i=await v4(this._app).catch(o=>{throw Fr.create("recaptcha-error")});if(!(!((e=Ln(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Fr.create("recaptcha-error");let s;try{s=await I_(G3(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=b4(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Fr.create("throttled",{time:RO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=xs(e,"heartbeat"),m4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof A_?this._siteKey===e._siteKey:!1}}function b4(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+q3,httpStatus:t};{const n=e?e.backoffCount:0,r=Sv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function w4(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Fr.create("throttled",{time:RO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t=Ed(),e){t=Dt(t);const n=xs(t,"app-check");if(Np().initialized||i4(),S_()&&C_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Fr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return E4(t,e.provider,e.isTokenAutoRefreshEnabled),Ln(t).isTokenAutoRefreshEnabled&&FO(r,"INTERNAL",()=>{}),r}function E4(t,e,n){const r=j3(t,Object.assign({},PO));r.activated=!0,r.provider=e,r.cachedTokenPromise=n4(t).then(i=>(i&&nl(i)&&(r.token=i,UO(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const I4="app-check",QT="app-check-internal";function S4(){jr(new Dr(I4,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return c4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(QT).initialize()})),jr(new Dr(QT,t=>{const e=t.getProvider("app-check").getImmediate();return d4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),er(h4,f4)}S4();var Pn=(t=>(t.CONTENT="content",t.PROJECTS="projects",t.MENU_ITEMS="menuItems",t.MENU_ITEMS_PRIVATE="menuItemsPrivate",t.BLOG_POSTS="blogPosts",t.BLOG_POSTS_PRIVATE="blogPostsPrivate",t.BLOG_REACTIONS="blogReactions",t.BLOG_REACTIONS_PRIVATE="blogReactionsPrivate",t.USERS="users",t.USERS_PUBLIC="usersPublic",t.USERS_ONLINE="usersOnline",t.FILES="files",t.GAME_DATA="gameData",t.HIGHSCORES="highscores",t))(Pn||{});const C4={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},A4=t=>{T4(t,{provider:new A_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},O4=()=>{const t=nO(C4);return A4(t),AO(t),t},P4=O4();var k4=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let BO;const Mp=t=>BO=t,jO=Symbol();function Nv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var lc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(lc||(lc={}));function R4(){const t=zy(!0),e=t.run(()=>fe({}));let n=[],r=[];const i=Zy({install(s){Mp(i),i._a=s,s.provide(jO,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!k4?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const HO=()=>{};function XT(t,e,n,r=HO){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Ky()&&YS(i),i}function Ba(t,...e){t.slice().forEach(n=>{n(...e)})}const D4=t=>t(),JT=Symbol(),dg=Symbol();function Mv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Nv(i)&&Nv(r)&&t.hasOwnProperty(n)&&!an(r)&&!Ki(r)?t[n]=Mv(i,r):t[n]=r}return t}const x4=Symbol();function N4(t){return!Nv(t)||!t.hasOwnProperty(x4)}const{assign:qs}=Object;function M4(t){return!!(an(t)&&t.effect)}function L4(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=bM(n.state.value[t]);return qs(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=Zy(ue(()=>{Mp(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=WO(t,u,e,n,r,!0),l}function WO(t,e,n={},r,i,s){let o;const a=qs({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),fe({});let b;function S(T){let _;u=c=!1,typeof T=="function"?(T(r.state.value[t]),_={type:lc.patchFunction,storeId:t,events:p}):(Mv(r.state.value[t],T),_={type:lc.patchObject,payload:T,storeId:t,events:p});const v=b=Symbol();jn().then(()=>{b===v&&(u=!0)}),c=!0,Ba(h,_,r.state.value[t])}const R=s?function(){const{state:_}=n,v=_?_():{};this.$patch(C=>{qs(C,v)})}:HO;function P(){o.stop(),h=[],f=[],r._s.delete(t)}const E=(T,_="")=>{if(JT in T)return T[dg]=_,T;const v=function(){Mp(r);const C=Array.from(arguments),O=[],k=[];function Y(F){O.push(F)}function B(F){k.push(F)}Ba(f,{args:C,name:v[dg],store:M,after:Y,onError:B});let $;try{$=T.apply(this&&this.$id===t?this:M,C)}catch(F){throw Ba(k,F),F}return $ instanceof Promise?$.then(F=>(Ba(O,F),F)).catch(F=>(Ba(k,F),Promise.reject(F))):(Ba(O,$),$)};return v[JT]=!0,v[dg]=_,v},I={_p:r,$id:t,$onAction:XT.bind(null,f),$patch:S,$reset:R,$subscribe(T,_={}){const v=XT(h,T,_.detached,()=>C()),C=o.run(()=>Cn(()=>r.state.value[t],O=>{(_.flush==="sync"?c:u)&&T({storeId:t,type:lc.direct,events:p},O)},qs({},l,_)));return v},$dispose:P},M=Rr(I);r._s.set(t,M);const w=(r._a&&r._a.runWithContext||D4)(()=>r._e.run(()=>(o=zy()).run(()=>e({action:E}))));for(const T in w){const _=w[T];if(an(_)&&!M4(_)||Ki(_))s||(g&&N4(_)&&(an(_)?_.value=g[T]:Mv(_,g[T])),r.state.value[t][T]=_);else if(typeof _=="function"){const v=E(_,T);w[T]=v,a.actions[T]=_}}return qs(M,w),qs(pt(M),w),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:T=>{S(_=>{qs(_,T)})}}),r._p.forEach(T=>{qs(M,o.run(()=>T({store:M,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),u=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function Lp(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=aL();return a=a||(u?kr(jO,null):null),a&&Mp(a),a=BO,a._s.has(r)||(s?WO(r,e,i,a):L4(r,i,a)),a._s.get(r)}return o.$id=r,o}function qO(t){{const e=pt(t),n={};for(const r in e){const i=e[r];(an(i)||Ki(i))&&(n[r]=Cc(t,r))}return n}}const ZT=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var V4=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),ZT(l,e))}),e.$subscribe(()=>{a.forEach(l=>{ZT(l,e)})})}};const zO=R4();zO.use(V4);const F4="modulepreload",$4=function(t,e){return new URL(t,e).href},e1={},ti=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=$4(o,r),o in e1)return;e1[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":F4,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,KO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,T){function _(){}_.prototype=T.prototype,w.D=T.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(v,C,O){for(var k=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];return T.prototype[C].apply(v,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,T,_){_||(_=0);var v=Array(16);if(typeof T=="string")for(var C=0;16>C;++C)v[C]=T.charCodeAt(_++)|T.charCodeAt(_++)<<8|T.charCodeAt(_++)<<16|T.charCodeAt(_++)<<24;else for(C=0;16>C;++C)v[C]=T[_++]|T[_++]<<8|T[_++]<<16|T[_++]<<24;T=w.g[0],_=w.g[1],C=w.g[2];var O=w.g[3],k=T+(O^_&(C^O))+v[0]+3614090360&4294967295;T=_+(k<<7&4294967295|k>>>25),k=O+(C^T&(_^C))+v[1]+3905402710&4294967295,O=T+(k<<12&4294967295|k>>>20),k=C+(_^O&(T^_))+v[2]+606105819&4294967295,C=O+(k<<17&4294967295|k>>>15),k=_+(T^C&(O^T))+v[3]+3250441966&4294967295,_=C+(k<<22&4294967295|k>>>10),k=T+(O^_&(C^O))+v[4]+4118548399&4294967295,T=_+(k<<7&4294967295|k>>>25),k=O+(C^T&(_^C))+v[5]+1200080426&4294967295,O=T+(k<<12&4294967295|k>>>20),k=C+(_^O&(T^_))+v[6]+2821735955&4294967295,C=O+(k<<17&4294967295|k>>>15),k=_+(T^C&(O^T))+v[7]+4249261313&4294967295,_=C+(k<<22&4294967295|k>>>10),k=T+(O^_&(C^O))+v[8]+1770035416&4294967295,T=_+(k<<7&4294967295|k>>>25),k=O+(C^T&(_^C))+v[9]+2336552879&4294967295,O=T+(k<<12&4294967295|k>>>20),k=C+(_^O&(T^_))+v[10]+4294925233&4294967295,C=O+(k<<17&4294967295|k>>>15),k=_+(T^C&(O^T))+v[11]+2304563134&4294967295,_=C+(k<<22&4294967295|k>>>10),k=T+(O^_&(C^O))+v[12]+1804603682&4294967295,T=_+(k<<7&4294967295|k>>>25),k=O+(C^T&(_^C))+v[13]+4254626195&4294967295,O=T+(k<<12&4294967295|k>>>20),k=C+(_^O&(T^_))+v[14]+2792965006&4294967295,C=O+(k<<17&4294967295|k>>>15),k=_+(T^C&(O^T))+v[15]+1236535329&4294967295,_=C+(k<<22&4294967295|k>>>10),k=T+(C^O&(_^C))+v[1]+4129170786&4294967295,T=_+(k<<5&4294967295|k>>>27),k=O+(_^C&(T^_))+v[6]+3225465664&4294967295,O=T+(k<<9&4294967295|k>>>23),k=C+(T^_&(O^T))+v[11]+643717713&4294967295,C=O+(k<<14&4294967295|k>>>18),k=_+(O^T&(C^O))+v[0]+3921069994&4294967295,_=C+(k<<20&4294967295|k>>>12),k=T+(C^O&(_^C))+v[5]+3593408605&4294967295,T=_+(k<<5&4294967295|k>>>27),k=O+(_^C&(T^_))+v[10]+38016083&4294967295,O=T+(k<<9&4294967295|k>>>23),k=C+(T^_&(O^T))+v[15]+3634488961&4294967295,C=O+(k<<14&4294967295|k>>>18),k=_+(O^T&(C^O))+v[4]+3889429448&4294967295,_=C+(k<<20&4294967295|k>>>12),k=T+(C^O&(_^C))+v[9]+568446438&4294967295,T=_+(k<<5&4294967295|k>>>27),k=O+(_^C&(T^_))+v[14]+3275163606&4294967295,O=T+(k<<9&4294967295|k>>>23),k=C+(T^_&(O^T))+v[3]+4107603335&4294967295,C=O+(k<<14&4294967295|k>>>18),k=_+(O^T&(C^O))+v[8]+1163531501&4294967295,_=C+(k<<20&4294967295|k>>>12),k=T+(C^O&(_^C))+v[13]+2850285829&4294967295,T=_+(k<<5&4294967295|k>>>27),k=O+(_^C&(T^_))+v[2]+4243563512&4294967295,O=T+(k<<9&4294967295|k>>>23),k=C+(T^_&(O^T))+v[7]+1735328473&4294967295,C=O+(k<<14&4294967295|k>>>18),k=_+(O^T&(C^O))+v[12]+2368359562&4294967295,_=C+(k<<20&4294967295|k>>>12),k=T+(_^C^O)+v[5]+4294588738&4294967295,T=_+(k<<4&4294967295|k>>>28),k=O+(T^_^C)+v[8]+2272392833&4294967295,O=T+(k<<11&4294967295|k>>>21),k=C+(O^T^_)+v[11]+1839030562&4294967295,C=O+(k<<16&4294967295|k>>>16),k=_+(C^O^T)+v[14]+4259657740&4294967295,_=C+(k<<23&4294967295|k>>>9),k=T+(_^C^O)+v[1]+2763975236&4294967295,T=_+(k<<4&4294967295|k>>>28),k=O+(T^_^C)+v[4]+1272893353&4294967295,O=T+(k<<11&4294967295|k>>>21),k=C+(O^T^_)+v[7]+4139469664&4294967295,C=O+(k<<16&4294967295|k>>>16),k=_+(C^O^T)+v[10]+3200236656&4294967295,_=C+(k<<23&4294967295|k>>>9),k=T+(_^C^O)+v[13]+681279174&4294967295,T=_+(k<<4&4294967295|k>>>28),k=O+(T^_^C)+v[0]+3936430074&4294967295,O=T+(k<<11&4294967295|k>>>21),k=C+(O^T^_)+v[3]+3572445317&4294967295,C=O+(k<<16&4294967295|k>>>16),k=_+(C^O^T)+v[6]+76029189&4294967295,_=C+(k<<23&4294967295|k>>>9),k=T+(_^C^O)+v[9]+3654602809&4294967295,T=_+(k<<4&4294967295|k>>>28),k=O+(T^_^C)+v[12]+3873151461&4294967295,O=T+(k<<11&4294967295|k>>>21),k=C+(O^T^_)+v[15]+530742520&4294967295,C=O+(k<<16&4294967295|k>>>16),k=_+(C^O^T)+v[2]+3299628645&4294967295,_=C+(k<<23&4294967295|k>>>9),k=T+(C^(_|~O))+v[0]+4096336452&4294967295,T=_+(k<<6&4294967295|k>>>26),k=O+(_^(T|~C))+v[7]+1126891415&4294967295,O=T+(k<<10&4294967295|k>>>22),k=C+(T^(O|~_))+v[14]+2878612391&4294967295,C=O+(k<<15&4294967295|k>>>17),k=_+(O^(C|~T))+v[5]+4237533241&4294967295,_=C+(k<<21&4294967295|k>>>11),k=T+(C^(_|~O))+v[12]+1700485571&4294967295,T=_+(k<<6&4294967295|k>>>26),k=O+(_^(T|~C))+v[3]+2399980690&4294967295,O=T+(k<<10&4294967295|k>>>22),k=C+(T^(O|~_))+v[10]+4293915773&4294967295,C=O+(k<<15&4294967295|k>>>17),k=_+(O^(C|~T))+v[1]+2240044497&4294967295,_=C+(k<<21&4294967295|k>>>11),k=T+(C^(_|~O))+v[8]+1873313359&4294967295,T=_+(k<<6&4294967295|k>>>26),k=O+(_^(T|~C))+v[15]+4264355552&4294967295,O=T+(k<<10&4294967295|k>>>22),k=C+(T^(O|~_))+v[6]+2734768916&4294967295,C=O+(k<<15&4294967295|k>>>17),k=_+(O^(C|~T))+v[13]+1309151649&4294967295,_=C+(k<<21&4294967295|k>>>11),k=T+(C^(_|~O))+v[4]+4149444226&4294967295,T=_+(k<<6&4294967295|k>>>26),k=O+(_^(T|~C))+v[11]+3174756917&4294967295,O=T+(k<<10&4294967295|k>>>22),k=C+(T^(O|~_))+v[2]+718787259&4294967295,C=O+(k<<15&4294967295|k>>>17),k=_+(O^(C|~T))+v[9]+3951481745&4294967295,w.g[0]=w.g[0]+T&4294967295,w.g[1]=w.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+O&4294967295}r.prototype.u=function(w,T){T===void 0&&(T=w.length);for(var _=T-this.blockSize,v=this.B,C=this.h,O=0;O<T;){if(C==0)for(;O<=_;)i(this,w,O),O+=this.blockSize;if(typeof w=="string"){for(;O<T;)if(v[C++]=w.charCodeAt(O++),C==this.blockSize){i(this,v),C=0;break}}else for(;O<T;)if(v[C++]=w[O++],C==this.blockSize){i(this,v),C=0;break}}this.h=C,this.o+=T},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var T=1;T<w.length-8;++T)w[T]=0;var _=8*this.o;for(T=w.length-8;T<w.length;++T)w[T]=_&255,_/=256;for(this.u(w),w=Array(16),T=_=0;4>T;++T)for(var v=0;32>v;v+=8)w[_++]=this.g[T]>>>v&255;return w};function s(w,T){var _=a;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=T(w)}function o(w,T){this.h=T;for(var _=[],v=!0,C=w.length-1;0<=C;C--){var O=w[C]|0;v&&O==T||(_[C]=O,v=!1)}this.g=_}var a={};function l(w){return-128<=w&&128>w?s(w,function(T){return new o([T|0],0>T?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return h;if(0>w)return S(u(-w));for(var T=[],_=1,v=0;w>=_;v++)T[v]=w/_|0,_*=4294967296;return new o(T,0)}function c(w,T){if(w.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w.charAt(0)=="-")return S(c(w.substring(1),T));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(T,8)),v=h,C=0;C<w.length;C+=8){var O=Math.min(8,w.length-C),k=parseInt(w.substring(C,C+O),T);8>O?(O=u(Math.pow(T,O)),v=v.j(O).add(u(k))):(v=v.j(_),v=v.add(u(k)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-S(this).m();for(var w=0,T=1,_=0;_<this.g.length;_++){var v=this.i(_);w+=(0<=v?v:4294967296+v)*T,T*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(g(this))return"0";if(b(this))return"-"+S(this).toString(w);for(var T=u(Math.pow(w,6)),_=this,v="";;){var C=I(_,T).g;_=R(_,C.j(T));var O=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=C,g(_))return O+v;for(;6>O.length;)O="0"+O;v=O+v}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function g(w){if(w.h!=0)return!1;for(var T=0;T<w.g.length;T++)if(w.g[T]!=0)return!1;return!0}function b(w){return w.h==-1}t.l=function(w){return w=R(this,w),b(w)?-1:g(w)?0:1};function S(w){for(var T=w.g.length,_=[],v=0;v<T;v++)_[v]=~w.g[v];return new o(_,~w.h).add(f)}t.abs=function(){return b(this)?S(this):this},t.add=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],v=0,C=0;C<=T;C++){var O=v+(this.i(C)&65535)+(w.i(C)&65535),k=(O>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);v=k>>>16,O&=65535,k&=65535,_[C]=k<<16|O}return new o(_,_[_.length-1]&-2147483648?-1:0)};function R(w,T){return w.add(S(T))}t.j=function(w){if(g(this)||g(w))return h;if(b(this))return b(w)?S(this).j(S(w)):S(S(this).j(w));if(b(w))return S(this.j(S(w)));if(0>this.l(p)&&0>w.l(p))return u(this.m()*w.m());for(var T=this.g.length+w.g.length,_=[],v=0;v<2*T;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var C=0;C<w.g.length;C++){var O=this.i(v)>>>16,k=this.i(v)&65535,Y=w.i(C)>>>16,B=w.i(C)&65535;_[2*v+2*C]+=k*B,P(_,2*v+2*C),_[2*v+2*C+1]+=O*B,P(_,2*v+2*C+1),_[2*v+2*C+1]+=k*Y,P(_,2*v+2*C+1),_[2*v+2*C+2]+=O*Y,P(_,2*v+2*C+2)}for(v=0;v<T;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=T;v<2*T;v++)_[v]=0;return new o(_,0)};function P(w,T){for(;(w[T]&65535)!=w[T];)w[T+1]+=w[T]>>>16,w[T]&=65535,T++}function E(w,T){this.g=w,this.h=T}function I(w,T){if(g(T))throw Error("division by zero");if(g(w))return new E(h,h);if(b(w))return T=I(S(w),T),new E(S(T.g),S(T.h));if(b(T))return T=I(w,S(T)),new E(S(T.g),T.h);if(30<w.g.length){if(b(w)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var _=f,v=T;0>=v.l(w);)_=M(_),v=M(v);var C=L(_,1),O=L(v,1);for(v=L(v,2),_=L(_,2);!g(v);){var k=O.add(v);0>=k.l(w)&&(C=C.add(_),O=k),v=L(v,1),_=L(_,1)}return T=R(w,C.j(T)),new E(C,T)}for(C=h;0<=w.l(T);){for(_=Math.max(1,Math.floor(w.m()/T.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),O=u(_),k=O.j(T);b(k)||0<k.l(w);)_-=v,O=u(_),k=O.j(T);g(O)&&(O=f),C=C.add(O),w=R(w,k)}return new E(C,w)}t.A=function(w){return I(this,w).h},t.and=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],v=0;v<T;v++)_[v]=this.i(v)&w.i(v);return new o(_,this.h&w.h)},t.or=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],v=0;v<T;v++)_[v]=this.i(v)|w.i(v);return new o(_,this.h|w.h)},t.xor=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],v=0;v<T;v++)_[v]=this.i(v)^w.i(v);return new o(_,this.h^w.h)};function M(w){for(var T=w.g.length+1,_=[],v=0;v<T;v++)_[v]=w.i(v)<<1|w.i(v-1)>>>31;return new o(_,w.h)}function L(w,T){var _=T>>5;T%=32;for(var v=w.g.length-_,C=[],O=0;O<v;O++)C[O]=0<T?w.i(O+_)>>>T|w.i(O+_+1)<<32-T:w.i(O+_);return new o(C,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Qo=o}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YO,qu,GO,qh,Lv,QO,XO,JO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,y){return d==Array.prototype||d==Object.prototype||(d[m]=y.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var m=0;m<d.length;++m){var y=d[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var y=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in y))break e;y=y[J]}d=d[d.length-1],N=y[d],m=m(N),m!=N&&m!=null&&e(y,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var y=0,N=!1,J={next:function(){if(!N&&y<d.length){var ne=y++;return{value:m(ne,d[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,y){return d.call.apply(d.bind,arguments)}function h(d,m,y){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),d.apply(m,J)}}return function(){return d.apply(m,arguments)}}function f(d,m,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var y=Array.prototype.slice.call(arguments,1);return function(){var N=y.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function g(d,m){function y(){}y.prototype=m.prototype,d.aa=m.prototype,d.prototype=new y,d.prototype.constructor=d,d.Qb=function(N,J,ne){for(var Ae=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Ae[Ht-2]=arguments[Ht];return m.prototype[J].apply(N,Ae)}}function b(d){const m=d.length;if(0<m){const y=Array(m);for(let N=0;N<m;N++)y[N]=d[N];return y}return[]}function S(d,m){for(let y=1;y<arguments.length;y++){const N=arguments[y];if(l(N)){const J=d.length||0,ne=N.length||0;d.length=J+ne;for(let Ae=0;Ae<ne;Ae++)d[J+Ae]=N[Ae]}else d.push(N)}}class R{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var M=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(d,m,y){for(const N in d)m.call(y,d[N],N,d)}function w(d,m){for(const y in d)m.call(void 0,d[y],y,d)}function T(d){const m={};for(const y in d)m[y]=d[y];return m}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let y,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(y in N)d[y]=N[y];for(let ne=0;ne<_.length;ne++)y=_[ne],Object.prototype.hasOwnProperty.call(N,y)&&(d[y]=N[y])}}function C(d){var m=1;d=d.split(":");const y=[];for(;0<m&&d.length;)y.push(d.shift()),m--;return d.length&&y.push(d.join(":")),y}function O(d){a.setTimeout(()=>{throw d},0)}function k(){var d=x;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class Y{constructor(){this.h=this.g=null}add(m,y){const N=B.get();N.set(m,y),this.h?this.h.next=N:this.g=N,this.h=N}}var B=new R(()=>new $,d=>d.reset());class ${constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let F,V=!1,x=new Y,A=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(q)}};var q=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(y){O(y)}var m=B;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}V=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return d}();function te(d,m){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var y=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(M){e:{try{I(m.nodeName);var J=!0;break e}catch{}J=!1}J||(m=null)}}else y=="mouseover"?m=d.fromElement:y=="mouseout"&&(m=d.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:H[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&te.aa.h.call(this)}}g(te,re);var H={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function X(d,m,y,N,J){this.listener=d,this.proxy=null,this.src=m,this.type=y,this.capture=!!N,this.ha=J,this.key=++ie,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,y,N,J){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var Ae=D(d,m,N,J);return-1<Ae?(m=d[Ae],y||(m.fa=!1)):(m=new X(m,this.src,ne,!!N,J),m.fa=y,d.push(m)),m};function ee(d,m){var y=m.type;if(y in d.g){var N=d.g[y],J=Array.prototype.indexOf.call(N,m,void 0),ne;(ne=0<=J)&&Array.prototype.splice.call(N,J,1),ne&&(ce(m),d.g[y].length==0&&(delete d.g[y],d.h--))}}function D(d,m,y,N){for(var J=0;J<d.length;++J){var ne=d[J];if(!ne.da&&ne.listener==m&&ne.capture==!!y&&ne.ha==N)return J}return-1}var U="closure_lm_"+(1e6*Math.random()|0),j={};function oe(d,m,y,N,J){if(N&&N.once)return Se(d,m,y,N,J);if(Array.isArray(m)){for(var ne=0;ne<m.length;ne++)oe(d,m[ne],y,N,J);return null}return y=Ge(y),d&&d[Q]?d.K(m,y,u(N)?!!N.capture:!!N,J):se(d,m,y,!1,N,J)}function se(d,m,y,N,J,ne){if(!m)throw Error("Invalid event type");var Ae=u(J)?!!J.capture:!!J,Ht=Ie(d);if(Ht||(d[U]=Ht=new be(d)),y=Ht.add(m,y,N,Ae,ne),y.proxy)return y;if(N=pe(),y.proxy=N,N.src=d,N.listener=y,d.addEventListener)ve||(J=Ae),J===void 0&&(J=!1),d.addEventListener(m.toString(),N,J);else if(d.attachEvent)d.attachEvent(me(m.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return y}function pe(){function d(y){return m.call(d.src,d.listener,y)}const m=He;return d}function Se(d,m,y,N,J){if(Array.isArray(m)){for(var ne=0;ne<m.length;ne++)Se(d,m[ne],y,N,J);return null}return y=Ge(y),d&&d[Q]?d.L(m,y,u(N)?!!N.capture:!!N,J):se(d,m,y,!0,N,J)}function Ee(d,m,y,N,J){if(Array.isArray(m))for(var ne=0;ne<m.length;ne++)Ee(d,m[ne],y,N,J);else N=u(N)?!!N.capture:!!N,y=Ge(y),d&&d[Q]?(d=d.i,m=String(m).toString(),m in d.g&&(ne=d.g[m],y=D(ne,y,N,J),-1<y&&(ce(ne[y]),Array.prototype.splice.call(ne,y,1),ne.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=D(m,y,N,J)),(y=-1<d?m[d]:null)&&Te(y))}function Te(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Q])ee(m.i,d);else{var y=d.type,N=d.proxy;m.removeEventListener?m.removeEventListener(y,N,d.capture):m.detachEvent?m.detachEvent(me(y),N):m.addListener&&m.removeListener&&m.removeListener(N),(y=Ie(m))?(ee(y,d),y.h==0&&(y.src=null,m[U]=null)):ce(d)}}}function me(d){return d in j?j[d]:j[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new te(m,this);var y=d.listener,N=d.ha||d.src;d.fa&&Te(d),d=y.call(N,m)}return d}function Ie(d){return d=d[U],d instanceof be?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(m){return d.handleEvent(m)}),d[Fe])}function Ke(){G.call(this),this.i=new be(this),this.M=this,this.F=null}g(Ke,G),Ke.prototype[Q]=!0,Ke.prototype.removeEventListener=function(d,m,y,N){Ee(this,d,m,y,N)};function z(d,m){var y,N=d.F;if(N)for(y=[];N;N=N.F)y.push(N);if(d=d.M,N=m.type||m,typeof m=="string")m=new re(m,d);else if(m instanceof re)m.target=m.target||d;else{var J=m;m=new re(N,d),v(m,J)}if(J=!0,y)for(var ne=y.length-1;0<=ne;ne--){var Ae=m.g=y[ne];J=ae(Ae,N,!0,m)&&J}if(Ae=m.g=d,J=ae(Ae,N,!0,m)&&J,J=ae(Ae,N,!1,m)&&J,y)for(ne=0;ne<y.length;ne++)Ae=m.g=y[ne],J=ae(Ae,N,!1,m)&&J}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var y=d.g[m],N=0;N<y.length;N++)ce(y[N]);delete d.g[m],d.h--}}this.F=null},Ke.prototype.K=function(d,m,y,N){return this.i.add(String(d),m,!1,y,N)},Ke.prototype.L=function(d,m,y,N){return this.i.add(String(d),m,!0,y,N)};function ae(d,m,y,N){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var J=!0,ne=0;ne<m.length;++ne){var Ae=m[ne];if(Ae&&!Ae.da&&Ae.capture==y){var Ht=Ae.listener,qn=Ae.ha||Ae.src;Ae.fa&&ee(d.i,Ae),J=Ht.call(qn,N)!==!1&&J}}return J&&!N.defaultPrevented}function xe(d,m,y){if(typeof d=="function")y&&(d=f(d,y));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=xe(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class ct extends G{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(d){G.call(this),this.h=d,this.g={}}g(Nt,G);var Hn=[];function Oe(d){L(d.g,function(m,y){this.g.hasOwnProperty(y)&&Te(m)},d),d.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),Oe(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,Wn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Hr(){}Hr.prototype.h=null;function Na(d){return d.h||(d.h=d.i())}function Rb(){}var fu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cm(){re.call(this,"d")}g(Cm,re);function Am(){re.call(this,"c")}g(Am,re);var ko={},Db=null;function zd(){return Db=Db||new Ke}ko.La="serverreachability";function xb(d){re.call(this,ko.La,d)}g(xb,re);function pu(d){const m=zd();z(m,new xb(m))}ko.STAT_EVENT="statevent";function Nb(d,m){re.call(this,ko.STAT_EVENT,d),this.stat=m}g(Nb,re);function wr(d){const m=zd();z(m,new Nb(m,d))}ko.Ma="timingevent";function Mb(d,m){re.call(this,ko.Ma,d),this.size=m}g(Mb,re);function mu(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function gu(){this.g=!0}gu.prototype.xa=function(){this.g=!1};function dN(d,m,y,N,J,ne){d.info(function(){if(d.g)if(ne)for(var Ae="",Ht=ne.split("&"),qn=0;qn<Ht.length;qn++){var Ct=Ht[qn].split("=");if(1<Ct.length){var rr=Ct[0];Ct=Ct[1];var ir=rr.split("_");Ae=2<=ir.length&&ir[1]=="type"?Ae+(rr+"="+Ct+"&"):Ae+(rr+"=redacted&")}}else Ae=null;else Ae=ne;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+m+`
`+y+`
`+Ae})}function hN(d,m,y,N,J,ne,Ae){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+m+`
`+y+`
`+ne+" "+Ae})}function Ma(d,m,y,N){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+pN(d,y)+(N?" "+N:"")})}function fN(d,m){d.info(function(){return"TIMEOUT: "+m})}gu.prototype.info=function(){};function pN(d,m){if(!d.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(d=0;d<y.length;d++)if(Array.isArray(y[d])){var N=y[d];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var ne=J[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var Ae=1;Ae<J.length;Ae++)J[Ae]=""}}}}return Be(y)}catch{return m}}var Kd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Om;function Yd(){}g(Yd,Hr),Yd.prototype.g=function(){return new XMLHttpRequest},Yd.prototype.i=function(){return{}},Om=new Yd;function Ms(d,m,y,N){this.j=d,this.i=m,this.l=y,this.R=N||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vb}function Vb(){this.i=null,this.g="",this.h=!1}var Fb={},Pm={};function km(d,m,y){d.L=1,d.v=Jd(is(m)),d.m=y,d.P=!0,$b(d,null)}function $b(d,m){d.F=Date.now(),Gd(d),d.A=is(d.v);var y=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),Zb(y.i,"t",N),d.C=0,y=d.j.J,d.h=new Vb,d.g=vw(d.j,y?m:null,!d.m),0<d.O&&(d.M=new ct(f(d.Y,d,d.g),d.O)),m=d.U,y=d.g,N=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Hn[0]=J.toString()),J=Hn);for(var ne=0;ne<J.length;ne++){var Ae=oe(y,J[ne],N||m.handleEvent,!1,m.h||m);if(!Ae)break;m.g[Ae.key]=Ae}m=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),pu(),dN(d.i,d.u,d.A,d.l,d.R,d.m)}Ms.prototype.ca=function(d){d=d.target;const m=this.M;m&&ss(d)==3?m.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const ir=ss(this.g);var m=this.g.Ba();const Fa=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||ow(this.g)))){this.J||ir!=4||m==7||(m==8||0>=Fa?pu(3):pu(2)),Rm(this);var y=this.g.Z();this.X=y;t:if(Ub(this)){var N=ow(this.g);d="";var J=N.length,ne=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),vu(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<J;m++)this.h.h=!0,d+=this.h.i.decode(N[m],{stream:!(ne&&m==J-1)});N.length=0,this.h.g+=d,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=y==200,hN(this.i,this.u,this.A,this.l,this.R,ir,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,qn=this.g;if((Ht=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ht)){var Ct=Ht;break t}}Ct=null}if(y=Ct)Ma(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dm(this,y);else{this.o=!1,this.s=3,wr(12),Ro(this),vu(this);break e}}if(this.P){y=!0;let mi;for(;!this.J&&this.C<Ae.length;)if(mi=mN(this,Ae),mi==Pm){ir==4&&(this.s=4,wr(14),y=!1),Ma(this.i,this.l,null,"[Incomplete Response]");break}else if(mi==Fb){this.s=4,wr(15),Ma(this.i,this.l,Ae,"[Invalid Chunk]"),y=!1;break}else Ma(this.i,this.l,mi,null),Dm(this,mi);if(Ub(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||Ae.length!=0||this.h.h||(this.s=1,wr(16),y=!1),this.o=this.o&&y,!y)Ma(this.i,this.l,Ae,"[Invalid Chunked Response]"),Ro(this),vu(this);else if(0<Ae.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Fm(rr),rr.M=!0,wr(11))}}else Ma(this.i,this.l,Ae,null),Dm(this,Ae);ir==4&&Ro(this),this.o&&!this.J&&(ir==4?fw(this.j,this):(this.o=!1,Gd(this)))}else DN(this.g),y==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,wr(12)):(this.s=0,wr(13)),Ro(this),vu(this)}}}catch{}finally{}};function Ub(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function mN(d,m){var y=d.C,N=m.indexOf(`
`,y);return N==-1?Pm:(y=Number(m.substring(y,N)),isNaN(y)?Fb:(N+=1,N+y>m.length?Pm:(m=m.slice(N,N+y),d.C=N+y,m)))}Ms.prototype.cancel=function(){this.J=!0,Ro(this)};function Gd(d){d.S=Date.now()+d.I,Bb(d,d.I)}function Bb(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=mu(f(d.ba,d),m)}function Rm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ms.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(fN(this.i,this.A),this.L!=2&&(pu(),wr(17)),Ro(this),this.s=2,vu(this)):Bb(this,this.S-d)};function vu(d){d.j.G==0||d.J||fw(d.j,d)}function Ro(d){Rm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Dm(d,m){try{var y=d.j;if(y.G!=0&&(y.g==d||xm(y.h,d))){if(!d.K&&xm(y.h,d)&&y.G==3){try{var N=y.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<d.F)ih(y),nh(y);else break e;Vm(y),wr(18)}}else y.za=J[1],0<y.za-y.T&&37500>J[2]&&y.F&&y.v==0&&!y.C&&(y.C=mu(f(y.Za,y),6e3));if(1>=Wb(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else xo(y,11)}else if((d.K||y.g==d)&&ih(y),!P(m))for(J=y.Da.g.parse(m),m=0;m<J.length;m++){let Ct=J[m];if(y.T=Ct[0],Ct=Ct[1],y.G==2)if(Ct[0]=="c"){y.K=Ct[1],y.ia=Ct[2];const rr=Ct[3];rr!=null&&(y.la=rr,y.j.info("VER="+y.la));const ir=Ct[4];ir!=null&&(y.Aa=ir,y.j.info("SVER="+y.Aa));const Fa=Ct[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(N=1.5*Fa,y.L=N,y.j.info("backChannelRequestTimeoutMs_="+N)),N=y;const mi=d.g;if(mi){const oh=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oh){var ne=N.h;ne.g||oh.indexOf("spdy")==-1&&oh.indexOf("quic")==-1&&oh.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Nm(ne,ne.h),ne.h=null))}if(N.D){const $m=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(N.ya=$m,Zt(N.I,N.D,$m))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-d.F,y.j.info("Handshake RTT: "+y.R+"ms")),N=y;var Ae=d;if(N.qa=gw(N,N.J?N.ia:null,N.W),Ae.K){qb(N.h,Ae);var Ht=Ae,qn=N.L;qn&&(Ht.I=qn),Ht.B&&(Rm(Ht),Gd(Ht)),N.g=Ae}else dw(N);0<y.i.length&&rh(y)}else Ct[0]!="stop"&&Ct[0]!="close"||xo(y,7);else y.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?xo(y,7):Lm(y):Ct[0]!="noop"&&y.l&&y.l.ta(Ct),y.v=0)}}pu(4)}catch{}}var gN=class{constructor(d,m){this.g=d,this.map=m}};function jb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Wb(d){return d.h?1:d.g?d.g.size:0}function xm(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Nm(d,m){d.g?d.g.add(m):d.h=m}function qb(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}jb.prototype.cancel=function(){if(this.i=zb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function zb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const y of d.g.values())m=m.concat(y.D);return m}return b(d.i)}function vN(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],y=d.length,N=0;N<y;N++)m.push(d[N]);return m}m=[],y=0;for(N in d)m[y++]=d[N];return m}function yN(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var y=0;y<d;y++)m.push(y);return m}m=[],y=0;for(const N in d)m[y++]=N;return m}}}function Kb(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var y=yN(d),N=vN(d),J=N.length,ne=0;ne<J;ne++)m.call(void 0,N[ne],y&&y[ne],d)}var Yb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _N(d,m){if(d){d=d.split("&");for(var y=0;y<d.length;y++){var N=d[y].indexOf("="),J=null;if(0<=N){var ne=d[y].substring(0,N);J=d[y].substring(N+1)}else ne=d[y];m(ne,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Do(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Do){this.h=d.h,Qd(this,d.j),this.o=d.o,this.g=d.g,Xd(this,d.s),this.l=d.l;var m=d.i,y=new bu;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Gb(this,y),this.m=d.m}else d&&(m=String(d).match(Yb))?(this.h=!1,Qd(this,m[1]||"",!0),this.o=yu(m[2]||""),this.g=yu(m[3]||"",!0),Xd(this,m[4]),this.l=yu(m[5]||"",!0),Gb(this,m[6]||"",!0),this.m=yu(m[7]||"")):(this.h=!1,this.i=new bu(null,this.h))}Do.prototype.toString=function(){var d=[],m=this.j;m&&d.push(_u(m,Qb,!0),":");var y=this.g;return(y||m=="file")&&(d.push("//"),(m=this.o)&&d.push(_u(m,Qb,!0),"@"),d.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&d.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&d.push("/"),d.push(_u(y,y.charAt(0)=="/"?TN:wN,!0))),(y=this.i.toString())&&d.push("?",y),(y=this.m)&&d.push("#",_u(y,IN)),d.join("")};function is(d){return new Do(d)}function Qd(d,m,y){d.j=y?yu(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Xd(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Gb(d,m,y){m instanceof bu?(d.i=m,SN(d.i,d.h)):(y||(m=_u(m,EN)),d.i=new bu(m,d.h))}function Zt(d,m,y){d.i.set(m,y)}function Jd(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function yu(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _u(d,m,y){return typeof d=="string"?(d=encodeURI(d).replace(m,bN),y&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function bN(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qb=/[#\/\?@]/g,wN=/[#\?:]/g,TN=/[#\?]/g,EN=/[#\?@]/g,IN=/#/g;function bu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ls(d){d.g||(d.g=new Map,d.h=0,d.i&&_N(d.i,function(m,y){d.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=bu.prototype,t.add=function(d,m){Ls(this),this.i=null,d=La(this,d);var y=this.g.get(d);return y||this.g.set(d,y=[]),y.push(m),this.h+=1,this};function Xb(d,m){Ls(d),m=La(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function Jb(d,m){return Ls(d),m=La(d,m),d.g.has(m)}t.forEach=function(d,m){Ls(this),this.g.forEach(function(y,N){y.forEach(function(J){d.call(m,J,N,this)},this)},this)},t.na=function(){Ls(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let N=0;N<m.length;N++){const J=d[N];for(let ne=0;ne<J.length;ne++)y.push(m[N])}return y},t.V=function(d){Ls(this);let m=[];if(typeof d=="string")Jb(this,d)&&(m=m.concat(this.g.get(La(this,d))));else{d=Array.from(this.g.values());for(let y=0;y<d.length;y++)m=m.concat(d[y])}return m},t.set=function(d,m){return Ls(this),this.i=null,d=La(this,d),Jb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function Zb(d,m,y){Xb(d,m),0<y.length&&(d.i=null,d.g.set(La(d,m),b(y)),d.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var N=m[y];const ne=encodeURIComponent(String(N)),Ae=this.V(N);for(N=0;N<Ae.length;N++){var J=ne;Ae[N]!==""&&(J+="="+encodeURIComponent(String(Ae[N]))),d.push(J)}}return this.i=d.join("&")};function La(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function SN(d,m){m&&!d.j&&(Ls(d),d.i=null,d.g.forEach(function(y,N){var J=N.toLowerCase();N!=J&&(Xb(this,N),Zb(this,J,y))},d)),d.j=m}function CN(d,m){const y=new gu;if(a.Image){const N=new Image;N.onload=p(Vs,y,"TestLoadImage: loaded",!0,m,N),N.onerror=p(Vs,y,"TestLoadImage: error",!1,m,N),N.onabort=p(Vs,y,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(Vs,y,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else m(!1)}function AN(d,m){const y=new gu,N=new AbortController,J=setTimeout(()=>{N.abort(),Vs(y,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:N.signal}).then(ne=>{clearTimeout(J),ne.ok?Vs(y,"TestPingServer: ok",!0,m):Vs(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(J),Vs(y,"TestPingServer: error",!1,m)})}function Vs(d,m,y,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(y)}catch{}}function ON(){this.g=new Wn}function PN(d,m,y){const N=y||"";try{Kb(d,function(J,ne){let Ae=J;u(J)&&(Ae=Be(J)),m.push(N+ne+"="+encodeURIComponent(Ae))})}catch(J){throw m.push(N+"type="+encodeURIComponent("_badmap")),J}}function Zd(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Zd,Hr),Zd.prototype.g=function(){return new eh(this.l,this.j)},Zd.prototype.i=function(d){return function(){return d}}({});function eh(d,m){Ke.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(eh,Ke),t=eh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Tu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ew(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ew(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?wu(this):Tu(this),this.readyState==3&&ew(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wu(this))},t.Qa=function(d){this.g&&(this.response=d,wu(this))},t.ga=function(){this.g&&wu(this)};function wu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Tu(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,d.push(y[0]+": "+y[1]),y=m.next();return d.join(`\r
`)};function Tu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function tw(d){let m="";return L(d,function(y,N){m+=N,m+=":",m+=y,m+=`\r
`}),m}function Mm(d,m,y){e:{for(N in y){var N=!1;break e}N=!0}N||(y=tw(y),typeof d=="string"?y!=null&&encodeURIComponent(String(y)):Zt(d,m,y))}function pn(d){Ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pn,Ke);var kN=/^https?$/i,RN=["POST","PUT"];t=pn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,y,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Om.g(),this.v=this.o?Na(this.o):Na(Om),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(ne){nw(this,ne);return}if(d=y||"",y=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)y.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())y.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(y.keys()).find(ne=>ne.toLowerCase()=="content-type"),J=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RN,m,void 0))||N||J||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Ae]of y)this.g.setRequestHeader(ne,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sw(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){nw(this,ne)}};function nw(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,rw(d),th(d)}function rw(d){d.A||(d.A=!0,z(d,"complete"),z(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,z(this,"complete"),z(this,"abort"),th(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),th(this,!0)),pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iw(this):this.bb())},t.bb=function(){iw(this)};function iw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ss(d)!=4||d.Z()!=2)){if(d.u&&ss(d)==4)xe(d.Ea,0,d);else if(z(d,"readystatechange"),ss(d)==4){d.h=!1;try{const Ae=d.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var N;if(N=Ae===0){var J=String(d.D).match(Yb)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),N=!kN.test(J?J.toLowerCase():"")}y=N}if(y)z(d,"complete"),z(d,"success");else{d.m=6;try{var ne=2<ss(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",rw(d)}}finally{th(d)}}}}function th(d,m){if(d.g){sw(d);const y=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||z(d,"ready");try{y.onreadystatechange=N}catch{}}}function sw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function ow(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function DN(d){const m={};d=(d.g&&2<=ss(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var y=C(d[N]);const J=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const ne=m[J]||[];m[J]=ne,ne.push(y)}w(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(d,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[d]||m}function aw(d){this.Aa=0,this.i=[],this.j=new gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,d),this.cb=Eu("retryDelaySeedMs",1e4,d),this.Wa=Eu("forwardChannelMaxRetries",2,d),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new jb(d&&d.concurrentRequestLimit),this.Da=new ON,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aw.prototype,t.la=8,t.G=1,t.connect=function(d,m,y,N){wr(0),this.W=d,this.H=m||{},y&&N!==void 0&&(this.H.OSID=y,this.H.OAID=N),this.F=this.X,this.I=gw(this,null,this.W),rh(this)};function Lm(d){if(lw(d),d.G==3){var m=d.U++,y=is(d.I);if(Zt(y,"SID",d.K),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),Iu(d,y),m=new Ms(d,d.j,m),m.L=2,m.v=Jd(is(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=vw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gd(m)}mw(d)}function nh(d){d.g&&(Fm(d),d.g.cancel(),d.g=null)}function lw(d){nh(d),d.u&&(a.clearTimeout(d.u),d.u=null),ih(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function rh(d){if(!Hb(d.h)&&!d.s){d.s=!0;var m=d.Ga;F||A(),V||(F(),V=!0),x.add(m,d),d.B=0}}function xN(d,m){return Wb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=mu(f(d.Ga,d,m),pw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Ms(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=T(ne),v(ne,this.S)):ne=this.S),this.m!==null||this.O||(J.H=ne,ne=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var N=this.i[y];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=cw(this,J,m),y=is(this.I),Zt(y,"RID",d),Zt(y,"CVER",22),this.D&&Zt(y,"X-HTTP-Session-Id",this.D),Iu(this,y),ne&&(this.O?m="headers="+encodeURIComponent(String(tw(ne)))+"&"+m:this.m&&Mm(y,this.m,ne)),Nm(this.h,J),this.Ua&&Zt(y,"TYPE","init"),this.P?(Zt(y,"$req",m),Zt(y,"SID","null"),J.T=!0,km(J,y,null)):km(J,y,m),this.G=2}}else this.G==3&&(d?uw(this,d):this.i.length==0||Hb(this.h)||uw(this))};function uw(d,m){var y;m?y=m.l:y=d.U++;const N=is(d.I);Zt(N,"SID",d.K),Zt(N,"RID",y),Zt(N,"AID",d.T),Iu(d,N),d.m&&d.o&&Mm(N,d.m,d.o),y=new Ms(d,d.j,y,d.B+1),d.m===null&&(y.H=d.o),m&&(d.i=m.D.concat(d.i)),m=cw(d,y,1e3),y.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Nm(d.h,y),km(y,N,m)}function Iu(d,m){d.H&&L(d.H,function(y,N){Zt(m,N,y)}),d.l&&Kb({},function(y,N){Zt(m,N,y)})}function cw(d,m,y){y=Math.min(d.i.length,y);var N=d.l?f(d.l.Na,d.l,d):null;e:{var J=d.i;let ne=-1;for(;;){const Ae=["count="+y];ne==-1?0<y?(ne=J[0].g,Ae.push("ofs="+ne)):ne=0:Ae.push("ofs="+ne);let Ht=!0;for(let qn=0;qn<y;qn++){let Ct=J[qn].g;const rr=J[qn].map;if(Ct-=ne,0>Ct)ne=Math.max(0,J[qn].g-100),Ht=!1;else try{PN(rr,Ae,"req"+Ct+"_")}catch{N&&N(rr)}}if(Ht){N=Ae.join("&");break e}}}return d=d.i.splice(0,y),m.D=d,N}function dw(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;F||A(),V||(F(),V=!0),x.add(m,d),d.v=0}}function Vm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=mu(f(d.Fa,d),pw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,hw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=mu(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wr(10),nh(this),hw(this))};function Fm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function hw(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=is(d.qa);Zt(m,"RID","rpc"),Zt(m,"SID",d.K),Zt(m,"AID",d.T),Zt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(m,"TO",d.ja),Zt(m,"TYPE","xmlhttp"),Iu(d,m),d.m&&d.o&&Mm(m,d.m,d.o),d.L&&(d.g.I=d.L);var y=d.g;d=d.ia,y.L=1,y.v=Jd(is(m)),y.m=null,y.P=!0,$b(y,d)}t.Za=function(){this.C!=null&&(this.C=null,nh(this),Vm(this),wr(19))};function ih(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function fw(d,m){var y=null;if(d.g==m){ih(d),Fm(d),d.g=null;var N=2}else if(xm(d.h,m))y=m.D,qb(d.h,m),N=1;else return;if(d.G!=0){if(m.o)if(N==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var J=d.B;N=zd(),z(N,new Mb(N,y)),rh(d)}else dw(d);else if(J=m.s,J==3||J==0&&0<m.X||!(N==1&&xN(d,m)||N==2&&Vm(d)))switch(y&&0<y.length&&(m=d.h,m.i=m.i.concat(y)),J){case 1:xo(d,5);break;case 4:xo(d,10);break;case 3:xo(d,6);break;default:xo(d,2)}}}function pw(d,m){let y=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(y*=2),y*m}function xo(d,m){if(d.j.info("Error code "+m),m==2){var y=f(d.fb,d),N=d.Xa;const J=!N;N=new Do(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qd(N,"https"),Jd(N),J?CN(N.toString(),y):AN(N.toString(),y)}else wr(2);d.G=0,d.l&&d.l.sa(m),mw(d),lw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wr(2)):(this.j.info("Failed to ping google.com"),wr(1))};function mw(d){if(d.G=0,d.ka=[],d.l){const m=zb(d.h);(m.length!=0||d.i.length!=0)&&(S(d.ka,m),S(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function gw(d,m,y){var N=y instanceof Do?is(y):new Do(y);if(N.g!="")m&&(N.g=m+"."+N.g),Xd(N,N.s);else{var J=a.location;N=J.protocol,m=m?m+"."+J.hostname:J.hostname,J=+J.port;var ne=new Do(null);N&&Qd(ne,N),m&&(ne.g=m),J&&Xd(ne,J),y&&(ne.l=y),N=ne}return y=d.D,m=d.ya,y&&m&&Zt(N,y,m),Zt(N,"VER",d.la),Iu(d,N),N}function vw(d,m,y){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new pn(new Zd({eb:y})):new pn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yw(){}t=yw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sh(){}sh.prototype.g=function(d,m){return new Wr(d,m)};function Wr(d,m){Ke.call(this),this.g=new aw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!P(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Va(this)}g(Wr,Ke),Wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){Lm(this.g)},Wr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var y={};y.__data__=d,d=y}else this.u&&(y={},y.__data__=Be(d),d=y);m.i.push(new gN(m.Ya++,d)),m.G==3&&rh(m)},Wr.prototype.N=function(){this.g.l=null,delete this.j,Lm(this.g),delete this.g,Wr.aa.N.call(this)};function _w(d){Cm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const y in m){d=y;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(_w,Cm);function bw(){Am.call(this),this.status=1}g(bw,Am);function Va(d){this.g=d}g(Va,yw),Va.prototype.ua=function(){z(this.g,"a")},Va.prototype.ta=function(d){z(this.g,new _w(d))},Va.prototype.sa=function(d){z(this.g,new bw)},Va.prototype.ra=function(){z(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,JO=function(){return new sh},XO=function(){return zd()},QO=ko,Lv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kd.NO_ERROR=0,Kd.TIMEOUT=8,Kd.HTTP_ERROR=6,qh=Kd,Lb.COMPLETE="complete",GO=Lb,Rb.EventType=fu,fu.OPEN="a",fu.CLOSE="b",fu.ERROR="c",fu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,qu=Rb,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,YO=pn}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new iu("@firebase/firestore");function Pu(){return la.logLevel}function Ue(t,...e){if(la.logLevel<=ht.DEBUG){const n=e.map(O_);la.debug(`Firestore (${su}): ${t}`,...n)}}function Cs(t,...e){if(la.logLevel<=ht.ERROR){const n=e.map(O_);la.error(`Firestore (${su}): ${t}`,...n)}}function Nl(t,...e){if(la.logLevel<=ht.WARN){const n=e.map(O_);la.warn(`Firestore (${su}): ${t}`,...n)}}function O_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw Cs(e),new Error(e)}function Ut(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class B4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j4{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ws,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string"),new ZO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string"),new ar(e)}}class H4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class W4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ut(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new q4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=K4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function Ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Qt(0,0))}static max(){return new st(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Gt extends Bc{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Gt(n)}static emptyPath(){return new Gt([])}}const Y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Bc{construct(e,n,r){return new Qn(e,n,r)}static isValidIdentifier(e){return Y4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Gt.fromString(e))}static fromName(e){return new Ye(Gt.fromString(e).popFirst(5))}static empty(){return new Ye(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Gt(e.slice()))}}function G4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new yo(i,Ye.empty(),e)}function Q4(t){return new yo(t.readTime,t.key,-1)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(st.min(),Ye.empty(),-1)}static max(){return new yo(st.max(),Ye.empty(),-1)}}function X4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==J4)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ge((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function eU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}P_.oe=-1;function Vp(t){return t==null}function Pf(t){return t===0&&1/t==-1/0}function tU(t){return typeof t=="number"&&Number.isInteger(t)&&!Pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class Vv{constructor(e,n){this.comparator=e,this.root=n||ao.EMPTY}insert(e,n){return new Vv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new Vv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}},bh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ao=class us{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??us.RED,this.left=i??us.EMPTY,this.right=s??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new us(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1;ao.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ao(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i1(this.data.getIterator())}getIteratorFrom(e){return new i1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class i1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new tr(Qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nP("Invalid base64 string: "+s):s}}(e);return new nr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(Ut(!!t),typeof t=="string"){let e=0;const n=nU.exec(t);if(Ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function k_(t){const e=t.mapValue.fields.__previous_value__;return Fp(e)?k_(e):e}function jc(t){const e=_o(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fp(t)?4:sU(t)?9007199254740991:iU(t)?10:11:rt()}function es(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jc(t).isEqual(jc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_o(i.timestampValue),a=_o(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ua(i.bytesValue).isEqual(ua(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _n(i.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _n(i.integerValue)===_n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=_n(i.doubleValue),a=_n(s.doubleValue);return o===a?Pf(o)===Pf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(r1(o)!==r1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!es(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function Wc(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function Ll(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=_n(s.integerValue||s.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return s1(t.timestampValue,e.timestampValue);case 4:return s1(jc(t),jc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ua(s),l=ua(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(_n(s.latitude),_n(o.latitude));return a!==0?a:Ot(_n(s.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return o1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:o1(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===wh.mapValue&&o===wh.mapValue)return 0;if(s===wh.mapValue)return 1;if(o===wh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Ll(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function s1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=_o(t),r=_o(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function o1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ll(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function Vl(t){return Fv(t)}function Fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Fv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Fv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function kf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $v(t){return!!t&&"integerValue"in t}function R_(t){return!!t&&"arrayValue"in t}function a1(t){return!!t&&"nullValue"in t}function l1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zh(t){return!!t&&"mapValue"in t}function iU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=Qn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ia(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(uc(this.value))}}function rP(t){const e=[];return Ia(t.fields,(n,r)=>{const i=new Qn([n]);if(zh(r)){const s=rP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dr(e,0,st.min(),st.min(),st.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,i){return new dr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new dr(e,2,n,st.min(),st.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,st.min(),st.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.position=e,this.inclusive=n}}function u1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ye.comparator(Ye.fromName(o.referenceValue),n.key):r=Ll(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function c1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function oU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{}class Sn extends iP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lU(e,n,r):n==="array-contains"?new dU(e,r):n==="in"?new hU(e,r):n==="not-in"?new fU(e,r):n==="array-contains-any"?new pU(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uU(e,r):new cU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ll(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends iP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xi(e,n)}matches(e){return sP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sP(t){return t.op==="and"}function oP(t){return aU(t)&&sP(t)}function aU(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Uv(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(oP(t))return t.filters.map(e=>Uv(e)).join(",");{const e=t.filters.map(n=>Uv(n)).join(",");return`${t.op}(${e})`}}function aP(t,e){return t instanceof Sn?function(r,i){return i instanceof Sn&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)}(t,e):t instanceof xi?function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aP(o,i.filters[a]),!0):!1}(t,e):void rt()}function lP(t){return t instanceof Sn?function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`}(t):t instanceof xi?function(n){return n.op.toString()+" {"+n.getFilters().map(lP).join(" ,")+"}"}(t):"Filter"}class lU extends Sn{constructor(e,n,r){super(e,n,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class uU extends Sn{constructor(e,n){super(e,"in",n),this.keys=uP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cU extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=uP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class dU extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R_(n)&&Wc(n.arrayValue,this.value)}}class hU extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}}class fU extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wc(this.value.arrayValue,n)}}class pU extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function d1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mU(t,e,n,r,i,s,o)}function D_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),e.ue=n}return e.ue}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c1(t.startAt,e.startAt)&&c1(t.endAt,e.endAt)}function Bv(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gU(t,e,n,r,i,s,o,a){return new Sa(t,e,n,r,i,s,o,a)}function $p(t){return new Sa(t)}function h1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N_(t){return t.collectionGroup!==null}function vl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tr(Qn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new qc(s,r))}),n.has(Qn.keyField().canonicalString())||e.ce.push(new qc(Qn.keyField(),r))}return e.ce}function Yi(t){const e=ot(t);return e.le||(e.le=vU(e,vl(t))),e.le}function vU(t,e){if(t.limitType==="F")return d1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qc(i.field,s)});const n=t.endAt?new Fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fl(t.startAt.position,t.startAt.inclusive):null;return d1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jv(t,e){const n=t.filters.concat([e]);return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rf(t,e,n){return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Up(t,e){return x_(Yi(t),Yi(e))&&t.limitType===e.limitType}function cP(t){return`${D_(Yi(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lP(i)).join(", ")}]`),Vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vl(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function Bp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=u1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,vl(r),i)||r.endAt&&!function(o,a,l){const u=u1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,vl(r),i))}(t,e)}function yU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dP(t){return(e,n)=>{let r=!1;for(const i of vl(t)){const s=_U(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _U(t,e,n){const r=t.field.isKeyField()?Ye.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ll(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new An(Ye.comparator);function As(){return bU}const hP=new An(Ye.comparator);function zu(...t){let e=hP;for(const n of t)e=e.insert(n.key,n);return e}function fP(t){let e=hP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wo(){return cc()}function pP(){return cc()}function cc(){return new ou(t=>t.toString(),(t,e)=>t.isEqual(e))}const wU=new An(Ye.comparator),TU=new tr(Ye.comparator);function ft(...t){let e=TU;for(const n of t)e=e.add(n);return e}const EU=new tr(Ot);function IU(){return EU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function mP(t){return{integerValue:""+t}}function SU(t,e){return tU(e)?mP(e):M_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this._=void 0}}function CU(t,e,n){return t instanceof Df?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Fp(s)&&(s=k_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof zc?vP(t,e):t instanceof Kc?yP(t,e):function(i,s){const o=gP(i,s),a=f1(o)+f1(i.Pe);return $v(o)&&$v(i.Pe)?mP(a):M_(i.serializer,a)}(t,e)}function AU(t,e,n){return t instanceof zc?vP(t,e):t instanceof Kc?yP(t,e):n}function gP(t,e){return t instanceof xf?function(r){return $v(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Df extends jp{}class zc extends jp{constructor(e){super(),this.elements=e}}function vP(t,e){const n=_P(e);for(const r of t.elements)n.some(i=>es(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kc extends jp{constructor(e){super(),this.elements=e}}function yP(t,e){let n=_P(e);for(const r of t.elements)n=n.filter(i=>!es(i,r));return{arrayValue:{values:n}}}class xf extends jp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function f1(t){return _n(t.integerValue||t.doubleValue)}function _P(t){return R_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zc&&i instanceof zc||r instanceof Kc&&i instanceof Kc?Ml(r.elements,i.elements,es):r instanceof xf&&i instanceof xf?es(r.Pe,i.Pe):r instanceof Df&&i instanceof Df}(t.transform,e.transform)}class PU{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hp{}function bP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L_(t.key,ci.none()):new Cd(t.key,t.data,ci.none());{const n=t.data,r=Vr.empty();let i=new tr(Qn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oo(t.key,r,new Kr(i.toArray()),ci.none())}}function kU(t,e,n){t instanceof Cd?function(i,s,o){const a=i.value.clone(),l=m1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(i,s,o){if(!Kh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=m1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dc(t,e,n,r){return t instanceof Cd?function(s,o,a,l){if(!Kh(s.precondition,o))return a;const u=s.value.clone(),c=g1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(s,o,a,l){if(!Kh(s.precondition,o))return a;const u=g1(s.fieldTransforms,l,o),c=o.data;return c.setAll(wP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Kh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function RU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gP(r.transform,i||null);s!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,s))}return n||null}function p1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,(s,o)=>OU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cd extends Hp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends Hp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function m1(t,e,n){const r=new Map;Ut(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,AU(o,a,n[i]))}return r}function g1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,CU(s,o,e))}return r}class L_ extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DU extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(n,r)=>p1(n,r))&&Ml(this.baseMutations,e.baseMutations,(n,r)=>p1(n,r))}}class V_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length);let i=function(){return wU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new V_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,_t;function LU(t){switch(t){default:return rt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function TP(t){if(t===void 0)return Cs("GRPC error has no .code"),le.UNKNOWN;switch(t){case In.OK:return le.OK;case In.CANCELLED:return le.CANCELLED;case In.UNKNOWN:return le.UNKNOWN;case In.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case In.INTERNAL:return le.INTERNAL;case In.UNAVAILABLE:return le.UNAVAILABLE;case In.UNAUTHENTICATED:return le.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case In.NOT_FOUND:return le.NOT_FOUND;case In.ALREADY_EXISTS:return le.ALREADY_EXISTS;case In.PERMISSION_DENIED:return le.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case In.ABORTED:return le.ABORTED;case In.OUT_OF_RANGE:return le.OUT_OF_RANGE;case In.UNIMPLEMENTED:return le.UNIMPLEMENTED;case In.DATA_LOSS:return le.DATA_LOSS;default:return rt()}}(_t=In||(In={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new Qo([4294967295,4294967295],0);function v1(t){const e=VU().encode(t),n=new KO;return n.update(e),new Uint8Array(n.digest())}function y1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,s],0)]}class F_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ku(`Invalid padding: ${n}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(FU)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=v1(e),[r,i]=y1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new F_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=v1(e),[r,i]=y1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wp(st.min(),i,new An(Ot),As(),ft())}}class Ad{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ad(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class EP{constructor(e,n){this.targetId=e,this.me=n}}class IP{constructor(e,n,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _1{constructor(){this.fe=0,this.ge=w1(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ft(),n=ft(),r=ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Ad(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=w1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $U{constructor(e){this.Le=e,this.Be=new Map,this.ke=As(),this.qe=b1(),this.Qe=new An(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Bv(s))if(r===0){const o=new Ye(s.path);this.Ue(n,o,dr.newNoDocument(o,st.min()))}else Ut(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ua(r).toUint8Array()}catch(l){if(l instanceof nP)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new F_(o,i,s)}catch(l){return Nl(l instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Bv(a.target)){const l=new Ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,dr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wp(e,n,this.Qe,this.ke,r);return this.ke=As(),this.qe=b1(),this.Qe=new An(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function b1(){return new An(Ye.comparator)}function w1(){return new An(Ye.comparator)}const UU={asc:"ASCENDING",desc:"DESCENDING"},BU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jU={and:"AND",or:"OR"};class HU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hv(t,e){return t.useProto3Json||Vp(e)?e:{value:e}}function Nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WU(t,e){return Nf(t,e.toTimestamp())}function Gi(t){return Ut(!!t),st.fromTimestamp(function(n){const r=_o(n);return new Qt(r.seconds,r.nanos)}(t))}function $_(t,e){return Wv(t,e).canonicalString()}function Wv(t,e){const n=function(i){return new Gt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CP(t){const e=Gt.fromString(t);return Ut(RP(e)),e}function qv(t,e){return $_(t.databaseId,e.path)}function hg(t,e){const n=CP(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(OP(n))}function AP(t,e){return $_(t.databaseId,e)}function qU(t){const e=CP(t);return e.length===4?Gt.emptyPath():OP(e)}function zv(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OP(t){return Ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T1(t,e,n){return{name:qv(t,e),fields:n.value.mapValue.fields}}function zU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ut(c===void 0||typeof c=="string"),nr.fromBase64String(c||"")):(Ut(c===void 0||c instanceof Buffer||c instanceof Uint8Array),nr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?le.UNKNOWN:TP(u.code);return new Pe(c,u.message||"")}(o);n=new IP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hg(t,r.document.name),s=Gi(r.document.updateTime),o=r.document.createTime?Gi(r.document.createTime):st.min(),a=new Vr({mapValue:{fields:r.document.fields}}),l=dr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Yh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hg(t,r.document),s=r.readTime?Gi(r.readTime):st.min(),o=dr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hg(t,r.document),s=r.removedTargetIds||[];n=new Yh([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new MU(i,s),a=r.targetId;n=new EP(a,o)}}return n}function KU(t,e){let n;if(e instanceof Cd)n={update:T1(t,e.key,e.value)};else if(e instanceof L_)n={delete:qv(t,e.key)};else if(e instanceof Oo)n={update:T1(t,e.key,e.data),updateMask:n6(e.fieldMask)};else{if(!(e instanceof DU))return rt();n={verify:qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Df)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:WU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function YU(t,e){return t&&t.length>0?(Ut(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gi(i.updateTime):Gi(s);return o.isEqual(st.min())&&(o=Gi(s)),new PU(o,i.transformResults||[])}(n,e))):[]}function GU(t,e){return{documents:[AP(t,e.path)]}}function QU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AP(t,i);const s=function(u){if(u.length!==0)return kP(xi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Xa(f.field),direction:ZU(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function XU(t){let e=qU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=PP(h);return f instanceof xi&&oP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new qc(Ja(g.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Vp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Fl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Fl(p,f)}(n.endAt)),gU(e,i,o,s,a,"F",l,u)}function JU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ja(n.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ja(n.unaryFilter.field);return Sn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ja(n.unaryFilter.field);return Sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return Sn.create(Ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xi.create(n.compositeFilter.filters.map(r=>PP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function ZU(t){return UU[t]}function e6(t){return BU[t]}function t6(t){return jU[t]}function Xa(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Qn.fromServerFormat(t.fieldPath)}function kP(t){return t instanceof Sn?function(n){if(n.op==="=="){if(l1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(a1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(a1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:e6(n.op),value:n.value}}}(t):t instanceof xi?function(n){const r=n.getFilters().map(i=>kP(i));return r.length===1?r[0]:{compositeFilter:{op:t6(n.op),filters:r}}}(t):rt()}function n6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,s=st.min(),o=st.min(),a=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.ct=e}}function i6(t){const e=XU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.un=new o6}addToCollectionParentIndex(e,n){return this.un.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(yo.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class o6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(Gt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $l(0)}static kn(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.changes=new ou(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dc(r.mutation,i,Kr.empty(),Qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const i=Wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=As();const o=cc(),a=function(){return cc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Oo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),dc(c.mutation,u,c.mutation.getFieldMask(),Qt.now())):o.set(u.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new l6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cc();let i=new An((o,a)=>o-a),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Kr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ft()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=pP();c.forEach(f=>{if(!s.has(f)){const p=bP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ge.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ge.resolve(Wo());let a=-1,l=s;return o.next(u=>ge.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ge.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ft())).next(c=>({batchId:a,changes:fP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next(r=>{let i=zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=zu();return this.indexManager.getCollectionParents(e,s).next(a=>ge.forEach(a,l=>{const u=function(h,f){return new Sa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,dr.newInvalidDocument(c)))});let a=zu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&dc(c.mutation,u,Kr.empty(),Qt.now()),Bp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ge.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:i6(i.bundledQuery),readTime:Gi(i.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.overlays=new An(Ye.comparator),this.Ir=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return ge.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Wo(),s=n.length+1,o=new Ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new An((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Wo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ge.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NU(n,r));let s=this.Ir.get(n);s===void 0&&(s=ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.Tr=new tr($n.Er),this.dr=new tr($n.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $n(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ye(new Gt([])),r=new $n(n,e),i=new $n(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ye(new Gt([])),r=new $n(n,e),i=new $n(n,e+1);let s=ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $n(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ye.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tr($n.Er)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new $n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ge.resolve(o)}lookupMutationBatch(e,n){return ge.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),i=new $n(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(Ot);return n.forEach(i=>{const s=new $n(i,0),o=new $n(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ge.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ye.isDocumentKey(s)||(s=s.child(""));const o=new $n(new Ye(s),0);let a=new tr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ge.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ge.forEach(n.mutations,i=>{const s=new $n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $n(n,0),i=this.br.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.Mr=e,this.docs=function(){return new An(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=As();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dr.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=As();const o=n.path,a=new Ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||X4(Q4(c),r)<=0||(i.has(c.key)||Bp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new m6(this)}getSize(e){return ge.resolve(this.size)}}class m6 extends a6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.persistence=e,this.Nr=new ou(n=>D_(n),x_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new U_,this.targetCount=0,this.kr=$l.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ge.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Kn(n),ge.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ge.waitFor(s).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ge.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new P_(0),this.Kr=!1,this.Kr=!0,this.$r=new h6,this.referenceDelegate=e(this),this.Ur=new g6(this),this.indexManager=new s6,this.remoteDocumentCache=function(i){return new p6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new r6(n),this.Gr=new c6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new f6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new y6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ge.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class y6 extends Z4{constructor(e){super(),this.currentSequenceNumber=e}}class B_{constructor(e){this.persistence=e,this.Jr=new U_,this.Yr=null}static Zr(e){return new B_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Xr,r=>{const i=Ye.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ge.or([()=>ge.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ft(),i=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new j_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return JV()?8:eU(br())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pu()<=ht.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ge.resolve()):(Pu()<=ht.DEBUG&&Ue("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pu()<=ht.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ge.resolve())}Yi(e,n){if(h1(n))return ge.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rf(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Rf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return h1(n)||i.isEqual(st.min())?ge.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ge.resolve(null):(Pu()<=ht.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.rs(e,o,n,G4(i,-1)).next(a=>a))})}ts(e,n){let r=new tr(dP(e));return n.forEach((i,s)=>{Bp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Pu()<=ht.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,yo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new An(Ot),this._s=new ou(s=>D_(s),x_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function T6(t,e,n,r){return new w6(t,e,n,r)}async function DP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ft();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function E6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ge.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(b=>{const S=u.docVersions.get(g);Ut(S!==null),b.version.compareTo(S)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xP(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function I6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(b,S,R){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=As(),u=ft();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(S6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ge.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function S6(t,e,n){let r=ft(),i=ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=As();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function C6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ge.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new no(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Kv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sd(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function E1(t,e,n){const r=ot(t);let i=st.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?ge.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:ft())).next(a=>(O6(r,yU(e),a),{documents:a,Ts:s})))}function O6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class I1{constructor(){this.activeTargetIds=IU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P6{constructor(){this.so=new I1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new I1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function fg(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class x6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=fg(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Nl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=R6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=fg();return new Promise((o,a)=>{const l=new YO;l.setWithCredentials(!0),l.listenOnce(GO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qh.NO_ERROR:const c=l.getResponseJson();Ue(sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case qh.TIMEOUT:Ue(sr,`RPC '${e}' ${s} timed out`),a(new Pe(le.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const h=l.getStatus();if(Ue(sr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(S){const R=S.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(R)>=0?R:le.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(le.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(le.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(sr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(sr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=fg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=JO(),a=XO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(sr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new D6({Io:S=>{p?Ue(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(Ue(sr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(sr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),b=(S,R,P)=>{S.listen(R,E=>{try{P(E)}catch(I){setTimeout(()=>{throw I},0)}})};return b(h,qu.EventType.OPEN,()=>{p||(Ue(sr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),b(h,qu.EventType.CLOSE,()=>{p||(p=!0,Ue(sr,`RPC '${e}' stream ${i} transport closed`),g.So())}),b(h,qu.EventType.ERROR,S=>{p||(p=!0,Nl(sr,`RPC '${e}' stream ${i} transport errored:`,S),g.So(new Pe(le.UNAVAILABLE,"The operation could not be completed")))}),b(h,qu.EventType.MESSAGE,S=>{var R;if(!p){const P=S.data[0];Ut(!!P);const E=P,I=E.error||((R=E[0])===null||R===void 0?void 0:R.error);if(I){Ue(sr,`RPC '${e}' stream ${i} received error:`,I);const M=I.status;let L=function(_){const v=In[_];if(v!==void 0)return TP(v)}(M),w=I.message;L===void 0&&(L=le.INTERNAL,w="Unknown error status: "+M+" with message "+I.message),p=!0,g.So(new Pe(L,w)),h.close()}else Ue(sr,`RPC '${e}' stream ${i} received:`,P),g.bo(P)}}),b(a,QO.STAT_EVENT,S=>{S.stat===Lv.PROXY?Ue(sr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Lv.NOPROXY&&Ue(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new HU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N6 extends MP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=zU(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Gi(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Bv(l)?{documents:GU(s,l)}:{query:QU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SP(s,o.resumeToken);const u=Hv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=Nf(s,o.snapshotVersion.toTimestamp());const u=Hv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=JU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zv(this.serializer),n.removeTarget=e,this.a_(n)}}class M6 extends MP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=YU(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KU(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Wv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(le.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Wv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(le.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class V6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cs(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ca(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await Od(u),u.q_.set("Unknown"),u.L_.delete(4),await zp(u)}(this))})}),this.q_=new V6(r,i)}}async function zp(t){if(Ca(t))for(const e of t.B_)await e(!0)}async function Od(t){for(const e of t.B_)await e(!1)}function LP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),z_(n)?q_(n):au(n).r_()&&W_(n,e))}function H_(t,e){const n=ot(t),r=au(n);n.N_.delete(e),r.r_()&&VP(n,e),n.N_.size===0&&(r.r_()?r.o_():Ca(n)&&n.q_.set("Unknown"))}function W_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}au(t).A_(e)}function VP(t,e){t.Q_.xe(e),au(t).R_(e)}function q_(t){t.Q_=new $U({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),au(t).start(),t.q_.v_()}function z_(t){return Ca(t)&&!au(t).n_()&&t.N_.size>0}function Ca(t){return ot(t).L_.size===0}function FP(t){t.Q_=void 0}async function $6(t){t.q_.set("Online")}async function U6(t){t.N_.forEach((e,n)=>{W_(t,e)})}async function B6(t,e){FP(t),z_(t)?(t.q_.M_(e),q_(t)):t.q_.set("Unknown")}async function j6(t,e,n){if(t.q_.set("Online"),e instanceof IP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mf(t,r)}else if(e instanceof Yh?t.Q_.Ke(e):e instanceof EP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await xP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(nr.EMPTY_BYTE_STRING,c.snapshotVersion)),VP(s,l);const h=new no(c.target,l,u,c.sequenceNumber);W_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Mf(t,r)}}async function Mf(t,e,n){if(!Sd(e))throw e;t.L_.add(1),await Od(t),t.q_.set("Offline"),n||(n=()=>xP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zp(t)})}function $P(t,e){return e().catch(n=>Mf(t,n,e))}async function Kp(t){const e=ot(t),n=bo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;H6(e);)try{const i=await C6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,W6(e,i)}catch(i){await Mf(e,i)}UP(e)&&BP(e)}function H6(t){return Ca(t)&&t.O_.length<10}function W6(t,e){t.O_.push(e);const n=bo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UP(t){return Ca(t)&&!bo(t).n_()&&t.O_.length>0}function BP(t){bo(t).start()}async function q6(t){bo(t).p_()}async function z6(t){const e=bo(t);for(const n of t.O_)e.m_(n.mutations)}async function K6(t,e,n){const r=t.O_.shift(),i=V_.from(r,e,n);await $P(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kp(t)}async function Y6(t,e){e&&bo(t).V_&&await async function(r,i){if(function(o){return LU(o)&&o!==le.ABORTED}(i.code)){const s=r.O_.shift();bo(r).s_(),await $P(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kp(r)}}(t,e),UP(t)&&BP(t)}async function C1(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Ca(n);n.L_.add(3),await Od(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zp(n)}async function G6(t,e){const n=ot(t);e?(n.L_.delete(2),await zp(n)):e||(n.L_.add(2),await Od(n),n.q_.set("Unknown"))}function au(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new N6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$6.bind(null,t),Ro:U6.bind(null,t),mo:B6.bind(null,t),d_:j6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),z_(t)?q_(t):t.q_.set("Unknown")):(await t.K_.stop(),FP(t))})),t.K_}function bo(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new M6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:q6.bind(null,t),mo:Y6.bind(null,t),f_:z6.bind(null,t),g_:K6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kp(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new K_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y_(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),Sd(t))return new Pe(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ye.comparator(n.key,r.key):(n,r)=>Ye.comparator(n.key,r.key),this.keyedMap=zu(),this.sortedSet=new An(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.W_=new An(Ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ul{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ul(e,n,yl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class X6{constructor(){this.queries=O1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=O1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(le.ABORTED,"Firestore shutting down"))}}function O1(){return new ou(t=>cP(t),Up)}async function G_(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Q6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Y_(o,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&X_(n)}async function Q_(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function J6(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&X_(n)}function Z6(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function X_(t){t.Y_.forEach(e=>{e.next()})}var Yv,P1;(P1=Yv||(Yv={})).ea="default",P1.Cache="cache";class J_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.key=e}}class HP{constructor(e){this.key=e}}class e9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ft(),this.mutatedKeys=ft(),this.Aa=dP(e),this.Ra=new yl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new A1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Bp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?g!==b&&(r.track({type:3,doc:p}),S=!0):this.ga(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const b=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return b(p)-b(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ul(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new A1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new HP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new jP(r))}),n}ba(e){this.Ta=e.Ts,this.da=ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ul.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n9{constructor(e){this.key=e,this.va=!1}}class r9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ou(a=>cP(a),Up),this.Ma=new Map,this.xa=new Set,this.Oa=new An(Ye.comparator),this.Na=new Map,this.La=new U_,this.Ba={},this.ka=new Map,this.qa=$l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function i9(t,e,n=!0){const r=GP(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await WP(r,e,n,!0),i}async function s9(t,e){const n=GP(t);await WP(n,e,!0,!1)}async function WP(t,e,n,r){const i=await A6(t.localStore,Yi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await o9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LP(t.remoteStore,i),a}async function o9(t,e,n,r,i){t.Ka=(h,f,p)=>async function(b,S,R,P){let E=S.view.ma(R);E.ns&&(E=await E1(b.localStore,S.query,!1).then(({documents:w})=>S.view.ma(w,E)));const I=P&&P.targetChanges.get(S.targetId),M=P&&P.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(E,b.isPrimaryClient,I,M);return R1(b,S.targetId,L.wa),L.snapshot}(t,h,f,p);const s=await E1(t.localStore,e,!0),o=new e9(e,s.Ts),a=o.ma(s.documents),l=Ad.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);R1(t,n,u.wa);const c=new t9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function a9(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Up(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&H_(r.remoteStore,i.targetId),Gv(r,i.targetId)}).catch(Id)):(Gv(r,i.targetId),await Kv(r.localStore,i.targetId,!0))}async function l9(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),H_(n.remoteStore,r.targetId))}async function u9(t,e,n){const r=g9(t);try{const i=await function(o,a){const l=ot(o),u=Qt.now(),c=a.reduce((p,g)=>p.add(g.key),ft());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=As(),b=ft();return l.cs.getEntries(p,c).next(S=>{g=S,g.forEach((R,P)=>{P.isValidDocument()||(b=b.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(S=>{h=S;const R=[];for(const P of a){const E=RU(P,h.get(P.key).overlayedDocument);E!=null&&R.push(new Oo(P.key,E,rP(E.value.mapValue),ci.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,R,a)}).next(S=>{f=S;const R=S.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,S.batchId,R)})}).then(()=>({batchId:f.batchId,changes:fP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new An(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Pd(r,i.changes),await Kp(r.remoteStore)}catch(i){const s=Y_(i,"Failed to persist write");n.reject(s)}}async function qP(t,e){const n=ot(t);try{const r=await I6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ut(o.va):i.removedDocuments.size>0&&(Ut(o.va),o.va=!1))}),await Pd(n,r,e)}catch(r){await Id(r)}}function k1(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&X_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c9(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new An(Ye.comparator);o=o.insert(s,dr.newNoDocument(s,st.min()));const a=ft().add(s),l=new Wp(st.min(),new Map,new An(Ot),o,a);await qP(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Z_(r)}else await Kv(r.localStore,e,!1).then(()=>Gv(r,e,n)).catch(Id)}async function d9(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await E6(n.localStore,e);KP(n,r,null),zP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pd(n,i)}catch(i){await Id(i)}}async function h9(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ut(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);KP(r,e,n),zP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pd(r,i)}catch(i){await Id(i)}}function zP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KP(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YP(t,r)})}function YP(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(H_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Z_(t))}function R1(t,e,n){for(const r of n)r instanceof jP?(t.La.addReference(r.key,e),f9(t,r)):r instanceof HP?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YP(t,r.key)):rt()}function f9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Z_(t))}function Z_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ye(Gt.fromString(e)),r=t.qa.next();t.Na.set(r,new n9(n)),t.Oa=t.Oa.insert(n,r),LP(t.remoteStore,new no(Yi($p(n.path)),r,"TargetPurposeLimboResolution",P_.oe))}}async function Pd(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=j_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ge.forEach(u,f=>ge.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ge.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Sd(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,b)}}}(r.localStore,s))}async function p9(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await DP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(le.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pd(n,r.hs)}}function m9(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return ft().add(r.key);{let i=ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function GP(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c9.bind(null,e),e.Ca.d_=J6.bind(null,e.eventManager),e.Ca.$a=Z6.bind(null,e.eventManager),e}function g9(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h9.bind(null,e),e}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return T6(this.persistence,new b6,e.initialUser,this.serializer)}Ga(e){return new v6(B_.Zr,this.serializer)}Wa(e){return new P6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class Qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p9.bind(null,this.syncEngine),await G6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X6}()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=function(s){return new x6(s)}(e.databaseInfo);return function(s,o,a,l){return new L6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new F6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k1(this.syncEngine,n,0),function(){return S1.D()?new S1:new k6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new r9(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Od(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qv.provider={build:()=>new Qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=eP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Y_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mg(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function D1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y9(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>C1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>C1(e.remoteStore,i)),t._onlineComponents=e}async function y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await mg(t,new Lf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await mg(t,new Lf);return t._offlineComponents}async function QP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await D1(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await D1(t,new Qv))),t._onlineComponents}function _9(t){return QP(t).then(e=>e.syncEngine)}async function Vf(t){const e=await QP(t),n=e.eventManager;return n.onListen=i9.bind(null,e.syncEngine),n.onUnlisten=a9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l9.bind(null,e.syncEngine),n}function b9(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new e0({next:f=>{c.Za(),o.enqueueAndForget(()=>Q_(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new J_($p(a.path),c,{includeMetadataChanges:!0,_a:!0});return G_(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}function w9(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new e0({next:f=>{c.Za(),o.enqueueAndForget(()=>Q_(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new J_(a,c,{includeMetadataChanges:!0,_a:!0});return G_(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e,n){if(!n)throw new Pe(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T9(t,e,n,r){if(e===!0&&r===!0)throw new Pe(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N1(t){if(!Ye.isDocumentKey(t))throw new Pe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M1(t){if(Ye.isDocumentKey(t))throw new Pe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function Br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yp(t);throw new Pe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function E9(t,e){if(e<=0)throw new Pe(le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U4;switch(r.type){case"firstParty":return new W4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=x1.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),x1.delete(n),r.terminate())}(this),Promise.resolve()}}function I9(t,e,n,r={}){var i;const s=(t=Br(t,Gp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ar.MOCK_USER;else{a=KA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ar(u)}t._authCredentials=new B4(new ZO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class lo extends ts{constructor(e,n,r){super(e,n,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Ye(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function lr(t,e,...n){if(t=Dt(t),JP("collection","path",e),t instanceof Gp){const r=Gt.fromString(e,...n);return M1(r),new lo(t,null,r)}{if(!(t instanceof yr||t instanceof lo))throw new Pe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return M1(r),new lo(t.firestore,null,r)}}function bt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=eP.newId()),JP("doc","path",e),t instanceof Gp){const r=Gt.fromString(e,...n);return N1(r),new yr(t,null,new Ye(r))}{if(!(t instanceof yr||t instanceof lo))throw new Pe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return N1(r),new yr(t.firestore,t instanceof lo?t.converter:null,new Ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NP(this,"async_queue_retry"),this.Vu=()=>{const r=pg();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ws;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sd(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=K_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function F1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends Gp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new V1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V1(e),this._firestoreClient=void 0,await e}}}function S9(t,e){const n=typeof t=="object"?t:Ed(),r=typeof t=="string"?t:e||"(default)",i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=qA("firestore");s&&I9(i,...s)}return i}function Qp(t){if(t._terminated)throw new Pe(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C9(t),t._firestoreClient}function C9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new rU(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,XP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new v9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(nr.fromBase64String(e))}catch(n){throw new Pe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=/^__.*__$/;class O9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cd(e,this.data,n,this.fieldTransforms)}}class ZP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ek(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class i0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new i0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ff(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ek(this.Cu)&&A9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class P9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}Qu(e,n,r,i=!1){return new i0({Cu:e,methodName:n,qu:r,path:Qn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new P9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tk(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);s0("Data must be an object, but it was:",o,r);const a=rk(r,o);let l,u;if(s.merge)l=new Kr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Xv(e,h,n);if(!o.contains(f))throw new Pe(le.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);sk(c,f)||c.push(f)}l=new Kr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new O9(new Vr(a),l,u)}class Jp extends t0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jp}}function k9(t,e,n,r){const i=t.Qu(1,e,n);s0("Data must be an object, but it was:",i,r);const s=[],o=Vr.empty();Ia(r,(l,u)=>{const c=o0(e,l,n);u=Dt(u);const h=i.Nu(c);if(u instanceof Jp)s.push(c);else{const f=Rd(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Kr(s);return new ZP(o,a,i.fieldTransforms)}function R9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Xv(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Xv(e,s[f])),l.push(s[f+1]);const u=[],c=Vr.empty();for(let f=a.length-1;f>=0;--f)if(!sk(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const b=o.Nu(p);if(g instanceof Jp)u.push(p);else{const S=Rd(g,b);S!=null&&(u.push(p),c.set(p,S))}}const h=new Kr(u);return new ZP(c,h,o.fieldTransforms)}function nk(t,e,n,r=!1){return Rd(n,t.Qu(r?4:3,e))}function Rd(t,e){if(ik(t=Dt(t)))return s0("Unsupported field value:",e,t),rk(t,e);if(t instanceof t0)return function(r,i){if(!ek(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Rd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qt.fromDate(r);return{timestampValue:Nf(i.serializer,s)}}if(r instanceof Qt){const s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nf(i.serializer,s)}}if(r instanceof n0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:SP(i.serializer,r._byteString)};if(r instanceof yr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof r0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return M_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yp(r)}`)}(t,e)}function rk(t,e){const n={};return tP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(r,i)=>{const s=Rd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ik(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof n0||t instanceof Bl||t instanceof yr||t instanceof t0||t instanceof r0)}function s0(t,e,n){if(!ik(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Xv(t,e,n){if((e=Dt(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return o0(t,e);throw Ff("Field path arguments must be of type string or ",t,!1,void 0,n)}const D9=new RegExp("[~\\*/\\[\\]]");function o0(t,e,n){if(e.search(D9)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ff(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(le.INVALID_ARGUMENT,a+t+l)}function sk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x9 extends a0{data(){return super.data()}}function Zp(t,e){return typeof e=="string"?o0(t,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l0{}class em extends l0{}function N9(t,e,...n){let r=[];e instanceof l0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof u0).length,a=s.filter(l=>l instanceof tm).length;if(o>1||o>0&&a>0)throw new Pe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tm extends em{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=this._parse(e);return lk(e._query,n),new ts(e.firestore,e.converter,jv(e._query,n))}_parse(e){const n=kd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){B1(h,c);const p=[];for(const g of h)p.push(U1(l,s,g));f={arrayValue:{values:p}}}else f=U1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||B1(h,c),f=nk(a,o,h,c==="in"||c==="not-in");return Sn.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ak(t,e,n){const r=e,i=Zp("where",t);return tm._create(i,r,n)}class u0 extends l0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new u0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)lk(o,l),o=jv(o,l)}(e._query,n),new ts(e.firestore,e.converter,jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c0 extends em{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(s,o)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function $1(t,e="asc"){const n=e,r=Zp("orderBy",t);return c0._create(r,n)}class d0 extends em{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new d0(e,n,r)}_apply(e){return new ts(e.firestore,e.converter,Rf(e._query,this._limit,this._limitType))}}function M9(t){return E9("limit",t),d0._create("limit",t,"F")}class h0 extends em{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new h0(e,n,r)}_apply(e){const n=V9(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,function(i,s){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function L9(...t){return h0._create("startAfter",t,!1)}function V9(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof a0)return function(s,o,a,l,u){if(!l)throw new Pe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of vl(s))if(h.field.isKeyField())c.push(kf(o,l.key));else{const f=l.data.field(h.field);if(Fp(f))throw new Pe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new Fl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=kd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(le.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const b=c[g];if(f[g].field.isKeyField()){if(typeof b!="string")throw new Pe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!N_(o)&&b.indexOf("/")!==-1)throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const S=o.path.child(Gt.fromString(b));if(!Ye.isDocumentKey(S))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const R=new Ye(S);p.push(kf(a,R))}else{const S=nk(l,u,b);p.push(S)}}return new Fl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function U1(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Pe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N_(e)&&n.indexOf("/")!==-1)throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!Ye.isDocumentKey(r))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kf(t,new Ye(r))}if(n instanceof yr)return kf(t,n._key);throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function B1(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F9{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ia(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>_n(o.doubleValue));return new r0(s)}convertGeoPoint(e){return new n0(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=k_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jc(e));default:return null}}convertTimestamp(e){const n=_o(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Ut(RP(r));const i=new Hc(r.get(1),r.get(3)),s=new Ye(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ck extends a0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gh extends ck{data(e={}){return super.data(e)}}class dk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gh(this._firestore,this._userDataWriter,r.key,r,new Yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Gh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Gh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:$9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){t=Br(t,yr);const e=Br(t.firestore,Os);return b9(Qp(e),t._key).then(n=>fk(e,t,n))}class f0 extends F9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}function U9(t){t=Br(t,ts);const e=Br(t.firestore,Os),n=Qp(e),r=new f0(e);return ok(t._query),w9(n,t._query).then(i=>new dk(e,r,t,i))}function B9(t,e,n){t=Br(t,yr);const r=Br(t.firestore,Os),i=uk(t.converter,e,n);return nm(r,[tk(kd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function j9(t,e,n,...r){t=Br(t,yr);const i=Br(t.firestore,Os),s=kd(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Xp?R9(s,"updateDoc",t._key,e,n,r):k9(s,"updateDoc",t._key,e),nm(i,[o.toMutation(t._key,ci.exists(!0))])}function H9(t){return nm(Br(t.firestore,Os),[new L_(t._key,ci.none())])}function W9(t,e){const n=Br(t.firestore,Os),r=bt(t),i=uk(t.converter,e);return nm(n,[tk(kd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function cre(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||F1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(F1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof yr)u=Br(t.firestore,Os),c=$p(t._key.path),l={next:h=>{e[o]&&e[o](fk(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Br(t,ts);u=Br(h.firestore,Os),c=h._query;const f=new f0(u);l={next:p=>{e[o]&&e[o](new dk(u,f,h,p))},error:e[o+1],complete:e[o+2]},ok(t._query)}return function(f,p,g,b){const S=new e0(b),R=new J_(p,S,g);return f.asyncQueue.enqueueAndForget(async()=>G_(await Vf(f),R)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>Q_(await Vf(f),R))}}(Qp(u),c,a,l)}function nm(t,e){return function(r,i){const s=new ws;return r.asyncQueue.enqueueAndForget(async()=>u9(await _9(r),i,s)),s.promise}(Qp(t),e)}function fk(t,e,n){const r=n.docs.get(e._key),i=new f0(t);return new ck(t,i,e._key,r,new Yu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){su=i})(Ao),jr(new Dr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Os(new j4(r.getProvider("auth-internal")),new z4(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),er(n1,"4.7.3",e),er(n1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebasestorage.googleapis.com",mk="storageBucket",q9=2*60*1e3,z9=10*60*1e3,K9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends ei{constructor(e,n,r=0){super(gg(e),`Firebase Storage: ${n} (${gg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function gg(t){return"storage/"+t}function p0(){const t="An unknown error occurred, please check the error payload for server response.";return new fn(ln.UNKNOWN,t)}function Y9(t){return new fn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function G9(t){return new fn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(ln.UNAUTHENTICATED,t)}function X9(){return new fn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function J9(t){return new fn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function gk(){return new fn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vk(){return new fn(ln.CANCELED,"User canceled the upload/download.")}function Z9(t){return new fn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function eB(t){return new fn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tB(){return new fn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mk+"' property when initializing the app?")}function yk(){return new fn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nB(){return new fn(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function rB(){return new fn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iB(t){return new fn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jv(t){return new fn(ln.INVALID_ARGUMENT,t)}function _k(){return new fn(ln.APP_DELETED,"The Firebase app was deleted.")}function sB(t){return new fn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hc(t,e){return new fn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ku(t){throw new fn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw eB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},b=n===pk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",R=new RegExp(`^https?://${b}/${i}/${S}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<E.length;I++){const M=E[I],L=M.regex.exec(e);if(L){const w=L[M.indices.bucket];let T=L[M.indices.path];T||(T=""),r=new Yr(w,T),M.postModify(r);break}}if(r==null)throw Z9(e);return r}}class oB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function f(){s&&clearTimeout(s)}function p(S,...R){if(u){f();return}if(S){f(),c.call(null,S,...R);return}if(l()||o){f(),c.call(null,S,...R);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let g=!1;function b(S){g||(g=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function lB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){return t!==void 0}function cB(t){return typeof t=="function"}function dB(t){return typeof t=="object"&&!Array.isArray(t)}function rm(t){return typeof t=="string"||t instanceof String}function j1(t){return m0()&&t instanceof Blob}function m0(){return typeof Blob<"u"}function H1(t,e,n,r){if(r<e)throw Jv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Eh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Xo.NO_ERROR,l=s.getStatus();if(!a||wk(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Xo.ABORT;r(!1,new Eh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Eh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());uB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=p0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?_k():vk();o(l)}else{const l=gk();o(l)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=aB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vB(t,e,n,r,i,s,o=!0){const a=bk(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return mB(u,e),fB(u,n),pB(u,s),gB(u,r),new hB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _B(...t){const e=yB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(m0())return new Blob(t);throw new fn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){if(typeof atob>"u")throw iB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vg{constructor(e,n){this.data=e,this.contentType=n||null}}function TB(t,e){switch(t){case Wi.RAW:return new vg(Tk(e));case Wi.BASE64:case Wi.BASE64URL:return new vg(Ek(t,e));case Wi.DATA_URL:return new vg(IB(e),SB(e))}throw p0()}function Tk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function EB(t){let e;try{e=decodeURIComponent(t)}catch{throw hc(Wi.DATA_URL,"Malformed data URL.")}return Tk(e)}function Ek(t,e){switch(t){case Wi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wB(e)}catch(i){throw i.message.includes("polyfill")?i:hc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Ik{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hc(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IB(t){const e=new Ik(t);return e.base64?Ek(Wi.BASE64,e.rest):EB(e.rest)}function SB(t){return new Ik(t).contentType}function CB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){let r=0,i="";j1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(j1(this.data_)){const r=this.data_,i=bB(r,e,n);return i===null?null:new Xs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xs(r,!0)}}static getBlob(...e){if(m0()){const n=e.map(r=>r instanceof Xs?r.data_:r);return new Xs(_B.apply(null,n))}else{const n=e.map(o=>rm(o)?TB(Wi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){let e;try{e=JSON.parse(t)}catch{return null}return dB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ck(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PB}}let Ih=null;function kB(t){return!rm(t)||t.length<2?t:Ck(t)}function Ak(){if(Ih)return Ih;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,o){return kB(o)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),Ih=t,Ih}function RB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function DB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return RB(r,t),r}function Ok(t,e,n){const r=Sk(e);return r===null?null:DB(t,r,n)}function xB(t,e,n,r){const i=Sk(e);if(i===null||!rm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=lu(f,n,r),g=bk({alt:"media",token:u});return p+g})[0]}function Pk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Aa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){if(!t)throw p0()}function g0(t,e){function n(r,i){const s=Ok(t,i,e);return Ts(s!==null),s}return n}function NB(t,e){function n(r,i){const s=Ok(t,i,e);return Ts(s!==null),xB(s,i,t.host,t._protocol)}return n}function Dd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=X9():i=Q9():n.getStatus()===402?i=G9(t.bucket):n.getStatus()===403?i=J9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function v0(t){const e=Dd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Y9(t.path)),s.serverResponse=i.serverResponse,s}return n}function MB(t,e,n){const r=e.fullServerUrl(),i=lu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Aa(i,s,g0(t,n),o);return a.errorHandler=v0(e),a}function LB(t,e,n){const r=e.fullServerUrl(),i=lu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Aa(i,s,NB(t,n),o);return a.errorHandler=v0(e),a}function VB(t,e){const n=e.fullServerUrl(),r=lu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Aa(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=v0(e),a}function FB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function kk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=FB(null,e)),r}function $B(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let I=0;I<2;I++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=kk(e,r,i),c=Pk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Xs.getBlob(h,r,f);if(p===null)throw yk();const g={name:u.fullPath},b=lu(s,t.host,t._protocol),S="POST",R=t.maxUploadRetryTime,P=new Aa(b,S,g0(t,n),R);return P.urlParams=g,P.headers=o,P.body=p.uploadData(),P.errorHandler=Dd(e),P}class $f{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function y0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ts(!1)}return Ts(!!n&&(e||["active"]).indexOf(n)!==-1),n}function UB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=kk(e,r,i),a={name:o.fullPath},l=lu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Pk(o,n),f=t.maxUploadRetryTime;function p(b){y0(b);let S;try{S=b.getResponseHeader("X-Goog-Upload-URL")}catch{Ts(!1)}return Ts(rm(S)),S}const g=new Aa(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Dd(e),g}function BB(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=y0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ts(!1)}h||Ts(!1);const f=Number(h);return Ts(!isNaN(f)),new $f(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Aa(n,o,s,a);return l.headers=i,l.errorHandler=Dd(e),l}const W1=256*1024;function jB(t,e,n,r,i,s,o,a){const l=new $f(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw nB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},b=r.slice(h,f);if(b===null)throw yk();function S(I,M){const L=y0(I,["active","final"]),w=l.current+c,T=r.size();let _;return L==="final"?_=g0(e,s)(I,M):_=null,new $f(w,T,L==="final",_)}const R="POST",P=e.maxUploadRetryTime,E=new Aa(n,R,S,P);return E.headers=g,E.body=b.uploadData(),E.progressCallback=a||null,E.errorHandler=Dd(t),E}const Nr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yg(t){switch(t){case"running":case"pausing":case"canceling":return Nr.RUNNING;case"paused":return Nr.PAUSED;case"success":return Nr.SUCCESS;case"canceled":return Nr.CANCELED;case"error":return Nr.ERROR;default:return Nr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n,r){if(cB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class WB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ku("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qB extends WB{initXhr(){this.xhr_.responseType="text"}}function Bo(){return new qB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Ak(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(wk(i.status,[]))if(s)i=gk();else{this.sleepTime=Math.max(this.sleepTime*2,K9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=UB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=BB(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Bo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=W1*this._chunkMultiplier,n=new $f(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=jB(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Bo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){W1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=MB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=$B(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=vk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new HB(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yg(this._state)){case Nr.SUCCESS:ja(this._resolve.bind(null,this.snapshot))();break;case Nr.CANCELED:case Nr.ERROR:const n=this._reject;ja(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yg(this._state)){case Nr.RUNNING:case Nr.PAUSED:e.next&&ja(e.next.bind(e,this.snapshot))();break;case Nr.SUCCESS:e.complete&&ja(e.complete.bind(e))();break;case Nr.CANCELED:case Nr.ERROR:e.error&&ja(e.error.bind(e,this._error))();break;default:e.error&&ja(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new da(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ck(this._location.path)}get storage(){return this._service}get parent(){const e=AB(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sB(e)}}function KB(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new zB(t,new Xs(e),n)}function YB(t){t._throwIfRoot("getDownloadURL");const e=LB(t.storage,t._location,Ak());return t.storage.makeRequestWithTokens(e,Bo).then(n=>{if(n===null)throw rB();return n})}function GB(t){t._throwIfRoot("deleteObject");const e=VB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Bo)}function QB(t,e){const n=OB(t._location.path,e),r=new Yr(t._location.bucket,n);return new da(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){return/^[A-Za-z]+:\/\//.test(t)}function JB(t,e){return new da(t,e)}function Rk(t,e){if(t instanceof _0){const n=t;if(n._bucket==null)throw tB();const r=new da(n,n._bucket);return e!=null?Rk(r,e):r}else return e!==void 0?QB(t,e):t}function ZB(t,e){if(e&&XB(e)){if(t instanceof _0)return JB(t,e);throw Jv("To use ref(service, url), the first argument must be a Storage instance.")}else return Rk(t,e)}function q1(t,e){const n=e==null?void 0:e[mk];return n==null?null:Yr.makeFromBucketSpec(n,t)}function e5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:KA(i,t.app.options.projectId))}class _0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=pk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q9,this._maxUploadRetryTime=z9,this._requests=new Set,i!=null?this._bucket=Yr.makeFromBucketSpec(i,this._host):this._bucket=q1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=q1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oB(_k());{const o=vB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const z1="@firebase/storage",K1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="storage";function t5(t,e,n){return t=Dt(t),KB(t,e,n)}function dre(t){return t=Dt(t),YB(t)}function n5(t){return t=Dt(t),GB(t)}function r5(t,e){return t=Dt(t),ZB(t,e)}function i5(t=Ed(),e){t=Dt(t);const r=xs(t,Dk).getImmediate({identifier:e}),i=qA("storage");return i&&s5(r,...i),r}function s5(t,e,n,r={}){e5(t,e,n,r)}function o5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _0(n,r,i,e,Ao)}function a5(){jr(new Dr(Dk,o5,"PUBLIC").setMultipleInstances(!0)),er(z1,K1,""),er(z1,K1,"esm2017")}a5();let Sh;const l5=new Uint8Array(16);function u5(){if(!Sh&&(Sh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sh(l5)}const Kn=[];for(let t=0;t<256;++t)Kn.push((t+256).toString(16).slice(1));function c5(t,e=0){return Kn[t[e+0]]+Kn[t[e+1]]+Kn[t[e+2]]+Kn[t[e+3]]+"-"+Kn[t[e+4]]+Kn[t[e+5]]+"-"+Kn[t[e+6]]+Kn[t[e+7]]+"-"+Kn[t[e+8]]+Kn[t[e+9]]+"-"+Kn[t[e+10]]+Kn[t[e+11]]+Kn[t[e+12]]+Kn[t[e+13]]+Kn[t[e+14]]+Kn[t[e+15]]}const d5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Y1={randomUUID:d5};function h5(t,e,n){if(Y1.randomUUID&&!e&&!t)return Y1.randomUUID();t=t||{};const r=t.random||(t.rng||u5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return c5(r)}const Yn=class Yn{constructor(e,n,r={},i,s){os(this,"errorCode");this.errorCode=s,Yn.log(r.debug,n),r.route&&$D.push({name:r.route}),P2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};os(Yn,"success",(e,n={})=>new Yn("Success",e,n)),os(Yn,"update",(e,n={})=>new Yn("Warning",e,n,"Update")),os(Yn,"warning",(e,n={})=>new Yn("Warning",e,n)),os(Yn,"error",(e,n={})=>new Yn("Error",e,n)),os(Yn,"generalError",(e,n,r)=>new Yn("Error",(n==null?void 0:n.message)||xk,{debug:e},void 0,r)),os(Yn,"firebaseError",(e,n)=>{Yn.log(e,n);let r;return n instanceof ei&&Object.keys(Ch).includes(n.code)?(r=n.code,n.message=Ch[r]):n instanceof Error&&Object.keys(Ch).includes(n.name)?(r=n.name,n.message=Ch[r]):n.message=void 0,Yn.generalError(e,n,r)}),os(Yn,"log",(e,n)=>{e&&console.log(n)});let Ve=Yn;const xk="Something went wrong";var Nk=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(Nk||{});const G1=t=>Object.values(Nk).includes(t),Ch={"":xk,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};function b0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f5=Mk,Lk=new Co("auth","Firebase",Mk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new iu("@firebase/auth");function p5(t,...e){Uf.logLevel<=ht.WARN&&Uf.warn(`Auth (${Ao}): ${t}`,...e)}function Qh(t,...e){Uf.logLevel<=ht.ERROR&&Uf.error(`Auth (${Ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw w0(t,...e)}function Qi(t,...e){return w0(t,...e)}function Vk(t,e,n){const r=Object.assign(Object.assign({},f5()),{[e]:n});return new Co("auth","Firebase",r).create(e,{appName:t.name})}function Xi(t){return Vk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Lk.create(t,...e)}function Je(t,e,...n){if(!t)throw w0(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function Ps(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m5(){return Q1()==="http:"||Q1()==="https:"}function Q1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m5()||YA()||"connection"in navigator)?navigator.onLine:!0}function v5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=g_()||GA()}get(){return g5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new xd(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return $k(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ru(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return QV()||(u.referrerPolicy="no-referrer"),Fk.fetch()(Uk(t,t.config.apiHost,n,a),u)})}async function $k(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y5),e);try{const i=new w5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ah(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ah(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ah(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Vk(t,c,u);Ni(t,c)}}catch(i){if(i instanceof ei)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function Nd(t,e,n,r,i={}){const s=await ns(t,e,n,r,i);return"mfaPendingCredential"in s&&Ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Uk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?T0(t.config,i):`${t.config.apiScheme}://${i}`}function b5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),_5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function X1(t){return t!==void 0&&t.enterprise!==void 0}class T5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function E5(t,e){return ns(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Bk(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S5(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=E0(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fc(_g(i.auth_time)),issuedAtTime:fc(_g(i.iat)),expirationTime:fc(_g(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _g(t){return Number(t)*1e3}function E0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=If(n);return i?JSON.parse(i):(Qh("Failed to decode base64 JWT payload"),null)}catch(i){return Qh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J1(t){const e=E0(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&C5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function C5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jl(t,Bk(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jk(s.providerUserInfo):[],a=P5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ey(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function O5(t){const e=Dt(t);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jk(t){return t.map(e=>{var{providerId:n}=e,r=b0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){const n=await $k(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Uk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R5(t,e){return ns(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=J1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _l;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=b0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S5(this,e)}reload(){return O5(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await jl(this,I5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:I,isAnonymous:M,providerData:L,stsTokenManager:w}=n;Je(E&&w,e,"internal-error");const T=_l.fromJSON(this.name,w);Je(typeof E=="string",e,"internal-error"),Us(h,e.name),Us(f,e.name),Je(typeof I=="boolean",e,"internal-error"),Je(typeof M=="boolean",e,"internal-error"),Us(p,e.name),Us(g,e.name),Us(b,e.name),Us(S,e.name),Us(R,e.name),Us(P,e.name);const _=new vs({uid:E,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:T,createdAt:R,lastLoginAt:P});return L&&Array.isArray(L)&&(_.providerData=L.map(v=>Object.assign({},v))),S&&(_._redirectEventId=S),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _l;a.updateFromIdToken(r);const l=new vs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ey(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Map;function ys(t){Ps(t instanceof Function,"Expected a class definition");let e=Z1.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hk.type="NONE";const eE=Hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(ys(eE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ys(eE);const o=Xh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=vs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new bl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gk(e))return"Blackberry";if(Qk(e))return"Webos";if(qk(e))return"Safari";if((e.includes("chrome/")||zk(e))&&!e.includes("edge/"))return"Chrome";if(Yk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wk(t=br()){return/firefox\//i.test(t)}function qk(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zk(t=br()){return/crios\//i.test(t)}function Kk(t=br()){return/iemobile/i.test(t)}function Yk(t=br()){return/android/i.test(t)}function Gk(t=br()){return/blackberry/i.test(t)}function Qk(t=br()){return/webos/i.test(t)}function I0(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D5(t=br()){var e;return I0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x5(){return XV()&&document.documentMode===10}function Xk(t=br()){return I0(t)||Yk(t)||Qk(t)||Gk(t)||/windows phone/i.test(t)||Kk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e=[]){let n;switch(t){case"Browser":n=tE(br());break;case"Worker":n=`${tE(br())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e={}){return ns(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=6;class V5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:L5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new N5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bk(this,{idToken:e}),r=await vs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Xi(this));const n=e?Dt(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M5(this),n=new V5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oa(t){return Dt(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=oF(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $5(t){im=t}function Zk(t){return im.loadJS(t)}function U5(){return im.recaptchaEnterpriseScript}function B5(){return im.gapiScript}function j5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const H5="recaptcha-enterprise",W5="NO_RECAPTCHA";class q5{constructor(e){this.type=H5,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{E5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new T5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;X1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(W5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&X1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=U5();l.length!==0&&(l+=a),Zk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function rE(t,e,n,r=!1){const i=new q5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function jf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e){const n=xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vc(s,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function K5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function Y5(t,e){return ns(t,"POST","/v1/accounts:update",e)}async function G5(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e){return Nd(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function X5(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",Ns(t,e))}async function J5(t,e){return X5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function ej(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends S0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,n,"signInWithPassword",Q5);case"emailLink":return Z5(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,r,"signUpPassword",G5);case"emailLink":return ej(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return Nd(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="http://localhost";class ha extends S0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=b0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ha(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:tj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rj(t){const e=Hu(Wu(t)).link,n=e?Hu(Wu(e)).deep_link_id:null,r=Hu(Wu(t)).deep_link_id;return(r?Hu(Wu(r)).link:null)||r||n||e||t}class C0{constructor(e){var n,r,i,s,o,a;const l=Hu(Wu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=nj((i=l.mode)!==null&&i!==void 0?i:null);Je(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rj(e);try{return new C0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=C0.parseLink(n);return Je(r,"argument-error"),Yc._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends eR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Md{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Md{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Md{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(t,e){return Nd(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vs._fromIdTokenResponse(e,r,i),o=iE(r);return new fa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iE(r);return new fa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hf(e,n,r,i)}}function tR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(t,s,e,r):s})}async function sj(t,e,n=!1){const r=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e,n=!1){const{auth:r}=t;if(Ti(r.app))return Promise.reject(Xi(r));const i="reauthenticate";try{const s=await jl(t,tR(r,i,e,t),n);Je(s.idToken,r,"internal-error");const o=E0(s.idToken);Je(o,r,"internal-error");const{sub:a}=o;return Je(t.uid===a,r,"user-mismatch"),fa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e,n=!1){if(Ti(t.app))return Promise.reject(Xi(t));const r="signIn",i=await tR(t,r,e),s=await fa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function oj(t,e){return rR(Oa(t),e)}async function sE(t,e){return nR(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e,n){var r;Je(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lj(t,e,n){const r=Oa(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&aj(r,i,n),await jf(r,i,"getOobCode",J5)}async function uj(t,e,n){if(Ti(t.app))return Promise.reject(Xi(t));const r=Oa(t),o=await jf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ij).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iR(t),l}),a=await fa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cj(t,e,n){return Ti(t.app)?Promise.reject(Xi(t)):oj(Dt(t),wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iR(t),r})}function dj(t,e){const n=Dt(t);return Ti(n.auth.app)?Promise.reject(Xi(n.auth)):sR(n,e,null)}function hj(t,e){return sR(Dt(t),null,e)}async function sR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await jl(t,Y5(r,s));await t._updateTokensIfNecessary(o,!0)}function fj(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function pj(t){return Dt(t).signOut()}async function mj(t){return Dt(t).delete()}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=1e3,vj=10;class aR extends oR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);x5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aR.type="LOCAL";const yj=aR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR extends oR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lR.type="SESSION";const uR=lR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _j(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=A0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function wj(t){Ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function Tj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ej(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ij(){return cR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebaseLocalStorageDb",Sj=1,qf="firebaseLocalStorage",hR="fbase_key";class Ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function Cj(){const t=indexedDB.deleteDatabase(dR);return new Ld(t).toPromise()}function ty(){const t=indexedDB.open(dR,Sj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qf,{keyPath:hR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qf)?e(r):(r.close(),await Cj(),e(await ty()))})})}async function oE(t,e,n){const r=om(t,!0).put({[hR]:e,value:n});return new Ld(r).toPromise()}async function Aj(t,e){const n=om(t,!1).get(e),r=await new Ld(n).toPromise();return r===void 0?null:r.value}function aE(t,e){const n=om(t,!0).delete(e);return new Ld(n).toPromise()}const Oj=800,Pj=3;class fR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Pj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sm._getInstance(Ij()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Tj(),!this.activeServiceWorker)return;this.sender=new bj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ej()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await oE(e,Wf,"1"),await aE(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Aj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=om(i,!1).getAll();return new Ld(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Oj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fR.type="LOCAL";const kj=fR;new xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t,e){return e?ys(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends S0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dj(t){return rR(t.auth,new O0(t),t.bypassAuthState)}function xj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),nR(n,new O0(t),t.bypassAuthState)}async function Nj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),sj(n,new O0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dj;case"linkViaPopup":case"linkViaRedirect":return Nj;case"reauthViaPopup":case"reauthViaRedirect":return xj;default:Ni(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new xd(2e3,1e4);class rl extends pR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=A0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mj.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="pendingRedirect",Jh=new Map;class Vj extends pR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const r=await Fj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fj(t,e){const n=Bj(e),r=Uj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $j(t,e){Jh.set(t._key(),e)}function Uj(t){return ys(t._redirectPersistence)}function Bj(t){return Xh(Lj,t.config.apiKey,t.name)}async function jj(t,e,n=!1){if(Ti(t.app))return Promise.reject(Xi(t));const r=Oa(t),i=Rj(r,e),o=await new Vj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=10*60*1e3;class Wj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hj&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yj=/^https?/;async function Gj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zj(t);for(const n of e)try{if(Qj(n))return}catch{}Ni(t,"unauthorized-domain")}function Qj(t){const e=Zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Yj.test(n))return!1;if(Kj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=new xd(3e4,6e4);function uE(){const t=Ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jj(t){return new Promise((e,n)=>{var r,i,s;function o(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(Qi(t,"network-request-failed"))},timeout:Xj.get()})}if(!((i=(r=Ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ji().gapi)===null||s===void 0)&&s.load)o();else{const a=j5("iframefcb");return Ji()[a]=()=>{gapi.load?o():n(Qi(t,"network-request-failed"))},Zk(`${B5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function Zj(t){return Zh=Zh||Jj(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=new xd(5e3,15e3),tH="__/auth/iframe",nH="emulator/auth/iframe",rH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sH(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?T0(e,nH):`https://${t.config.authDomain}/${tH}`,r={apiKey:e.apiKey,appName:t.name,v:Ao},i=iH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ru(r).slice(1)}`}async function oH(t){const e=await Zj(t),n=Ji().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:sH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qi(t,"network-request-failed"),a=Ji().setTimeout(()=>{s(o)},eH.get());function l(){Ji().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lH=500,uH=600,cH="_blank",dH="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hH(t,e,n,r=lH,i=uH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=br().toLowerCase();n&&(a=zk(u)?cH:n),Wk(u)&&(e=e||dH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(D5(u)&&a!=="_self")return fH(e||"",a),new cE(null);const h=window.open(e||"",a,c);Je(h,t,"popup-blocked");try{h.focus()}catch{}return new cE(h)}function fH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH="__/auth/handler",mH="emulator/auth/handler",gH=encodeURIComponent("fac");async function dE(t,e,n,r,i,s){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ao,eventId:i};if(e instanceof eR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Iv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Md){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${gH}=${encodeURIComponent(l)}`:"";return`${vH(t)}?${ru(a).slice(1)}${u}`}function vH({config:t}){return t.emulator?T0(t,mH):`https://${t.authDomain}/${pH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class yH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uR,this._completeRedirectFn=jj,this._overrideRedirectResult=$j}async _openPopup(e,n,r,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dE(e,n,r,Zv(),i);return hH(e,o,A0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dE(e,n,r,Zv(),i);return wj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oH(e),r=new Wj(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bg];o!==void 0&&n(!!o),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xk()||qk()||I0()}}const _H=yH;var hE="@firebase/auth",fE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TH(t){jr(new Dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jk(t)},u=new F5(r,i,s,l);return K5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new Dr("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new bH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(hE,fE,wH(t)),er(hE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=5*60;YV("authIdTokenMaxAge");function IH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TH("Browser");const gR=Symbol("firebaseApp");function P0(t){return Zr()&&kr(gR,null)||Ed(t)}const SH=typeof window<"u",Oh=new WeakMap;function CH(t,e){if(!Oh.has(t)){const n=zy(!0);Oh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Oh.delete(t)}}return Oh.get(t)}const vR=new WeakMap;function AH(t){return vR.get(P0(t))}const Ph=new WeakMap;function OH(t){const e=P0(t);if(!Ph.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Ph.set(e,s),n(s.value)}];Ph.set(e,i)}return Ph.get(e)}function PH(t,e){fj(e,n=>{const r=OH();t.value=n,Array.isArray(r)&&r[1](t)})}var pE={};const mE="@firebase/database",gE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yR="";function kH(t){yR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Lc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new RH(e)}}catch{}return new DH},qo=_R("localStorage"),ny=_R("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new iu("@firebase/database"),xH=function(){let t=1;return function(){return t++}}(),bR=function(t){const e=cF(t),n=new sF;n.update(e);const r=n.digest();return Op.encodeByteArray(r)},Vd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Vd.apply(null,r):typeof r=="object"?e+=Gn(r):e+=r,e+=" "}return e};let Jo=null,vE=!0;const NH=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Tl.logLevel=ht.VERBOSE,Jo=Tl.log.bind(Tl),e&&ny.set("logging_enabled",!0)):typeof t=="function"?Jo=t:(Jo=null,ny.remove("logging_enabled"))},hr=function(...t){if(vE===!0&&(vE=!1,Jo===null&&ny.get("logging_enabled")===!0&&NH(!0)),Jo){const e=Vd.apply(null,t);Jo(e)}},Fd=function(t){return function(...e){hr(t,...e)}},ry=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vd(...t);Tl.error(e)},pa=function(...t){const e=`FIREBASE FATAL ERROR: ${Vd(...t)}`;throw Tl.error(e),new Error(e)},Jr=function(...t){const e="FIREBASE WARNING: "+Vd(...t);Tl.warn(e)},MH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},LH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hl="[MIN_NAME]",ma="[MAX_NAME]",uu=function(t,e){if(t===e)return 0;if(t===Hl||e===ma)return-1;if(e===Hl||t===ma)return 1;{const n=yE(t),r=yE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},VH=function(t,e){return t===e?0:t<e?-1:1},Ru=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Gn(e))},k0=function(t){if(typeof t!="object"||t===null)return Gn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Gn(e[r]),n+=":",n+=k0(t[e[r]]);return n+="}",n},TR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function di(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ER=function(t){ke(!wR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},FH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$H=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},UH=new RegExp("^-?(0*)\\d{1,10}$"),BH=-2147483648,jH=2147483647,yE=function(t){if(UH.test(t)){const e=Number(t);if(e>=BH&&e<=jH)return e}return null},$d=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jr("Exception was thrown by user callback.",n),e},Math.floor(0))}},HH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Jr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(hr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jr(e)}}class iy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}iy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="5",IR="v",SR="s",CR="r",AR="f",OR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,PR="ls",kR="p",sy="ac",RR="websocket",DR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function KH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function xR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===RR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===DR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KH(t)&&(n.ns=t.namespace);const i=[];return di(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(){this.counters_={}}incrementCounter(e,n=1){Ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg={},Tg={};function D0(t){const e=t.toString();return wg[e]||(wg[e]=new YH),wg[e]}function GH(t,e){const n=t.toString();return Tg[n]||(Tg[n]=e()),Tg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$d(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="start",XH="close",JH="pLPCommand",ZH="pRTLPCB",NR="id",MR="pw",LR="ser",e7="cb",t7="seg",n7="ts",r7="d",i7="dframe",VR=1870,FR=30,s7=VR-FR,o7=25e3,a7=3e4;class il{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fd(e),this.stats_=D0(n),this.urlFn=l=>(this.appCheckToken&&(l[sy]=this.appCheckToken),xR(n,DR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new QH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(a7)),LH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new x0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_E)this.id=a,this.password=l;else if(o===XH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[_E]="t",r[LR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[e7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[IR]=R0,this.transportSessionId&&(r[SR]=this.transportSessionId),this.lastSessionId&&(r[PR]=this.lastSessionId),this.applicationId&&(r[kR]=this.applicationId),this.appCheckToken&&(r[sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&OR.test(location.hostname)&&(r[CR]=AR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){il.forceAllow_=!0}static forceDisallow(){il.forceDisallow_=!0}static isAvailable(){return il.forceAllow_?!0:!il.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FH()&&!$H()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jA(n),i=TR(r,s7);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[i7]="t",r[NR]=e,r[MR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class x0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xH(),window[JH+this.uniqueCallbackIdentifier]=e,window[ZH+this.uniqueCallbackIdentifier]=n,this.myIFrame=x0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){hr("frame writing exception"),a.stack&&hr(a.stack),hr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||hr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[NR]=this.myID,e[MR]=this.myPW,e[LR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FR+r.length<=VR;){const o=this.pendingSegs.shift();r=r+"&"+t7+i+"="+o.seg+"&"+n7+i+"="+o.ts+"&"+r7+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(o7)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{hr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=16384,u7=45e3;let zf=null;typeof MozWebSocket<"u"?zf=MozWebSocket:typeof WebSocket<"u"&&(zf=WebSocket);class bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fd(this.connId),this.stats_=D0(n),this.connURL=bi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[IR]=R0,typeof location<"u"&&location.hostname&&OR.test(location.hostname)&&(o[CR]=AR),n&&(o[SR]=n),r&&(o[PR]=r),i&&(o[sy]=i),s&&(o[kR]=s),xR(e,RR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qo.set("previous_websocket_failure",!0);try{let r;QA(),this.mySock=new zf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zf!==null&&!bi.forceDisallow_}static previouslyFailed(){return qo.isInMemoryStorage||qo.get("previous_websocket_failure")===!0}markConnectionHealthy(){qo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Lc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TR(n,l7);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(u7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[il,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=bi&&bi.isAvailable();let r=n&&!bi.previouslyFailed();if(e.webSocketOnly&&(n||Jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bi];else{const i=this.transports_=[];for(const s of Gc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Gc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Gc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=6e4,d7=5e3,h7=10*1024,f7=100*1024,Eg="t",bE="d",p7="s",wE="r",m7="e",TE="o",EE="a",IE="n",SE="p",g7="h";class v7{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fd("c:"+this.id+":"),this.transportManager_=new Gc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=pc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>f7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>h7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Eg in e){const n=e[Eg];n===EE?this.upgradeIfSecondaryHealthy_():n===wE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===TE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ru("t",e),r=Ru("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:SE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:EE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:IE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ru("t",e),r=Ru("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ru(Eg,e);if(bE in e){const r=e[bE];if(n===g7){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===IE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===p7?this.onConnectionShutdown_(r):n===wE?this.onReset_(r):n===m7?ry("Server Error: "+r):n===TE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ry("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),R0!==r&&Jr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(c7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(d7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:SE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends UR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!g_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Kf}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=32,AE=768;class un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Bt(){return new un("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function To(t){return t.pieces_.length-t.pieceNum_}function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function BR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function y7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new un(e,0)}function Bn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new un(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function oi(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return oi(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function WR(t,e){if(To(t)!==To(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(To(t)>To(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class _7{constructor(e,n){this.errorPrefix_=n,this.parts_=jR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Rp(this.parts_[r]);qR(this)}}function b7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rp(e),qR(t)}function w7(t){const e=t.parts_.pop();t.byteLength_-=Rp(e),t.parts_.length>0&&(t.byteLength_-=1)}function qR(t){if(t.byteLength_>AE)throw new Error(t.errorPrefix_+"has a key path longer than "+AE+" bytes ("+t.byteLength_+").");if(t.parts_.length>CE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+CE+") or object contains a cycle "+Fo(t))}function Fo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends UR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new N0}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=1e3,T7=60*5*1e3,OE=30*1e3,E7=1.3,I7=3e4,S7="server_kill",PE=3;class Es extends $R{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Es.nextPersistentConnectionId_++,this.log_=Fd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Du,this.maxReconnectDelay_=T7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!QA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");N0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Kf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Gn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new sa,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Es.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ds(e,"w")){const r=xl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Jr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=OE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ry("Unrecognized action received from server: "+Gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>I7&&(this.reconnectDelay_=Du),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*E7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Es.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?hr("getToken() completed but was canceled"):(hr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new v7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Jr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(S7)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Jr(h),l())}}}interrupt(e){hr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Iv(this.interruptReasons_)&&(this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>k0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){hr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=PE&&(this.reconnectDelay_=OE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){hr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=PE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+yR.replace(/\./g,"-")]=1,g_()?e["framework.cordova"]=1:GA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Kf.getInstance().currentlyOnline();return Iv(this.interruptReasons_)&&e}}Es.nextPersistentConnectionId_=0;Es.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Hl,e),i=new Tt(Hl,n);return this.compare(r,i)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh;class zR extends am{static get __EMPTY_NODE(){return kh}static set __EMPTY_NODE(e){kh=e}compare(e,n){return uu(e.name,n.name)}isDefinedOn(e){throw nu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(ma,kh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,kh)}toString(){return".key"}}const El=new zR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Un.RED,this.left=i??$r.EMPTY_NODE,this.right=s??$r.EMPTY_NODE}copy(e,n,r,i,s){return new Un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return $r.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return $r.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Un.RED=!0;Un.BLACK=!1;class C7{copy(e,n,r,i,s){return this}insert(e,n,r){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $r{constructor(e,n=$r.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $r(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new $r(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rh(this.root_,null,this.comparator_,!0,e)}}$r.EMPTY_NODE=new C7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t,e){return uu(t.name,e.name)}function M0(t,e){return uu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy;function O7(t){oy=t}const KR=function(t){return typeof t=="number"?"number:"+ER(t):"string:"+t},YR=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ds(e,".sv"),"Priority must be a string or number.")}else ke(t===oy||t.isEmpty(),"priority of unexpected type.");ke(t===oy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kE;class Fn{constructor(e,n=Fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YR(this.priorityNode_)}static set __childrenNodeConstructor(e){kE=e}static get __childrenNodeConstructor(){return kE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:wt(e)===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||To(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ER(this.value_):e+=this.value_,this.lazyHash_=bR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fn.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fn.VALUE_TYPE_ORDER.indexOf(n),s=Fn.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GR,QR;function P7(t){GR=t}function k7(t){QR=t}class R7 extends am{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?uu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(ma,new Fn("[PRIORITY-POST]",QR))}makePost(e,n){const r=GR(e);return new Tt(n,new Fn("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new R7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=Math.log(2);class x7{constructor(e){const n=s=>parseInt(Math.log(s)/D7,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yf=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Un(f,h.node,Un.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),b=i(p+1,u);return h=t[p],f=n?n(h):h,new Un(f,h.node,Un.BLACK,g,b)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,b){const S=h-g,R=h;h-=g;const P=i(S+1,R),E=t[S],I=n?n(E):E;p(new Un(I,E.node,b,null,P))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const b=l.nextBitIsOne(),S=Math.pow(2,l.count-(g+1));b?f(S,Un.BLACK):(f(S,Un.BLACK),f(S,Un.RED))}return c},o=new x7(t.length),a=s(o);return new $r(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig;const Ha={};class _s{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(Ha&&mr,"ChildrenNode.ts has not been loaded"),Ig=Ig||new _s({".priority":Ha},{".priority":mr}),Ig}get(e){const n=xl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $r?n:null}hasIndex(e){return Ds(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==El,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Yf(r,e.getCompare()):a=Ha;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new _s(c,u)}addToIndexes(e,n){const r=Sf(this.indexes_,(i,s)=>{const o=xl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===Ha)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Tt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Yf(a,o.getCompare())}else return Ha;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Tt(e.name,a))),l.insert(e,e.node)}});return new _s(r,this.indexSet_)}removeFromIndexes(e,n){const r=Sf(this.indexes_,i=>{if(i===Ha)return i;{const s=n.get(e.name);return s?i.remove(new Tt(e.name,s)):i}});return new _s(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu;class Lt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YR(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xu||(xu=new Lt(new $r(M0),null,_s.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xu}updatePriority(e){return this.children_.isEmpty()?this:new Lt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?xu:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?xu:this.priorityNode_;return new Lt(i,o,s)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{ke(wt(e)!==".priority"||To(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(mr,(o,a)=>{n[o]=a.val(e),r++,s&&Lt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+KR(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":bR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ud?-1:0}withIndex(e){if(e===El||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Lt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===El||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),i=n.getIterator(mr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===El?null:this.indexMap_.get(e.toString())}}Lt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class N7 extends Lt{constructor(){super(new $r(M0),Lt.EMPTY_NODE,_s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Lt.EMPTY_NODE}isEmpty(){return!1}}const Ud=new N7;Object.defineProperties(Tt,{MIN:{value:new Tt(Hl,Lt.EMPTY_NODE)},MAX:{value:new Tt(ma,Ud)}});zR.__EMPTY_NODE=Lt.EMPTY_NODE;Fn.__childrenNodeConstructor=Lt;O7(Ud);k7(Ud);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=!0;function fr(t,e=null){if(t===null)return Lt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fn(n,fr(e))}if(!(t instanceof Array)&&M7){const n=[];let r=!1;if(di(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=fr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Tt(o,l)))}}),n.length===0)return Lt.EMPTY_NODE;const s=Yf(n,A7,o=>o.name,M0);if(r){const o=Yf(n,mr.getCompare());return new Lt(s,fr(e),new _s({".priority":o},{".priority":mr}))}else return new Lt(s,fr(e),_s.Default)}else{let n=Lt.EMPTY_NODE;return di(t,(r,i)=>{if(Ds(t,r)&&r.substring(0,1)!=="."){const s=fr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(fr(e))}}P7(fr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7 extends am{constructor(e){super(),this.indexPath_=e,ke(!gt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?uu(e.name,n.name):s}makePost(e,n){const r=fr(e),i=Lt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,i)}maxPost(){const e=Lt.EMPTY_NODE.updateChild(this.indexPath_,Ud);return new Tt(ma,e)}toString(){return jR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7 extends am{compare(e,n){const r=e.node.compareTo(n.node);return r===0?uu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=fr(e);return new Tt(n,r)}toString(){return".value"}}const F7=new V7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){return{type:"value",snapshotNode:t}}function U7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function B7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function RE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function j7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hl}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new L0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===F7?n="$value":t.index_===El?n="$key":(ke(t.index_ instanceof L7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Gn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Gn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Gn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Gn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends $R{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Gf.getListenId_(e,r),a={};this.listens_[o]=a;const l=DE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),xl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Gf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=DE(e._queryParams),r=e._path.toString(),i=new sa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ru(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Lc(a.responseText)}catch{Jr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Jr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.rootNode_=Lt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){return{value:null,children:new Map}}function XR(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,Qf());const i=t.children.get(r);e=sn(e),XR(i,e,n)}}function ay(t,e,n){t.value!==null?n(e,t.value):W7(t,(r,i)=>{const s=new un(e.toString()+"/"+r);ay(i,s,n)})}function W7(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&di(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=10*1e3,z7=30*1e3,K7=5*60*1e3;class Y7{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new q7(e);const r=NE+(z7-NE)*Math.random();pc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;di(e,(i,s)=>{s>0&&Ds(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),pc(this.reportStats_.bind(this),Math.floor(Math.random()*2*K7))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function JR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ZR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function eD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=JR()}operationForChild(e){if(gt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new un(e));return new Xf(Bt(),n,this.revert)}}else return ke(wt(this.path)===e,"operationForChild called for unrelated child."),new Xf(sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}operationForChild(e){return gt(this.path)?new ga(this.source,Bt(),this.snap.getImmediateChild(e)):new ga(this.source,sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new un(e));return n.isEmpty()?null:n.value?new ga(this.source,Bt(),n.value):new Qc(this.source,Bt(),n)}else return ke(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qc(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function G7(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(j7(o.childName,o.snapshotNode))}),Nu(t,i,"child_removed",e,r,n),Nu(t,i,"child_added",e,r,n),Nu(t,i,"child_moved",s,r,n),Nu(t,i,"child_changed",e,r,n),Nu(t,i,"value",e,r,n),i}function Nu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>X7(t,a,l)),o.forEach(a=>{const l=Q7(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Q7(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function X7(t,e,n){if(e.childName==null||n.childName==null)throw nu("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e){return{eventCache:t,serverCache:e}}function mc(t,e,n,r){return tD(new V0(e,n,r),t.serverCache)}function nD(t,e,n,r){return tD(t.eventCache,new V0(e,n,r))}function ly(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg;const J7=()=>(Sg||(Sg=new $r(VH)),Sg);class rn{constructor(e,n=J7()){this.value=e,this.children=n}static fromObject(e){let n=new rn(null);return di(e,(r,i)=>{n=n.set(new un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Bt(),value:this.value};if(gt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sn(e),n);return s!=null?{path:Bn(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,n){if(gt(e))return new rn(n,this.children);{const r=wt(e),s=(this.children.get(r)||new rn(null)).set(sn(e),n),o=this.children.insert(r,s);return new rn(this.value,o)}}remove(e){if(gt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(sn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rn(null):new rn(this.value,s)}else return this}}get(e){if(gt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(gt(e))return n;{const r=wt(e),s=(this.children.get(r)||new rn(null)).setTree(sn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rn(this.value,o)}}fold(e){return this.fold_(Bt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Bn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Bt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(gt(e))return null;{const s=wt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),Bn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Bt(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=wt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),Bn(n,i),r):new rn(null)}}foreach(e){this.foreach_(Bt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Bn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.writeTree_=e}static empty(){return new Ci(new rn(null))}}function gc(t,e,n){if(gt(e))return new Ci(new rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=oi(i,e);return s=s.updateChild(o,n),new Ci(t.writeTree_.set(i,s))}else{const i=new rn(n),s=t.writeTree_.setTree(e,i);return new Ci(s)}}}function ME(t,e,n){let r=t;return di(n,(i,s)=>{r=gc(r,Bn(e,i),s)}),r}function LE(t,e){if(gt(e))return Ci.empty();{const n=t.writeTree_.setTree(e,new rn(null));return new Ci(n)}}function uy(t,e){return Pa(t,e)!=null}function Pa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(oi(n.path,e)):null}function VE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,i)=>{e.push(new Tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Tt(r,i.value))}),e}function uo(t,e){if(gt(e))return t;{const n=Pa(t,e);return n!=null?new Ci(new rn(n)):new Ci(t.writeTree_.subtree(e))}}function cy(t){return t.writeTree_.isEmpty()}function Wl(t,e){return rD(Bt(),t.writeTree_,e)}function rD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=rD(Bn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Bn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){return uD(e,t)}function Z7(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=gc(t.visibleWrites,e,n)),t.lastWriteId=r}function e8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function t8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&n8(a,r.path)?i=!1:Ei(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return r8(t),!0;if(r.snap)t.visibleWrites=LE(t.visibleWrites,r.path);else{const a=r.children;di(a,l=>{t.visibleWrites=LE(t.visibleWrites,Bn(r.path,l))})}return!0}else return!1}function n8(t,e){if(t.snap)return Ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ei(Bn(t.path,n),e))return!0;return!1}function r8(t){t.visibleWrites=sD(t.allWrites,i8,Bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function i8(t){return t.visible}function sD(t,e,n){let r=Ci.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ei(n,o)?(a=oi(n,o),r=gc(r,a,s.snap)):Ei(o,n)&&(a=oi(o,n),r=gc(r,Bt(),s.snap.getChild(a)));else if(s.children){if(Ei(n,o))a=oi(n,o),r=ME(r,a,s.children);else if(Ei(o,n))if(a=oi(o,n),gt(a))r=ME(r,Bt(),s.children);else{const l=xl(s.children,wt(a));if(l){const u=l.getChild(sn(a));r=gc(r,Bt(),u)}}}else throw nu("WriteRecord should have .snap or .children")}}return r}function oD(t,e,n,r,i){if(!r&&!i){const s=Pa(t.visibleWrites,e);if(s!=null)return s;{const o=uo(t.visibleWrites,e);if(cy(o))return n;if(n==null&&!uy(o,Bt()))return null;{const a=n||Lt.EMPTY_NODE;return Wl(o,a)}}}else{const s=uo(t.visibleWrites,e);if(!i&&cy(s))return n;if(!i&&n==null&&!uy(s,Bt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ei(u.path,e)||Ei(e,u.path))},a=sD(t.allWrites,o,e),l=n||Lt.EMPTY_NODE;return Wl(a,l)}}}function s8(t,e,n){let r=Lt.EMPTY_NODE;const i=Pa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(mr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=uo(t.visibleWrites,e);return n.forEachChild(mr,(o,a)=>{const l=Wl(uo(s,new un(o)),a);r=r.updateImmediateChild(o,l)}),VE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=uo(t.visibleWrites,e);return VE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function o8(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Bn(e,n);if(uy(t.visibleWrites,s))return null;{const o=uo(t.visibleWrites,s);return cy(o)?i.getChild(n):Wl(o,i.getChild(n))}}function a8(t,e,n,r){const i=Bn(e,n),s=Pa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=uo(t.visibleWrites,i);return Wl(o,r.getNode().getImmediateChild(n))}else return null}function l8(t,e){return Pa(t.visibleWrites,e)}function u8(t,e,n,r,i,s,o){let a;const l=uo(t.visibleWrites,e),u=Pa(l,Bt());if(u!=null)a=u;else if(n!=null)a=Wl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function c8(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function dy(t,e,n,r){return oD(t.writeTree,t.treePath,e,n,r)}function aD(t,e){return s8(t.writeTree,t.treePath,e)}function FE(t,e,n,r){return o8(t.writeTree,t.treePath,e,n,r)}function Jf(t,e){return l8(t.writeTree,Bn(t.treePath,e))}function d8(t,e,n,r,i,s){return u8(t.writeTree,t.treePath,e,n,r,i,s)}function F0(t,e,n){return a8(t.writeTree,t.treePath,e,n)}function lD(t,e){return uD(Bn(t.treePath,e),t.writeTree)}function uD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,RE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,B7(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,U7(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,RE(r,e.snapshotNode,i.oldSnap));else throw nu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const cD=new f8;class $0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new V0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return F0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=d8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function p8(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function m8(t,e,n,r,i){const s=new h8;let o,a;if(n.type===qi.OVERWRITE){const u=n;u.source.fromUser?o=hy(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!gt(u.path),o=Zf(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===qi.MERGE){const u=n;u.source.fromUser?o=v8(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=fy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===qi.ACK_USER_WRITE){const u=n;u.revert?o=b8(t,e,u.path,r,i,s):o=y8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===qi.LISTEN_COMPLETE)o=_8(t,e,n.path,r,s);else throw nu("Unknown operation type: "+n.type);const l=s.getChanges();return g8(e,o,l),{viewCache:o,changes:l}}function g8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ly(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push($7(ly(e)))}}function dD(t,e,n,r,i,s){const o=e.eventCache;if(Jf(r,n)!=null)return e;{let a,l;if(gt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=va(e),c=u instanceof Lt?u:Lt.EMPTY_NODE,h=aD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=dy(r,va(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=wt(n);if(u===".priority"){ke(To(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=FE(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=sn(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=FE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=F0(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return mc(e,a,o.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function Zf(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(gt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&To(n)>1)return e;const g=sn(n),S=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),S):u=c.updateChild(l.getNode(),p,S,g,cD,null)}const h=nD(e,u,l.isFullyInitialized()||gt(n),c.filtersNodes()),f=new $0(i,h,s);return dD(t,h,n,i,f,a)}function hy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new $0(i,e,s);if(gt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=mc(e,u,!0,t.filter.filtersNodes());else{const h=wt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=mc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=sn(n),p=a.getNode().getImmediateChild(h);let g;if(gt(f))g=r;else{const b=c.getCompleteChild(h);b!=null?BR(f)===".priority"&&b.getChild(HR(f)).isEmpty()?g=b:g=b.updateChild(f,r):g=Lt.EMPTY_NODE}if(p.equals(g))l=e;else{const b=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=mc(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $E(t,e){return t.eventCache.isCompleteForChild(e)}function v8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Bn(n,l);$E(e,wt(c))&&(a=hy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Bn(n,l);$E(e,wt(c))||(a=hy(t,a,c,u,i,s,o))}),a}function UE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function fy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;gt(n)?u=r:u=new rn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=UE(t,p,f);l=Zf(t,l,new un(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),b=UE(t,g,f);l=Zf(t,l,new un(h),b,i,s,o,a)}}),l}function y8(t,e,n,r,i,s,o){if(Jf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(gt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(gt(n)){let u=new rn(null);return l.getNode().forEachChild(El,(c,h)=>{u=u.set(new un(c),h)}),fy(t,e,n,u,i,s,a,o)}else return e}else{let u=new rn(null);return r.foreach((c,h)=>{const f=Bn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),fy(t,e,n,u,i,s,a,o)}}function _8(t,e,n,r,i){const s=e.serverCache,o=nD(e,s.getNode(),s.isFullyInitialized()||gt(n),s.isFiltered());return dD(t,o,n,r,cD,i)}function b8(t,e,n,r,i,s){let o;if(Jf(r,n)!=null)return e;{const a=new $0(r,e,i),l=e.eventCache.getNode();let u;if(gt(n)||wt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=dy(r,va(e));else{const h=e.serverCache.getNode();ke(h instanceof Lt,"serverChildren would be complete if leaf node"),c=aD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=wt(n);let h=F0(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,sn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Lt.EMPTY_NODE,sn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=dy(r,va(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Jf(r,Bt())!=null,mc(e,u,o,t.filter.filtersNodes())}}function w8(t,e){const n=va(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function BE(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(ke(va(t.viewCache_),"We should always have a full cache before handling merges"),ke(ly(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=m8(t.processor_,i,e,n,r);return p8(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,T8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function T8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return G7(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jE;function E8(t){ke(!jE,"__referenceConstructor has already been defined"),jE=t}function U0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),BE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(BE(o,e,n,r));return s}}function B0(t,e){let n=null;for(const r of t.views.values())n=n||w8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE;function I8(t){ke(!HE,"__referenceConstructor has already been defined"),HE=t}class WE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=c8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function S8(t,e,n,r,i){return Z7(t.pendingWriteTree_,e,n,r,i),i?um(t,new ga(JR(),e,n)):[]}function sl(t,e,n=!1){const r=e8(t.pendingWriteTree_,e);if(t8(t.pendingWriteTree_,e)){let s=new rn(null);return r.snap!=null?s=s.set(Bt(),!0):di(r.children,o=>{s=s.set(new un(o),!0)}),um(t,new Xf(r.path,s,n))}else return[]}function lm(t,e,n){return um(t,new ga(ZR(),e,n))}function C8(t,e,n){const r=rn.fromObject(n);return um(t,new Qc(ZR(),e,r))}function A8(t,e,n,r){const i=mD(t,r);if(i!=null){const s=gD(i),o=s.path,a=s.queryId,l=oi(o,e),u=new ga(eD(a),l,n);return vD(t,o,u)}else return[]}function O8(t,e,n,r){const i=mD(t,r);if(i){const s=gD(i),o=s.path,a=s.queryId,l=oi(o,e),u=rn.fromObject(n),c=new Qc(eD(a),l,u);return vD(t,o,c)}else return[]}function hD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=oi(o,e),u=B0(a,l);if(u)return u});return oD(i,e,s,n,!0)}function um(t,e){return fD(e,t.syncPointTree_,null,iD(t.pendingWriteTree_,Bt()))}function fD(t,e,n,r){if(gt(t.path))return pD(t,e,n,r);{const i=e.get(Bt());n==null&&i!=null&&(n=B0(i,Bt()));let s=[];const o=wt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=lD(r,o);s=s.concat(fD(a,l,u,c))}return i&&(s=s.concat(U0(i,t,r,n))),s}}function pD(t,e,n,r){const i=e.get(Bt());n==null&&i!=null&&(n=B0(i,Bt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=lD(r,o),c=t.operationForChild(o);c&&(s=s.concat(pD(c,a,l,u)))}),i&&(s=s.concat(U0(i,t,r,n))),s}function mD(t,e){return t.tagToQueryMap.get(e)}function gD(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function vD(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=iD(t.pendingWriteTree_,e);return U0(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new j0(n)}node(){return this.node_}}class H0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bn(this.path_,e);return new H0(this.syncTree_,n)}node(){return hD(this.syncTree_,this.path_)}}const P8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qE=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return k8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return R8(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},k8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},R8=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},D8=function(t,e,n,r){return W0(e,new H0(n,t),r)},x8=function(t,e,n){return W0(t,new j0(e),n)};function W0(t,e,n){const r=t.getPriority().val(),i=qE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=qE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Fn(a,fr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fn(i))),o.forEachChild(mr,(a,l)=>{const u=W0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function z0(t,e){let n=e instanceof un?e:new un(e),r=t,i=wt(n);for(;i!==null;){const s=xl(r.node.children,i)||{children:{},childCount:0};r=new q0(i,r,s),n=sn(n),i=wt(n)}return r}function cu(t){return t.node.value}function yD(t,e){t.node.value=e,py(t)}function _D(t){return t.node.childCount>0}function N8(t){return cu(t)===void 0&&!_D(t)}function cm(t,e){di(t.node.children,(n,r)=>{e(new q0(n,t,r))})}function bD(t,e,n,r){n&&!r&&e(t),cm(t,i=>{bD(i,e,!0,r)}),n&&r&&e(t)}function M8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Bd(t){return new un(t.parent===null?t.name:Bd(t.parent)+"/"+t.name)}function py(t){t.parent!==null&&L8(t.parent,t.name,t)}function L8(t,e,n){const r=N8(n),i=Ds(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,py(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,py(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=/[\[\].#$\/\u0000-\u001F\u007F]/,F8=/[\[\].#$\u0000-\u001F\u007F]/,Cg=10*1024*1024,wD=function(t){return typeof t=="string"&&t.length!==0&&!V8.test(t)},$8=function(t){return typeof t=="string"&&t.length!==0&&!F8.test(t)},U8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$8(t)},TD=function(t,e,n){const r=n instanceof un?new _7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fo(r)+" with contents = "+e.toString());if(wR(e))throw new Error(t+"contains "+e.toString()+" "+Fo(r));if(typeof e=="string"&&e.length>Cg/3&&Rp(e)>Cg)throw new Error(t+"contains a string greater than "+Cg+" utf8 bytes "+Fo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(di(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!wD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);b7(r,o),TD(t,a,r),w7(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fo(r)+" in addition to actual children.")}},B8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!U8(n))throw new Error(uF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function H8(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!WR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ka(t,e,n){H8(t,n),W8(t,r=>Ei(r,e)||Ei(e,r))}function W8(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(q8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function q8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Jo&&hr("event: "+n.toString()),$d(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="repo_interrupt",K8=25;class Y8{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qf(),this.transactionQueueTree_=new q0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function G8(t,e,n){if(t.stats_=D0(t.repoInfo_),t.forceRestClient_||HH())t.server_=new Gf(t.repoInfo_,(r,i,s,o)=>{zE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>KE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Es(t.repoInfo_,e,(r,i,s,o)=>{zE(t,r,i,s,o)},r=>{KE(t,r)},r=>{X8(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=GH(t.repoInfo_,()=>new Y7(t.stats_,t.server_)),t.infoData_=new H7,t.infoSyncTree_=new WE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=lm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),K0(t,"connected",!1),t.serverSyncTree_=new WE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ka(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Q8(t){const n=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ED(t){return P8({timestamp:Q8(t)})}function zE(t,e,n,r,i){t.dataUpdateCount++;const s=new un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Sf(n,u=>fr(u));o=O8(t.serverSyncTree_,s,l,i)}else{const l=fr(n);o=A8(t.serverSyncTree_,s,l,i)}else if(r){const l=Sf(n,u=>fr(u));o=C8(t.serverSyncTree_,s,l)}else{const l=fr(n);o=lm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=G0(t,s)),ka(t.eventQueue_,a,o)}function KE(t,e){K0(t,"connected",e),e===!1&&Z8(t)}function X8(t,e){di(e,(n,r)=>{K0(t,n,r)})}function K0(t,e,n){const r=new un("/.info/"+e),i=fr(n);t.infoData_.updateSnapshot(r,i);const s=lm(t.infoSyncTree_,r,i);ka(t.eventQueue_,r,s)}function J8(t){return t.nextWriteId_++}function Z8(t){ID(t,"onDisconnectEvents");const e=ED(t),n=Qf();ay(t.onDisconnect_,Bt(),(i,s)=>{const o=D8(i,s,t.serverSyncTree_,e);XR(n,i,o)});let r=[];ay(n,Bt(),(i,s)=>{r=r.concat(lm(t.serverSyncTree_,i,s));const o=rW(t,i);G0(t,o)}),t.onDisconnect_=Qf(),ka(t.eventQueue_,Bt(),r)}function eW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(z8)}function ID(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),hr(n,...e)}function SD(t,e,n){return hD(t.serverSyncTree_,e,n)||Lt.EMPTY_NODE}function Y0(t,e=t.transactionQueueTree_){if(e||dm(t,e),cu(e)){const n=AD(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&tW(t,Bd(e),n)}else _D(e)&&cm(e,n=>{Y0(t,n)})}function tW(t,e,n){const r=n.map(u=>u.currentWriteId),i=SD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=oi(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ID(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(sl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();dm(t,z0(t.transactionQueueTree_,e)),Y0(t,t.transactionQueueTree_),ka(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)$d(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Jr("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}G0(t,e)}},o)}function G0(t,e){const n=CD(t,e),r=Bd(n),i=AD(t,n);return nW(t,i,r),r}function nW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=oi(n,l.path);let c=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=K8)c=!0,h="maxretry",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=SD(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){TD("transaction failed: Data returned ",p,l.path);let g=fr(p);typeof p=="object"&&p!=null&&Ds(p,".priority")||(g=g.updatePriority(f.getPriority()));const S=l.currentWriteId,R=ED(t),P=x8(g,f,R);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=P,l.currentWriteId=J8(t),o.splice(o.indexOf(S),1),i=i.concat(S8(t.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(sl(t.serverSyncTree_,S,!0))}else c=!0,h="nodata",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0))}ka(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}dm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$d(r[a]);Y0(t,t.transactionQueueTree_)}function CD(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&cu(r)===void 0;)r=z0(r,n),e=sn(e),n=wt(e);return r}function AD(t,e){const n=[];return OD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function OD(t,e,n){const r=cu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);cm(e,i=>{OD(t,i,n)})}function dm(t,e){const n=cu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,yD(e,n.length>0?n:void 0)}cm(e,r=>{dm(t,r)})}function rW(t,e){const n=Bd(CD(t,e)),r=z0(t.transactionQueueTree_,e);return M8(r,i=>{Ag(t,i)}),Ag(t,r),bD(r,i=>{Ag(t,i)}),n}function Ag(t,e){const n=cu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?yD(e,void 0):n.length=s+1,ka(t.eventQueue_,Bd(e),i);for(let o=0;o<r.length;o++)$d(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function sW(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Jr(`Invalid query segment '${n}' in query '${t}'`)}return e}const YE=function(t,e){const n=oW(t),r=n.namespace;n.domain==="firebase.com"&&pa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||MH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zH(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new un(n.pathString)}},oW=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=iW(t.substring(c,h)));const f=sW(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:BR(this._path)}get ref(){return new du(this._repo,this._path)}get _queryIdentifier(){const e=xE(this._queryParams),n=k0(e);return n==="{}"?"default":n}get _queryObject(){return xE(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof Q0))return!1;const n=this._repo===e._repo,r=WR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+y7(this._path)}}class du extends Q0{constructor(e,n){super(e,n,new L0,!1)}get parent(){const e=HR(this._path);return e===null?null:new du(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}E8(du);I8(du);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW="FIREBASE_DATABASE_EMULATOR_HOST",my={};let lW=!1;function uW(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||pa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=YE(s,i),a=o.repoInfo,l,u;typeof process<"u"&&pE&&(u=pE[aW]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=YE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new iy(iy.OWNER):new qH(t.name,t.options,e);B8("Invalid Firebase Database URL",o),gt(o.path)||pa("Database URL must point to the root of a Firebase Database (not including a child path).");const h=dW(a,t,c,new WH(t.name,n));return new hW(h,t)}function cW(t,e){const n=my[e];(!n||n[t.key]!==t)&&pa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eW(t),delete n[t.key]}function dW(t,e,n,r){let i=my[e.name];i||(i={},my[e.name]=i);let s=i[t.toURLString()];return s&&pa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Y8(t,lW,n,r),i[t.toURLString()]=s,s}class hW{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(G8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new du(this._repo,Bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pa("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t){kH(Ao),jr(new Dr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),er(mE,gE,t),er(mE,gE,"esm2017")}Es.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Es.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fW();function hm(t){return S9(P0(t))}function pW(t){return mW({initialUser:t,dependencies:{popupRedirectResolver:_H,persistence:[kj,yj,uR]}})}const PD=Symbol("VueFireAuth");function mW({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=gW(n,r,e,t);PH(i,s)}}function gW(t,e,n,r,i=z5(t,r)){const s=CH(t,e).run(()=>fe(n));return vR.set(t,s),e.provide(PD,i),[s,i]}function vW(t){return SH?kr(PD):null}function yW(t,{firebaseApp:e,modules:n=[]}){t.provide(gR,e);for(const r of n)r(e,t)}var _W=(t=>(t.YAHTZEE="yahtzee",t.RAINWORMS="rainworms",t))(_W||{});const bW=Lp("gameStore",()=>{const t=hm(),e={gameData:lr(t,Pn.GAME_DATA),highscores:h=>lr(t,Pn.GAME_DATA,h,Pn.HIGHSCORES)},n=fe(!0),r=fe(1.5),i=Rr({yahtzee:{gameData:{highscores:[]},previousPersonalBest:null,previousHighscorePosition:null},rainworms:{gameData:{highscores:[]},previousPersonalBest:null,previousHighscorePosition:null}}),s=ue(()=>(h,f)=>{var g;return((g=i[h].gameData.highscores.find(b=>b.id===f))==null?void 0:g.score)??0}),o=ue(()=>(h,f)=>i[h].gameData.highscores.findIndex(b=>b.id===f)+1),a=(h,f,p=!1)=>{if(f){const g=i[h];(!p||g.previousPersonalBest===null)&&(g.previousPersonalBest=s.value(h,f)),(!p||g.previousHighscorePosition===null)&&(g.previousHighscorePosition=o.value(h,f))}},l=async(h,f)=>{try{const p=await ds(e.highscores(h));i[h].gameData.highscores=await Promise.all(p.map(vy.Highscore.mapIncoming)),c(h),a(h,f,!0)}catch(p){Ve.firebaseError(!0,p)}},u=async(h,f,p,g=0)=>{try{if(p){await l(h,f);const b=i[h].gameData,S=b.highscores.find(R=>R.id===f);if(!S||S.score<p){a(h,f);const R={id:f,score:p,bonus:g,date:new Date},P=bt(e.highscores(h),f);if(S){try{await yi(P,{score:R.score,bonus:R.bonus,date:R.date})}catch(E){console.log(E)}Object.assign(S,R)}else await ql(P,{score:R.score,bonus:R.bonus,date:R.date}),b.highscores.push(R);return c(h),!0}}return!1}catch(b){return Ve.firebaseError(!0,b),!1}},c=h=>{i[h].gameData.highscores=i[h].gameData.highscores.sort((f,p)=>p.score-f.score)};return{useAudio:n,diceRollSpeed:r,allGameData:i,personalBest:s,highscorePosition:o,setPreviousHighscores:a,fetchGameData:l,updateHighscores:u,sortHighscores:c}},{persist:{enabled:!0}}),wW=1e3,TW=wW*60,EW=TW*60,kD=EW*24,GE=kD*365,RD=async t=>{const e=await hk(t),n=e.data();return n?{id:e.id,...n}:null},ds=async(t,e)=>{const n=await U9(e?N9(t,...e):t);return Promise.all(n.docs.map(r=>RD(r.ref)))},ii=RD,IW=W9,ql=B9,yi=j9,Gu=H9,QE=t=>r5(i5(),t),XE=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),hre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},vc=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!vc(a,o[l])||o.some((u,c)=>!vc(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!vc(r,i))return!1}else if(r!==i)return!1}return!0},DD=t=>Math.round((Date.now()-t.getTime())/1e3),fre=t=>{try{const e=DD(t);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/GE,o=r%GE/kD,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}}catch{return"Unknown"}},pre=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},mre=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},gre=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Lo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},vre=t=>Array.isArray(t)?t:[t],yre=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},_re=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),bre=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},wre=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},SW=()=>h5(),Tre=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},xD={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},ND={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};xD.value.preload="auto";ND.value.preload="auto";const Ere=t=>{const{useAudio:e}=bW();if(!e)return;[xD,ND].forEach(r=>{r.value!==t.value&&(r.value.pause(),r.value.currentTime=r.startTime)}),t.value.currentTime=t.startTime,t.value.play()},MD={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},CW={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},AW=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],OW=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],Ire=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var $i;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await ii(l)))??[])).map(async l=>ep.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??SW(),subTitle:l.subTitle??"",alignment:l.alignment??"center",tableAlignment:l.tableAlignment??"left",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,tableAlignment:n.tableAlignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","tableAlignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})($i||($i={}));var ep;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await ii(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(ep||(ep={}));var Xc;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(Xc||(Xc={}));var JE;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(JE||(JE={}));var gy;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate()})})(gy||(gy={}));var vy;(t=>{t.mapIncoming=async n=>({...n,highscores:await Promise.all(n.highscores.map(e.mapIncoming))});let e;(n=>{n.mapIncoming=async r=>{var i;return{...r,bonus:r.bonus??0,date:((i=r.date)==null?void 0:i.toDate())??new Date}}})(e=t.Highscore||(t.Highscore={}))})(vy||(vy={}));const LD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],Sre=t=>LD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),Cre=LD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),Are=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}];var kn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.GAMES="games",t.NOT_FOUND="notfound",t))(kn||{}),yy=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t))(yy||{});const fm=Lp("mainStore",()=>{const t=hm(),e=tp(),n=VD(),{blogPosts:r}=qO(n),{fetchBlogPosts:i}=n,s={content:lr(t,Pn.CONTENT),projects:lr(t,Pn.PROJECTS),menuItems:V=>lr(t,V?Pn.MENU_ITEMS_PRIVATE:Pn.MENU_ITEMS),menuItemsPrivate:lr(t,Pn.MENU_ITEMS_PRIVATE),users:lr(t,Pn.USERS),usersPublic:lr(t,Pn.USERS_PUBLIC),usersOnline:lr(t,Pn.USERS_ONLINE)},o=fe(MD),a=fe(CW),l=fe(OW),u=fe(AW),c=fe([]),h=fe([]),f=fe([]),p=fe(!0),g=fe(!1),b=fe(!1),S=fe(null),R=ue(()=>u.value.filter(V=>!V.loading)),P=ue(()=>l.value.filter(V=>!V.loading)),E=ue(()=>l.value.filter(V=>!V.invisible)),I=ue(()=>f.value.filter(V=>DD(new Date(Date.parse(V.lastOnline.toString())))<=60)),M=async(V,x)=>{try{b.value||(b.value=!0,console.log("attempt to fetch all"),(g.value||p.value&&(!P.value.length||x))&&(console.log("fetch all"),r.value.data.public=[],r.value.data.private=[],r.value.data.single=null,r.value.visibility=V?"private":"public",await Promise.all([w(),_(V),i(V),L(),C()]),e.isOwner&&await v()))}catch(A){Ve.firebaseError(g.value,A)}finally{b.value=!1}},L=async()=>{try{const V=await ii(bt(t,s.content.id,"production"));a.value={...a.value,...V||{}}}catch(V){Ve.firebaseError(g.value,V)}},w=async()=>{try{const V=await Promise.all((await ds(s.projects)).map(async x=>({...x,technologies:await Promise.all(x.technologies.map(async A=>await ii(A)))})));u.value=V.length?XE(V):u.value}catch(V){Ve.firebaseError(g.value,V)}},T=(V,x)=>{const A=u.value.splice(V,1)[0];u.value.splice(x,0,A)},_=async V=>{try{let x=await ds(s.menuItems());if(V)try{x=x.concat(await ds(s.menuItemsPrivate,[ak("allowedUserIds","array-contains",bt(t,s.usersPublic.id,V).id)]))}catch{}return l.value=x.length?XE(x):l.value,l.value}catch(x){Ve.firebaseError(g.value,x)}},v=async()=>{try{const V=await ds(s.users);c.value=await Promise.all(V.map(async x=>await Xc.mapIncoming(x)))}catch(V){return Ve.firebaseError(g.value,V),null}},C=async()=>{try{h.value=await ds(s.usersPublic)}catch(V){return Ve.firebaseError(g.value,V),null}},O=async V=>{try{return await ii(bt(t,s.usersPublic.id,V))}catch(x){return Ve.firebaseError(g.value,x),null}};return{collections:s,profile:o,content:a,menuItems:l,projects:u,users:c,publicUsers:h,onlineUsersInfo:f,isOnline:p,debug:g,isFetchAllLoading:b,routeLoading:S,filteredProjects:R,filteredMenuItems:P,visibleMenuItems:E,onlineUsers:I,fetchAll:M,fetchContent:L,fetchProjects:w,moveProject:T,fetchMenuItems:_,fetchUsers:v,fetchPublicUsers:C,fetchPublicUser:O,allowedPublicUsers:async V=>{try{return(await Promise.all(V.map(async A=>{const q=await O(A);return q?{...q,displayName:q.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},fetchOnlineUsers:async()=>{try{const V=await ds(s.usersOnline);f.value=await Promise.all(V.map(gy.mapIncoming))}catch{return null}},updateOnlineUser:async V=>{try{const x=bt(t,s.usersOnline.id,V);(await hk(x)).exists()?await yi(x,{lastOnline:Qt.now()}):await ql(x,{lastOnline:Qt.now()})}catch{return null}},toggleOnline:()=>{p.value=!p.value},toggleDebug:()=>{g.value=!g.value}}},{persist:{enabled:!0}}),VD=Lp("blogPostStore",()=>{const t=hm(),e=fm(),{debug:n}=qO(e),r={blogPosts:$=>lr(t,$?Pn.BLOG_POSTS_PRIVATE:Pn.BLOG_POSTS),blogPostsPrivate:lr(t,Pn.BLOG_POSTS_PRIVATE),blogReactions:$=>lr(t,$?Pn.BLOG_REACTIONS_PRIVATE:Pn.BLOG_REACTIONS),files:lr(t,Pn.FILES),usersPublic:lr(t,Pn.USERS_PUBLIC)},i=Rr({visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1}),s=Rr({isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]}),o=ue(()=>[...i.data.public,...i.data.private]),a=ue(()=>i.data[i.visibility]),l=ue(()=>i.previousData[i.visibility]),u=ue(()=>i.isLoading.public.fetch||i.isLoading.private.fetch),c=ue(()=>i.isLoading.public.mutation||i.isLoading.private.mutation),h=ue(()=>i.isDatabaseCreationActive||i.isDatabaseMutationActive||i.isDatabaseDeletionActive||s.isDatabaseCreationActive||s.isDatabaseDeletionActive),f=async($,F={})=>{const V=F.visibility??i.visibility;F.loadingIndicator!==!1&&(i.isLoading[V].fetch=!0);try{const A=i.data[V][i.data[V].length-1],q=[$1("datePinned","desc"),$1("date","desc"),M9(F.amount||3)];a.value.length||(i.isLastPage=!1),F.amount&&F.loadingIndicator!==!1&&(i.data[V]=[]),!F.amount&&A&&q.push(L9(A.datePinned,A.date));var x=[];V==="private"&&$?x=await ds(r.blogPostsPrivate,[ak("allowedUserIds","array-contains",bt(t,r.usersPublic.id,$).id),...q]):V==="public"&&(x=await ds(r.blogPosts(!1),q));const G=await Promise.all(x.map(async re=>await $i.mapIncoming(re)));if(F.amount)i.data[V]=G;else for(const re of G)i.data[V].push(re);G.length<3&&(i.isLastPage=!0)}catch(A){Ve.firebaseError(n.value,A)}finally{i.isLoading[V].fetch=!1}},p=async($,F,V={})=>{console.log("attempt to fetch single");const x=(F==null?void 0:F.visibility)??"public";V.loadingIndicator!==!1&&(i.isLoading[x].fetch=!0);try{var A=await ii(bt(r.blogPosts(!!(F!=null&&F.isPrivate)),$));return A||(A=await ii(bt(r.blogPostsPrivate,$))),A?(i.data.single=await $i.mapIncoming(A),i.data.single):null}catch(q){return Ve.firebaseError(n.value,q).errorCode??null}finally{i.isLoading[x].fetch=!1}},g=()=>{i.previousData.single=i.data.single,i.previousData[i.visibility]=a.value},b=($,F)=>{const V=s.unread.length;if($){let x;if(F?x=i.data.single:x=a.value.find(A=>A.id===$.id),x&&x.reactions.length!==$.reactions.length){const A=x.reactions.filter(q=>!$.reactions.some(G=>G.id===q.id));for(const q of A)s.unread.every(G=>G.id!==q.id)&&s.unread.push(q)}}F&&(V!==s.unread.length&&Ve.update("There are unread comments on this page"),g())},S=()=>{const $=s.unread.length;if(l.value.length)for(const F of l.value)b(F);$!==s.unread.length&&Ve.update("There are unread comments on this page"),g()},R=async($,F,V,x={includeTime:!1,fetch:!0})=>{const A=Lo(F);i.isLoading[A.visibility].mutation=!0,i.isDatabaseCreationActive=!0;try{return await ql(bt(t,r.blogPosts(A.isPrivate).id,$),{...F,date:x!=null&&x.includeTime?F.date:Qt.now(),dateUpdated:x!=null&&x.includeTime?F.dateUpdated:null,countdown:F.countdown?Qt.fromDate(F.countdown):null,timer:F.timer?Qt.fromDate(F.timer):null}),i.visibility=A.visibility,x!=null&&x.fetch&&f(V,{amount:a.value.length+1}),Ve.success("Successfully created Post"),!0}catch(q){return Ve.firebaseError(n.value,q),!1}finally{g(),i.isLoading[A.visibility].mutation=!1,i.isDatabaseCreationActive=!1}},P=async($,F,V,x)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[V.visibility].mutation=!0;const A=r.blogPosts(V.isPrivate).id;let q="";if($i.Content.instanceOf(F)&&(await yi(bt(t,A,$),{...$i.Content.convert(F),dateUpdated:Qt.now()}),q="content"),$i.Styling.instanceOf(F)&&(await yi(bt(t,A,$),{...$i.Styling.convert(F)}),q="styling"),$i.Settings.instanceOf(F)&&(await yi(bt(t,A,$),{...$i.Settings.convert(F)}),q="settings"),q==="content"||q==="styling"){let G=await p($,V);G1(G)&&(G=null),i.data[V.visibility]=i.data[V.visibility].map(re=>re.id===(G==null?void 0:G.id)?G:re)}else f(x,{amount:i.data[V.visibility].length});return q}catch(A){Ve.firebaseError(n.value,A)}finally{g(),i.isLoading[V.visibility].mutation=!1,i.isDatabaseMutationActive=!1}},E=async($,F,V,x,A)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[x].mutation=!0;const q=o.value.find(G=>G.id===$);if(await I($,{includeFiles:!1,includeReactions:!1}),q&&await R($,F,A,{includeTime:!0,fetch:!1})){let G;do i.data[x]=[],await f(A,{visibility:x}),G=o.value.find(re=>re.id===$);while(!G);if(i.visibility=x,G){for(const re of V)await L(re.id,q,{mutatePost:!1,fetch:!1})||Ve.error("Failed to delete old Reaction",{debug:n.value}),await M(G,ep.convert(re),{includeTime:!0,fetch:!1})||Ve.error("Failed to re-create Reaction",{debug:n.value});for(const re of T(q)){const ve=QE(re);await k(ve.name,G)||Ve.error("Failed to move Image",{debug:n.value})}return f(A,{amount:a.value.length}),!0}else return Ve.error("Failed to re-create Post",{debug:n.value}),!1}else return Ve.error("Failed to re-create Post",{debug:n.value}),!1}catch(q){return Ve.firebaseError(n.value,q),!1}finally{g(),i.isLoading[x].mutation=!1,i.isDatabaseMutationActive=!1}},I=async($,F={includeFiles:!0,includeReactions:!0})=>{try{i.isDatabaseDeletionActive=!0;const V=o.value.find(x=>x.id===$);if(V){F.includeReactions&&await w(V),F.includeFiles&&await B(V);const x=Lo(V);return await Gu(bt(t,r.blogPosts(x.isPrivate).id,$)),i.data[x.visibility]=i.data[x.visibility].filter(A=>A.id!==$),Ve.success("Successfully deleted Post"),!0}return!1}catch(V){return Ve.firebaseError(n.value,V),!1}finally{g(),i.isDatabaseDeletionActive=!1}},M=async($,F,V={includeTime:!1,fetch:!0})=>{try{s.isDatabaseCreationActive=!0;const x=Lo($),A=bt(t,r.blogPosts(x.isPrivate).id,$.id),q=await ii(A);if(q){const G=await IW(r.blogReactions(x.isPrivate),{user:bt(t,r.usersPublic.id,F.userId),message:F.message,date:V!=null&&V.includeTime?F.date:Qt.now(),post:A});if(await yi(bt(t,r.blogPosts(x.isPrivate).id,q.id),{reactions:[...q.reactions??[],G]}),V!=null&&V.fetch){let re=await p(q.id,x,{loadingIndicator:!1});G1(re)&&(re=null),i.data[x.visibility]=i.data[x.visibility].map(ve=>ve.id===q.id?re??ve:ve)}return Ve.success("Successfully created Reaction"),!0}return!1}catch(x){return Ve.firebaseError(n.value,x),!1}finally{g(),s.isDatabaseCreationActive=!1}},L=async($,F,V={mutatePost:!0,fetch:!0})=>{var x;try{s.isDatabaseDeletionActive=!0;const A=Lo(F);if(V.mutatePost){const q=bt(t,r.blogPosts(A.isPrivate).id,F.id),G=await ii(q);G&&await yi(q,{reactions:((x=G.reactions)==null?void 0:x.filter(re=>re.id!==$))??[]})}return await Gu(bt(t,r.blogReactions(A.isPrivate).id,$)),V!=null&&V.fetch&&(F.reactions=F.reactions.filter(q=>q.id!==$),i.data[A.visibility]=i.data[A.visibility].map(q=>q.id===F.id?F:q)),Ve.success("Successfully deleted Reaction"),!0}catch(A){return Ve.firebaseError(n.value,A),!1}finally{g(),s.isDatabaseDeletionActive=!1}},w=async $=>{try{s.isDatabaseDeletionActive=!0;const F=Lo($),V=($==null?void 0:$.reactions)??[];for(const x of V)await Gu(bt(t,r.blogReactions(F.isPrivate).id,x.id));return V.length&&Ve.success(`Successfully deleted ${V.length} Reaction${V.length!==1?"s":""}`),!0}catch(F){return Ve.firebaseError(n.value,F),!1}finally{g(),s.isDatabaseDeletionActive=!1}},T=($,F)=>{var x,A;const V=[];if($.coverImageUrl&&(!F||!F.coverImageUrl)&&V.push($.coverImageUrl),$.sections.length)for(const[q,G]of $.sections.entries()){const re=(A=(x=F==null?void 0:F.sections)==null?void 0:x[q])==null?void 0:A.coverImageUrl,ve=G.coverImageUrl;ve&&(!F||!re)&&V.push(ve)}return V},_=async $=>{try{return await ii(bt(t,r.files.path,$))}catch(F){return Ve.firebaseError(n.value,F),null}},v=async($,F,V,x,A,q,G)=>await O($.name,x,A,q,G)&&await C($,F,V),C=async($,F,V)=>{try{const x=t5($,F);return x.on("state_changed",A=>{const q=A.bytesTransferred/A.totalBytes*100;V(q)}),await x,Ve.success("Successfully uploaded File"),!0}catch(x){return Ve.firebaseError(n.value,x),!1}},O=async($,F,V,x,A)=>{try{let q;if(A){const G=Lo(A);q=bt(t,r.blogPosts(G.isPrivate).id,A.id)}return await ql(bt(t,r.files.path,$),{name:F,owner:V,post:q??null,public:x??!1}),!0}catch(q){return Ve.firebaseError(n.value,q),!1}},k=async($,F)=>{try{let V;if(F){const x=Lo(F);V=bt(t,r.blogPosts(x.isPrivate).id,F.id)}return await yi(bt(t,r.files.path,$),{post:V??null}),!0}catch(V){return Ve.firebaseError(n.value,V),!1}},Y=async($,F=!1)=>{try{return await Gu(bt(t,r.files.path,$.name)),await n5($),F||Ve.success("Successfully deleted File"),!0}catch(V){return Ve.firebaseError(n.value,V),!1}},B=async($,F)=>{try{const V=T($,F);for(const x of V)await Y(QE(x),!0);return V.length&&Ve.success(`Successfully deleted ${V.length} File${V.length!==1?"s":""}`),!0}catch(V){return Ve.firebaseError(n.value,V),!1}};return{collections:r,blogPosts:i,blogReactions:s,allBlogPosts:o,visibleBlogPosts:a,previousVisibleBlogPosts:l,isBlogPostsFetchLoading:u,isBlogPostsMutationLoading:c,isBlogPostDatabaseActionActive:h,fetchBlogPosts:f,fetchBlogPost:p,setPreviousBlogPosts:g,checkBlogPostForUnreadReactions:b,checkBlogPostsForUnreadReactions:S,createBlogPost:R,updateBlogPost:P,toggleBlogPostVisibility:E,deleteBlogPost:I,createBlogReaction:M,deleteBlogReaction:L,deleteBlogReactionsOfBlogPost:w,getFilesOfPost:T,fetchFileInfo:_,uploadFile:v,createFile:C,createFileInfo:O,updateFileInfo:k,deleteFile:Y,deleteFilesOfBlogPost:B}},{persist:{enabled:!0}}),tp=Lp("auth",()=>{const t=hm(),e=vW(),n=fm(),r=VD(),i=AH();e.onAuthStateChanged(w=>{f(),n.filteredMenuItems.length,r.$patch({blogPosts:{...r.blogPosts,data:{...r.blogPosts.data,private:[]}}}),n.fetchAll(w==null?void 0:w.uid,!0)});const s={users:lr(t,"users"),usersPublic:lr(t,"usersPublic")},o=fe(null),a=fe(null),l=fe(!1),u=fe(!1),c=fe(!1),h=ue(()=>{var w;return((w=i.value)==null?void 0:w.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}),f=async()=>{if(i.value){a.value=await ii(bt(t,s.usersPublic.id,i.value.uid));const w=await ii(bt(t,s.users.id,i.value.uid));w!=null&&(o.value=await Xc.mapIncoming(w))}},p=async(w,T)=>{try{l.value=!0;const{user:_}=await cj(e,w,T);await E(_.uid),await f(),n.fetchAll(_.uid,!0),Ve.success("Successfully logged in",{route:kn.DASHBOARD})}catch(_){Ve.firebaseError(!1,_)}finally{l.value=!1}},g=async(w,T,_)=>{try{l.value=!0;const{user:v}=await uj(e,w,T);await ql(bt(t,s.users.id,v.uid),{firstName:_,createdAt:new Date}),await I({displayName:"Anonymous",avatar:""}),await f(),Ve.success("Successfully created your account",{route:kn.DASHBOARD})}catch(v){Ve.firebaseError(!1,v)}finally{l.value=!1}},b=async(w,T)=>{try{if(l.value=!0,i.value&&i.value.email){const _=wo.credential(i.value.email,T);await sE(i.value,_),await dj(i.value,w),Ve.success("Successfully changed your e-mail")}}catch(_){Ve.firebaseError(!1,_)}finally{l.value=!1}},S=async(w,T)=>{try{if(l.value=!0,i.value&&i.value.email){const _=wo.credential(i.value.email,T);await sE(i.value,_),await hj(i.value,w),Ve.success("Successfully changed your password")}}catch(_){Ve.firebaseError(!1,_)}finally{l.value=!1}},R=async w=>{try{await lj(e,w),Ve.success("Successfully requested password reset")}catch(T){Ve.firebaseError(!1,T)}},P=async w=>{try{u.value=!0,o.value&&i.value&&(vc(Xc.convert(o.value),w)?Ve.warning("Nothing changed in your details"):(await yi(bt(t,s.users.id,i.value.uid),{firstName:w.firstName,lastName:w.lastName}),await f(),Ve.success("Successfully updated your profile")))}catch(T){Ve.firebaseError(!1,T)}finally{u.value=!1}},E=async w=>{try{await yi(bt(t,s.users.id,w),{lastLogin:new Date})}catch(T){Ve.firebaseError(!1,T)}},I=async w=>{try{u.value=!0,a.value?vc(a.value,w)?Ve.warning("Nothing changed in your public profile"):(await yi(bt(t,s.usersPublic.id,a.value.id),{displayName:w.displayName,avatar:w.avatar}),await f(),Ve.success("Successfully updated your public profile")):i.value?(await ql(bt(t,s.usersPublic.id,i.value.uid),{displayName:w.displayName,avatar:w.avatar}),await f(),Ve.success("Successfully updated your public profile")):Ve.firebaseError(!1)}catch(T){Ve.firebaseError(!1,T)}finally{u.value=!1}};return{currentUser:o,publicUser:a,firebaseUser:i,isLoginLoading:l,isMutationLoading:u,isLogoutLoading:c,isOwner:h,fetchUser:f,login:p,register:g,updateMail:b,updatePassword:S,resetPassword:R,updateUser:P,updateUserLastLogin:E,updatePublicUser:I,logout:async()=>{try{c.value=!0,await pj(e),o.value=null,a.value=null,n.fetchAll(void 0,!0),Ve.success("Successfully logged out",{route:kn.HOME})}catch(w){Ve.firebaseError(!1,w)}finally{c.value=!1}},deleteAccount:async()=>{try{c.value=!0,o.value&&i.value&&(await Gu(bt(t,s.users.id,i.value.uid)),await mj(i.value),o.value=null,a.value=null,Ve.success("Successfully deleted your account",{route:kn.HOME}))}catch(w){Ve.firebaseError(!1,w)}finally{c.value=!1}}}},{persist:{enabled:!0}}),ZE=()=>ti(()=>import("./assets/c-Blog-CZK2_NaF.js").then(t=>t.B),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),PW=()=>ti(()=>import("./assets/c-CatCalc-DuMJzaxB.js"),__vite__mapDeps([12,2,11,6,5,3]),import.meta.url),kW=()=>ti(()=>import("./assets/c-CustomVoting-BFJ6iR6g.js"),__vite__mapDeps([13,2,3,7,8,14,15]),import.meta.url),RW=()=>ti(()=>import("./assets/c-Dashboard-iXjDZXFV.js"),__vite__mapDeps([16,2,1,17,5,6,10,3]),import.meta.url),DW=()=>ti(()=>import("./assets/c-Home-DjZWcXpG.js"),__vite__mapDeps([18,3,2,19,14,20,4,5,6,7,8,9]),import.meta.url),xW=()=>ti(()=>import("./assets/c-Login-CaxDlID1.js"),__vite__mapDeps([21,2,17,5,6,3]),import.meta.url),NW=()=>ti(()=>import("./assets/c-NotFound-hvrCMA8-.js"),__vite__mapDeps([22,2,3]),import.meta.url),MW=()=>ti(()=>import("./assets/c-Profile-DNYxdvYs.js"),__vite__mapDeps([23,2,3]),import.meta.url),LW=()=>ti(()=>import("./assets/c-Profiles-gU4RMBVH.js"),__vite__mapDeps([24,2,3]),import.meta.url),VW=()=>ti(()=>import("./assets/c-Register-C41La1g3.js"),__vite__mapDeps([25,2,17,5,6,3]),import.meta.url),FW=()=>ti(()=>import("./assets/c-Games-2SnjHhJv.js"),__vite__mapDeps([26,2,3,27,1,11,6,19,14,20]),import.meta.url),$W=()=>ti(()=>import("./assets/c-Yahtzee-CxFxJCgs.js"),__vite__mapDeps([28,2,20,29,14,30,27,1,11,6,31]),import.meta.url),UW=()=>ti(()=>import("./assets/c-Rainworms-DTyrDtDa.js"),__vite__mapDeps([32,2,29,14,30,27,1,11,6,19,33]),import.meta.url),BW={HOME:{path:"/",meta:{title:"Home"},component:DW,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];jd.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:xW,beforeEnter:(t,e,n)=>{tp().currentUser?n({name:kn.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:VW,beforeEnter:(t,e,n)=>{tp().currentUser?n({name:kn.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:RW},USER_OVERVIEW:{path:"/profiles",meta:{title:"Profiles"},component:LW},USER_DETAILS:{path:"/profiles/:userId",meta:{title:"Profile"},component:MW},BLOG:{path:"/blog",meta:{title:"Blog"},component:ZE},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:ZE},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:kW},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:PW},GAMES:{path:"/games",meta:{title:"Games"},component:FW,children:[{name:yy.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:$W},{name:yy.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:UW}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:NW}},FD=Object.entries(BW).map(([t,e])=>({...e,name:kn[t]})),jd=VV({history:pV(),routes:FD,scrollBehavior(t,e,n){return n||((t.name===kn.LOGIN||t.name===kn.REGISTER)&&(e.name===kn.LOGIN||e.name===kn.REGISTER)?!1:{top:0})}}),eI=MD.name;jd.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:kn.NOT_FOUND});else{const i=t.name,s=fm();if(s.routeLoading=i,[kn.HOME,kn.LOGIN,kn.REGISTER,kn.DASHBOARD,kn.NOT_FOUND].includes(i))n();else{const a=await s.fetchMenuItems((r=tp().firebaseUser)==null?void 0:r.uid);(a==null?void 0:a.some(u=>u.route?i===u.route||FD.some(c=>{var h;return(h=c.children)==null?void 0:h.some(f=>f.name===i)}):u.url?t.path.startsWith(u.url):!1))?n():n({name:kn.NOT_FOUND})}}});jd.afterEach(()=>{const t=fm();t.routeLoading=null});jd.beforeResolve(t=>{document.title=eI+" | "+t.meta.title||eI;const e=AO();OO(e,"screen_view",{screen_name:t.path})});const $D=jd;function hi(t){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(t)}function Xe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||hi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ms(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Ai(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function UD(t,e){if(Le(2,arguments),!e||hi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=ze(t),c=r||n?Ai(u,r+n*12):u,h=s||i?ms(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,b=new Date(h.getTime()+g);return b}function jW(t,e){Le(2,arguments);var n=ze(t).getTime(),r=Xe(e);return new Date(n+r)}var HW={};function rs(){return HW}function ya(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function np(t){return Le(1,arguments),ya(t,{weekStartsOn:1})}function WW(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=np(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=np(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function qW(t){Le(1,arguments);var e=WW(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=np(n);return r}function rp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function tI(t){Le(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var zW=864e5;function KW(t,e){Le(2,arguments);var n=tI(t),r=tI(e),i=n.getTime()-rp(n),s=r.getTime()-rp(r);return Math.round((i-s)/zW)}function YW(t,e){Le(2,arguments);var n=Xe(e),r=n*3;return Ai(t,r)}function X0(t,e){Le(2,arguments);var n=Xe(e);return Ai(t,n*12)}var J0=6e4,Z0=36e5,GW=1e3;function BD(t){return Le(1,arguments),t instanceof Date||hi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yc(t){if(Le(1,arguments),!BD(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function nI(t){Le(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function jD(t,e){var n;Le(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Jc(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function QW(t){Le(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Jc(n),o=Jc(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=YW(l,1);return a}function XW(t){Le(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function JW(t){Le(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ZW(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function rI(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function HD(t,e){Le(2,arguments);var n=Xe(e);return jW(t,-n)}var eq=864e5;function tq(t){Le(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/eq)+1}function zl(t){Le(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function WD(t){Le(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=zl(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=zl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function nq(t){Le(1,arguments);var e=WD(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=zl(n);return r}var rq=6048e5;function qD(t){Le(1,arguments);var e=ze(t),n=zl(e).getTime()-nq(e).getTime();return Math.round(n/rq)+1}function _a(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function eb(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=rs(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var b=_a(g,e),S=new Date(0);S.setUTCFullYear(h,0,p),S.setUTCHours(0,0,0,0);var R=_a(S,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function iq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=eb(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=_a(p,e);return g}var sq=6048e5;function zD(t,e){Le(1,arguments);var n=ze(t),r=_a(n,e).getTime()-iq(n,e).getTime();return Math.round(r/sq)+1}function Ft(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var oq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Ft(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Ft(r+1,2)},d:function(e,n){return Ft(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Ft(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ft(e.getUTCHours(),n.length)},m:function(e,n){return Ft(e.getUTCMinutes(),n.length)},s:function(e,n){return Ft(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ft(s,n.length)}};const Bs=oq;var Wa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Bs.y(e,n)},Y:function(e,n,r,i){var s=eb(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ft(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ft(o,n.length)},R:function(e,n){var r=WD(e);return Ft(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Ft(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ft(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ft(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Bs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ft(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=zD(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ft(s,n.length)},I:function(e,n,r){var i=qD(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ft(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Bs.d(e,n)},D:function(e,n,r){var i=tq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ft(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ft(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ft(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ft(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Wa.noon:i===0?s=Wa.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Wa.evening:i>=12?s=Wa.afternoon:i>=4?s=Wa.morning:s=Wa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Bs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Bs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ft(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ft(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Bs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Bs.s(e,n)},S:function(e,n){return Bs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return sI(o);case"XXXX":case"XX":return $o(o);case"XXXXX":case"XXX":default:return $o(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return sI(o);case"xxxx":case"xx":return $o(o);case"xxxxx":case"xxx":default:return $o(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iI(o,":");case"OOOO":default:return"GMT"+$o(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iI(o,":");case"zzzz":default:return"GMT"+$o(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Ft(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Ft(o,n.length)}};function iI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Ft(s,2)}function sI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ft(Math.abs(t)/60,2)}return $o(t,e)}function $o(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Ft(Math.floor(i/60),2),o=Ft(i%60,2);return r+s+n+o}var oI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},KD=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},lq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return oI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",oI(i,n)).replace("{{time}}",KD(s,n))},_y={p:KD,P:lq},uq=["D","DD"],cq=["YY","YYYY"];function YD(t){return uq.indexOf(t)!==-1}function GD(t){return cq.indexOf(t)!==-1}function ip(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var dq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hq=function(e,n,r){var i,s=dq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const fq=hq;function Og(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var pq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vq={date:Og({formats:pq,defaultWidth:"full"}),time:Og({formats:mq,defaultWidth:"full"}),dateTime:Og({formats:gq,defaultWidth:"full"})};const yq=vq;var _q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bq=function(e,n,r,i){return _q[e]};const wq=bq;function Mu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Tq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Eq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Pq={ordinalNumber:Oq,era:Mu({values:Tq,defaultWidth:"wide"}),quarter:Mu({values:Eq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mu({values:Iq,defaultWidth:"wide"}),day:Mu({values:Sq,defaultWidth:"wide"}),dayPeriod:Mu({values:Cq,defaultWidth:"wide",formattingValues:Aq,defaultFormattingWidth:"wide"})};const kq=Pq;function Lu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Dq(a,function(h){return h.test(o)}):Rq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Rq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Dq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function xq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Nq=/^(\d+)(th|st|nd|rd)?/i,Mq=/\d+/i,Lq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vq={any:[/^b/i,/^(a|c)/i]},Fq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$q={any:[/1/i,/2/i,/3/i,/4/i]},Uq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zq={ordinalNumber:xq({matchPattern:Nq,parsePattern:Mq,valueCallback:function(e){return parseInt(e,10)}}),era:Lu({matchPatterns:Lq,defaultMatchWidth:"wide",parsePatterns:Vq,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:Fq,defaultMatchWidth:"wide",parsePatterns:$q,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Lu({matchPatterns:Uq,defaultMatchWidth:"wide",parsePatterns:Bq,defaultParseWidth:"any"}),day:Lu({matchPatterns:jq,defaultMatchWidth:"wide",parsePatterns:Hq,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:Wq,defaultMatchWidth:"any",parsePatterns:qq,defaultParseWidth:"any"})};const Kq=zq;var Yq={code:"en-US",formatDistance:fq,formatLong:yq,formatRelative:wq,localize:kq,match:Kq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const QD=Yq;var Gq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xq=/^'([^]*?)'?$/,Jq=/''/g,Zq=/[a-zA-Z]/;function co(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,b,S,R,P,E,I;Le(2,arguments);var M=String(e),L=rs(),w=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:QD,T=Xe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=Xe((p=(g=(b=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(R=n.locale)===null||R===void 0||(P=R.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&b!==void 0?b:L.weekStartsOn)!==null&&g!==void 0?g:(E=L.locale)===null||E===void 0||(I=E.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&p!==void 0?p:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!yc(v))throw new RangeError("Invalid time value");var C=rp(v),O=HD(v,C),k={firstWeekContainsDate:T,weekStartsOn:_,locale:w,_originalDate:v},Y=M.match(Qq).map(function(B){var $=B[0];if($==="p"||$==="P"){var F=_y[$];return F(B,w.formatLong)}return B}).join("").match(Gq).map(function(B){if(B==="''")return"'";var $=B[0];if($==="'")return ez(B);var F=aq[$];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&GD(B)&&ip(B,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&YD(B)&&ip(B,e,String(t)),F(O,B,w.localize,k);if($.match(Zq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return B}).join("");return Y}function ez(t){var e=t.match(Xq);return e?e[1].replace(Jq,"'"):t}function tz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function nz(t){Le(1,arguments);var e=ze(t),n=e.getDay();return n}function rz(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Oi(t){Le(1,arguments);var e=ze(t),n=e.getHours();return n}var iz=6048e5;function sz(t){Le(1,arguments);var e=ze(t),n=np(e).getTime()-qW(e).getTime();return Math.round(n/iz)+1}function Zi(t){Le(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Et(t){Le(1,arguments);var e=ze(t),n=e.getMonth();return n}function Kl(t){Le(1,arguments);var e=ze(t),n=e.getSeconds();return n}function oz(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getFullYear(),f=rs(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var b=ya(g,e),S=new Date(0);S.setFullYear(h,0,p),S.setHours(0,0,0,0);var R=ya(S,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function az(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=oz(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=ya(p,e);return g}var lz=6048e5;function uz(t,e){Le(1,arguments);var n=ze(t),r=ya(n,e).getTime()-az(n,e).getTime();return Math.round(r/lz)+1}function ut(t){return Le(1,arguments),ze(t).getFullYear()}function Zc(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function ed(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function ol(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cz(t,e){if(t){if(typeof t=="string")return aI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aI(t,e):void 0}}function lI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=cz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function by(t,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},by(t,e)}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sp(t)}function XD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!t})()}function dz(t,e){if(e&&(hi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(t)}function St(t){var e=XD();return function(){var n,r=sp(t);if(e){var i=sp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dz(this,n)}}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){if(hi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JD(t){var e=hz(t,"string");return hi(e)=="symbol"?e:e+""}function uI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JD(r.key),r)}}function yt(t,e,n){return e&&uI(t.prototype,e),n&&uI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e,n){return(e=JD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fz=10,ZD=function(){function t(){vt(this,t),Re(this,"priority",void 0),Re(this,"subPriority",0)}return yt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),pz=function(t){It(n,t);var e=St(n);function n(r,i,s,o,a){var l;return vt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return yt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(ZD),mz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",fz),Re(Me(r),"subPriority",-1),r}return yt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(ZD),xt=function(){function t(){vt(this,t),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return yt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new pz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),gz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",140),Re(Me(r),"incompatibleTokens",["R","u","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),wn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ji={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(t,e){return t&&{value:e(t.value),rest:t.rest}}function hn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Hi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Z0+s*J0+o*GW),rest:e.slice(n[0].length)}}function ex(t){return hn(wn.anyDigitsSigned,t)}function gn(t,e){switch(t){case 1:return hn(wn.singleDigit,e);case 2:return hn(wn.twoDigits,e);case 3:return hn(wn.threeDigits,e);case 4:return hn(wn.fourDigits,e);default:return hn(new RegExp("^\\d{1,"+t+"}"),e)}}function op(t,e){switch(t){case 1:return hn(wn.singleDigitSigned,e);case 2:return hn(wn.twoDigitsSigned,e);case 3:return hn(wn.threeDigitsSigned,e);case 4:return hn(wn.fourDigitsSigned,e);default:return hn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function tb(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function tx(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function nx(t){return t%400===0||t%4===0&&t%100!==0}var vz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Tn(gn(4,i),a);case"yo":return Tn(o.ordinalNumber(i,{unit:"year"}),a);default:return Tn(gn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=tx(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),yz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Tn(gn(4,i),a);case"Yo":return Tn(o.ordinalNumber(i,{unit:"year"}),a);default:return Tn(gn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=eb(i,a);if(o.isTwoDigitYear){var u=tx(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_a(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_a(i,a)}}]),n}(xt),_z=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return op(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),zl(a)}}]),n}(xt),bz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return op(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),wz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return gn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Tz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return gn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Ez=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Me(r),"priority",110),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Tn(hn(wn.month,i),a);case"MM":return Tn(gn(2,i),a);case"Mo":return Tn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Iz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",110),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Tn(hn(wn.month,i),a);case"LL":return Tn(gn(2,i),a);case"Lo":return Tn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function Sz(t,e,n){Le(2,arguments);var r=ze(t),i=Xe(e),s=zD(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Cz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return hn(wn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return _a(Sz(i,o,a),a)}}]),n}(xt);function Az(t,e){Le(2,arguments);var n=ze(t),r=Xe(e),i=qD(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Oz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return hn(wn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return zl(Az(i,o))}}]),n}(xt),Pz=[31,28,31,30,31,30,31,31,30,31,30,31],kz=[31,29,31,30,31,30,31,31,30,31,30,31],Rz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subPriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return hn(wn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=nx(o),l=i.getUTCMonth();return a?s>=1&&s<=kz[l]:s>=1&&s<=Pz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Dz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subpriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return hn(wn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=nx(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function nb(t,e,n){var r,i,s,o,a,l,u,c;Le(2,arguments);var h=rs(),f=Xe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Xe(e),b=p.getUTCDay(),S=g%7,R=(S+7)%7,P=(R<f?7:0)+g-b;return p.setUTCDate(p.getUTCDate()+P),p}var xz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=nb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Nz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return Tn(gn(s.length,i),l);case"eo":return Tn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=nb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Mz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return Tn(gn(s.length,i),l);case"co":return Tn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=nb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function Lz(t,e){Le(2,arguments);var n=Xe(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var Vz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return gn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Tn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Tn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Tn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Tn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=Lz(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Fz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(tb(o),0,0,0),i}}]),n}(xt),$z=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(tb(o),0,0,0),i}}]),n}(xt),Uz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","b","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(tb(o),0,0,0),i}}]),n}(xt),Bz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["H","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return hn(wn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),jz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return hn(wn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(xt),Hz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["h","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return hn(wn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),Wz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return hn(wn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(xt),qz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",60),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return hn(wn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(xt),zz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",50),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return hn(wn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(xt),Kz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",30),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Tn(gn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(xt),Yz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","x"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Hi(ji.basicOptionalMinutes,i);case"XX":return Hi(ji.basic,i);case"XXXX":return Hi(ji.basicOptionalSeconds,i);case"XXXXX":return Hi(ji.extendedOptionalSeconds,i);case"XXX":default:return Hi(ji.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),Gz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","X"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Hi(ji.basicOptionalMinutes,i);case"xx":return Hi(ji.basic,i);case"xxxx":return Hi(ji.basicOptionalSeconds,i);case"xxxxx":return Hi(ji.extendedOptionalSeconds,i);case"xxx":default:return Hi(ji.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),Qz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",40),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return ex(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(xt),Xz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",20),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return ex(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(xt),Jz={G:new gz,y:new vz,Y:new yz,R:new _z,u:new bz,Q:new wz,q:new Tz,M:new Ez,L:new Iz,w:new Cz,I:new Oz,d:new Rz,D:new Dz,E:new xz,e:new Nz,c:new Mz,i:new Vz,a:new Fz,b:new $z,B:new Uz,h:new Bz,H:new jz,K:new Hz,k:new Wz,m:new qz,s:new zz,S:new Kz,X:new Yz,x:new Gz,t:new Qz,T:new Xz},Zz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tK=/^'([^]*?)'?$/,nK=/''/g,rK=/\S/,iK=/[a-zA-Z]/;function wy(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,b,S,R,P,E,I,M;Le(3,arguments);var L=String(t),w=String(e),T=rs(),_=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:T.locale)!==null&&i!==void 0?i:QD;if(!_.match)throw new RangeError("locale must contain match property");var v=Xe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(f=T.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Xe((g=(b=(S=(R=r==null?void 0:r.weekStartsOn)!==null&&R!==void 0?R:r==null||(P=r.locale)===null||P===void 0||(E=P.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&S!==void 0?S:T.weekStartsOn)!==null&&b!==void 0?b:(I=T.locale)===null||I===void 0||(M=I.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(w==="")return L===""?ze(n):new Date(NaN);var O={firstWeekContainsDate:v,weekStartsOn:C,locale:_},k=[new mz],Y=w.match(eK).map(function(ie){var X=ie[0];if(X in _y){var ce=_y[X];return ce(ie,_.formatLong)}return ie}).join("").match(Zz),B=[],$=lI(Y),F;try{var V=function(){var X=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&GD(X)&&ip(X,w,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&YD(X)&&ip(X,w,t);var ce=X[0],be=Jz[ce];if(be){var ee=be.incompatibleTokens;if(Array.isArray(ee)){var D=B.find(function(j){return ee.includes(j.token)||j.token===ce});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));B.push({token:ce,fullToken:X});var U=be.run(L,X,_.match,O);if(!U)return{v:new Date(NaN)};k.push(U.setter),L=U.rest}else{if(ce.match(iK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");if(X==="''"?X="'":ce==="'"&&(X=sK(X)),L.indexOf(X)===0)L=L.slice(X.length);else return{v:new Date(NaN)}}};for($.s();!(F=$.n()).done;){var x=V();if(hi(x)==="object")return x.v}}catch(ie){$.e(ie)}finally{$.f()}if(L.length>0&&rK.test(L))return new Date(NaN);var A=k.map(function(ie){return ie.priority}).sort(function(ie,X){return X-ie}).filter(function(ie,X,ce){return ce.indexOf(ie)===X}).map(function(ie){return k.filter(function(X){return X.priority===ie}).sort(function(X,ce){return ce.subPriority-X.subPriority})}).map(function(ie){return ie[0]}),q=ze(n);if(isNaN(q.getTime()))return new Date(NaN);var G=HD(q,rp(q)),re={},ve=lI(A),te;try{for(ve.s();!(te=ve.n()).done;){var H=te.value;if(!H.validate(G,O))return new Date(NaN);var Q=H.set(G,re,O);Array.isArray(Q)?(G=Q[0],tz(re,Q[1])):G=Q}}catch(ie){ve.e(ie)}finally{ve.f()}return G}function sK(t){return t.match(tK)[1].replace(nK,"'")}function cI(t,e){Le(2,arguments);var n=Jc(t),r=Jc(e);return n.getTime()===r.getTime()}function oK(t,e){Le(2,arguments);var n=Xe(e);return ms(t,-n)}function aK(t,e){var n;Le(1,arguments);var r=Xe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=dK(t),s;if(i.date){var o=hK(i.date,r);s=fK(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=pK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=mK(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Dh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dK(t){var e={},n=t.split(Dh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Dh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Dh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Dh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function hK(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function fK(t,e){if(e===null)return new Date(NaN);var n=t.match(lK);if(!n)return new Date(NaN);var r=!!n[4],i=Vu(n[1]),s=Vu(n[2])-1,o=Vu(n[3]),a=Vu(n[4]),l=Vu(n[5])-1;if(r)return bK(e,a,l)?gK(e,a,l):new Date(NaN);var u=new Date(0);return!yK(e,s,o)||!_K(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Vu(t){return t?parseInt(t):1}function pK(t){var e=t.match(uK);if(!e)return NaN;var n=Pg(e[1]),r=Pg(e[2]),i=Pg(e[3]);return wK(n,r,i)?n*Z0+r*J0+i*1e3:NaN}function Pg(t){return t&&parseFloat(t.replace(",","."))||0}function mK(t){if(t==="Z")return 0;var e=t.match(cK);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return TK(r,i)?n*(r*Z0+i*J0):NaN}function gK(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var vK=[31,null,31,30,31,30,31,31,30,31,30,31];function rx(t){return t%400===0||t%4===0&&t%100!==0}function yK(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(vK[e]||(rx(t)?29:28))}function _K(t,e){return e>=1&&e<=(rx(t)?366:365)}function bK(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function wK(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function TK(t,e){return e>=0&&e<=59}function ix(t,e){Le(2,arguments);var n=ze(t),r=Xe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=rz(o);return n.setMonth(r,Math.min(s,a)),n}function on(t,e){if(Le(2,arguments),hi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ix(n,e.month)),e.date!=null&&n.setDate(Xe(e.date)),e.hours!=null&&n.setHours(Xe(e.hours)),e.minutes!=null&&n.setMinutes(Xe(e.minutes)),e.seconds!=null&&n.setSeconds(Xe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Xe(e.milliseconds)),n)}function sx(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setHours(r),n}function rb(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setMilliseconds(r),n}function ox(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setMinutes(r),n}function ib(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setSeconds(r),n}function zi(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Yl(t,e){Le(2,arguments);var n=Xe(e);return Ai(t,-n)}function EK(t,e){if(Le(2,arguments),!e||hi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=Yl(t,r+n*12),c=oK(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function ax(t,e){Le(2,arguments);var n=Xe(e);return X0(t,-n)}function hu(){return W(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ce("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}hu.compatConfig={MODE:3};function lx(){return W(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ce("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}lx.compatConfig={MODE:3};function sb(){return W(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}sb.compatConfig={MODE:3};function ob(){return W(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ob.compatConfig={MODE:3};function ab(){return W(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ce("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}ab.compatConfig={MODE:3};function lb(){return W(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}lb.compatConfig={MODE:3};function ub(){return W(),Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ub.compatConfig={MODE:3};function cb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ux={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(ux);var IK=ux.exports,Ty={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Ty,Ty.exports);var SK=Ty.exports;const CK=cb(SK);var Ey={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Ey,Ey.exports);var AK=Ey.exports;const dI=cb(AK);function OK(t,e){var n=DK(e);return n.formatToParts?kK(n,t):RK(n,t)}var PK={year:0,month:1,day:2,hour:3,minute:4,second:5};function kK(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=PK[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function RK(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var kg={};function DK(t){if(!kg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";kg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return kg[t]}function db(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var hI=36e5,xK=6e4,Rg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function hb(t,e,n){var r,i;if(t===""||(r=Rg.timezoneZ.exec(t),r))return 0;var s;if(r=Rg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),fI(s)?-(s*hI):NaN;if(r=Rg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return fI(s,o)?(i=Math.abs(s)*hI+o*xK,s>0?-i:i):NaN}if(LK(t)){e=new Date(e||Date.now());var a=n?e:NK(e),l=Iy(a,t),u=n?l:MK(e,l,t);return-u}return NaN}function NK(t){return db(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Iy(t,e){var n=OK(t,e),r=db(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function MK(t,e,n){var r=t.getTime(),i=r-e,s=Iy(new Date(i),n);if(e===s)return e;i-=s-e;var o=Iy(new Date(i),n);return s===o?s:Math.max(s,o)}function fI(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var pI={};function LK(t){if(pI[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),pI[t]=!0,!0}catch{return!1}}var cx=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Dg=36e5,mI=6e4,VK=2,Or={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:cx};function Sy(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?VK:CK(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=FK(t),s=$K(i.date,r),o=s.year,a=s.restDateString,l=UK(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=BK(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=hb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=dI(new Date(u+c)),h=dI(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function FK(t){var e={},n=Or.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Or.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Or.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function $K(t,e){var n=Or.YYY[e],r=Or.YYYYY[e],i;if(i=Or.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Or.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function UK(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Or.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,vI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Or.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return WK(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Or.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return vI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Or.Www.exec(t),n)return s=parseInt(n[1],10)-1,yI(e,s)?gI(e,s):new Date(NaN);if(n=Or.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return yI(e,s,l)?gI(e,s,l):new Date(NaN)}return null}function BK(t){var e,n,r;if(e=Or.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),xg(n)?n%24*Dg:NaN;if(e=Or.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),xg(n,r)?n%24*Dg+r*mI:NaN;if(e=Or.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return xg(n,r,i)?n%24*Dg+r*mI+i*1e3:NaN}return null}function gI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var jK=[31,28,31,30,31,30,31,31,30,31,30,31],HK=[31,29,31,30,31,30,31,31,30,31,30,31];function dx(t){return t%400===0||t%4===0&&t%100!==0}function vI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=dx(t);if(r&&n>HK[e]||!r&&n>jK[e])return!1}return!0}function WK(t,e){if(e<1)return!1;var n=dx(t);return!(n&&e>366||!n&&e>365)}function yI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function xg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Cy={exports:{}},Ay={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Ay,Ay.exports);var qK=Ay.exports;(function(t,e){var n=IK.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(qK);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Cy,Cy.exports);var zK=Cy.exports;const KK=cb(zK);function YK(t,e,n){var r=Sy(t,n),i=hb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function GK(t,e,n){if(typeof t=="string"&&!t.match(cx)){var r=KK(n);return r.timeZone=e,Sy(t,r)}var i=Sy(t,n),s=db(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=hb(e,new Date(s));return new Date(s+o)}function _I(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function QK(t){return e=>co(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const XK=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(QK(t))}catch{i=r.map(_I(e))}else i=r.map(_I(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},fb=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},hx=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=co(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},JK=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Nn=t=>{const e=K(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},ZK=t=>Object.assign({type:"dot"},t),fx=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,ap={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Vn=t=>t,bI=t=>t===0?t:!t||isNaN(+t)?null:+t,wI=t=>t===null,eY=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},tY=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},td=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Gl=(t,e)=>tY(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ho=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},nY=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function rY(t,e){let n=[...document.querySelectorAll(nY())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const iY=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},TI=(t,e,n,r,i)=>{const s=wy(t,e.slice(0,t.length),new Date);return yc(s)&&BD(s)?r||i?s:on(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},sY=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return TI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=TI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ye=t=>t?new Date(t):new Date,oY=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},_r=t=>{let e=ye(JSON.parse(JSON.stringify(t)));return e=sx(e,0),e=ox(e,0),e=ib(e,0),e=rb(e,0),e},fo=(t,e,n,r)=>{let i=t?ye(t):ye();return(e||e===0)&&(i=sx(i,+e)),(n||n===0)&&(i=ox(i,+n)),(r||r===0)&&(i=ib(i,+r)),rb(i,0)},Xn=(t,e)=>!t||!e?!1:ed(_r(t),_r(e)),Rt=(t,e)=>!t||!e?!1:ol(_r(t),_r(e)),gr=(t,e)=>!t||!e?!1:Zc(_r(t),_r(e)),pm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?gr(n,t[0])&&Xn(n,t[1]):t!=null&&t[0]&&e?gr(n,t[0])&&Xn(n,e)||Xn(n,t[0])&&gr(n,e):!1,wi=t=>{const e=on(new Date(t),{date:1});return _r(e)},Ng=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Zo=t=>({hours:Oi(t),minutes:Zi(t),seconds:Kl(t)}),px=(t,e)=>{if(e){const n=ut(ye(e));if(n>t)return 12;if(n===t)return Et(ye(e))}},mx=(t,e)=>{if(e){const n=ut(ye(e));return n<t?-1:n===t?Et(ye(e)):void 0}},Ql=t=>{if(t)return ut(ye(t))},Pi=(t,e)=>e?YK(t,e):t,gx=(t,e)=>e?GK(t,e):t,aY=t=>t instanceof Date?t:aK(t),vx=(t,e)=>{const n=gr(t,e)?e:t,r=gr(e,t)?e:t;return jD({start:n,end:r})},lY=t=>{const e=Ai(t,1);return{month:Et(e),year:ut(e)}},ef=(t,e,n)=>{const r=ya(Pi(t,e),{weekStartsOn:+n}),i=ZW(Pi(t,e),{weekStartsOn:+n});return[r,i]},yx=(t,e)=>{const n={hours:Oi(ye()),minutes:Zi(ye()),seconds:e?Kl(ye()):0};return Object.assign(n,t)},ro=(t,e,n)=>[on(ye(t),{date:1}),on(ye(),{month:e,year:n,date:1})],bs=(t,e,n)=>{let r=t?ye(t):ye();return(e||e===0)&&(r=ix(r,e)),n&&(r=zi(r,n)),r},_x=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Ai(t,1):Yl(t,1),o=[Et(s),ut(s)];return i?!cY(...o,e):!uY(...o,n)},uY=(t,e,n)=>Xn(...ro(n,t,e))||Rt(...ro(n,t,e)),cY=(t,e,n)=>gr(...ro(n,t,e))||Rt(...ro(n,t,e)),bx=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${co(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?co(t[1],s,a):""}`:co(t,s,a)},qa=t=>{if(t)return null;throw new Error(ap.prop("partial-range"))},xh=(t,e)=>{if(e)return t();throw new Error(ap.prop("range"))},Oy=t=>Array.isArray(t)?yc(t[0])&&(t[1]?yc(t[1]):!0):t?yc(t):!1,dY=(t,e)=>on(e??ye(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Mg=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?ed(t,e):Zc(t,e),s={seconds:0,milliseconds:0};return i||ol(on(t,s),on(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Lg=(t,e,n)=>t?dY(t,e):ye(n??e),EI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Lg(t,r[0],e),a=Lg(t,r[1],e);return Mg(r[0],o,n,!!e)&&Mg(r[1],a,n,!!e)&&i}const s=Lg(t,r,e);return Mg(r,s,n,!!e)&&i},Vg=t=>on(ye(),Zo(t)),hY=(t,e)=>Array.isArray(t)?t.map(n=>ye(n)).filter(n=>ut(ye(n))===e).map(n=>Et(n)):[],wx=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),pb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Fu=Rr({menuFocused:!1,shiftKeyInMenu:!1}),Tx=()=>{const t=n=>{Fu.menuFocused=n},e=n=>{Fu.shiftKeyInMenu!==n&&(Fu.shiftKeyInMenu=n)};return{control:ue(()=>({shiftKeyInMenu:Fu.shiftKeyInMenu,menuFocused:Fu.menuFocused})),setMenuFocused:t,setShiftKey:e}},en=Rr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Fg=fe(null),Nh=fe(!1),$g=fe(!1),Ug=fe(!1),Bg=fe(!1),Er=fe(0),zn=fe(0),Po=()=>{const t=ue(()=>Nh.value?[...en.selectionGrid,en.actionRow].filter(h=>h.length):$g.value?[...en.timePicker[0],...en.timePicker[1],Bg.value?[]:[Fg.value],en.actionRow].filter(h=>h.length):Ug.value?[...en.monthPicker,en.actionRow]:[en.monthYear,...en.calendar,en.time,en.actionRow].filter(h=>h.length)),e=h=>{Er.value=h?Er.value+1:Er.value-1;let f=null;t.value[zn.value]&&(f=t.value[zn.value][Er.value]),f||(Er.value=h?Er.value-1:Er.value+1)},n=h=>{zn.value===0&&!h||zn.value===t.value.length&&h||(zn.value=h?zn.value+1:zn.value-1,t.value[zn.value]?t.value[zn.value]&&!t.value[zn.value][Er.value]&&Er.value!==0&&(Er.value=t.value[zn.value].length-1):zn.value=h?zn.value-1:zn.value+1)},r=h=>{let f=null;t.value[zn.value]&&(f=t.value[zn.value][Er.value]),f?f.focus({preventScroll:!Nh.value}):Er.value=h?Er.value-1:Er.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{en[f]=h},u=(h,f)=>{en[f]=h},c=()=>{Er.value=0,zn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Fg.value=h},setSelectionGrid:h=>{Nh.value=h,c(),h||(en.selectionGrid=[])},setTimePicker:(h,f=!1)=>{$g.value=h,Bg.value=f,c(),h||(en.timePicker[0]=[],en.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{en.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{en.monthYear=[],en.calendar=[],en.time=[],en.actionRow=[],en.selectionGrid=[],en.timePicker[0]=[],en.timePicker[1]=[],Nh.value=!1,$g.value=!1,Bg.value=!1,Ug.value=!1,c(),Fg.value=null},setMonthPicker:h=>{Ug.value=h,c()},refSets:en}},II=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),fY=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),SI=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,pY=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:SI(!1)};const r=e?t:{},i=e?r.count??!0:t,s=SI(i);return Object.assign(n,r,{count:s})},mY=(t,e,n)=>t||(typeof n=="string"?n:e),gY=t=>typeof t=="boolean"?t?II({}):!1:II(t),vY=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},yY=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),_Y=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),bY=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},wY=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),TY=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ye(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},EY=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},En=t=>{const e=()=>{const R=t.enableSeconds?":ss":"";return t.is24?`HH:mm${R}`:`hh:mm${R} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=R=>yx(R,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ue(()=>pY(t.multiCalendars)),o=ue(()=>i()),a=ue(()=>fY(t.ariaLabels)),l=ue(()=>yY(t.filters)),u=ue(()=>gY(t.transitions)),c=ue(()=>_Y(t.actionRow)),h=ue(()=>mY(t.previewFormat,t.format,n())),f=ue(()=>vY(t.textInput)),p=ue(()=>bY(t.inline)),g=ue(()=>wY(t.config)),b=ue(()=>TY(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),S=ue(()=>EY(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:b,defaultedWeekNumbers:S,getDefaultPattern:n,getDefaultStartTime:i}},IY=(t,e,n)=>{const r=fe(),{defaultedTextInput:i,getDefaultPattern:s}=En(e),o=fe(""),a=Cc(e,"format");Cn(r,()=>{t("internal-model-change",r.value)}),Cn(a,()=>{Y()});const l=A=>gx(A,e.timezone),u=A=>Pi(A,e.timezone),c=(A,q,G=!1)=>bx(A,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,q??s(),G),h=A=>A?e.modelType?$(A):{hours:Oi(A),minutes:Zi(A),seconds:e.enableSeconds?Kl(A):0}:null,f=A=>e.modelType?$(A):{month:Et(A),year:ut(A)},p=A=>Array.isArray(A)?e.multiDates?A.map(q=>g(q,zi(ye(),q))):xh(()=>[zi(ye(),A[0]),A[1]?zi(ye(),A[1]):qa(e.partialRange)],e.range):zi(ye(),+A),g=(A,q)=>(typeof A=="string"||typeof A=="number")&&e.modelType?B(A):q,b=A=>Array.isArray(A)?[g(A[0],fo(null,+A[0].hours,+A[0].minutes,A[0].seconds)),g(A[1],fo(null,+A[1].hours,+A[1].minutes,A[1].seconds))]:g(A,fo(null,A.hours,A.minutes,A.seconds)),S=A=>Array.isArray(A)?e.multiDates?A.map(q=>g(q,bs(null,+q.month,+q.year))):xh(()=>[g(A[0],bs(null,+A[0].month,+A[0].year)),g(A[1],A[1]?bs(null,+A[1].month,+A[1].year):qa(e.partialRange))],e.range):g(A,bs(null,+A.month,+A.year)),R=A=>{if(Array.isArray(A))return A.map(q=>B(q));throw new Error(ap.dateArr("multi-dates"))},P=A=>{if(Array.isArray(A))return[ye(A[0]),ye(A[1])];throw new Error(ap.dateArr("week-picker"))},E=A=>e.modelAuto?Array.isArray(A)?[B(A[0]),B(A[1])]:e.autoApply?[B(A)]:[B(A),null]:Array.isArray(A)?xh(()=>[B(A[0]),A[1]?B(A[1]):qa(e.partialRange)],e.range):B(A),I=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(qa(e.partialRange))},M=()=>{const A=r.value;return[$(A[0]),A[1]?$(A[1]):qa(e.partialRange)]},L=()=>r.value[1]?M():$(Vn(r.value[0])),w=()=>(r.value||[]).map(A=>$(A)),T=()=>(I(),e.modelAuto?L():e.multiDates?w():Array.isArray(r.value)?xh(()=>M(),e.range):$(Vn(r.value))),_=A=>!A||Array.isArray(A)&&!A.length?null:e.timePicker?b(Vn(A)):e.monthPicker?S(Vn(A)):e.yearPicker?p(Vn(A)):e.multiDates?R(Vn(A)):e.weekPicker?P(Vn(A)):E(Vn(A)),v=A=>{const q=_(A);Oy(Vn(q))?(r.value=Vn(q),Y()):(r.value=null,o.value="")},C=()=>{const A=q=>co(q,i.value.format);return`${A(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?A(r.value[1]):""}`},O=()=>n.value&&r.value?Array.isArray(r.value)?C():co(r.value,i.value.format):c(r.value),k=()=>r.value?e.multiDates?r.value.map(A=>c(A)).join("; "):i.value.enabled&&typeof i.value.format=="string"?O():c(r.value):"",Y=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=k():o.value=e.format(r.value)},B=A=>{if(e.utc){const q=new Date(A);return e.utc==="preserve"?new Date(q.getTime()+q.getTimezoneOffset()*6e4):q}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(A)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?wy(A,s(),new Date):u(wy(A,e.modelType,new Date)):u(new Date(A))},$=A=>A?e.utc?oY(A,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(A):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(A)):c(l(A),e.modelType,!0):l(A):"",F=(A,q=!1)=>{if(t("update:model-value",A),e.emitTimezone&&q){const G=Array.isArray(A)?A.map(re=>Pi(Vn(re)),e.emitTimezone):Pi(Vn(A),e.emitTimezone);t("update:model-timezone-value",G)}},V=A=>Array.isArray(r.value)?e.multiDates?r.value.map(q=>A(q)):[A(r.value[0]),r.value[1]?A(r.value[1]):qa(e.partialRange)]:A(Vn(r.value)),x=A=>F(Vn(V(A)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:Y,emitModelValue:()=>(Y(),e.monthPicker?x(f):e.timePicker?x(h):e.yearPicker?x(ut):e.weekPicker?F(r.value.map(A=>$(A)),!0):F(T(),!0))}},SY=(t,e)=>{const{defaultedFilters:n}=En(t),{validateMonthYearInRange:r}=Ra(t),i=(u,c)=>{let h=u;return n.value.months.includes(Et(h))?(h=c?Ai(u,1):Yl(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ut(h))?(h=c?X0(u,1):ax(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=on(new Date,{month:t.month,year:t.year});let f=u?Ai(h,1):Yl(h,1);t.disableYearSelect&&(f=zi(f,t.year));let p=Et(f),g=ut(f);n.value.months.includes(p)&&(f=i(f,u),p=Et(f),g=ut(f)),n.value.years.includes(g)&&(f=s(f,u),g=ut(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=ue(()=>u=>_x(on(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var Za=(t=>(t.center="center",t.left="left",t.right="right",t))(Za||{}),gi=(t=>(t.month="month",t.year="year",t))(gi||{}),Uo=(t=>(t.top="top",t.bottom="bottom",t))(Uo||{}),ea=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ea||{}),Bi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bi||{});const CY=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=fe({}),u=fe(!1),c=fe({top:"0",left:"0"}),h=fe(!1),f=Cc(o,"teleportCenter");Cn(f,()=>{c.value=JSON.parse(JSON.stringify({})),I()});const p=B=>{if(o.teleport){const $=B.getBoundingClientRect();return{left:$.left+window.scrollX,top:$.top+window.scrollY}}return{top:0,left:0}},g=(B,$)=>{c.value.left=`${B+$-l.value.width}px`},b=B=>{c.value.left=`${B}px`},S=(B,$)=>{o.position===Za.left&&b(B),o.position===Za.right&&g(B,$),o.position===Za.center&&(c.value.left=`${B+$/2-l.value.width/2}px`)},R=B=>{const{width:$,height:F}=B.getBoundingClientRect(),{top:V,left:x}=o.altPosition?o.altPosition(B):p(B);return{top:+V,left:+x,width:$,height:F}},P=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},E=()=>{const B=Nn(n),{top:$,left:F,transform:V}=o.altPosition(B);c.value={top:`${$}px`,left:`${F}px`,transform:V??""}},I=(B=!0)=>{var $;if(!i.value.enabled){if(f.value)return P();if(o.altPosition!==null)return E();if(B){const F=o.teleport?($=e.value)==null?void 0:$.$el:t.value;F&&(l.value=F.getBoundingClientRect()),s("recalculate-position")}return C()}},M=({inputEl:B,left:$,width:F})=>{window.screen.width>768&&!u.value&&S($,F),T(B)},L=B=>{const{top:$,left:F,height:V,width:x}=R(B);c.value.top=`${V+$+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${F+x/2-l.value.width/2}px`),M({inputEl:B,left:F,width:x})},w=B=>{const{top:$,left:F,width:V}=R(B);c.value.top=`${$-+o.offset-l.value.height}px`,h.value=!0,M({inputEl:B,left:F,width:V})},T=B=>{if(o.autoPosition){const{left:$,width:F}=R(B),{left:V,right:x}=l.value;if(!u.value){if(Math.abs(V)!==Math.abs(x)){if(V<=0)return u.value=!0,b($);if(x>=document.documentElement.clientWidth)return u.value=!0,g($,F)}return S($,F)}}},_=()=>{const B=Nn(n);if(B){const{height:$}=l.value,{top:F,height:V}=B.getBoundingClientRect(),x=window.innerHeight-F-V,A=F;return $<=x?Uo.bottom:$>x&&$<=A?Uo.top:x>=A?Uo.bottom:Uo.top}return Uo.bottom},v=B=>_()===Uo.bottom?L(B):w(B),C=()=>{const B=Nn(n);if(B)return o.autoPosition?v(B):L(B)},O=function(B){if(B){const $=B.scrollHeight>B.clientHeight,F=window.getComputedStyle(B).overflowY.indexOf("hidden")!==-1;return $&&!F}return!0},k=function(B){return!B||B===document.body||B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:O(B)?B:k(B.parentNode)},Y=B=>{if(B)switch(o.position){case Za.left:return{left:0,transform:"translateX(0)"};case Za.right:return{left:`${B.width}px`,transform:"translateX(-100%)"};default:return{left:`${B.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:I,getScrollableParent:k,shadowRender:(B,$)=>{var F,V,x;const A=document.createElement("div"),q=(F=Nn(n))==null?void 0:F.getBoundingClientRect();A.setAttribute("id","dp--temp-container");const G=(V=r.value)!=null&&V.clientWidth?r.value:document.body;G.append(A);const re=Y(q),ve=Ol(B,{...$,shadow:!0,style:{opacity:0,position:"absolute",...re}},Object.fromEntries(Object.keys(a).filter(te=>["right-sidebar","left-sidebar"].includes(te)).map(te=>[te,a[te]])));xc(ve,A),l.value=(x=ve.el)==null?void 0:x.getBoundingClientRect(),xc(null,A),G.removeChild(A)}}},js=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],AY=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],OY={all:()=>js,monthYear:()=>js.filter(t=>t.use.includes("month-year")),input:()=>AY,timePicker:()=>js.filter(t=>t.use.includes("time")),action:()=>js.filter(t=>t.use.includes("action")),calendar:()=>js.filter(t=>t.use.includes("calendar")),menu:()=>js.filter(t=>t.use.includes("menu")),shared:()=>js.filter(t=>t.use.includes("shared")),yearMode:()=>js.filter(t=>t.use.includes("year-mode"))},Gr=(t,e,n)=>{const r=[];return OY[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Hd=t=>{const e=ue(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ue(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Wd=(t,e)=>{const n=ye(Pi(new Date,t.timezone)),r=fe([{month:Et(n),year:ut(n)}]),i=Rr({hours:t.range?[Oi(n),Oi(n)]:Oi(n),minutes:t.range?[Zi(n),Zi(n)]:Zi(n),seconds:t.range?[0,0]:0}),s=ue({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ue(()=>l=>r.value[l]?r.value[l].month:0),a=ue(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},PY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=En(e),{isDisabled:i,matchDate:s}=Ra(e),o=fe(null),a=fe(ye(Pi(new Date,e.timezone))),l=x=>{!x.current&&e.hideOffsetDates||(o.value=x.value)},u=()=>{o.value=null},c=x=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?x?gr(o.value,t.value[0]):Xn(o.value,t.value[0]):!0,h=(x,A)=>{const q=()=>t.value?A?t.value[0]||null:t.value[1]:null,G=t.value&&Array.isArray(t.value)?q():null;return Rt(ye(x.value),G)},f=x=>{const A=Array.isArray(t.value)?t.value[0]:null;return x?!Xn(o.value??null,A):!0},p=(x,A=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!x.current?!1:Rt(ye(x.value),t.value[A?0:1]):e.range?h(x,A)&&f(A)||Rt(x.value,Array.isArray(t.value)?t.value[0]:null)&&c(A):!1,g=(x,A,q)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?x?!1:q?gr(t.value[0],A.value):Xn(t.value[0],A.value):!1,b=x=>!t.value||e.hideOffsetDates&&!x.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Rt(x.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(A=>Rt(A,x.value)):Rt(x.value,t.value?t.value:a.value),S=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const A=ms(o.value,+e.autoRange),q=ef(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(q[1],ye(x.value)):Rt(A,ye(x.value))}return!1}return!1},R=x=>{if(e.autoRange||e.weekPicker){if(o.value){const A=ms(o.value,+e.autoRange);if(e.hideOffsetDates&&!x.current)return!1;const q=ef(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?gr(x.value,q[0])&&Xn(x.value,q[1]):gr(x.value,o.value)&&Xn(x.value,A)}return!1}return!1},P=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const A=ef(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(A[0],x.value):Rt(o.value,x.value)}return!1}return!1},E=x=>pm(t.value,o.value,x.value),I=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?fx(e.internalModelValue):!0,L=x=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const A=e.range?!p(x)&&!p(x,!1):!0;return!i(x.value)&&!b(x)&&!(!x.current&&e.hideOffsetDates)&&A},w=x=>e.range?e.modelAuto?I()&&b(x):!1:b(x),T=x=>{var A;return r.value?typeof r.value=="function"?r.value(x.value):s(x.value,(A=e.arrMapValues)!=null&&A.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},_=x=>{const A=i(x.value);return A&&(typeof r.value=="function"?!r.value(x.value,A):!r.value.options.highlightDisabled)},v=x=>{var A;return typeof r.value=="function"?r.value(x.value):(A=r.value.weekdays)==null?void 0:A.includes(x.value.getDay())},C=x=>(e.range||e.weekPicker)&&(!(n.value.count>0)||x.current)&&M()&&!(!x.current&&e.hideOffsetDates)&&!b(x)?E(x):!1,O=x=>{const{isRangeStart:A,isRangeEnd:q}=B(x),G=e.range?A||q:!1;return{dp__cell_offset:!x.current,dp__pointer:!e.disabled&&!(!x.current&&e.hideOffsetDates)&&!i(x.value),dp__cell_disabled:i(x.value),dp__cell_highlight:!_(x)&&(T(x)||v(x))&&!w(x)&&!G&&!P(x)&&!(C(x)&&e.weekPicker)&&!q,dp__cell_highlight_active:!_(x)&&(T(x)||v(x))&&w(x),dp__today:!e.noToday&&Rt(x.value,a.value)&&x.current}},k=x=>({dp__active_date:w(x),dp__date_hover:L(x)}),Y=x=>({...$(x),...F(x),dp__range_between_week:C(x)&&e.weekPicker}),B=x=>{const A=n.value.count>0?x.current&&p(x)&&M():p(x)&&M(),q=n.value.count>0?x.current&&p(x,!1)&&M():p(x,!1)&&M();return{isRangeStart:A,isRangeEnd:q}},$=x=>{const{isRangeStart:A,isRangeEnd:q}=B(x);return{dp__range_start:A,dp__range_end:q,dp__range_between:C(x)&&!e.weekPicker,dp__date_hover_start:g(L(x),x,!0),dp__date_hover_end:g(L(x),x,!1)}},F=x=>({...$(x),dp__cell_auto_range:R(x),dp__cell_auto_range_start:P(x),dp__cell_auto_range_end:S(x)}),V=x=>e.range?e.autoRange?F(x):e.modelAuto?{...k(x),...$(x)}:$(x):e.weekPicker?Y(x):k(x);return{setHoverDate:l,clearHoverDate:u,getDayClassData:x=>e.hideOffsetDates&&!x.current?{}:{...O(x),...V(x),[e.dayClass?e.dayClass(x.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ra=t=>{const{defaultedFilters:e,defaultedHighlight:n}=En(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const C=_r(s(ye(v))).toISOString(),[O]=C.split("T");return O},s=v=>t.utc==="preserve"?gx(v,r()):Pi(v,r()),o=v=>{var C;const O=t.maxDate?gr(v,s(ye(t.maxDate))):!1,k=t.minDate?Xn(v,s(ye(t.minDate))):!1,Y=c(s(v),(C=t.arrMapValues)!=null&&C.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),B=e.value.months.map(A=>+A).includes(Et(v)),$=t.disabledWeekDays.length?t.disabledWeekDays.some(A=>+A===nz(v)):!1,F=f(v),V=ut(v),x=V<+t.yearRange[0]||V>+t.yearRange[1];return!(O||k||Y||B||x||$||F)},a=(v,C)=>Xn(...ro(t.minDate,v,C))||Rt(...ro(t.minDate,v,C)),l=(v,C)=>gr(...ro(t.maxDate,v,C))||Rt(...ro(t.maxDate,v,C)),u=(v,C,O)=>{let k=!1;return t.maxDate&&O&&l(v,C)&&(k=!0),t.minDate&&!O&&a(v,C)&&(k=!0),k},c=(v,C)=>v?C instanceof Map?!!C.get(i(v)):Array.isArray(C)?C.some(O=>Rt(s(ye(O)),v)):C?C(ye(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,C,O,k)=>{let Y=!1;return k?t.minDate&&t.maxDate?Y=u(v,C,O):(t.minDate&&a(v,C)||t.maxDate&&l(v,C))&&(Y=!0):Y=!0,Y},f=v=>{var C,O,k,Y,B;return Array.isArray(t.allowedDates)&&!((C=t.allowedDates)!=null&&C.length)?!0:(O=t.arrMapValues)!=null&&O.allowedDates?!c(v,(k=t.arrMapValues)==null?void 0:k.allowedDates):(Y=t.allowedDates)!=null&&Y.length?!((B=t.allowedDates)!=null&&B.some($=>Rt(_r($),s(_r(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!jD({start:v[0],end:v[1]}).some(C=>p(C)):!0,b=(v,C,O=0)=>{if(Array.isArray(C)&&C[O]){const k=KW(v,C[O]),Y=vx(C[O],v),B=Y.length===1?0:Y.filter(F=>p(F)).length,$=Math.abs(k)-B;if(t.minRange&&t.maxRange)return $>=+t.minRange&&$<=+t.maxRange;if(t.minRange)return $>=+t.minRange;if(t.maxRange)return $<=+t.maxRange}return!0},S=v=>new Map(v.map(C=>[i(C),!0])),R=v=>Array.isArray(v)&&v.length>0,P=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return R(t.allowedDates)&&(v.allowedDates=S(t.allowedDates)),typeof n.value!="function"&&R(n.value.dates)&&(v.highlightedDates=S(n.value.dates)),R(t.disabledDates)&&(v.disabledDates=S(t.disabledDates)),v},E=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,I=v=>Array.isArray(v)?[v[0]?Vg(v[0]):null,v[1]?Vg(v[1]):null]:Vg(v),M=(v,C,O)=>v.find(k=>+k.hours===Oi(C)&&k.minutes==="*"?!0:+k.minutes===Zi(C)&&+k.hours===Oi(C))&&O,L=(v,C,O)=>{const[k,Y]=v,[B,$]=C;return!M(k,B,O)&&!M(Y,$,O)&&O},w=(v,C)=>{const O=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,O,v):!O.some(k=>M(t.disabledTimes,k,v)):v},T=(v,C)=>{const O=Array.isArray(C)?[Zo(C[0]),C[1]?Zo(C[1]):void 0]:Zo(C),k=!t.disabledTimes(O);return v&&k},_=(v,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?w(C,v):T(C,v):C;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:b,matchDate:c,mapDatesArrToMap:P,isValidTime:v=>{let C=!0;if(!v||E())return!0;const O=!t.minDate&&!t.maxDate?I(v):v;return(t.maxTime||t.maxDate)&&(C=EI(t.maxTime,t.maxDate,"max",Vn(O),C)),(t.minTime||t.minDate)&&(C=EI(t.minTime,t.minDate,"min",Vn(O),C)),_(v,C)}}},mm=()=>{const t=ue(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ue(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ue(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},kY=(t,e,n)=>{const r=fe(0),i=Rr({[ea.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ea.calendar]:!1,[ea.header]:!1}),s=ue(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Bi.month,"toggleMonthPicker",!0),u(Bi.year,"toggleYearPicker",!0),u(Bi.calendar,"toggleTimePicker",!1,!0),u(Bi.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Bi.hours||h===Bi.minutes||h===Bi.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},gm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Mi={...gm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},RY={key:1,class:"dp__input_wrap"},DY=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],xY={key:2,class:"dp__clear_icon"},NY=Kt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...gm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=En(i),{checkMinMaxRange:h}=Ra(i),f=fe(),p=fe(null),g=fe(!1),b=fe(!1),S=ue(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},P=Y=>{const B=c();return sY(Y,s.value.format??u(),B??yx({},i.enableSeconds),i.inputValue,b.value)},E=Y=>{const{rangeSeparator:B}=s.value,[$,F]=Y.split(`${B}`);if($){const V=P($.trim()),x=F?P(F.trim()):null,A=V&&x?[V,x]:[V];h(x,A,0)&&(f.value=V?A:null)}},I=()=>{b.value=!0},M=Y=>{if(i.range)E(Y);else if(i.multiDates){const B=Y.split(";");f.value=B.map($=>P($.trim())).filter($=>$)}else f.value=P(Y)},L=Y=>{var B;const $=typeof Y=="string"?Y:(B=Y.target)==null?void 0:B.value;$!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M($),r("set-input-date",f.value)):R(),b.value=!1,r("update:input-value",$)},w=Y=>{s.value.enabled?(M(Y.target.value),s.value.enterSubmit&&Oy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(Y)},T=Y=>{s.value.enabled&&s.value.tabSubmit&&M(Y.target.value),s.value.tabSubmit&&Oy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},_=()=>{var Y;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((Y=p.value)==null||Y.select())},v=Y=>{Y.preventDefault(),ho(Y,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},C=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},O=Y=>{ho(Y,l.value,!0),r("clear")},k=Y=>{if(!s.value.enabled){if(Y.code==="Tab")return;Y.preventDefault()}};return e({focusInput:()=>{var Y;(Y=p.value)==null||Y.focus({preventScroll:!0})},setParsedDate:Y=>{f.value=Y}}),(Y,B)=>{var $;return W(),Z("div",{onClick:v},[Y.$slots.trigger&&!Y.$slots["dp-input"]&&!K(a).enabled?_e(Y.$slots,"trigger",{key:0}):de("",!0),!Y.$slots.trigger&&(!K(a).enabled||K(a).input)?(W(),Z("div",RY,[Y.$slots["dp-input"]&&!Y.$slots.trigger&&!K(a).enabled?_e(Y.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:w,onTab:T,onClear:O,onBlur:C,onKeypress:k,onPaste:I,openMenu:()=>Y.$emit("open"),closeMenu:()=>Y.$emit("close"),toggleMenu:()=>Y.$emit("toggle")}):de("",!0),Y.$slots["dp-input"]?de("",!0):(W(),Z("input",{key:1,id:Y.uid?`dp-input-${Y.uid}`:void 0,ref_key:"inputRef",ref:p,name:Y.name,class:tt(S.value),inputmode:K(s).enabled?"text":"none",placeholder:Y.placeholder,disabled:Y.disabled,readonly:Y.readonly,required:Y.required,value:t.inputValue,autocomplete:Y.autocomplete,"aria-label":($=K(o))==null?void 0:$.input,"aria-disabled":Y.disabled||void 0,"aria-invalid":Y.state===!1?!0:void 0,onInput:L,onKeydown:[at(w,["enter"]),at(T,["tab"]),k],onBlur:C,onFocus:_,onKeypress:k,onPaste:I},null,42,DY)),Ce("div",{onClick:B[2]||(B[2]=F=>r("toggle"))},[Y.$slots["input-icon"]&&!Y.hideInputIcon?(W(),Z("span",{key:0,class:"dp__input_icon",onClick:B[0]||(B[0]=F=>r("toggle"))},[_e(Y.$slots,"input-icon")])):de("",!0),!Y.$slots["input-icon"]&&!Y.hideInputIcon&&!Y.$slots["dp-input"]?(W(),qe(K(hu),{key:1,class:"dp__input_icon dp__input_icons",onClick:B[1]||(B[1]=F=>r("toggle"))})):de("",!0)]),Y.$slots["clear-icon"]&&t.inputValue&&Y.clearable&&!Y.disabled&&!Y.readonly?(W(),Z("span",xY,[_e(Y.$slots,"clear-icon",{clear:O})])):de("",!0),Y.clearable&&!Y.$slots["clear-icon"]&&t.inputValue&&!Y.disabled&&!Y.readonly?(W(),qe(K(lx),{key:3,class:"dp__clear_icon dp__input_icons",onClick:B[3]||(B[3]=Mt(F=>O(F),["prevent"]))})):de("",!0)])):de("",!0)])}}}),MY=["title"],LY={class:"dp__action_buttons"},VY=["disabled"],FY=Kt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Mi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=En(r),{isValidTime:c}=Ra(r),{buildMatrix:h}=Po(),f=fe(null),p=fe(null);vn(()=>{r.arrowNavigation&&h([Nn(f),Nn(p)],"actionRow")});const g=ue(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),b=ue(()=>!S.value||!R.value||!g.value),S=ue(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),R=ue(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!T(v)).length:T(r.internalModelValue):!0),P=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Vn(r.internalModelValue))},E=()=>{const v=r.internalModelValue;return o.value.count>0?`${I(v[0])} - ${I(v[1])}`:[I(v[0]),I(v[1])]},I=v=>bx(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=ue(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?E():r.multiDates?r.internalModelValue.map(v=>`${I(v)}`):r.modelAuto?`${I(r.internalModelValue[0])}`:`${I(r.internalModelValue[0])} -`:I(r.internalModelValue):P()),L=()=>r.multiDates?"; ":" - ",w=ue(()=>Array.isArray(M.value)?M.value.join(L()):M.value),T=v=>{if(!r.monthPicker)return!0;let C=!0;const O=ye(wi(v));if(r.minDate&&r.maxDate){const k=ye(wi(r.minDate)),Y=ye(wi(r.maxDate));return gr(O,k)&&Xn(O,Y)||Rt(O,k)||Rt(O,Y)}if(r.minDate){const k=ye(wi(r.minDate));C=gr(O,k)||Rt(O,k)}if(r.maxDate){const k=ye(wi(r.maxDate));C=Xn(O,k)||Rt(O,k)}return C},_=()=>{S.value&&R.value&&g.value?n("select-date"):n("invalid-select")};return(v,C)=>(W(),Z("div",{class:"dp__action_row",style:Pr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?_e(v.$slots,"action-row",bn(he({key:0},{internalModelValue:v.internalModelValue,disabled:b.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(W(),Z(Ne,{key:1},[K(i).showPreview?(W(),Z("div",{key:0,class:"dp__selection_preview",title:w.value},[v.$slots["action-preview"]?_e(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-preview"]?de("",!0):(W(),Z(Ne,{key:1},[Dn(dt(w.value),1)],64))],8,MY)):de("",!0),Ce("div",LY,[v.$slots["action-buttons"]?_e(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-buttons"]?de("",!0):(W(),Z(Ne,{key:1},[!K(l).enabled&&K(i).showCancel?(W(),Z("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[0]||(C[0]=O=>v.$emit("close-picker")),onKeydown:[C[1]||(C[1]=at(O=>v.$emit("close-picker"),["enter"])),C[2]||(C[2]=at(O=>v.$emit("close-picker"),["space"]))]},dt(v.cancelText),545)):de("",!0),K(i).showNow?(W(),Z("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[3]||(C[3]=O=>v.$emit("select-now")),onKeydown:[C[4]||(C[4]=at(O=>v.$emit("select-now"),["enter"])),C[5]||(C[5]=at(O=>v.$emit("select-now"),["space"]))]},dt(v.nowButtonLabel),545)):de("",!0),K(i).showSelect?(W(),Z("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:b.value,onKeydown:[at(_,["enter"]),at(_,["space"])],onClick:_},dt(v.selectText),41,VY)):de("",!0)],64))])],64))],4))}}),$Y=["onKeydown"],UY={class:"dp__selection_grid_header"},BY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],jY=["aria-label"],qd=Kt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Po(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=En(a),{hideNavigationButtons:h}=mm(),f=fe(!1),p=fe(null),g=fe(null),b=fe([]),S=fe(),R=fe(null),P=fe(0),E=fe(null);r_(()=>{p.value=null}),vn(()=>{jn().then(()=>C()),a.noOverlayFocus||M(),I(!0)}),Ta(()=>I(!1));const I=x=>{var A;a.arrowNavigation&&((A=a.headerRefs)!=null&&A.length?s(x):r(x))},M=()=>{var x;const A=Nn(g);A&&(u.value.enabled||(p.value?(x=p.value)==null||x.focus({preventScroll:!0}):A.focus({preventScroll:!0})),f.value=A.clientHeight<A.scrollHeight)},L=ue(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),w=ue(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),T=ue(()=>({dp__overlay_col:!0})),_=ue(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=ue(()=>{var x,A;return{dp__overlay_container:!0,dp__container_flex:((x=a.items)==null?void 0:x.length)<=6,dp__container_block:((A=a.items)==null?void 0:A.length)>6}});Cn(()=>a.items,()=>C(),{deep:!0});const C=()=>{jn().then(()=>{const x=Nn(p),A=Nn(g),q=Nn(R),G=Nn(E),re=q?q.getBoundingClientRect().height:0;A&&(A.getBoundingClientRect().height?P.value=A.getBoundingClientRect().height-re:P.value=c.value.modeHeight-re),x&&G&&(G.scrollTop=x.offsetTop-G.offsetTop-(P.value/2-x.getBoundingClientRect().height)-re)})},O=x=>{x.disabled||o("selected",x.value)},k=()=>{o("toggle"),o("reset-flow")},Y=()=>{a.escClose&&k()},B=(x,A,q,G)=>{x&&((A.active||A.value===a.focusValue)&&(p.value=x),a.arrowNavigation&&(Array.isArray(b.value[q])?b.value[q][G]=x:b.value[q]=[x],$()))},$=()=>{var x,A;const q=(x=a.headerRefs)!=null&&x.length?[a.headerRefs].concat(b.value):b.value.concat([a.skipButtonRef?[]:[R.value]]);i(Vn(q),(A=a.headerRefs)!=null&&A.length?"monthPicker":"selectionGrid")},F=x=>{a.arrowNavigation||ho(x,c.value,!0)},V=x=>{S.value=x,o("hover-value",x)};return e({focusGrid:M}),(x,A)=>{var q;return W(),Z("div",{ref_key:"gridWrapRef",ref:g,class:tt(L.value),style:Pr(w.value),role:"dialog",tabindex:"0",onKeydown:[at(Mt(Y,["prevent"]),["esc"]),A[0]||(A[0]=at(Mt(G=>F(G),["prevent"]),["left"])),A[1]||(A[1]=at(Mt(G=>F(G),["prevent"]),["up"])),A[2]||(A[2]=at(Mt(G=>F(G),["prevent"]),["down"])),A[3]||(A[3]=at(Mt(G=>F(G),["prevent"]),["right"]))]},[Ce("div",{ref_key:"containerRef",ref:E,class:tt(v.value),role:"grid",style:Pr({height:`${P.value}px`})},[Ce("div",UY,[_e(x.$slots,"header")]),x.$slots.overlay?_e(x.$slots,"overlay",{key:0}):(W(!0),Z(Ne,{key:1},Vt(x.items,(G,re)=>(W(),Z("div",{key:re,class:tt(["dp__overlay_row",{dp__flex_row:x.items.length>=3}]),role:"row"},[(W(!0),Z(Ne,null,Vt(G,(ve,te)=>(W(),Z("div",{key:ve.value,ref_for:!0,ref:H=>B(H,ve,re,te),role:"gridcell",class:tt(T.value),"aria-selected":ve.active,"aria-disabled":ve.disabled||void 0,tabindex:"0",onClick:H=>O(ve),onKeydown:[at(Mt(H=>O(ve),["prevent"]),["enter"]),at(Mt(H=>O(ve),["prevent"]),["space"])],onMouseover:H=>V(ve.value)},[Ce("div",{class:tt(ve.className)},[x.$slots.item?_e(x.$slots,"item",{key:0,item:ve}):de("",!0),x.$slots.item?de("",!0):(W(),Z(Ne,{key:1},[Dn(dt(ve.text),1)],64))],2)],42,BY))),128))],2))),128))],6),x.$slots["button-icon"]?Ko((W(),Z("button",{key:0,ref_key:"toggleButton",ref:R,type:"button","aria-label":(q=K(l))==null?void 0:q.toggleOverlay,class:tt(_.value),tabindex:"0",onClick:k,onKeydown:[at(k,["enter"]),at(k,["tab"])]},[_e(x.$slots,"button-icon")],42,jY)),[[rc,!K(h)(x.hideNavigation,x.type)]]):de("",!0)],46,$Y)}}}),vm=Kt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ue(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ue(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(W(),Z("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(W(!0),Z(Ne,null,Vt(n.value,(o,a)=>(W(),Z("div",{key:o,class:tt(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),HY=["aria-label","aria-disabled"],_c=Kt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=fe(null);return vn(()=>n("set-ref",r)),(i,s)=>(W(),Z("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Mt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Mt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ce("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,HY))}}),WY={class:"dp--year-mode-picker"},qY=["aria-label"],Ex=Kt({__name:"YearModePicker",props:{...Mi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=mm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=En(r),{showTransition:c,transitionName:h}=Hd(u),f=(b=!1,S)=>{n("toggle-year-picker",{flow:b,show:S})},p=b=>{n("year-select",b)},g=(b=!1)=>{n("handle-year",b)};return(b,S)=>{var R,P,E;return W(),Z("div",WY,[K(s)(K(a),t.instance)?(W(),qe(_c,{key:0,ref:"mpPrevIconRef","aria-label":(R=K(l))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),onActivate:S[0]||(S[0]=I=>g(!1))},{default:Qe(()=>[b.$slots["arrow-left"]?_e(b.$slots,"arrow-left",{key:0}):de("",!0),b.$slots["arrow-left"]?de("",!0):(W(),qe(K(sb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ce("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(P=K(l))==null?void 0:P.openYearsOverlay,onClick:S[1]||(S[1]=()=>f(!1)),onKeydown:S[2]||(S[2]=at(()=>f(!1),["enter"]))},[b.$slots.year?_e(b.$slots,"year",{key:0,year:t.year}):de("",!0),b.$slots.year?de("",!0):(W(),Z(Ne,{key:1},[Dn(dt(t.year),1)],64))],40,qY),K(i)(K(a),t.instance)?(W(),qe(_c,{key:1,ref:"mpNextIconRef","aria-label":(E=K(l))==null?void 0:E.nextYear,disabled:t.isDisabled(!0),onActivate:S[3]||(S[3]=I=>g(!0))},{default:Qe(()=>[b.$slots["arrow-right"]?_e(b.$slots,"arrow-right",{key:0}):de("",!0),b.$slots["arrow-right"]?de("",!0):(W(),qe(K(ob),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),et(So,{name:K(h)(t.showYearPicker),css:K(c)},{default:Qe(()=>[t.showYearPicker?(W(),qe(qd,{key:0,items:t.items,"text-input":b.textInput,"esc-close":b.escClose,config:b.config,"is-last":b.autoApply&&!K(o).keepActionRow,"hide-navigation":b.hideNavigation,type:"year",onToggle:f,onSelected:S[4]||(S[4]=I=>p(I))},Zn({"button-icon":Qe(()=>[b.$slots["calendar-icon"]?_e(b.$slots,"calendar-icon",{key:0}):de("",!0),b.$slots["calendar-icon"]?de("",!0):(W(),qe(K(hu),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:I})=>[_e(b.$slots,"year-overlay-value",{text:I.text,value:I.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):de("",!0)]),_:3},8,["name","css"])])}}}),mb=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Rt(t,r))){const r=e.value.filter(i=>!Rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},gb=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Xn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},ym=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Ix=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Pi(ye(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Pi(ye(t.value),t.timezone))},Sx=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ue(()=>fb(i.yearRange,i.reverseYears)),u=fe([!1]),c=ue(()=>(I,M)=>{const L=on(wi(new Date),{month:o.value(I),year:s.value(I)});return _x(L,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),h=()=>{for(let I=0;I<t.value.count;I++)if(I===0)n.value[I]=n.value[0];else{const M=on(ye(),n.value[I-1]);n.value[I]={month:Et(M),year:ut(X0(M,1))}}},f=I=>{if(!I)return h();const M=on(ye(),n.value[I]);return n.value[0].year=ut(ax(M,t.value.count-1)),h()},p=I=>i.focusStartDate?I[0]:I[1]?I[1]:I[0],g=()=>{if(r.value){const I=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Et(I),year:ut(I)}}};vn(()=>{g(),t.value.count&&h()});const b=(I,M)=>{n.value[M].year=I,t.value.count&&!t.value.solo&&f(M)},S=ue(()=>I=>Gl(l.value,M=>{const L=s.value(I)===M.value,w=td(M.value,Ql(i.minDate),Ql(i.maxDate)),T=pb(e.value,M.value);return{active:L,disabled:w,highlighted:T}})),R=(I,M)=>{b(I,M),E(M)},P=(I,M=!1)=>{if(!c.value(I,M)){const L=M?s.value(I)+1:s.value(I)-1;b(L,I)}},E=(I,M=!1,L)=>{M||a("reset-flow"),L!==void 0?u.value[I]=L:u.value[I]=!u.value[I],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:S,showYearPicker:u,selectYear:b,toggleYearPicker:E,handleYearSelect:R,handleYear:P}},zY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=En(t),{modelValue:a,year:l,month:u,calendars:c}=Wd(t,e),h=ue(()=>hx(t.formatLocale,t.locale,t.monthNameFormat)),f=fe(null),{selectYear:p,groupedYears:g,showYearPicker:b,toggleYearPicker:S,handleYearSelect:R,handleYear:P,isDisabled:E}=Sx({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});vn(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ut(ye(t.startDate)),0)});const I=F=>F?{month:Et(F),year:ut(F)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(F=>I(F)):I(a.value):I(),L=(F,V)=>{const x=c.value[F],A=M();return Array.isArray(A)?A.some(q=>q.year===(x==null?void 0:x.year)&&q.month===V):(x==null?void 0:x.year)===A.year&&V===A.month},w=(F,V,x)=>{var A,q;const G=M();return Array.isArray(G)?l.value(V)===((A=G[x])==null?void 0:A.year)&&F===((q=G[x])==null?void 0:q.month):!1},T=(F,V)=>{if(t.range){const x=M();if(Array.isArray(a.value)&&Array.isArray(x)){const A=w(F,V,0)||w(F,V,1),q=bs(wi(ye()),F,l.value(V));return pm(a.value,f.value,q)&&!A}return!1}return!1},_=ue(()=>F=>Gl(h.value,V=>{const x=L(F,V.value),A=td(V.value,px(l.value(F),t.minDate),mx(l.value(F),t.maxDate))||hY(t.disabledDates,l.value(F)).includes(V.value),q=T(V.value,F),G=wx(o.value,V.value,l.value(F));return{active:x,disabled:A,isBetween:q,highlighted:G}})),v=(F,V)=>bs(wi(ye()),F,l.value(V)),C=(F,V)=>{const x=a.value?a.value:wi(new Date);a.value=bs(x,F,l.value(V)),e("auto-apply")},O=(F,V)=>{const x=gb(a,v(F,V),e);ym(x,e,t.autoApply,t.modelAuto)},k=(F,V)=>{mb(v(F,V),a,t.multiDatesLimit),e("auto-apply",!0)},Y=(F,V)=>(c.value[V].month=F,$(V,c.value[V].year,F),t.multiDates?k(F,V):t.range?O(F,V):C(F,V)),B=(F,V)=>{p(F,V),$(V,F,null)},$=(F,V,x)=>{let A=x;if(!A&&A!==0){const q=M();A=Array.isArray(q)?q[F].month:q.month}e("update-month-year",{instance:F,year:V,month:A})};return{groupedMonths:_,groupedYears:g,year:l,isDisabled:E,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:b,modelValue:a,presetDate:(F,V)=>{Ix({value:F,modelValue:a,range:t.range,timezone:V?void 0:t.timezone}),e("auto-apply")},setHoverDate:(F,V)=>{f.value=v(F,V)},selectMonth:Y,selectYear:B,toggleYearPicker:S,handleYearSelect:R,handleYear:P,getModelMonthYear:M}},KY=Kt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Mi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Ea(),s=Gr(i,"yearMode"),o=t;vn(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:b,setHoverDate:S,selectMonth:R,selectYear:P,toggleYearPicker:E,handleYearSelect:I,handleYear:M,getModelMonthYear:L}=zY(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:L,selectMonth:R,selectYear:P,handleYear:M}),presetDate:b,toggleYearPicker:w=>E(0,w)}),(w,T)=>(W(),qe(vm,{"multi-calendars":K(h).count,stretch:""},{default:Qe(({instance:_})=>[w.$slots["month-year"]?_e(w.$slots,"month-year",bn(he({key:0},{year:K(u),months:K(a)(_),years:K(l)(_),selectMonth:K(R),selectYear:K(P),instance:_}))):(W(),qe(qd,{key:1,items:K(a)(_),"arrow-navigation":w.arrowNavigation,"is-last":w.autoApply&&!K(f).keepActionRow,"esc-close":w.escClose,height:K(f).modeHeight,config:w.config,"no-overlay-focus":!!(w.noOverlayFocus||w.textInput),"use-relative":"",type:"month",onSelected:v=>K(R)(v,_),onHoverValue:v=>K(S)(v,_)},{header:Qe(()=>[et(Ex,he(w.$props,{items:K(l)(_),instance:_,"show-year-picker":K(p)[_],year:K(u)(_),"is-disabled":v=>K(c)(_,v),onHandleYear:v=>K(M)(_,v),onYearSelect:v=>K(I)(v,_),onToggleYearPicker:v=>K(E)(_,v==null?void 0:v.flow,v==null?void 0:v.show)}),Zn({_:2},[Vt(K(s),(v,C)=>({name:v,fn:Qe(O=>[_e(w.$slots,v,bn(Jn(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),YY=(t,e)=>{const{modelValue:n}=Wd(t,e),r=fe(null),{defaultedHighlight:i,defaultedFilters:s}=En(t),o=fe();vn(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ut(ye(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ut(f)===h):n.value?ut(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?pm(n.value,r.value,c(h)):!1,u=ue(()=>Gl(fb(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=td(h.value,Ql(t.minDate),Ql(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,b=pb(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:b}})),c=h=>zi(wi(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=zi(wi(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ut(p))).includes(h)?n.value=n.value.filter(p=>ut(p)!==h):n.value.push(zi(_r(ye()),h))):n.value=[zi(_r(ye()),h)],e("auto-apply",!0);if(t.range){const p=gb(n,c(h),e);return ym(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},GY=Kt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Mi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=YY(i,r),{defaultedConfig:c}=En(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(W(),Z("div",null,[h.$slots["month-year"]?_e(h.$slots,"month-year",bn(he({key:0},{years:K(s),selectYear:K(l)}))):(W(),qe(qd,{key:1,items:K(s),"is-last":h.autoApply&&!K(c).keepActionRow,height:K(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":K(a),type:"year","use-relative":"",onSelected:K(l),onHoverValue:K(u)},Zn({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[_e(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),QY={key:0,class:"dp__time_input"},XY=["aria-label","onKeydown","onClick"],JY=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ZY=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),eG=["aria-label","disabled","onKeydown","onClick"],tG=["aria-label","onKeydown","onClick"],nG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),rG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),iG={key:0},sG=["aria-label","onKeydown"],oG=Kt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Mi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Po(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=En(i),{transitionName:h,showTransition:f}=Hd(l),p=Rr({hours:!1,minutes:!1,seconds:!1}),g=fe("AM"),b=fe(null),S=fe([]);vn(()=>{r("mounted")});const R=H=>on(new Date,{hours:H.hours,minutes:H.minutes,seconds:i.enableSeconds?H.seconds:0,milliseconds:0}),P=ue(()=>H=>Y(H,i[H])||I(H,i[H])),E=ue(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),I=(H,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(H,Q):!1,M=(H,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ie=Q?+i[`${H}Increment`]:-+i[`${H}Increment`],X=i[H]+ie;return!i.validateTime(H,X)}return!1},L=ue(()=>H=>!$(+i[H]+ +i[`${H}Increment`],H)||M(H,!0)),w=ue(()=>H=>!$(+i[H]-+i[`${H}Increment`],H)||M(H,!1)),T=(H,Q)=>UD(on(ye(),H),Q),_=(H,Q)=>EK(on(ye(),H),Q),v=ue(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),C=ue(()=>{const H=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?H.concat([{type:"",separator:!0},{type:"seconds"}]):H}),O=ue(()=>C.value.filter(H=>!H.separator)),k=ue(()=>H=>{if(H==="hours"){const Q=q(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[H]<10?`0${i[H]}`:`${i[H]}`,value:i[H]}}),Y=(H,Q)=>{var ie;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,H==="hours"?Q:void 0);return X[H]?!!((ie=X[H])!=null&&ie.includes(Q)):!0},B=H=>{const Q=i.is24?24:12,ie=H==="hours"?Q:60,X=+i[`${H}GridIncrement`],ce=H==="hours"&&!i.is24?X:0,be=[];for(let ee=ce;ee<ie;ee+=X)be.push({value:ee,text:ee<10?`0${ee}`:`${ee}`});return H==="hours"&&!i.is24&&be.push({value:0,text:"12"}),Gl(be,ee=>({active:!1,disabled:u.value.times[H].includes(ee.value)||!$(ee.value,H)||Y(H,ee.value)||I(H,ee.value)}))},$=(H,Q)=>{const ie=i.minTime?R(Ng(i.minTime)):null,X=i.maxTime?R(Ng(i.maxTime)):null,ce=R(Ng(E.value,Q,H));return ie&&X?(ed(ce,X)||ol(ce,X))&&(Zc(ce,ie)||ol(ce,ie)):ie?Zc(ce,ie)||ol(ce,ie):X?ed(ce,X)||ol(ce,X):!0},F=H=>i[`no${H[0].toUpperCase()+H.slice(1)}Overlay`],V=H=>{F(H)||(p[H]=!p[H],p[H]||r("overlay-closed"))},x=H=>H==="hours"?Oi:H==="minutes"?Zi:Kl,A=(H,Q=!0)=>{const ie=Q?T:_,X=Q?+i[`${H}Increment`]:-+i[`${H}Increment`];$(+i[H]+X,H)&&r(`update:${H}`,x(H)(ie({[H]:+i[H]},{[H]:+i[`${H}Increment`]})))},q=H=>i.is24?H:(H>=12?g.value="PM":g.value="AM",JK(H)),G=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},re=H=>{p[H]=!0},ve=(H,Q,ie)=>{if(H&&i.arrowNavigation){Array.isArray(S.value[Q])?S.value[Q][ie]=H:S.value[Q]=[H];const X=S.value.reduce((ce,be)=>be.map((ee,D)=>[...ce[D]||[],be[D]]),[]);o(i.closeTimePickerBtn),b.value&&(X[1]=X[1].concat(b.value)),s(X,i.order)}},te=(H,Q)=>(V(H),H==="hours"&&!i.is24?r(`update:${H}`,g.value==="PM"?Q+12:Q):r(`update:${H}`,Q));return e({openChildCmp:re}),(H,Q)=>{var ie;return H.disabled?de("",!0):(W(),Z("div",QY,[(W(!0),Z(Ne,null,Vt(C.value,(X,ce)=>{var be,ee,D;return W(),Z("div",{key:ce,class:tt(v.value)},[X.separator?(W(),Z(Ne,{key:0},[Dn(" : ")],64)):(W(),Z(Ne,{key:1},[Ce("button",{ref_for:!0,ref:U=>ve(U,ce,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_top:H.timePickerInline,dp__inc_dec_button_disabled:L.value(X.type)}),"aria-label":(be=K(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[at(Mt(U=>A(X.type),["prevent"]),["enter"]),at(Mt(U=>A(X.type),["prevent"]),["space"])],onClick:U=>A(X.type)},[i.timePickerInline?(W(),Z(Ne,{key:1},[JY,ZY],64)):(W(),Z(Ne,{key:0},[H.$slots["arrow-up"]?_e(H.$slots,"arrow-up",{key:0}):de("",!0),H.$slots["arrow-up"]?de("",!0):(W(),qe(K(lb),{key:1}))],64))],42,XY),Ce("button",{ref_for:!0,ref:U=>ve(U,ce,1),type:"button","aria-label":(ee=K(a))==null?void 0:ee.openTpOverlay(X.type),class:tt({dp__time_display:!0,dp__time_display_block:!H.timePickerInline,dp__time_display_inline:H.timePickerInline,"dp--time-invalid":P.value(X.type),"dp--time-overlay-btn":!P.value(X.type)}),disabled:F(X.type),tabindex:"0",onKeydown:[at(Mt(U=>V(X.type),["prevent"]),["enter"]),at(Mt(U=>V(X.type),["prevent"]),["space"])],onClick:U=>V(X.type)},[H.$slots[X.type]?_e(H.$slots,X.type,{key:0,text:k.value(X.type).text,value:k.value(X.type).value}):de("",!0),H.$slots[X.type]?de("",!0):(W(),Z(Ne,{key:1},[Dn(dt(k.value(X.type).text),1)],64))],42,eG),Ce("button",{ref_for:!0,ref:U=>ve(U,ce,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_bottom:H.timePickerInline,dp__inc_dec_button_disabled:w.value(X.type)}),"aria-label":(D=K(a))==null?void 0:D.decrementValue(X.type),tabindex:"0",onKeydown:[at(Mt(U=>A(X.type,!1),["prevent"]),["enter"]),at(Mt(U=>A(X.type,!1),["prevent"]),["space"])],onClick:U=>A(X.type,!1)},[i.timePickerInline?(W(),Z(Ne,{key:1},[nG,rG],64)):(W(),Z(Ne,{key:0},[H.$slots["arrow-down"]?_e(H.$slots,"arrow-down",{key:0}):de("",!0),H.$slots["arrow-down"]?de("",!0):(W(),qe(K(ub),{key:1}))],64))],42,tG)],64))],2)}),128)),H.is24?de("",!0):(W(),Z("div",iG,[H.$slots["am-pm-button"]?_e(H.$slots,"am-pm-button",{key:0,toggle:G,value:g.value}):de("",!0),H.$slots["am-pm-button"]?de("",!0):(W(),Z("button",{key:1,ref_key:"amPmButton",ref:b,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=K(a))==null?void 0:ie.amPmButton,tabindex:"0",onClick:G,onKeydown:[at(Mt(G,["prevent"]),["enter"]),at(Mt(G,["prevent"]),["space"])]},dt(g.value),41,sG))])),(W(!0),Z(Ne,null,Vt(O.value,(X,ce)=>(W(),qe(So,{key:ce,name:K(h)(p[X.type]),css:K(f)},{default:Qe(()=>[p[X.type]?(W(),qe(qd,{key:0,items:B(X.type),"is-last":H.autoApply&&!K(c).keepActionRow,"esc-close":H.escClose,type:X.type,"text-input":H.textInput,config:H.config,"arrow-navigation":H.arrowNavigation,onSelected:be=>te(X.type,be),onToggle:be=>V(X.type),onResetFlow:Q[0]||(Q[0]=be=>H.$emit("reset-flow"))},Zn({"button-icon":Qe(()=>[H.$slots["clock-icon"]?_e(H.$slots,"clock-icon",{key:0}):de("",!0),H.$slots["clock-icon"]?de("",!0):(W(),qe(qr(H.timePickerInline?K(hu):K(ab)),{key:1}))]),_:2},[H.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:be})=>[_e(H.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),aG={class:"dp--tp-wrap"},lG=["aria-label","tabindex"],uG=["tabindex"],cG=["aria-label"],Cx=Kt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Mi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Po(),a=Ea(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=En(i),{transitionName:f,showTransition:p}=Hd(l),{hideNavigationButtons:g}=mm(),b=fe(null),S=fe(null),R=fe([]),P=fe(null);vn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Nn(b.value)],"time"):o(!0,i.timePicker)});const E=ue(()=>i.range&&i.modelAuto?fx(i.internalModelValue):!0),I=fe(!1),M=B=>({hours:Array.isArray(i.hours)?i.hours[B]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[B]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[B]:i.seconds}),L=ue(()=>{const B=[];if(i.range)for(let $=0;$<2;$++)B.push(M($));else B.push(M(0));return B}),w=(B,$=!1,F="")=>{$||r("reset-flow"),I.value=B,r(B?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(B),jn(()=>{F!==""&&R.value[0]&&R.value[0].openChildCmp(F)})},T=ue(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),_=Gr(a,"timePicker"),v=(B,$,F)=>i.range?$===0?[B,L.value[1][F]]:[L.value[0][F],B]:B,C=B=>{r("update:hours",B)},O=B=>{r("update:minutes",B)},k=B=>{r("update:seconds",B)},Y=()=>{if(P.value&&!c.value.enabled&&!i.noOverlayFocus){const B=eY(P.value);B&&B.focus({preventScroll:!0})}};return e({toggleTimePicker:w}),(B,$)=>{var F;return W(),Z("div",aG,[!B.timePicker&&!B.timePickerInline?Ko((W(),Z("button",{key:0,ref_key:"openTimePickerBtn",ref:b,type:"button",class:tt(T.value),"aria-label":(F=K(u))==null?void 0:F.openTimePicker,tabindex:B.noOverlayFocus?void 0:0,onKeydown:[$[0]||($[0]=at(V=>w(!0),["enter"])),$[1]||($[1]=at(V=>w(!0),["space"]))],onClick:$[2]||($[2]=V=>w(!0))},[B.$slots["clock-icon"]?_e(B.$slots,"clock-icon",{key:0}):de("",!0),B.$slots["clock-icon"]?de("",!0):(W(),qe(K(ab),{key:1}))],42,lG)),[[rc,!K(g)(B.hideNavigation,"time")]]):de("",!0),et(So,{name:K(f)(I.value),css:K(p)&&!B.timePickerInline},{default:Qe(()=>{var V;return[I.value||B.timePicker||B.timePickerInline?(W(),Z("div",{key:0,ref_key:"overlayRef",ref:P,class:tt({dp__overlay:!B.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!B.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Pr(B.timePicker?{height:`${K(h).modeHeight}px`}:void 0),tabindex:B.timePickerInline?void 0:0},[Ce("div",{class:tt(B.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[B.$slots["time-picker-overlay"]?_e(B.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:C,setMinutes:O,setSeconds:k}):de("",!0),B.$slots["time-picker-overlay"]?de("",!0):(W(),Z("div",{key:1,class:tt(B.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(W(!0),Z(Ne,null,Vt(L.value,(x,A)=>Ko((W(),qe(oG,he({key:A},{...B.$props,order:A,hours:x.hours,minutes:x.minutes,seconds:x.seconds,closeTimePickerBtn:S.value,disabledTimesConfig:t.disabledTimesConfig,disabled:A===0?B.fixedStart:B.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"validate-time":(q,G)=>t.validateTime(q,v(G,A,q)),"onUpdate:hours":q=>C(v(q,A,"hours")),"onUpdate:minutes":q=>O(v(q,A,"minutes")),"onUpdate:seconds":q=>k(v(q,A,"seconds")),onMounted:Y,onOverlayClosed:Y,onAmPmChange:$[3]||($[3]=q=>B.$emit("am-pm-change",q))}),Zn({_:2},[Vt(K(_),(q,G)=>({name:q,fn:Qe(re=>[_e(B.$slots,q,bn(Jn(re)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[rc,A===0?!0:E.value]])),128))],2)),!B.timePicker&&!B.timePickerInline?Ko((W(),Z("button",{key:2,ref_key:"closeTimePickerBtn",ref:S,type:"button",class:tt(T.value),"aria-label":(V=K(u))==null?void 0:V.closeTimePicker,tabindex:"0",onKeydown:[$[4]||($[4]=at(x=>w(!1),["enter"])),$[5]||($[5]=at(x=>w(!1),["space"]))],onClick:$[6]||($[6]=x=>w(!1))},[B.$slots["calendar-icon"]?_e(B.$slots,"calendar-icon",{key:0}):de("",!0),B.$slots["calendar-icon"]?de("",!0):(W(),qe(K(hu),{key:1}))],42,cG)),[[rc,!K(g)(B.hideNavigation,"time")]]):de("",!0)],2)],14,uG)):de("",!0)]}),_:3},8,["name","css"])])}}}),Ax=(t,e,n,r)=>{const i=(R,P)=>Array.isArray(e[R])?e[R][P]:e[R],s=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,o=(R,P)=>R?P!==void 0?fo(R,i("hours",P),i("minutes",P),s(P)):fo(R,e.hours,e.minutes,s()):ib(ye(),s(P)),a=(R,P)=>{e[R]=P},l=(R,P)=>{const E=Object.fromEntries(Object.keys(e).map(I=>I===R?[I,P]:[I,e[I]].slice()));if(t.range&&!t.disableTimeRangeValidation){const I=L=>n.value?fo(n.value[L],E.hours[L],E.minutes[L],E.seconds[L]):null,M=L=>rb(n.value[L],0);return!(Rt(I(0),I(1))&&(Zc(I(0),M(1))||ed(I(1),M(0))))}return!0},u=(R,P)=>{l(R,P)&&(a(R,P),r&&r())},c=R=>{u("hours",R)},h=R=>{u("minutes",R)},f=R=>{u("seconds",R)},p=(R,P,E,I)=>{P&&c(R),!P&&!E&&h(R),E&&f(R),n.value&&I(n.value)},g=R=>{if(R){const P=Array.isArray(R),E=P?[+R[0].hours,+R[1].hours]:+R.hours,I=P?[+R[0].minutes,+R[1].minutes]:+R.minutes,M=P?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",E),a("minutes",I),t.enableSeconds&&a("seconds",M)}},b=(R,P)=>{const E={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(P||P===0)&&(E.hours=P),Array.isArray(t.disabledTimes)&&(E.disabledArr=t.range&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),E},S=ue(()=>(R,P)=>{var E;if(Array.isArray(t.disabledTimes)){const{disabledArr:I,hours:M}=b(R,P),L=I.filter(w=>+w.hours===M);return((E=L[0])==null?void 0:E.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(w=>+w.minutes))??[],seconds:(L==null?void 0:L.map(w=>w.seconds?+w.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:S}},dG=(t,e)=>{const{modelValue:n,time:r}=Wd(t,e),{defaultedStartTime:i}=En(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Ax(t,r,n),h=P=>{const{hours:E,minutes:I,seconds:M}=P;return{hours:+E,minutes:+I,seconds:M?+M:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const E=h(t.startTime[0]),I=h(t.startTime[1]);return[on(ye(),E),on(ye(),I)]}const P=h(t.startTime);return on(ye(),P)}return t.range?[null,null]:null},p=()=>{if(t.range){const[P,E]=f();n.value=[o(P,0),o(E,1)]}else n.value=o(f())},g=P=>Array.isArray(P)?[Zo(ye(P[0])),Zo(ye(P[1]))]:[Zo(P??ye())],b=(P,E,I)=>{a("hours",P),a("minutes",E),a("seconds",t.enableSeconds?I:0)},S=()=>{const[P,E]=g(n.value);return t.range?b([P.hours,E.hours],[P.minutes,E.minutes],[P.seconds,E.minutes]):b(P.hours,P.minutes,P.seconds)};vn(()=>{if(!t.shadow)return l(i.value),n.value?S():p()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((P,E)=>P&&o(P,E)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(P,E=!0,I=!1)=>{s(P,E,I,R)},validateTime:c}},hG=Kt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Mi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=Gr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=dG(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(W(),qe(vm,{"multi-calendars":0,stretch:""},{default:Qe(()=>[et(Cx,he(f.$props,{hours:K(a).hours,minutes:K(a).minutes,seconds:K(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":K(u),"validate-time":K(h),"onUpdate:hours":p[0]||(p[0]=g=>K(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>K(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>K(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),Zn({_:2},[Vt(K(o),(g,b)=>({name:g,fn:Qe(S=>[_e(f.$slots,g,bn(Jn(S)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),fG={class:"dp__month_year_row"},pG=["aria-label","onClick","onKeydown"],mG=Kt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Mi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=En(i),{transitionName:h,showTransition:f}=Hd(s),{buildMatrix:p}=Po(),{handleMonthYearChange:g,isDisabled:b,updateMonthYear:S}=SY(i,r),{showLeftIcon:R,showRightIcon:P}=mm(),E=fe(!1),I=fe(!1),M=fe([null,null,null,null]);vn(()=>{r("mount")});const L=A=>({get:()=>i[A],set:q=>{const G=A===gi.month?gi.year:gi.month;r("update-month-year",{[A]:q,[G]:i[G]}),A===gi.month?Y(!0):B(!0)}}),w=ue(L(gi.month)),T=ue(L(gi.year)),_=ue(()=>A=>({month:i.month,year:i.year,items:A===gi.month?i.months:i.years,instance:i.instance,updateMonthYear:S,toggle:A===gi.month?Y:B})),v=ue(()=>i.months.find(q=>q.value===i.month)||{text:"",value:0}),C=ue(()=>Gl(i.months,A=>{const q=i.month===A.value,G=td(A.value,px(i.year,i.minDate),mx(i.year,i.maxDate))||l.value.months.includes(A.value),re=wx(c.value,A.value,i.year);return{active:q,disabled:G,highlighted:re}})),O=ue(()=>Gl(i.years,A=>{const q=i.year===A.value,G=td(A.value,Ql(i.minDate),Ql(i.maxDate))||l.value.years.includes(A.value),re=pb(c.value,A.value);return{active:q,disabled:G,highlighted:re}})),k=(A,q)=>{q!==void 0?A.value=q:A.value=!A.value,A.value||r("overlay-closed")},Y=(A=!1,q)=>{$(A),k(E,q)},B=(A=!1,q)=>{$(A),k(I,q)},$=A=>{A||r("reset-flow")},F=(A,q)=>{i.arrowNavigation&&(M.value[q]=Nn(A),p(M.value,"monthYear"))},V=ue(()=>{var A,q;return[{type:gi.month,index:1,toggle:Y,modelValue:w.value,updateModelValue:G=>w.value=G,text:v.value.text,showSelectionGrid:E.value,items:C.value,ariaLabel:(A=o.value)==null?void 0:A.openMonthsOverlay},{type:gi.year,index:2,toggle:B,modelValue:T.value,updateModelValue:G=>T.value=G,text:i.year,showSelectionGrid:I.value,items:O.value,ariaLabel:(q=o.value)==null?void 0:q.openYearsOverlay}]}),x=ue(()=>i.disableYearSelect?[V.value[0]]:i.yearFirst?[...V.value].reverse():V.value);return e({toggleMonthPicker:Y,toggleYearPicker:B,handleMonthYearChange:g}),(A,q)=>{var G,re,ve;return W(),Z("div",fG,[A.$slots["month-year"]?_e(A.$slots,"month-year",bn(he({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:K(S),handleMonthYearChange:K(g),instance:t.instance}))):(W(),Z(Ne,{key:1},[K(R)(K(a),t.instance)&&!A.vertical?(W(),qe(_c,{key:0,"aria-label":(G=K(o))==null?void 0:G.prevMonth,disabled:K(b)(!1),onActivate:q[0]||(q[0]=te=>K(g)(!1,!0)),onSetRef:q[1]||(q[1]=te=>F(te,0))},{default:Qe(()=>[A.$slots["arrow-left"]?_e(A.$slots,"arrow-left",{key:0}):de("",!0),A.$slots["arrow-left"]?de("",!0):(W(),qe(K(sb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ce("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:A.disableYearSelect}])},[(W(!0),Z(Ne,null,Vt(x.value,(te,H)=>(W(),Z(Ne,{key:te.type},[Ce("button",{ref_for:!0,ref:Q=>F(Q,H+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":te.ariaLabel,onClick:te.toggle,onKeydown:[at(Mt(te.toggle,["prevent"]),["enter"]),at(Mt(te.toggle,["prevent"]),["space"])]},[A.$slots[te.type]?_e(A.$slots,te.type,{key:0,text:te.text,value:i[te.type]}):de("",!0),A.$slots[te.type]?de("",!0):(W(),Z(Ne,{key:1},[Dn(dt(te.text),1)],64))],40,pG),et(So,{name:K(h)(te.showSelectionGrid),css:K(f)},{default:Qe(()=>[te.showSelectionGrid?(W(),qe(qd,{key:0,items:te.items,"arrow-navigation":A.arrowNavigation,"hide-navigation":A.hideNavigation,"is-last":A.autoApply&&!K(u).keepActionRow,"skip-button-ref":!1,config:A.config,type:te.type,"header-refs":[],"esc-close":A.escClose,"text-input":A.textInput,onSelected:te.updateModelValue,onToggle:te.toggle},Zn({"button-icon":Qe(()=>[A.$slots["calendar-icon"]?_e(A.$slots,"calendar-icon",{key:0}):de("",!0),A.$slots["calendar-icon"]?de("",!0):(W(),qe(K(hu),{key:1}))]),_:2},[A.$slots[`${te.type}-overlay-value`]?{name:"item",fn:Qe(({item:Q})=>[_e(A.$slots,`${te.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,A.$slots[`${te.type}-overlay`]?{name:"overlay",fn:Qe(()=>[_e(A.$slots,`${te.type}-overlay`,bn(Jn(_.value(te.type))))]),key:"1"}:void 0,A.$slots[`${te.type}-overlay-header`]?{name:"header",fn:Qe(()=>[_e(A.$slots,`${te.type}-overlay-header`,{toggle:te.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"])],64))),128))],2),K(R)(K(a),t.instance)&&A.vertical?(W(),qe(_c,{key:1,"aria-label":(re=K(o))==null?void 0:re.prevMonth,disabled:K(b)(!1),onActivate:q[2]||(q[2]=te=>K(g)(!1,!0))},{default:Qe(()=>[A.$slots["arrow-up"]?_e(A.$slots,"arrow-up",{key:0}):de("",!0),A.$slots["arrow-up"]?de("",!0):(W(),qe(K(lb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),K(P)(K(a),t.instance)?(W(),qe(_c,{key:2,ref:"rightIcon",disabled:K(b)(!0),"aria-label":(ve=K(o))==null?void 0:ve.nextMonth,onActivate:q[3]||(q[3]=te=>K(g)(!0,!0)),onSetRef:q[4]||(q[4]=te=>F(te,A.disableYearSelect?2:3))},{default:Qe(()=>[A.$slots[A.vertical?"arrow-down":"arrow-right"]?_e(A.$slots,A.vertical?"arrow-down":"arrow-right",{key:0}):de("",!0),A.$slots[A.vertical?"arrow-down":"arrow-right"]?de("",!0):(W(),qe(qr(A.vertical?K(ub):K(ob)),{key:1}))]),_:3},8,["disabled","aria-label"])):de("",!0)],64))])}}}),gG=["aria-label"],vG={class:"dp__calendar_header",role:"row"},yG={key:0,class:"dp__calendar_header_item",role:"gridcell"},_G=Ce("div",{class:"dp__calendar_header_separator"},null,-1),bG=["aria-label"],wG={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},TG={class:"dp__cell_inner"},EG=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],IG=Kt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Mi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Po(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=En(i),h=fe(null),f=fe({bottom:"",left:"",transform:""}),p=fe([]),g=fe(null),b=fe(!0),S=fe(""),R=fe({startX:0,endX:0,startY:0,endY:0}),P=fe([]),E=fe({left:"50%"}),I=ue(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=ue(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):XK(i.formatLocale,i.locale,+i.weekStart));vn(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",B,{passive:!1}),g.value.addEventListener("touchend",$,{passive:!1}),g.value.addEventListener("touchmove",F,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",A,{passive:!1})});const L=te=>te?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",w=(te,H)=>{if(i.transitions){const Q=_r(bs(ye(),i.month,i.year));S.value=gr(_r(bs(ye(),te,H)),Q)?o.value[L(!0)]:o.value[L(!1)],b.value=!1,jn(()=>{b.value=!0})}},T=ue(()=>({[i.calendarClassName]:!!i.calendarClassName})),_=ue(()=>te=>{const H=ZK(te);return{dp__marker_dot:H.type==="dot",dp__marker_line:H.type==="line"}}),v=ue(()=>te=>Rt(te,h.value)),C=ue(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),O=ue(()=>te=>i.hideOffsetDates?te.current:!0),k=async(te,H,Q)=>{var ie,X;if(r("set-hover-date",te),(X=(ie=te.marker)==null?void 0:ie.tooltip)!=null&&X.length){const ce=Nn(p.value[H][Q]);if(ce){const{width:be,height:ee}=ce.getBoundingClientRect();h.value=te.value;let D={left:`${be/2}px`},U=-50;if(await jn(),P.value[0]){const{left:j,width:oe}=P.value[0].getBoundingClientRect();j<0&&(D={left:"0"},U=0,E.value.left=`${be/2}px`),window.innerWidth<j+oe&&(D={right:"0"},U=0,E.value.left=`${oe-be/2}px`)}f.value={bottom:`${ee}px`,...D,transform:`translateX(${U}%)`},r("tooltip-open",te.marker)}}},Y=te=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",te.marker))},B=te=>{R.value.startX=te.changedTouches[0].screenX,R.value.startY=te.changedTouches[0].screenY},$=te=>{R.value.endX=te.changedTouches[0].screenX,R.value.endY=te.changedTouches[0].screenY,V()},F=te=>{i.vertical&&!i.inline&&te.preventDefault()},V=()=>{const te=i.vertical?"Y":"X";Math.abs(R.value[`start${te}`]-R.value[`end${te}`])>10&&r("handle-swipe",R.value[`start${te}`]>R.value[`end${te}`]?"right":"left")},x=(te,H,Q)=>{te&&(Array.isArray(p.value[H])?p.value[H][Q]=te:p.value[H]=[te]),i.arrowNavigation&&s(p.value,"calendar")},A=te=>{i.monthChangeOnScroll&&(te.preventDefault(),r("handle-scroll",te))},q=te=>c.value.type==="local"?uz(te.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?sz(te.value):typeof c.value.type=="function"?c.value.type(te.value):"",G=te=>{const H=te[0];return c.value.hideOnOffsetDates?te.some(Q=>Q.current)?q(H):"":q(H)},re=(te,H)=>{ho(te,a.value),r("select-date",H)},ve=te=>{ho(te,a.value)};return e({triggerTransition:w}),(te,H)=>{var Q;return W(),Z("div",{class:tt(C.value)},[Ce("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(T.value),"aria-label":(Q=K(l))==null?void 0:Q.calendarWrap},[(W(),Z(Ne,{key:0},[Ce("div",vG,[te.weekNumbers?(W(),Z("div",yG,dt(te.weekNumName),1)):de("",!0),(W(!0),Z(Ne,null,Vt(M.value,(ie,X)=>(W(),Z("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[te.$slots["calendar-header"]?_e(te.$slots,"calendar-header",{key:0,day:ie,index:X}):de("",!0),te.$slots["calendar-header"]?de("",!0):(W(),Z(Ne,{key:1},[Dn(dt(ie),1)],64))]))),128))]),_G,et(So,{name:S.value,css:!!te.transitions},{default:Qe(()=>{var ie;return[b.value?(W(),Z("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ie=K(l))==null?void 0:ie.calendarDays)||void 0},[(W(!0),Z(Ne,null,Vt(I.value,(X,ce)=>(W(),Z("div",{key:ce,class:"dp__calendar_row",role:"row"},[te.weekNumbers?(W(),Z("div",wG,[Ce("div",TG,dt(G(X.days)),1)])):de("",!0),(W(!0),Z(Ne,null,Vt(X.days,(be,ee)=>{var D,U,j;return W(),Z("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:oe=>x(oe,ce,ee),key:ee+ce,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(U=(D=K(l))==null?void 0:D.day)==null?void 0:U.call(D,be),tabindex:"0",onClick:Mt(oe=>re(oe,be),["prevent"]),onKeydown:[at(oe=>te.$emit("select-date",be),["enter"]),at(oe=>te.$emit("handle-space",be),["space"])],onMouseenter:oe=>k(be,ce,ee),onMouseleave:oe=>Y(be)},[Ce("div",{class:tt(["dp__cell_inner",be.classData])},[te.$slots.day&&O.value(be)?_e(te.$slots,"day",{key:0,day:+be.text,date:be.value}):de("",!0),te.$slots.day?de("",!0):(W(),Z(Ne,{key:1},[Dn(dt(be.text),1)],64)),be.marker&&O.value(be)?(W(),Z(Ne,{key:2},[te.$slots.marker?_e(te.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(W(),Z("div",{key:1,class:tt(_.value(be.marker)),style:Pr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):de("",!0),v.value(be.value)?(W(),Z("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:P,class:"dp__marker_tooltip",style:Pr(f.value)},[(j=be.marker)!=null&&j.tooltip?(W(),Z("div",{key:0,class:"dp__tooltip_content",onClick:ve},[(W(!0),Z(Ne,null,Vt(be.marker.tooltip,(oe,se)=>(W(),Z("div",{key:se,class:"dp__tooltip_text"},[te.$slots["marker-tooltip"]?_e(te.$slots,"marker-tooltip",{key:0,tooltip:oe,day:be.value}):de("",!0),te.$slots["marker-tooltip"]?de("",!0):(W(),Z(Ne,{key:1},[Ce("div",{class:"dp__tooltip_mark",style:Pr(oe.color?{backgroundColor:oe.color}:{})},null,4),Ce("div",null,dt(oe.text),1)],64))]))),128)),Ce("div",{class:"dp__arrow_bottom_tp",style:Pr(E.value)},null,4)])):de("",!0)],4)):de("",!0)],2)],40,EG)}),128))]))),128))],8,bG)):de("",!0)]}),_:3},8,["name","css"])],64))],10,gG)],2)}}}),CI=t=>Array.isArray(t),SG=(t,e,n,r)=>{const i=fe([]),{modelValue:s,calendars:o,time:a}=Wd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=En(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=Ra(t),{updateTimeValues:g,getSetDateTime:b,setTime:S,assignStartTime:R,validateTime:P,disabledTimesConfig:E}=Ax(t,a,s,r),I=ue(()=>z=>o.value[z]?o.value[z].month:0),M=ue(()=>z=>o.value[z]?o.value[z].year:0),L=(z,ae,xe)=>{var We,ct;o.value[z]||(o.value[z]={month:0,year:0}),o.value[z].month=wI(ae)?(We=o.value[z])==null?void 0:We.month:ae,o.value[z].year=wI(xe)?(ct=o.value[z])==null?void 0:ct.year:xe},w=()=>{t.autoApply&&e("select-date")};Cn(s,(z,ae)=>{JSON.stringify(z)!==JSON.stringify(ae)&&v()}),vn(()=>{t.shadow||(s.value||(A(),u.value&&R(u.value)),v(!0),t.focusStartDate&&t.startDate&&A())});const T=ue(()=>{var z;return(z=t.flow)!=null&&z.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),_=()=>{t.autoApply&&T.value&&e("auto-apply",t.partialFlow)},v=(z=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,$(z)):O(s.value,z);if(l.value.count&&z&&!t.startDate)return C(ye(),z)},C=(z,ae=!1)=>{if((!l.value.count||!l.value.static||ae)&&L(0,Et(z),ut(z)),l.value.count&&(!l.value.solo||!s.value))for(let xe=1;xe<l.value.count;xe++){const We=on(ye(),{month:I.value(xe-1),year:M.value(xe-1)}),ct=UD(We,{months:1});o.value[xe]={month:Et(ct),year:ut(ct)}}},O=(z,ae)=>{C(z),S("hours",Oi(z)),S("minutes",Zi(z)),S("seconds",Kl(z)),l.value.count&&ae&&x()},k=z=>{if(l.value.count){if(l.value.solo)return 0;const ae=Et(z[0]),xe=Et(z[1]);return Math.abs(xe-ae)<l.value.count?0:1}return 1},Y=(z,ae)=>{z[1]&&t.showLastInRange?C(z[k(z)],ae):C(z[0],ae);const xe=(We,ct)=>[We(z[0]),z[1]?We(z[1]):a[ct][1]];S("hours",xe(Oi,"hours")),S("minutes",xe(Zi,"minutes")),S("seconds",xe(Kl,"seconds"))},B=(z,ae)=>{if((t.range||t.weekPicker)&&!t.multiDates)return Y(z,ae);if(t.multiDates&&ae){const xe=z[z.length-1];return O(xe,ae)}},$=z=>{const ae=s.value;B(ae,z),l.value.count&&l.value.solo&&x()},F=(z,ae)=>{const xe=on(ye(),{month:I.value(ae),year:M.value(ae)}),We=z<0?Ai(xe,1):Yl(xe,1);c(Et(We),ut(We),z<0,t.preventMinMaxNavigation)&&(L(ae,Et(We),ut(We)),e("update-month-year",{instance:ae,month:Et(We),year:ut(We)}),l.value.count&&!l.value.solo&&V(ae),n())},V=z=>{for(let ae=z-1;ae>=0;ae--){const xe=Yl(on(ye(),{month:I.value(ae+1),year:M.value(ae+1)}),1);L(ae,Et(xe),ut(xe))}for(let ae=z+1;ae<=l.value.count-1;ae++){const xe=Ai(on(ye(),{month:I.value(ae-1),year:M.value(ae-1)}),1);L(ae,Et(xe),ut(xe))}},x=()=>{if(Array.isArray(s.value)&&s.value.length===2){const z=ye(ye(s.value[1]?s.value[1]:Ai(s.value[0],1))),[ae,xe]=[Et(s.value[0]),ut(s.value[0])],[We,ct]=[Et(s.value[1]),ut(s.value[1])];(ae!==We||ae===We&&xe!==ct)&&l.value.solo&&L(1,Et(z),ut(z))}else s.value&&!Array.isArray(s.value)&&(L(0,Et(s.value),ut(s.value)),C(ye()))},A=()=>{t.startDate&&(L(0,Et(ye(t.startDate)),ut(ye(t.startDate))),l.value.count&&V(0))},q=iY((z,ae)=>{t.monthChangeOnScroll&&F(t.monthChangeOnScroll!=="inverse"?-z.deltaY:z.deltaY,ae)},50),G=(z,ae,xe=!1)=>{t.monthChangeOnArrows&&t.vertical===xe&&re(z,ae)},re=(z,ae)=>{F(z==="right"?-1:1,ae)},ve=z=>t.markers.find(ae=>Rt(aY(z.value),Pi(ye(ae.date),t.timezone))),te=(z,ae)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[z==0,!0];case"fair":return[z==0||ae>z,!0];case"append":return[!1,!1];default:return[!1,!1]}},H=(z,ae,xe,We)=>{if(t.sixWeeks&&z.length<6){const ct=6-z.length,Nt=(ae.getDay()+7-We)%7,Hn=6-(xe.getDay()+7-We)%7,[Oe,Be]=te(Nt,Hn);for(let je=1;je<=ct;je++)if(Be?!!(je%2)==Oe:Oe){const Wn=z[0].days[0],Hr=Q(ms(Wn.value,-7),Et(ae));z.unshift({days:Hr})}else{const Wn=z[z.length-1],Hr=Wn.days[Wn.days.length-1],Na=Q(ms(Hr.value,1),Et(ae));z.push({days:Na})}}return z},Q=(z,ae)=>{const xe=ye(z),We=[];for(let ct=0;ct<7;ct++){const Nt=ms(xe,ct),Hn=Et(Nt)!==ae;We.push({text:t.hideOffsetDates&&Hn?"":Nt.getDate(),value:Nt,current:!Hn,classData:{}})}return We},ie=(z,ae)=>{const xe=[],We=new Date(ae,z),ct=new Date(ae,z+1,0),Nt=t.weekStart,Hn=ya(We,{weekStartsOn:Nt}),Oe=Be=>{const je=Q(Be,z);if(xe.push({days:je}),!xe[xe.length-1].days.some(Wn=>Rt(_r(Wn.value),_r(ct)))){const Wn=ms(Be,7);Oe(Wn)}};return Oe(Hn),H(xe,We,ct,Nt)},X=z=>(s.value=ef(ye(z.value),t.timezone,t.weekStart),e("date-update",z.value),_()),ce=z=>{const ae=fo(ye(z.value),a.hours,a.minutes,pe());e("date-update",ae),t.multiDates?mb(ae,s,t.multiDatesLimit):s.value=ae,r(),jn().then(()=>{_()})},be=z=>t.noDisabledRange?vx(i.value[0],z).some(ae=>h(ae)):!1,ee=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(z,ae)=>{const xe=[ye(z.value),ms(ye(z.value),+t.autoRange)];f(xe)?(ae&&U(z.value),i.value=xe):e("invalid-date",z.value)},U=z=>{const ae=Et(ye(z)),xe=ut(ye(z));if(L(0,ae,xe),l.value.count>0)for(let We=1;We<l.value.count;We++){const ct=lY(on(ye(z),{year:I.value(We-1),month:M.value(We-1)}));L(We,ct.month,ct.year)}},j=z=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(gr(z,s.value[0])||Rt(z,s.value[0]))?[s.value[0],z]:t.fixedEnd&&(Xn(z,s.value[1])||Rt(z,s.value[1]))?[z,s.value[1]]:(e("invalid-fixed-range",z),s.value):[],oe=z=>{if(be(z.value)||!p(z.value,s.value,t.fixedStart?0:1))return e("invalid-date",z.value);i.value=j(ye(z.value))},se=(z,ae)=>{if(ee(),t.autoRange)return D(z,ae);if(t.fixedStart||t.fixedEnd)return oe(z);i.value[0]?p(ye(z.value),s.value)&&!be(z.value)?Xn(ye(z.value),ye(i.value[0]))?(i.value.unshift(ye(z.value)),e("range-end",i.value[0])):(i.value[1]=ye(z.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",z.value),e("invalid-date",z.value)):(i.value[0]=ye(z.value),e("range-start",i.value[0]))},pe=(z=!0)=>t.enableSeconds?Array.isArray(a.seconds)?z?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=z=>{i.value[z]=fo(i.value[z],a.hours[z],a.minutes[z],pe(z!==1))},Ee=()=>{var z,ae;i.value[0]&&i.value[1]&&+((z=i.value)==null?void 0:z[0])>+((ae=i.value)==null?void 0:ae[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Te=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),ym(i.value,e,t.autoApply,t.modelAuto))},me=(z,ae=!1)=>{if(h(z.value)||!z.current&&t.hideOffsetDates)return e("invalid-date",z.value);if(t.weekPicker)return X(z);if(!t.range)return ce(z);CI(a.hours)&&CI(a.minutes)&&!t.multiDates&&(se(z,ae),Te())},He=(z,ae)=>{var xe;L(z,ae.month,ae.year),l.value.count&&!l.value.solo&&V(z),e("update-month-year",{instance:z,month:ae.month,year:ae.year}),n(l.value.solo?z:void 0);const We=(xe=t.flow)!=null&&xe.length?t.flow[t.flowStep]:void 0;!ae.fromNav&&(We===Bi.month||We===Bi.year)&&r()},Ie=(z,ae)=>{Ix({value:z,modelValue:s,range:t.range,timezone:ae?void 0:t.timezone}),w(),t.multiCalendars&&jn().then(()=>v(!0))},Fe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Xn(ye(),s.value[0])?[ye(),s.value[0]]:[s.value[0],ye()]:s.value=[ye()]:s.value=ye(),w()},Ge=()=>{if(Array.isArray(s.value))if(t.multiDates){const z=Ke();s.value[s.value.length-1]=b(z)}else s.value=s.value.map((z,ae)=>z&&b(z,ae));else s.value=b(s.value);e("time-update")},Ke=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:I,year:M,time:a,disabledTimesConfig:E,validateTime:P,getCalendarDays:ie,getMarker:ve,handleScroll:q,handleSwipe:re,handleArrow:G,selectDate:me,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Fe,updateTime:(z,ae=!0,xe=!1)=>{g(z,ae,xe,Ge)}}},CG={key:0},AG=Kt({__name:"DatePicker",props:{...Mi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:b,handleSwipe:S,selectDate:R,updateMonthYear:P,presetDate:E,selectCurrentDate:I,updateTime:M}=SG(i,r,x,A),L=Ea(),{setHoverDate:w,getDayClassData:T,clearHoverDate:_}=PY(l,i),{defaultedMultiCalendars:v}=En(i),C=fe([]),O=fe([]),k=fe(null),Y=Gr(L,"calendar"),B=Gr(L,"monthYear"),$=Gr(L,"timePicker"),F=G=>{i.shadow||r("mount",G)};Cn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const V=ue(()=>G=>f(o.value(G),a.value(G)).map(re=>({...re,days:re.days.map(ve=>(ve.marker=p(ve),ve.classData=T(ve),ve))})));function x(G){var re;G||G===0?(re=O.value[G])==null||re.triggerTransition(o.value(G),a.value(G)):O.value.forEach((ve,te)=>ve.triggerTransition(o.value(te),a.value(te)))}function A(){r("update-flow-step")}const q=(G,re=!1)=>{R(G,re),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:_,presetDate:E,selectCurrentDate:I,toggleMonthPicker:(G,re,ve=0)=>{var te;(te=C.value[ve])==null||te.toggleMonthPicker(G,re)},toggleYearPicker:(G,re,ve=0)=>{var te;(te=C.value[ve])==null||te.toggleYearPicker(G,re)},toggleTimePicker:(G,re,ve)=>{var te;(te=k.value)==null||te.toggleTimePicker(G,re,ve)},handleArrow:g,updateMonthYear:P,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:P,selectDate:R,presetDate:E})}),(G,re)=>(W(),Z(Ne,null,[et(vm,{"multi-calendars":K(v).count},{default:Qe(({instance:ve,index:te})=>[G.disableMonthYearSelect?de("",!0):(W(),qe(mG,he({key:0,ref:H=>{H&&(C.value[te]=H)},months:K(hx)(G.formatLocale,G.locale,G.monthNameFormat),years:K(fb)(G.yearRange,G.reverseYears),month:K(o)(ve),year:K(a)(ve),instance:ve},G.$props,{onMount:re[0]||(re[0]=H=>F(K(ea).header)),onResetFlow:re[1]||(re[1]=H=>G.$emit("reset-flow")),onUpdateMonthYear:H=>K(P)(ve,H),onOverlayClosed:re[2]||(re[2]=H=>G.$emit("focus-menu"))}),Zn({_:2},[Vt(K(B),(H,Q)=>({name:H,fn:Qe(ie=>[_e(G.$slots,H,bn(Jn(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),et(IG,he({ref:H=>{H&&(O.value[te]=H)},"mapped-dates":V.value(ve),month:K(o)(ve),year:K(a)(ve),instance:ve},G.$props,{onSelectDate:H=>K(R)(H,ve!==1),onHandleSpace:H=>q(H,ve!==1),onSetHoverDate:re[3]||(re[3]=H=>K(w)(H)),onHandleScroll:H=>K(b)(H,ve),onHandleSwipe:H=>K(S)(H,ve),onMount:re[4]||(re[4]=H=>F(K(ea).calendar)),onResetFlow:re[5]||(re[5]=H=>G.$emit("reset-flow")),onTooltipOpen:re[6]||(re[6]=H=>G.$emit("tooltip-open",H)),onTooltipClose:re[7]||(re[7]=H=>G.$emit("tooltip-close",H))}),Zn({_:2},[Vt(K(Y),(H,Q)=>({name:H,fn:Qe(ie=>[_e(G.$slots,H,bn(Jn({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),G.enableTimePicker?(W(),Z("div",CG,[G.$slots["time-picker"]?_e(G.$slots,"time-picker",bn(he({key:0},{time:K(u),updateTime:K(M)}))):(W(),qe(Cx,he({key:1,ref_key:"timePickerRef",ref:k},G.$props,{hours:K(u).hours,minutes:K(u).minutes,seconds:K(u).seconds,"internal-model-value":G.internalModelValue,"disabled-times-config":K(c),"validate-time":K(h),onMount:re[8]||(re[8]=ve=>F(K(ea).timePicker)),"onUpdate:hours":re[9]||(re[9]=ve=>K(M)(ve)),"onUpdate:minutes":re[10]||(re[10]=ve=>K(M)(ve,!1)),"onUpdate:seconds":re[11]||(re[11]=ve=>K(M)(ve,!1,!0)),onResetFlow:re[12]||(re[12]=ve=>G.$emit("reset-flow")),onOverlayClosed:re[13]||(re[13]=ve=>G.$emit("time-picker-close")),onOverlayOpened:re[14]||(re[14]=ve=>G.$emit("time-picker-open",ve)),onAmPmChange:re[15]||(re[15]=ve=>G.$emit("am-pm-change",ve))}),Zn({_:2},[Vt(K($),(ve,te)=>({name:ve,fn:Qe(H=>[_e(G.$slots,ve,bn(Jn(H)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):de("",!0)],64))}}),OG=(t,e)=>{const n=fe(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=En(t),{modelValue:o,year:a,month:l,calendars:u}=Wd(t,e),{isDisabled:c}=Ra(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:b,handleYearSelect:S,handleYear:R}=Sx({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),P=(_,v)=>[_,v].map(C=>co(C,"MMMM",{locale:t.formatLocale})).join("-"),E=ue(()=>_=>o.value?Array.isArray(o.value)?o.value.some(v=>cI(_,v)):cI(o.value,_):!1),I=_=>{if(t.range){if(Array.isArray(o.value)){const v=Rt(_,o.value[0])||Rt(_,o.value[1]);return pm(o.value,n.value,_)&&!v}return!1}return!1},M=ue(()=>_=>{const v=on(new Date,{year:a.value(_)});return QW({start:JW(v),end:XW(v)}).map(C=>{const O=Jc(C),k=rI(C),Y=c(C),B=I(O),$=typeof s.value=="function"?s.value({quarter:nI(O),year:ut(O)}):!!s.value.quarters.find(F=>F.quarter===nI(O)&&F.year===ut(O));return{text:P(O,k),value:O,active:E.value(O),highlighted:$,disabled:Y,isBetween:B}})}),L=_=>{mb(_,o,t.multiDatesLimit),e("auto-apply",!0)},w=_=>{const v=gb(o,_,e);ym(v,e,t.autoApply,t.modelAuto)},T=_=>{o.value=_,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:_=>{n.value=_},selectYear:h,selectQuarter:(_,v,C)=>{if(!C)return u.value[v].month=Et(rI(_)),t.multiDates?L(_):t.range?w(_):T(_)},toggleYearPicker:b,handleYearSelect:S,handleYear:R}},PG={class:"dp--quarter-items"},kG=["disabled","onClick","onMouseover"],RG=Kt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Mi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=Gr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:b,selectQuarter:S,toggleYearPicker:R,handleYearSelect:P,handleYear:E}=OG(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:S,handleYearSelect:P,handleYear:E})}),(I,M)=>(W(),qe(vm,{"multi-calendars":K(a).count,stretch:""},{default:Qe(({instance:L})=>[Ce("div",{class:"dp-quarter-picker-wrap",style:Pr({minHeight:`${K(l).modeHeight}px`})},[Ce("div",null,[et(Ex,he(I.$props,{items:K(u)(L),instance:L,"show-year-picker":K(g)[L],year:K(c)(L),"is-disabled":w=>K(h)(L,w),onHandleYear:w=>K(E)(L,w),onYearSelect:w=>K(P)(w,L),onToggleYearPicker:w=>K(R)(L,w==null?void 0:w.flow,w==null?void 0:w.show)}),Zn({_:2},[Vt(K(o),(w,T)=>({name:w,fn:Qe(_=>[_e(I.$slots,w,bn(Jn(_)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ce("div",PG,[(W(!0),Z(Ne,null,Vt(K(f)(L),(w,T)=>(W(),Z("div",{key:T},[Ce("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":w.active,"dp--qr-btn-between":w.isBetween,"dp--qr-btn-disabled":w.disabled,"dp--highlighted":w.highlighted}]),disabled:w.disabled,onClick:_=>K(S)(w.value,L,w.disabled),onMouseover:_=>K(b)(w.value)},[I.$slots.quarter?_e(I.$slots,"quarter",{key:0,value:w.value,text:w.text}):(W(),Z(Ne,{key:1},[Dn(dt(w.text),1)],64))],42,kG)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),DG=["id"],xG={key:0,class:"dp__sidebar_left"},NG={key:1,class:"dp--preset-dates"},MG=["onClick","onKeydown"],LG={key:2,class:"dp__sidebar_right"},VG={key:3,class:"dp__action_extra"},AI=Kt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...gm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ue(()=>{const{openOnTop:ee,...D}=i;return{...D,flowStep:T.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=Tx(),u=Ea(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=En(i),p=fe(null),g=fe(0),b=fe(null),S=fe(null),R=fe(!1),P=fe(null);vn(()=>{if(!i.shadow){R.value=!0,E(),window.addEventListener("resize",E);const ee=Nn(b);if(ee&&!c.value.enabled&&!h.value.enabled&&(o(!0),k()),ee){const D=U=>{f.value.allowPreventDefault&&U.preventDefault(),ho(U,f.value,!0)};ee.addEventListener("pointerdown",D),ee.addEventListener("mousedown",D)}}}),Ta(()=>{window.removeEventListener("resize",E)});const E=()=>{const ee=Nn(S);ee&&(g.value=ee.getBoundingClientRect().width)},{arrowRight:I,arrowLeft:M,arrowDown:L,arrowUp:w}=Po(),{flowStep:T,updateFlowStep:_,childMount:v,resetFlow:C}=kY(i,r,P),O=ue(()=>i.monthPicker?KY:i.yearPicker?GY:i.timePicker?hG:i.quarterPicker?RG:AG),k=()=>{const ee=Nn(b);ee&&ee.focus({preventScroll:!0})},Y=ue(()=>{var ee;return((ee=P.value)==null?void 0:ee.getSidebarProps())||{}}),B=()=>{i.openOnTop&&r("recalculate-position")},$=Gr(u,"action"),F=ue(()=>i.monthPicker||i.yearPicker?Gr(u,"monthYear"):i.timePicker?Gr(u,"timePicker"):Gr(u,"shared")),V=ue(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),x=ue(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),A=ue(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),q=ee=>{ho(ee,f.value,!0)},G=()=>{i.escClose&&r("close-picker")},re=ee=>{if(i.arrowNavigation){if(ee==="up")return w();if(ee==="down")return L();if(ee==="left")return M();if(ee==="right")return I()}else ee==="left"||ee==="up"?ie("handleArrow","left",0,ee==="up"):ie("handleArrow","right",0,ee==="down")},ve=ee=>{a(ee.shiftKey),!i.disableMonthYearSelect&&ee.code==="Tab"&&ee.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(ee.preventDefault(),ho(ee,f.value,!0),r("close-picker"))},te=()=>{k(),r("time-picker-close")},H=ee=>{var D,U,j;(D=P.value)==null||D.toggleTimePicker(!1,!1),(U=P.value)==null||U.toggleMonthPicker(!1,!1,ee),(j=P.value)==null||j.toggleYearPicker(!1,!1,ee)},Q=(ee,D=0)=>{var U,j,oe;return ee==="month"?(U=P.value)==null?void 0:U.toggleMonthPicker(!1,!0,D):ee==="year"?(j=P.value)==null?void 0:j.toggleYearPicker(!1,!0,D):ee==="time"?(oe=P.value)==null?void 0:oe.toggleTimePicker(!0,!1):H(D)},ie=(ee,...D)=>{var U,j;(U=P.value)!=null&&U[ee]&&((j=P.value)==null||j[ee](...D))},X=()=>{ie("selectCurrentDate")},ce=(ee,D)=>{ie("presetDate",ee,D)},be=()=>{ie("clearHoverDate")};return e({updateMonthYear:(ee,D)=>{ie("updateMonthYear",ee,D)},switchView:Q}),(ee,D)=>{var U;return W(),Z("div",{id:ee.uid?`dp-menu-${ee.uid}`:void 0,ref_key:"dpMenuRef",ref:b,tabindex:"0",role:"dialog",class:tt(A.value),onMouseleave:be,onClick:q,onKeydown:[at(G,["esc"]),D[18]||(D[18]=at(Mt(j=>re("left"),["prevent"]),["left"])),D[19]||(D[19]=at(Mt(j=>re("up"),["prevent"]),["up"])),D[20]||(D[20]=at(Mt(j=>re("down"),["prevent"]),["down"])),D[21]||(D[21]=at(Mt(j=>re("right"),["prevent"]),["right"])),ve]},[(ee.disabled||ee.readonly)&&K(h).enabled?(W(),Z("div",{key:0,class:tt(x.value)},null,2)):de("",!0),!K(h).enabled&&!ee.teleportCenter?(W(),Z("div",{key:1,class:tt(V.value)},null,2)):de("",!0),Ce("div",{ref_key:"innerMenuRef",ref:S,class:tt({dp__menu_content_wrapper:((U=ee.presetDates)==null?void 0:U.length)||!!ee.$slots["left-sidebar"]||!!ee.$slots["right-sidebar"]}),style:Pr({"--dp-menu-width":`${g.value}px`})},[ee.$slots["left-sidebar"]?(W(),Z("div",xG,[_e(ee.$slots,"left-sidebar",bn(Jn(Y.value)))])):de("",!0),ee.presetDates.length?(W(),Z("div",NG,[(W(!0),Z(Ne,null,Vt(ee.presetDates,(j,oe)=>(W(),Z(Ne,{key:oe},[j.slot?_e(ee.$slots,j.slot,{key:0,presetDate:ce,label:j.label,value:j.value}):(W(),Z("button",{key:1,type:"button",style:Pr(j.style||{}),class:"dp__btn dp--preset-range",onClick:Mt(se=>ce(j.value,j.noTz),["prevent"]),onKeydown:[at(Mt(se=>ce(j.value,j.noTz),["prevent"]),["enter"]),at(Mt(se=>ce(j.value,j.noTz),["prevent"]),["space"])]},dt(j.label),45,MG))],64))),128))])):de("",!0),Ce("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(W(),qe(qr(O.value),he({ref_key:"dynCmpRef",ref:P},s.value,{"flow-step":K(T),onMount:K(v),onUpdateFlowStep:K(_),onResetFlow:K(C),onFocusMenu:k,onSelectDate:D[0]||(D[0]=j=>ee.$emit("select-date")),onDateUpdate:D[1]||(D[1]=j=>ee.$emit("date-update",j)),onTooltipOpen:D[2]||(D[2]=j=>ee.$emit("tooltip-open",j)),onTooltipClose:D[3]||(D[3]=j=>ee.$emit("tooltip-close",j)),onAutoApply:D[4]||(D[4]=j=>ee.$emit("auto-apply",j)),onRangeStart:D[5]||(D[5]=j=>ee.$emit("range-start",j)),onRangeEnd:D[6]||(D[6]=j=>ee.$emit("range-end",j)),onInvalidFixedRange:D[7]||(D[7]=j=>ee.$emit("invalid-fixed-range",j)),onTimeUpdate:D[8]||(D[8]=j=>ee.$emit("time-update")),onAmPmChange:D[9]||(D[9]=j=>ee.$emit("am-pm-change",j)),onTimePickerOpen:D[10]||(D[10]=j=>ee.$emit("time-picker-open",j)),onTimePickerClose:te,onRecalculatePosition:B,onUpdateMonthYear:D[11]||(D[11]=j=>ee.$emit("update-month-year",j)),onAutoApplyInvalid:D[12]||(D[12]=j=>ee.$emit("auto-apply-invalid",j)),onInvalidDate:D[13]||(D[13]=j=>ee.$emit("invalid-date",j)),"onUpdate:internalModelValue":D[14]||(D[14]=j=>ee.$emit("update:internal-model-value",j))}),Zn({_:2},[Vt(F.value,(j,oe)=>({name:j,fn:Qe(se=>[_e(ee.$slots,j,bn(Jn({...se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ee.$slots["right-sidebar"]?(W(),Z("div",LG,[_e(ee.$slots,"right-sidebar",bn(Jn(Y.value)))])):de("",!0),ee.$slots["action-extra"]?(W(),Z("div",VG,[ee.$slots["action-extra"]?_e(ee.$slots,"action-extra",{key:0,selectCurrentDate:X}):de("",!0)])):de("",!0)],6),!ee.autoApply||K(f).keepActionRow?(W(),qe(FY,he({key:2,"menu-mount":R.value},s.value,{"calendar-width":g.value,onClosePicker:D[15]||(D[15]=j=>ee.$emit("close-picker")),onSelectDate:D[16]||(D[16]=j=>ee.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=j=>ee.$emit("invalid-select")),onSelectNow:X}),Zn({_:2},[Vt(K($),(j,oe)=>({name:j,fn:Qe(se=>[_e(ee.$slots,j,bn(Jn({...se})))])}))]),1040,["menu-mount","calendar-width"])):de("",!0)],42,DG)}}}),FG=typeof window<"u"?window:void 0,jg=()=>{},$G=t=>Ky()?(YS(t),!0):!1,UG=(t,e,n,r)=>{if(!t)return jg;let i=jg;const s=Cn(()=>K(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=jg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return $G(o),o},BG=(t,e,n,r={})=>{const{window:i=FG,event:s="pointerdown"}=r;return i?UG(i,s,o=>{const a=Nn(t),l=Nn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},jG=Kt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...gm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=fe(!1),a=Cc(i,"modelValue"),l=Cc(i,"timezone"),u=fe(null),c=fe(null),h=fe(null),f=fe(!1),p=fe(null),g=fe(!1),b=fe(!1),{setMenuFocused:S,setShiftKey:R}=Tx(),{clearArrowNav:P}=Po(),{mapDatesArrToMap:E,validateDate:I,isValidTime:M}=Ra(i),{defaultedTransitions:L,defaultedTextInput:w,defaultedInline:T,defaultedConfig:_}=En(i),{menuTransition:v,showTransition:C}=Hd(L);vn(()=>{re(i.modelValue),jn().then(()=>{if(!T.value.enabled){const Oe=x(p.value);Oe==null||Oe.addEventListener("scroll",ee),window==null||window.addEventListener("resize",D)}}),T.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",U),window==null||window.addEventListener("keydown",j)});const O=ue(()=>E());Ta(()=>{if(!T.value.enabled){const Oe=x(p.value);Oe==null||Oe.removeEventListener("scroll",ee),window==null||window.removeEventListener("resize",D)}window==null||window.removeEventListener("keyup",U),window==null||window.removeEventListener("keydown",j)});const k=Gr(s,"all",i.presetDates),Y=Gr(s,"input");Cn([a,l],()=>{re(a.value)},{deep:!0});const{openOnTop:B,menuStyle:$,xCorrect:F,setMenuPosition:V,getScrollableParent:x,shadowRender:A}=CY({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:T,emit:r,props:i,slots:s}),{inputValue:q,internalModelValue:G,parseExternalModelValue:re,emitModelValue:ve,formatInputValue:te,checkBeforeEmit:H}=IY(r,i,f),Q=ue(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:T.value.enabled,dp__flex_display_with_input:T.value.input})),ie=ue(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=ue(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||T.value.enabled})),ce=ue(()=>({class:"dp__outer_menu_wrap"})),be=ue(()=>T.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ee=()=>{o.value&&(_.value.closeOnScroll?Ie():V())},D=()=>{o.value&&V()},U=Oe=>{Oe.key==="Tab"&&!T.value.enabled&&!i.teleport&&_.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),b.value=Oe.shiftKey},j=Oe=>{b.value=Oe.shiftKey},oe=()=>{!i.disabled&&!i.readonly&&(A(AI,i),V(!1),o.value=!0,o.value&&r("open"),o.value||He(),re(i.modelValue))},se=()=>{var Oe;q.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),_.value.closeOnClearValue&&Ie()},pe=()=>{const Oe=G.value;return!Oe||!Array.isArray(Oe)&&I(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&I(Oe[0])&&I(Oe[1])?!0:i.partialRange&&!i.timePicker?I(Oe[0]):!1:!1},Se=()=>{H()&&pe()?(ve(),Ie()):r("invalid-select",G.value)},Ee=Oe=>{Te(),ve(),_.value.closeOnAutoApply&&!Oe&&Ie()},Te=()=>{h.value&&w.value.enabled&&h.value.setParsedDate(G.value)},me=(Oe=!1)=>{i.autoApply&&M(G.value)&&pe()&&(i.range&&Array.isArray(G.value)?(i.partialRange||G.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{w.value.enabled||(G.value=null)},Ie=()=>{T.value.enabled||(o.value&&(o.value=!1,F.value=!1,S(!1),R(!1),P(),r("closed"),q.value&&re(a.value)),He(),r("blur"))},Fe=(Oe,Be,je=!1)=>{if(!Oe){G.value=null;return}const Wn=Array.isArray(Oe)?!Oe.some(Na=>!I(Na)):I(Oe),Hr=M(Oe);Wn&&Hr&&(G.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ge=()=>{i.autoApply&&M(G.value)&&ve(),Te()},Ke=()=>o.value?Ie():oe(),z=Oe=>{G.value=Oe},ae=()=>{w.value.enabled&&(f.value=!0,te()),r("focus")},xe=()=>{if(w.value.enabled&&(f.value=!1,re(i.modelValue),g.value)){const Oe=rY(p.value,b.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:bI(Oe.month),year:bI(Oe.year)})},ct=Oe=>{re(Oe??i.modelValue)},Nt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},Hn=Oe=>_.value.onClickOutside?_.value.onClickOutside(Oe):Ie();return BG(u,h,()=>Hn(pe)),e({closeMenu:Ie,selectDate:Se,clearValue:se,openMenu:oe,onScroll:ee,formatInputValue:te,updateInternalModelValue:z,setMonthYear:We,parseModel:ct,switchView:Nt,toggleMenu:Ke}),(Oe,Be)=>(W(),Z("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(Q.value),"data-datepicker-instance":""},[et(NY,he({ref_key:"inputRef",ref:h,"input-value":K(q),"onUpdate:inputValue":Be[0]||(Be[0]=je=>an(q)?q.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:se,onOpen:oe,onSetInputDate:Fe,onSetEmptyDate:K(ve),onSelectDate:Se,onToggle:Ke,onClose:Ie,onFocus:ae,onBlur:xe,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),Zn({_:2},[Vt(K(Y),(je,Wn)=>({name:je,fn:Qe(Hr=>[_e(Oe.$slots,je,bn(Jn(Hr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),et(EC,bn(Jn(X.value)),{default:Qe(()=>[et(So,{name:K(v)(K(B)),css:K(C)&&!K(T).enabled},{default:Qe(()=>[o.value?(W(),Z("div",he({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!K(T).enabled},style:K(T).enabled?void 0:K($)}),[et(AI,he({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":K(G),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>an(G)?G.value=je:null),class:{[ie.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":K(B),"arr-map-values":O.value,"no-overlay-focus":be.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:me,onTimeUpdate:Ge,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",K(G))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:K(V),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),Zn({_:2},[Vt(K(k),(je,Wn)=>({name:je,fn:Qe(Hr=>[_e(Oe.$slots,je,bn(Jn({...Hr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):de("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),vb=(()=>{const t=jG;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),HG=Object.freeze(Object.defineProperty({__proto__:null,default:vb},Symbol.toStringTag,{value:"Module"}));Object.entries(HG).forEach(([t,e])=>{t!=="default"&&(vb[t]=e)});function Hg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=yb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function WG(t){return KG(t)||zG(t)||yb(t)||qG()}function qG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KG(t){if(Array.isArray(t))return Py(t)}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function Wg(t,e){return QG(t)||GG(t,e)||yb(t,e)||YG()}function YG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yb(t,e){if(t){if(typeof t=="string")return Py(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Py(t,e)}}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function QG(t){if(Array.isArray(t))return t}var De={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Wg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=bc(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(b){var S=Wg(b,2),R=S[0],P=S[1];return o==="style"&&(P||P===0)?"".concat(R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?R:void 0});h=g.length?h.concat(g.filter(function(b){return!!b})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=Wg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?WG(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,b="top";u.top+a+s>f.height?(p=u.top+c-s,b="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=b,r&&(e.style.marginTop=b==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(S){try{var R=window.getComputedStyle(S,null);return i.test(R.getPropertyValue("overflow"))||i.test(R.getPropertyValue("overflowX"))||i.test(R.getPropertyValue("overflowY"))}catch{return!1}},o=Hg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Hg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(b){h.e(b)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(b){o.e(b)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":bc(HTMLElement))==="object"?e instanceof HTMLElement:e&&bc(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Hg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function XG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZG(r.key),r)}}function JG(t,e,n){return e&&OI(t.prototype,e),n&&OI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZG(t){var e=eQ(t,"string");return nd(e)=="symbol"?e:String(e)}function eQ(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ox=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};XG(this,t),this.element=e,this.listener=n}return JG(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=De.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function tQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function PI(t,e){return iQ(t)||rQ(t,e)||_b(t,e)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function iQ(t){if(Array.isArray(t))return t}function kI(t){return aQ(t)||oQ(t)||_b(t)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aQ(t){if(Array.isArray(t))return ky(t)}function qg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_b(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function _b(t,e){if(t){if(typeof t=="string")return ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(t,e)}}function ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}var we={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&wc(e)=="object"&&wc(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=qg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=qg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=qg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&wc(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=kI(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(kI(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=PI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=PI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},RI=0;function lp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return RI++,"".concat(t).concat(RI)}function lQ(t){return hQ(t)||dQ(t)||cQ(t)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cQ(t,e){if(t){if(typeof t=="string")return Ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(t,e)}}function dQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return Ry(t)}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return lQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Il=fQ(),or={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function DI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=pQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function pQ(t,e){if(t){if(typeof t=="string")return xI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xI(t,e)}}function xI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Px={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=DI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=DI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=we.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)==we.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)!=we.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(we.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=vQ(t,"string");return rd(e)=="symbol"?e:String(e)}function vQ(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[or.STARTS_WITH,or.CONTAINS,or.NOT_CONTAINS,or.ENDS_WITH,or.EQUALS,or.NOT_EQUALS],numeric:[or.EQUALS,or.NOT_EQUALS,or.LESS_THAN,or.LESS_THAN_OR_EQUAL_TO,or.GREATER_THAN,or.GREATER_THAN_OR_EQUAL_TO],date:[or.DATE_IS,or.DATE_IS_NOT,or.DATE_BEFORE,or.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},yQ=Symbol();function _Q(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var bQ={install:function(e,n){var r=n?zg(zg({},MI),n):zg({},MI),i={config:Rr(r),changeTheme:_Q};e.config.globalProperties.$primevue=i,e.provide(yQ,i)}};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=TQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TQ(t){var e=EQ(t,"string");return id(e)=="symbol"?e:String(e)}function EQ(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Zr()?vn(t):e?t():jn(t)}var SQ=0;function kx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=fe(!1),r=fe(t),i=fe(null),s=De.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++SQ):f,g=e.id,b=g===void 0?void 0:g,S=e.media,R=S===void 0?void 0:S,P=e.nonce,E=P===void 0?void 0:P,I=e.props,M=I===void 0?{}:I,L=function(){},w=function(v){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var O=VI(VI({},M),C),k=O.name||p,Y=O.id||b,B=O.nonce||E;i.value=a.querySelector('style[data-primevue-style-id="'.concat(k,'"]'))||a.getElementById(Y)||a.createElement("style"),i.value.isConnected||(r.value=v||t,De.setAttributes(i.value,{type:"text/css",id:Y,media:R,nonce:B}),a.head.appendChild(i.value),De.setAttribute(i.value,"data-primevue-style-id",p),De.setAttributes(i.value,O)),!n.value&&(L=Cn(r,function($){i.value.textContent=$},{immediate:!0}),n.value=!0)}},T=function(){!a||!n.value||(L(),De.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&IQ(w),{id:b,name:p,css:r,unload:T,load:w,isLoaded:Xy(n)}}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function CQ(t,e){return kQ(t)||PQ(t,e)||OQ(t,e)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return FI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(t,e)}}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kQ(t){if(Array.isArray(t))return t}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=xQ(t,"string");return sd(e)=="symbol"?e:String(e)}function xQ(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,MQ={},LQ={},fi={name:"base",css:NQ,classes:MQ,inlineStyles:LQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?kx(this.css,Kg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=CQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Kg(Kg({},this),{},{css:void 0},e)}};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){FQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=UQ(t,"string");return od(e)=="symbol"?e:String(e)}function UQ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yg=fi.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return kx(e,VQ({name:"global"},n))}});function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function BQ(t){return xx(t)||jQ(t)||Dx(t)||Rx()}function jQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mh(t,e){return xx(t)||HQ(t,e)||Dx(t,e)||Rx()}function Rx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dx(t,e){if(t){if(typeof t=="string")return BI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BI(t,e)}}function BI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xx(t){if(Array.isArray(t))return t}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){tf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tf(t,e,n){return e=WQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=qQ(t,"string");return ad(e)=="symbol"?e:String(e)}function qQ(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Da={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Yg.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var b=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,S=b?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,R=b?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=R||S)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;fi.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):he.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);we.isNotEmpty(n)&&Yg.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?this._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,tn(tn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):tn(tn(tn({},f),p),g):tn(tn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return he(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&we.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&tn(tn({},r==="root"&&tn(tf({},"".concat(i,"name"),we.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&tf({},"".concat(i,"extend"),we.toFlatCase(this.$.type.name)))),{},tf({},"".concat(i,"section"),we.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return we.isString(e)||we.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=we.toFlatCase(r),f=we.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(b){return n(b,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:we.isString(p)?p:we.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):tn(tn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,tn(tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return he(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,tn(tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,tn(tn({},this.$params),r)),s=this._getOptionValue(Yg.inlineStyles,e,tn(tn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return we.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,tn({},n.$params))||we.getItemValue(r,tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return tn(tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Mh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Mh(n,2),i=r[0],s=r[1],o=i.split(":"),a=BQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Mh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Mh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},zQ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,KQ=fi.extend({name:"baseicon",css:zQ});function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return e=GQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=QQ(t,"string");return ld(e)=="symbol"?e:String(e)}function QQ(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xa={name:"BaseIcon",extends:Da,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:KQ,methods:{pti:function(){var e=we.isEmpty(this.label);return WI(WI({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Nx={name:"BlankIcon",extends:xa},XQ=Ce("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),JQ=[XQ];function ZQ(t,e,n,r,i,s){return W(),Z("svg",he({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),JQ,16)}Nx.render=ZQ;var _m={name:"CheckIcon",extends:xa},eX=Ce("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),tX=[eX];function nX(t,e,n,r,i,s){return W(),Z("svg",he({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),tX,16)}_m.render=nX;var bb={name:"ChevronDownIcon",extends:xa},rX=Ce("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),iX=[rX];function sX(t,e,n,r,i,s){return W(),Z("svg",he({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),iX,16)}bb.render=sX;var wb={name:"SearchIcon",extends:xa},oX=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),aX=[oX];function lX(t,e,n,r,i,s){return W(),Z("svg",he({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),aX,16)}wb.render=lX;var bm={name:"SpinnerIcon",extends:xa},uX=Ce("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),cX=[uX];function dX(t,e,n,r,i,s){return W(),Z("svg",he({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),cX,16)}bm.render=dX;var Tb={name:"TimesIcon",extends:xa},hX=Ce("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),fX=[hX];function pX(t,e,n,r,i,s){return W(),Z("svg",he({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),fX,16)}Tb.render=pX;var Mx=tQ(),Eb={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=De.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function mX(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(W(),qe(EC,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):de("",!0)}Eb.render=mX;function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function qI(t,e){return _X(t)||yX(t,e)||vX(t,e)||gX()}function gX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vX(t,e){if(t){if(typeof t=="string")return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(t,e)}}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _X(t){if(Array.isArray(t))return t}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){Dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dy(t,e,n){return e=bX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=wX(t,"string");return ud(e)=="symbol"?e:String(e)}function wX(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var At={_getMeta:function(){return[we.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],we.getItemValue(we.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?At._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var P=At._getOptionValue.apply(At,arguments);return we.isString(P)||we.isArray(P)?{class:P}:P},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?At._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,b=At._usePT(r,At._getPT(i,r.$name),l,s,cn(cn({},o),{},{global:g||{}})),S=At._getPTDatasets(r,s);return h||!h&&b?p?At._mergeProps(r,p,g,b,S):cn(cn(cn({},g),b),S):cn(cn({},b),S)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return cn(cn({},n==="root"&&Dy({},"".concat(r,"name"),we.toFlatCase(e.$name))),{},Dy({},"".concat(r,"section"),we.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=we.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(S){return r(S,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:we.isString(g)?g:we.isString(p)?p:c||!c&&g?f?At._mergeProps(e,f,p,g):cn(cn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return At._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(we.toCapitalCase(n)),c=At._getConfig(i,s),h=r==null?void 0:r.$instance,f=At._usePT(h,At._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),At._getOptionValue,"hooks.".concat(u)),p=At._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],At._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):he.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=At._getConfig(a,l),p=o._$instances[e]||{},g=we.isEmpty(p)?cn(cn({},n),n==null?void 0:n.methods):{};o._$instances[e]=cn(cn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:cn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return At._getPT(f==null?void 0:f.pt,void 0,function(S){var R;return S==null||(R=S.directives)===null||R===void 0?void 0:R[e]})},isUnstyled:function(){var S,R;return((S=o.$instance)===null||S===void 0||(S=S.$binding)===null||S===void 0||(S=S.value)===null||S===void 0?void 0:S.unstyled)!==void 0?(R=o.$instance)===null||R===void 0||(R=R.$binding)===null||R===void 0||(R=R.value)===null||R===void 0?void 0:R.unstyled:f==null?void 0:f.unstyled},ptm:function(){var S,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return At._getPTValue(o.$instance,(S=o.$instance)===null||S===void 0||(S=S.$binding)===null||S===void 0||(S=S.value)===null||S===void 0?void 0:S.pt,R,cn({},P))},ptmo:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return At._getPTValue(o.$instance,S,R,P,!1)},cx:function(){var S,R,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(S=o.$instance)!==null&&S!==void 0&&S.isUnstyled()?void 0:At._getOptionValue((R=o.$instance)===null||R===void 0||(R=R.$style)===null||R===void 0?void 0:R.classes,P,cn({},E))},sx:function(){var S,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P?At._getOptionValue((S=o.$instance)===null||S===void 0||(S=S.$style)===null||S===void 0?void 0:S.inlineStyles,R,cn({},E)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,At._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=At._getConfig(o,a);fi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=At._getConfig(o,a);fi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=At._getMeta.apply(At,arguments),n=qI(e,2),r=n[0],i=n[1];return cn({extend:function(){var o=At._getMeta.apply(At,arguments),a=qI(o,2),l=a[0],u=a[1];return At.extend(l,cn(cn(cn({},i),i==null?void 0:i.methods),u))}},At._extend(r,i))}},TX={root:"p-ink"},EX=fi.extend({name:"ripple",classes:TX}),IX=At.extend({style:EX});function SX(t){return PX(t)||OX(t)||AX(t)||CX()}function CX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(t,e){if(t){if(typeof t=="string")return xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(t,e)}}function OX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PX(t){if(Array.isArray(t))return xy(t)}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lx=IX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=De.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!De.getHeight(i)&&!De.getWidth(i)){var s=Math.max(De.getOuterWidth(r),De.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=De.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-De.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-De.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&De.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&De.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?SX(e.children).find(function(n){return De.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),kX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,YI=fi.extend({name:"virtualscroller",css:kX}),RX={name:"BaseVirtualScroller",extends:Da,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:YI,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;YI.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Vx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vx(t,e,n){return e=DX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=xX(t,"string");return cd(e)=="symbol"?e:String(e)}function xX(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ib={name:"VirtualScroller",extends:RX,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){De.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=De.getWidth(this.element),this.defaultHeight=De.getHeight(this.element),this.defaultContentWidth=De.getWidth(this.content),this.defaultContentHeight=De.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(w){return w>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,b=this.getContentPosition(),S=this.itemSize,R=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1?arguments[1]:void 0;return T<=_?0:T},P=function(T,_,v){return T*_+v},E=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:T,top:_,behavior:r})},I=i?{rows:0,cols:0}:0,M=!1,L=!1;i?(I={rows:R(e[0],g[0]),cols:R(e[1],g[1])},E(P(I.cols,S[1],b.left),P(I.rows,S[0],b.top)),L=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,M=I.rows!==a.rows||I.cols!==a.cols):(I=R(e,g),s?E(P(I,S,b.left),c):E(f,P(I,S,b.top)),L=this.lastScrollPos!==(s?f:c),M=I!==a),this.isRangeChanged=M,L&&(this.first=I)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(S){return S>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:R,top:P,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var b=(c.first+1)*this.itemSize;o?h(b,0):h(0,b)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=$u($u({},e.spacerStyle),Vx({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=$u($u({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(C,O){return C?C>O?C-O:C:0},l=function(C,O){return Math.floor(C/(O||C))},u=function(C,O,k,Y,B,$){return C<=B?B:$?k-Y-B:O+B-1},c=function(C,O,k,Y,B,$,F){return C<=$?0:Math.max(0,F?C<O?k:C-$:C>O?k:C-2*$)},h=function(C,O,k,Y,B,$){var F=O+Y+2*B;return C>=B&&(F+=B+1),n.getLast(F,$)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,b=this.last,S=!1,R=this.lastScrollPos;if(i){var P=this.lastScrollPos.top<=f,E=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(P||E)){var I={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(I.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:u(I.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)};g={rows:c(I.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:c(I.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],E)},b={rows:h(I.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(I.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},S=g.rows!==this.first.rows||b.rows!==this.last.rows||g.cols!==this.first.cols||b.cols!==this.last.cols||this.isRangeChanged,R={top:f,left:p}}}else{var L=s?p:f,w=this.lastScrollPos<=L;if(!this.appendOnly||this.appendOnly&&w){var T=l(L,this.itemSize),_=u(T,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,w);g=c(T,_,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,w),b=h(T,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),S=g!==this.first||b!==this.last||this.isRangeChanged,R=L}}return{first:g,last:b,isRangeChanged:S,scrollPos:R}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(De.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=De.getWidth(e.content),e.defaultContentHeight=De.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return $u({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||De.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:bm}},NX=["tabindex"];function MX(t,e,n,r,i,s){var o=zr("SpinnerIcon");return t.disabled?(W(),Z(Ne,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(W(),Z("div",he({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ce("div",he({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(W(!0),Z(Ne,null,Vt(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(W(),Z("div",he({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):de("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(W(),Z("div",he({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(W(!0),Z(Ne,{key:0},Vt(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):de("",!0),_e(t.$slots,"loadingicon",{},function(){return[et(o,he({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):de("",!0)],16,NX))}Ib.render=MX;var LX={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},VX=fi.extend({name:"dropdown",classes:LX}),FX={name:"BaseDropdown",extends:Da,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:VX,provide:function(){return{$parentInstance:this}}};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function $X(t){return HX(t)||jX(t)||BX(t)||UX()}function UX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BX(t,e){if(t){if(typeof t=="string")return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}}function jX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HX(t){if(Array.isArray(t))return Ny(t)}function Ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){Fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fx(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=qX(t,"string");return dd(e)=="symbol"?e:String(e)}function qX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $x={name:"Dropdown",extends:FX,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||lp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||lp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Il.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||De.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&we.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Mx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Il.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Il.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Ox(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&De.isVisible(n)&&(this.labelClickListener=function(){De.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&De.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&we.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Px.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(XI(XI({},o),{},Fx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",$X(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Lx},components:{VirtualScroller:Ib,Portal:Eb,TimesIcon:Tb,ChevronDownIcon:bb,SpinnerIcon:bm,SearchIcon:wb,CheckIcon:_m,BlankIcon:Nx}};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){zX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zX(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=YX(t,"string");return hd(e)=="symbol"?e:String(e)}function YX(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GX=["id"],QX=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],XX=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],JX=["value","placeholder","aria-owns","aria-activedescendant"],ZX=["id","aria-label"],eJ=["id"],tJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function nJ(t,e,n,r,i,s){var o=zr("SpinnerIcon"),a=zr("CheckIcon"),l=zr("BlankIcon"),u=zr("VirtualScroller"),c=zr("Portal"),h=DC("ripple");return W(),Z("div",he({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(W(),Z("input",he({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Li(Li({},t.inputProps),t.ptm("input"))),null,16,QX)):(W(),Z("span",he({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Li(Li({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Dn(dt(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,XX)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(W(),qe(qr(t.clearIcon?"i":"TimesIcon"),he({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Li(Li({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):de("",!0),Ce("div",he({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),Z("span",he({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(o,he({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(qr(t.dropdownIcon?"span":"ChevronDownIcon"),he({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(So,he({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),Z("div",he({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Li(Li({},t.panelProps),t.ptm("panel"))),[Ce("span",he({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(W(),Z("div",he({key:0,class:t.cx("header")},t.ptm("header")),[Ce("div",he({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",he({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Li(Li({},t.filterInputProps),t.ptm("filterInput"))),null,16,JX),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(qr(t.filterIcon?"span":"SearchIcon"),he({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ce("span",he({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)],16)):de("",!0),Ce("div",he({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,he({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,S=f.getItemOptions,R=f.contentStyle,P=f.itemSize;return[Ce("ul",he({ref:function(I){return s.listRef(I,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),Z(Ne,null,Vt(b,function(E,I){return W(),Z(Ne,{key:s.getOptionRenderKey(E,s.getOptionIndex(I,S))},[s.isOptionGroup(E)?(W(),Z("li",he({key:0,id:i.id+"_"+s.getOptionIndex(I,S),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:E.optionGroup,index:s.getOptionIndex(I,S)},function(){return[Ce("span",he({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),dt(s.getOptionGroupLabel(E.optionGroup)),17)]})],16,eJ)):Ko((W(),Z("li",he({key:1,id:i.id+"_"+s.getOptionIndex(I,S),class:t.cx("item",{option:E,focusedOption:s.getOptionIndex(I,S)}),style:{height:P?P+"px":void 0},role:"option","aria-label":s.getOptionLabel(E),"aria-selected":s.isSelected(E),"aria-disabled":s.isOptionDisabled(E),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(I,S)),onClick:function(L){return s.onOptionSelect(L,E)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(I,S))},"data-p-highlight":s.isSelected(E),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(I,S),"data-p-disabled":s.isOptionDisabled(E)},s.getPTItemOptions(E,S,I,"item")),[t.checkmark?(W(),Z(Ne,{key:0},[s.isSelected(E)?(W(),qe(a,he({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(W(),qe(l,he({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):de("",!0),_e(t.$slots,"option",{option:E,index:s.getOptionIndex(I,S)},function(){return[Ce("span",he({class:t.cx("itemLabel")},t.ptm("itemLabel")),dt(s.getOptionLabel(E)),17)]})],16,tJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(W(),Z("li",he({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),Z("li",he({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[Dn(dt(s.emptyMessageText),1)]})],16)):de("",!0)],16,ZX)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),Z("span",he({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):de("",!0),Ce("span",he({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",he({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,GX)}$x.render=nJ;var rJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},iJ=fi.extend({name:"inputtext",classes:rJ}),sJ={name:"BaseInputText",extends:Da,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:iJ,provide:function(){return{$parentInstance:this}}},Ux={name:"InputText",extends:sJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},oJ=["value","aria-invalid"];function aJ(t,e,n,r,i,s){return W(),Z("input",he({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,oJ)}Ux.render=aJ;var lJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},uJ=fi.extend({name:"checkbox",classes:lJ}),cJ={name:"BaseCheckbox",extends:Da,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:uJ,provide:function(){return{$parentInstance:this}}};function dJ(t){return mJ(t)||pJ(t)||fJ(t)||hJ()}function hJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function pJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mJ(t){if(Array.isArray(t))return My(t)}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bx={name:"Checkbox",extends:cJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!we.equals(i,n.value)}):r=this.modelValue?[].concat(dJ(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:we.contains(this.value,this.modelValue)}},components:{CheckIcon:_m}},gJ=["data-p-highlight","data-p-disabled"],vJ=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function yJ(t,e,n,r,i,s){var o=zr("CheckIcon");return W(),Z("div",he({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ce("input",he({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,vJ),Ce("div",he({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(W(),qe(o,he({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):de("",!0)]})],16)],16,gJ)}Bx.render=yJ;var jx={name:"TimesCircleIcon",extends:xa},_J=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),bJ=[_J];function wJ(t,e,n,r,i,s){return W(),Z("svg",he({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),bJ,16)}jx.render=wJ;var TJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},EJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},IJ=fi.extend({name:"multiselect",classes:EJ,inlineStyles:TJ}),SJ={name:"BaseMultiSelect",extends:Da,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:IJ,provide:function(){return{$parentInstance:this}}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Hx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hx(t,e,n){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=AJ(t,"string");return fd(e)=="symbol"?e:String(e)}function AJ(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tS(t){return RJ(t)||kJ(t)||PJ(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(t,e){if(t){if(typeof t=="string")return Ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(t,e)}}function kJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RJ(t){if(Array.isArray(t))return Ly(t)}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wx={name:"MultiSelect",extends:SJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||lp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||lp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Il.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!we.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(tS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&De.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Mx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Il.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Il.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Ox(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&we.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!we.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return we.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?we.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Px.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(eS(eS({},o),{},Hx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",tS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:we.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Lx},components:{Checkbox:Bx,VirtualScroller:Ib,Portal:Eb,TimesIcon:Tb,SearchIcon:wb,TimesCircleIcon:jx,ChevronDownIcon:bb,SpinnerIcon:bm,CheckIcon:_m}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){Vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vy(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=xJ(t,"string");return pd(e)=="symbol"?e:String(e)}function xJ(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NJ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],MJ=["onClick"],LJ=["value","placeholder","aria-owns","aria-activedescendant"],VJ=["aria-label"],FJ=["id","aria-label"],$J=["id"],UJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function BJ(t,e,n,r,i,s){var o=zr("TimesCircleIcon"),a=zr("SpinnerIcon"),l=zr("Checkbox"),u=zr("VirtualScroller"),c=zr("Portal"),h=DC("ripple");return W(),Z("div",he({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ce("div",he({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ce("input",he({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Hs(Hs({},t.inputProps),t.ptm("hiddenInput"))),null,16,NJ)],16),Ce("div",he({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ce("div",he({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(W(),Z(Ne,{key:0},[Dn(dt(s.label||"empty"),1)],64)):t.display==="chip"?(W(),Z(Ne,{key:1},[(W(!0),Z(Ne,null,Vt(s.chipSelectedItems,function(f){return W(),Z("div",he({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:f},function(){return[Ce("span",he({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),dt(s.getLabelByValue(f)),17)]}),t.disabled?de("",!0):_e(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(W(),Z("span",he({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Mt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,MJ)):(W(),qe(o,he({key:1,class:t.cx("removeTokenIcon"),onClick:Mt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(W(),Z(Ne,{key:0},[Dn(dt(t.placeholder||"empty"),1)],64)):de("",!0)],64)):de("",!0)]})],16)],16),Ce("div",he({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),Z("span",he({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(a,he({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(qr(t.dropdownIcon?"span":"ChevronDownIcon"),he({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(So,he({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),Z("div",he({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Hs(Hs({},t.panelProps),t.ptm("panel"))),[Ce("span",he({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(W(),Z("div",he({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(W(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(W(),qe(qr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(W(),qe(qr(t.checkboxIcon?"span":"CheckIcon"),he({key:1,class:[f.class,Vy({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):de("",!0),t.filter?(W(),Z("div",he({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",he({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Hs(Hs({},t.filterInputProps),t.ptm("filterInput"))),null,16,LJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(qr(t.filterIcon?"span":"SearchIcon"),he({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):de("",!0),t.filter?(W(),Z("span",he({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)):de("",!0),Ko((W(),Z("button",he({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Hs(Hs({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(W(),qe(qr(t.closeIcon?"span":"TimesIcon"),he({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,VJ)),[[h]])],16)):de("",!0),Ce("div",he({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,he({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,S=f.getItemOptions,R=f.contentStyle,P=f.itemSize;return[Ce("ul",he({ref:function(I){return s.listRef(I,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),Z(Ne,null,Vt(b,function(E,I){return W(),Z(Ne,{key:s.getOptionRenderKey(E,s.getOptionIndex(I,S))},[s.isOptionGroup(E)?(W(),Z("li",he({key:0,id:i.id+"_"+s.getOptionIndex(I,S),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:E.optionGroup,index:s.getOptionIndex(I,S)},function(){return[Dn(dt(s.getOptionGroupLabel(E.optionGroup)),1)]})],16,$J)):Ko((W(),Z("li",he({key:1,id:i.id+"_"+s.getOptionIndex(I,S),style:{height:P?P+"px":void 0},class:t.cx("item",{option:E,index:I,getItemOptions:S}),role:"option","aria-label":s.getOptionLabel(E),"aria-selected":s.isSelected(E),"aria-disabled":s.isOptionDisabled(E),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(I,S)),onClick:function(L){return s.onOptionSelect(L,E,s.getOptionIndex(I,S),!0)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(I,S))}},s.getCheckboxPTOptions(E,S,I,"item"),{"data-p-highlight":s.isSelected(E),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(I,S),"data-p-disabled":s.isOptionDisabled(E)}),[et(l,{modelValue:s.isSelected(E),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(E,S,I,"itemCheckbox")},{icon:Qe(function(M){return[t.$slots.itemcheckboxicon?(W(),qe(qr(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:tt(M.class)},null,8,["checked","class"])):M.checked?(W(),qe(qr(t.checkboxIcon?"span":"CheckIcon"),he({key:1,class:[M.class,Vy({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(E,S,I,"itemCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:E,index:s.getOptionIndex(I,S)},function(){return[Ce("span",bn(Jn(t.ptm("option"))),dt(s.getOptionLabel(E)),17)]})],16,UJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(W(),Z("li",he({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),Z("li",he({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[Dn(dt(s.emptyMessageText),1)]})],16)):de("",!0)],16,FJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),Z("span",he({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):de("",!0),Ce("span",he({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",he({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Wx.render=BJ;var jJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},HJ=fi.extend({name:"textarea",classes:jJ}),WJ={name:"BaseTextarea",extends:Da,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:HJ,provide:function(){return{$parentInstance:this}}},qx={name:"Textarea",extends:WJ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},qJ=["value","aria-invalid"];function zJ(t,e,n,r,i,s){return W(),Z("textarea",he({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,qJ)}qx.render=zJ;/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){GJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function KJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zx(r.key),r)}}function YJ(t,e,n){return e&&iS(t.prototype,e),n&&iS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GJ(t,e,n){return e=zx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zx(t){var e=QJ(t,"string");return typeof e=="symbol"?e:String(e)}var sS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},XJ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',wm=typeof window<"u"&&typeof window.document<"u",ks=wm?window:{},Sl=wm&&ks.document.documentElement?"ontouchstart"in ks.document.documentElement:!1,Cb=wm?"PointerEvent"in ks:!1,lt="viewer",nf="move",Kx="switch",Qu="zoom",Lh="".concat(lt,"-active"),JJ="".concat(lt,"-close"),rf="".concat(lt,"-fade"),$y="".concat(lt,"-fixed"),ZJ="".concat(lt,"-fullscreen"),oS="".concat(lt,"-fullscreen-exit"),jo="".concat(lt,"-hide"),eZ="".concat(lt,"-hide-md-down"),tZ="".concat(lt,"-hide-sm-down"),nZ="".concat(lt,"-hide-xs-down"),ri="".concat(lt,"-in"),Tc="".concat(lt,"-invisible"),Cl="".concat(lt,"-loading"),rZ="".concat(lt,"-move"),aS="".concat(lt,"-open"),za="".concat(lt,"-show"),mn="".concat(lt,"-transition"),Xl="click",Uy="dblclick",lS="dragstart",uS="focusin",cS="keydown",si="load",ta="error",iZ=Sl?"touchend touchcancel":"mouseup",sZ=Sl?"touchmove":"mousemove",oZ=Sl?"touchstart":"mousedown",dS=Cb?"pointerdown":oZ,hS=Cb?"pointermove":sZ,fS=Cb?"pointerup pointercancel":iZ,pS="resize",vi="transitionend",mS="wheel",gS="ready",vS="show",yS="shown",_S="hide",bS="hidden",wS="view",md="viewed",TS="move",ES="moved",IS="rotate",SS="rotated",CS="scale",AS="scaled",OS="zoom",PS="zoomed",kS="play",RS="stop",up="".concat(lt,"Action"),Ab=/\s\s*/,Vh=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function gd(t){return typeof t=="string"}var aZ=Number.isNaN||ks.isNaN;function dn(t){return typeof t=="number"&&!aZ(t)}function al(t){return typeof t>"u"}function Jl(t){return Fy(t)==="object"&&t!==null}var lZ=Object.prototype.hasOwnProperty;function ll(t){if(!Jl(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&lZ.call(n,"isPrototypeOf")}catch{return!1}}function Wt(t){return typeof t=="function"}function Xt(t,e){if(t&&Wt(e))if(Array.isArray(t)||dn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else Jl(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Qr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Jl(e)&&r.length>0&&r.forEach(function(s){Jl(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},uZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ii(t,e){var n=t.style;Xt(e,function(r,i){uZ.test(i)&&dn(r)&&(r+="px"),n[i]=r})}function cZ(t){return gd(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function el(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(n){Pt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function vd(t,e,n){if(e){if(dn(t.length)){Xt(t,function(r){vd(r,e,n)});return}n?nt(t,e):Pt(t,e)}}var dZ=/([a-z\d])([A-Z])/g;function Ob(t){return t.replace(dZ,"$1-$2").toLowerCase()}function ul(t,e){return Jl(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Ob(e)))}function By(t,e,n){Jl(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Ob(e)),n)}var Yx=function(){var t=!1;if(wm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});ks.addEventListener("test",n,r),ks.removeEventListener("test",n,r)}return t}();function qt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Ab).forEach(function(s){if(!Yx){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Ab).forEach(function(s){if(r.once&&!Yx){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function yn(t,e,n,r){var i;return Wt(Event)&&Wt(CustomEvent)?i=new CustomEvent(e,Sb({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function hZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function sf(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];dn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),dn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),dn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),dn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),dn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function fZ(t){return gd(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Gg=ks.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ks.navigator.userAgent);function Gx(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Gg)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Gg||i.removeChild(r)},Xt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,Gg||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Fh(t){switch(t){case 2:return nZ;case 3:return tZ;case 4:return eZ;default:return""}}function pZ(t){var e=Sb({},t),n=[];return Xt(t,function(r,i){delete e[i],Xt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function $h(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:Sb({timeStamp:Date.now(),startX:n,startY:r},i)}function mZ(t){var e=0,n=0,r=0;return Xt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var gZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Qr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Ii(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Xt(this.images,function(o,a){var l=o.src,u=o.alt||fZ(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Xt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Xt(s,function(o){var a=o.firstElementChild,l,u;By(a,"filled",!0),r.loading&&nt(o,Cl),it(a,si,l=function(h){qt(a,ta,u),r.loading&&Pt(o,Cl),e.loadImage(h)},{once:!0}),it(a,ta,u=function(){qt(a,si,l),r.loading&&Pt(o,Cl)},{once:!0})}),r.transition&&it(n,md,function(){nt(i,mn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Ii(this.list,Qr({width:o*this.length-i},sf({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Pt(e,mn),Ii(e,sf({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=Gx(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),b=a,S=l;n.imageInitializing=!1,l*p>a?S=a/p:b=l*p,g=dn(g)?g:.9,b=Math.min(b*g,h),S=Math.min(S*g,f);var R=(a-b)/2,P=(l-S)/2,E={left:R,top:P,x:R,y:P,width:b,height:S,oldRatio:1,ratio:b/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},I=Qr({},E);r.rotatable&&(E.rotate=u.rotate||0,I.rotate=0),r.scalable&&(E.scaleX=u.scaleX||1,E.scaleY=u.scaleY||1,I.scaleX=1,I.scaleY=1),n.imageData=E,n.initialImageData=I,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Ii(r,Qr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},sf(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&el(r,mn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){qt(r,vi,s)}},it(r,vi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},vZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,Xl,this.onClick=this.click.bind(this)),it(n,lS,this.onDragStart=this.dragstart.bind(this)),it(r,dS,this.onPointerDown=this.pointerdown.bind(this)),it(i,hS,this.onPointerMove=this.pointermove.bind(this)),it(i,fS,this.onPointerUp=this.pointerup.bind(this)),it(i,cS,this.onKeyDown=this.keydown.bind(this)),it(window,pS,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,mS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,Uy,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;qt(n,Xl,this.onClick),qt(n,lS,this.onDragStart),qt(r,dS,this.onPointerDown),qt(i,hS,this.onPointerMove),qt(i,fS,this.onPointerUp),qt(i,cS,this.onKeyDown),qt(window,pS,this.onResize),e.zoomable&&e.zoomOnWheel&&qt(n,mS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&qt(r,Uy,this.onDblclick)}},yZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=ul(i,up);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=ul(i,up)),Sl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(ul(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Sl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Pt(i,Tc),r.loading&&Pt(this.canvas,Cl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){vd(i,rZ,r.movable),vd(i,mn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,Wt(r.viewed)&&it(n,md,r.viewed,{once:!0}),yn(n,md,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!ul(n,"filled");Gx(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Ii(n,Qr({width:c,height:h},sf({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(dn(i)&&i!==1||dn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(a){r[a.identifier]=$h(a)}):r[e.pointerId||0]=$h(e);var o=n.movable?nf:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=Qu:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=Kx),n.transition&&(o===nf||o===Qu)&&Pt(this.image,mn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(i){Qr(n[i.identifier]||{},$h(i,!0))}):Qr(n[e.pointerId||0]||{},$h(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Xt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===nf||i===Qu)&&nt(this.image,mn),this.action=!1,Sl&&i!==Qu&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){yn(n.image,Uy,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){yn(n.canvas,Xl,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Xt(this.player.getElementsByTagName("img"),function(n){it(n,si,e.loadImage.bind(e),{once:!0}),yn(n,si)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},_Z={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(Wt(r.show)&&it(n,vS,r.show,{once:!0}),yn(n,vS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Pt(i,jo),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){qt(i,vi,s),Pt(i,ri)}},nt(i,mn),i.initialOffsetWidth=i.offsetWidth,it(i,vi,s,{once:!0}),nt(i,ri)}else nt(i,ri),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(Wt(i.hide)&&it(r,_S,i.hide,{once:!0}),yn(r,_S)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Pt(s,ri),e.hidden()};if(i.transition&&!n){var l=function c(h){h&&h.target===s&&(qt(s,vi,c),e.hidden())},u=function(){el(s,mn)?(it(s,vi,l),Pt(s,ri)):a()};this.transitioning={abort:function(){e.viewed&&el(o,mn)?qt(o,vi,u):el(s,mn)&&qt(s,vi,l)}},this.viewed&&el(o,mn)?(it(o,vi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=ul(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Xt(i.inheritedAttributes,function(S){var R=l.getAttribute(S);R!==null&&h.setAttribute(S,R)}),h.src=u,h.alt=c,Wt(i.view)&&it(r,wS,i.view,{once:!0}),yn(r,wS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,Lh),f.removeAttribute("aria-selected")),nt(a,Lh),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Tc),i.loading&&nt(o,Cl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var R=e.imageData,P=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=cZ(Wt(P)?P.call(e,h,R):"".concat(c," (").concat(R.naturalWidth," × ").concat(R.naturalHeight,")"))},g,b;return it(r,md,p,{once:!0}),this.viewing={abort:function(){qt(r,md,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",qt(h,si,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,si,g=function(){qt(h,ta,b),e.load()},{once:!0}),it(h,ta,b=function(){qt(h,si,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Pt(h,Tc),i.loading&&Pt(e.canvas,Cl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Pt(h,Tc),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(al(e)?e:r.x+Number(e),al(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(dn(e)?c=!0:e=l,dn(r)?c=!0:r=u,c){if(Wt(o.move)&&it(s,TS,o.move,{once:!0}),yn(s,TS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,Wt(o.moved)&&it(s,ES,o.moved,{once:!0}),yn(s,ES,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),dn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(Wt(i.rotate)&&it(r,IS,i.rotate,{once:!0}),yn(r,IS,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,Wt(i.rotated)&&it(r,SS,i.rotated,{once:!0}),yn(r,SS,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(dn(e)?u=!0:e=a,dn(r)?u=!0:r=l,u){if(Wt(s.scale)&&it(i,CS,s.scale,{once:!0}),yn(i,CS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,Wt(s.scaled)&&it(i,AS,s.scaled,{once:!0}),yn(i,AS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,b=c.naturalWidth,S=c.naturalHeight;if(e=Math.max(0,e),dn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var R=Math.max(.01,l.minZoomRatio),P=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,R),P)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var E=b*e,I=S*e,M=E-p,L=I-g,w=c.ratio;if(Wt(l.zoom)&&it(a,OS,l.zoom,{once:!0}),yn(a,OS,{ratio:e,oldRatio:w,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var T=hZ(this.viewer),_=u&&Object.keys(u).length>0?mZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((_.pageX-T.left-h)/p),c.y-=L*((_.pageY-T.top-f)/g)}else ll(i)&&dn(i.x)&&dn(i.y)?(c.x-=M*((i.x-h)/p),c.y-=L*((i.y-f)/g)):(c.x-=M/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=E,c.height=I,c.oldRatio=w,c.ratio=e,this.renderImage(function(){n.zooming=!1,Wt(l.zoomed)&&it(a,PS,l.zoomed,{once:!0}),yn(a,PS,{ratio:e,oldRatio:w,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(Wt(i.play)&&it(r,kS,i.play,{once:!0}),yn(r,kS)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,za),Xt(this.items,function(f,p){var g=f.querySelector("img"),b=document.createElement("img");b.src=ul(g,"originalUrl"),b.alt=g.getAttribute("alt"),b.referrerPolicy=g.referrerPolicy,l+=1,nt(b,rf),vd(b,mn,i.transition),el(f,Lh)&&(nt(b,ri),u=p),a.push(b),it(b,si,o,{once:!0}),s.appendChild(b)}),dn(i.interval)&&i.interval>0){var c=function f(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u-=1,u=u>=0?u:l-1,nt(a[u],ri),e.playing.timeout=setTimeout(f,i.interval)},h=function f(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u+=1,u=u<l?u:0,nt(a[u],ri),e.playing.timeout=setTimeout(f,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(Wt(r.stop)&&it(n,RS,r.stop,{once:!0}),yn(n,RS)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Xt(i.getElementsByTagName("img"),function(s){qt(s,si,e.onLoadWhenPlay)}),Pt(i,za),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,oS),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),nt(r,$y),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Ii(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Qr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Pt(this.button,oS),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Pt(r,$y),Ii(r,{zIndex:n.zIndexInline}),this.viewerData=Qr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&yn(r,vi),nt(r,za),nt(r,rf),nt(r,mn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ri)):(nt(r,za),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,vi,function(){Pt(r,za),Pt(r,rf),Pt(r,mn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Pt(r,ri),e.fading=!0):(Pt(r,za),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Qr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Xt(i?[n]:n.querySelectorAll("img"),function(u){Wt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Xt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Ii(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,Lh),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[lt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||qt(e,Xl,this.onStart),e[lt]=void 0,this):this}},bZ={getImageURL:function(e){var n=this.options.url;return gd(n)?n=e.getAttribute(n):Wt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,uS,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(qt(document,uS,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,aS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Pt(e,aS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),Wt(n.shown)&&it(e,yS,n.shown,{once:!0}),yn(e,yS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,jo),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(Wt(n.hidden)&&it(e,bS,n.hidden,{once:!0}),yn(e,bS,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?ll(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case nf:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case Qu:this.zoom(pZ(r),!1,null,e);break;case Kx:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Xt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},wZ=ks.Viewer,TZ=function(t){return function(){return t+=1,t}}(-1),Zl=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(KJ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Qr({},sS,ll(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=TZ(),this.init()}return YJ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[lt]){r[lt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Xt(s?[r]:r.querySelectorAll("img"),function(u){Wt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),al(document.createElement(lt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Xt(o,function(c){c.complete||(qt(c,si,l),qt(c,ta,l))})}},Xt(o,function(u){if(u.complete)l();else{var c,h;it(u,si,c=function(){qt(u,ta,h),l()},{once:!0}),it(u,ta,h=function(){qt(u,si,c),l()},{once:!0})}})}else it(r,Xl,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!Wt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=XJ;var o=s.querySelector(".".concat(lt,"-container")),a=o.querySelector(".".concat(lt,"-title")),l=o.querySelector(".".concat(lt,"-toolbar")),u=o.querySelector(".".concat(lt,"-navbar")),c=o.querySelector(".".concat(lt,"-button")),h=o.querySelector(".".concat(lt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(lt,"-footer")),this.tooltipBox=o.querySelector(".".concat(lt,"-tooltip")),this.player=o.querySelector(".".concat(lt,"-player")),this.list=o.querySelector(".".concat(lt,"-list")),o.id="".concat(lt).concat(this.id),a.id="".concat(lt,"Title").concat(this.id),nt(a,r.title?Fh(Array.isArray(r.title)?r.title[0]:r.title):jo),nt(u,r.navbar?Fh(r.navbar):jo),vd(c,jo,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(lt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&By(h,up,"hide")),gd(r.className)&&r.className&&r.className.split(Ab).forEach(function(E){nt(o,E)}),r.toolbar){var f=document.createElement("ul"),p=ll(r.toolbar),g=Vh.slice(0,3),b=Vh.slice(7,9),S=Vh.slice(9);p||nt(l,Fh(r.toolbar)),Xt(p?r.toolbar:Vh,function(E,I){var M=p&&ll(E),L=p?Ob(I):E,w=M&&!al(E.show)?E.show:E;if(!(!w||!r.zoomable&&g.indexOf(L)!==-1||!r.rotatable&&b.indexOf(L)!==-1||!r.scalable&&S.indexOf(L)!==-1)){var T=M&&!al(E.size)?E.size:E,_=M&&!al(E.click)?E.click:E,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(lt,"-").concat(L)),Wt(_)||By(v,up,L),dn(w)&&nt(v,Fh(w)),["small","large"].indexOf(T)!==-1?nt(v,"".concat(lt,"-").concat(T)):L==="play"&&nt(v,"".concat(lt,"-large")),Wt(_)&&it(v,Xl,_),f.appendChild(v)}}),l.appendChild(f)}else nt(l,jo);if(!r.rotatable){var R=l.querySelectorAll('li[class*="rotate"]');nt(R,Tc),Xt(R,function(E){l.appendChild(E)})}if(r.inline)nt(c,ZJ),Ii(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Ii(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,JJ),nt(o,$y),nt(o,rf),nt(o,jo),Ii(o,{zIndex:r.zIndex});var P=r.container;gd(P)&&(P=n.ownerDocument.querySelector(P)),P||(P=this.body),P.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Wt(r.ready)&&it(n,gS,r.ready,{once:!0}),yn(n,gS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=wZ,t}},{key:"setDefaults",value:function(n){Qr(sS,ll(n)&&n)}}]),t}();Qr(Zl.prototype,gZ,vZ,yZ,_Z,bZ);var EZ=typeof global=="object"&&global&&global.Object===Object&&global;const Qx=EZ;var IZ=typeof self=="object"&&self&&self.Object===Object&&self,SZ=Qx||IZ||Function("return this")();const Tm=SZ;var CZ=Tm.Symbol;const cp=CZ;var Xx=Object.prototype,AZ=Xx.hasOwnProperty,OZ=Xx.toString,Uu=cp?cp.toStringTag:void 0;function PZ(t){var e=AZ.call(t,Uu),n=t[Uu];try{t[Uu]=void 0;var r=!0}catch{}var i=OZ.call(t);return r&&(e?t[Uu]=n:delete t[Uu]),i}var kZ=Object.prototype,RZ=kZ.toString;function DZ(t){return RZ.call(t)}var xZ="[object Null]",NZ="[object Undefined]",DS=cp?cp.toStringTag:void 0;function Em(t){return t==null?t===void 0?NZ:xZ:DS&&DS in Object(t)?PZ(t):DZ(t)}function Im(t){return t!=null&&typeof t=="object"}var MZ="[object Symbol]";function LZ(t){return typeof t=="symbol"||Im(t)&&Em(t)==MZ}var VZ=Array.isArray;const FZ=VZ;var $Z=/\s/;function UZ(t){for(var e=t.length;e--&&$Z.test(t.charAt(e)););return e}var BZ=/^\s+/;function jZ(t){return t&&t.slice(0,UZ(t)+1).replace(BZ,"")}function ba(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xS=NaN,HZ=/^[-+]0x[0-9a-f]+$/i,WZ=/^0b[01]+$/i,qZ=/^0o[0-7]+$/i,zZ=parseInt;function NS(t){if(typeof t=="number")return t;if(LZ(t))return xS;if(ba(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ba(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jZ(t);var n=WZ.test(t);return n||qZ.test(t)?zZ(t.slice(2),n?2:8):HZ.test(t)?xS:+t}function Jx(t){return t}var KZ="[object AsyncFunction]",YZ="[object Function]",GZ="[object GeneratorFunction]",QZ="[object Proxy]";function Zx(t){if(!ba(t))return!1;var e=Em(t);return e==YZ||e==GZ||e==KZ||e==QZ}var XZ=Tm["__core-js_shared__"];const Qg=XZ;var MS=function(){var t=/[^.]+$/.exec(Qg&&Qg.keys&&Qg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JZ(t){return!!MS&&MS in t}var ZZ=Function.prototype,eee=ZZ.toString;function tee(t){if(t!=null){try{return eee.call(t)}catch{}try{return t+""}catch{}}return""}var nee=/[\\^$.*+?()[\]{}|]/g,ree=/^\[object .+?Constructor\]$/,iee=Function.prototype,see=Object.prototype,oee=iee.toString,aee=see.hasOwnProperty,lee=RegExp("^"+oee.call(aee).replace(nee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uee(t){if(!ba(t)||JZ(t))return!1;var e=Zx(t)?lee:ree;return e.test(tee(t))}function cee(t,e){return t==null?void 0:t[e]}function dee(t,e){var n=cee(t,e);return uee(n)?n:void 0}function hee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var fee=800,pee=16,mee=Date.now;function gee(t){var e=0,n=0;return function(){var r=mee(),i=pee-(r-n);if(n=r,i>0){if(++e>=fee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function vee(t){return function(){return t}}var yee=function(){try{var t=dee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const dp=yee;var _ee=dp?function(t,e){return dp(t,"toString",{configurable:!0,enumerable:!1,value:vee(e),writable:!0})}:Jx;const bee=_ee;var wee=gee(bee);const Tee=wee;var Eee=9007199254740991,Iee=/^(?:0|[1-9]\d*)$/;function eN(t,e){var n=typeof t;return e=e??Eee,!!e&&(n=="number"||n!="symbol"&&Iee.test(t))&&t>-1&&t%1==0&&t<e}function tN(t,e,n){e=="__proto__"&&dp?dp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pb(t,e){return t===e||t!==t&&e!==e}var See=Object.prototype,Cee=See.hasOwnProperty;function nN(t,e,n){var r=t[e];(!(Cee.call(t,e)&&Pb(r,n))||n===void 0&&!(e in t))&&tN(t,e,n)}function Aee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?tN(n,a,l):nN(n,a,l)}return n}var LS=Math.max;function Oee(t,e,n){return e=LS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=LS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),hee(t,this,a)}}function rN(t,e){return Tee(Oee(t,e,Jx),t+"")}var Pee=9007199254740991;function iN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Pee}function Sm(t){return t!=null&&iN(t.length)&&!Zx(t)}function sN(t,e,n){if(!ba(n))return!1;var r=typeof e;return(r=="number"?Sm(n)&&eN(e,n.length):r=="string"&&e in n)?Pb(n[e],t):!1}function kee(t){return rN(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&sN(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Ree=Object.prototype;function kb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ree;return t===n}function Dee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xee="[object Arguments]";function VS(t){return Im(t)&&Em(t)==xee}var oN=Object.prototype,Nee=oN.hasOwnProperty,Mee=oN.propertyIsEnumerable,Lee=VS(function(){return arguments}())?VS:function(t){return Im(t)&&Nee.call(t,"callee")&&!Mee.call(t,"callee")};const Vee=Lee;function Fee(){return!1}var aN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,FS=aN&&typeof module=="object"&&module&&!module.nodeType&&module,$ee=FS&&FS.exports===aN,$S=$ee?Tm.Buffer:void 0,Uee=$S?$S.isBuffer:void 0,Bee=Uee||Fee;const jee=Bee;var Hee="[object Arguments]",Wee="[object Array]",qee="[object Boolean]",zee="[object Date]",Kee="[object Error]",Yee="[object Function]",Gee="[object Map]",Qee="[object Number]",Xee="[object Object]",Jee="[object RegExp]",Zee="[object Set]",ete="[object String]",tte="[object WeakMap]",nte="[object ArrayBuffer]",rte="[object DataView]",ite="[object Float32Array]",ste="[object Float64Array]",ote="[object Int8Array]",ate="[object Int16Array]",lte="[object Int32Array]",ute="[object Uint8Array]",cte="[object Uint8ClampedArray]",dte="[object Uint16Array]",hte="[object Uint32Array]",nn={};nn[ite]=nn[ste]=nn[ote]=nn[ate]=nn[lte]=nn[ute]=nn[cte]=nn[dte]=nn[hte]=!0;nn[Hee]=nn[Wee]=nn[nte]=nn[qee]=nn[rte]=nn[zee]=nn[Kee]=nn[Yee]=nn[Gee]=nn[Qee]=nn[Xee]=nn[Jee]=nn[Zee]=nn[ete]=nn[tte]=!1;function fte(t){return Im(t)&&iN(t.length)&&!!nn[Em(t)]}function pte(t){return function(e){return t(e)}}var lN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ec=lN&&typeof module=="object"&&module&&!module.nodeType&&module,mte=Ec&&Ec.exports===lN,Xg=mte&&Qx.process,gte=function(){try{var t=Ec&&Ec.require&&Ec.require("util").types;return t||Xg&&Xg.binding&&Xg.binding("util")}catch{}}();const US=gte;var BS=US&&US.isTypedArray,vte=BS?pte(BS):fte;const yte=vte;var _te=Object.prototype,bte=_te.hasOwnProperty;function uN(t,e){var n=FZ(t),r=!n&&Vee(t),i=!n&&!r&&jee(t),s=!n&&!r&&!i&&yte(t),o=n||r||i||s,a=o?Dee(t.length,String):[],l=a.length;for(var u in t)(e||bte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eN(u,l)))&&a.push(u);return a}function wte(t,e){return function(n){return t(e(n))}}var Tte=wte(Object.keys,Object);const Ete=Tte;var Ite=Object.prototype,Ste=Ite.hasOwnProperty;function Cte(t){if(!kb(t))return Ete(t);var e=[];for(var n in Object(t))Ste.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ate(t){return Sm(t)?uN(t):Cte(t)}var Ote=Object.prototype,Pte=Ote.hasOwnProperty,kte=kee(function(t,e){if(kb(e)||Sm(e)){Aee(e,Ate(e),t);return}for(var n in e)Pte.call(e,n)&&nN(t,n,e[n])});const Rte=kte;function Dte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var xte=Object.prototype,Nte=xte.hasOwnProperty;function Mte(t){if(!ba(t))return Dte(t);var e=kb(t),n=[];for(var r in t)r=="constructor"&&(e||!Nte.call(t,r))||n.push(r);return n}function Lte(t){return Sm(t)?uN(t,!0):Mte(t)}var Vte=function(){return Tm.Date.now()};const Jg=Vte;var Fte="Expected a function",$te=Math.max,Ute=Math.min;function Bte(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Fte);e=NS(e)||0,ba(n)&&(c=!!n.leading,h="maxWait"in n,s=h?$te(NS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(L){var w=r,T=i;return r=i=void 0,u=L,o=t.apply(T,w),o}function g(L){return u=L,a=setTimeout(R,e),c?p(L):o}function b(L){var w=L-l,T=L-u,_=e-w;return h?Ute(_,s-T):_}function S(L){var w=L-l,T=L-u;return l===void 0||w>=e||w<0||h&&T>=s}function R(){var L=Jg();if(S(L))return P(L);a=setTimeout(R,b(L))}function P(L){return a=void 0,f&&r?p(L):(r=i=void 0,o)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function I(){return a===void 0?o:P(Jg())}function M(){var L=Jg(),w=S(L);if(r=arguments,i=this,l=L,w){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(R,e),p(l)}return a===void 0&&(a=setTimeout(R,e)),o}return M.cancel=E,M.flush=I,M}var cN=Object.prototype,jte=cN.hasOwnProperty,Hte=rN(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&sN(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Lte(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||Pb(c,cN[u])&&!jte.call(t,u))&&(t[u]=s[u])}return t});const Wte=Hte,qte=({images:t=[],options:e})=>{e=Rte(e,{inline:!1});const n=document.createElement("div"),r=Ol("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Ol("img",typeof a=="string"?{src:a}:a)));xc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new Zl(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),xc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},zte=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await jn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new Zl(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const b=new g(R=>{R.forEach(P=>{u(`Viewer mutation:${P.type}`),f(c,h,p,!0)})}),S={attributes:!0,childList:!0,characterData:!0,subtree:!0};b.observe(c,S),c.__viewerMutationObserver=b,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=Cn(()=>h.value,(g,b)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=Bte(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},Kte=Kt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=fe();function i(){n=new Zl(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return Cn(()=>t.images,()=>{jn(()=>{l()})},u),Cn(()=>t.trigger,()=>{jn(()=>{l()})},u),Cn(()=>t.options,()=>{jn(()=>{o()})},u),vn(()=>i()),Ta(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),Yte=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Gte={ref:"root"};function Qte(t,e,n,r,i,s){return W(),Z("div",Gte,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const Xte=Yte(Kte,[["render",Qte]]),Jte={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&Zl.setDefaults(r),t.config.globalProperties[`$${e}Api`]=qte,t.component(e,Wte(Xte,{name:e})),t.directive(e,zte({name:e,debug:n}))},setDefaults(t){Zl.setDefaults(t)}},pi=_v($V);pi.use($D);pi.use(yW,{firebaseApp:P4,modules:[pW()]});pi.use(zO);pi.use(O2);pi.use(Jte);pi.use(bQ);pi.component("VueDatePicker",vb);pi.component("PrimeInputText",Ux);pi.component("PrimeTextArea",qx);pi.component("PrimeDropdown",$x);pi.component("PrimeMultiSelect",Wx);pi.mount("#app");export{zy as $,Zn as A,NM as B,Rn as C,Xne as D,KS as E,Ne as F,$ne as G,Dn as H,et as I,_M as J,bne as K,_ne as L,Kt as M,a2 as N,Ene as O,Ine as P,Ane as Q,lf as R,gl as S,EC as T,Sne as U,f_ as V,Tne as W,Zne as X,Cne as Y,zne as Z,ene as _,CC as a,Pc as a$,Zr as a0,Ky as a1,ane as a2,t_ as a3,Jn as a4,Ol as a5,tu as a6,aL as a7,nre as a8,mne as a9,qM as aA,XM as aB,vn as aC,QM as aD,GM as aE,YS as aF,YM as aG,Ta as aH,i_ as aI,SM as aJ,W as aK,dne as aL,tc as aM,fC as aN,cne as aO,hf as aP,Rr as aQ,Xy as aR,fe as aS,Une as aT,xc as aU,Vt as aV,_e as aW,zr as aX,DC as aY,qr as aZ,Gne as a_,yne as aa,vne as ab,gne as ac,jne as ad,rre as ae,kr as af,FL as ag,Jy as ah,Ki as ai,na as aj,an as ak,Bne as al,li as am,go as an,Zy as ao,kne as ap,Rne as aq,he as ar,jn as as,tt as at,bn as au,Pr as av,WM as aw,KM as ax,s_ as ay,r_ as az,une as b,Da as b$,$w as b0,Kne as b1,mo as b2,cC as b3,nne as b4,dC as b5,vL as b6,Yne as b7,tne as b8,dt as b9,$L as bA,Wne as bB,Cn as bC,Nne as bD,Mne as bE,_L as bF,xne as bG,Qe as bH,One as bI,Ko as bJ,at as bK,Hne as bL,Mt as bM,hne as bN,Lp as bO,$i as bP,h5 as bQ,vc as bR,sre as bS,ire as bT,tp as bU,VD as bV,qO as bW,G1 as bX,Nk as bY,kn as bZ,fi as b_,Uh as ba,wne as bb,pt as bc,Cc as bd,bM as be,ine as bf,Fne as bg,rne as bh,K as bi,Pne as bj,tre as bk,Jne as bl,u2 as bm,fne as bn,Lne as bo,yL as bp,ere as bq,Ea as br,pne as bs,SC as bt,gA as bu,_2 as bv,vA as bw,y2 as bx,yv as by,rc as bz,qne as c,fm as c0,fre as c1,$D as c2,BW as c3,Ve as c4,pre as c5,ti as c6,De as c7,bre as c8,wre as c9,xa as cA,lp as cB,bb as cC,Lx as cD,Xte as cE,$A as cF,bW as cG,_W as cH,Tre as cI,Ere as cJ,ND as cK,xD as cL,vre as cM,gre as cN,FD as cO,we as cP,bm as cQ,Ire as ca,mre as cb,SW as cc,Sre as cd,LD as ce,Are as cf,Cre as cg,_re as ch,Lo as ci,Xc as cj,JE as ck,QE as cl,dre as cm,hre as cn,yy as co,GE as cp,kD as cq,EW as cr,TW as cs,wW as ct,bt as cu,N9 as cv,ak as cw,cre as cx,yre as cy,jx as cz,Vne as d,Go as e,sne as f,So as g,h2 as h,one as i,lne as j,Ri as k,_d as l,vr as m,mp as n,Is as o,Qne as p,ue as q,_v as r,qe as s,de as t,Z as u,Ce as v,mL as w,Dne as x,pL as y,I2 as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/c-Blog-CZK2_NaF.js","./assets/c-SwitchField.vue_vue_type_script_setup_true_lang-eHsmfq63.js","./assets/c-Bubble.vue_vue_type_script_setup_true_lang-D9wpE-yC.js","./assets/c-Page.vue_vue_type_script_setup_true_lang-GCQpNNfB.js","./assets/c-BlogPost.vue_vue_type_script_setup_true_lang-DlH1oRP9.js","./assets/c-TextField.vue_vue_type_script_setup_true_lang-DhuayGui.js","./assets/c-validation-Bf-E2UlI.js","./assets/c-Image.vue_vue_type_script_setup_true_lang-1PBfk1Ii.js","./bundle11.css","./bundle10.css","./assets/c-FileUpload.vue_vue_type_script_setup_true_lang-CJgSd0WM.js","./assets/c-SelectField.vue_vue_type_script_setup_true_lang-RLKzDD90.js","./assets/c-CatCalc-DuMJzaxB.js","./assets/c-CustomVoting-BFJ6iR6g.js","./assets/c-_plugin-vue_export-helper-DlAUqK2U.js","./bundle9.css","./assets/c-Dashboard-iXjDZXFV.js","./assets/c-PasswordField.vue_vue_type_script_setup_true_lang-B4hrd1-q.js","./assets/c-Home-DjZWcXpG.js","./assets/c-Worm-yU2ZWgQJ.js","./assets/c-Dice6.vue_vue_type_script_setup_true_lang-lzciAH4f.js","./assets/c-Login-CaxDlID1.js","./assets/c-NotFound-hvrCMA8-.js","./assets/c-Profile-DNYxdvYs.js","./assets/c-Profiles-gU4RMBVH.js","./assets/c-Register-C41La1g3.js","./assets/c-Games-2SnjHhJv.js","./assets/c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-DojyyvMS.js","./assets/c-Yahtzee-CxFxJCgs.js","./assets/c-useScoreInfo-C-hY2j4W.js","./bundle14.css","./bundle12.css","./assets/c-Rainworms-DTyrDtDa.js","./bundle13.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
