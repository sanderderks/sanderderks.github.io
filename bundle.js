var x3=Object.defineProperty;var D3=(t,e,n)=>e in t?x3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var So=(t,e,n)=>(D3(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _g(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const nn={},Su=[],fi=()=>{},R3=()=>!1,Qh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),r1=t=>t.startsWith("onUpdate:"),An=Object.assign,i1=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},N3=Object.prototype.hasOwnProperty,Ut=(t,e)=>N3.call(t,e),qe=Array.isArray,Eu=t=>bc(t)==="[object Map]",Cl=t=>bc(t)==="[object Set]",AS=t=>bc(t)==="[object Date]",M3=t=>bc(t)==="[object RegExp]",ut=t=>typeof t=="function",kn=t=>typeof t=="string",sa=t=>typeof t=="symbol",on=t=>t!==null&&typeof t=="object",s1=t=>(on(t)||ut(t))&&ut(t.then)&&ut(t.catch),Ek=Object.prototype.toString,bc=t=>Ek.call(t),$3=t=>bc(t).slice(8,-1),Ik=t=>bc(t)==="[object Object]",o1=t=>kn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Iu=_g(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},L3=/-(\w)/g,ri=Tg(t=>t.replace(L3,(e,n)=>n?n.toUpperCase():"")),F3=/\B([A-Z])/g,Ci=Tg(t=>t.replace(F3,"-$1").toLowerCase()),Jh=Tg(t=>t.charAt(0).toUpperCase()+t.slice(1)),bd=Tg(t=>t?`on${Jh(t)}`:""),ps=(t,e)=>!Object.is(t,e),Cu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},sm=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},qd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},om=t=>{const e=kn(t)?Number(t):NaN;return isNaN(e)?t:e};let kS;const Ck=()=>kS||(kS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),V3="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",U3=_g(V3);function dn(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=kn(r)?W3(r):dn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(kn(t)||on(t))return t}const B3=/;(?![^(]*\))/g,j3=/:([^]+)/,H3=/\/\*[^]*?\*\//g;function W3(t){const e={};return t.replace(H3,"").split(B3).forEach(n=>{if(n){const r=n.split(j3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Pe(t){let e="";if(kn(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const r=Pe(t[n]);r&&(e+=r+" ")}else if(on(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Nn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!kn(e)&&(t.class=Pe(e)),n&&(t.style=dn(n)),t}const K3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",z3=_g(K3);function Ok(t){return!!t||t===""}function G3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=oa(t[r],e[r]);return n}function oa(t,e){if(t===e)return!0;let n=AS(t),r=AS(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=sa(t),r=sa(e),n||r)return t===e;if(n=qe(t),r=qe(e),n||r)return n&&r?G3(t,e):!1;if(n=on(t),r=on(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!oa(t[o],e[o]))return!1}}return String(t)===String(e)}function Sg(t,e){return t.findIndex(n=>oa(n,e))}const Me=t=>kn(t)?t:t==null?"":qe(t)||on(t)&&(t.toString===Ek||!ut(t.toString))?JSON.stringify(t,Ak,2):String(t),Ak=(t,e)=>e&&e.__v_isRef?Ak(t,e.value):Eu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[ny(r,s)+" =>"]=i,n),{})}:Cl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ny(n))}:sa(e)?ny(e):on(e)&&!qe(e)&&!Ik(e)?String(e):e,ny=(t,e="")=>{var n;return sa(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ei;class a1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ei,!e&&Ei&&(this.index=(Ei.scopes||(Ei.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ei;try{return Ei=this,e()}finally{Ei=n}}}on(){Ei=this}off(){Ei=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Eg(t){return new a1(t)}function kk(t,e=Ei){e&&e.active&&e.effects.push(t)}function Zh(){return Ei}function Ig(t){Ei&&Ei.cleanups.push(t)}let Ha;class Hu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,kk(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ol();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Y3(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Al()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Xo,n=Ha;try{return Xo=!0,Ha=this,this._runnings++,PS(this),this.fn()}finally{xS(this),this._runnings--,Ha=n,Xo=e}}stop(){var e;this.active&&(PS(this),xS(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Y3(t){return t.value}function PS(t){t._trackId++,t._depsLength=0}function xS(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Pk(t.deps[e],t);t.deps.length=t._depsLength}}function Pk(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function q3(t,e){t.effect instanceof Hu&&(t=t.effect.fn);const n=new Hu(t,fi,()=>{n.dirty&&n.run()});e&&(An(n,e),e.scope&&kk(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function X3(t){t.effect.stop()}let Xo=!0,Vb=0;const xk=[];function Ol(){xk.push(Xo),Xo=!1}function Al(){const t=xk.pop();Xo=t===void 0?!0:t}function l1(){Vb++}function u1(){for(Vb--;!Vb&&Ub.length;)Ub.shift()()}function Dk(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Pk(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ub=[];function Rk(t,e,n){l1();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Ub.push(r.scheduler)))}u1()}const Nk=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},am=new WeakMap,Wa=Symbol(""),Bb=Symbol("");function wi(t,e,n){if(Xo&&Ha){let r=am.get(t);r||am.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Nk(()=>r.delete(n))),Dk(Ha,i)}}function io(t,e,n,r,i,s){const o=am.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&qe(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!sa(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":qe(t)?o1(n)&&a.push(o.get("length")):(a.push(o.get(Wa)),Eu(t)&&a.push(o.get(Bb)));break;case"delete":qe(t)||(a.push(o.get(Wa)),Eu(t)&&a.push(o.get(Bb)));break;case"set":Eu(t)&&a.push(o.get(Wa));break}l1();for(const l of a)l&&Rk(l,4);u1()}function Q3(t,e){var n;return(n=am.get(t))==null?void 0:n.get(e)}const J3=_g("__proto__,__v_isRef,__isVue"),Mk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sa)),DS=Z3();function Z3(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Et(this);for(let s=0,o=this.length;s<o;s++)wi(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Et)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ol(),l1();const r=Et(this)[e].apply(this,n);return u1(),Al(),r}}),t}function e4(t){const e=Et(this);return wi(e,"has",t),e.hasOwnProperty(t)}class $k{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?jk:Bk:s?Uk:Vk).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=qe(e);if(!i){if(o&&Ut(DS,n))return Reflect.get(DS,n,r);if(n==="hasOwnProperty")return e4}const a=Reflect.get(e,n,r);return(sa(n)?Mk.has(n):J3(n))||(i||wi(e,"get",n),s)?a:hn(a)?o&&o1(n)?a:a.value:on(a)?i?Ag(a):Mn(a):a}}class Lk extends $k{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=nl(s);if(!Xd(r)&&!nl(r)&&(s=Et(s),r=Et(r)),!qe(e)&&hn(s)&&!hn(r))return l?!1:(s.value=r,!0)}const o=qe(e)&&o1(n)?Number(n)<e.length:Ut(e,n),a=Reflect.set(e,n,r,i);return e===Et(i)&&(o?ps(r,s)&&io(e,"set",n,r):io(e,"add",n,r)),a}deleteProperty(e,n){const r=Ut(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&io(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!sa(n)||!Mk.has(n))&&wi(e,"has",n),r}ownKeys(e){return wi(e,"iterate",qe(e)?"length":Wa),Reflect.ownKeys(e)}}class Fk extends $k{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const t4=new Lk,n4=new Fk,r4=new Lk(!0),i4=new Fk(!0),c1=t=>t,Cg=t=>Reflect.getPrototypeOf(t);function jf(t,e,n=!1,r=!1){t=t.__v_raw;const i=Et(t),s=Et(e);n||(ps(e,s)&&wi(i,"get",e),wi(i,"get",s));const{has:o}=Cg(i),a=r?c1:n?f1:Qd;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Hf(t,e=!1){const n=this.__v_raw,r=Et(n),i=Et(t);return e||(ps(t,i)&&wi(r,"has",t),wi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Wf(t,e=!1){return t=t.__v_raw,!e&&wi(Et(t),"iterate",Wa),Reflect.get(t,"size",t)}function RS(t){t=Et(t);const e=Et(this);return Cg(e).has.call(e,t)||(e.add(t),io(e,"add",t,t)),this}function NS(t,e){e=Et(e);const n=Et(this),{has:r,get:i}=Cg(n);let s=r.call(n,t);s||(t=Et(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?ps(e,o)&&io(n,"set",t,e):io(n,"add",t,e),this}function MS(t){const e=Et(this),{has:n,get:r}=Cg(e);let i=n.call(e,t);i||(t=Et(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&io(e,"delete",t,void 0),s}function $S(){const t=Et(this),e=t.size!==0,n=t.clear();return e&&io(t,"clear",void 0,void 0),n}function Kf(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Et(o),l=e?c1:t?f1:Qd;return!t&&wi(a,"iterate",Wa),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function zf(t,e,n){return function(...r){const i=this.__v_raw,s=Et(i),o=Eu(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?c1:e?f1:Qd;return!e&&wi(s,"iterate",l?Bb:Wa),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Eo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function s4(){const t={get(s){return jf(this,s)},get size(){return Wf(this)},has:Hf,add:RS,set:NS,delete:MS,clear:$S,forEach:Kf(!1,!1)},e={get(s){return jf(this,s,!1,!0)},get size(){return Wf(this)},has:Hf,add:RS,set:NS,delete:MS,clear:$S,forEach:Kf(!1,!0)},n={get(s){return jf(this,s,!0)},get size(){return Wf(this,!0)},has(s){return Hf.call(this,s,!0)},add:Eo("add"),set:Eo("set"),delete:Eo("delete"),clear:Eo("clear"),forEach:Kf(!0,!1)},r={get(s){return jf(this,s,!0,!0)},get size(){return Wf(this,!0)},has(s){return Hf.call(this,s,!0)},add:Eo("add"),set:Eo("set"),delete:Eo("delete"),clear:Eo("clear"),forEach:Kf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=zf(s,!1,!1),n[s]=zf(s,!0,!1),e[s]=zf(s,!1,!0),r[s]=zf(s,!0,!0)}),[t,n,e,r]}const[o4,a4,l4,u4]=s4();function Og(t,e){const n=e?t?u4:l4:t?a4:o4;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ut(n,i)&&i in r?n:r,i,s)}const c4={get:Og(!1,!1)},d4={get:Og(!1,!0)},h4={get:Og(!0,!1)},f4={get:Og(!0,!0)},Vk=new WeakMap,Uk=new WeakMap,Bk=new WeakMap,jk=new WeakMap;function p4(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function m4(t){return t.__v_skip||!Object.isExtensible(t)?0:p4($3(t))}function Mn(t){return nl(t)?t:kg(t,!1,t4,c4,Vk)}function d1(t){return kg(t,!1,r4,d4,Uk)}function Ag(t){return kg(t,!0,n4,h4,Bk)}function g4(t){return kg(t,!0,i4,f4,jk)}function kg(t,e,n,r,i){if(!on(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=m4(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ds(t){return nl(t)?Ds(t.__v_raw):!!(t&&t.__v_isReactive)}function nl(t){return!!(t&&t.__v_isReadonly)}function Xd(t){return!!(t&&t.__v_isShallow)}function h1(t){return Ds(t)||nl(t)}function Et(t){const e=t&&t.__v_raw;return e?Et(e):t}function ef(t){return Object.isExtensible(t)&&sm(t,"__v_skip",!0),t}const Qd=t=>on(t)?Mn(t):t,f1=t=>on(t)?Ag(t):t;class Hk{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Hu(()=>e(this._value),()=>Ou(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Et(this);return(!e._cacheable||e.effect.dirty)&&ps(e._value,e._value=e.effect.run())&&Ou(e,4),p1(e),e.effect._dirtyLevel>=2&&Ou(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function v4(t,e,n=!1){let r,i;const s=ut(t);return s?(r=t,i=fi):(r=t.get,i=t.set),new Hk(r,i,s||!i,n)}function p1(t){var e;Xo&&Ha&&(t=Et(t),Dk(Ha,(e=t.dep)!=null?e:t.dep=Nk(()=>t.dep=void 0,t instanceof Hk?t:void 0)))}function Ou(t,e=4,n){t=Et(t);const r=t.dep;r&&Rk(r,e)}function hn(t){return!!(t&&t.__v_isRef===!0)}function oe(t){return Kk(t,!1)}function Wk(t){return Kk(t,!0)}function Kk(t,e){return hn(t)?t:new y4(t,e)}class y4{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Et(e),this._value=n?e:Qd(e)}get value(){return p1(this),this._value}set value(e){const n=this.__v_isShallow||Xd(e)||nl(e);e=n?e:Et(e),ps(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Qd(e),Ou(this,4))}}function b4(t){Ou(t,4)}function E(t){return hn(t)?t.value:t}function w4(t){return ut(t)?t():E(t)}const _4={get:(t,e,n)=>E(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return hn(i)&&!hn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function m1(t){return Ds(t)?t:new Proxy(t,_4)}class T4{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>p1(this),()=>Ou(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function zk(t){return new T4(t)}function Gk(t){const e=qe(t)?new Array(t.length):{};for(const n in t)e[n]=Yk(t,n);return e}class S4{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Q3(Et(this._object),this._key)}}class E4{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Wu(t,e,n){return hn(t)?t:ut(t)?new E4(t):on(t)&&arguments.length>1?Yk(t,e,n):oe(t)}function Yk(t,e,n){const r=t[e];return hn(r)?r:new S4(t,e,n)}const I4={GET:"get",HAS:"has",ITERATE:"iterate"},C4={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function O4(t,e){}const A4={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},k4={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function so(t,e,n,r){try{return r?t(...r):t()}catch(i){kl(i,e,n)}}function Pi(t,e,n,r){if(ut(t)){const s=so(t,e,n,r);return s&&s1(s)&&s.catch(o=>{kl(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Pi(t[s],e,n,r));return i}function kl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){so(l,null,10,[t,o,a]);return}}P4(t,n,i,r)}function P4(t,e,n,r=!0){console.error(t)}let Jd=!1,jb=!1;const Ur=[];let Ts=0;const Au=[];let Mo=null,Na=0;const qk=Promise.resolve();let g1=null;function qn(t){const e=g1||qk;return t?e.then(this?t.bind(this):t):e}function x4(t){let e=Ts+1,n=Ur.length;for(;e<n;){const r=e+n>>>1,i=Ur[r],s=Zd(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Pg(t){(!Ur.length||!Ur.includes(t,Jd&&t.allowRecurse?Ts+1:Ts))&&(t.id==null?Ur.push(t):Ur.splice(x4(t.id),0,t),Xk())}function Xk(){!Jd&&!jb&&(jb=!0,g1=qk.then(Qk))}function D4(t){const e=Ur.indexOf(t);e>Ts&&Ur.splice(e,1)}function lm(t){qe(t)?Au.push(...t):(!Mo||!Mo.includes(t,t.allowRecurse?Na+1:Na))&&Au.push(t),Xk()}function LS(t,e,n=Jd?Ts+1:0){for(;n<Ur.length;n++){const r=Ur[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Ur.splice(n,1),n--,r()}}}function um(t){if(Au.length){const e=[...new Set(Au)].sort((n,r)=>Zd(n)-Zd(r));if(Au.length=0,Mo){Mo.push(...e);return}for(Mo=e,Na=0;Na<Mo.length;Na++)Mo[Na]();Mo=null,Na=0}}const Zd=t=>t.id==null?1/0:t.id,R4=(t,e)=>{const n=Zd(t)-Zd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Qk(t){jb=!1,Jd=!0,Ur.sort(R4);try{for(Ts=0;Ts<Ur.length;Ts++){const e=Ur[Ts];e&&e.active!==!1&&so(e,null,14)}}finally{Ts=0,Ur.length=0,um(),Jd=!1,g1=null,(Ur.length||Au.length)&&Qk()}}let nu,Gf=[];function Jk(t,e){var n,r;nu=t,nu?(nu.enabled=!0,Gf.forEach(({event:i,args:s})=>nu.emit(i,...s)),Gf=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Jk(s,e)}),setTimeout(()=>{nu||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Gf=[])},3e3)):Gf=[]}function N4(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||nn;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=r[c]||nn;h&&(i=n.map(f=>kn(f)?f.trim():f)),d&&(i=n.map(qd))}let a,l=r[a=bd(e)]||r[a=bd(ri(e))];!l&&s&&(l=r[a=bd(Ci(e))]),l&&Pi(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Pi(u,t,6,i)}}function Zk(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ut(t)){const l=u=>{const c=Zk(u,e,!0);c&&(a=!0,An(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(on(t)&&r.set(t,null),null):(qe(s)?s.forEach(l=>o[l]=null):An(o,s),on(t)&&r.set(t,o),o)}function xg(t,e){return!t||!Qh(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ut(t,e[0].toLowerCase()+e.slice(1))||Ut(t,Ci(e))||Ut(t,e))}let nr=null,Dg=null;function eh(t){const e=nr;return nr=t,Dg=t&&t.type.__scopeId||null,e}function v1(t){Dg=t}function y1(){Dg=null}const M4=t=>j;function j(t,e=nr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Xb(-1);const s=eh(e);let o;try{o=t(...i)}finally{eh(s),r._d&&Xb(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Np(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t;let v,y;const b=eh(t);try{if(n.shapeFlag&4){const w=i||r,T=w;v=Ii(c.call(T,w,d,s,f,h,p)),y=l}else{const w=e;v=Ii(w.length>1?w(s,{attrs:l,slots:a,emit:u}):w(s,null)),y=e.props?l:L4(l)}}catch(w){Td.length=0,kl(w,t,1),v=$(Wr)}let _=v;if(y&&m!==!1){const w=Object.keys(y),{shapeFlag:T}=_;w.length&&T&7&&(o&&w.some(r1)&&(y=F4(y,o)),_=Vs(_,y))}return n.dirs&&(_=Vs(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),v=_,eh(b),v}function $4(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(aa(i)){if(i.type!==Wr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const L4=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qh(n))&&((e||(e={}))[n]=t[n]);return e},F4=(t,e)=>{const n={};for(const r in t)(!r1(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function V4(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?FS(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!xg(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?FS(r,o,u):!0:!!o;return!1}function FS(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!xg(n,s))return!0}return!1}function b1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const w1="components",U4="directives";function _n(t,e){return _1(w1,t,!0,e)||t}const eP=Symbol.for("v-ndc");function bn(t){return kn(t)?_1(w1,t,!1)||t:t||eP}function tf(t){return _1(U4,t)}function _1(t,e,n=!0,r=!1){const i=nr||or;if(i){const s=i.type;if(t===w1){const a=t0(s,!1);if(a&&(a===e||a===ri(e)||a===Jh(ri(e))))return s}const o=VS(i[t]||s[t],e)||VS(i.appContext[t],e);return!o&&r?s:o}}function VS(t,e){return t&&(t[e]||t[ri(e)]||t[Jh(ri(e))])}const tP=t=>t.__isSuspense;let Hb=0;const B4={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)H4(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}W4(t,e,n,r,i,o,a,l,u)}},hydrate:K4,create:T1,normalize:z4},j4=B4;function th(t,e){const n=t.props&&t.props[e];ut(n)&&n()}function H4(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=T1(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(th(t,"onPending"),th(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),ku(h,t.ssFallback)):h.resolve(!1,!0)}function W4(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:v,isHydrating:y}=d;if(m)d.pendingBranch=h,is(h,m)?(l(m,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():v&&(y||(l(p,f,n,r,i,null,s,o,a),ku(d,f)))):(d.pendingId=Hb++,y?(d.isHydrating=!1,d.activeBranch=m):u(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),v?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,s,o,a),ku(d,f))):p&&is(h,p)?(l(p,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&is(h,p))l(p,h,n,r,i,d,s,o,a),ku(d,h);else if(th(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=Hb++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:_}=d;b>0?setTimeout(()=>{d.pendingId===_&&d.fallback(f)},b):b===0&&d.fallback(f)}}function T1(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:m,remove:v}}=u;let y;const b=G4(t);b&&e!=null&&e.pendingBranch&&(y=e.pendingId,e.deps++);const _=t.props?om(t.props.timeout):void 0,w=s,T={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:Hb++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(S=!1,O=!1){const{vnode:R,activeBranch:D,pendingBranch:C,pendingId:M,effects:V,parentComponent:W,container:L}=T;let A=!1;T.isHydrating?T.isHydrating=!1:S||(A=D&&C.transition&&C.transition.mode==="out-in",A&&(D.transition.afterLeave=()=>{M===T.pendingId&&(h(C,L,s===w?p(D):s,0),lm(V))}),D&&(m(D.el)!==T.hiddenContainer&&(s=p(D)),f(D,W,T,!0)),A||h(C,L,s,0)),ku(T,C),T.pendingBranch=null,T.isInFallback=!1;let P=T.parent,K=!1;for(;P;){if(P.pendingBranch){P.effects.push(...V),K=!0;break}P=P.parent}!K&&!A&&lm(V),T.effects=[],b&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!O&&e.resolve()),th(R,"onResolve")},fallback(S){if(!T.pendingBranch)return;const{vnode:O,activeBranch:R,parentComponent:D,container:C,namespace:M}=T;th(O,"onFallback");const V=p(R),W=()=>{T.isInFallback&&(d(null,S,C,V,D,null,M,a,l),ku(T,S))},L=S.transition&&S.transition.mode==="out-in";L&&(R.transition.afterLeave=W),T.isInFallback=!0,f(R,D,null,!0),L||W()},move(S,O,R){T.activeBranch&&h(T.activeBranch,S,O,R),T.container=S},next(){return T.activeBranch&&p(T.activeBranch)},registerDep(S,O){const R=!!T.pendingBranch;R&&T.deps++;const D=S.vnode.el;S.asyncDep.catch(C=>{kl(C,S,0)}).then(C=>{if(S.isUnmounted||T.isUnmounted||T.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:M}=S;Zb(S,C,!1),D&&(M.el=D);const V=!D&&S.subTree.el;O(S,M,m(D||S.subTree.el),D?null:p(S.subTree),T,o,l),V&&v(V),b1(S,M.el),R&&--T.deps===0&&T.resolve()})},unmount(S,O){T.isUnmounted=!0,T.activeBranch&&f(T.activeBranch,n,S,O),T.pendingBranch&&f(T.pendingBranch,n,S,O)}};return T}function K4(t,e,n,r,i,s,o,a,l){const u=e.suspense=T1(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function z4(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=US(r?n.default:n),t.ssFallback=r?US(n.fallback):$(Wr)}function US(t){let e;if(ut(t)){const n=sl&&t._c;n&&(t._d=!1,I()),t=t(),n&&(t._d=!0,e=pi,NP())}return qe(t)&&(t=$4(t)),t=Ii(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function nP(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):lm(t)}function ku(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,b1(r,i))}function G4(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const rP=Symbol.for("v-scx"),iP=()=>ii(rP);function S1(t,e){return nf(t,null,e)}function sP(t,e){return nf(t,null,{flush:"post"})}function oP(t,e){return nf(t,null,{flush:"sync"})}const Yf={};function Ot(t,e,n){return nf(t,e,n)}function nf(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=nn){if(e&&s){const S=e;e=(...O)=>{S(...O),T()}}const l=or,u=S=>r===!0?S:La(S,r===!1?1:void 0);let c,d=!1,h=!1;if(hn(t)?(c=()=>t.value,d=Xd(t)):Ds(t)?(c=()=>u(t),d=!0):qe(t)?(h=!0,d=t.some(S=>Ds(S)||Xd(S)),c=()=>t.map(S=>{if(hn(S))return S.value;if(Ds(S))return u(S);if(ut(S))return so(S,l,2)})):ut(t)?e?c=()=>so(t,l,2):c=()=>(f&&f(),Pi(t,l,3,[p])):c=fi,e&&r){const S=c;c=()=>La(S())}let f,p=S=>{f=_.onStop=()=>{so(S,l,4),f=_.onStop=void 0}},m;if(of)if(p=fi,e?n&&Pi(e,l,3,[c(),h?[]:void 0,p]):c(),i==="sync"){const S=iP();m=S.__watcherHandles||(S.__watcherHandles=[])}else return fi;let v=h?new Array(t.length).fill(Yf):Yf;const y=()=>{if(!(!_.active||!_.dirty))if(e){const S=_.run();(r||d||(h?S.some((O,R)=>ps(O,v[R])):ps(S,v)))&&(f&&f(),Pi(e,l,3,[S,v===Yf?void 0:h&&v[0]===Yf?[]:v,p]),v=S)}else _.run()};y.allowRecurse=!!e;let b;i==="sync"?b=y:i==="post"?b=()=>Cr(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),b=()=>Pg(y));const _=new Hu(c,fi,b),w=Zh(),T=()=>{_.stop(),w&&i1(w.effects,_)};return e?n?y():v=_.run():i==="post"?Cr(_.run.bind(_),l&&l.suspense):_.run(),m&&m.push(T),T}function Y4(t,e,n){const r=this.proxy,i=kn(t)?t.includes(".")?aP(r,t):()=>r[t]:t.bind(r,r);let s;ut(e)?s=e:(s=e.handler,n=e);const o=ol(this),a=nf(i,s.bind(r),n);return o(),a}function aP(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function La(t,e,n=0,r){if(!on(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),hn(t))La(t.value,e,n,r);else if(qe(t))for(let i=0;i<t.length;i++)La(t[i],e,n,r);else if(Cl(t)||Eu(t))t.forEach(i=>{La(i,e,n,r)});else if(Ik(t))for(const i in t)La(t[i],e,n,r);return t}function vi(t,e){if(nr===null)return t;const n=Lg(nr)||nr.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=nn]=e[i];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&La(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ws(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ol(),Pi(l,n,8,[t.el,a,t,e]),Al())}}const $o=Symbol("_leaveCb"),qf=Symbol("_enterCb");function E1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jt(()=>{t.isMounted=!0}),sf(()=>{t.isUnmounting=!0}),t}const Li=[Function,Array],I1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Li,onEnter:Li,onAfterEnter:Li,onEnterCancelled:Li,onBeforeLeave:Li,onLeave:Li,onAfterLeave:Li,onLeaveCancelled:Li,onBeforeAppear:Li,onAppear:Li,onAfterAppear:Li,onAppearCancelled:Li},q4={name:"BaseTransition",props:I1,setup(t,{slots:e}){const n=qi(),r=E1();return()=>{const i=e.default&&Rg(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==Wr){s=h;break}}const o=Et(t),{mode:a}=o;if(r.isLeaving)return ry(s);const l=BS(s);if(!l)return ry(s);const u=Ku(l,o,r,n);rl(l,u);const c=n.subTree,d=c&&BS(c);if(d&&d.type!==Wr&&!is(l,d)){const h=Ku(d,o,r,n);if(rl(d,h),a==="out-in")return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},ry(s);a==="in-out"&&l.type!==Wr&&(h.delayLeave=(f,p,m)=>{const v=uP(r,d);v[String(d.key)]=d,f[$o]=()=>{p(),f[$o]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}},lP=q4;function uP(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ku(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:b}=e,_=String(t.key),w=uP(n,t),T=(R,D)=>{R&&Pi(R,r,9,D)},S=(R,D)=>{const C=D[1];T(R,D),qe(R)?R.every(M=>M.length<=1)&&C():R.length<=1&&C()},O={mode:s,persisted:o,beforeEnter(R){let D=a;if(!n.isMounted)if(i)D=m||a;else return;R[$o]&&R[$o](!0);const C=w[_];C&&is(t,C)&&C.el[$o]&&C.el[$o](),T(D,[R])},enter(R){let D=l,C=u,M=c;if(!n.isMounted)if(i)D=v||l,C=y||u,M=b||c;else return;let V=!1;const W=R[qf]=L=>{V||(V=!0,L?T(M,[R]):T(C,[R]),O.delayedLeave&&O.delayedLeave(),R[qf]=void 0)};D?S(D,[R,W]):W()},leave(R,D){const C=String(t.key);if(R[qf]&&R[qf](!0),n.isUnmounting)return D();T(d,[R]);let M=!1;const V=R[$o]=W=>{M||(M=!0,D(),W?T(p,[R]):T(f,[R]),R[$o]=void 0,w[C]===t&&delete w[C])};w[C]=t,h?S(h,[R,V]):V()},clone(R){return Ku(R,e,n,r)}};return O}function ry(t){if(rf(t))return t=Vs(t),t.children=null,t}function BS(t){return rf(t)?t.children?t.children[0]:void 0:t}function rl(t,e){t.shapeFlag&6&&t.component?rl(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Rg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===we?(o.patchFlag&128&&i++,r=r.concat(Rg(o.children,e,a))):(e||o.type!==Wr)&&r.push(a!=null?Vs(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ce(t,e){return ut(t)?An({name:t.name},e,{setup:t}):t}const Ka=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function X4(t){ut(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,v)=>{a(p,()=>m(d()),()=>v(p),c+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Ce({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const f=or;if(u)return()=>iy(u,f);const p=b=>{l=null,kl(b,f,13,!r)};if(o&&f.suspense||of)return h().then(b=>()=>iy(b,f)).catch(b=>(p(b),()=>r?$(r,{error:b}):null));const m=oe(!1),v=oe(),y=oe(!!i);return i&&setTimeout(()=>{y.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!v.value){const b=new Error(`Async component timed out after ${s}ms.`);p(b),v.value=b}},s),h().then(()=>{m.value=!0,f.parent&&rf(f.parent.vnode)&&(f.parent.effect.dirty=!0,Pg(f.parent.update))}).catch(b=>{p(b),v.value=b}),()=>{if(m.value&&u)return iy(u,f);if(v.value&&r)return $(r,{error:v.value});if(n&&!y.value)return $(n)}}})}function iy(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=$(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const rf=t=>t.type.__isKeepAlive,Q4={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=qi(),r=n.ctx;if(!r.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(b,_,w,T,S)=>{const O=b.component;u(b,_,w,0,a),l(O.vnode,b,_,w,O,a,T,b.slotScopeIds,S),Cr(()=>{O.isDeactivated=!1,O.a&&Cu(O.a);const R=b.props&&b.props.onVnodeMounted;R&&ci(R,O.parent,b)},a)},r.deactivate=b=>{const _=b.component;u(b,h,null,1,a),Cr(()=>{_.da&&Cu(_.da);const w=b.props&&b.props.onVnodeUnmounted;w&&ci(w,_.parent,b),_.isDeactivated=!0},a)};function f(b){sy(b),c(b,n,a,!0)}function p(b){i.forEach((_,w)=>{const T=t0(_.type);T&&(!b||!b(T))&&m(w)})}function m(b){const _=i.get(b);!o||!is(_,o)?f(_):o&&sy(o),i.delete(b),s.delete(b)}Ot(()=>[t.include,t.exclude],([b,_])=>{b&&p(w=>td(b,w)),_&&p(w=>!td(_,w))},{flush:"post",deep:!0});let v=null;const y=()=>{v!=null&&i.set(v,oy(n.subTree))};return jt(y),Mg(y),sf(()=>{i.forEach(b=>{const{subTree:_,suspense:w}=n,T=oy(_);if(b.type===T.type&&b.key===T.key){sy(T);const S=T.component.da;S&&Cr(S,w);return}f(b)})}),()=>{if(v=null,!e.default)return null;const b=e.default(),_=b[0];if(b.length>1)return o=null,b;if(!aa(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let w=oy(_);const T=w.type,S=t0(Ka(w)?w.type.__asyncResolved||{}:T),{include:O,exclude:R,max:D}=t;if(O&&(!S||!td(O,S))||R&&S&&td(R,S))return o=w,_;const C=w.key==null?T:w.key,M=i.get(C);return w.el&&(w=Vs(w),_.shapeFlag&128&&(_.ssContent=w)),v=C,M?(w.el=M.el,w.component=M.component,w.transition&&rl(w,w.transition),w.shapeFlag|=512,s.delete(C),s.add(C)):(s.add(C),D&&s.size>parseInt(D,10)&&m(s.values().next().value)),w.shapeFlag|=256,o=w,tP(_.type)?_:w}}},J4=Q4;function td(t,e){return qe(t)?t.some(n=>td(n,e)):kn(t)?t.split(",").includes(e):M3(t)?t.test(e):!1}function cP(t,e){hP(t,"a",e)}function dP(t,e){hP(t,"da",e)}function hP(t,e,n=or){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ng(e,r,n),n){let i=n.parent;for(;i&&i.parent;)rf(i.parent.vnode)&&Z4(r,e,n,i),i=i.parent}}function Z4(t,e,n,r){const i=Ng(e,t,r,!0);Hs(()=>{i1(r[e],i)},n)}function sy(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function oy(t){return t.shapeFlag&128?t.ssContent:t}function Ng(t,e,n=or,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ol();const a=ol(n),l=Pi(e,n,t,o);return a(),Al(),l});return r?i.unshift(s):i.push(s),s}}const wo=t=>(e,n=or)=>(!of||t==="sp")&&Ng(t,(...r)=>e(...r),n),fP=wo("bm"),jt=wo("m"),C1=wo("bu"),Mg=wo("u"),sf=wo("bum"),Hs=wo("um"),pP=wo("sp"),mP=wo("rtg"),gP=wo("rtc");function vP(t,e=or){Ng("ec",t,e)}function nt(t,e,n,r){let i;const s=n&&n[r];if(qe(t)||kn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(on(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function rr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(qe(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function fe(t,e,n={},r,i){if(nr.isCE||nr.parent&&Ka(nr.parent)&&nr.parent.isCE)return e!=="default"&&(n.name=e),$("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),I();const o=s&&yP(s(n)),a=ne(we,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function yP(t){return t.some(e=>aa(e)?!(e.type===Wr||e.type===we&&!yP(e.children)):!0)?t:null}function eF(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:bd(r)]=t[r];return n}const Wb=t=>t?VP(t)?Lg(t)||t.proxy:Wb(t.parent):null,wd=An(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wb(t.parent),$root:t=>Wb(t.root),$emit:t=>t.emit,$options:t=>O1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Pg(t.update)}),$nextTick:t=>t.n||(t.n=qn.bind(t.proxy)),$watch:t=>Y4.bind(t)}),ay=(t,e)=>t!==nn&&!t.__isScriptSetup&&Ut(t,e),Kb={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(ay(r,e))return o[e]=1,r[e];if(i!==nn&&Ut(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Ut(u,e))return o[e]=3,s[e];if(n!==nn&&Ut(n,e))return o[e]=4,n[e];zb&&(o[e]=0)}}const c=wd[e];let d,h;if(c)return e==="$attrs"&&wi(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==nn&&Ut(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Ut(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return ay(i,e)?(i[e]=n,!0):r!==nn&&Ut(r,e)?(r[e]=n,!0):Ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==nn&&Ut(t,o)||ay(e,o)||(a=s[0])&&Ut(a,o)||Ut(r,o)||Ut(wd,o)||Ut(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},tF=An({},Kb,{get(t,e){if(e!==Symbol.unscopables)return Kb.get(t,e,t)},has(t,e){return e[0]!=="_"&&!U3(e)}});function nF(){return null}function rF(){return null}function iF(t){}function sF(t){}function oF(){return null}function aF(){}function lF(t,e){return null}function fa(){return bP().slots}function uF(){return bP().attrs}function bP(){const t=qi();return t.setupContext||(t.setupContext=jP(t))}function nh(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function cF(t,e){const n=nh(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?qe(i)||ut(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function dF(t,e){return!t||!e?t||e:qe(t)&&qe(e)?t.concat(e):An({},nh(t),nh(e))}function hF(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function fF(t){const e=qi();let n=t();return Jb(),s1(n)&&(n=n.catch(r=>{throw ol(e),r})),[n,()=>ol(e)]}let zb=!0;function pF(t){const e=O1(t),n=t.proxy,r=t.ctx;zb=!1,e.beforeCreate&&jS(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:b,destroyed:_,unmounted:w,render:T,renderTracked:S,renderTriggered:O,errorCaptured:R,serverPrefetch:D,expose:C,inheritAttrs:M,components:V,directives:W,filters:L}=e;if(u&&mF(u,r,null),o)for(const K in o){const X=o[K];ut(X)&&(r[K]=X.bind(n))}if(i){const K=i.call(n,n);on(K)&&(t.data=Mn(K))}if(zb=!0,s)for(const K in s){const X=s[K],B=ut(X)?X.bind(n,n):ut(X.get)?X.get.bind(n,n):fi,k=!ut(X)&&ut(X.set)?X.set.bind(n):fi,re=ee({get:B,set:k});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>re.value,set:ie=>re.value=ie})}if(a)for(const K in a)wP(a[K],r,n,K);if(l){const K=ut(l)?l.call(n):l;Reflect.ownKeys(K).forEach(X=>{xu(X,K[X])})}c&&jS(c,t,"c");function P(K,X){qe(X)?X.forEach(B=>K(B.bind(n))):X&&K(X.bind(n))}if(P(fP,d),P(jt,h),P(C1,f),P(Mg,p),P(cP,m),P(dP,v),P(vP,R),P(gP,S),P(mP,O),P(sf,b),P(Hs,w),P(pP,D),qe(C))if(C.length){const K=t.exposed||(t.exposed={});C.forEach(X=>{Object.defineProperty(K,X,{get:()=>n[X],set:B=>n[X]=B})})}else t.exposed||(t.exposed={});T&&t.render===fi&&(t.render=T),M!=null&&(t.inheritAttrs=M),V&&(t.components=V),W&&(t.directives=W)}function mF(t,e,n=fi){qe(t)&&(t=Gb(t));for(const r in t){const i=t[r];let s;on(i)?"default"in i?s=ii(i.from||r,i.default,!0):s=ii(i.from||r):s=ii(i),hn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function jS(t,e,n){Pi(qe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function wP(t,e,n,r){const i=r.includes(".")?aP(n,r):()=>n[r];if(kn(t)){const s=e[t];ut(s)&&Ot(i,s)}else if(ut(t))Ot(i,t.bind(n));else if(on(t))if(qe(t))t.forEach(s=>wP(s,e,n,r));else{const s=ut(t.handler)?t.handler.bind(n):e[t.handler];ut(s)&&Ot(i,s,t)}}function O1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>cm(l,u,o,!0)),cm(l,e,o)),on(e)&&s.set(e,l),l}function cm(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&cm(t,s,n,!0),i&&i.forEach(o=>cm(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=gF[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gF={data:HS,props:WS,emits:WS,methods:nd,computed:nd,beforeCreate:Zr,created:Zr,beforeMount:Zr,mounted:Zr,beforeUpdate:Zr,updated:Zr,beforeDestroy:Zr,beforeUnmount:Zr,destroyed:Zr,unmounted:Zr,activated:Zr,deactivated:Zr,errorCaptured:Zr,serverPrefetch:Zr,components:nd,directives:nd,watch:yF,provide:HS,inject:vF};function HS(t,e){return e?t?function(){return An(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function vF(t,e){return nd(Gb(t),Gb(e))}function Gb(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Zr(t,e){return t?[...new Set([].concat(t,e))]:e}function nd(t,e){return t?An(Object.create(null),t,e):e}function WS(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:An(Object.create(null),nh(t),nh(e??{})):e}function yF(t,e){if(!t)return e;if(!e)return t;const n=An(Object.create(null),t);for(const r in e)n[r]=Zr(t[r],e[r]);return n}function _P(){return{app:null,config:{isNativeTag:R3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bF=0;function wF(t,e){return function(r,i=null){ut(r)||(r=An({},r)),i!=null&&!on(i)&&(i=null);const s=_P(),o=new WeakSet;let a=!1;const l=s.app={_uid:bF++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:WP,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&ut(u.install)?(o.add(u),u.install(l,...c)):ut(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=$(r,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,Lg(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Pu;Pu=l;try{return u()}finally{Pu=c}}};return l}}let Pu=null;function xu(t,e){if(or){let n=or.provides;const r=or.parent&&or.parent.provides;r===n&&(n=or.provides=Object.create(r)),n[t]=e}}function ii(t,e,n=!1){const r=or||nr;if(r||Pu){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Pu._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ut(e)?e.call(r&&r.proxy):e}}function TP(){return!!(or||nr||Pu)}function _F(t,e,n,r=!1){const i={},s={};sm(s,$g,1),t.propsDefaults=Object.create(null),SP(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:d1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function TF(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Et(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(xg(t.emitsOptions,h))continue;const f=e[h];if(l)if(Ut(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const p=ri(h);i[p]=Yb(l,a,p,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{SP(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Ut(e,d)&&((c=Ci(d))===d||!Ut(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Yb(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Ut(e,d))&&(delete s[d],u=!0)}u&&io(t,"set","$attrs")}function SP(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Iu(l))continue;const u=e[l];let c;i&&Ut(i,c=ri(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:xg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Et(n),u=a||nn;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Yb(i,l,d,u[d],t,!Ut(u,d))}}return o}function Yb(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Ut(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ut(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=ol(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Ci(n))&&(r=!0))}return r}function EP(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!ut(t)){const c=d=>{l=!0;const[h,f]=EP(d,e,!0);An(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return on(t)&&r.set(t,Su),Su;if(qe(s))for(let c=0;c<s.length;c++){const d=ri(s[c]);KS(d)&&(o[d]=nn)}else if(s)for(const c in s){const d=ri(c);if(KS(d)){const h=s[c],f=o[d]=qe(h)||ut(h)?{type:h}:An({},h);if(f){const p=YS(Boolean,f.type),m=YS(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||Ut(f,"default"))&&a.push(d)}}}const u=[o,a];return on(t)&&r.set(t,u),u}function KS(t){return t[0]!=="$"&&!Iu(t)}function zS(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function GS(t,e){return zS(t)===zS(e)}function YS(t,e){return qe(e)?e.findIndex(n=>GS(n,t)):ut(e)&&GS(e,t)?0:-1}const IP=t=>t[0]==="_"||t==="$stable",A1=t=>qe(t)?t.map(Ii):[Ii(t)],SF=(t,e,n)=>{if(e._n)return e;const r=j((...i)=>A1(e(...i)),n);return r._c=!1,r},CP=(t,e,n)=>{const r=t._ctx;for(const i in t){if(IP(i))continue;const s=t[i];if(ut(s))e[i]=SF(i,s,r);else if(s!=null){const o=A1(s);e[i]=()=>o}}},OP=(t,e)=>{const n=A1(e);t.slots.default=()=>n},EF=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Et(e),sm(e,"_",n)):CP(e,t.slots={})}else t.slots={},e&&OP(t,e);sm(t.slots,$g,1)},IF=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=nn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(An(i,e),!n&&a===1&&delete i._):(s=!e.$stable,CP(e,i)),o=e}else e&&(OP(t,e),o={default:1});if(s)for(const a in i)!IP(a)&&o[a]==null&&delete i[a]};function dm(t,e,n,r,i=!1){if(qe(t)){t.forEach((h,f)=>dm(h,e&&(qe(e)?e[f]:e),n,r,i));return}if(Ka(r)&&!i)return;const s=r.shapeFlag&4?Lg(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===nn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(kn(u)?(c[u]=null,Ut(d,u)&&(d[u]=null)):hn(u)&&(u.value=null)),ut(l))so(l,a,12,[o,c]);else{const h=kn(l),f=hn(l);if(h||f){const p=()=>{if(t.f){const m=h?Ut(d,l)?d[l]:c[l]:l.value;i?qe(m)&&i1(m,s):qe(m)?m.includes(s)||m.push(s):h?(c[l]=[s],Ut(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,Ut(d,l)&&(d[l]=o)):f&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Cr(p,n)):p()}}}let Io=!1;const CF=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",OF=t=>t.namespaceURI.includes("MathML"),Xf=t=>{if(CF(t))return"svg";if(OF(t))return"mathml"},Qf=t=>t.nodeType===8;function AF(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(_,w)=>{if(!w.hasChildNodes()){n(null,_,w),um(),w._vnode=_;return}Io=!1,d(w.firstChild,_,null,null,null),um(),w._vnode=_,Io&&console.error("Hydration completed but contains mismatches.")},d=(_,w,T,S,O,R=!1)=>{const D=Qf(_)&&_.data==="[",C=()=>m(_,w,T,S,O,D),{type:M,ref:V,shapeFlag:W,patchFlag:L}=w;let A=_.nodeType;w.el=_,L===-2&&(R=!1,w.dynamicChildren=null);let P=null;switch(M){case il:A!==3?w.children===""?(l(w.el=i(""),o(_),_),P=_):P=C():(_.data!==w.children&&(Io=!0,_.data=w.children),P=s(_));break;case Wr:b(_)?(P=s(_),y(w.el=_.content.firstChild,_,T)):A!==8||D?P=C():P=s(_);break;case za:if(D&&(_=s(_),A=_.nodeType),A===1||A===3){P=_;const K=!w.children.length;for(let X=0;X<w.staticCount;X++)K&&(w.children+=P.nodeType===1?P.outerHTML:P.data),X===w.staticCount-1&&(w.anchor=P),P=s(P);return D?s(P):P}else C();break;case we:D?P=p(_,w,T,S,O,R):P=C();break;default:if(W&1)(A!==1||w.type.toLowerCase()!==_.tagName.toLowerCase())&&!b(_)?P=C():P=h(_,w,T,S,O,R);else if(W&6){w.slotScopeIds=O;const K=o(_);if(D?P=v(_):Qf(_)&&_.data==="teleport start"?P=v(_,_.data,"teleport end"):P=s(_),e(w,K,null,T,S,Xf(K),R),Ka(w)){let X;D?(X=$(we),X.anchor=P?P.previousSibling:K.lastChild):X=_.nodeType===3?N(""):$("div"),X.el=_,w.component.subTree=X}}else W&64?A!==8?P=C():P=w.type.hydrate(_,w,T,S,O,R,t,f):W&128&&(P=w.type.hydrate(_,w,T,S,Xf(o(_)),O,R,t,d))}return V!=null&&dm(V,null,S,w),P},h=(_,w,T,S,O,R)=>{R=R||!!w.dynamicChildren;const{type:D,props:C,patchFlag:M,shapeFlag:V,dirs:W,transition:L}=w,A=D==="input"||D==="option";if(A||M!==-1){W&&ws(w,null,T,"created");let P=!1;if(b(_)){P=xP(S,L)&&T&&T.vnode.props&&T.vnode.props.appear;const X=_.content.firstChild;P&&L.beforeEnter(X),y(X,_,T),w.el=_=X}if(V&16&&!(C&&(C.innerHTML||C.textContent))){let X=f(_.firstChild,w,_,T,S,O,R);for(;X;){Io=!0;const B=X;X=X.nextSibling,a(B)}}else V&8&&_.textContent!==w.children&&(Io=!0,_.textContent=w.children);if(C)if(A||!R||M&48)for(const X in C)(A&&(X.endsWith("value")||X==="indeterminate")||Qh(X)&&!Iu(X)||X[0]===".")&&r(_,X,null,C[X],void 0,void 0,T);else C.onClick&&r(_,"onClick",null,C.onClick,void 0,void 0,T);let K;(K=C&&C.onVnodeBeforeMount)&&ci(K,T,w),W&&ws(w,null,T,"beforeMount"),((K=C&&C.onVnodeMounted)||W||P)&&nP(()=>{K&&ci(K,T,w),P&&L.enter(_),W&&ws(w,null,T,"mounted")},S)}return _.nextSibling},f=(_,w,T,S,O,R,D)=>{D=D||!!w.dynamicChildren;const C=w.children,M=C.length;for(let V=0;V<M;V++){const W=D?C[V]:C[V]=Ii(C[V]);if(_)_=d(_,W,S,O,R,D);else{if(W.type===il&&!W.children)continue;Io=!0,n(null,W,T,null,S,O,Xf(T),R)}}return _},p=(_,w,T,S,O,R)=>{const{slotScopeIds:D}=w;D&&(O=O?O.concat(D):D);const C=o(_),M=f(s(_),w,C,T,S,O,R);return M&&Qf(M)&&M.data==="]"?s(w.anchor=M):(Io=!0,l(w.anchor=u("]"),C,M),M)},m=(_,w,T,S,O,R)=>{if(Io=!0,w.el=null,R){const M=v(_);for(;;){const V=s(_);if(V&&V!==M)a(V);else break}}const D=s(_),C=o(_);return a(_),n(null,w,C,D,T,S,Xf(C),O),D},v=(_,w="[",T="]")=>{let S=0;for(;_;)if(_=s(_),_&&Qf(_)&&(_.data===w&&S++,_.data===T)){if(S===0)return s(_);S--}return _},y=(_,w,T)=>{const S=w.parentNode;S&&S.replaceChild(_,w);let O=T;for(;O;)O.vnode.el===w&&(O.vnode.el=O.subTree.el=_),O=O.parent},b=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,d]}const Cr=nP;function AP(t){return PP(t)}function kP(t){return PP(t,AF)}function PP(t,e){const n=Ck();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=fi,insertStaticContent:p}=t,m=(x,U,G,ce=null,de=null,Ee=null,De=void 0,Te=null,Oe=!!U.dynamicChildren)=>{if(x===U)return;x&&!is(x,U)&&(ce=Q(x),ie(x,de,Ee,!0),x=null),U.patchFlag===-2&&(Oe=!1,U.dynamicChildren=null);const{type:be,ref:$e,shapeFlag:He}=U;switch(be){case il:v(x,U,G,ce);break;case Wr:y(x,U,G,ce);break;case za:x==null&&b(U,G,ce,De);break;case we:V(x,U,G,ce,de,Ee,De,Te,Oe);break;default:He&1?T(x,U,G,ce,de,Ee,De,Te,Oe):He&6?W(x,U,G,ce,de,Ee,De,Te,Oe):(He&64||He&128)&&be.process(x,U,G,ce,de,Ee,De,Te,Oe,pe)}$e!=null&&de&&dm($e,x&&x.ref,Ee,U||x,!U)},v=(x,U,G,ce)=>{if(x==null)r(U.el=a(U.children),G,ce);else{const de=U.el=x.el;U.children!==x.children&&u(de,U.children)}},y=(x,U,G,ce)=>{x==null?r(U.el=l(U.children||""),G,ce):U.el=x.el},b=(x,U,G,ce)=>{[x.el,x.anchor]=p(x.children,U,G,ce,x.el,x.anchor)},_=({el:x,anchor:U},G,ce)=>{let de;for(;x&&x!==U;)de=h(x),r(x,G,ce),x=de;r(U,G,ce)},w=({el:x,anchor:U})=>{let G;for(;x&&x!==U;)G=h(x),i(x),x=G;i(U)},T=(x,U,G,ce,de,Ee,De,Te,Oe)=>{U.type==="svg"?De="svg":U.type==="math"&&(De="mathml"),x==null?S(U,G,ce,de,Ee,De,Te,Oe):D(x,U,de,Ee,De,Te,Oe)},S=(x,U,G,ce,de,Ee,De,Te)=>{let Oe,be;const{props:$e,shapeFlag:He,transition:Ge,dirs:rt}=x;if(Oe=x.el=o(x.type,Ee,$e&&$e.is,$e),He&8?c(Oe,x.children):He&16&&R(x.children,Oe,null,ce,de,ly(x,Ee),De,Te),rt&&ws(x,null,ce,"created"),O(Oe,x,x.scopeId,De,ce),$e){for(const J in $e)J!=="value"&&!Iu(J)&&s(Oe,J,null,$e[J],Ee,x.children,ce,de,z);"value"in $e&&s(Oe,"value",null,$e.value,Ee),(be=$e.onVnodeBeforeMount)&&ci(be,ce,x)}rt&&ws(x,null,ce,"beforeMount");const ct=xP(de,Ge);ct&&Ge.beforeEnter(Oe),r(Oe,U,G),((be=$e&&$e.onVnodeMounted)||ct||rt)&&Cr(()=>{be&&ci(be,ce,x),ct&&Ge.enter(Oe),rt&&ws(x,null,ce,"mounted")},de)},O=(x,U,G,ce,de)=>{if(G&&f(x,G),ce)for(let Ee=0;Ee<ce.length;Ee++)f(x,ce[Ee]);if(de){let Ee=de.subTree;if(U===Ee){const De=de.vnode;O(x,De,De.scopeId,De.slotScopeIds,de.parent)}}},R=(x,U,G,ce,de,Ee,De,Te,Oe=0)=>{for(let be=Oe;be<x.length;be++){const $e=x[be]=Te?Lo(x[be]):Ii(x[be]);m(null,$e,U,G,ce,de,Ee,De,Te)}},D=(x,U,G,ce,de,Ee,De)=>{const Te=U.el=x.el;let{patchFlag:Oe,dynamicChildren:be,dirs:$e}=U;Oe|=x.patchFlag&16;const He=x.props||nn,Ge=U.props||nn;let rt;if(G&&Ta(G,!1),(rt=Ge.onVnodeBeforeUpdate)&&ci(rt,G,U,x),$e&&ws(U,x,G,"beforeUpdate"),G&&Ta(G,!0),be?C(x.dynamicChildren,be,Te,G,ce,ly(U,de),Ee):De||X(x,U,Te,null,G,ce,ly(U,de),Ee,!1),Oe>0){if(Oe&16)M(Te,U,He,Ge,G,ce,de);else if(Oe&2&&He.class!==Ge.class&&s(Te,"class",null,Ge.class,de),Oe&4&&s(Te,"style",He.style,Ge.style,de),Oe&8){const ct=U.dynamicProps;for(let J=0;J<ct.length;J++){const H=ct[J],Y=He[H],te=Ge[H];(te!==Y||H==="value")&&s(Te,H,Y,te,de,x.children,G,ce,z)}}Oe&1&&x.children!==U.children&&c(Te,U.children)}else!De&&be==null&&M(Te,U,He,Ge,G,ce,de);((rt=Ge.onVnodeUpdated)||$e)&&Cr(()=>{rt&&ci(rt,G,U,x),$e&&ws(U,x,G,"updated")},ce)},C=(x,U,G,ce,de,Ee,De)=>{for(let Te=0;Te<U.length;Te++){const Oe=x[Te],be=U[Te],$e=Oe.el&&(Oe.type===we||!is(Oe,be)||Oe.shapeFlag&70)?d(Oe.el):G;m(Oe,be,$e,null,ce,de,Ee,De,!0)}},M=(x,U,G,ce,de,Ee,De)=>{if(G!==ce){if(G!==nn)for(const Te in G)!Iu(Te)&&!(Te in ce)&&s(x,Te,G[Te],null,De,U.children,de,Ee,z);for(const Te in ce){if(Iu(Te))continue;const Oe=ce[Te],be=G[Te];Oe!==be&&Te!=="value"&&s(x,Te,be,Oe,De,U.children,de,Ee,z)}"value"in ce&&s(x,"value",G.value,ce.value,De)}},V=(x,U,G,ce,de,Ee,De,Te,Oe)=>{const be=U.el=x?x.el:a(""),$e=U.anchor=x?x.anchor:a("");let{patchFlag:He,dynamicChildren:Ge,slotScopeIds:rt}=U;rt&&(Te=Te?Te.concat(rt):rt),x==null?(r(be,G,ce),r($e,G,ce),R(U.children||[],G,$e,de,Ee,De,Te,Oe)):He>0&&He&64&&Ge&&x.dynamicChildren?(C(x.dynamicChildren,Ge,G,de,Ee,De,Te),(U.key!=null||de&&U===de.subTree)&&k1(x,U,!0)):X(x,U,G,$e,de,Ee,De,Te,Oe)},W=(x,U,G,ce,de,Ee,De,Te,Oe)=>{U.slotScopeIds=Te,x==null?U.shapeFlag&512?de.ctx.activate(U,G,ce,De,Oe):L(U,G,ce,de,Ee,De,Oe):A(x,U,Oe)},L=(x,U,G,ce,de,Ee,De)=>{const Te=x.component=FP(x,ce,de);if(rf(x)&&(Te.ctx.renderer=pe),UP(Te),Te.asyncDep){if(de&&de.registerDep(Te,P),!x.el){const Oe=Te.subTree=$(Wr);y(null,Oe,U,G)}}else P(Te,x,U,G,de,Ee,De)},A=(x,U,G)=>{const ce=U.component=x.component;if(V4(x,U,G))if(ce.asyncDep&&!ce.asyncResolved){K(ce,U,G);return}else ce.next=U,D4(ce.update),ce.effect.dirty=!0,ce.update();else U.el=x.el,ce.vnode=U},P=(x,U,G,ce,de,Ee,De)=>{const Te=()=>{if(x.isMounted){let{next:$e,bu:He,u:Ge,parent:rt,vnode:ct}=x;{const he=DP(x);if(he){$e&&($e.el=ct.el,K(x,$e,De)),he.asyncDep.then(()=>{x.isUnmounted||Te()});return}}let J=$e,H;Ta(x,!1),$e?($e.el=ct.el,K(x,$e,De)):$e=ct,He&&Cu(He),(H=$e.props&&$e.props.onVnodeBeforeUpdate)&&ci(H,rt,$e,ct),Ta(x,!0);const Y=Np(x),te=x.subTree;x.subTree=Y,m(te,Y,d(te.el),Q(te),x,de,Ee),$e.el=Y.el,J===null&&b1(x,Y.el),Ge&&Cr(Ge,de),(H=$e.props&&$e.props.onVnodeUpdated)&&Cr(()=>ci(H,rt,$e,ct),de)}else{let $e;const{el:He,props:Ge}=U,{bm:rt,m:ct,parent:J}=x,H=Ka(U);if(Ta(x,!1),rt&&Cu(rt),!H&&($e=Ge&&Ge.onVnodeBeforeMount)&&ci($e,J,U),Ta(x,!0),He&&le){const Y=()=>{x.subTree=Np(x),le(He,x.subTree,x,de,null)};H?U.type.__asyncLoader().then(()=>!x.isUnmounted&&Y()):Y()}else{const Y=x.subTree=Np(x);m(null,Y,G,ce,x,de,Ee),U.el=Y.el}if(ct&&Cr(ct,de),!H&&($e=Ge&&Ge.onVnodeMounted)){const Y=U;Cr(()=>ci($e,J,Y),de)}(U.shapeFlag&256||J&&Ka(J.vnode)&&J.vnode.shapeFlag&256)&&x.a&&Cr(x.a,de),x.isMounted=!0,U=G=ce=null}},Oe=x.effect=new Hu(Te,fi,()=>Pg(be),x.scope),be=x.update=()=>{Oe.dirty&&Oe.run()};be.id=x.uid,Ta(x,!0),be()},K=(x,U,G)=>{U.component=x;const ce=x.vnode.props;x.vnode=U,x.next=null,TF(x,U.props,ce,G),IF(x,U.children,G),Ol(),LS(x),Al()},X=(x,U,G,ce,de,Ee,De,Te,Oe=!1)=>{const be=x&&x.children,$e=x?x.shapeFlag:0,He=U.children,{patchFlag:Ge,shapeFlag:rt}=U;if(Ge>0){if(Ge&128){k(be,He,G,ce,de,Ee,De,Te,Oe);return}else if(Ge&256){B(be,He,G,ce,de,Ee,De,Te,Oe);return}}rt&8?($e&16&&z(be,de,Ee),He!==be&&c(G,He)):$e&16?rt&16?k(be,He,G,ce,de,Ee,De,Te,Oe):z(be,de,Ee,!0):($e&8&&c(G,""),rt&16&&R(He,G,ce,de,Ee,De,Te,Oe))},B=(x,U,G,ce,de,Ee,De,Te,Oe)=>{x=x||Su,U=U||Su;const be=x.length,$e=U.length,He=Math.min(be,$e);let Ge;for(Ge=0;Ge<He;Ge++){const rt=U[Ge]=Oe?Lo(U[Ge]):Ii(U[Ge]);m(x[Ge],rt,G,null,de,Ee,De,Te,Oe)}be>$e?z(x,de,Ee,!0,!1,He):R(U,G,ce,de,Ee,De,Te,Oe,He)},k=(x,U,G,ce,de,Ee,De,Te,Oe)=>{let be=0;const $e=U.length;let He=x.length-1,Ge=$e-1;for(;be<=He&&be<=Ge;){const rt=x[be],ct=U[be]=Oe?Lo(U[be]):Ii(U[be]);if(is(rt,ct))m(rt,ct,G,null,de,Ee,De,Te,Oe);else break;be++}for(;be<=He&&be<=Ge;){const rt=x[He],ct=U[Ge]=Oe?Lo(U[Ge]):Ii(U[Ge]);if(is(rt,ct))m(rt,ct,G,null,de,Ee,De,Te,Oe);else break;He--,Ge--}if(be>He){if(be<=Ge){const rt=Ge+1,ct=rt<$e?U[rt].el:ce;for(;be<=Ge;)m(null,U[be]=Oe?Lo(U[be]):Ii(U[be]),G,ct,de,Ee,De,Te,Oe),be++}}else if(be>Ge)for(;be<=He;)ie(x[be],de,Ee,!0),be++;else{const rt=be,ct=be,J=new Map;for(be=ct;be<=Ge;be++){const ke=U[be]=Oe?Lo(U[be]):Ii(U[be]);ke.key!=null&&J.set(ke.key,be)}let H,Y=0;const te=Ge-ct+1;let he=!1,Ve=0;const Xe=new Array(te);for(be=0;be<te;be++)Xe[be]=0;for(be=rt;be<=He;be++){const ke=x[be];if(Y>=te){ie(ke,de,Ee,!0);continue}let Re;if(ke.key!=null)Re=J.get(ke.key);else for(H=ct;H<=Ge;H++)if(Xe[H-ct]===0&&is(ke,U[H])){Re=H;break}Re===void 0?ie(ke,de,Ee,!0):(Xe[Re-ct]=be+1,Re>=Ve?Ve=Re:he=!0,m(ke,U[Re],G,null,de,Ee,De,Te,Oe),Y++)}const ge=he?kF(Xe):Su;for(H=ge.length-1,be=te-1;be>=0;be--){const ke=ct+be,Re=U[ke],Qe=ke+1<$e?U[ke+1].el:ce;Xe[be]===0?m(null,Re,G,Qe,de,Ee,De,Te,Oe):he&&(H<0||be!==ge[H]?re(Re,G,Qe,2):H--)}}},re=(x,U,G,ce,de=null)=>{const{el:Ee,type:De,transition:Te,children:Oe,shapeFlag:be}=x;if(be&6){re(x.component.subTree,U,G,ce);return}if(be&128){x.suspense.move(U,G,ce);return}if(be&64){De.move(x,U,G,pe);return}if(De===we){r(Ee,U,G);for(let He=0;He<Oe.length;He++)re(Oe[He],U,G,ce);r(x.anchor,U,G);return}if(De===za){_(x,U,G);return}if(ce!==2&&be&1&&Te)if(ce===0)Te.beforeEnter(Ee),r(Ee,U,G),Cr(()=>Te.enter(Ee),de);else{const{leave:He,delayLeave:Ge,afterLeave:rt}=Te,ct=()=>r(Ee,U,G),J=()=>{He(Ee,()=>{ct(),rt&&rt()})};Ge?Ge(Ee,ct,J):J()}else r(Ee,U,G)},ie=(x,U,G,ce=!1,de=!1)=>{const{type:Ee,props:De,ref:Te,children:Oe,dynamicChildren:be,shapeFlag:$e,patchFlag:He,dirs:Ge}=x;if(Te!=null&&dm(Te,null,G,x,!0),$e&256){U.ctx.deactivate(x);return}const rt=$e&1&&Ge,ct=!Ka(x);let J;if(ct&&(J=De&&De.onVnodeBeforeUnmount)&&ci(J,U,x),$e&6)se(x.component,G,ce);else{if($e&128){x.suspense.unmount(G,ce);return}rt&&ws(x,null,U,"beforeUnmount"),$e&64?x.type.remove(x,U,G,de,pe,ce):be&&(Ee!==we||He>0&&He&64)?z(be,U,G,!1,!0):(Ee===we&&He&384||!de&&$e&16)&&z(Oe,U,G),ce&&ve(x)}(ct&&(J=De&&De.onVnodeUnmounted)||rt)&&Cr(()=>{J&&ci(J,U,x),rt&&ws(x,null,U,"unmounted")},G)},ve=x=>{const{type:U,el:G,anchor:ce,transition:de}=x;if(U===we){ye(G,ce);return}if(U===za){w(x);return}const Ee=()=>{i(G),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(x.shapeFlag&1&&de&&!de.persisted){const{leave:De,delayLeave:Te}=de,Oe=()=>De(G,Ee);Te?Te(x.el,Ee,Oe):Oe()}else Ee()},ye=(x,U)=>{let G;for(;x!==U;)G=h(x),i(x),x=G;i(U)},se=(x,U,G)=>{const{bum:ce,scope:de,update:Ee,subTree:De,um:Te}=x;ce&&Cu(ce),de.stop(),Ee&&(Ee.active=!1,ie(De,x,U,G)),Te&&Cr(Te,U),Cr(()=>{x.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},z=(x,U,G,ce=!1,de=!1,Ee=0)=>{for(let De=Ee;De<x.length;De++)ie(x[De],U,G,ce,de)},Q=x=>x.shapeFlag&6?Q(x.component.subTree):x.shapeFlag&128?x.suspense.next():h(x.anchor||x.el);let ue=!1;const Z=(x,U,G)=>{x==null?U._vnode&&ie(U._vnode,null,null,!0):m(U._vnode||null,x,U,null,null,null,G),ue||(ue=!0,LS(),um(),ue=!1),U._vnode=x},pe={p:m,um:ie,m:re,r:ve,mt:L,mc:R,pc:X,pbc:C,n:Q,o:t};let _e,le;return e&&([_e,le]=e(pe)),{render:Z,hydrate:_e,createApp:wF(Z,_e)}}function ly({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ta({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function xP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function k1(t,e,n=!1){const r=t.children,i=e.children;if(qe(r)&&qe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Lo(i[s]),a.el=o.el),n||k1(o,a)),a.type===il&&(a.el=o.el)}}function kF(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function DP(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:DP(e)}const PF=t=>t.__isTeleport,_d=t=>t&&(t.disabled||t.disabled===""),qS=t=>typeof SVGElement<"u"&&t instanceof SVGElement,XS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,qb=(t,e)=>{const n=t&&t.to;return kn(n)?e?e(n):null:n},xF={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:v}}=u,y=_d(e.props);let{shapeFlag:b,children:_,dynamicChildren:w}=e;if(t==null){const T=e.el=m(""),S=e.anchor=m("");f(T,n,r),f(S,n,r);const O=e.target=qb(e.props,p),R=e.targetAnchor=m("");O&&(f(R,O),o==="svg"||qS(O)?o="svg":(o==="mathml"||XS(O))&&(o="mathml"));const D=(C,M)=>{b&16&&c(_,C,M,i,s,o,a,l)};y?D(n,S):O&&D(O,R)}else{e.el=t.el;const T=e.anchor=t.anchor,S=e.target=t.target,O=e.targetAnchor=t.targetAnchor,R=_d(t.props),D=R?n:S,C=R?T:O;if(o==="svg"||qS(S)?o="svg":(o==="mathml"||XS(S))&&(o="mathml"),w?(h(t.dynamicChildren,w,D,i,s,o,a),k1(t,e,!0)):l||d(t,e,D,C,i,s,o,a,!1),y)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Jf(e,n,T,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=qb(e.props,p);M&&Jf(e,M,null,u,0)}else R&&Jf(e,S,O,u,1)}RP(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=t;if(d&&s(c),o&&s(u),a&16){const f=o||!_d(h);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,f,!!m.dynamicChildren)}}},move:Jf,hydrate:DF};function Jf(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||_d(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function DF(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=qb(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(_d(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}RP(e)}return e.anchor&&o(e.anchor)}const P1=xF;function RP(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const we=Symbol.for("v-fgt"),il=Symbol.for("v-txt"),Wr=Symbol.for("v-cmt"),za=Symbol.for("v-stc"),Td=[];let pi=null;function I(t=!1){Td.push(pi=t?null:[])}function NP(){Td.pop(),pi=Td[Td.length-1]||null}let sl=1;function Xb(t){sl+=t}function MP(t){return t.dynamicChildren=sl>0?pi||Su:null,NP(),sl>0&&pi&&pi.push(t),t}function F(t,e,n,r,i,s){return MP(g(t,e,n,r,i,s,!0))}function ne(t,e,n,r,i){return MP($(t,e,n,r,i,!0))}function aa(t){return t?t.__v_isVNode===!0:!1}function is(t,e){return t.type===e.type&&t.key===e.key}function RF(t){}const $g="__vInternal",$P=({key:t})=>t??null,Mp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?kn(t)||hn(t)||ut(t)?{i:nr,r:t,k:e,f:!!n}:t:null);function g(t,e=null,n=null,r=0,i=null,s=t===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$P(e),ref:e&&Mp(e),scopeId:Dg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:nr};return a?(x1(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=kn(n)?8:16),sl>0&&!o&&pi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&pi.push(l),l}const $=NF;function NF(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===eP)&&(t=Wr),aa(t)){const a=Vs(t,e,!0);return n&&x1(a,n),sl>0&&!s&&pi&&(a.shapeFlag&6?pi[pi.indexOf(t)]=a:pi.push(a)),a.patchFlag|=-2,a}if(BF(t)&&(t=t.__vccOpts),e){e=lr(e);let{class:a,style:l}=e;a&&!kn(a)&&(e.class=Pe(a)),on(l)&&(h1(l)&&!qe(l)&&(l=An({},l)),e.style=dn(l))}const o=kn(t)?1:tP(t)?128:PF(t)?64:on(t)?4:ut(t)?2:0;return g(t,e,n,r,i,o,s,!0)}function lr(t){return t?h1(t)||$g in t?An({},t):t:null}function Vs(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?ae(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&$P(a),ref:e&&e.ref?n&&i?qe(i)?i.concat(Mp(e)):[i,Mp(e)]:Mp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vs(t.ssContent),ssFallback:t.ssFallback&&Vs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function N(t=" ",e=0){return $(il,null,t,e)}function LP(t,e){const n=$(za,null,t);return n.staticCount=e,n}function q(t="",e=!1){return e?(I(),ne(Wr,null,t)):$(Wr,null,t)}function Ii(t){return t==null||typeof t=="boolean"?$(Wr):qe(t)?$(we,null,t.slice()):typeof t=="object"?Lo(t):$(il,null,String(t))}function Lo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vs(t)}function x1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),x1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!($g in e)?e._ctx=nr:i===3&&nr&&(nr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:nr},n=32):(e=String(e),r&64?(n=16,e=[N(e)]):n=8);t.children=e,t.shapeFlag|=n}function ae(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Pe([e.class,r.class]));else if(i==="style")e.style=dn([e.style,r.style]);else if(Qh(i)){const s=e[i],o=r[i];o&&s!==o&&!(qe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ci(t,e,n,r=null){Pi(t,e,7,[n,r])}const MF=_P();let $F=0;function FP(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||MF,s={uid:$F++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new a1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:EP(r,i),emitsOptions:Zk(r,i),emit:null,emitted:null,propsDefaults:nn,inheritAttrs:r.inheritAttrs,ctx:nn,data:nn,props:nn,attrs:nn,slots:nn,refs:nn,setupState:nn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=N4.bind(null,s),t.ce&&t.ce(s),s}let or=null;const qi=()=>or||nr;let hm,Qb;{const t=Ck(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};hm=e("__VUE_INSTANCE_SETTERS__",n=>or=n),Qb=e("__VUE_SSR_SETTERS__",n=>of=n)}const ol=t=>{const e=or;return hm(t),t.scope.on(),()=>{t.scope.off(),hm(e)}},Jb=()=>{or&&or.scope.off(),hm(null)};function VP(t){return t.vnode.shapeFlag&4}let of=!1;function UP(t,e=!1){e&&Qb(e);const{props:n,children:r}=t.vnode,i=VP(t);_F(t,n,i,e),EF(t,r);const s=i?LF(t,e):void 0;return e&&Qb(!1),s}function LF(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ef(new Proxy(t.ctx,Kb));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?jP(t):null,s=ol(t);Ol();const o=so(r,t,0,[t.props,i]);if(Al(),s(),s1(o)){if(o.then(Jb,Jb),e)return o.then(a=>{Zb(t,a,e)}).catch(a=>{kl(a,t,0)});t.asyncDep=o}else Zb(t,o,e)}else BP(t,e)}function Zb(t,e,n){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:on(e)&&(t.setupState=m1(e)),BP(t,n)}let fm,e0;function FF(t){fm=t,e0=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,tF))}}const VF=()=>!fm;function BP(t,e,n){const r=t.type;if(!t.render){if(!e&&fm&&!r.render){const i=r.template||O1(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=An(An({isCustomElement:s,delimiters:a},o),l);r.render=fm(i,u)}}t.render=r.render||fi,e0&&e0(t)}{const i=ol(t);Ol();try{pF(t)}finally{Al(),i()}}}function UF(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return wi(t,"get","$attrs"),e[n]}}))}function jP(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return UF(t)},slots:t.slots,emit:t.emit,expose:e}}function Lg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(m1(ef(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wd)return wd[n](t)},has(e,n){return n in e||n in wd}}))}function t0(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function BF(t){return ut(t)&&"__vccOpts"in t}const ee=(t,e)=>v4(t,e,of);function jF(t,e,n=nn){const r=qi(),i=ri(e),s=Ci(e),o=zk((l,u)=>{let c;return oP(()=>{const d=t[e];ps(c,d)&&(c=d,u())}),{get(){return l(),n.get?n.get(c):c},set(d){const h=r.vnode.props;!(h&&(e in h||i in h||s in h)&&(`onUpdate:${e}`in h||`onUpdate:${i}`in h||`onUpdate:${s}`in h))&&ps(d,c)&&(c=d,u()),r.emit(`update:${e}`,n.set?n.set(d):d)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function al(t,e,n){const r=arguments.length;return r===2?on(e)&&!qe(e)?aa(e)?$(t,null,[e]):$(t,e):$(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&aa(n)&&(n=[n]),$(t,e,n))}function HF(){}function WF(t,e,n,r){const i=n[r];if(i&&HP(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function HP(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(ps(n[r],e[r]))return!1;return sl>0&&pi&&pi.push(t),!0}const WP="3.4.21",KF=fi,zF=k4,GF=nu,YF=Jk,qF={createComponentInstance:FP,setupComponent:UP,renderComponentRoot:Np,setCurrentRenderingInstance:eh,isVNode:aa,normalizeVNode:Ii},XF=qF,QF=null,JF=null,ZF=null;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const e6="http://www.w3.org/2000/svg",t6="http://www.w3.org/1998/Math/MathML",Fo=typeof document<"u"?document:null,QS=Fo&&Fo.createElement("template"),n6={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Fo.createElementNS(e6,t):e==="mathml"?Fo.createElementNS(t6,t):Fo.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Fo.createTextNode(t),createComment:t=>Fo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{QS.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=QS.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Co="transition",Nc="animation",zu=Symbol("_vtc"),Xi=(t,{slots:e})=>al(lP,zP(t),e);Xi.displayName="Transition";const KP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},r6=Xi.props=An({},I1,KP),Sa=(t,e=[])=>{qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},JS=t=>t?qe(t)?t.some(e=>e.length>1):t.length>1:!1;function zP(t){const e={};for(const V in t)V in KP||(e[V]=t[V]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=i6(i),m=p&&p[0],v=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:T,onBeforeAppear:S=y,onAppear:O=b,onAppearCancelled:R=_}=e,D=(V,W,L)=>{Ro(V,W?c:a),Ro(V,W?u:o),L&&L()},C=(V,W)=>{V._isLeaving=!1,Ro(V,d),Ro(V,f),Ro(V,h),W&&W()},M=V=>(W,L)=>{const A=V?O:b,P=()=>D(W,V,L);Sa(A,[W,P]),ZS(()=>{Ro(W,V?l:s),Ys(W,V?c:a),JS(A)||eE(W,r,m,P)})};return An(e,{onBeforeEnter(V){Sa(y,[V]),Ys(V,s),Ys(V,o)},onBeforeAppear(V){Sa(S,[V]),Ys(V,l),Ys(V,u)},onEnter:M(!1),onAppear:M(!0),onLeave(V,W){V._isLeaving=!0;const L=()=>C(V,W);Ys(V,d),YP(),Ys(V,h),ZS(()=>{V._isLeaving&&(Ro(V,d),Ys(V,f),JS(w)||eE(V,r,v,L))}),Sa(w,[V,L])},onEnterCancelled(V){D(V,!1),Sa(_,[V])},onAppearCancelled(V){D(V,!0),Sa(R,[V])},onLeaveCancelled(V){C(V),Sa(T,[V])}})}function i6(t){if(t==null)return null;if(on(t))return[uy(t.enter),uy(t.leave)];{const e=uy(t);return[e,e]}}function uy(t){return om(t)}function Ys(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[zu]||(t[zu]=new Set)).add(e)}function Ro(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[zu];n&&(n.delete(e),n.size||(t[zu]=void 0))}function ZS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let s6=0;function eE(t,e,n,r){const i=t._endId=++s6,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=GP(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function GP(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Co}Delay`),s=r(`${Co}Duration`),o=tE(i,s),a=r(`${Nc}Delay`),l=r(`${Nc}Duration`),u=tE(a,l);let c=null,d=0,h=0;e===Co?o>0&&(c=Co,d=o,h=s.length):e===Nc?u>0&&(c=Nc,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Co:Nc:null,h=c?c===Co?s.length:l.length:0);const f=c===Co&&/\b(transform|all)(,|$)/.test(r(`${Co}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function tE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>nE(n)+nE(t[r])))}function nE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function YP(){return document.body.offsetHeight}function o6(t,e,n){const r=t[zu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const pm=Symbol("_vod"),qP=Symbol("_vsh"),Rs={beforeMount(t,{value:e},{transition:n}){t[pm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Mc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Mc(t,!0),r.enter(t)):r.leave(t,()=>{Mc(t,!1)}):Mc(t,e))},beforeUnmount(t,{value:e}){Mc(t,e)}};function Mc(t,e){t.style.display=e?t[pm]:"none",t[qP]=!e}function a6(){Rs.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const XP=Symbol("");function l6(t){const e=qi();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>r0(s,i))},r=()=>{const i=t(e.proxy);n0(e.subTree,i),n(i)};sP(r),jt(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Hs(()=>i.disconnect())})}function n0(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{n0(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)r0(t.el,e);else if(t.type===we)t.children.forEach(n=>n0(n,e));else if(t.type===za){let{el:n,anchor:r}=t;for(;n&&(r0(n,e),n!==r);)n=n.nextSibling}}function r0(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[XP]=r}}const u6=/(^|;)\s*display\s*:/;function c6(t,e,n){const r=t.style,i=kn(n);let s=!1;if(n&&!i){if(e)if(kn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&$p(r,a,"")}else for(const o in e)n[o]==null&&$p(r,o,"");for(const o in n)o==="display"&&(s=!0),$p(r,o,n[o])}else if(i){if(e!==n){const o=r[XP];o&&(n+=";"+o),r.cssText=n,s=u6.test(n)}}else e&&t.removeAttribute("style");pm in t&&(t[pm]=s?r.display:"",t[qP]&&(r.display="none"))}const rE=/\s*!important$/;function $p(t,e,n){if(qe(n))n.forEach(r=>$p(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=d6(t,e);rE.test(n)?t.setProperty(Ci(r),n.replace(rE,""),"important"):t[r]=n}}const iE=["Webkit","Moz","ms"],cy={};function d6(t,e){const n=cy[e];if(n)return n;let r=ri(e);if(r!=="filter"&&r in t)return cy[e]=r;r=Jh(r);for(let i=0;i<iE.length;i++){const s=iE[i]+r;if(s in t)return cy[e]=s}return e}const sE="http://www.w3.org/1999/xlink";function h6(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(sE,e.slice(6,e.length)):t.setAttributeNS(sE,e,n);else{const s=z3(e);n==null||s&&!Ok(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function f6(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Ok(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Qs(t,e,n,r){t.addEventListener(e,n,r)}function p6(t,e,n,r){t.removeEventListener(e,n,r)}const oE=Symbol("_vei");function m6(t,e,n,r,i=null){const s=t[oE]||(t[oE]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=g6(e);if(r){const u=s[e]=b6(r,i);Qs(t,a,u,l)}else o&&(p6(t,a,o,l),s[e]=void 0)}}const aE=/(?:Once|Passive|Capture)$/;function g6(t){let e;if(aE.test(t)){e={};let r;for(;r=t.match(aE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ci(t.slice(2)),e]}let dy=0;const v6=Promise.resolve(),y6=()=>dy||(v6.then(()=>dy=0),dy=Date.now());function b6(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Pi(w6(r,n.value),e,5,[r])};return n.value=t,n.attached=y6(),n}function w6(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const lE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_6=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?o6(t,r,u):e==="style"?c6(t,n,r):Qh(e)?r1(e)||m6(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):T6(t,e,r,u))?f6(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),h6(t,e,r,u))};function T6(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&lE(e)&&ut(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return lE(e)&&kn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function QP(t,e){const n=Ce(t);class r extends Fg{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const S6=t=>QP(t,ux),E6=typeof HTMLElement<"u"?HTMLElement:class{};class Fg extends E6{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),qn(()=>{this._connected||(ll(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!qe(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=om(this._props[l])),(a||(a=Object.create(null)))[ri(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=qe(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ri))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=ri(e);this._numberProps&&this._numberProps[r]&&(n=om(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ci(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ci(e),n+""):n||this.removeAttribute(Ci(e))))}_update(){ll(this._createVNode(),this.shadowRoot)}_createVNode(){const e=$(this._def,An({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),Ci(s)!==s&&r(Ci(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Fg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function I6(t="$style"){{const e=qi();if(!e)return nn;const n=e.type.__cssModules;if(!n)return nn;const r=n[t];return r||nn}}const JP=new WeakMap,ZP=new WeakMap,mm=Symbol("_moveCb"),uE=Symbol("_enterCb"),ex={name:"TransitionGroup",props:An({},r6,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=qi(),r=E1();let i,s;return Mg(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!P6(i[0].el,n.vnode.el,o))return;i.forEach(O6),i.forEach(A6);const a=i.filter(k6);YP(),a.forEach(l=>{const u=l.el,c=u.style;Ys(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[mm]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[mm]=null,Ro(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Et(t),a=zP(o);let l=o.tag||we;i=s,s=e.default?Rg(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&rl(c,Ku(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];rl(c,Ku(c,a,r,n)),JP.set(c,c.el.getBoundingClientRect())}return $(l,null,s)}}},C6=t=>delete t.mode;ex.props;const tx=ex;function O6(t){const e=t.el;e[mm]&&e[mm](),e[uE]&&e[uE]()}function A6(t){ZP.set(t,t.el.getBoundingClientRect())}function k6(t){const e=JP.get(t),n=ZP.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function P6(t,e,n){const r=t.cloneNode(),i=t[zu];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=GP(r);return s.removeChild(r),o}const la=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?n=>Cu(e,n):e};function x6(t){t.target.composing=!0}function cE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Wi=Symbol("_assign"),gm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Wi]=la(i);const s=r||i.props&&i.props.type==="number";Qs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=qd(a)),t[Wi](a)}),n&&Qs(t,"change",()=>{t.value=t.value.trim()}),e||(Qs(t,"compositionstart",x6),Qs(t,"compositionend",cE),Qs(t,"change",cE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Wi]=la(s),t.composing)return;const o=i||t.type==="number"?qd(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},D1={deep:!0,created(t,e,n){t[Wi]=la(n),Qs(t,"change",()=>{const r=t._modelValue,i=Gu(t),s=t.checked,o=t[Wi];if(qe(r)){const a=Sg(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Cl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(rx(t,s))})},mounted:dE,beforeUpdate(t,e,n){t[Wi]=la(n),dE(t,e,n)}};function dE(t,{value:e,oldValue:n},r){t._modelValue=e,qe(e)?t.checked=Sg(e,r.props.value)>-1:Cl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=oa(e,rx(t,!0)))}const R1={created(t,{value:e},n){t.checked=oa(e,n.props.value),t[Wi]=la(n),Qs(t,"change",()=>{t[Wi](Gu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Wi]=la(r),e!==n&&(t.checked=oa(e,r.props.value))}},nx={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Cl(e);Qs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?qd(Gu(o)):Gu(o));t[Wi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,qn(()=>{t._assigning=!1})}),t[Wi]=la(r)},mounted(t,{value:e,modifiers:{number:n}}){hE(t,e,n)},beforeUpdate(t,e,n){t[Wi]=la(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||hE(t,e,n)}};function hE(t,e,n){const r=t.multiple,i=qe(e);if(!(r&&!i&&!Cl(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=Gu(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.includes(n?qd(l):l):a.selected=Sg(e,l)>-1}else a.selected=e.has(l);else if(oa(Gu(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Gu(t){return"_value"in t?t._value:t.value}function rx(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ix={created(t,e,n){Zf(t,e,n,null,"created")},mounted(t,e,n){Zf(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Zf(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Zf(t,e,n,r,"updated")}};function sx(t,e){switch(t){case"SELECT":return nx;case"TEXTAREA":return gm;default:switch(e){case"checkbox":return D1;case"radio":return R1;default:return gm}}}function Zf(t,e,n,r,i){const o=sx(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function D6(){gm.getSSRProps=({value:t})=>({value:t}),R1.getSSRProps=({value:t},e)=>{if(e.props&&oa(e.props.value,t))return{checked:!0}},D1.getSSRProps=({value:t},e)=>{if(qe(t)){if(e.props&&Sg(t,e.props.value)>-1)return{checked:!0}}else if(Cl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},ix.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=sx(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const R6=["ctrl","shift","alt","meta"],N6={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>R6.some(n=>t[`${n}Key`]&&!e.includes(n))},Tt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=N6[e[o]];if(a&&a(i,e))return}return t(i,...s)})},M6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ht=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Ci(i.key);if(e.some(o=>o===s||M6[o]===s))return t(i)})},ox=An({patchProp:_6},n6);let Sd,fE=!1;function ax(){return Sd||(Sd=AP(ox))}function lx(){return Sd=fE?Sd:kP(ox),fE=!0,Sd}const ll=(...t)=>{ax().render(...t)},ux=(...t)=>{lx().hydrate(...t)},cx=(...t)=>{const e=ax().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=hx(r);if(!i)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,dx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},$6=(...t)=>{const e=lx().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=hx(r);if(i)return n(i,!0,dx(i))},e};function dx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function hx(t){return kn(t)?document.querySelector(t):t}let pE=!1;const L6=()=>{pE||(pE=!0,D6(),a6())};/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const F6=()=>{},V6=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:lP,BaseTransitionPropsValidators:I1,Comment:Wr,DeprecationTypes:ZF,EffectScope:a1,ErrorCodes:A4,ErrorTypeStrings:zF,Fragment:we,KeepAlive:J4,ReactiveEffect:Hu,Static:za,Suspense:j4,Teleport:P1,Text:il,TrackOpTypes:I4,Transition:Xi,TransitionGroup:tx,TriggerOpTypes:C4,VueElement:Fg,assertNumber:O4,callWithAsyncErrorHandling:Pi,callWithErrorHandling:so,camelize:ri,capitalize:Jh,cloneVNode:Vs,compatUtils:JF,compile:F6,computed:ee,createApp:cx,createBlock:ne,createCommentVNode:q,createElementBlock:F,createElementVNode:g,createHydrationRenderer:kP,createPropsRestProxy:hF,createRenderer:AP,createSSRApp:$6,createSlots:rr,createStaticVNode:LP,createTextVNode:N,createVNode:$,customRef:zk,defineAsyncComponent:X4,defineComponent:Ce,defineCustomElement:QP,defineEmits:rF,defineExpose:iF,defineModel:aF,defineOptions:sF,defineProps:nF,defineSSRCustomElement:S6,defineSlots:oF,devtools:GF,effect:q3,effectScope:Eg,getCurrentInstance:qi,getCurrentScope:Zh,getTransitionRawChildren:Rg,guardReactiveProps:lr,h:al,handleError:kl,hasInjectionContext:TP,hydrate:ux,initCustomFormatter:HF,initDirectivesForSSR:L6,inject:ii,isMemoSame:HP,isProxy:h1,isReactive:Ds,isReadonly:nl,isRef:hn,isRuntimeOnly:VF,isShallow:Xd,isVNode:aa,markRaw:ef,mergeDefaults:cF,mergeModels:dF,mergeProps:ae,nextTick:qn,normalizeClass:Pe,normalizeProps:Nn,normalizeStyle:dn,onActivated:cP,onBeforeMount:fP,onBeforeUnmount:sf,onBeforeUpdate:C1,onDeactivated:dP,onErrorCaptured:vP,onMounted:jt,onRenderTracked:gP,onRenderTriggered:mP,onScopeDispose:Ig,onServerPrefetch:pP,onUnmounted:Hs,onUpdated:Mg,openBlock:I,popScopeId:y1,provide:xu,proxyRefs:m1,pushScopeId:v1,queuePostFlushCb:lm,reactive:Mn,readonly:Ag,ref:oe,registerRuntimeCompiler:FF,render:ll,renderList:nt,renderSlot:fe,resolveComponent:_n,resolveDirective:tf,resolveDynamicComponent:bn,resolveFilter:QF,resolveTransitionHooks:Ku,setBlockTracking:Xb,setDevtoolsHook:YF,setTransitionHooks:rl,shallowReactive:d1,shallowReadonly:g4,shallowRef:Wk,ssrContextKey:rP,ssrUtils:XF,stop:X3,toDisplayString:Me,toHandlerKey:bd,toHandlers:eF,toRaw:Et,toRef:Wu,toRefs:Gk,toValue:w4,transformVNodeArgs:RF,triggerRef:b4,unref:E,useAttrs:uF,useCssModule:I6,useCssVars:l6,useModel:jF,useSSRContext:iP,useSlots:fa,useTransitionState:E1,vModelCheckbox:D1,vModelDynamic:ix,vModelRadio:R1,vModelSelect:nx,vModelText:gm,vShow:Rs,version:WP,warn:KF,watch:Ot,watchEffect:S1,watchPostEffect:sP,watchSyncEffect:oP,withAsyncContext:fF,withCtx:j,withDefaults:lF,withDirectives:vi,withKeys:ht,withMemo:WF,withModifiers:Tt,withScopeId:M4},Symbol.toStringTag,{value:"Module"}));function U6(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const vm=U6();let mE=0;const B6=()=>{const t=mE;return mE+=1,t},fx=()=>(t,e)=>{const n={...t,id:B6(),group:t.group||""};return vm.emit("notify",{notification:n,timeout:e}),()=>vm.emit("close",n.id)},px="context",i0=Ce({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=ii(px),i=Mn({notifications:[],timeouts:{}}),s=ee(()=>i.notifications.filter(h=>h.group===r.group)),o=ee(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(h,f)=>{i.timeouts[h]=window.setTimeout(()=>{f!==-1&&l(h)},Math.max(f||3e3,0))},l=h=>{i.notifications.splice(i.notifications.findIndex(f=>f.id===h),1),clearTimeout(i.timeouts[h])},u=({notification:h,timeout:f})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(h),a(h.id,f))},c=h=>{e("close"),l(h)},d=(h,f,p)=>{f?clearTimeout(i.timeouts[h]):a(h,p)};return jt(()=>{vm.on("notify",u),vm.on("close",l)}),(h,f)=>(I(),ne(tx,{"enter-active-class":E(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:j(()=>[fe(h.$slots,"default",{notifications:E(o),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),gE=Ce({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return xu(px,{group:e.group,position:e.position}),(n,r)=>fe(n.$slots,"default",{group:t.group})}});function j6(t){t.config.globalProperties.$notify=fx(),t.component("Notification",i0),t.component("NotificationGroup",gE),t.component("notification",i0),t.component("notificationGroup",gE)}const H6={install:j6},W6=fx(),K6={class:"px-4 py-2 -mx-3"},z6={class:"mx-3"},G6={class:"font-semibold text-white"},Y6={class:"text-sm text-gray-100"},hy=Ce({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(I(),ne(E(i0),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:j(({notifications:r})=>[(I(!0),F(we,null,nt(r,i=>(I(),F("div",{key:i.id},[i.type===e.type?(I(),F("div",{key:0,class:Pe("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[g("div",K6,[g("div",z6,[g("span",G6,Me(i.title),1),g("p",Y6,Me(i.text),1)])])],2)):q("",!0)]))),128))]),_:1}))}}),q6={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},X6={class:"w-full max-w-sm"},Q6=Ce({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=_n("NotificationGroup",!0);return I(),ne(r,null,{default:j(()=>[g("div",q6,[g("div",X6,[$(hy,{type:"error",color:"bg-red-800"}),$(hy,{type:"warning",color:"bg-yellow-800"}),$(hy,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ru=typeof document<"u";function J6(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const tn=Object.assign;function fy(t,e){const n={};for(const r in e){const i=e[r];n[r]=ms(i)?i.map(t):t(i)}return n}const Ed=()=>{},ms=Array.isArray,mx=/#/g,Z6=/&/g,e5=/\//g,t5=/=/g,n5=/\?/g,gx=/\+/g,r5=/%5B/g,i5=/%5D/g,vx=/%5E/g,s5=/%60/g,yx=/%7B/g,o5=/%7C/g,bx=/%7D/g,a5=/%20/g;function N1(t){return encodeURI(""+t).replace(o5,"|").replace(r5,"[").replace(i5,"]")}function l5(t){return N1(t).replace(yx,"{").replace(bx,"}").replace(vx,"^")}function s0(t){return N1(t).replace(gx,"%2B").replace(a5,"+").replace(mx,"%23").replace(Z6,"%26").replace(s5,"`").replace(yx,"{").replace(bx,"}").replace(vx,"^")}function u5(t){return s0(t).replace(t5,"%3D")}function c5(t){return N1(t).replace(mx,"%23").replace(n5,"%3F")}function d5(t){return t==null?"":c5(t).replace(e5,"%2F")}function rh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const h5=/\/$/,f5=t=>t.replace(h5,"");function py(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=v5(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:rh(o)}}function p5(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function vE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function m5(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Yu(e.matched[r],n.matched[i])&&wx(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Yu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function wx(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!g5(t[n],e[n]))return!1;return!0}function g5(t,e){return ms(t)?yE(t,e):ms(e)?yE(e,t):t===e}function yE(t,e){return ms(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function v5(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var ih;(function(t){t.pop="pop",t.push="push"})(ih||(ih={}));var Id;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Id||(Id={}));function y5(t){if(!t)if(ru){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),f5(t)}const b5=/^[^#]+#/;function w5(t,e){return t.replace(b5,"#")+e}function _5(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Vg=()=>({left:window.scrollX,top:window.scrollY});function T5(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=_5(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function bE(t,e){return(history.state?history.state.position-e:-1)+t}const o0=new Map;function S5(t,e){o0.set(t,e)}function E5(t){const e=o0.get(t);return o0.delete(t),e}let I5=()=>location.protocol+"//"+location.host;function _x(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),vE(l,"")}return vE(n,t)+r+i}function C5(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=_x(t,location),p=n.value,m=e.value;let v=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}v=m?h.position-m.position:0}else r(f);i.forEach(y=>{y(n.value,p,{delta:v,type:ih.pop,direction:v?v>0?Id.forward:Id.back:Id.unknown})})};function l(){o=n.value}function u(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(tn({},h.state,{scroll:Vg()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function wE(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Vg():null}}function O5(t){const{history:e,location:n}=window,r={value:_x(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:I5()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function o(l,u){const c=tn({},e.state,wE(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=tn({},i.value,e.state,{forward:l,scroll:Vg()});s(c.current,c,!0);const d=tn({},wE(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function A5(t){t=y5(t);const e=O5(t),n=C5(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=tn({location:"",base:t,go:r,createHref:w5.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function k5(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),A5(t)}function P5(t){return typeof t=="string"||t&&typeof t=="object"}function Tx(t){return typeof t=="string"||typeof t=="symbol"}const Oo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sx=Symbol("");var _E;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(_E||(_E={}));function qu(t,e){return tn(new Error,{type:t,[Sx]:!0},e)}function Gs(t,e){return t instanceof Error&&Sx in t&&(e==null||!!(t.type&e))}const TE="[^/]+?",x5={sensitive:!1,strict:!1,start:!0,end:!0},D5=/[.+*?^${}()[\]/\\]/g;function R5(t,e){const n=tn({},x5,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(D5,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:v,regexp:y}=h;s.push({name:p,repeatable:m,optional:v});const b=y||TE;if(b!==TE){f+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+w.message)}}let _=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(_=v&&u.length<2?`(?:/${_})`:"/"+_),v&&(_+="?"),i+=_,f+=20,v&&(f+=-8),m&&(f+=-20),b===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:v}=f,y=p in u?u[p]:"";if(ms(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=ms(y)?y.join("/"):y;if(!b)if(v)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function N5(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function M5(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=N5(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(SE(r))return 1;if(SE(i))return-1}return i.length-r.length}function SE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $5={type:0,value:""},L5=/[a-zA-Z0-9_]/;function F5(t){if(!t)return[[]];if(t==="/")return[[$5]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:L5.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function V5(t,e,n){const r=R5(F5(t.path),n),i=tn(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function U5(t,e){const n=[],r=new Map;e=CE({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,h){const f=!h,p=B5(c);p.aliasOf=h&&h.record;const m=CE(e,c),v=[p];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const w of _)v.push(tn({},p,{components:h?h.record.components:p.components,path:w,aliasOf:h?h.record:p}))}let y,b;for(const _ of v){const{path:w}=_;if(d&&w[0]!=="/"){const T=d.record.path,S=T[T.length-1]==="/"?"":"/";_.path=d.record.path+(w&&S+w)}if(y=V5(_,d,m),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),f&&c.name&&!IE(y)&&o(c.name)),p.children){const T=p.children;for(let S=0;S<T.length;S++)s(T[S],y,h&&h.children[S])}h=h||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return b?()=>{o(b)}:Ed}function o(c){if(Tx(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&M5(c,n[d])>=0&&(c.record.path!==n[d].record.path||!Ex(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!IE(c)&&r.set(c.record.name,c)}function u(c,d){let h,f={},p,m;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw qu(1,{location:c});m=h.record.name,f=tn(EE(d.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),c.params&&EE(c.params,h.keys.map(b=>b.name))),p=h.stringify(f)}else if(c.path!=null)p=c.path,h=n.find(b=>b.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?r.get(d.name):n.find(b=>b.re.test(d.path)),!h)throw qu(1,{location:c,currentLocation:d});m=h.record.name,f=tn({},d.params,c.params),p=h.stringify(f)}const v=[];let y=h;for(;y;)v.unshift(y.record),y=y.parent;return{name:m,path:p,params:f,matched:v,meta:H5(v)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function EE(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function B5(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:j5(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function j5(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function IE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function H5(t){return t.reduce((e,n)=>tn(e,n.meta),{})}function CE(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ex(t,e){return e.children.some(n=>n===t||Ex(t,n))}function W5(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(gx," "),o=s.indexOf("="),a=rh(o<0?s:s.slice(0,o)),l=o<0?null:rh(s.slice(o+1));if(a in e){let u=e[a];ms(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function OE(t){let e="";for(let n in t){const r=t[n];if(n=u5(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ms(r)?r.map(s=>s&&s0(s)):[r&&s0(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function K5(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ms(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const z5=Symbol(""),AE=Symbol(""),Ug=Symbol(""),M1=Symbol(""),a0=Symbol("");function $c(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Vo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(qu(4,{from:n,to:e})):h instanceof Error?l(h):P5(h)?l(qu(2,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function my(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(G5(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Vo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=J6(c)?c.default:c;o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Vo(f,n,r,o,a,i)()}))}}return s}function G5(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kE(t){const e=ii(Ug),n=ii(M1),r=ee(()=>e.resolve(E(t.to))),i=ee(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Yu.bind(null,c));if(h>-1)return h;const f=PE(l[u-2]);return u>1&&PE(c)===f&&d[d.length-1].path!==f?d.findIndex(Yu.bind(null,l[u-2])):h}),s=ee(()=>i.value>-1&&Q5(n.params,r.value.params)),o=ee(()=>i.value>-1&&i.value===n.matched.length-1&&wx(n.params,r.value.params));function a(l={}){return X5(l)?e[E(t.replace)?"replace":"push"](E(t.to)).catch(Ed):Promise.resolve()}return{route:r,href:ee(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const Y5=Ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:kE,setup(t,{slots:e}){const n=Mn(kE(t)),{options:r}=ii(Ug),i=ee(()=>({[xE(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[xE(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:al("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),q5=Y5;function X5(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Q5(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ms(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function PE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const xE=(t,e,n)=>t??e??n,J5=Ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ii(a0),i=ee(()=>t.route||r.value),s=ii(AE,0),o=ee(()=>{let u=E(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ee(()=>i.value.matched[o.value]);xu(AE,ee(()=>o.value+1)),xu(z5,a),xu(a0,i);const l=oe();return Ot(()=>[l.value,a.value,t.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Yu(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return DE(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,v=al(h,tn({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return DE(n.default,{Component:v,route:u})||v}}});function DE(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Ix=J5;function Z5(t){const e=U5(t.routes,t),n=t.parseQuery||W5,r=t.stringifyQuery||OE,i=t.history,s=$c(),o=$c(),a=$c(),l=Wk(Oo);let u=Oo;ru&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=fy.bind(null,Q=>""+Q),d=fy.bind(null,d5),h=fy.bind(null,rh);function f(Q,ue){let Z,pe;return Tx(Q)?(Z=e.getRecordMatcher(Q),pe=ue):pe=Q,e.addRoute(pe,Z)}function p(Q){const ue=e.getRecordMatcher(Q);ue&&e.removeRoute(ue)}function m(){return e.getRoutes().map(Q=>Q.record)}function v(Q){return!!e.getRecordMatcher(Q)}function y(Q,ue){if(ue=tn({},ue||l.value),typeof Q=="string"){const U=py(n,Q,ue.path),G=e.resolve({path:U.path},ue),ce=i.createHref(U.fullPath);return tn(U,G,{params:h(G.params),hash:rh(U.hash),redirectedFrom:void 0,href:ce})}let Z;if(Q.path!=null)Z=tn({},Q,{path:py(n,Q.path,ue.path).path});else{const U=tn({},Q.params);for(const G in U)U[G]==null&&delete U[G];Z=tn({},Q,{params:d(U)}),ue.params=d(ue.params)}const pe=e.resolve(Z,ue),_e=Q.hash||"";pe.params=c(h(pe.params));const le=p5(r,tn({},Q,{hash:l5(_e),path:pe.path})),x=i.createHref(le);return tn({fullPath:le,hash:_e,query:r===OE?K5(Q.query):Q.query||{}},pe,{redirectedFrom:void 0,href:x})}function b(Q){return typeof Q=="string"?py(n,Q,l.value.path):tn({},Q)}function _(Q,ue){if(u!==Q)return qu(8,{from:ue,to:Q})}function w(Q){return O(Q)}function T(Q){return w(tn(b(Q),{replace:!0}))}function S(Q){const ue=Q.matched[Q.matched.length-1];if(ue&&ue.redirect){const{redirect:Z}=ue;let pe=typeof Z=="function"?Z(Q):Z;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=b(pe):{path:pe},pe.params={}),tn({query:Q.query,hash:Q.hash,params:pe.path!=null?{}:Q.params},pe)}}function O(Q,ue){const Z=u=y(Q),pe=l.value,_e=Q.state,le=Q.force,x=Q.replace===!0,U=S(Z);if(U)return O(tn(b(U),{state:typeof U=="object"?tn({},_e,U.state):_e,force:le,replace:x}),ue||Z);const G=Z;G.redirectedFrom=ue;let ce;return!le&&m5(r,pe,Z)&&(ce=qu(16,{to:G,from:pe}),re(pe,pe,!0,!1)),(ce?Promise.resolve(ce):C(G,pe)).catch(de=>Gs(de)?Gs(de,2)?de:k(de):X(de,G,pe)).then(de=>{if(de){if(Gs(de,2))return O(tn({replace:x},b(de.to),{state:typeof de.to=="object"?tn({},_e,de.to.state):_e,force:le}),ue||G)}else de=V(G,pe,!0,x,_e);return M(G,pe,de),de})}function R(Q,ue){const Z=_(Q,ue);return Z?Promise.reject(Z):Promise.resolve()}function D(Q){const ue=ye.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(Q):Q()}function C(Q,ue){let Z;const[pe,_e,le]=eV(Q,ue);Z=my(pe.reverse(),"beforeRouteLeave",Q,ue);for(const U of pe)U.leaveGuards.forEach(G=>{Z.push(Vo(G,Q,ue))});const x=R.bind(null,Q,ue);return Z.push(x),z(Z).then(()=>{Z=[];for(const U of s.list())Z.push(Vo(U,Q,ue));return Z.push(x),z(Z)}).then(()=>{Z=my(_e,"beforeRouteUpdate",Q,ue);for(const U of _e)U.updateGuards.forEach(G=>{Z.push(Vo(G,Q,ue))});return Z.push(x),z(Z)}).then(()=>{Z=[];for(const U of le)if(U.beforeEnter)if(ms(U.beforeEnter))for(const G of U.beforeEnter)Z.push(Vo(G,Q,ue));else Z.push(Vo(U.beforeEnter,Q,ue));return Z.push(x),z(Z)}).then(()=>(Q.matched.forEach(U=>U.enterCallbacks={}),Z=my(le,"beforeRouteEnter",Q,ue,D),Z.push(x),z(Z))).then(()=>{Z=[];for(const U of o.list())Z.push(Vo(U,Q,ue));return Z.push(x),z(Z)}).catch(U=>Gs(U,8)?U:Promise.reject(U))}function M(Q,ue,Z){a.list().forEach(pe=>D(()=>pe(Q,ue,Z)))}function V(Q,ue,Z,pe,_e){const le=_(Q,ue);if(le)return le;const x=ue===Oo,U=ru?history.state:{};Z&&(pe||x?i.replace(Q.fullPath,tn({scroll:x&&U&&U.scroll},_e)):i.push(Q.fullPath,_e)),l.value=Q,re(Q,ue,Z,x),k()}let W;function L(){W||(W=i.listen((Q,ue,Z)=>{if(!se.listening)return;const pe=y(Q),_e=S(pe);if(_e){O(tn(_e,{replace:!0}),pe).catch(Ed);return}u=pe;const le=l.value;ru&&S5(bE(le.fullPath,Z.delta),Vg()),C(pe,le).catch(x=>Gs(x,12)?x:Gs(x,2)?(O(x.to,pe).then(U=>{Gs(U,20)&&!Z.delta&&Z.type===ih.pop&&i.go(-1,!1)}).catch(Ed),Promise.reject()):(Z.delta&&i.go(-Z.delta,!1),X(x,pe,le))).then(x=>{x=x||V(pe,le,!1),x&&(Z.delta&&!Gs(x,8)?i.go(-Z.delta,!1):Z.type===ih.pop&&Gs(x,20)&&i.go(-1,!1)),M(pe,le,x)}).catch(Ed)}))}let A=$c(),P=$c(),K;function X(Q,ue,Z){k(Q);const pe=P.list();return pe.length?pe.forEach(_e=>_e(Q,ue,Z)):console.error(Q),Promise.reject(Q)}function B(){return K&&l.value!==Oo?Promise.resolve():new Promise((Q,ue)=>{A.add([Q,ue])})}function k(Q){return K||(K=!Q,L(),A.list().forEach(([ue,Z])=>Q?Z(Q):ue()),A.reset()),Q}function re(Q,ue,Z,pe){const{scrollBehavior:_e}=t;if(!ru||!_e)return Promise.resolve();const le=!Z&&E5(bE(Q.fullPath,0))||(pe||!Z)&&history.state&&history.state.scroll||null;return qn().then(()=>_e(Q,ue,le)).then(x=>x&&T5(x)).catch(x=>X(x,Q,ue))}const ie=Q=>i.go(Q);let ve;const ye=new Set,se={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:v,getRoutes:m,resolve:y,options:t,push:w,replace:T,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:P.add,isReady:B,install(Q){const ue=this;Q.component("RouterLink",q5),Q.component("RouterView",Ix),Q.config.globalProperties.$router=ue,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>E(l)}),ru&&!ve&&l.value===Oo&&(ve=!0,w(i.location).catch(_e=>{}));const Z={};for(const _e in Oo)Object.defineProperty(Z,_e,{get:()=>l.value[_e],enumerable:!0});Q.provide(Ug,ue),Q.provide(M1,d1(Z)),Q.provide(a0,l);const pe=Q.unmount;ye.add(Q),Q.unmount=function(){ye.delete(Q),ye.size<1&&(u=Oo,W&&W(),W=null,l.value=Oo,ve=!1,K=!1),pe()}}};function z(Q){return Q.reduce((ue,Z)=>ue.then(()=>D(Z)),Promise.resolve())}return se}function eV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Yu(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Yu(u,l))||i.push(l))}return[n,r,i]}function $1(){return ii(Ug)}function Bg(){return ii(M1)}const tV=Ce({__name:"App",setup(t){return(e,n)=>(I(),F(we,null,[$(E(Ix)),$(Q6)],64))}});var RE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue=function(t,e){if(!t)throw wc(e)},wc=function(t){return new Error("Firebase Database ("+Cx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ox(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new rV;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ax=function(t){const e=Ox(t);return jg.encodeByteArray(e,!0)},ym=function(t){return Ax(t).replace(/\./g,"")},bm=function(t){try{return jg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){return kx(void 0,t)}function kx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!sV(n)||(t[n]=kx(t[n],e[n]));return t}function sV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=()=>Px().__FIREBASE_DEFAULTS__,aV=()=>{if(typeof process>"u"||typeof RE>"u")return;const t=RE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bm(t[1]);return e&&JSON.parse(e)},Hg=()=>{try{return oV()||aV()||lV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xx=t=>{var e,n;return(n=(e=Hg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Dx=t=>{const e=xx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rx=()=>{var t;return(t=Hg())===null||t===void 0?void 0:t.config},Nx=t=>{var e;return(e=Hg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ym(JSON.stringify(n)),ym(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function uV(){var t;const e=(t=Hg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $x(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cV(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fx(){return Cx.NODE_ADMIN===!0}function Wg(){try{return typeof indexedDB=="object"}catch{return!1}}function Vx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function dV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hV,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $i(i,a,r)}}function fV(t,e){return t.replace(pV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return JSON.parse(t)}function kr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=sh(bm(s[0])||""),n=sh(bm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},mV=function(t){const e=Ux(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gV=function(t){const e=Ux(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function l0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function oh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(NE(s)&&NE(o)){if(!oh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function NE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function id(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function yV(t,e){const n=new bV(t,e);return n.subscribe.bind(n)}class bV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gy),i.error===void 0&&(i.error=gy),i.complete===void 0&&(i.complete=gy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gy(){}function _V(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ue(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=1e3,IV=2,CV=4*60*60*1e3,OV=.5;function u0(t,e=EV,n=IV){const r=e*Math.pow(n,t),i=Math.round(OV*r*(Math.random()-.5)*2);return Math.min(CV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ul;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PV(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kV(t){return t===Oa?void 0:t}function PV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const DV={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},RV=Bt.INFO,NV={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},MV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tc{constructor(e){this.name=e,this._logLevel=RV,this._logHandler=MV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const $V=(t,e)=>e.some(n=>t instanceof n);let ME,$E;function LV(){return ME||(ME=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FV(){return $E||($E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bx=new WeakMap,c0=new WeakMap,jx=new WeakMap,vy=new WeakMap,F1=new WeakMap;function VV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Bx.set(n,t)}).catch(()=>{}),F1.set(e,t),e}function UV(t){if(c0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});c0.set(t,e)}let d0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BV(t){d0=t(d0)}function jV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yy(this),e,...n);return jx.set(r,e.sort?e.sort():[e]),Qo(r)}:FV().includes(t)?function(...e){return t.apply(yy(this),e),Qo(Bx.get(this))}:function(...e){return Qo(t.apply(yy(this),e))}}function HV(t){return typeof t=="function"?jV(t):(t instanceof IDBTransaction&&UV(t),$V(t,LV())?new Proxy(t,d0):t)}function Qo(t){if(t instanceof IDBRequest)return VV(t);if(vy.has(t))return vy.get(t);const e=HV(t);return e!==t&&(vy.set(t,e),F1.set(e,t)),e}const yy=t=>F1.get(t);function WV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Qo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qo(o.result),l.oldVersion,l.newVersion,Qo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const KV=["get","getKey","getAll","getAllKeys","count"],zV=["put","add","delete","clear"],by=new Map;function LE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(by.get(e))return by.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return by.set(e,s),s}BV(t=>({...t,get:(e,n,r)=>LE(e,n)||t.get(e,n,r),has:(e,n)=>!!LE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h0="@firebase/app",FE="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Tc("@firebase/app"),qV="@firebase/app-compat",XV="@firebase/analytics-compat",QV="@firebase/analytics",JV="@firebase/app-check-compat",ZV="@firebase/app-check",eU="@firebase/auth",tU="@firebase/auth-compat",nU="@firebase/database",rU="@firebase/database-compat",iU="@firebase/functions",sU="@firebase/functions-compat",oU="@firebase/installations",aU="@firebase/installations-compat",lU="@firebase/messaging",uU="@firebase/messaging-compat",cU="@firebase/performance",dU="@firebase/performance-compat",hU="@firebase/remote-config",fU="@firebase/remote-config-compat",pU="@firebase/storage",mU="@firebase/storage-compat",gU="@firebase/firestore",vU="@firebase/firestore-compat",yU="firebase",bU="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="[DEFAULT]",wU={[h0]:"fire-core",[qV]:"fire-core-compat",[QV]:"fire-analytics",[XV]:"fire-analytics-compat",[ZV]:"fire-app-check",[JV]:"fire-app-check-compat",[eU]:"fire-auth",[tU]:"fire-auth-compat",[nU]:"fire-rtdb",[rU]:"fire-rtdb-compat",[iU]:"fire-fn",[sU]:"fire-fn-compat",[oU]:"fire-iid",[aU]:"fire-iid-compat",[lU]:"fire-fcm",[uU]:"fire-fcm-compat",[cU]:"fire-perf",[dU]:"fire-perf-compat",[hU]:"fire-rc",[fU]:"fire-rc-compat",[pU]:"fire-gcs",[mU]:"fire-gcs-compat",[gU]:"fire-fst",[vU]:"fire-fst-compat","fire-js":"fire-js",[yU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map,p0=new Map;function _U(t,e){try{t.container.addComponent(e)}catch(n){cl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _i(t){const e=t.name;if(p0.has(e))return cl.debug(`There were multiple attempts to register component ${e}.`),!1;p0.set(e,t);for(const n of _m.values())_U(n,t);return!0}function Ws(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jo=new pa("app","Firebase",TU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=bU;function Hx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:f0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=Rx()),!n)throw Jo.create("no-options");const s=_m.get(i);if(s){if(oh(n,s.options)&&oh(r,s.config))return s;throw Jo.create("duplicate-app",{appName:i})}const o=new xV(i);for(const l of p0.values())o.addComponent(l);const a=new SU(n,r,o);return _m.set(i,a),a}function Sc(t=f0){const e=_m.get(t);if(!e&&t===f0&&Rx())return Hx();if(!e)throw Jo.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let i=(r=wU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cl.warn(a.join(" "));return}_i(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="firebase-heartbeat-database",IU=1,ah="firebase-heartbeat-store";let wy=null;function Wx(){return wy||(wy=WV(EU,IU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ah)}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),wy}async function CU(t){try{return await(await Wx()).transaction(ah).objectStore(ah).get(Kx(t))}catch(e){if(e instanceof $i)cl.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cl.warn(n.message)}}}async function VE(t,e){try{const r=(await Wx()).transaction(ah,"readwrite");await r.objectStore(ah).put(e,Kx(t)),await r.done}catch(n){if(n instanceof $i)cl.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cl.warn(r.message)}}}function Kx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=1024,AU=30*24*60*60*1e3;class kU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=UE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=AU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UE(),{heartbeatsToSend:n,unsentEntries:r}=PU(this._heartbeatsCache.heartbeats),i=ym(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function UE(){return new Date().toISOString().substring(0,10)}function PU(t,e=OU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wg()?Vx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await CU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BE(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){_i(new si("platform-logger",e=>new GV(e),"PRIVATE")),_i(new si("heartbeat",e=>new kU(e),"PRIVATE")),xr(h0,FE,t),xr(h0,FE,"esm2017"),xr("fire-js","")}DU("");const RU=(t,e)=>e.some(n=>t instanceof n);let jE,HE;function NU(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MU(){return HE||(HE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zx=new WeakMap,m0=new WeakMap,Gx=new WeakMap,_y=new WeakMap,V1=new WeakMap;function $U(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zx.set(n,t)}).catch(()=>{}),V1.set(e,t),e}function LU(t){if(m0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});m0.set(t,e)}let g0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return m0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FU(t){g0=t(g0)}function VU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ty(this),e,...n);return Gx.set(r,e.sort?e.sort():[e]),Zo(r)}:MU().includes(t)?function(...e){return t.apply(Ty(this),e),Zo(zx.get(this))}:function(...e){return Zo(t.apply(Ty(this),e))}}function UU(t){return typeof t=="function"?VU(t):(t instanceof IDBTransaction&&LU(t),RU(t,NU())?new Proxy(t,g0):t)}function Zo(t){if(t instanceof IDBRequest)return $U(t);if(_y.has(t))return _y.get(t);const e=UU(t);return e!==t&&(_y.set(t,e),V1.set(e,t)),e}const Ty=t=>V1.get(t);function BU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zo(o.result),l.oldVersion,l.newVersion,Zo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const jU=["get","getKey","getAll","getAllKeys","count"],HU=["put","add","delete","clear"],Sy=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sy.get(e))return Sy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Sy.set(e,s),s}FU(t=>({...t,get:(e,n,r)=>WE(e,n)||t.get(e,n,r),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));const Yx="@firebase/installations",U1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1e4,Xx=`w:${U1}`,Qx="FIS_v2",WU="https://firebaseinstallations.googleapis.com/v1",KU=60*60*1e3,zU="installations",GU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dl=new pa(zU,GU,YU);function Jx(t){return t instanceof $i&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx({projectId:t}){return`${WU}/projects/${t}/installations`}function eD(t){return{token:t.token,requestStatus:2,expiresIn:XU(t.expiresIn),creationTime:Date.now()}}async function tD(t,e){const r=(await e.json()).error;return dl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qU(t,{refreshToken:e}){const n=nD(t);return n.append("Authorization",QU(e)),n}async function rD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function XU(t){return Number(t.replace("s","000"))}function QU(t){return`${Qx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Zx(t),i=nD(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Qx,appId:t.appId,sdkVersion:Xx},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rD(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:eD(u.authToken)}}else throw await tD("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=/^[cdef][\w-]{21}$/,v0="";function t9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=n9(t);return e9.test(n)?n:v0}catch{return v0}}function n9(t){return ZU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Map;function oD(t,e){const n=zg(t);aD(n,e),r9(n,e)}function aD(t,e){const n=sD.get(t);if(n)for(const r of n)r(e)}function r9(t,e){const n=i9();n&&n.postMessage({key:t,fid:e}),s9()}let Fa=null;function i9(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=t=>{aD(t.data.key,t.data.fid)}),Fa}function s9(){sD.size===0&&Fa&&(Fa.close(),Fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="firebase-installations-database",a9=1,hl="firebase-installations-store";let Ey=null;function B1(){return Ey||(Ey=BU(o9,a9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hl)}}})),Ey}async function Tm(t,e){const n=zg(t),i=(await B1()).transaction(hl,"readwrite"),s=i.objectStore(hl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&oD(t,e.fid),e}async function lD(t){const e=zg(t),r=(await B1()).transaction(hl,"readwrite");await r.objectStore(hl).delete(e),await r.done}async function Gg(t,e){const n=zg(t),i=(await B1()).transaction(hl,"readwrite"),s=i.objectStore(hl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&oD(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(t){let e;const n=await Gg(t.appConfig,r=>{const i=l9(r),s=u9(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===v0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function l9(t){const e=t||{fid:t9(),registrationStatus:0};return uD(e)}function u9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(dl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=c9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:d9(t)}:{installationEntry:e}}async function c9(t,e){try{const n=await JU(t,e);return Tm(t.appConfig,n)}catch(n){throw Jx(n)&&n.customData.serverCode===409?await lD(t.appConfig):await Tm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function d9(t){let e=await KE(t.appConfig);for(;e.registrationStatus===1;)await iD(100),e=await KE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await j1(t);return r||n}return e}function KE(t){return Gg(t,e=>{if(!e)throw dl.create("installation-not-found");return uD(e)})}function uD(t){return h9(t)?{fid:t.fid,registrationStatus:0}:t}function h9(t){return t.registrationStatus===1&&t.registrationTime+qx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9({appConfig:t,heartbeatServiceProvider:e},n){const r=p9(t,n),i=qU(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Xx,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rD(()=>fetch(r,a));if(l.ok){const u=await l.json();return eD(u)}else throw await tD("Generate Auth Token",l)}function p9(t,{fid:e}){return`${Zx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(t,e=!1){let n;const r=await Gg(t.appConfig,s=>{if(!cD(s))throw dl.create("not-registered");const o=s.authToken;if(!e&&v9(o))return s;if(o.requestStatus===1)return n=m9(t,e),s;{if(!navigator.onLine)throw dl.create("app-offline");const a=b9(s);return n=g9(t,a),a}});return n?await n:r.authToken}async function m9(t,e){let n=await zE(t.appConfig);for(;n.authToken.requestStatus===1;)await iD(100),n=await zE(t.appConfig);const r=n.authToken;return r.requestStatus===0?H1(t,e):r}function zE(t){return Gg(t,e=>{if(!cD(e))throw dl.create("not-registered");const n=e.authToken;return w9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function g9(t,e){try{const n=await f9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Tm(t.appConfig,r),n}catch(n){if(Jx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lD(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tm(t.appConfig,r)}throw n}}function cD(t){return t!==void 0&&t.registrationStatus===2}function v9(t){return t.requestStatus===2&&!y9(t)}function y9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+KU}function b9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function w9(t){return t.requestStatus===1&&t.requestTime+qx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t){const e=t,{installationEntry:n,registrationPromise:r}=await j1(e);return r?r.catch(console.error):H1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e=!1){const n=t;return await S9(n),(await H1(n,e)).token}async function S9(t){const{registrationPromise:e}=await j1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){if(!t||!t.options)throw Iy("App Configuration");if(!t.name)throw Iy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Iy(t){return dl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="installations",I9="installations-internal",C9=t=>{const e=t.getProvider("app").getImmediate(),n=E9(e),r=Ws(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},O9=t=>{const e=t.getProvider("app").getImmediate(),n=Ws(e,dD).getImmediate();return{getId:()=>_9(n),getToken:i=>T9(n,i)}};function A9(){_i(new si(dD,C9,"PUBLIC")),_i(new si(I9,O9,"PRIVATE"))}A9();xr(Yx,U1);xr(Yx,U1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="analytics",k9="firebase_id",P9="origin",x9=60*1e3,D9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",W1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Tc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xi=new pa("analytics","Analytics",R9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){if(!t.startsWith(W1)){const e=xi.create("invalid-gtag-resource",{gtagURL:t});return yi.warn(e.message),""}return t}function hD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function M9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function $9(t,e){const n=M9("firebase-js-sdk-policy",{createScriptURL:N9}),r=document.createElement("script"),i=`${W1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function L9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function F9(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await hD(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){yi.error(a)}t("config",i,s)}async function V9(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await hD(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){yi.error(s)}}function U9(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await V9(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await F9(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){yi.error(a)}}return i}function B9(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=U9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function j9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(W1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=30,W9=1e3;class K9{constructor(e={},n=W9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fD=new K9;function z9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function G9(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:z9(r)},s=D9.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Y9(t,e=fD,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Q9;return setTimeout(async()=>{a.abort()},n!==void 0?n:x9),pD({appId:r,apiKey:i,measurementId:s},o,a,e)}async function pD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fD){var s;const{appId:o,measurementId:a}=t;try{await q9(r,e)}catch(l){if(a)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await G9(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!X9(u)){if(i.deleteThrottleMetadata(o),a)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?u0(n,i.intervalMillis,H9):u0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),yi.debug(`Calling attemptFetch again in ${c} millis`),pD(t,d,r,i)}}function q9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function X9(t){if(!(t instanceof $i)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Q9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function J9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(){if(Wg())try{await Vx()}catch(t){return yi.warn(xi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return yi.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function e8(t,e,n,r,i,s,o){var a;const l=Y9(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>yi.error(f)),e.push(l);const u=Z9().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);j9(s)||$9(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[P9]="firebase",h.update=!0,d!=null&&(h[k9]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.app=e}_delete(){return delete Cd[this.app.options.appId],Promise.resolve()}}let Cd={},GE=[];const YE={};let Cy="dataLayer",n8="gtag",qE,mD,XE=!1;function r8(){const t=[];if($x()&&t.push("This is a browser extension environment."),dV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xi.create("invalid-analytics-context",{errorInfo:e});yi.warn(n.message)}}function i8(t,e,n){r8();const r=t.options.appId;if(!r)throw xi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xi.create("no-api-key");if(Cd[r]!=null)throw xi.create("already-exists",{id:r});if(!XE){L9(Cy);const{wrappedGtag:s,gtagCore:o}=B9(Cd,GE,YE,Cy,n8);mD=s,qE=o,XE=!0}return Cd[r]=e8(t,GE,YE,e,qE,Cy,n),new t8(t)}function s8(t=Sc()){t=Kt(t);const e=Ws(t,Sm);return e.isInitialized()?e.getImmediate():o8(t)}function o8(t,e={}){const n=Ws(t,Sm);if(n.isInitialized()){const i=n.getImmediate();if(oh(e,n.getOptions()))return i;throw xi.create("already-initialized")}return n.initialize({options:e})}function a8(t,e,n,r){t=Kt(t),J9(mD,Cd[t.app.options.appId],e,n,r).catch(i=>yi.error(i))}const QE="@firebase/analytics",JE="0.10.0";function l8(){_i(new si(Sm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return i8(r,i,n)},"PUBLIC")),_i(new si("analytics-internal",t,"PRIVATE")),xr(QE,JE),xr(QE,JE,"esm2017");function t(e){try{const n=e.getProvider(Sm).getImmediate();return{logEvent:(r,i,s)=>a8(n,r,i,s)}}catch(n){throw xi.create("interop-component-reg-failed",{reason:n})}}}l8();var u8="firebase",c8="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(u8,c8,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map,gD={activated:!1,tokenObservers:[]},d8={initialized:!1,enabled:!1};function dr(t){return y0.get(t)||Object.assign({},gD)}function h8(t,e){return y0.set(t,e),y0.get(t)}function Yg(){return d8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="https://content-firebaseappcheck.googleapis.com/v1",f8="exchangeRecaptchaV3Token",p8="exchangeDebugToken",ZE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},m8=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ul,await v8(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ul,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function v8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},mi=new pa("appCheck","AppCheck",y8);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function K1(t){if(!dr(t).activated)throw mi.create("use-before-activation",{appName:t.name})}function yD(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=ep(n)+"d:"),r&&(o+=ep(r)+"h:"),o+=ep(i)+"m:"+ep(s)+"s",o}function ep(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw mi.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw mi.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw mi.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function b8(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${vD}/projects/${n}/apps/${r}:${f8}?key=${i}`,body:{recaptcha_v3_token:e}}}function bD(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${vD}/projects/${n}/apps/${r}:${p8}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="firebase-app-check-database",_8=1,lh="firebase-app-check-store",wD="debug-token";let tp=null;function _D(){return tp||(tp=new Promise((t,e)=>{try{const n=indexedDB.open(w8,_8);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(mi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(lh,{keyPath:"compositeKey"})}}}catch(n){e(mi.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),tp)}function T8(t){return SD(ED(t))}function S8(t,e){return TD(ED(t),e)}function E8(t){return TD(wD,t)}function I8(){return SD(wD)}async function TD(t,e){const r=(await _D()).transaction(lh,"readwrite"),s=r.objectStore(lh).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(mi.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function SD(t){const n=(await _D()).transaction(lh,"readonly"),i=n.objectStore(lh).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(mi.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function ED(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Tc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t){if(Wg()){let e;try{e=await T8(t)}catch(n){uh.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Oy(t,e){return Wg()?S8(t,e).catch(n=>{uh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function O8(){let t;try{t=await I8()}catch{}if(t)return t;{const e=SV();return E8(e).catch(n=>uh.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return Yg().enabled}async function Y1(){const t=Yg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function A8(){const t=Px(),e=Yg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new ul;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(O8())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8={error:"UNKNOWN_ERROR"};function P8(t){return jg.encodeString(JSON.stringify(t),!1)}async function b0(t,e=!1){const n=t.app;K1(n);const r=dr(n);let i=r.token,s;if(i&&!du(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(du(l)?i=l:await Oy(n,void 0))}if(!e&&i&&du(i))return{token:i.token};let o=!1;if(G1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=z1(bD(n,await Y1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await Oy(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await dr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?uh.warn(l.message):uh.error(l),s=l}let a;return i?s?du(i)?a={token:i.token,internalError:s}:a=nI(s):(a={token:i.token},r.token=i,await Oy(n,i)):a=nI(s),o&&OD(n,a),a}async function x8(t){const e=t.app;K1(e);const{provider:n}=dr(e);if(G1()){const r=await Y1(),{token:i}=await z1(bD(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function ID(t,e,n,r){const{app:i}=t,s=dr(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&du(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),tI(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>tI(t))}function CD(t,e){const n=dr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function tI(t){const{app:e}=t,n=dr(e);let r=n.tokenRefresher;r||(r=D8(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function D8(t){const{app:e}=t;return new g8(async()=>{const n=dr(e);let r;if(n.token?r=await b0(t,!0):r=await b0(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=dr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZE.RETRIAL_MIN_WAIT,ZE.RETRIAL_MAX_WAIT)}function OD(t,e){const n=dr(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function du(t){return t.expireTimeMillis-Date.now()>0}function nI(t){return{token:P8(k8),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=dr(this.app);for(const n of e)CD(this.app,n.next);return Promise.resolve()}}function N8(t,e){return new R8(t,e)}function M8(t){return{getToken:e=>b0(t,e),getLimitedUseToken:()=>x8(t),addTokenListener:e=>ID(t,"INTERNAL",e),removeTokenListener:e=>CD(t.app,e)}}const $8="@firebase/app-check",L8="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="https://www.google.com/recaptcha/api.js";function V8(t,e){const n=new ul,r=dr(t);r.reCAPTCHAState={initialized:n};const i=U8(t),s=eI(!1);return s?rI(t,e,s,i,n):H8(()=>{const o=eI(!1);if(!o)throw new Error("no recaptcha");rI(t,e,o,i,n)}),n.promise}function rI(t,e,n,r,i){n.ready(()=>{j8(t,e,n,r),i.resolve(n)})}function U8(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function B8(t){K1(t);const n=await dr(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=dr(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function j8(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{dr(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{dr(t).reCAPTCHAState.succeeded=!1}}),s=dr(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function H8(t){const e=document.createElement("script");e.src=F8,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;K8(this._throttleData);const i=await B8(this._app).catch(o=>{throw mi.create("recaptcha-error")});if(!(!((e=dr(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw mi.create("recaptcha-error");let s;try{s=await z1(b8(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=W8(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),mi.create("throttled",{time:yD(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Ws(e,"heartbeat"),V8(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof q1?this._siteKey===e._siteKey:!1}}function W8(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+m8,httpStatus:t};{const n=e?e.backoffCount:0,r=u0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function K8(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw mi.create("throttled",{time:yD(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t=Sc(),e){t=Kt(t);const n=Ws(t,"app-check");if(Yg().initialized||A8(),G1()&&Y1().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw mi.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return G8(t,e.provider,e.isTokenAutoRefreshEnabled),dr(t).isTokenAutoRefreshEnabled&&ID(r,"INTERNAL",()=>{}),r}function G8(t,e,n){const r=h8(t,Object.assign({},gD));r.activated=!0,r.provider=e,r.cachedTokenPromise=C8(t).then(i=>(i&&du(i)&&(r.token=i,OD(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const Y8="app-check",iI="app-check-internal";function q8(){_i(new si(Y8,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return N8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(iI).initialize()})),_i(new si(iI,t=>{const e=t.getProvider("app-check").getImmediate();return M8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),xr($8,L8)}q8();const X8={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},Q8=t=>{z8(t,{provider:new q1("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},J8=()=>{const t=Hx(X8);return Q8(t),s8(t),t},AD=J8();var Z8=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let kD;const qg=t=>kD=t,PD=Symbol();function w0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Od;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Od||(Od={}));function eB(){const t=Eg(!0),e=t.run(()=>oe({}));let n=[],r=[];const i=ef({install(s){qg(i),i._a=s,s.provide(PD,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!Z8?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const xD=()=>{};function sI(t,e,n,r=xD){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Zh()&&Ig(i),i}function Hl(t,...e){t.slice().forEach(n=>{n(...e)})}const tB=t=>t();function _0(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];w0(i)&&w0(r)&&t.hasOwnProperty(n)&&!hn(r)&&!Ds(r)?t[n]=_0(i,r):t[n]=r}return t}const nB=Symbol();function rB(t){return!w0(t)||!t.hasOwnProperty(nB)}const{assign:No}=Object;function iB(t){return!!(hn(t)&&t.effect)}function sB(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=Gk(n.state.value[t]);return No(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=ef(ee(()=>{qg(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=DD(t,u,e,n,r,!0),l}function DD(t,e,n={},r,i,s){let o;const a=No({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),oe({});let m;function v(R){let D;u=c=!1,typeof R=="function"?(R(r.state.value[t]),D={type:Od.patchFunction,storeId:t,events:f}):(_0(r.state.value[t],R),D={type:Od.patchObject,payload:R,storeId:t,events:f});const C=m=Symbol();qn().then(()=>{m===C&&(u=!0)}),c=!0,Hl(d,D,r.state.value[t])}const y=s?function(){const{state:D}=n,C=D?D():{};this.$patch(M=>{No(M,C)})}:xD;function b(){o.stop(),d=[],h=[],r._s.delete(t)}function _(R,D){return function(){qg(r);const C=Array.from(arguments),M=[],V=[];function W(P){M.push(P)}function L(P){V.push(P)}Hl(h,{args:C,name:R,store:T,after:W,onError:L});let A;try{A=D.apply(this&&this.$id===t?this:T,C)}catch(P){throw Hl(V,P),P}return A instanceof Promise?A.then(P=>(Hl(M,P),P)).catch(P=>(Hl(V,P),Promise.reject(P))):(Hl(M,A),A)}}const w={_p:r,$id:t,$onAction:sI.bind(null,h),$patch:v,$reset:y,$subscribe(R,D={}){const C=sI(d,R,D.detached,()=>M()),M=o.run(()=>Ot(()=>r.state.value[t],V=>{(D.flush==="sync"?c:u)&&R({storeId:t,type:Od.direct,events:f},V)},No({},l,D)));return C},$dispose:b},T=Mn(w);r._s.set(t,T);const O=(r._a&&r._a.runWithContext||tB)(()=>r._e.run(()=>(o=Eg()).run(e)));for(const R in O){const D=O[R];if(hn(D)&&!iB(D)||Ds(D))s||(p&&rB(D)&&(hn(D)?D.value=p[R]:_0(D,p[R])),r.state.value[t][R]=D);else if(typeof D=="function"){const C=_(R,D);O[R]=C,a.actions[R]=D}}return No(T,O),No(Et(T),O),Object.defineProperty(T,"$state",{get:()=>r.state.value[t],set:R=>{v(D=>{No(D,R)})}}),r._p.forEach(R=>{No(T,o.run(()=>R({store:T,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(T.$state,p),u=!0,c=!0,T}function RD(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=TP();return a=a||(u?ii(PD,null):null),a&&qg(a),a=kD,a._s.has(r)||(s?DD(r,e,i,a):sB(r,i,a)),a._s.get(r)}return o.$id=r,o}function Zt(t){{t=Et(t);const e={};for(const n in t){const r=t[n];(hn(r)||Ds(r))&&(e[n]=Wu(t,n))}return e}}const oI=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var oB=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),oI(l,e))}),e.$subscribe(()=>{a.forEach(l=>{oI(l,e)})})}};const ND=eB();ND.use(oB);const Ir=class Ir{constructor(e,n,r={},i){Ir.log(r.debug,n),r.route&&rS.push({name:r.route}),W6({title:i??e,type:e.toLowerCase(),text:n},5e3)}};So(Ir,"success",(e,n={})=>new Ir("Success",e,n)),So(Ir,"update",(e,n={})=>new Ir("Warning",e,n,"Update")),So(Ir,"warning",(e,n={})=>new Ir("Warning",e,n)),So(Ir,"error",(e,n={})=>new Ir("Error",e,n)),So(Ir,"generalError",(e,n)=>new Ir("Error",(n==null?void 0:n.message)||MD,{debug:e})),So(Ir,"firebaseError",(e,n)=>(Ir.log(e,n),n instanceof $i?n.message=Ay[n.code]:n instanceof Error&&Object.keys(Ay).includes(n.name)?n.message=Ay[n.name]:n=void 0,Ir.generalError(e,n))),So(Ir,"log",(e,n)=>{e&&console.log(n)});let Ye=Ir;const MD="Something went wrong",Ay={"":MD,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var aB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be,X1=X1||{},pt=aB||self;function Xg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function af(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function lB(t){return Object.prototype.hasOwnProperty.call(t,ky)&&t[ky]||(t[ky]=++uB)}var ky="closure_uid_"+(1e9*Math.random()>>>0),uB=0;function cB(t,e,n){return t.call.apply(t.bind,arguments)}function dB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kr=cB:Kr=dB,Kr.apply(null,arguments)}function np(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _r(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ga(){this.s=this.s,this.o=this.o}var hB=0;ga.prototype.s=!1;ga.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hB!=0)&&lB(this)};ga.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $D=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Q1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function aI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zr.prototype.h=function(){this.defaultPrevented=!0};var fB=function(){if(!pt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pt.addEventListener("test",()=>{},e),pt.removeEventListener("test",()=>{},e)}catch{}return t}();function ch(t){return/^[\s\xa0]*$/.test(t)}function Qg(){var t=pt.navigator;return t&&(t=t.userAgent)?t:""}function Ss(t){return Qg().indexOf(t)!=-1}function J1(t){return J1[" "](t),t}J1[" "]=function(){};function pB(t,e){var n=oj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var mB=Ss("Opera"),Qu=Ss("Trident")||Ss("MSIE"),LD=Ss("Edge"),T0=LD||Qu,FD=Ss("Gecko")&&!(Qg().toLowerCase().indexOf("webkit")!=-1&&!Ss("Edge"))&&!(Ss("Trident")||Ss("MSIE"))&&!Ss("Edge"),gB=Qg().toLowerCase().indexOf("webkit")!=-1&&!Ss("Edge");function VD(){var t=pt.document;return t?t.documentMode:void 0}var S0;e:{var Py="",xy=function(){var t=Qg();if(FD)return/rv:([^\);]+)(\)|;)/.exec(t);if(LD)return/Edge\/([\d\.]+)/.exec(t);if(Qu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gB)return/WebKit\/(\S+)/.exec(t);if(mB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xy&&(Py=xy?xy[1]:""),Qu){var Dy=VD();if(Dy!=null&&Dy>parseFloat(Py)){S0=String(Dy);break e}}S0=Py}var E0;if(pt.document&&Qu){var lI=VD();E0=lI||parseInt(S0,10)||void 0}else E0=void 0;var vB=E0;function dh(t,e){if(zr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FD){e:{try{J1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dh.$.h.call(this)}}_r(dh,zr);var yB={2:"touch",3:"pen",4:"mouse"};dh.prototype.h=function(){dh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lf="closure_listenable_"+(1e6*Math.random()|0),bB=0;function wB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++bB,this.fa=this.ia=!1}function Jg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Z1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _B(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function UD(t){const e={};for(const n in t)e[n]=t[n];return e}const uI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<uI.length;s++)n=uI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zg(t){this.src=t,this.g={},this.h=0}Zg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=C0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new wB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function I0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=$D(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Jg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function C0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var e_="closure_lm_"+(1e6*Math.random()|0),Ry={};function jD(t,e,n,r,i){if(r&&r.once)return WD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jD(t,e[s],n,r,i);return null}return n=r_(n),t&&t[lf]?t.O(e,n,af(r)?!!r.capture:!!r,i):HD(t,e,n,!1,r,i)}function HD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=af(i)?!!i.capture:!!i,a=n_(t);if(a||(t[e_]=a=new Zg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=TB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TB(){function t(n){return e.call(t.src,t.listener,n)}const e=SB;return t}function WD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WD(t,e[s],n,r,i);return null}return n=r_(n),t&&t[lf]?t.P(e,n,af(r)?!!r.capture:!!r,i):HD(t,e,n,!0,r,i)}function KD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KD(t,e[s],n,r,i);else r=af(r)?!!r.capture:!!r,n=r_(n),t&&t[lf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=C0(s,n,r,i),-1<n&&(Jg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=n_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=C0(e,n,r,i)),(n=-1<t?e[t]:null)&&t_(n))}function t_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[lf])I0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=n_(e))?(I0(n,t),n.h==0&&(n.src=null,e[e_]=null)):Jg(t)}}}function zD(t){return t in Ry?Ry[t]:Ry[t]="on"+t}function SB(t,e){if(t.fa)t=!0;else{e=new dh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&t_(t),t=n.call(r,e)}return t}function n_(t){return t=t[e_],t instanceof Zg?t:null}var Ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function r_(t){return typeof t=="function"?t:(t[Ny]||(t[Ny]=function(e){return t.handleEvent(e)}),t[Ny])}function br(){ga.call(this),this.i=new Zg(this),this.S=this,this.J=null}_r(br,ga);br.prototype[lf]=!0;br.prototype.removeEventListener=function(t,e,n,r){KD(this,t,e,n,r)};function Dr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zr(e,t);else if(e instanceof zr)e.target=e.target||t;else{var i=e;e=new zr(r,t),BD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=rp(o,r,!0,e)&&i}if(o=e.g=t,i=rp(o,r,!0,e)&&i,i=rp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=rp(o,r,!1,e)&&i}br.prototype.N=function(){if(br.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jg(n[r]);delete t.g[e],t.h--}}this.J=null};br.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};br.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function rp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&I0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var i_=pt.JSON.stringify;class EB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function IB(){var t=s_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class CB{constructor(){this.h=this.g=null}add(e,n){const r=GD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var GD=new EB(()=>new OB,t=>t.reset());class OB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kB(t){pt.setTimeout(()=>{throw t},0)}let hh,fh=!1,s_=new CB,YD=()=>{const t=pt.Promise.resolve(void 0);hh=()=>{t.then(PB)}};var PB=()=>{for(var t;t=IB();){try{t.h.call(t.g)}catch(n){kB(n)}var e=GD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fh=!1};function ev(t,e){br.call(this),this.h=t||1,this.g=e||pt,this.j=Kr(this.qb,this),this.l=Date.now()}_r(ev,br);Be=ev.prototype;Be.ga=!1;Be.T=null;Be.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dr(this,"tick"),this.ga&&(o_(this),this.start()))}};Be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function o_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Be.N=function(){ev.$.N.call(this),o_(this),delete this.g};function a_(t,e,n){if(typeof t=="function")n&&(t=Kr(t,n));else if(t&&typeof t.handleEvent=="function")t=Kr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pt.setTimeout(t,e||0)}function qD(t){t.g=a_(()=>{t.g=null,t.i&&(t.i=!1,qD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class xB extends ga{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qD(this)}N(){super.N(),this.g&&(pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ph(t){ga.call(this),this.h=t,this.g={}}_r(ph,ga);var cI=[];function XD(t,e,n,r){Array.isArray(n)||(n&&(cI[0]=n.toString()),n=cI);for(var i=0;i<n.length;i++){var s=jD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function QD(t){Z1(t.g,function(e,n){this.g.hasOwnProperty(n)&&t_(e)},t),t.g={}}ph.prototype.N=function(){ph.$.N.call(this),QD(this)};ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tv(){this.g=!0}tv.prototype.Ea=function(){this.g=!1};function DB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function RB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function hu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+MB(t,n)+(r?" "+r:"")})}function NB(t,e){t.info(function(){return"TIMEOUT: "+e})}tv.prototype.info=function(){};function MB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return i_(n)}catch{return e}}var Pl={},dI=null;function nv(){return dI=dI||new br}Pl.Ta="serverreachability";function JD(t){zr.call(this,Pl.Ta,t)}_r(JD,zr);function mh(t){const e=nv();Dr(e,new JD(e))}Pl.STAT_EVENT="statevent";function ZD(t,e){zr.call(this,Pl.STAT_EVENT,t),this.stat=e}_r(ZD,zr);function ni(t){const e=nv();Dr(e,new ZD(e,t))}Pl.Ua="timingevent";function eR(t,e){zr.call(this,Pl.Ua,t),this.size=e}_r(eR,zr);function uf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pt.setTimeout(function(){t()},e)}var rv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function l_(){}l_.prototype.h=null;function hI(t){return t.h||(t.h=t.i())}function nR(){}var cf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function u_(){zr.call(this,"d")}_r(u_,zr);function c_(){zr.call(this,"c")}_r(c_,zr);var O0;function iv(){}_r(iv,l_);iv.prototype.g=function(){return new XMLHttpRequest};iv.prototype.i=function(){return{}};O0=new iv;function df(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ph(this),this.P=$B,t=T0?125:void 0,this.V=new ev(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rR}function rR(){this.i=null,this.g="",this.h=!1}var $B=45e3,A0={},Em={};Be=df.prototype;Be.setTimeout=function(t){this.P=t};function k0(t,e,n){t.L=1,t.v=ov(co(e)),t.s=n,t.S=!0,iR(t,null)}function iR(t,e){t.G=Date.now(),hf(t),t.A=co(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),hR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new rR,t.g=RR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new xB(Kr(t.Pa,t,t.g),t.O)),XD(t.U,t.g,"readystatechange",t.nb),e=t.I?UD(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),mh(),DB(t.j,t.u,t.A,t.m,t.W,t.s)}Be.nb=function(t){t=t.target;const e=this.M;e&&Cs(t)==3?e.l():this.Pa(t)};Be.Pa=function(t){try{if(t==this.g)e:{const c=Cs(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||T0||this.g&&(this.h.h||this.g.ja()||gI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?mh(3):mh(2)),sv(this);var n=this.g.da();this.ca=n;t:if(sR(this)){var r=gI(this.g);t="";var i=r.length,s=Cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Va(this),Ad(this);var o="";break t}this.h.i=new pt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,RB(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ch(a)){var u=a;break t}}u=null}if(n=u)hu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,P0(this,n);else{this.i=!1,this.o=3,ni(12),Va(this),Ad(this);break e}}this.S?(oR(this,c,o),T0&&this.i&&c==3&&(XD(this.U,this.V,"tick",this.mb),this.V.start())):(hu(this.j,this.m,o,null),P0(this,o)),c==4&&Va(this),this.i&&!this.J&&(c==4?kR(this.l,this):(this.i=!1,hf(this)))}else rj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ni(12)):(this.o=0,ni(13)),Va(this),Ad(this)}}}catch{}finally{}};function sR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function oR(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=LB(t,n),i==Em){e==4&&(t.o=4,ni(14),r=!1),hu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==A0){t.o=4,ni(15),hu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else hu(t.j,t.m,i,null),P0(t,i);sR(t)&&i!=Em&&i!=A0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ni(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),g_(e),e.M=!0,ni(11))):(hu(t.j,t.m,n,"[Invalid Chunked Response]"),Va(t),Ad(t))}Be.mb=function(){if(this.g){var t=Cs(this.g),e=this.g.ja();this.C<e.length&&(sv(this),oR(this,t,e),this.i&&t!=4&&hf(this))}};function LB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Em:(n=Number(e.substring(n,r)),isNaN(n)?A0:(r+=1,r+n>e.length?Em:(e=e.slice(r,r+n),t.C=r+n,e)))}Be.cancel=function(){this.J=!0,Va(this)};function hf(t){t.Y=Date.now()+t.P,aR(t,t.P)}function aR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=uf(Kr(t.lb,t),e)}function sv(t){t.B&&(pt.clearTimeout(t.B),t.B=null)}Be.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(NB(this.j,this.A),this.L!=2&&(mh(),ni(17)),Va(this),this.o=2,Ad(this)):aR(this,this.Y-t)};function Ad(t){t.l.H==0||t.J||kR(t.l,t)}function Va(t){sv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,o_(t.V),QD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function P0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||x0(n.i,t))){if(!t.K&&x0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Om(n),uv(n);else break e;m_(n),ni(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=uf(Kr(n.ib,n),6e3));if(1>=mR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ua(n,11)}else if((t.K||n.g==t)&&Om(n),!ch(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(d_(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,wn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=DR(r,r.J?r.pa:null,r.Y),o.K){gR(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(sv(a),hf(a)),r.g=o}else OR(r);0<n.j.length&&cv(n)}else u[0]!="stop"&&u[0]!="close"||Ua(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ua(n,7):p_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}mh(4)}catch{}}function FB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Xg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function VB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function lR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Xg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=VB(t),r=FB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var uR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ga(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ga){this.h=t.h,Im(this,t.j),this.s=t.s,this.g=t.g,Cm(this,t.m),this.l=t.l;var e=t.i,n=new gh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fI(this,n),this.o=t.o}else t&&(e=String(t).match(uR))?(this.h=!1,Im(this,e[1]||"",!0),this.s=sd(e[2]||""),this.g=sd(e[3]||"",!0),Cm(this,e[4]),this.l=sd(e[5]||"",!0),fI(this,e[6]||"",!0),this.o=sd(e[7]||"")):(this.h=!1,this.i=new gh(null,this.h))}Ga.prototype.toString=function(){var t=[],e=this.j;e&&t.push(od(e,pI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(od(e,pI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(od(n,n.charAt(0)=="/"?HB:jB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",od(n,KB)),t.join("")};function co(t){return new Ga(t)}function Im(t,e,n){t.j=n?sd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fI(t,e,n){e instanceof gh?(t.i=e,zB(t.i,t.h)):(n||(e=od(e,WB)),t.i=new gh(e,t.h))}function wn(t,e,n){t.i.set(e,n)}function ov(t){return wn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function od(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,BB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function BB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var pI=/[#\/\?@]/g,jB=/[#\?:]/g,HB=/[#\?]/g,WB=/[#\?@]/g,KB=/#/g;function gh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function va(t){t.g||(t.g=new Map,t.h=0,t.i&&UB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Be=gh.prototype;Be.add=function(t,e){va(this),this.i=null,t=Ec(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cR(t,e){va(t),e=Ec(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dR(t,e){return va(t),e=Ec(t,e),t.g.has(e)}Be.forEach=function(t,e){va(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Be.ta=function(){va(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Be.Z=function(t){va(this);let e=[];if(typeof t=="string")dR(this,t)&&(e=e.concat(this.g.get(Ec(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Be.set=function(t,e){return va(this),this.i=null,t=Ec(this,t),dR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Be.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hR(t,e,n){cR(t,e),0<n.length&&(t.i=null,t.g.set(Ec(t,e),Q1(n)),t.h+=n.length)}Be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ec(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zB(t,e){e&&!t.j&&(va(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cR(this,r),hR(this,i,n))},t)),t.j=e}var GB=class{constructor(t,e){this.g=t,this.map=e}};function fR(t){this.l=t||YB,pt.PerformanceNavigationTiming?(t=pt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pt.g&&pt.g.Ka&&pt.g.Ka()&&pt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YB=10;function pR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mR(t){return t.h?1:t.g?t.g.size:0}function x0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function d_(t,e){t.g?t.g.add(e):t.h=e}function gR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fR.prototype.cancel=function(){if(this.i=vR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function vR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Q1(t.i)}var qB=class{stringify(t){return pt.JSON.stringify(t,void 0)}parse(t){return pt.JSON.parse(t,void 0)}};function XB(){this.g=new qB}function QB(t,e,n){const r=n||"";try{lR(t,function(i,s){let o=i;af(i)&&(o=i_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JB(t,e){const n=new tv;if(pt.Image){const r=new Image;r.onload=np(ip,n,r,"TestLoadImage: loaded",!0,e),r.onerror=np(ip,n,r,"TestLoadImage: error",!1,e),r.onabort=np(ip,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=np(ip,n,r,"TestLoadImage: timeout",!1,e),pt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ip(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ff(t){this.l=t.fc||null,this.j=t.ob||!1}_r(ff,l_);ff.prototype.g=function(){return new av(this.l,this.j)};ff.prototype.i=function(t){return function(){return t}}({});function av(t,e){br.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=h_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_r(av,br);var h_=0;Be=av.prototype;Be.open=function(t,e){if(this.readyState!=h_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vh(this)};Be.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pf(this)),this.readyState=h_};Be.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vh(this)),this.g&&(this.readyState=3,vh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function yR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Be.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pf(this):vh(this),this.readyState==3&&yR(this)}};Be.Za=function(t){this.g&&(this.response=this.responseText=t,pf(this))};Be.Ya=function(t){this.g&&(this.response=t,pf(this))};Be.ka=function(){this.g&&pf(this)};function pf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vh(t)}Be.setRequestHeader=function(t,e){this.v.append(t,e)};Be.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Be.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(av.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ZB=pt.JSON.parse;function Hn(t){br.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bR,this.L=this.M=!1}_r(Hn,br);var bR="",ej=/^https?$/i,tj=["POST","PUT"];Be=Hn.prototype;Be.Oa=function(t){this.M=t};Be.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():O0.g(),this.C=this.u?hI(this.u):hI(O0),this.g.onreadystatechange=Kr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){mI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=pt.FormData&&t instanceof pt.FormData,!(0<=$D(tj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TR(this),0<this.B&&((this.L=nj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.ua,this)):this.A=a_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){mI(this,s)}};function nj(t){return Qu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Be.ua=function(){typeof X1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dr(this,"timeout"),this.abort(8))};function mI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wR(t),lv(t)}function wR(t){t.F||(t.F=!0,Dr(t,"complete"),Dr(t,"error"))}Be.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dr(this,"complete"),Dr(this,"abort"),lv(this))};Be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lv(this,!0)),Hn.$.N.call(this)};Be.La=function(){this.s||(this.G||this.v||this.l?_R(this):this.kb())};Be.kb=function(){_R(this)};function _R(t){if(t.h&&typeof X1<"u"&&(!t.C[1]||Cs(t)!=4||t.da()!=2)){if(t.v&&Cs(t)==4)a_(t.La,0,t);else if(Dr(t,"readystatechange"),Cs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(uR)[1]||null;!i&&pt.self&&pt.self.location&&(i=pt.self.location.protocol.slice(0,-1)),r=!ej.test(i?i.toLowerCase():"")}n=r}if(n)Dr(t,"complete"),Dr(t,"success");else{t.m=6;try{var s=2<Cs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",wR(t)}}finally{lv(t)}}}}function lv(t,e){if(t.g){TR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dr(t,"ready");try{n.onreadystatechange=r}catch{}}}function TR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pt.clearTimeout(t.A),t.A=null)}Be.isActive=function(){return!!this.g};function Cs(t){return t.g?t.g.readyState:0}Be.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}};Be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Be.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ZB(e)}};function gI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rj(t){const e={};t=(t.g&&2<=Cs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ch(t[r]))continue;var n=AB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}_B(e,function(r){return r.join(", ")})}Be.Ia=function(){return this.m};Be.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SR(t){let e="";return Z1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function f_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):wn(t,e,n))}function Lc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ER(t){this.Ga=0,this.j=[],this.l=new tv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lc("baseRetryDelayMs",5e3,t),this.hb=Lc("retryDelaySeedMs",1e4,t),this.eb=Lc("forwardChannelMaxRetries",2,t),this.xa=Lc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fR(t&&t.concurrentRequestLimit),this.Ja=new XB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Be=ER.prototype;Be.ra=8;Be.H=1;function p_(t){if(IR(t),t.H==3){var e=t.W++,n=co(t.I);if(wn(n,"SID",t.K),wn(n,"RID",e),wn(n,"TYPE","terminate"),mf(t,n),e=new df(t,t.l,e),e.L=2,e.v=ov(co(n)),n=!1,pt.navigator&&pt.navigator.sendBeacon)try{n=pt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pt.Image&&(new Image().src=e.v,n=!0),n||(e.g=RR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),hf(e)}xR(t)}function uv(t){t.g&&(g_(t),t.g.cancel(),t.g=null)}function IR(t){uv(t),t.u&&(pt.clearTimeout(t.u),t.u=null),Om(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pt.clearTimeout(t.m),t.m=null)}function cv(t){if(!pR(t.i)&&!t.m){t.m=!0;var e=t.Na;hh||YD(),fh||(hh(),fh=!0),s_.add(e,t),t.C=0}}function ij(t,e){return mR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=uf(Kr(t.Na,t,e),PR(t,t.C)),t.C++,!0)}Be.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new df(this,this.l,t);let s=this.s;if(this.U&&(s?(s=UD(s),BD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=CR(this,i,e),n=co(this.I),wn(n,"RID",t),wn(n,"CVER",22),this.F&&wn(n,"X-HTTP-Session-Id",this.F),mf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(SR(s)))+"&"+e:this.o&&f_(n,this.o,s)),d_(this.i,i),this.bb&&wn(n,"TYPE","init"),this.P?(wn(n,"$req",e),wn(n,"SID","null"),i.aa=!0,k0(i,n,null)):k0(i,n,e),this.H=2}}else this.H==3&&(t?vI(this,t):this.j.length==0||pR(this.i)||vI(this))};function vI(t,e){var n;e?n=e.m:n=t.W++;const r=co(t.I);wn(r,"SID",t.K),wn(r,"RID",n),wn(r,"AID",t.V),mf(t,r),t.o&&t.s&&f_(r,t.o,t.s),n=new df(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=CR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),d_(t.i,n),k0(n,r,e)}function mf(t,e){t.na&&Z1(t.na,function(n,r){wn(e,r,n)}),t.h&&lR({},function(n,r){wn(e,r,n)})}function CR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Kr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{QB(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function OR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hh||YD(),fh||(hh(),fh=!0),s_.add(e,t),t.A=0}}function m_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=uf(Kr(t.Ma,t),PR(t,t.A)),t.A++,!0)}Be.Ma=function(){if(this.u=null,AR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=uf(Kr(this.jb,this),t)}};Be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ni(10),uv(this),AR(this))};function g_(t){t.B!=null&&(pt.clearTimeout(t.B),t.B=null)}function AR(t){t.g=new df(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=co(t.wa);wn(e,"RID","rpc"),wn(e,"SID",t.K),wn(e,"AID",t.V),wn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&wn(e,"TO",t.qa),wn(e,"TYPE","xmlhttp"),mf(t,e),t.o&&t.s&&f_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ov(co(e)),n.s=null,n.S=!0,iR(n,t)}Be.ib=function(){this.v!=null&&(this.v=null,uv(this),m_(this),ni(19))};function Om(t){t.v!=null&&(pt.clearTimeout(t.v),t.v=null)}function kR(t,e){var n=null;if(t.g==e){Om(t),g_(t),t.g=null;var r=2}else if(x0(t.i,e))n=e.F,gR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=nv(),Dr(r,new eR(r,n)),cv(t)}else OR(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&ij(t,e)||r==2&&m_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ua(t,5);break;case 4:Ua(t,10);break;case 3:Ua(t,6);break;default:Ua(t,2)}}}function PR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ua(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Kr(t.pb,t);n||(n=new Ga("//www.google.com/images/cleardot.gif"),pt.location&&pt.location.protocol=="http"||Im(n,"https"),ov(n)),JB(n.toString(),r)}else ni(2);t.H=0,t.h&&t.h.za(e),xR(t),IR(t)}Be.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ni(2)):(this.l.info("Failed to ping google.com"),ni(1))};function xR(t){if(t.H=0,t.ma=[],t.h){const e=vR(t.i);(e.length!=0||t.j.length!=0)&&(aI(t.ma,e),aI(t.ma,t.j),t.i.i.length=0,Q1(t.j),t.j.length=0),t.h.ya()}}function DR(t,e,n){var r=n instanceof Ga?co(n):new Ga(n);if(r.g!="")e&&(r.g=e+"."+r.g),Cm(r,r.m);else{var i=pt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ga(null);r&&Im(s,r),e&&(s.g=e),i&&Cm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&wn(r,n,e),wn(r,"VER",t.ra),mf(t,r),r}function RR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Hn(new ff({ob:!0})):new Hn(t.va),e.Oa(t.J),e}Be.isActive=function(){return!!this.h&&this.h.isActive(this)};function NR(){}Be=NR.prototype;Be.Ba=function(){};Be.Aa=function(){};Be.za=function(){};Be.ya=function(){};Be.isActive=function(){return!0};Be.Va=function(){};function Am(){if(Qu&&!(10<=Number(vB)))throw Error("Environmental error: no available transport.")}Am.prototype.g=function(t,e){return new Ni(t,e)};function Ni(t,e){br.call(this),this.g=new ER(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ch(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ch(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ic(this)}_r(Ni,br);Ni.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ni(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=DR(t,null,t.Y),cv(t)};Ni.prototype.close=function(){p_(this.g)};Ni.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=i_(t),t=n);e.j.push(new GB(e.fb++,t)),e.H==3&&cv(e)};Ni.prototype.N=function(){this.g.h=null,delete this.j,p_(this.g),delete this.g,Ni.$.N.call(this)};function MR(t){u_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_r(MR,u_);function $R(){c_.call(this),this.status=1}_r($R,c_);function Ic(t){this.g=t}_r(Ic,NR);Ic.prototype.Ba=function(){Dr(this.g,"a")};Ic.prototype.Aa=function(t){Dr(this.g,new MR(t))};Ic.prototype.za=function(t){Dr(this.g,new $R)};Ic.prototype.ya=function(){Dr(this.g,"b")};function sj(){this.blockSize=-1}function gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_r(gs,sj);gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function My(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}gs.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)My(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){My(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){My(this,r),i=0;break}}this.h=i,this.i+=e};gs.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var oj={};function v_(t){return-128<=t&&128>t?pB(t,function(e){return new rn([e|0],0>e?-1:0)}):new rn([t|0],0>t?-1:0)}function Os(t){if(isNaN(t)||!isFinite(t))return Du;if(0>t)return Ar(Os(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=D0;return new rn(e,0)}function LR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ar(LR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Os(Math.pow(e,8)),r=Du,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Os(Math.pow(e,s)),r=r.R(s).add(Os(o))):(r=r.R(n),r=r.add(Os(o)))}return r}var D0=4294967296,Du=v_(0),R0=v_(1),yI=v_(16777216);Be=rn.prototype;Be.ea=function(){if(Bi(this))return-Ar(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:D0+r)*e,e*=D0}return t};Be.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Zs(this))return"0";if(Bi(this))return"-"+Ar(this).toString(t);for(var e=Os(Math.pow(t,6)),n=this,r="";;){var i=Pm(n,e).g;n=km(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Zs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Be.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Bi(t){return t.h==-1}Be.X=function(t){return t=km(this,t),Bi(t)?-1:Zs(t)?0:1};function Ar(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rn(n,~t.h).add(R0)}Be.abs=function(){return Bi(this)?Ar(this):this};Be.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new rn(n,n[n.length-1]&-2147483648?-1:0)};function km(t,e){return t.add(Ar(e))}Be.R=function(t){if(Zs(this)||Zs(t))return Du;if(Bi(this))return Bi(t)?Ar(this).R(Ar(t)):Ar(Ar(this).R(t));if(Bi(t))return Ar(this.R(Ar(t)));if(0>this.X(yI)&&0>t.X(yI))return Os(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,sp(n,2*r+2*i),n[2*r+2*i+1]+=s*l,sp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,sp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,sp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rn(n,0)};function sp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fc(t,e){this.g=t,this.h=e}function Pm(t,e){if(Zs(e))throw Error("division by zero");if(Zs(t))return new Fc(Du,Du);if(Bi(t))return e=Pm(Ar(t),e),new Fc(Ar(e.g),Ar(e.h));if(Bi(e))return e=Pm(t,Ar(e)),new Fc(Ar(e.g),e.h);if(30<t.g.length){if(Bi(t)||Bi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=R0,r=e;0>=r.X(t);)n=bI(n),r=bI(r);var i=Wl(n,1),s=Wl(r,1);for(r=Wl(r,2),n=Wl(n,2);!Zs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Wl(r,1),n=Wl(n,1)}return e=km(t,i.R(e)),new Fc(i,e)}for(i=Du;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Os(n),o=s.R(e);Bi(o)||0<o.X(t);)n-=r,s=Os(n),o=s.R(e);Zs(s)&&(s=R0),i=i.add(s),t=km(t,o)}return new Fc(i,t)}Be.gb=function(t){return Pm(this,t).h};Be.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rn(n,this.h&t.h)};Be.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rn(n,this.h|t.h)};Be.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rn(n,this.h^t.h)};function bI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rn(n,t.h)}function Wl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new rn(i,t.h)}Am.prototype.createWebChannel=Am.prototype.g;Ni.prototype.send=Ni.prototype.u;Ni.prototype.open=Ni.prototype.m;Ni.prototype.close=Ni.prototype.close;rv.NO_ERROR=0;rv.TIMEOUT=8;rv.HTTP_ERROR=6;tR.COMPLETE="complete";nR.EventType=cf;cf.OPEN="a";cf.CLOSE="b";cf.ERROR="c";cf.MESSAGE="d";br.prototype.listen=br.prototype.O;Hn.prototype.listenOnce=Hn.prototype.P;Hn.prototype.getLastError=Hn.prototype.Sa;Hn.prototype.getLastErrorCode=Hn.prototype.Ia;Hn.prototype.getStatus=Hn.prototype.da;Hn.prototype.getResponseJson=Hn.prototype.Wa;Hn.prototype.getResponseText=Hn.prototype.ja;Hn.prototype.send=Hn.prototype.ha;Hn.prototype.setWithCredentials=Hn.prototype.Oa;gs.prototype.digest=gs.prototype.l;gs.prototype.reset=gs.prototype.reset;gs.prototype.update=gs.prototype.j;rn.prototype.add=rn.prototype.add;rn.prototype.multiply=rn.prototype.R;rn.prototype.modulo=rn.prototype.gb;rn.prototype.compare=rn.prototype.X;rn.prototype.toNumber=rn.prototype.ea;rn.prototype.toString=rn.prototype.toString;rn.prototype.getBits=rn.prototype.D;rn.fromNumber=Os;rn.fromString=LR;var aj=function(){return new Am},lj=function(){return nv()},$y=rv,uj=tR,cj=Pl,wI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dj=ff,op=nR,hj=Hn,fj=gs,Ru=rn;const _I="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $r=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Tc("@firebase/firestore");function TI(){return fl.logLevel}function Ze(t,...e){if(fl.logLevel<=Bt.DEBUG){const n=e.map(y_);fl.debug(`Firestore (${Cc}): ${t}`,...n)}}function ho(t,...e){if(fl.logLevel<=Bt.ERROR){const n=e.map(y_);fl.error(`Firestore (${Cc}): ${t}`,...n)}}function Ju(t,...e){if(fl.logLevel<=Bt.WARN){const n=e.map(y_);fl.warn(`Firestore (${Cc}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+t;throw ho(e),new Error(e)}function Sn(t,e){t||ft()}function yt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let pj=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($r.UNAUTHENTICATED))}shutdown(){}},mj=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gj=class{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new oo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new oo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sn(typeof r.accessToken=="string"),new FR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(e===null||typeof e=="string"),new $r(e)}},vj=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},yj=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new vj(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}},bj=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},wj=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Sn(typeof n.token=="string"),this.T=n.token,new bj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VR=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_j(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function qt(t,e){return t<e?-1:t>e?1:0}function Zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tr=class Lp{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lp.fromMillis(Date.now())}static fromDate(e){return Lp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lp(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bt=class Fp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fp(e)}static min(){return new Fp(new tr(0,0))}static max(){return new Fp(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UR=class N0{constructor(e,n,r){n===void 0?n=0:n>e.length&&ft(),r===void 0?r=e.length-n:r>e.length-n&&ft(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return N0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof N0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},jn=class Vp extends UR{construct(e,n,r){return new Vp(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vp(n)}static emptyPath(){return new Vp([])}};const Tj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Us=class iu extends UR{construct(e,n,r){return new iu(e,n,r)}static isValidIdentifier(e){return Tj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),iu.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new iu(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new iu(n)}static emptyPath(){return new iu([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ot=class ad{constructor(e){this.path=e}static fromPath(e){return new ad(jn.fromString(e))}static fromName(e){return new ad(jn.fromString(e).popFirst(5))}static empty(){return new ad(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ad(new jn(e.slice()))}};function Sj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(r===1e9?new tr(n+1,0):new tr(n,r));return new yh(i,ot.empty(),e)}function Ej(t){return new yh(t.readTime,t.key,-1)}let yh=class M0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new M0(bt.min(),ot.empty(),-1)}static max(){return new M0(bt.max(),ot.empty(),-1)}};function Ij(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ot.comparator(t.documentKey,e.documentKey),n!==0?n:qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let Oj=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==Cj)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Le=class ui{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ui((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ui?n:ui.resolve(n)}catch(n){return ui.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ui.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ui.reject(n)}static resolve(e){return new ui((n,r)=>{n(e)})}static reject(e){return new ui((n,r)=>{r(e)})}static waitFor(e){return new ui((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ui.resolve(!1);for(const r of e)n=n.next(i=>i?ui.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ui((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ui((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function vf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};b_.ct=-1;function dv(t){return t==null}function xm(t){return t===0&&1/t==-1/0}function Aj(t){return typeof t=="number"&&Number.isInteger(t)&&!xm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir=class $0{constructor(e,n){this.comparator=e,this.root=n||Or.EMPTY}insert(e,n){return new $0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new $0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ap(this.root,e,this.comparator,!0)}},ap=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}};class Or{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Or.RED,this.left=i??Or.EMPTY,this.right=s??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Or(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Or(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di=class L0{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EI(this.data.getIterator())}getIteratorFrom(e){return new EI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof L0)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new L0(this.comparator);return n.data=e,n}},EI=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As=class F0{constructor(e){this.fields=e,e.sort(Us.comparator)}static empty(){return new F0([])}unionWith(e){let n=new Di(Us.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new F0(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jR=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mi=class V0{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jR("Invalid base64 string: "+i):i}}(e);return new V0(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new V0(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mi.EMPTY_BYTE_STRING=new Mi("");const kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(t){if(Sn(!!t),typeof t=="string"){let e=0;const n=kj.exec(t);if(Sn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:er(t.seconds),nanos:er(t.nanos)}}function er(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pl(t){return typeof t=="string"?Mi.fromBase64String(t):Mi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function w_(t){const e=t.mapValue.fields.__previous_value__;return hv(e)?w_(e):e}function bh(t){const e=ua(t.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pj=class{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},HR=class U0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new U0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof U0&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hv(t)?4:xj(t)?9007199254740991:10:ft()}function Bs(t,e){if(t===e)return!0;const n=ml(t);if(n!==ml(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ua(r.timestampValue),o=ua(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return pl(r.bytesValue).isEqual(pl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return er(r.geoPointValue.latitude)===er(i.geoPointValue.latitude)&&er(r.geoPointValue.longitude)===er(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return er(r.integerValue)===er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=er(r.doubleValue),o=er(i.doubleValue);return s===o?xm(s)===xm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(SI(s)!==SI(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Bs(s[a],o[a])))return!1;return!0}(t,e);default:return ft()}}function wh(t,e){return(t.values||[]).find(n=>Bs(n,e))!==void 0}function ec(t,e){if(t===e)return 0;const n=ml(t),r=ml(e);if(n!==r)return qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=er(i.integerValue||i.doubleValue),a=er(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return II(t.timestampValue,e.timestampValue);case 4:return II(bh(t),bh(e));case 5:return qt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=pl(i),a=pl(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=qt(o[l],a[l]);if(u!==0)return u}return qt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=qt(er(i.latitude),er(s.latitude));return o!==0?o:qt(er(i.longitude),er(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ec(o[l],a[l]);if(u)return u}return qt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===lp.mapValue&&s===lp.mapValue)return 0;if(i===lp.mapValue)return 1;if(s===lp.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=qt(a[c],u[c]);if(d!==0)return d;const h=ec(o[a[c]],l[u[c]]);if(h!==0)return h}return qt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ft()}}function II(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qt(t,e);const n=ua(t),r=ua(e),i=qt(n.seconds,r.seconds);return i!==0?i:qt(n.nanos,r.nanos)}function tc(t){return B0(t)}function B0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ua(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?pl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ot.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=B0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${B0(r.fields[a])}`;return s+"}"}(t.mapValue):ft();var e,n}function Dm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j0(t){return!!t&&"integerValue"in t}function __(t){return!!t&&"arrayValue"in t}function CI(t){return!!t&&"nullValue"in t}function OI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Up(t){return!!t&&"mapValue"in t}function kd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Up(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kd(n)}setAll(e){let n=Us.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=kd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Up(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hi(kd(this.value))}}function WR(t){const e=[];return xl(t.fields,(n,r)=>{const i=new Us([n]);if(Up(r)){const s=WR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new As(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo=class Aa{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Aa(e,0,bt.min(),bt.min(),bt.min(),hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Aa(e,1,n,bt.min(),r,i,0)}static newNoDocument(e,n){return new Aa(e,2,n,bt.min(),bt.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new Aa(e,3,n,bt.min(),bt.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Aa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Aa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=class{constructor(e,n){this.position=e,this.inclusive=n}};function AI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ot.comparator(ot.fromName(o.referenceValue),n.key):r=ec(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KR=class{},vr=class zR extends KR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nj(e,n,r):n==="array-contains"?new Lj(e,r):n==="in"?new Fj(e,r):n==="not-in"?new Vj(e,r):n==="array-contains-any"?new Uj(e,r):new zR(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mj(e,r):new $j(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ec(n,this.value)):n!==null&&ml(this.value)===ml(n)&&this.matchesComparison(ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},po=class GR extends KR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new GR(e,n)}matches(e){return YR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function YR(t){return t.op==="and"}function qR(t){return Rj(t)&&YR(t)}function Rj(t){for(const e of t.filters)if(e instanceof po)return!1;return!0}function H0(t){if(t instanceof vr)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(qR(t))return t.filters.map(e=>H0(e)).join(",");{const e=t.filters.map(n=>H0(n)).join(",");return`${t.op}(${e})`}}function XR(t,e){return t instanceof vr?function(n,r){return r instanceof vr&&n.op===r.op&&n.field.isEqual(r.field)&&Bs(n.value,r.value)}(t,e):t instanceof po?function(n,r){return r instanceof po&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&XR(s,r.filters[o]),!0):!1}(t,e):void ft()}function QR(t){return t instanceof vr?function(e){return`${e.field.canonicalString()} ${e.op} ${tc(e.value)}`}(t):t instanceof po?function(e){return e.op.toString()+" {"+e.getFilters().map(QR).join(" ,")+"}"}(t):"Filter"}let Nj=class extends vr{constructor(e,n,r){super(e,n,r),this.key=ot.fromName(r.referenceValue)}matches(e){const n=ot.comparator(e.key,this.key);return this.matchesComparison(n)}},Mj=class extends vr{constructor(e,n){super(e,"in",n),this.keys=JR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},$j=class extends vr{constructor(e,n){super(e,"not-in",n),this.keys=JR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function JR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ot.fromName(r.referenceValue))}let Lj=class extends vr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return __(n)&&wh(n.arrayValue,this.value)}},Fj=class extends vr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wh(this.value.arrayValue,n)}};class Vj extends vr{constructor(e,n){super(e,"not-in",n)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wh(this.value.arrayValue,n)}}class Uj extends vr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!__(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bj=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function PI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bj(t,e,n,r,i,s,o)}function T_(t){const e=yt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>H0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),e.dt=n}return e.dt}function S_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kI(t.startAt,e.startAt)&&kI(t.endAt,e.endAt)}function W0(t){return ot.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function jj(t,e,n,r,i,s,o,a){return new Dl(t,e,n,r,i,s,o,a)}function fv(t){return new Dl(t)}function xI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function pv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function I_(t){return t.collectionGroup!==null}function Ya(t){const e=yt(t);if(e.wt===null){e.wt=[];const n=pv(e),r=E_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Nu(n)),e.wt.push(new Nu(Us.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Nu(Us.keyField(),s))}}}return e.wt}function mo(t){const e=yt(t);if(!e._t)if(e.limitType==="F")e._t=PI(e.path,e.collectionGroup,Ya(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ya(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Nu(s.field,o))}const r=e.endAt?new nc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nc(e.startAt.position,e.startAt.inclusive):null;e._t=PI(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function K0(t,e){e.getFirstInequalityField(),pv(t);const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rm(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mv(t,e){return S_(mo(t),mo(e))&&t.limitType===e.limitType}function ZR(t){return`${T_(mo(t))}|lt:${t.limitType}`}function z0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>QR(r)).join(", ")}]`),dv(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),`Target(${n})`}(mo(t))}; limitType=${t.limitType})`}function gv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ot.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ya(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=AI(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ya(n),r)||n.endAt&&!function(i,s,o){const a=AI(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ya(n),r))}(t,e)}function Hj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e2(t){return(e,n)=>{let r=!1;for(const i of Ya(t)){const s=Wj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Wj(t,e,n){const r=t.field.isKeyField()?ot.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ec(a,l):ft()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new ir(ot.comparator);function go(){return Kj}const t2=new ir(ot.comparator);function ld(...t){let e=t2;for(const n of t)e=e.insert(n.key,n);return e}function n2(t){let e=t2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ba(){return Pd()}function r2(){return Pd()}function Pd(){return new Oc(t=>t.toString(),(t,e)=>t.isEqual(e))}const zj=new ir(ot.comparator),Gj=new Di(ot.comparator);function Ct(...t){let e=Gj;for(const n of t)e=e.add(n);return e}const Yj=new Di(qt);function qj(){return Yj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(e)?"-0":e}}function s2(t){return{integerValue:""+t}}function Xj(t,e){return Aj(e)?s2(e):i2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this._=void 0}}function Qj(t,e,n){return t instanceof Nm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&hv(i)&&(i=w_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof _h?a2(t,e):t instanceof Th?l2(t,e):function(r,i){const s=o2(r,i),o=DI(s)+DI(r.gt);return j0(s)&&j0(r.gt)?s2(o):i2(r.serializer,o)}(t,e)}function Jj(t,e,n){return t instanceof _h?a2(t,e):t instanceof Th?l2(t,e):n}function o2(t,e){return t instanceof Mm?j0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Nm extends vv{}class _h extends vv{constructor(e){super(),this.elements=e}}function a2(t,e){const n=u2(e);for(const r of t.elements)n.some(i=>Bs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Th extends vv{constructor(e){super(),this.elements=e}}function l2(t,e){let n=u2(e);for(const r of t.elements)n=n.filter(i=>!Bs(i,r));return{arrayValue:{values:n}}}class Mm extends vv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function DI(t){return er(t.integerValue||t.doubleValue)}function u2(t){return __(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Zj(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof _h&&r instanceof _h||n instanceof Th&&r instanceof Th?Zu(n.elements,r.elements,Bs):n instanceof Mm&&r instanceof Mm?Bs(n.gt,r.gt):n instanceof Nm&&r instanceof Nm}(t.transform,e.transform)}class e7{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yv{}function c2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C_(t.key,Ki.none()):new yf(t.key,t.data,Ki.none());{const n=t.data,r=hi.empty();let i=new Di(Us.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ya(t.key,r,new As(i.toArray()),Ki.none())}}function t7(t,e,n){t instanceof yf?function(r,i,s){const o=r.value.clone(),a=NI(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ya?function(r,i,s){if(!Bp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=NI(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(d2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function xd(t,e,n,r){return t instanceof yf?function(i,s,o,a){if(!Bp(i.precondition,s))return o;const l=i.value.clone(),u=MI(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ya?function(i,s,o,a){if(!Bp(i.precondition,s))return o;const l=MI(i.fieldTransforms,a,s),u=s.data;return u.setAll(d2(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Bp(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function n7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=o2(r.transform,i||null);s!=null&&(n===null&&(n=hi.empty()),n.set(r.field,s))}return n||null}function RI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Zu(n,r,(i,s)=>Zj(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends yv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ya extends yv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function d2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NI(t,e,n){const r=new Map;Sn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Jj(o,a,n[i]))}return r}function MI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Qj(s,o,e))}return r}class C_ extends yv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r7 extends yv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&t7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=c2(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(n,r)=>RI(n,r))&&Zu(this.baseMutations,e.baseMutations,(n,r)=>RI(n,r))}}class O_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Sn(e.mutations.length===r.length);let i=zj;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new O_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn,Dt;function a7(t){switch(t){default:return ft();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function h2(t){if(t===void 0)return ho("GRPC error has no .code"),me.UNKNOWN;switch(t){case Qn.OK:return me.OK;case Qn.CANCELLED:return me.CANCELLED;case Qn.UNKNOWN:return me.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return me.INTERNAL;case Qn.UNAVAILABLE:return me.UNAVAILABLE;case Qn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Qn.NOT_FOUND:return me.NOT_FOUND;case Qn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Qn.ABORTED:return me.ABORTED;case Qn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Qn.DATA_LOSS:return me.DATA_LOSS;default:return ft()}}(Dt=Qn||(Qn={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return up}static getOrCreateInstance(){return up===null&&(up=new A_),up}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let up=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=new Ru([4294967295,4294967295],0);function $I(t){const e=l7().encode(t),n=new fj;return n.update(e),new Uint8Array(n.digest())}function LI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ru([n,r],0),new Ru([i,s],0)]}class k_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ud(`Invalid padding: ${n}`);if(r<0)throw new ud(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ud(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ud(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ru.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ru.fromNumber(r)));return i.compare(u7)===1&&(i=new Ru([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=$I(e),[r,i]=LI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new k_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=$I(e),[r,i]=LI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bv(bt.min(),i,new ir(qt),go(),Ct())}}class bf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bf(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class f2{constructor(e,n){this.targetId=e,this.Vt=n}}class p2{constructor(e,n,r=Mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FI{constructor(){this.St=0,this.Dt=UI(),this.Ct=Mi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ct(),n=Ct(),r=Ct();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new bf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=UI()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class c7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=go(),this.zt=VI(),this.Wt=new ir(qt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ft()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(W0(o))if(i===0){const a=new ot(o.path);this.Yt(r,a,fo.newNoDocument(a,bt.min()))}else Sn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=A_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,p,m,v,y;const b={localCacheCount:c,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(b.bloomFilter={applied:u===0,hashCount:(h=_==null?void 0:_.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=_==null?void 0:_.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(y=(v=_==null?void 0:_.bits)===null||v===void 0?void 0:v.padding)!==null&&y!==void 0?y:0}),b}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=pl(s).toUint8Array()}catch(c){if(c instanceof jR)return Ju("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new k_(l,o,a)}catch(c){return Ju(c instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&W0(a.target)){const l=new ot(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,fo.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Ct();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new bv(e,n,this.Wt,this.jt,r);return this.jt=go(),this.zt=VI(),this.Wt=new ir(qt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new FI,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Di(qt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new FI),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function VI(){return new ir(ot.comparator)}function UI(){return new ir(ot.comparator)}const d7={asc:"ASCENDING",desc:"DESCENDING"},h7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f7={and:"AND",or:"OR"};class p7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function G0(t,e){return t.useProto3Json||dv(e)?e:{value:e}}function $m(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m7(t,e){return $m(t,e.toTimestamp())}function Ns(t){return Sn(!!t),bt.fromTimestamp(function(e){const n=ua(e);return new tr(n.seconds,n.nanos)}(t))}function P_(t,e){return function(n){return new jn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function g2(t){const e=jn.fromString(t);return Sn(w2(e)),e}function Y0(t,e){return P_(t.databaseId,e.path)}function Ly(t,e){const n=g2(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ot(v2(n))}function q0(t,e){return P_(t.databaseId,e)}function g7(t){const e=g2(t);return e.length===4?jn.emptyPath():v2(e)}function X0(t){return new jn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v2(t){return Sn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BI(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function v7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Sn(u===void 0||typeof u=="string"),Mi.fromBase64String(u||"")):(Sn(u===void 0||u instanceof Uint8Array),Mi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?me.UNKNOWN:h2(l.code);return new Fe(u,l.message||"")}(o);n=new p2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ly(t,r.document.name),s=Ns(r.document.updateTime),o=r.document.createTime?Ns(r.document.createTime):bt.min(),a=new hi({mapValue:{fields:r.document.fields}}),l=fo.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ly(t,r.document),s=r.readTime?Ns(r.readTime):bt.min(),o=fo.newNoDocument(i,s),a=r.removedTargetIds||[];n=new jp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ly(t,r.document),s=r.removedTargetIds||[];n=new jp([],s,i,null)}else{if(!("filter"in e))return ft();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new o7(i,s),a=r.targetId;n=new f2(a,o)}}return n}function y7(t,e){let n;if(e instanceof yf)n={update:BI(t,e.key,e.value)};else if(e instanceof C_)n={delete:Y0(t,e.key)};else if(e instanceof ya)n={update:BI(t,e.key,e.data),updateMask:O7(e.fieldMask)};else{if(!(e instanceof r7))return ft();n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Nm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof _h)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Th)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Mm)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ft()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:m7(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ft()}(t,e.precondition)),n}function b7(t,e){return t&&t.length>0?(Sn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ns(r.updateTime):Ns(i);return s.isEqual(bt.min())&&(s=Ns(i)),new e7(s,r.transformResults||[])}(n,e))):[]}function w7(t,e){return{documents:[q0(t,e.path)]}}function _7(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=q0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=q0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return b2(po.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:su(c.field),direction:E7(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=G0(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function T7(t){let e=g7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=y2(c);return d instanceof po&&qR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Nu(ou(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,dv(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new nc(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new nc(h,d)}(n.endAt)),jj(e,i,o,s,a,"F",l,u)}function S7(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ou(e.unaryFilter.field);return vr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ou(e.unaryFilter.field);return vr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ou(e.unaryFilter.field);return vr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ou(e.unaryFilter.field);return vr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(t):t.fieldFilter!==void 0?function(e){return vr.create(ou(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return po.create(e.compositeFilter.filters.map(n=>y2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(t):ft()}function E7(t){return d7[t]}function I7(t){return h7[t]}function C7(t){return f7[t]}function su(t){return{fieldPath:t.canonicalString()}}function ou(t){return Us.fromServerFormat(t.fieldPath)}function b2(t){return t instanceof vr?function(e){if(e.op==="=="){if(OI(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NAN"}};if(CI(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(OI(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NAN"}};if(CI(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(e.field),op:I7(e.op),value:e.value}}}(t):t instanceof po?function(e){const n=e.getFilters().map(r=>b2(r));return n.length===1?n[0]:{compositeFilter:{op:C7(e.op),filters:n}}}(t):ft()}function O7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_=class cd{constructor(e,n,r,i,s=bt.min(),o=bt.min(),a=Mi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new cd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A7=class{constructor(e){this.fe=e}};function k7(t){const e=T7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P7=class{constructor(){this.rn=new x7}addToCollectionParentIndex(e,n){return this.rn.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(yh.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(yh.min())}updateCollectionGroup(e,n,r){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}},x7=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Di(jn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Di(jn.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0=class J0{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new J0(0)}static Mn(){return new J0(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D7=class{constructor(){this.changes=new Oc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N7=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xd(r.mutation,i,As.empty(),tr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=Ba();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ld();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=go();const o=Pd(),a=Pd();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ya)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),xd(c.mutation,u,c.mutation.getFieldMask(),tr.now())):o.set(u.key,As.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new R7(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pd();let i=new ir((o,a)=>o-a),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||As.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ct()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=r2();c.forEach(h=>{if(!s.has(h)){const f=c2(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Le.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ot.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):I_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Le.resolve(Ba());let a=-1,l=s;return o.next(u=>Le.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Le.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ct())).next(c=>({batchId:a,changes:n2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ot(n)).next(r=>{let i=ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ld();return this.indexManager.getCollectionParents(e,i).next(o=>Le.forEach(o,a=>{const l=function(u,c){return new Dl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,fo.newInvalidDocument(u)))});let o=ld();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&xd(u.mutation,l,As.empty(),tr.now()),gv(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M7=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Le.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ns(r.createTime)}),Le.resolve()}getNamedQuery(e,n){return Le.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:k7(r.bundledQuery),readTime:Ns(r.readTime)}}(n)),Le.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $7=class{constructor(){this.overlays=new ir(ot.comparator),this.ls=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ba();return Le.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Le.resolve()}getOverlaysForCollection(e,n,r){const i=Ba(),s=n.length+1,o=new ot(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ir((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ba(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ba(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Le.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s7(n,r));let s=this.ls.get(n);s===void 0&&(s=Ct(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_=class{constructor(){this.fs=new Di(mr.ds),this.ws=new Di(mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new mr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new mr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ot(new jn([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ot(new jn([])),r=new mr(n,e),i=new mr(n,e+1);let s=Ct();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mr(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}};class mr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ot.comparator(e.key,n.key)||qt(e.As,n.As)}static _s(e,n){return qt(e.As,n.As)||ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Di(mr.ds)}checkEmpty(e){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i7(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Le.resolve(o)}lookupMutationBatch(e,n){return Le.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Di(qt);return n.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ot.isDocumentKey(s)||(s=s.child(""));const o=new mr(new ot(s),0);let a=new Di(qt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Le.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Sn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Le.forEach(n.mutations,i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new mr(n,0),i=this.Rs.firstAfterOrEqual(r);return Le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.Ds=e,this.docs=new ir(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Le.resolve(r?r.document.mutableCopy():fo.newInvalidDocument(n))}getEntries(e,n){let r=go();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fo.newInvalidDocument(i))}),Le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=go();const o=n.path,a=new ot(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Ij(Ej(c),r)<=0||(i.has(c.key)||gv(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ft()}Cs(e,n){return Le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new V7(this)}getSize(e){return Le.resolve(this.size)}}class V7 extends D7{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Le.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.persistence=e,this.xs=new Oc(n=>T_(n),S_),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new D_,this.targetCount=0,this.Ms=Q0.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Le.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Q0(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.Fn(n),Le.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Le.waitFor(s).next(()=>i)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Le.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Le.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Le.resolve(r)}containsKey(e,n){return Le.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n){this.$s={},this.overlays={},this.Os=new b_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new U7(this),this.indexManager=new P7,this.remoteDocumentCache=function(r){return new F7(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new A7(n),this.qs=new M7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new L7(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new j7(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class j7 extends Oj{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.Qs=new D_,this.js=null}static zs(e){return new R_(e)}get Ws(){if(this.js)return this.js;throw ft()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Le.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Le.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Ws,r=>{const i=ot.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,bt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Le.or([()=>Le.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Ct(),i=Ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new N_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(xI(n))return Le.resolve(null);let r=mo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rm(n,null,"F"),r=mo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ct(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Rm(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return xI(n)||i.isEqual(bt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(TI()<=Bt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),z0(n)),this.Wi(e,o,n,Sj(i,-1)))})}ji(e,n){let r=new Di(e2(e));return n.forEach((i,s)=>{gv(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return TI()<=Bt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",z0(n)),this.Ui.getDocumentsMatchingQuery(e,n,yh.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ir(qt),this.Yi=new Oc(s=>T_(s),S_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N7(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function K7(t,e,n,r){return new W7(t,e,n,r)}async function _2(t,e){const n=yt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ct();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function z7(t,e){const n=yt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=Le.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);Sn(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ct();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function T2(t){const e=yt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function G7(t,e){const n=yt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Mi.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,v){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=go(),u=Ct();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Y7(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(bt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Le.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Y7(t,e,n){let r=Ct(),i=Ct();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=go();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function q7(t,e){const n=yt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X7(t,e){const n=yt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Le.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new x_(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Z0(t,e,n){const r=yt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vf(o))throw o;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function jI(t,e,n){const r=yt(t);let i=bt.min(),s=Ct();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=yt(a),d=c.Yi.get(u);return d!==void 0?Le.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,mo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:bt.min(),n?s:Ct())).next(a=>(Q7(r,Hj(e),a),{documents:a,ir:s})))}function Q7(t,e,n){let r=t.Xi.get(e)||bt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class HI{constructor(){this.activeTargetIds=qj()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J7{constructor(){this.Hr=new HI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new HI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp=null;function Fy(){return cp===null?cp=268435456+Math.round(2147483648*Math.random()):cp++,"0x"+cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="WebChannelConnection";class nH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Fy(),a=this.To(e,n);Ze("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(Ze("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Ju("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=eH[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Fy();return new Promise((o,a)=>{const l=new hj;l.setWithCredentials(!0),l.listenOnce(uj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $y.NO_ERROR:const c=l.getResponseJson();Ze(Rr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case $y.TIMEOUT:Ze(Rr,`RPC '${e}' ${s} timed out`),a(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case $y.HTTP_ERROR:const d=l.getStatus();if(Ze(Rr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(v)>=0?v:me.UNKNOWN}(f.status);a(new Fe(p,f.message))}else a(new Fe(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ze(Rr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ze(Rr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Fy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aj(),a=lj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new dj({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ze(Rr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new tH({ro:v=>{f?Ze(Rr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Ze(Rr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Ze(Rr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},oo:()=>d.close()}),m=(v,y,b)=>{v.listen(y,_=>{try{b(_)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,op.EventType.OPEN,()=>{f||Ze(Rr,`RPC '${e}' stream ${i} transport opened.`)}),m(d,op.EventType.CLOSE,()=>{f||(f=!0,Ze(Rr,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,op.EventType.ERROR,v=>{f||(f=!0,Ju(Rr,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),m(d,op.EventType.MESSAGE,v=>{var y;if(!f){const b=v.data[0];Sn(!!b);const _=b,w=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(w){Ze(Rr,`RPC '${e}' stream ${i} received error:`,w);const T=w.status;let S=function(R){const D=Qn[R];if(D!==void 0)return h2(D)}(T),O=w.message;S===void 0&&(S=me.INTERNAL,O="Unknown error status: "+T+" with message "+w.message),f=!0,p.wo(new Fe(S,O)),d.close()}else Ze(Rr,`RPC '${e}' stream ${i} received:`,b),p._o(b)}}),m(a,cj.STAT_EVENT,v=>{v.stat===wI.PROXY?Ze(Rr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===wI.NOPROXY&&Ze(Rr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){return new p7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new S2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ho(n.toString()),ho("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rH extends E2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=v7(this.serializer,e),r=function(i){if(!("targetChange"in i))return bt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?bt.min():s.readTime?Ns(s.readTime):bt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=X0(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=W0(a)?{documents:w7(i,a)}:{query:_7(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=m2(i,s.resumeToken);const l=G0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(bt.min())>0){o.readTime=$m(i,s.snapshotVersion.toTimestamp());const l=G0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=S7(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=X0(this.serializer),n.removeTarget=e,this.Wo(n)}}class iH extends E2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=b7(e.writeResults,e.commitTime),r=Ns(e.commitTime);return this.listener.cu(r,n)}return Sn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=X0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>y7(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(me.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class oH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ho(n),this.mu=!1):Ze("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Rl(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=yt(a);l.vu.add(4),await wf(l),l.bu.set("Unknown"),l.vu.delete(4),await _v(l)}(this))})}),this.bu=new oH(r,i)}}async function _v(t){if(Rl(t))for(const e of t.Ru)await e(!0)}async function wf(t){for(const e of t.Ru)await e(!1)}function I2(t,e){const n=yt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),L_(n)?$_(n):Ac(n).Ko()&&M_(n,e))}function C2(t,e){const n=yt(t),r=Ac(n);n.Au.delete(e),r.Ko()&&O2(n,e),n.Au.size===0&&(r.Ko()?r.jo():Rl(n)&&n.bu.set("Unknown"))}function M_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).su(e)}function O2(t,e){t.Vu.qt(e),Ac(t).iu(e)}function $_(t){t.Vu=new c7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.bu.gu()}function L_(t){return Rl(t)&&!Ac(t).Uo()&&t.Au.size>0}function Rl(t){return yt(t).vu.size===0}function A2(t){t.Vu=void 0}async function lH(t){t.Au.forEach((e,n)=>{M_(t,e)})}async function uH(t,e){A2(t),L_(t)?(t.bu.Iu(e),$_(t)):t.bu.set("Unknown")}async function cH(t,e,n){if(t.bu.set("Online"),e instanceof p2&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lm(t,r)}else if(e instanceof jp?t.Vu.Ht(e):e instanceof f2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(bt.min()))try{const r=await T2(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Mi.EMPTY_BYTE_STRING,u.snapshotVersion)),O2(i,a);const c=new x_(u.target,a,l,u.sequenceNumber);M_(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),await Lm(t,r)}}async function Lm(t,e,n){if(!vf(e))throw e;t.vu.add(1),await wf(t),t.bu.set("Offline"),n||(n=()=>T2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await _v(t)})}function k2(t,e){return e().catch(n=>Lm(t,n,e))}async function Tv(t){const e=yt(t),n=ca(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;dH(e);)try{const i=await q7(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,hH(e,i)}catch(i){await Lm(e,i)}P2(e)&&x2(e)}function dH(t){return Rl(t)&&t.Eu.length<10}function hH(t,e){t.Eu.push(e);const n=ca(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function P2(t){return Rl(t)&&!ca(t).Uo()&&t.Eu.length>0}function x2(t){ca(t).start()}async function fH(t){ca(t).hu()}async function pH(t){const e=ca(t);for(const n of t.Eu)e.uu(n.mutations)}async function mH(t,e,n){const r=t.Eu.shift(),i=O_.from(r,e,n);await k2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tv(t)}async function gH(t,e){e&&ca(t).ou&&await async function(n,r){if(i=r.code,a7(i)&&i!==me.ABORTED){const s=n.Eu.shift();ca(n).Qo(),await k2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Tv(n)}var i}(t,e),P2(t)&&x2(t)}async function KI(t,e){const n=yt(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Rl(n);n.vu.add(3),await wf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await _v(n)}async function vH(t,e){const n=yt(t);e?(n.vu.delete(2),await _v(n)):e||(n.vu.add(2),await wf(n),n.bu.set("Unknown"))}function Ac(t){return t.Su||(t.Su=function(e,n,r){const i=yt(e);return i.fu(),new rH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:lH.bind(null,t),ao:uH.bind(null,t),nu:cH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),L_(t)?$_(t):t.bu.set("Unknown")):(await t.Su.stop(),A2(t))})),t.Su}function ca(t){return t.Du||(t.Du=function(e,n,r){const i=yt(e);return i.fu(),new iH(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:fH.bind(null,t),ao:gH.bind(null,t),au:pH.bind(null,t),cu:mH.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Tv(t)):(await t.Du.stop(),t.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new F_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(t,e){if(ho("AsyncQueue",`${e}: ${t}`),vf(t))return new Fe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ot.comparator(n.key,r.key):(n,r)=>ot.comparator(n.key,r.key),this.keyedMap=ld(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new Mu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.Cu=new ir(ot.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ft():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class rc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new rc(e,n,Mu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(){this.Nu=void 0,this.listeners=[]}}class bH{constructor(){this.queries=new Oc(e=>ZR(e),mv),this.onlineState="Unknown",this.ku=new Set}}async function U_(t,e){const n=yt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new yH),i)try{s.Nu=await n.onListen(r)}catch(o){const a=V_(o,`Initialization of query '${z0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&j_(n)}async function B_(t,e){const n=yt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function wH(t,e){const n=yt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&j_(n)}function _H(t,e,n){const r=yt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function j_(t){t.ku.forEach(e=>{e.next()})}class H_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.key=e}}class R2{constructor(e){this.key=e}}class TH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ct(),this.mutatedKeys=Ct(),this.tc=e2(e),this.ec=new Mu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new zI,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=gv(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),v=!0):this.rc(h,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new rc(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ct(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new R2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new D2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Ct();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return rc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class SH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EH{constructor(e){this.key=e,this.fc=!1}}class IH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Oc(a=>ZR(a),mv),this._c=new Map,this.mc=new Set,this.gc=new ir(ot.comparator),this.yc=new Map,this.Ic=new D_,this.Tc={},this.Ec=new Map,this.Ac=Q0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function CH(t,e){const n=$H(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await X7(n.localStore,mo(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await OH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&I2(n.remoteStore,o)}return i}async function OH(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,m,v,y){let b=m.view.sc(v);b.zi&&(b=await jI(p.localStore,m.query,!1).then(({documents:T})=>m.view.sc(T,b)));const _=y&&y.targetChanges.get(m.targetId),w=m.view.applyChanges(b,p.isPrimaryClient,_);return YI(p,m.targetId,w.cc),w.snapshot}(t,d,h,f);const s=await jI(t.localStore,e,!0),o=new TH(e,s.ir),a=o.sc(s.documents),l=bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);YI(t,n,u.cc);const c=new SH(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function AH(t,e){const n=yt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!mv(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Z0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),C2(n.remoteStore,r.targetId),ew(n,r.targetId)}).catch(gf)):(ew(n,r.targetId),await Z0(n.localStore,r.targetId,!0))}async function kH(t,e,n){const r=LH(t);try{const i=await function(s,o){const a=yt(s),l=tr.now(),u=o.reduce((h,f)=>h.add(f.key),Ct());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=go(),p=Ct();return a.Zi.getEntries(h,u).next(m=>{f=m,f.forEach((v,y)=>{y.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const v=[];for(const y of o){const b=n7(y,c.get(y.key).overlayedDocument);b!=null&&v.push(new ya(y.key,b,WR(b.value.mapValue),Ki.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,v,o)}).next(m=>{d=m;const v=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,v)})}).then(()=>({batchId:d.batchId,changes:n2(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new ir(qt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await _f(r,i.changes),await Tv(r.remoteStore)}catch(i){const s=V_(i,"Failed to persist write");n.reject(s)}}async function N2(t,e){const n=yt(t);try{const r=await G7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Sn(o.fc):i.removedDocuments.size>0&&(Sn(o.fc),o.fc=!1))}),await _f(n,r,e)}catch(r){await gf(r)}}function GI(t,e,n){const r=yt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=yt(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&j_(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PH(t,e,n){const r=yt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ir(ot.comparator);o=o.insert(s,fo.newNoDocument(s,bt.min()));const a=Ct().add(s),l=new bv(bt.min(),new Map,new ir(qt),o,a);await N2(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),W_(r)}else await Z0(r.localStore,e,!1).then(()=>ew(r,e,n)).catch(gf)}async function xH(t,e){const n=yt(t),r=e.batch.batchId;try{const i=await z7(n.localStore,e);$2(n,r,null),M2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _f(n,i)}catch(i){await gf(i)}}async function DH(t,e,n){const r=yt(t);try{const i=await function(s,o){const a=yt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Sn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);$2(r,e,n),M2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _f(r,i)}catch(i){await gf(i)}}function M2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function $2(t,e,n){const r=yt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ew(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||L2(t,r)})}function L2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(C2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),W_(t))}function YI(t,e,n){for(const r of n)r instanceof D2?(t.Ic.addReference(r.key,e),RH(t,r)):r instanceof R2?(Ze("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||L2(t,r.key)):ft()}function RH(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+n),t.mc.add(r),W_(t))}function W_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ot(jn.fromString(e)),r=t.Ac.next();t.yc.set(r,new EH(n)),t.gc=t.gc.insert(n,r),I2(t.remoteStore,new x_(mo(fv(n.path)),r,"TargetPurposeLimboResolution",b_.ct))}}async function _f(t,e,n){const r=yt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=N_.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=yt(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Le.forEach(l,d=>Le.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>Le.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!vf(c))throw c;Ze("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function NH(t,e){const n=yt(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=await _2(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Fe(me.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _f(n,r.er)}}function MH(t,e){const n=yt(t),r=n.yc.get(e);if(r&&r.fc)return Ct().add(r.key);{let i=Ct();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function $H(t){const e=yt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PH.bind(null,e),e.dc.nu=wH.bind(null,e.eventManager),e.dc.Pc=_H.bind(null,e.eventManager),e}function LH(t){const e=yt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DH.bind(null,e),e}let qI=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return K7(this.persistence,new H7,e.initialUser,this.serializer)}createPersistence(e){return new B7(R_.zs,this.serializer)}createSharedClientState(e){return new J7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},FH=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NH.bind(null,this.syncEngine),await vH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new bH}createDatastore(e){const n=wv(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new nH(i));var i;return function(s,o,a,l){return new sH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>GI(this.syncEngine,a,0),o=WI.D()?new WI:new Z7,new aH(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new IH(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=yt(e);Ze("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await wf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ho("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=VR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ze("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ze("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uy(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BH(t);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>KI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>KI(e.remoteStore,s)),t._onlineComponents=e}function UH(t){return t.name==="FirebaseError"?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!UH(n))throw n;Ju("Error using user provided cache. Falling back to memory cache: "+n),await Uy(t,new qI)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await Uy(t,new qI);return t._offlineComponents}async function F2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await XI(t,t._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await XI(t,new FH))),t._onlineComponents}function jH(t){return F2(t).then(e=>e.syncEngine)}async function Fm(t){const e=await F2(t),n=e.eventManager;return n.onListen=CH.bind(null,e.syncEngine),n.onUnlisten=AH.bind(null,e.syncEngine),n}function HH(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new K_({next:d=>{s.enqueueAndForget(()=>B_(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Fe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Fe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new H_(fv(o.path),u,{includeMetadataChanges:!0,Ku:!0});return U_(i,c)}(await Fm(t),t.asyncQueue,e,n,r)),r.promise}function WH(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new K_({next:d=>{s.enqueueAndForget(()=>B_(i,c)),d.fromCache&&a.source==="server"?l.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new H_(o,u,{includeMetadataChanges:!0,Ku:!0});return U_(i,c)}(await Fm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t,e,n){if(!n)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KH(t,e,n,r){if(e===!0&&r===!0)throw new Fe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JI(t){if(!ot.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZI(t){if(ot.isDocumentKey(t))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ft()}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sv(t);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zH(t,e){if(e<=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Ev{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eC(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pj;switch(n.type){case"firstParty":return new yj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=QI.get(e);n&&(Ze("ComponentProvider","Removing Datastore"),QI.delete(e),n.terminate())}(this),Promise.resolve()}}function GH(t,e,n,r={}){var i;const s=(t=bi(t,Ev))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$r.MOCK_USER;else{a=Mx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $r(u)}t._authCredentials=new mj(new FR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class Ks{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class ea extends Ks{constructor(e,n,r){super(e,n,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new ot(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function ts(t,e,...n){if(t=Kt(t),U2("collection","path",e),t instanceof Ev){const r=jn.fromString(e,...n);return ZI(r),new ea(t,null,r)}{if(!(t instanceof Gr||t instanceof ea))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jn.fromString(e,...n));return ZI(r),new ea(t.firestore,null,r)}}function zt(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=VR.A()),U2("doc","path",e),t instanceof Ev){const r=jn.fromString(e,...n);return JI(r),new Gr(t,null,new ot(r))}{if(!(t instanceof Gr||t instanceof ea))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jn.fromString(e,...n));return JI(r),new Gr(t.firestore,t instanceof ea?t.converter:null,new ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new S2(this,"async_queue_retry"),this.Xc=()=>{const n=Vy();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Vy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new oo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!vf(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ho("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=F_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function tC(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class vo extends Ev{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||B2(this),this._firestoreClient.terminate()}}function qH(t,e){const n=typeof t=="object"?t:Sc(),r=typeof t=="string"?t:e||"(default)",i=Ws(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Dx("firestore");s&&GH(i,...s)}return i}function Iv(t){return t._firestoreClient||B2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function B2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new Pj(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,V2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new VH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Mi.fromBase64String(e))}catch(n){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ic(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Us(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=/^__.*__$/;class QH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}class j2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function H2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Y_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Y_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Vm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(H2(this.ca)&&XH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class JH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wv(e)}ya(e,n,r,i=!1){return new Y_({ca:e,methodName:n,ga:r,path:Us.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(t){const e=t._freezeSettings(),n=wv(t._databaseId);return new JH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function W2(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);q_("Data must be an object, but it was:",o,r);const a=Y2(r,o);let l,u;if(s.merge)l=new As(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=tw(e,d,n);if(!o.contains(h))throw new Fe(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);X2(c,h)||c.push(h)}l=new As(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new QH(new hi(a),l,u)}let K2=class z2 extends z_{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof z2}};function ZH(t,e,n,r){const i=t.ya(1,e,n);q_("Data must be an object, but it was:",i,r);const s=[],o=hi.empty();xl(r,(l,u)=>{const c=X_(e,l,n);u=Kt(u);const d=i.da(c);if(u instanceof K2)s.push(c);else{const h=Sf(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new As(s);return new j2(o,a,i.fieldTransforms)}function eW(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[tw(e,r,n)],l=[i];if(s.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(tw(e,s[h])),l.push(s[h+1]);const u=[],c=hi.empty();for(let h=a.length-1;h>=0;--h)if(!X2(u,a[h])){const f=a[h];let p=l[h];p=Kt(p);const m=o.da(f);if(p instanceof K2)u.push(f);else{const v=Sf(p,m);v!=null&&(u.push(f),c.set(f,v))}}const d=new As(u);return new j2(c,d,o.fieldTransforms)}function G2(t,e,n,r=!1){return Sf(n,t.ya(r?4:3,e))}function Sf(t,e){if(q2(t=Kt(t)))return q_("Unsupported field value:",e,t),Y2(t,e);if(t instanceof z_)return function(n,r){if(!H2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Sf(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Kt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Xj(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=tr.fromDate(n);return{timestampValue:$m(r.serializer,i)}}if(n instanceof tr){const i=new tr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$m(r.serializer,i)}}if(n instanceof G_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ic)return{bytesValue:m2(r.serializer,n._byteString)};if(n instanceof Gr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:P_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Sv(n)}`)}(t,e)}function Y2(t,e){const n={};return BR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(t,(r,i)=>{const s=Sf(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function q2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof G_||t instanceof ic||t instanceof Gr||t instanceof z_)}function q_(t,e,n){if(!q2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Sv(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function tw(t,e,n){if((e=Kt(e))instanceof Cv)return e._internalPath;if(typeof e=="string")return X_(t,e);throw Vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const tW=new RegExp("[~\\*/\\[\\]]");function X_(t,e,n){if(e.search(tW)>=0)throw Vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cv(...e.split("."))._internalPath}catch{throw Vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Fe(me.INVALID_ARGUMENT,a+t+l)}function X2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q_=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},nW=class extends Q_{data(){return super.data()}};function Ov(t,e){return typeof e=="string"?X_(t,e):e instanceof Cv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let J_=class{},Av=class extends J_{};function J2(t,e,...n){let r=[];e instanceof J_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof rW).length,o=i.filter(a=>a instanceof Z2).length;if(s>1||s>0&&o>0)throw new Fe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let Z2=class eN extends Av{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new eN(e,n,r)}_apply(e){const n=this._parse(e);return sN(e._query,n),new Ks(e.firestore,e.converter,K0(e._query,n))}_parse(e){const n=Tf(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){iC(c,u);const h=[];for(const f of c)h.push(rC(a,i,f));d={arrayValue:{values:h}}}else d=rC(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||iC(c,u),d=G2(o,s,c,u==="in"||u==="not-in");return vr.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function nw(t,e,n){const r=e,i=Ov("where",t);return Z2._create(i,r,n)}let rW=class tN extends J_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:po.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)sN(s,a),s=K0(s,a)}(e._query,n),new Ks(e.firestore,e.converter,K0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},iW=class nN extends Av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nN(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Nu(i,s);return function(a,l){if(E_(a)===null){const u=pv(a);u!==null&&oN(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Dl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function nC(t,e="asc"){const n=e,r=Ov("orderBy",t);return iW._create(r,n)}let sW=class rN extends Av{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rN(e,n,r)}_apply(e){return new Ks(e.firestore,e.converter,Rm(e._query,this._limit,this._limitType))}};function oW(t){return zH("limit",t),sW._create("limit",t,"F")}let aW=class iN extends Av{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new iN(e,n,r)}_apply(e){const n=uW(e,this.type,this._docOrFields,this._inclusive);return new Ks(e.firestore,e.converter,function(r,i){return new Dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}};function lW(...t){return aW._create("startAfter",t,!1)}function uW(t,e,n,r){if(n[0]=Kt(n[0]),n[0]instanceof Q_)return function(i,s,o,a,l){if(!a)throw new Fe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Ya(i))if(c.field.isKeyField())u.push(Dm(s,a.key));else{const d=a.data.field(c.field);if(hv(d))throw new Fe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new nc(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Tf(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new Fe(me.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const p=u[f];if(d[f].field.isKeyField()){if(typeof p!="string")throw new Fe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!I_(s)&&p.indexOf("/")!==-1)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(jn.fromString(p));if(!ot.isDocumentKey(m))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const v=new ot(m);h.push(Dm(o,v))}else{const m=G2(a,l,p);h.push(m)}}return new nc(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function rC(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I_(e)&&n.indexOf("/")!==-1)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jn.fromString(n));if(!ot.isDocumentKey(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dm(t,new ot(r))}if(n instanceof Gr)return Dm(t,n._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sv(n)}.`)}function iC(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sN(t,e){if(e.isInequality()){const r=pv(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=E_(t);s!==null&&oN(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function oN(t,e,n){if(!n.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let cW=class{convertValue(e,n="none"){switch(ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ft()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new G_(er(e.latitude),er(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=w_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=ua(e);return new tr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jn.fromString(e);Sn(w2(r));const i=new HR(r.get(1),r.get(3)),s=new ot(r.popFirst(5));return i.isEqual(n)||ho(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lN extends Q_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hp extends lN{data(e={}){return super.data(e)}}class uN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hp(this._firestore,this._userDataWriter,r.key,r,new dd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Hp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new dd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Hp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new dd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:dW(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){t=bi(t,Gr);const e=bi(t.firestore,vo);return HH(Iv(e),t._key).then(n=>cN(e,t,n))}class Z_ extends cW{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,n)}}function fW(t){t=bi(t,Ks);const e=bi(t.firestore,vo),n=Iv(e),r=new Z_(e);return Q2(t._query),WH(n,t._query).then(i=>new uN(e,r,t,i))}function pW(t,e,n){t=bi(t,Gr);const r=bi(t.firestore,vo),i=aN(t.converter,e,n);return kv(r,[W2(Tf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ki.none())])}function mW(t,e,n,...r){t=bi(t,Gr);const i=bi(t.firestore,vo),s=Tf(i);let o;return o=typeof(e=Kt(e))=="string"||e instanceof Cv?eW(s,"updateDoc",t._key,e,n,r):ZH(s,"updateDoc",t._key,e),kv(i,[o.toMutation(t._key,Ki.exists(!0))])}function gW(t){return kv(bi(t.firestore,vo),[new C_(t._key,Ki.none())])}function vW(t,e){const n=bi(t.firestore,vo),r=zt(t),i=aN(t.converter,e);return kv(n,[W2(Tf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ki.exists(!1))]).then(()=>r)}function hd(t,...e){var n,r,i;t=Kt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||tC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(tC(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Gr)u=bi(t.firestore,vo),c=fv(t._key.path),l={next:d=>{e[o]&&e[o](cN(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=bi(t,Ks);u=bi(d.firestore,vo),c=d._query;const h=new Z_(u);l={next:f=>{e[o]&&e[o](new uN(u,h,d,f))},error:e[o+1],complete:e[o+2]},Q2(t._query)}return function(d,h,f,p){const m=new K_(p),v=new H_(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>U_(await Fm(d),v)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>B_(await Fm(d),v))}}(Iv(u),c,a,l)}function kv(t,e){return function(n,r){const i=new oo;return n.asyncQueue.enqueueAndForget(async()=>kH(await jH(n),r,i)),i.promise}(Iv(t),e)}function cN(t,e,n){const r=n.docs.get(e._key),i=new Z_(t);return new lN(t,i,e._key,r,new dd(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Cc=n})(ma),_i(new si("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new vo(new gj(n.getProvider("auth-internal")),new wj(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new HR(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xr(_I,"3.13.0",t),xr(_I,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebasestorage.googleapis.com",hN="storageBucket",yW=2*60*1e3,bW=10*60*1e3,wW=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends $i{constructor(e,n,r=0){super(By(e),`Firebase Storage: ${n} (${By(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return By(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var En;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(En||(En={}));function By(t){return"storage/"+t}function eT(){const t="An unknown error occurred, please check the error payload for server response.";return new $n(En.UNKNOWN,t)}function _W(t){return new $n(En.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function TW(t){return new $n(En.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $n(En.UNAUTHENTICATED,t)}function EW(){return new $n(En.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IW(t){return new $n(En.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fN(){return new $n(En.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pN(){return new $n(En.CANCELED,"User canceled the upload/download.")}function CW(t){return new $n(En.INVALID_URL,"Invalid URL '"+t+"'.")}function OW(t){return new $n(En.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function AW(){return new $n(En.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hN+"' property when initializing the app?")}function mN(){return new $n(En.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kW(){return new $n(En.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function PW(){return new $n(En.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xW(t){return new $n(En.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rw(t){return new $n(En.INVALID_ARGUMENT,t)}function gN(){return new $n(En.APP_DELETED,"The Firebase app was deleted.")}function DW(t){return new $n(En.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dd(t,e){return new $n(En.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vc(t){throw new $n(En.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Oi.makeFromUrl(e,n)}catch{return new Oi(e,"")}if(r.path==="")return r;throw OW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===dN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${v}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<_.length;w++){const T=_[w],S=T.regex.exec(e);if(S){const O=S[T.indices.bucket];let R=S[T.indices.path];R||(R=""),r=new Oi(O,R),T.postModify(r);break}}if(r==null)throw CW(e);return r}}class RW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(f,l())},v)}function h(){s&&clearTimeout(s)}function f(v,...y){if(u){h();return}if(v){h(),c.call(null,v,...y);return}if(l()||o){h(),c.call(null,v,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(v){p||(p=!0,h(),!u&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function MW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){return t!==void 0}function LW(t){return typeof t=="function"}function FW(t){return typeof t=="object"&&!Array.isArray(t)}function Pv(t){return typeof t=="string"||t instanceof String}function sC(t){return tT()&&t instanceof Blob}function tT(){return typeof Blob<"u"&&!uV()}function oC(t,e,n,r){if(r<e)throw rw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw rw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qa||(qa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new dp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qa.NO_ERROR,l=s.getStatus();if(!a||yN(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===qa.ABORT;r(!1,new dp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new dp(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$W(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=eT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?gN():pN();o(l)}else{const l=fN();o(l)}};this.canceled_?n(!1,new dp(!1,null,!0)):this.backoffId_=NW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function UW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function HW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WW(t,e,n,r,i,s,o=!0){const a=vN(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return jW(u,e),UW(u,n),BW(u,s),HW(u,r),new VW(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zW(...t){const e=KW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(tT())return new Blob(t);throw new $n(En.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){if(typeof atob>"u")throw xW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jy{constructor(e,n){this.data=e,this.contentType=n||null}}function qW(t,e){switch(t){case ks.RAW:return new jy(bN(e));case ks.BASE64:case ks.BASE64URL:return new jy(wN(t,e));case ks.DATA_URL:return new jy(QW(e),JW(e))}throw eT()}function bN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XW(t){let e;try{e=decodeURIComponent(t)}catch{throw Dd(ks.DATA_URL,"Malformed data URL.")}return bN(e)}function wN(t,e){switch(t){case ks.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Dd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ks.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Dd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YW(e)}catch(i){throw i.message.includes("polyfill")?i:Dd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _N{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Dd(ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ZW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function QW(t){const e=new _N(t);return e.base64?wN(ks.BASE64,e.rest):XW(e.rest)}function JW(t){return new _N(t).contentType}function ZW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){let r=0,i="";sC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(sC(this.data_)){const r=this.data_,i=GW(r,e,n);return i===null?null:new jo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new jo(r,!0)}}static getBlob(...e){if(tT()){const n=e.map(r=>r instanceof jo?r.data_:r);return new jo(zW.apply(null,n))}else{const n=e.map(o=>Pv(o)?qW(ks.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new jo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){let e;try{e=JSON.parse(t)}catch{return null}return FW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t,e){return e}class Qr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||nK}}let hp=null;function rK(t){return!Pv(t)||t.length<2?t:SN(t)}function EN(){if(hp)return hp;const t=[];t.push(new Qr("bucket")),t.push(new Qr("generation")),t.push(new Qr("metageneration")),t.push(new Qr("name","fullPath",!0));function e(s,o){return rK(o)}const n=new Qr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Qr("size");return i.xform=r,t.push(i),t.push(new Qr("timeCreated")),t.push(new Qr("updated")),t.push(new Qr("md5Hash",null,!0)),t.push(new Qr("cacheControl",null,!0)),t.push(new Qr("contentDisposition",null,!0)),t.push(new Qr("contentEncoding",null,!0)),t.push(new Qr("contentLanguage",null,!0)),t.push(new Qr("contentType",null,!0)),t.push(new Qr("metadata","customMetadata",!0)),hp=t,hp}function iK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Oi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function sK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return iK(r,t),r}function IN(t,e,n){const r=TN(e);return r===null?null:sK(t,r,n)}function oK(t,e,n,r){const i=TN(e);if(i===null||!Pv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=kc(h,n,r),p=vN({alt:"media",token:u});return f+p})[0]}function CN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Nl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){if(!t)throw eT()}function nT(t,e){function n(r,i){const s=IN(t,i,e);return ao(s!==null),s}return n}function aK(t,e){function n(r,i){const s=IN(t,i,e);return ao(s!==null),oK(s,i,t.host,t._protocol)}return n}function Ef(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=EW():i=SW():n.getStatus()===402?i=TW(t.bucket):n.getStatus()===403?i=IW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function rT(t){const e=Ef(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=_W(t.path)),s.serverResponse=i.serverResponse,s}return n}function lK(t,e,n){const r=e.fullServerUrl(),i=kc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Nl(i,s,nT(t,n),o);return a.errorHandler=rT(e),a}function uK(t,e,n){const r=e.fullServerUrl(),i=kc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Nl(i,s,aK(t,n),o);return a.errorHandler=rT(e),a}function cK(t,e){const n=e.fullServerUrl(),r=kc(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Nl(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=rT(e),a}function dK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ON(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=dK(null,e)),r}function hK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let w=0;w<2;w++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=ON(e,r,i),c=CN(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=jo.getBlob(d,r,h);if(f===null)throw mN();const p={name:u.fullPath},m=kc(s,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,b=new Nl(m,v,nT(t,n),y);return b.urlParams=p,b.headers=o,b.body=f.uploadData(),b.errorHandler=Ef(e),b}class Um{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function iT(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ao(!1)}return ao(!!n&&(e||["active"]).indexOf(n)!==-1),n}function fK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=ON(e,r,i),a={name:o.fullPath},l=kc(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=CN(o,n),h=t.maxUploadRetryTime;function f(m){iT(m);let v;try{v=m.getResponseHeader("X-Goog-Upload-URL")}catch{ao(!1)}return ao(Pv(v)),v}const p=new Nl(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=Ef(e),p}function pK(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=iT(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ao(!1)}d||ao(!1);const h=Number(d);return ao(!isNaN(h)),new Um(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Nl(n,o,s,a);return l.headers=i,l.errorHandler=Ef(e),l}const aC=256*1024;function mK(t,e,n,r,i,s,o,a){const l=new Um(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw kW();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(m===null)throw mN();function v(w,T){const S=iT(w,["active","final"]),O=l.current+c,R=r.size();let D;return S==="final"?D=nT(e,s)(w,T):D=null,new Um(O,R,S==="final",D)}const y="POST",b=e.maxUploadRetryTime,_=new Nl(n,y,v,b);return _.headers=p,_.body=m.uploadData(),_.progressCallback=a||null,_.errorHandler=Ef(t),_}const di={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hy(t){switch(t){case"running":case"pausing":case"canceling":return di.RUNNING;case"paused":return di.PAUSED;case"success":return di.SUCCESS;case"canceled":return di.CANCELED;case"error":return di.ERROR;default:return di.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e,n,r){if(LW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class vK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yK extends vK{initXhr(){this.xhr_.responseType="text"}}function Ma(){return new yK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=EN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(En.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(yN(i.status,[]))if(s)i=fN();else{this.sleepTime=Math.max(this.sleepTime*2,wW),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(En.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=fK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ma,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=pK(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ma,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=aC*this._chunkMultiplier,n=new Um(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=mK(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ma,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){aC*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=lK(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ma,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=hK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ma,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=pN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Hy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new gK(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Hy(this._state)){case di.SUCCESS:Kl(this._resolve.bind(null,this.snapshot))();break;case di.CANCELED:case di.ERROR:const n=this._reject;Kl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Hy(this._state)){case di.RUNNING:case di.PAUSED:e.next&&Kl(e.next.bind(e,this.snapshot))();break;case di.SUCCESS:e.complete&&Kl(e.complete.bind(e))();break;case di.CANCELED:case di.ERROR:e.error&&Kl(e.error.bind(e,this._error))();break;default:e.error&&Kl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this._service=e,n instanceof Oi?this._location=n:this._location=Oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gl(e,n)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SN(this._location.path)}get storage(){return this._service}get parent(){const e=eK(this._location.path);if(e===null)return null;const n=new Oi(this._location.bucket,e);return new gl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DW(e)}}function wK(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new bK(t,new jo(e),n)}function _K(t){t._throwIfRoot("getDownloadURL");const e=uK(t.storage,t._location,EN());return t.storage.makeRequestWithTokens(e,Ma).then(n=>{if(n===null)throw PW();return n})}function TK(t){t._throwIfRoot("deleteObject");const e=cK(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ma)}function SK(t,e){const n=tK(t._location.path,e),r=new Oi(t._location.bucket,n);return new gl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EK(t){return/^[A-Za-z]+:\/\//.test(t)}function IK(t,e){return new gl(t,e)}function AN(t,e){if(t instanceof sT){const n=t;if(n._bucket==null)throw AW();const r=new gl(n,n._bucket);return e!=null?AN(r,e):r}else return e!==void 0?SK(t,e):t}function CK(t,e){if(e&&EK(e)){if(t instanceof sT)return IK(t,e);throw rw("To use ref(service, url), the first argument must be a Storage instance.")}else return AN(t,e)}function lC(t,e){const n=e==null?void 0:e[hN];return n==null?null:Oi.makeFromBucketSpec(n,t)}function OK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Mx(i,t.app.options.projectId))}class sT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=dN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yW,this._maxUploadRetryTime=bW,this._requests=new Set,i!=null?this._bucket=Oi.makeFromBucketSpec(i,this._host):this._bucket=lC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=lC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new RW(gN());{const o=WW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const uC="@firebase/storage",cC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="storage";function AK(t,e,n){return t=Kt(t),wK(t,e,n)}function kK(t){return t=Kt(t),_K(t)}function PK(t){return t=Kt(t),TK(t)}function xK(t,e){return t=Kt(t),CK(t,e)}function DK(t=Sc(),e){t=Kt(t);const r=Ws(t,kN).getImmediate({identifier:e}),i=Dx("storage");return i&&RK(r,...i),r}function RK(t,e,n,r={}){OK(t,e,n,r)}function NK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sT(n,r,i,e,ma)}function MK(){_i(new si(kN,NK,"PUBLIC").setMultipleInstances(!0)),xr(uC,cC,""),xr(uC,cC,"esm2017")}MK();const PN=1e3,iw=PN*60,sw=iw*60,Bm=sw*24,jm=Bm*365,xN=async t=>{const e=await hW(t),n=e.data();return n?{id:e.id,...n}:null},zl=async(t,e)=>{const n=await fW(e?J2(t,...e):t);return Promise.all(n.docs.map(r=>xN(r.ref)))},Ui=xN,$K=vW,Hm=pW,Uo=mW,fd=gW,ow=t=>xK(DK(),t),dC=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),LK=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},us=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!us(a,o[l])||o.some((u,c)=>!us(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!us(r,i))return!1}else if(r!==i)return!1}return!0},aw=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/jm,o=r%jm/Bm,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},Wp=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},FK=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},qs=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},ka=t=>Array.isArray(t)?t:[t],VK=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},lw=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),If=t=>Object.keys(t).map(e=>t[e].error).some(e=>typeof e=="boolean"?e:typeof e=="string"?!!e:e.some(n=>n)),DN=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},hC=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)};function oT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function RN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UK=RN,NN=new pa("auth","Firebase",RN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Tc("@firebase/auth");function BK(t,...e){Wm.logLevel<=Bt.WARN&&Wm.warn(`Auth (${ma}): ${t}`,...e)}function Kp(t,...e){Wm.logLevel<=Bt.ERROR&&Wm.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw aT(t,...e)}function Ms(t,...e){return aT(t,...e)}function jK(t,e,n){const r=Object.assign(Object.assign({},UK()),{[e]:n});return new pa("auth","Firebase",r).create(e,{appName:t.name})}function aT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NN.create(t,...e)}function at(t,e,...n){if(!t)throw aT(e,...n)}function eo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kp(e),new Error(e)}function yo(t,e){t||eo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HK(){return fC()==="http:"||fC()==="https:"}function fC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HK()||$x()||"connection"in navigator)?navigator.onLine:!0}function KK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=L1()||Lx()}get(){return WK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=new Cf(3e4,6e4);function Ml(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $l(t,e,n,r,i={}){return $N(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_c(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),MN.fetch()(LN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $N(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zK),e);try{const i=new YK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jK(t,c,u);vs(t,c)}}catch(i){if(i instanceof $i)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function Of(t,e,n,r,i={}){const s=await $l(t,e,n,r,i);return"mfaPendingCredential"in s&&vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function LN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lT(t.config,i):`${t.config.apiScheme}://${i}`}class YK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),GK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ms(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qK(t,e){return $l(t,"POST","/v1/accounts:delete",e)}async function XK(t,e){return $l(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QK(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),i=uT(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rd(Wy(i.auth_time)),issuedAtTime:Rd(Wy(i.iat)),expirationTime:Rd(Wy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wy(t){return Number(t)*1e3}function uT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kp("JWT malformed, contained fewer than 3 sections"),null;try{const i=bm(n);return i?JSON.parse(i):(Kp("Failed to decode base64 JWT payload"),null)}catch(i){return Kp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JK(t){const e=uT(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $i&&ZK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sc(t,XK(n,{idToken:r}));at(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rz(s.providerUserInfo):[],a=nz(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new FN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function tz(t){const e=Kt(t);await Km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rz(t){return t.map(e=>{var{providerId:n}=e,r=oT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(t,e){const n=await $N(t,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=LN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JK(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return at(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await iz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Sh;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(at(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sh,this.toJSON())}_performRefresh(){return eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=oT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ez(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new FN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QK(this,e)}reload(){return tz(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Km(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await sc(this,qK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:w,isAnonymous:T,providerData:S,stsTokenManager:O}=n;at(_&&O,e,"internal-error");const R=Sh.fromJSON(this.name,O);at(typeof _=="string",e,"internal-error"),Ao(d,e.name),Ao(h,e.name),at(typeof w=="boolean",e,"internal-error"),at(typeof T=="boolean",e,"internal-error"),Ao(f,e.name),Ao(p,e.name),Ao(m,e.name),Ao(v,e.name),Ao(y,e.name),Ao(b,e.name);const D=new Xa({uid:_,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:R,createdAt:y,lastLoginAt:b});return S&&Array.isArray(S)&&(D.providerData=S.map(C=>Object.assign({},C))),v&&(D._redirectEventId=v),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sh;i.updateFromServerResponse(n);const s=new Xa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Km(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Map;function to(t){yo(t instanceof Function,"Expected a class definition");let e=pC.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VN.type="NONE";const mC=VN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t,e,n){return`firebase:${t}:${e}:${n}`}class $u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zp(this.userKey,i.apiKey,s),this.fullPersistenceKey=zp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $u(to(mC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||to(mC);const o=zp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Xa._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new $u(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new $u(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WN(e))return"Blackberry";if(KN(e))return"Webos";if(cT(e))return"Safari";if((e.includes("chrome/")||BN(e))&&!e.includes("edge/"))return"Chrome";if(HN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UN(t=qr()){return/firefox\//i.test(t)}function cT(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BN(t=qr()){return/crios\//i.test(t)}function jN(t=qr()){return/iemobile/i.test(t)}function HN(t=qr()){return/android/i.test(t)}function WN(t=qr()){return/blackberry/i.test(t)}function KN(t=qr()){return/webos/i.test(t)}function xv(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sz(t=qr()){var e;return xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oz(){return cV()&&document.documentMode===10}function zN(t=qr()){return xv(t)||HN(t)||KN(t)||WN(t)||/windows phone/i.test(t)||jN(t)}function az(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e=[]){let n;switch(t){case"Browser":n=gC(qr());break;case"Worker":n=`${gC(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}async function YN(t,e){return $l(t,"GET","/v2/recaptchaConfig",Ml(t,e))}function vC(t){return t!==void 0&&t.enterprise!==void 0}class qN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function XN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ms("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lz().appendChild(r)})}function uz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cz="https://www.google.com/recaptcha/enterprise.js?render=",dz="recaptcha-enterprise",hz="NO_RECAPTCHA";class QN{constructor(e){this.type=dz,this.auth=Ll(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{YN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qN(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(hz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}XN(cz+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function oc(t,e,n,r=!1){const i=new QN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yC(this),this.idTokenSubscription=new yC(this),this.beforeStateQueue=new fz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=to(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Km(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kt(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}async initializeRecaptchaConfig(){const e=await YN(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new qN(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new QN(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&to(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[to(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return at(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ll(t){return Kt(t)}class yC{constructor(e){this.auth=e,this.observer=null,this.addObserver=yV(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e){const n=Ws(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(oh(s,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function mz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(to);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gz(t,e,n){const r=Ll(t);at(r._canInitEmulator,r,"emulator-config-failed"),at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ZN(e),{host:o,port:a}=vz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||yz()}function ZN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vz(t){const e=ZN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bC(o)}}}function bC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return eo("not implemented")}_getIdTokenResponse(e){return eo("not implemented")}_linkToIdToken(e,n){return eo("not implemented")}_getReauthenticationResolver(e){return eo("not implemented")}}async function eM(t,e){return $l(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ky(t,e){return Of(t,"POST","/v1/accounts:signInWithPassword",Ml(t,e))}async function bz(t,e){return $l(t,"POST","/v1/accounts:sendOobCode",Ml(t,e))}async function zy(t,e){return bz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ml(t,e))}async function _z(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends dT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Eh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await oc(e,r,"signInWithPassword");return Ky(e,i)}else return Ky(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await oc(e,r,"signInWithPassword");return Ky(e,s)}else return Promise.reject(i)});case"emailLink":return wz(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return eM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _z(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t,e){return Of(t,"POST","/v1/accounts:signInWithIdp",Ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="http://localhost";class vl extends dT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=oT(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new vl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lu(e,n)}buildRequest(){const e={requestUri:Tz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ez(t){const e=rd(id(t)).link,n=e?rd(id(e)).deep_link_id:null,r=rd(id(t)).deep_link_id;return(r?rd(id(r)).link:null)||r||n||e||t}class hT{constructor(e){var n,r,i,s,o,a;const l=rd(id(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Sz((i=l.mode)!==null&&i!==void 0?i:null);at(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Ez(e);try{return new hT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.providerId=da.PROVIDER_ID}static credential(e,n){return Eh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hT.parseLink(n);return at(r,"argument-error"),Eh._fromEmailAndCode(e,r.code,r.tenantId)}}da.PROVIDER_ID="password";da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends tM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Af{constructor(){super("facebook.com")}static credential(e){return vl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vl._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wo.credential(n,r)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Af{constructor(){super("github.com")}static credential(e){return vl._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ko.credential(e.oauthAccessToken)}catch{return null}}}Ko.GITHUB_SIGN_IN_METHOD="github.com";Ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Af{constructor(){super("twitter.com")}static credential(e,n){return vl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.TWITTER_SIGN_IN_METHOD="twitter.com";zo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gy(t,e){return Of(t,"POST","/v1/accounts:signUp",Ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xa._fromIdTokenResponse(e,r,i),o=wC(r);return new yl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wC(r);return new yl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends $i{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zm(e,n,r,i)}}function nM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(t,s,e,r):s})}async function Iz(t,e,n=!1){const r=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await sc(t,nM(r,i,e,t),n);at(s.idToken,r,"internal-error");const o=uT(s.idToken);at(o,r,"internal-error");const{sub:a}=o;return at(t.uid===a,r,"user-mismatch"),yl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e,n=!1){const r="signIn",i=await nM(t,r,e),s=await yl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Cz(t,e){return iM(Ll(t),e)}async function _C(t,e){return rM(Kt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,e,n){var r;at(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),at(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(at(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(at(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e,n){var r;const i=Ll(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await oc(i,s,"getOobCode",!0);n&&Yy(i,o,n),await zy(i,o)}else n&&Yy(i,s,n),await zy(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await oc(i,s,"getOobCode",!0);n&&Yy(i,a,n),await zy(i,a)}else return Promise.reject(o)})}async function Az(t,e,n){var r;const i=Ll(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await oc(i,s,"signUpPassword");o=Gy(i,u)}else o=Gy(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await oc(i,s,"signUpPassword");return Gy(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await yl._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function kz(t,e,n){return Cz(Kt(t),da.credential(e,n))}function Pz(t,e){return sM(Kt(t),e,null)}function xz(t,e){return sM(Kt(t),null,e)}async function sM(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await sc(t,eM(r,s));await t._updateTokensIfNecessary(o,!0)}function oM(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function Dz(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function Rz(t){return Kt(t).signOut()}async function Nz(t){return Kt(t).delete()}const Gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(){const t=qr();return cT(t)||xv(t)}const $z=1e3,Lz=10;class lM extends aM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Mz()&&az(),this.fallbackToPolling=zN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Lz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$z)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lM.type="LOCAL";const uM=lM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM extends aM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cM.type="SESSION";const fT=cM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Fz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=pT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return window}function Uz(t){$s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function Bz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hz(){return dM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="firebaseLocalStorageDb",Wz=1,Ym="firebaseLocalStorage",fM="fbase_key";class kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rv(t,e){return t.transaction([Ym],e?"readwrite":"readonly").objectStore(Ym)}function Kz(){const t=indexedDB.deleteDatabase(hM);return new kf(t).toPromise()}function cw(){const t=indexedDB.open(hM,Wz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ym,{keyPath:fM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ym)?e(r):(r.close(),await Kz(),e(await cw()))})})}async function TC(t,e,n){const r=Rv(t,!0).put({[fM]:e,value:n});return new kf(r).toPromise()}async function zz(t,e){const n=Rv(t,!1).get(e),r=await new kf(n).toPromise();return r===void 0?null:r.value}function SC(t,e){const n=Rv(t,!0).delete(e);return new kf(n).toPromise()}const Gz=800,Yz=3;class pM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dv._getInstance(Hz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bz(),!this.activeServiceWorker)return;this.sender=new Vz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cw();return await TC(e,Gm,"1"),await SC(e,Gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rv(i,!1).getAll();return new kf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pM.type="LOCAL";const mM=pM;new Cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t,e){return e?to(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends dT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xz(t){return iM(t.auth,new mT(t),t.bypassAuthState)}function Qz(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),rM(n,new mT(t),t.bypassAuthState)}async function Jz(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),Iz(n,new mT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xz;case"linkViaPopup":case"linkViaRedirect":return Jz;case"reauthViaPopup":case"reauthViaRedirect":return Qz;default:vs(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new Cf(2e3,1e4);class fu extends gM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fu.currentPopupAction&&fu.currentPopupAction.cancel(),fu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){yo(this.filter.length===1,"Popup operations only handle one event");const e=pT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zz.get())};e()}}fu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG="pendingRedirect",Gp=new Map;class tG extends gM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gp.get(this.auth._key());if(!e){try{const r=await nG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gp.set(this.auth._key(),e)}return this.bypassAuthState||Gp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nG(t,e){const n=sG(e),r=iG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rG(t,e){Gp.set(t._key(),e)}function iG(t){return to(t._redirectPersistence)}function sG(t){return zp(eG,t.config.apiKey,t.name)}async function oG(t,e,n=!1){const r=Ll(t),i=qz(r,e),o=await new tG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=10*60*1e3;class lG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aG&&this.cachedEventUids.clear(),this.cachedEventUids.has(EC(e))}saveEventToCache(e){this.cachedEventUids.add(EC(e)),this.lastProcessedEventTime=Date.now()}}function EC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cG(t,e={}){return $l(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hG=/^https?/;async function fG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cG(t);for(const n of e)try{if(pG(n))return}catch{}vs(t,"unauthorized-domain")}function pG(t){const e=uw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hG.test(n))return!1;if(dG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=new Cf(3e4,6e4);function IC(){const t=$s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gG(t){return new Promise((e,n)=>{var r,i,s;function o(){IC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IC(),n(Ms(t,"network-request-failed"))},timeout:mG.get()})}if(!((i=(r=$s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$s().gapi)===null||s===void 0)&&s.load)o();else{const a=uz("iframefcb");return $s()[a]=()=>{gapi.load?o():n(Ms(t,"network-request-failed"))},XN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yp=null,e})}let Yp=null;function vG(t){return Yp=Yp||gG(t),Yp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=new Cf(5e3,15e3),bG="__/auth/iframe",wG="emulator/auth/iframe",_G={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SG(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lT(e,wG):`https://${t.config.authDomain}/${bG}`,r={apiKey:e.apiKey,appName:t.name,v:ma},i=TG.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_c(r).slice(1)}`}async function EG(t){const e=await vG(t),n=$s().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:SG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_G,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ms(t,"network-request-failed"),a=$s().setTimeout(()=>{s(o)},yG.get());function l(){$s().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CG=500,OG=600,AG="_blank",kG="http://localhost";class CC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PG(t,e,n,r=CG,i=OG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IG),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qr().toLowerCase();n&&(a=BN(u)?AG:n),UN(u)&&(e=e||kG,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(sz(u)&&a!=="_self")return xG(e||"",a),new CC(null);const d=window.open(e||"",a,c);at(d,t,"popup-blocked");try{d.focus()}catch{}return new CC(d)}function xG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="__/auth/handler",RG="emulator/auth/handler",NG=encodeURIComponent("fac");async function OC(t,e,n,r,i,s){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ma,eventId:i};if(e instanceof tM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",l0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Af){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${NG}=${encodeURIComponent(l)}`:"";return`${MG(t)}?${_c(a).slice(1)}${u}`}function MG({config:t}){return t.emulator?lT(t,RG):`https://${t.authDomain}/${DG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="webStorageSupport";class $G{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=oG,this._overrideRedirectResult=rG}async _openPopup(e,n,r,i){var s;yo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await OC(e,n,r,uw(),i);return PG(e,o,pT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await OC(e,n,r,uw(),i);return Uz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EG(e),r=new lG(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qy,{type:qy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[qy];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zN()||cT()||xv()}}const yM=$G;var AC="@firebase/auth",kC="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function VG(t){_i(new si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GN(t)},u=new pz(r,i,s,l);return mz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_i(new si("auth-internal",e=>{const n=Ll(e.getProvider("auth").getImmediate());return(r=>new LG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(AC,kC,FG(t)),xr(AC,kC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=5*60,BG=Nx("authIdTokenMaxAge")||UG;let PC=null;const jG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BG)return;const i=n==null?void 0:n.token;PC!==i&&(PC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HG(t=Sc()){const e=Ws(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JN(t,{popupRedirectResolver:yM,persistence:[mM,uM,fT]}),r=Nx("authTokenSyncURL");if(r){const s=jG(r);Dz(n,s,()=>s(n.currentUser)),oM(n,o=>s(o))}const i=xx("auth");return i&&gz(n,`http://${i}`),n}VG("Browser");const bM=Symbol("firebaseApp");function wM(t){return qi()&&ii(bM,null)||Sc(t)}const pp=new WeakMap;function WG(t,e){if(!pp.has(t)){const n=Eg(!0);pp.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),pp.delete(t)}}return pp.get(t)}const KG=new WeakMap,mp=new WeakMap;function zG(t){const e=wM(t);if(!mp.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{mp.set(e,s),n(s.value)}];mp.set(e,i)}return mp.get(e)}function GG(t,e){oM(e,n=>{const r=zG();t.value=n,Array.isArray(r)&&r[1](t)})}var xC={};const DC="@firebase/database",RC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _M="";function YG(t){_M=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),kr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _o(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qG(e)}}catch{}return new XG},ja=TM("localStorage"),dw=TM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Tc("@firebase/database"),QG=function(){let t=1;return function(){return t++}}(),SM=function(t){const e=TV(t),n=new vV;n.update(e);const r=n.digest();return jg.encodeByteArray(r)},Pf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Pf.apply(null,r):typeof r=="object"?e+=kr(r):e+=r,e+=" "}return e};let Qa=null,NC=!0;const JG=function(t,e){Ue(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fu.logLevel=Bt.VERBOSE,Qa=Fu.log.bind(Fu),e&&dw.set("logging_enabled",!0)):typeof t=="function"?Qa=t:(Qa=null,dw.remove("logging_enabled"))},Fr=function(...t){if(NC===!0&&(NC=!1,Qa===null&&dw.get("logging_enabled")===!0&&JG(!0)),Qa){const e=Pf.apply(null,t);Qa(e)}},xf=function(t){return function(...e){Fr(t,...e)}},hw=function(...t){const e="FIREBASE INTERNAL ERROR: "+Pf(...t);Fu.error(e)},bl=function(...t){const e=`FIREBASE FATAL ERROR: ${Pf(...t)}`;throw Fu.error(e),new Error(e)},Ri=function(...t){const e="FIREBASE WARNING: "+Pf(...t);Fu.warn(e)},ZG=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},EM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},eY=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ac="[MIN_NAME]",wl="[MAX_NAME]",Pc=function(t,e){if(t===e)return 0;if(t===ac||e===wl)return-1;if(e===ac||t===wl)return 1;{const n=MC(t),r=MC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},tY=function(t,e){return t===e?0:t<e?-1:1},Uc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+kr(e))},gT=function(t){if(typeof t!="object"||t===null)return kr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=kr(e[r]),n+=":",n+=gT(t[e[r]]);return n+="}",n},IM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function zi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const CM=function(t){Ue(!EM(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},nY=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},iY=new RegExp("^-?(0*)\\d{1,10}$"),sY=-2147483648,oY=2147483647,MC=function(t){if(iY.test(t)){const e=Number(t);if(e>=sY&&e<=oY)return e}return null},Df=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ri("Exception was thrown by user callback.",n),e},Math.floor(0))}},aY=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Nd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}class fw{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}fw.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="5",OM="v",AM="s",kM="r",PM="f",xM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DM="ls",RM="p",pw="ac",NM="websocket",MM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ja.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ja.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function dY(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $M(t,e,n){Ue(typeof e=="string","typeof type must == string"),Ue(typeof n=="object","typeof params must == object");let r;if(e===NM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===MM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dY(t)&&(n.ns=t.namespace);const i=[];return zi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(){this.counters_={}}incrementCounter(e,n=1){_o(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={},Qy={};function yT(t){const e=t.toString();return Xy[e]||(Xy[e]=new hY),Xy[e]}function fY(t,e){const n=t.toString();return Qy[n]||(Qy[n]=e()),Qy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Df(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="start",mY="close",gY="pLPCommand",vY="pRTLPCB",LM="id",FM="pw",VM="ser",yY="cb",bY="seg",wY="ts",_Y="d",TY="dframe",UM=1870,BM=30,SY=UM-BM,EY=25e3,IY=3e4;class pu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xf(e),this.stats_=yT(n),this.urlFn=l=>(this.appCheckToken&&(l[pw]=this.appCheckToken),$M(n,MM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pY(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IY)),eY(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bT((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$C)this.id=a,this.password=l;else if(o===mY)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[$C]="t",r[VM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yY]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OM]=vT,this.transportSessionId&&(r[AM]=this.transportSessionId),this.lastSessionId&&(r[DM]=this.lastSessionId),this.applicationId&&(r[RM]=this.applicationId),this.appCheckToken&&(r[pw]=this.appCheckToken),typeof location<"u"&&location.hostname&&xM.test(location.hostname)&&(r[kM]=PM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pu.forceAllow_=!0}static forceDisallow(){pu.forceDisallow_=!0}static isAvailable(){return pu.forceAllow_?!0:!pu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nY()&&!rY()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=kr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ax(n),i=IM(r,SY);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[TY]="t",r[LM]=e,r[FM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=kr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=QG(),window[gY+this.uniqueCallbackIdentifier]=e,window[vY+this.uniqueCallbackIdentifier]=n,this.myIFrame=bT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fr("frame writing exception"),a.stack&&Fr(a.stack),Fr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[LM]=this.myID,e[FM]=this.myPW,e[VM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BM+r.length<=UM;){const o=this.pendingSegs.shift();r=r+"&"+bY+i+"="+o.seg+"&"+wY+i+"="+o.ts+"&"+_Y+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(EY)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY=16384,OY=45e3;let qm=null;typeof MozWebSocket<"u"?qm=MozWebSocket:typeof WebSocket<"u"&&(qm=WebSocket);class ss{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xf(this.connId),this.stats_=yT(n),this.connURL=ss.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[OM]=vT,typeof location<"u"&&location.hostname&&xM.test(location.hostname)&&(o[kM]=PM),n&&(o[AM]=n),r&&(o[DM]=r),i&&(o[pw]=i),s&&(o[RM]=s),$M(e,NM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ja.set("previous_websocket_failure",!0);try{let r;Fx(),this.mySock=new qm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ss.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&qm!==null&&!ss.forceDisallow_}static previouslyFailed(){return ja.isInMemoryStorage||ja.get("previous_websocket_failure")===!0}markConnectionHealthy(){ja.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=sh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ue(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=kr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=IM(n,CY);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OY))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ss.responsesRequiredToBeHealthy=2;ss.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[pu,ss]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ss&&ss.isAvailable();let r=n&&!ss.previouslyFailed();if(e.webSocketOnly&&(n||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ss];else{const i=this.transports_=[];for(const s of Ih.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ih.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ih.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=6e4,kY=5e3,PY=10*1024,xY=100*1024,Jy="t",LC="d",DY="s",FC="r",RY="e",VC="o",UC="a",BC="n",jC="p",NY="h";class MY{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xf("c:"+this.id+":"),this.transportManager_=new Ih(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Nd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PY?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Jy in e){const n=e[Jy];n===UC?this.upgradeIfSecondaryHealthy_():n===FC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Uc("t",e),r=Uc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Uc("t",e),r=Uc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Uc(Jy,e);if(LC in e){const r=e[LC];if(n===NY){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===BC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===DY?this.onConnectionShutdown_(r):n===FC?this.onReset_(r):n===RY?hw("Server Error: "+r):n===VC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vT!==r&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Nd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(AY))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kY))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ja.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.allowedEvents_=e,this.listeners_={},Ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ue(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends HM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!L1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xm}getInitialEvent(e){return Ue(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=32,WC=768;class In{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function sn(){return new In("")}function Nt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ha(t){return t.pieces_.length-t.pieceNum_}function yn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new In(t.pieces_,e)}function WM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function $Y(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function KM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function zM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new In(e,0)}function yr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof In)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new In(n,0)}function kt(t){return t.pieceNum_>=t.pieces_.length}function Hi(t,e){const n=Nt(t),r=Nt(e);if(n===null)return e;if(n===r)return Hi(yn(t),yn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function GM(t,e){if(ha(t)!==ha(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function as(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ha(t)>ha(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class LY{constructor(e,n){this.errorPrefix_=n,this.parts_=KM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Kg(this.parts_[r]);YM(this)}}function FY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Kg(e),YM(t)}function VY(t){const e=t.parts_.pop();t.byteLength_-=Kg(e),t.parts_.length>0&&(t.byteLength_-=1)}function YM(t){if(t.byteLength_>WC)throw new Error(t.errorPrefix_+"has a key path longer than "+WC+" bytes ("+t.byteLength_+").");if(t.parts_.length>HC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+HC+") or object contains a cycle "+Pa(t))}function Pa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends HM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new wT}getInitialEvent(e){return Ue(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=1e3,UY=60*5*1e3,KC=30*1e3,BY=1.3,jY=3e4,HY="server_kill",zC=3;class lo extends jM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=lo.nextPersistentConnectionId_++,this.log_=xf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bc,this.maxReconnectDelay_=UY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Fx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(kr(s)),Ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ul,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ue(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;lo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_o(e,"w")){const r=Xu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||gV(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=KC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=mV(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+kr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):hw("Unrecognized action received from server: "+kr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jY&&(this.reconnectDelay_=Bc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+lo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Ue(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Fr("getToken() completed but was canceled"):(Fr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new MY(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Ri(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(HY)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ri(d),l())}}}interrupt(e){Fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],l0(this.interruptReasons_)&&(this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>gT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new In(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zC&&(this.reconnectDelay_=KC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_M.replace(/\./g,"-")]=1,L1()?e["framework.cordova"]=1:Lx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xm.getInstance().currentlyOnline();return l0(this.interruptReasons_)&&e}}lo.nextPersistentConnectionId_=0;lo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Mt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Mt(ac,e),i=new Mt(ac,n);return this.compare(r,i)!==0}minPost(){return Mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp;class qM extends Nv{static get __EMPTY_NODE(){return gp}static set __EMPTY_NODE(e){gp=e}compare(e,n){return Pc(e.name,n.name)}isDefinedOn(e){throw wc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Mt.MIN}maxPost(){return new Mt(wl,gp)}makePost(e,n){return Ue(typeof e=="string","KeyIndex indexValue must always be a string."),new Mt(e,gp)}toString(){return".key"}}const Vu=new qM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gi.EMPTY_NODE,this.right=s??gi.EMPTY_NODE}copy(e,n,r,i,s){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return gi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gr.RED=!0;gr.BLACK=!1;class WY{copy(e,n,r,i,s){return this}insert(e,n,r){return new gr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gi{constructor(e,n=gi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gr.BLACK,null,null))}remove(e){return new gi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vp(this.root_,null,this.comparator_,!0,e)}}gi.EMPTY_NODE=new WY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KY(t,e){return Pc(t.name,e.name)}function _T(t,e){return Pc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw;function zY(t){mw=t}const XM=function(t){return typeof t=="number"?"number:"+CM(t):"string:"+t},QM=function(t){if(t.isLeafNode()){const e=t.val();Ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_o(e,".sv"),"Priority must be a string or number.")}else Ue(t===mw||t.isEmpty(),"priority of unexpected type.");Ue(t===mw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC;class pr{constructor(e,n=pr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QM(this.priorityNode_)}static set __childrenNodeConstructor(e){GC=e}static get __childrenNodeConstructor(){return GC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kt(e)?this:Nt(e)===".priority"?this.priorityNode_:pr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Nt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ue(r!==".priority"||ha(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pr.__childrenNodeConstructor.EMPTY_NODE.updateChild(yn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+XM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=CM(this.value_):e+=this.value_,this.lazyHash_=SM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pr.__childrenNodeConstructor?-1:(Ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=pr.VALUE_TYPE_ORDER.indexOf(n),s=pr.VALUE_TYPE_ORDER.indexOf(r);return Ue(i>=0,"Unknown leaf type: "+n),Ue(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JM,ZM;function GY(t){JM=t}function YY(t){ZM=t}class qY extends Nv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Pc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Mt.MIN}maxPost(){return new Mt(wl,new pr("[PRIORITY-POST]",ZM))}makePost(e,n){const r=JM(e);return new Mt(n,new pr("[PRIORITY-POST]",r))}toString(){return".priority"}}const jr=new qY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=Math.log(2);class QY{constructor(e){const n=s=>parseInt(Math.log(s)/XY,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new gr(h,d.node,gr.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new gr(h,d.node,gr.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const v=d-p,y=d;d-=p;const b=i(v+1,y),_=t[v],w=n?n(_):_;f(new gr(w,_.node,m,null,b))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));m?h(v,gr.BLACK):(h(v,gr.BLACK),h(v,gr.RED))}return c},o=new QY(t.length),a=s(o);return new gi(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy;const Gl={};class no{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ue(Gl&&jr,"ChildrenNode.ts has not been loaded"),Zy=Zy||new no({".priority":Gl},{".priority":jr}),Zy}get(e){const n=Xu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gi?n:null}hasIndex(e){return _o(this.indexSet_,e.toString())}addIndex(e,n){Ue(e!==Vu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Mt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Qm(r,e.getCompare()):a=Gl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new no(c,u)}addToIndexes(e,n){const r=wm(this.indexes_,(i,s)=>{const o=Xu(this.indexSet_,s);if(Ue(o,"Missing index implementation for "+s),i===Gl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Mt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Qm(a,o.getCompare())}else return Gl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Mt(e.name,a))),l.insert(e,e.node)}});return new no(r,this.indexSet_)}removeFromIndexes(e,n){const r=wm(this.indexes_,i=>{if(i===Gl)return i;{const s=n.get(e.name);return s?i.remove(new Mt(e.name,s)):i}});return new no(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;class Jt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QM(this.priorityNode_),this.children_.isEmpty()&&Ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jc||(jc=new Jt(new gi(_T),null,no.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jc}updatePriority(e){return this.children_.isEmpty()?this:new Jt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?jc:n}}getChild(e){const n=Nt(e);return n===null?this:this.getImmediateChild(n).getChild(yn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ue(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Mt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?jc:this.priorityNode_;return new Jt(i,o,s)}}updateChild(e,n){const r=Nt(e);if(r===null)return n;{Ue(Nt(e)!==".priority"||ha(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(yn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(jr,(o,a)=>{n[o]=a.val(e),r++,s&&Jt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+XM(this.getPriority().val())+":"),this.forEachChild(jr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":SM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Mt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Mt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Mt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Mt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Mt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rf?-1:0}withIndex(e){if(e===Vu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Jt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(jr),i=n.getIterator(jr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vu?null:this.indexMap_.get(e.toString())}}Jt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class JY extends Jt{constructor(){super(new gi(_T),Jt.EMPTY_NODE,no.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}}const Rf=new JY;Object.defineProperties(Mt,{MIN:{value:new Mt(ac,Jt.EMPTY_NODE)},MAX:{value:new Mt(wl,Rf)}});qM.__EMPTY_NODE=Jt.EMPTY_NODE;pr.__childrenNodeConstructor=Jt;zY(Rf);YY(Rf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=!0;function Vr(t,e=null){if(t===null)return Jt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pr(n,Vr(e))}if(!(t instanceof Array)&&ZY){const n=[];let r=!1;if(zi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Vr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Mt(o,l)))}}),n.length===0)return Jt.EMPTY_NODE;const s=Qm(n,KY,o=>o.name,_T);if(r){const o=Qm(n,jr.getCompare());return new Jt(s,Vr(e),new no({".priority":o},{".priority":jr}))}else return new Jt(s,Vr(e),no.Default)}else{let n=Jt.EMPTY_NODE;return zi(t,(r,i)=>{if(_o(t,r)&&r.substring(0,1)!=="."){const s=Vr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Vr(e))}}GY(Vr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq extends Nv{constructor(e){super(),this.indexPath_=e,Ue(!kt(e)&&Nt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Pc(e.name,n.name):s}makePost(e,n){const r=Vr(e),i=Jt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Mt(n,i)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,Rf);return new Mt(wl,e)}toString(){return KM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq extends Nv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Pc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Mt.MIN}maxPost(){return Mt.MAX}makePost(e,n){const r=Vr(e);return new Mt(n,r)}toString(){return".value"}}const nq=new tq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){return{type:"value",snapshotNode:t}}function iq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sq(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function YC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ac}hasEnd(){return this.endSet_}getIndexEndValue(){return Ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jr}copy(){const e=new TT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===jr?n="$priority":t.index_===nq?n="$value":t.index_===Vu?n="$key":(Ue(t.index_ instanceof eq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=kr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=kr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+kr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=kr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+kr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==jr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends jM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=xf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Jm.getListenId_(e,r),a={};this.listens_[o]=a;const l=qC(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Xu(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Jm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=qC(e._queryParams),r=e._path.toString(),i=new ul;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_c(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=sh(a.responseText)}catch{Ri("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){return{value:null,children:new Map}}function e$(t,e,n){if(kt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Nt(e);t.children.has(r)||t.children.set(r,Zm());const i=t.children.get(r);e=yn(e),e$(i,e,n)}}function gw(t,e,n){t.value!==null?n(e,t.value):lq(t,(r,i)=>{const s=new In(e.toString()+"/"+r);gw(i,s,n)})}function lq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=10*1e3,cq=30*1e3,dq=5*60*1e3;class hq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new uq(e);const r=QC+(cq-QC)*Math.random();Nd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;zi(e,(i,s)=>{s>0&&_o(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Nd(this.reportStats_.bind(this),Math.floor(Math.random()*2*dq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ps;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ps||(Ps={}));function t$(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function n$(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function r$(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ps.ACK_USER_WRITE,this.source=t$()}operationForChild(e){if(kt(this.path)){if(this.affectedTree.value!=null)return Ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new In(e));return new eg(sn(),n,this.revert)}}else return Ue(Nt(this.path)===e,"operationForChild called for unrelated child."),new eg(yn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ps.OVERWRITE}operationForChild(e){return kt(this.path)?new _l(this.source,sn(),this.snap.getImmediateChild(e)):new _l(this.source,yn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ps.MERGE}operationForChild(e){if(kt(this.path)){const n=this.children.subtree(new In(e));return n.isEmpty()?null:n.value?new _l(this.source,sn(),n.value):new Ch(this.source,sn(),n)}else return Ue(Nt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ch(this.source,yn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(kt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Nt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function fq(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oq(o.childName,o.snapshotNode))}),Hc(t,i,"child_removed",e,r,n),Hc(t,i,"child_added",e,r,n),Hc(t,i,"child_moved",s,r,n),Hc(t,i,"child_changed",e,r,n),Hc(t,i,"value",e,r,n),i}function Hc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>mq(t,a,l)),o.forEach(a=>{const l=pq(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function pq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mq(t,e,n){if(e.childName==null||n.childName==null)throw wc("Should only compare child_ events.");const r=new Mt(e.childName,e.snapshotNode),i=new Mt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t,e){return{eventCache:t,serverCache:e}}function Md(t,e,n,r){return i$(new ST(e,n,r),t.serverCache)}function s$(t,e,n,r){return i$(t.eventCache,new ST(e,n,r))}function vw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Tl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb;const gq=()=>(eb||(eb=new gi(tY)),eb);class vn{constructor(e,n=gq()){this.value=e,this.children=n}static fromObject(e){let n=new vn(null);return zi(e,(r,i)=>{n=n.set(new In(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:sn(),value:this.value};if(kt(e))return null;{const r=Nt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(yn(e),n);return s!=null?{path:yr(new In(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(kt(e))return this;{const n=Nt(e),r=this.children.get(n);return r!==null?r.subtree(yn(e)):new vn(null)}}set(e,n){if(kt(e))return new vn(n,this.children);{const r=Nt(e),s=(this.children.get(r)||new vn(null)).set(yn(e),n),o=this.children.insert(r,s);return new vn(this.value,o)}}remove(e){if(kt(e))return this.children.isEmpty()?new vn(null):new vn(null,this.children);{const n=Nt(e),r=this.children.get(n);if(r){const i=r.remove(yn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new vn(null):new vn(this.value,s)}else return this}}get(e){if(kt(e))return this.value;{const n=Nt(e),r=this.children.get(n);return r?r.get(yn(e)):null}}setTree(e,n){if(kt(e))return n;{const r=Nt(e),s=(this.children.get(r)||new vn(null)).setTree(yn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new vn(this.value,o)}}fold(e){return this.fold_(sn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(yr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,sn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(kt(e))return null;{const s=Nt(e),o=this.children.get(s);return o?o.findOnPath_(yn(e),yr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,sn(),n)}foreachOnPath_(e,n,r){if(kt(e))return this;{this.value&&r(n,this.value);const i=Nt(e),s=this.children.get(i);return s?s.foreachOnPath_(yn(e),yr(n,i),r):new vn(null)}}foreach(e){this.foreach_(sn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(yr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.writeTree_=e}static empty(){return new cs(new vn(null))}}function $d(t,e,n){if(kt(e))return new cs(new vn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Hi(i,e);return s=s.updateChild(o,n),new cs(t.writeTree_.set(i,s))}else{const i=new vn(n),s=t.writeTree_.setTree(e,i);return new cs(s)}}}function JC(t,e,n){let r=t;return zi(n,(i,s)=>{r=$d(r,yr(e,i),s)}),r}function ZC(t,e){if(kt(e))return cs.empty();{const n=t.writeTree_.setTree(e,new vn(null));return new cs(n)}}function yw(t,e){return Fl(t,e)!=null}function Fl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Hi(n.path,e)):null}function eO(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(jr,(r,i)=>{e.push(new Mt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Mt(r,i.value))}),e}function ta(t,e){if(kt(e))return t;{const n=Fl(t,e);return n!=null?new cs(new vn(n)):new cs(t.writeTree_.subtree(e))}}function bw(t){return t.writeTree_.isEmpty()}function lc(t,e){return o$(sn(),t.writeTree_,e)}function o$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ue(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=o$(yr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(yr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t,e){return h$(e,t)}function vq(t,e,n,r,i){Ue(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=$d(t.visibleWrites,e,n)),t.lastWriteId=r}function yq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function bq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ue(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&wq(a,r.path)?i=!1:as(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return _q(t),!0;if(r.snap)t.visibleWrites=ZC(t.visibleWrites,r.path);else{const a=r.children;zi(a,l=>{t.visibleWrites=ZC(t.visibleWrites,yr(r.path,l))})}return!0}else return!1}function wq(t,e){if(t.snap)return as(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&as(yr(t.path,n),e))return!0;return!1}function _q(t){t.visibleWrites=l$(t.allWrites,Tq,sn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Tq(t){return t.visible}function l$(t,e,n){let r=cs.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)as(n,o)?(a=Hi(n,o),r=$d(r,a,s.snap)):as(o,n)&&(a=Hi(o,n),r=$d(r,sn(),s.snap.getChild(a)));else if(s.children){if(as(n,o))a=Hi(n,o),r=JC(r,a,s.children);else if(as(o,n))if(a=Hi(o,n),kt(a))r=JC(r,sn(),s.children);else{const l=Xu(s.children,Nt(a));if(l){const u=l.getChild(yn(a));r=$d(r,sn(),u)}}}else throw wc("WriteRecord should have .snap or .children")}}return r}function u$(t,e,n,r,i){if(!r&&!i){const s=Fl(t.visibleWrites,e);if(s!=null)return s;{const o=ta(t.visibleWrites,e);if(bw(o))return n;if(n==null&&!yw(o,sn()))return null;{const a=n||Jt.EMPTY_NODE;return lc(o,a)}}}else{const s=ta(t.visibleWrites,e);if(!i&&bw(s))return n;if(!i&&n==null&&!yw(s,sn()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(as(u.path,e)||as(e,u.path))},a=l$(t.allWrites,o,e),l=n||Jt.EMPTY_NODE;return lc(a,l)}}}function Sq(t,e,n){let r=Jt.EMPTY_NODE;const i=Fl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(jr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ta(t.visibleWrites,e);return n.forEachChild(jr,(o,a)=>{const l=lc(ta(s,new In(o)),a);r=r.updateImmediateChild(o,l)}),eO(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ta(t.visibleWrites,e);return eO(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Eq(t,e,n,r,i){Ue(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=yr(e,n);if(yw(t.visibleWrites,s))return null;{const o=ta(t.visibleWrites,s);return bw(o)?i.getChild(n):lc(o,i.getChild(n))}}function Iq(t,e,n,r){const i=yr(e,n),s=Fl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ta(t.visibleWrites,i);return lc(o,r.getNode().getImmediateChild(n))}else return null}function Cq(t,e){return Fl(t.visibleWrites,e)}function Oq(t,e,n,r,i,s,o){let a;const l=ta(t.visibleWrites,e),u=Fl(l,sn());if(u!=null)a=u;else if(n!=null)a=lc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function Aq(){return{visibleWrites:cs.empty(),allWrites:[],lastWriteId:-1}}function ww(t,e,n,r){return u$(t.writeTree,t.treePath,e,n,r)}function c$(t,e){return Sq(t.writeTree,t.treePath,e)}function tO(t,e,n,r){return Eq(t.writeTree,t.treePath,e,n,r)}function tg(t,e){return Cq(t.writeTree,yr(t.treePath,e))}function kq(t,e,n,r,i,s){return Oq(t.writeTree,t.treePath,e,n,r,i,s)}function ET(t,e,n){return Iq(t.writeTree,t.treePath,e,n)}function d$(t,e){return h$(yr(t.treePath,e),t.writeTree)}function h$(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ue(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ue(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,YC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sq(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,iq(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,YC(r,e.snapshotNode,i.oldSnap));else throw wc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const f$=new xq;class IT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ST(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ET(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tl(this.viewCache_),s=kq(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Dq(t,e){Ue(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ue(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Rq(t,e,n,r,i){const s=new Pq;let o,a;if(n.type===Ps.OVERWRITE){const u=n;u.source.fromUser?o=_w(t,e,u.path,u.snap,r,i,s):(Ue(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!kt(u.path),o=ng(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ps.MERGE){const u=n;u.source.fromUser?o=Mq(t,e,u.path,u.children,r,i,s):(Ue(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Tw(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ps.ACK_USER_WRITE){const u=n;u.revert?o=Fq(t,e,u.path,r,i,s):o=$q(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ps.LISTEN_COMPLETE)o=Lq(t,e,n.path,r,s);else throw wc("Unknown operation type: "+n.type);const l=s.getChanges();return Nq(e,o,l),{viewCache:o,changes:l}}function Nq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(rq(vw(e)))}}function p$(t,e,n,r,i,s){const o=e.eventCache;if(tg(r,n)!=null)return e;{let a,l;if(kt(n))if(Ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Tl(e),c=u instanceof Jt?u:Jt.EMPTY_NODE,d=c$(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=ww(r,Tl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Nt(n);if(u===".priority"){Ue(ha(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=tO(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=yn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=tO(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=ET(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Md(e,a,o.isFullyInitialized()||kt(n),t.filter.filtersNodes())}}function ng(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(kt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Nt(n);if(!l.isCompleteForPath(n)&&ha(n)>1)return e;const p=yn(n),v=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),f,v,p,f$,null)}const d=s$(e,u,l.isFullyInitialized()||kt(n),c.filtersNodes()),h=new IT(i,d,s);return p$(t,d,n,i,h,a)}function _w(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new IT(i,e,s);if(kt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Md(e,u,!0,t.filter.filtersNodes());else{const d=Nt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Md(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=yn(n),f=a.getNode().getImmediateChild(d);let p;if(kt(h))p=r;else{const m=c.getCompleteChild(d);m!=null?WM(h)===".priority"&&m.getChild(zM(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=Jt.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Md(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nO(t,e){return t.eventCache.isCompleteForChild(e)}function Mq(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=yr(n,l);nO(e,Nt(c))&&(a=_w(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=yr(n,l);nO(e,Nt(c))||(a=_w(t,a,c,u,i,s,o))}),a}function rO(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Tw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;kt(n)?u=r:u=new vn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=rO(t,f,h);l=ng(t,l,new In(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=rO(t,p,h);l=ng(t,l,new In(d),m,i,s,o,a)}}),l}function $q(t,e,n,r,i,s,o){if(tg(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(kt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ng(t,e,n,l.getNode().getChild(n),i,s,a,o);if(kt(n)){let u=new vn(null);return l.getNode().forEachChild(Vu,(c,d)=>{u=u.set(new In(c),d)}),Tw(t,e,n,u,i,s,a,o)}else return e}else{let u=new vn(null);return r.foreach((c,d)=>{const h=yr(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Tw(t,e,n,u,i,s,a,o)}}function Lq(t,e,n,r,i){const s=e.serverCache,o=s$(e,s.getNode(),s.isFullyInitialized()||kt(n),s.isFiltered());return p$(t,o,n,r,f$,i)}function Fq(t,e,n,r,i,s){let o;if(tg(r,n)!=null)return e;{const a=new IT(r,e,i),l=e.eventCache.getNode();let u;if(kt(n)||Nt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=ww(r,Tl(e));else{const d=e.serverCache.getNode();Ue(d instanceof Jt,"serverChildren would be complete if leaf node"),c=c$(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Nt(n);let d=ET(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,yn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Jt.EMPTY_NODE,yn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ww(r,Tl(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||tg(r,sn())!=null,Md(e,u,o,t.filter.filtersNodes())}}function Vq(t,e){const n=Tl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!kt(e)&&!n.getImmediateChild(Nt(e)).isEmpty())?n.getChild(e):null}function iO(t,e,n,r){e.type===Ps.MERGE&&e.source.queryId!==null&&(Ue(Tl(t.viewCache_),"We should always have a full cache before handling merges"),Ue(vw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Rq(t.processor_,i,e,n,r);return Dq(t.processor_,s.viewCache),Ue(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Uq(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Uq(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return fq(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sO;function Bq(t){Ue(!sO,"__referenceConstructor has already been defined"),sO=t}function CT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ue(s!=null,"SyncTree gave us an op for an invalid query."),iO(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(iO(o,e,n,r));return s}}function OT(t,e){let n=null;for(const r of t.views.values())n=n||Vq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oO;function jq(t){Ue(!oO,"__referenceConstructor has already been defined"),oO=t}class aO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vn(null),this.pendingWriteTree_=Aq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hq(t,e,n,r,i){return vq(t.pendingWriteTree_,e,n,r,i),i?$v(t,new _l(t$(),e,n)):[]}function mu(t,e,n=!1){const r=yq(t.pendingWriteTree_,e);if(bq(t.pendingWriteTree_,e)){let s=new vn(null);return r.snap!=null?s=s.set(sn(),!0):zi(r.children,o=>{s=s.set(new In(o),!0)}),$v(t,new eg(r.path,s,n))}else return[]}function Mv(t,e,n){return $v(t,new _l(n$(),e,n))}function Wq(t,e,n){const r=vn.fromObject(n);return $v(t,new Ch(n$(),e,r))}function Kq(t,e,n,r){const i=y$(t,r);if(i!=null){const s=b$(i),o=s.path,a=s.queryId,l=Hi(o,e),u=new _l(r$(a),l,n);return w$(t,o,u)}else return[]}function zq(t,e,n,r){const i=y$(t,r);if(i){const s=b$(i),o=s.path,a=s.queryId,l=Hi(o,e),u=vn.fromObject(n),c=new Ch(r$(a),l,u);return w$(t,o,c)}else return[]}function m$(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Hi(o,e),u=OT(a,l);if(u)return u});return u$(i,e,s,n,!0)}function $v(t,e){return g$(e,t.syncPointTree_,null,a$(t.pendingWriteTree_,sn()))}function g$(t,e,n,r){if(kt(t.path))return v$(t,e,n,r);{const i=e.get(sn());n==null&&i!=null&&(n=OT(i,sn()));let s=[];const o=Nt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=d$(r,o);s=s.concat(g$(a,l,u,c))}return i&&(s=s.concat(CT(i,t,r,n))),s}}function v$(t,e,n,r){const i=e.get(sn());n==null&&i!=null&&(n=OT(i,sn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=d$(r,o),c=t.operationForChild(o);c&&(s=s.concat(v$(c,a,l,u)))}),i&&(s=s.concat(CT(i,t,r,n))),s}function y$(t,e){return t.tagToQueryMap.get(e)}function b$(t){const e=t.indexOf("$");return Ue(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new In(t.substr(0,e))}}function w$(t,e,n){const r=t.syncPointTree_.get(e);Ue(r,"Missing sync point for query tag that we're tracking");const i=a$(t.pendingWriteTree_,e);return CT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new AT(n)}node(){return this.node_}}class kT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=yr(this.path_,e);return new kT(this.syncTree_,n)}node(){return m$(this.syncTree_,this.path_)}}const Gq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lO=function(t,e,n){if(!t||typeof t!="object")return t;if(Ue(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Yq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qq(t[".sv"],e);Ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Yq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ue(!1,"Unexpected server value: "+t)}},qq=function(t,e,n){t.hasOwnProperty("increment")||Ue(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ue(!1,"Unexpected increment value: "+r);const i=e.node();if(Ue(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Xq=function(t,e,n,r){return PT(e,new kT(n,t),r)},Qq=function(t,e,n){return PT(t,new AT(e),n)};function PT(t,e,n){const r=t.getPriority().val(),i=lO(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=lO(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new pr(a,Vr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pr(i))),o.forEachChild(jr,(a,l)=>{const u=PT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function DT(t,e){let n=e instanceof In?e:new In(e),r=t,i=Nt(n);for(;i!==null;){const s=Xu(r.node.children,i)||{children:{},childCount:0};r=new xT(i,r,s),n=yn(n),i=Nt(n)}return r}function xc(t){return t.node.value}function _$(t,e){t.node.value=e,Sw(t)}function T$(t){return t.node.childCount>0}function Jq(t){return xc(t)===void 0&&!T$(t)}function Lv(t,e){zi(t.node.children,(n,r)=>{e(new xT(n,t,r))})}function S$(t,e,n,r){n&&!r&&e(t),Lv(t,i=>{S$(i,e,!0,r)}),n&&r&&e(t)}function Zq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Nf(t){return new In(t.parent===null?t.name:Nf(t.parent)+"/"+t.name)}function Sw(t){t.parent!==null&&eX(t.parent,t.name,t)}function eX(t,e,n){const r=Jq(n),i=_o(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Sw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX=/[\[\].#$\/\u0000-\u001F\u007F]/,nX=/[\[\].#$\u0000-\u001F\u007F]/,tb=10*1024*1024,E$=function(t){return typeof t=="string"&&t.length!==0&&!tX.test(t)},rX=function(t){return typeof t=="string"&&t.length!==0&&!nX.test(t)},iX=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rX(t)},I$=function(t,e,n){const r=n instanceof In?new LY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pa(r)+" with contents = "+e.toString());if(EM(e))throw new Error(t+"contains "+e.toString()+" "+Pa(r));if(typeof e=="string"&&e.length>tb/3&&Kg(e)>tb)throw new Error(t+"contains a string greater than "+tb+" utf8 bytes "+Pa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!E$(o)))throw new Error(t+" contains an invalid key ("+o+") "+Pa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FY(r,o),I$(t,a,r),VY(r)}),i&&s)throw new Error(t+' contains ".value" child '+Pa(r)+" in addition to actual children.")}},sX=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!E$(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iX(n))throw new Error(_V(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aX(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!GM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Vl(t,e,n){aX(t,n),lX(t,r=>as(r,e)||as(e,r))}function lX(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(uX(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function uX(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qa&&Fr("event: "+n.toString()),Df(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="repo_interrupt",dX=25;class hX{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zm(),this.transactionQueueTree_=new xT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fX(t,e,n){if(t.stats_=yT(t.repoInfo_),t.forceRestClient_||aY())t.server_=new Jm(t.repoInfo_,(r,i,s,o)=>{uO(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>cO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{kr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new lo(t.repoInfo_,e,(r,i,s,o)=>{uO(t,r,i,s,o)},r=>{cO(t,r)},r=>{mX(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=fY(t.repoInfo_,()=>new hq(t.stats_,t.server_)),t.infoData_=new aq,t.infoSyncTree_=new aO({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Mv(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),RT(t,"connected",!1),t.serverSyncTree_=new aO({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Vl(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function pX(t){const n=t.infoData_.getNode(new In(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function C$(t){return Gq({timestamp:pX(t)})}function uO(t,e,n,r,i){t.dataUpdateCount++;const s=new In(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=wm(n,u=>Vr(u));o=zq(t.serverSyncTree_,s,l,i)}else{const l=Vr(n);o=Kq(t.serverSyncTree_,s,l,i)}else if(r){const l=wm(n,u=>Vr(u));o=Wq(t.serverSyncTree_,s,l)}else{const l=Vr(n);o=Mv(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=MT(t,s)),Vl(t.eventQueue_,a,o)}function cO(t,e){RT(t,"connected",e),e===!1&&vX(t)}function mX(t,e){zi(e,(n,r)=>{RT(t,n,r)})}function RT(t,e,n){const r=new In("/.info/"+e),i=Vr(n);t.infoData_.updateSnapshot(r,i);const s=Mv(t.infoSyncTree_,r,i);Vl(t.eventQueue_,r,s)}function gX(t){return t.nextWriteId_++}function vX(t){O$(t,"onDisconnectEvents");const e=C$(t),n=Zm();gw(t.onDisconnect_,sn(),(i,s)=>{const o=Xq(i,s,t.serverSyncTree_,e);e$(n,i,o)});let r=[];gw(n,sn(),(i,s)=>{r=r.concat(Mv(t.serverSyncTree_,i,s));const o=_X(t,i);MT(t,o)}),t.onDisconnect_=Zm(),Vl(t.eventQueue_,sn(),r)}function yX(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cX)}function O$(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fr(n,...e)}function A$(t,e,n){return m$(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function NT(t,e=t.transactionQueueTree_){if(e||Fv(t,e),xc(e)){const n=P$(t,e);Ue(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&bX(t,Nf(e),n)}else T$(e)&&Lv(e,n=>{NT(t,n)})}function bX(t,e,n){const r=n.map(u=>u.currentWriteId),i=A$(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Ue(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Hi(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{O$(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(mu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Fv(t,DT(t.transactionQueueTree_,e)),NT(t,t.transactionQueueTree_),Vl(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Df(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ri("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}MT(t,e)}},o)}function MT(t,e){const n=k$(t,e),r=Nf(n),i=P$(t,n);return wX(t,i,r),r}function wX(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Hi(n,l.path);let c=!1,d;if(Ue(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=dX)c=!0,d="maxretry",i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=A$(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){I$("transaction failed: Data returned ",f,l.path);let p=Vr(f);typeof f=="object"&&f!=null&&_o(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=l.currentWriteId,y=C$(t),b=Qq(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=b,l.currentWriteId=gX(t),o.splice(o.indexOf(v),1),i=i.concat(Hq(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(mu(t.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0))}Vl(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Fv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Df(r[a]);NT(t,t.transactionQueueTree_)}function k$(t,e){let n,r=t.transactionQueueTree_;for(n=Nt(e);n!==null&&xc(r)===void 0;)r=DT(r,n),e=yn(e),n=Nt(e);return r}function P$(t,e){const n=[];return x$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function x$(t,e,n){const r=xc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Lv(e,i=>{x$(t,i,n)})}function Fv(t,e){const n=xc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,_$(e,n.length>0?n:void 0)}Lv(e,r=>{Fv(t,r)})}function _X(t,e){const n=Nf(k$(t,e)),r=DT(t.transactionQueueTree_,e);return Zq(r,i=>{nb(t,i)}),nb(t,r),S$(r,i=>{nb(t,i)}),n}function nb(t,e){const n=xc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ue(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ue(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?_$(e,void 0):n.length=s+1,Vl(t.eventQueue_,Nf(e),i);for(let o=0;o<r.length;o++)Df(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TX(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function SX(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ri(`Invalid query segment '${n}' in query '${t}'`)}return e}const dO=function(t,e){const n=EX(t),r=n.namespace;n.domain==="firebase.com"&&bl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&bl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ZG();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cY(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new In(n.pathString)}},EX=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=TX(t.substring(c,d)));const h=SX(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return kt(this._path)?null:WM(this._path)}get ref(){return new Dc(this._repo,this._path)}get _queryIdentifier(){const e=XC(this._queryParams),n=gT(e);return n==="{}"?"default":n}get _queryObject(){return XC(this._queryParams)}isEqual(e){if(e=Kt(e),!(e instanceof $T))return!1;const n=this._repo===e._repo,r=GM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+$Y(this._path)}}class Dc extends $T{constructor(e,n){super(e,n,new TT,!1)}get parent(){const e=zM(this._path);return e===null?null:new Dc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Bq(Dc);jq(Dc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="FIREBASE_DATABASE_EMULATOR_HOST",Ew={};let CX=!1;function OX(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||bl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=dO(s,i),a=o.repoInfo,l,u;typeof process<"u"&&xC&&(u=xC[IX]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=dO(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new fw(fw.OWNER):new uY(t.name,t.options,e);sX("Invalid Firebase Database URL",o),kt(o.path)||bl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=kX(a,t,c,new lY(t.name,n));return new PX(d,t)}function AX(t,e){const n=Ew[e];(!n||n[t.key]!==t)&&bl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),yX(t),delete n[t.key]}function kX(t,e,n,r){let i=Ew[e.name];i||(i={},Ew[e.name]=i);let s=i[t.toURLString()];return s&&bl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new hX(t,CX,n,r),i[t.toURLString()]=s,s}class PX{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dc(this._repo,sn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AX(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t){YG(ma),_i(new si("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return OX(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),xr(DC,RC,t),xr(DC,RC,"esm2017")}lo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};lo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};xX();function D$(t){return qH(wM(t))}function DX(t){return NX({initialUser:t,dependencies:{popupRedirectResolver:yM,persistence:[mM,uM,fT]}})}const RX=Symbol("VueFireAuth");function NX({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=MX(n,r,e,t);GG(i,s)}}function MX(t,e,n,r,i=JN(t,r)){const s=WG(t,e).run(()=>oe(n));return KG.set(t,s),e.provide(RX,i),[s,i]}function $X(t,{firebaseApp:e,modules:n=[]}){t.provide(bM,e);for(const r of n)r(e,t)}const R$={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},LX={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},FX=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],VX=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],N$=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Zn;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await Ui(l)))??[])).map(async l=>rg.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Zn||(Zn={}));var rg;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Ui(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(rg||(rg={}));var Iw;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(Iw||(Iw={}));const ig=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],UX=t=>ig.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),BX=ig.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),rb=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Qt=D$(),Ft={content:ts(Qt,"content"),projects:ts(Qt,"projects"),menuItems:t=>ts(Qt,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:ts(Qt,"menuItemsPrivate"),blogPosts:t=>ts(Qt,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:ts(Qt,"blogPostsPrivate"),blogReactions:t=>ts(Qt,t?"blogReactionsPrivate":"blogReactions"),usersPublic:ts(Qt,"usersPublic"),files:ts(Qt,"files")},hr=RD("main",{state:()=>({profile:R$,content:LX,menuItems:VX,projects:FX,blogPosts:{data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1,databaseCreationActive:!1,databaseMutationActive:!1,databaseDeletionActive:!1},blogReactions:{databaseCreationActive:!1,databaseDeletionActive:!1,unread:[]},publicUsers:[],online:!0,debug:!1,fetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],databaseActionActive:t=>t.blogPosts.databaseCreationActive||t.blogPosts.databaseMutationActive||t.blogPosts.databaseDeletionActive||t.blogReactions.databaseCreationActive||t.blogReactions.databaseDeletionActive},actions:{async fetchAll(t,e){try{this.fetchAllLoading||(this.fetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){Ye.firebaseError(this.debug,n)}finally{this.fetchAllLoading=!1}},async fetchContent(){try{const t=await Ui(zt(Qt,Ft.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){Ye.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await zl(Ft.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Ui(n)))})));this.projects=t.length?dC(t):this.projects}catch(t){Ye.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await zl(Ft.menuItems());if(t)try{e=e.concat(await zl(Ft.menuItemsPrivate,[nw("allowedUserIds","array-contains",zt(Qt,Ft.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?dC(e):this.menuItems,this.menuItems}catch(e){Ye.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{e.loadingIndicator!==!1&&(this.blogPosts.fetchLoading=!0);const r=e.visibility??this.blogPosts.visibility,i=this.blogPosts.data[r][this.blogPosts.data[r].length-1],s=[nC("datePinned","desc"),nC("date","desc"),oW(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[r]=[]),!e.amount&&i&&s.push(lW(i.datePinned,i.date));var n=[];r==="private"&&t?n=await zl(Ft.blogPostsPrivate,[nw("allowedUserIds","array-contains",zt(Qt,Ft.usersPublic.id,t).id),...s]):r==="public"&&(n=await zl(Ft.blogPosts(!1),s));const o=await Promise.all(n.map(async a=>await Zn.mapIncoming(a)));if(e.amount)this.blogPosts.data[r]=o;else for(const a of o)this.blogPosts.data[r].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(r){Ye.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t,e,n={}){try{console.log("attempt to fetch single"),n.loadingIndicator!==!1&&(this.blogPosts.fetchLoading=!0);var r=await Ui(zt(Ft.blogPosts(!!(e!=null&&e.isPrivate)),t));return r||(r=await Ui(zt(Ft.blogPostsPrivate,t))),r?(this.blogPosts.data.single=await Zn.mapIncoming(r),this.blogPosts.data.single):null}catch(i){return Ye.firebaseError(this.debug,i),null}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await zl(Ft.usersPublic)}catch(t){return Ye.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await Ui(zt(Qt,Ft.usersPublic.id,t))}catch(e){return Ye.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},setPreviousBlogPosts(){this.blogPosts.previousData.single=this.blogPosts.data.single,this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkBlogPostForUnreadReactions(t,e){const n=this.blogReactions.unread.length;if(t){let r;if(e?r=this.blogPosts.data.single:r=this.visibleBlogPosts.find(i=>i.id===t.id),r&&r.reactions.length!==t.reactions.length){const i=r.reactions.filter(s=>!t.reactions.some(o=>o.id===s.id));for(const s of i)this.blogReactions.unread.every(o=>o.id!==s.id)&&this.blogReactions.unread.push(s)}}e&&(n!==this.blogReactions.unread.length&&Ye.update("There are unread comments on this page"),this.setPreviousBlogPosts())},checkBlogPostsForUnreadReactions(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts)this.checkBlogPostForUnreadReactions(e);t!==this.blogReactions.unread.length&&Ye.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{this.blogPosts.databaseCreationActive=!0,this.blogPosts.mutationLoading=!0;const i=qs(e);return await Hm(zt(Qt,Ft.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:tr.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?tr.fromDate(e.countdown):null,timer:e.timer?tr.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),Ye.success("Successfully created Post"),!0}catch(i){return Ye.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const i=Ft.blogPosts(n.isPrivate).id;let s="";if(Zn.Content.instanceOf(e)&&(await Uo(zt(Qt,i,t),{...Zn.Content.convert(e),dateUpdated:tr.now()}),s="content"),Zn.Styling.instanceOf(e)&&(await Uo(zt(Qt,i,t),{...Zn.Styling.convert(e)}),s="styling"),Zn.Settings.instanceOf(e)&&(await Uo(zt(Qt,i,t),{...Zn.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){Ye.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.databaseMutationActive=!0,this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||Ye.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,rg.convert(a),{includeTime:!0,fetch:!1})||Ye.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=ow(a);await this.updateFileInfo(l.name,o)||Ye.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return Ye.error("Failed to re-create Post",{debug:this.debug}),!1}else return Ye.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return Ye.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.mutationLoading=!1,this.blogPosts.databaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.databaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=qs(n);return await fd(zt(Qt,Ft.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),Ye.success("Successfully deleted Post"),!0}return!1}catch(n){return Ye.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.databaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.databaseCreationActive=!0;const r=qs(t),i=zt(Qt,Ft.blogPosts(r.isPrivate).id,t.id),s=await Ui(i);if(s){const o=await $K(Ft.blogReactions(r.isPrivate),{user:zt(Qt,Ft.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:tr.now(),post:i});if(await Uo(zt(Qt,Ft.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r,{loadingIndicator:!1});this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return Ye.success("Successfully created Reaction"),!0}return!1}catch(r){return Ye.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.databaseDeletionActive=!0;const i=qs(e);if(n.mutatePost){const s=zt(Qt,Ft.blogPosts(i.isPrivate).id,e.id),o=await Ui(s);o&&await Uo(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await fd(zt(Qt,Ft.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),Ye.success("Successfully deleted Reaction"),!0}catch(i){return Ye.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.databaseDeletionActive=!0;const e=qs(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await fd(zt(Qt,Ft.blogReactions(e.isPrivate).id,r.id));return n.length&&Ye.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return Ye.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.databaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Ui(zt(Qt,Ft.files.path,t))}catch(e){return Ye.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=AK(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,Ye.success("Successfully uploaded File"),!0}catch(r){return Ye.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=qs(i);s=zt(Qt,Ft.blogPosts(o.isPrivate).id,i.id)}return await Hm(zt(Qt,Ft.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return Ye.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=qs(e);n=zt(Qt,Ft.blogPosts(r.isPrivate).id,e.id)}return await Uo(zt(Qt,Ft.files.path,t),{post:n??null}),!0}catch(n){return Ye.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await fd(zt(Qt,Ft.files.path,t.name)),await PK(t),e||Ye.success("Successfully deleted File"),!0}catch(n){return Ye.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(ow(r),!0);return n.length&&Ye.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return Ye.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),au=HG(AD);au.onAuthStateChanged(t=>{wr().fetchUser(t);const e=hr();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Xs=D$(),Ea={users:ts(Xs,"users"),usersPublic:ts(Xs,"usersPublic")},wr=RD("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:au.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Ui(zt(Xs,Ea.usersPublic.id,t.uid));const e=await Ui(zt(Xs,Ea.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await kz(au,t,e);await this.fetchUser(n),Ye.success("Successfully logged in",{route:cr.DASHBOARD})}catch(n){Ye.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await Az(au,t,e);await Hm(zt(Xs,Ea.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),Ye.success("Successfully created your account",{route:cr.DASHBOARD})}catch(r){Ye.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=da.credential(this.firebaseUser.email,e);await _C(this.firebaseUser,n),await Pz(this.firebaseUser,t),Ye.success("Successfully changed your e-mail")}}catch(n){Ye.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=da.credential(this.firebaseUser.email,e);await _C(this.firebaseUser,n),await xz(this.firebaseUser,t),Ye.success("Successfully changed your password")}}catch(n){Ye.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await Oz(au,t),Ye.success("Successfully requested password reset")}catch(e){Ye.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(us(this.currentUser,t)?Ye.warning("Nothing changed in your details"):(await Uo(zt(Xs,Ea.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),Ye.success("Successfully updated your profile")))}catch(e){Ye.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?us(this.publicUser,t)?Ye.warning("Nothing changed in your public profile"):(await Uo(zt(Xs,Ea.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),Ye.success("Successfully updated your public profile")):this.firebaseUser?(await Hm(zt(Xs,Ea.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),Ye.success("Successfully updated your public profile")):Ye.firebaseError(!1)}catch(e){Ye.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await Rz(au),this.currentUser=null,this.publicUser=null,Ye.success("Successfully logged out",{route:cr.HOME})}catch(t){Ye.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await fd(zt(Xs,Ea.users.id,this.firebaseUser.uid)),await Nz(this.firebaseUser),this.currentUser=null,this.publicUser=null,Ye.success("Successfully deleted your account",{route:cr.HOME}))}catch(t){Ye.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function jX(t,e){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[g("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z","clip-rule":"evenodd"})])}function HX(t,e){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[g("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),g("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function WX(t,e){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[g("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function KX(t,e){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[g("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}function zX(t,e){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[g("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}const GX=["href"],YX=Ce({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{},route:{}},setup(t){return(e,n)=>{const r=_n("RouterLink");return e.route?(I(),ne(r,{key:0,class:Pe(e.class),"active-class":e.activeClass,to:{name:e.route}},{default:j(()=>[fe(e.$slots,"default")]),_:3},8,["class","active-class","to"])):e.url?(I(),F("a",{key:1,class:Pe(e.class),href:e.url},[fe(e.$slots,"default")],10,GX)):fe(e.$slots,"default",{key:2,class:Pe(e.class)})}}}),qX=["type","disabled"],XX={class:Pe("w-full flex flex-column justify-center")},et=Ce({__name:"CustomButton",props:{class:{},url:{},route:{},type:{},activeClass:{},style:{type:[Boolean,null,String,Object,Array]},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=ee(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"tertiary":return e.outlined?e.list?"button-outlined-list-tertiary":"button-outlined-tertiary":"button-tertiary";case"neutral":return e.outlined?"button-outlined-neutral":"button-neutral";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"green":return e.outlined?"button-outlined-green":"button-green";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(I(),ne(YX,{class:Pe([n.value,"md:mt-0 py-2 px-4",r.list?"flex flex-column justify-center":"",...E(ka)(e.class)]),activeClass:r.activeClass,url:r.url,route:r.route},{default:j(({class:s})=>[g("button",{class:Pe(s),style:dn(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=Tt(o=>r.$emit("click"),["stop"]))},[g("span",XX,[r.loading?(I(),ne(E(jX),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):q("",!0),fe(r.$slots,"default")])],14,qX)]),_:3},8,["class","activeClass","url","route"]))}}),Wc=Ce({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(I(),F("span",{class:Pe({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},Me(e.time),3))}}),QX=Ce({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=m=>(e.direction==="up"?m=Math.abs(m):m=Math.max(0,m),Math.floor(m)),r=oe(0),i=ee(()=>n(r.value/jm)),s=ee(()=>r.value%jm),o=ee(()=>n(s.value/Bm)),a=ee(()=>s.value%Bm),l=ee(()=>n(a.value/sw)),u=ee(()=>a.value%sw),c=ee(()=>n(u.value/iw)),d=ee(()=>u.value%iw),h=ee(()=>n(d.value/PN)),f=ee(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&h.value===0),p=()=>{r.value=e.time-new Date().getTime(),setTimeout(p,1e3)};return jt(()=>{p()}),(m,v)=>fe(m.$slots,"default",{years:i.value,days:o.value,hours:l.value,minutes:c.value,seconds:h.value,isTimeUp:f.value,daysIsLast:m.direction==="down"?o.value===364:o.value===0,hoursIsLast:m.direction==="down"?l.value===23:o.value===0,minutesIsLast:m.direction==="down"?c.value===59:c.value===0,secondsIsLast:m.direction==="down"?h.value===59:h.value===0})}}),JX={class:"grid grid-flow-col text-center"},ZX={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},eQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},tQ={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},nQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},rQ={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},iQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},sQ={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},oQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},aQ={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},lQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Yl=Ce({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(I(),F("div",{class:Pe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[$(QX,{time:e.time,direction:n.direction},{default:j(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:h,secondsIsLast:f})=>[g("div",JX,[i>0?(I(),F("div",ZX,[g("span",eQ,[$(Wc,{time:i,animate:i>=0&&c&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),N(" years ")])):q("",!0),i>0||s>0||u?(I(),F("div",tQ,[g("span",nQ,[$(Wc,{time:s,animate:s>=0&&d&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),N(" days ")])):q("",!0),i>0||s>0||o>0||u?(I(),F("div",rQ,[g("span",iQ,[$(Wc,{time:o,animate:o>=0&&h&&f,direction:n.direction},null,8,["time","animate","direction"])]),N(" hrs ")])):q("",!0),i>0||s>0||o>0||a>0||u?(I(),F("div",sQ,[g("span",oQ,[$(Wc,{time:a,animate:a>=0&&f,direction:n.direction},null,8,["time","animate","direction"])]),N(" mins ")])):q("",!0),i>0||s>0||o>0||a>0||l>0||u?(I(),F("div",aQ,[g("span",lQ,[$(Wc,{time:l,animate:!u,direction:n.direction},null,8,["time","animate","direction"])]),N(" secs ")])):q("",!0)])]),_:1},8,["time","direction"])],2))}});function ib(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=LT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function uQ(t){return hQ(t)||dQ(t)||LT(t)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return Cw(t)}function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function sb(t,e){return mQ(t)||pQ(t,e)||LT(t,e)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LT(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function mQ(t){if(Array.isArray(t))return t}var xe={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=sb(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(d,h){if(h!=null){var f=Ld(h);if(f==="string"||f==="number")d.push(h);else if(f==="object"){var p=Array.isArray(h)?s(o,h):Object.entries(h).map(function(m){var v=sb(m,2),y=v[0],b=v[1];return o==="style"&&(b||b===0)?"".concat(y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(b):b?y:void 0});d=p.length?d.concat(p.filter(function(m){return!!m})):d}}return d},c)};Object.entries(r).forEach(function(s){var o=sb(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?uQ(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),f,p,m="top";u.top+a+s>h.height?(f=u.top+c-s,m="bottom",f<0&&(f=c)):f=a+u.top+c,u.left+o>h.width?p=Math.max(0,u.left+d+l-o):p=u.left+d,e.style.top=f+"px",e.style.left=p+"px",e.style.transformOrigin=m,r&&(e.style.marginTop=m==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(v){try{var y=window.getComputedStyle(v,null);return i.test(y.getPropertyValue("overflow"))||i.test(y.getPropertyValue("overflowX"))||i.test(y.getPropertyValue("overflowY"))}catch{return!1}},o=ib(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=ib(c),h;try{for(d.s();!(h=d.n()).done;){var f=h.value,p=this.findSingle(l,f);p&&s(p)&&n.push(p)}}catch(m){d.e(m)}finally{d.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(m){o.e(m)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Ld(HTMLElement))==="object"?e instanceof HTMLElement:e&&Ld(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,d=e.clientHeight,h=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+h>d&&(e.scrollTop=c+u-d+h)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=ib(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function gQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yQ(r.key),r)}}function vQ(t,e,n){return e&&hO(t.prototype,e),n&&hO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yQ(t){var e=bQ(t,"string");return Oh(e)=="symbol"?e:String(e)}function bQ(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M$=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};gQ(this,t),this.element=e,this.listener=n}return vQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=xe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function wQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function fO(t,e){return SQ(t)||TQ(t,e)||FT(t,e)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function SQ(t){if(Array.isArray(t))return t}function pO(t){return CQ(t)||IQ(t)||FT(t)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CQ(t){if(Array.isArray(t))return Ow(t)}function ob(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=FT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function FT(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}var Ie={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Fd(e)=="object"&&Fd(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var h=Object.keys(e);if(o=h.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,h[s]))return!1;for(s=o;s--!==0;)if(a=h[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=ob(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=ob(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=ob(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Fd(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=pO(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(pO(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=fO(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=fO(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},mO=0;function uc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return mO++,"".concat(t).concat(mO)}function OQ(t){return xQ(t)||PQ(t)||kQ(t)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function PQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xQ(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return OQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Uu=DQ();function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=MQ(t,"string");return Ah(e)=="symbol"?e:String(e)}function MQ(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Q(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;qi()?jt(t):e?t():qn(t)}var LQ=0;function $$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=oe(!1),r=oe(t),i=oe(null),s=xe.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,h=e.name,f=h===void 0?"style_".concat(++LQ):h,p=e.id,m=p===void 0?void 0:p,v=e.media,y=v===void 0?void 0:v,b=e.nonce,_=b===void 0?void 0:b,w=e.props,T=w===void 0?{}:w,S=function(){},O=function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var V=vO(vO({},T),M),W=V.name||f,L=V.id||m,A=V.nonce||_;i.value=a.querySelector('style[data-primevue-style-id="'.concat(W,'"]'))||a.getElementById(L)||a.createElement("style"),i.value.isConnected||(r.value=C||t,xe.setAttributes(i.value,{type:"text/css",id:L,media:y,nonce:A}),a.head.appendChild(i.value),xe.setAttribute(i.value,"data-primevue-style-id",f),xe.setAttributes(i.value,V)),!n.value&&(S=Ot(r,function(P){i.value.textContent=P},{immediate:!0}),n.value=!0)}},R=function(){!a||!n.value||(S(),xe.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&$Q(O),{id:m,name:f,css:r,unload:R,load:O,isLoaded:Ag(n)}}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function FQ(t,e){return jQ(t)||BQ(t,e)||UQ(t,e)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(t,e){if(t){if(typeof t=="string")return yO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yO(t,e)}}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jQ(t){if(Array.isArray(t))return t}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ab(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return e=WQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=KQ(t,"string");return kh(e)=="symbol"?e:String(e)}function KQ(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,GQ={},YQ={},sr={name:"base",css:zQ,classes:GQ,inlineStyles:YQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?$$(this.css,ab({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=FQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return ab(ab({},this),{},{css:void 0},e)}};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=JQ(t,"string");return Ph(e)=="symbol"?e:String(e)}function JQ(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lb=sr.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $$(e,qQ({name:"global"},n))}});function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function ZQ(t){return V$(t)||eJ(t)||F$(t)||L$()}function eJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yp(t,e){return V$(t)||tJ(t,e)||F$(t,e)||L$()}function L$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F$(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function V$(t){if(Array.isArray(t))return t}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){qp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qp(t,e,n){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rJ(t,"string");return xh(e)=="symbol"?e:String(e)}function rJ(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xr={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;lb.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,f=h?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,p=h?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=p||f)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var m=(o=this.$config)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,v=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,y=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=y||v)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;sr.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ie.isFunction(e)?e.apply(void 0,r):ae.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ie.isNotEmpty(n)&&lb.loadGlobalStyle(n,{nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ie.toFlatCase(n).split("."),s=i.shift();return s?Ie.isObject(e)?this._getOptionValue(Ie.getItemValue(e[Object.keys(e).find(function(o){return Ie.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ie.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$config)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,f=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,pn(pn({},i),{},{global:h||{}})),p=this._getPTDatasets(r);return u||!u&&f?d?this._mergeProps(d,h,f,p):pn(pn(pn({},h),f),p):pn(pn({},f),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ae(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Ie.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&pn(pn({},r==="root"&&pn(qp({},"".concat(i,"name"),Ie.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&qp({},"".concat(i,"extend"),Ie.toFlatCase(this.$.type.name)))),{},qp({},"".concat(i,"section"),Ie.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Ie.isString(e)||Ie.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Ie.toFlatCase(r),h=Ie.toFlatCase(n.$name);return(l=u?d!==h?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(m){return n(m,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$config)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s(e.originalValue),f=s(e.value);return h===void 0&&f===void 0?void 0:Ie.isString(f)?f:Ie.isString(h)?h:u||!u&&f?d?this._mergeProps(d,h,f):pn(pn({},h),f):f}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,pn(pn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ae(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,pn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,pn(pn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,pn(pn({},this.$params),r)),s=this._getOptionValue(lb.inlineStyles,e,pn(pn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return Ie.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,pn({},n.$params))||Ie.getItemValue(r,pn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$config)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return pn(pn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=yp(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=yp(n,2),i=r[0],s=r[1],o=i.split(":"),a=ZQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,d,h){return!u[c]&&(u[c]=d===h.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=yp(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=yp(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},iJ={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},sJ=sr.extend({name:"tag",classes:iJ}),oJ={name:"BaseTag",extends:Xr,props:{value:null,severity:null,rounded:Boolean,icon:String},style:sJ,provide:function(){return{$parentInstance:this}}},kw={name:"Tag",extends:oJ,inheritAttrs:!1};function aJ(t,e,n,r,i,s){return I(),F("span",ae({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(I(),ne(bn(t.$slots.icon),ae({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(I(),F("span",ae({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):q("",!0),t.value||t.$slots.default?fe(t.$slots,"default",{key:2},function(){return[g("span",ae({class:t.cx("value")},t.ptm("value")),Me(t.value),17)]}):q("",!0)],16)}kw.render=aJ;const lJ={class:"flex flex-col"},uJ={class:"flex justify-between"},cJ={class:"xl:flex"},dJ={key:0,class:"flex flex-wrap gap-x-2"},hJ=["src"],fJ={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},pJ=["href"],mJ={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},gJ={key:3,class:"flex flex-wrap gap-2"},vJ={key:1,class:"flex gap-2"},yJ=["src"],bJ={key:0,class:"xl:mt-2"},Bn=Ce({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},route:{},description:{},avatar:{},loading:{type:Boolean},clickable:{type:Boolean},isCollapsed:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,i=()=>{n.clickable&&r("click")};return(s,o)=>{const a=_n("RouterLink");return I(),F("div",{class:Pe(["background-gray-light rounded-secondary p-5",{"md:p-10":!s.isCollapsed,"hover:bg-opacity-30":!!s.url,"animate-pulse":!!s.loading,"cursor-pointer":!!s.clickable&&!!s.isCollapsed}])},[g("div",{class:Pe(["group/bubble flex justify-between",{"cursor-pointer":!!s.clickable&&!s.isCollapsed}]),onClick:i},[g("div",lJ,[g("div",uJ,[g("div",cJ,[s.url||s.clickable?(I(),F("div",dJ,[s.avatar?(I(),F("img",{key:0,class:"rounded-full h-12 w-12",src:s.avatar},null,8,hJ)):q("",!0),s.route?(I(),ne(a,{key:1,to:{name:s.route}},{default:j(()=>[g("h2",fJ,Me(s.title),1)]),_:1},8,["to"])):(I(),F("a",{key:2,href:s.url},[g("h2",mJ,Me(s.title),1)],8,pJ)),s.tags?(I(),F("div",gJ,[(I(!0),F(we,null,nt(s.tags,l=>(I(),ne(E(kw),{class:"h-fit p-2",value:l.value,severity:l.severity,rounded:l.rounded!==!1,icon:l.icon},null,8,["value","severity","rounded","icon"]))),256))])):q("",!0)])):s.title?(I(),F("div",vJ,[s.avatar?(I(),F("img",{key:0,class:"rounded-full h-12 w-12",src:s.avatar},null,8,yJ)):q("",!0),g("h2",ae({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},s.titleProps),[N(Me(s.title)+" ",1),s.tags?(I(!0),F(we,{key:0},nt(s.tags,l=>(I(),ne(E(kw),{class:"ms-2",value:l.value,severity:l.severity,rounded:l.rounded!==!1,icon:l.icon},null,8,["value","severity","rounded","icon"]))),256)):q("",!0)],16)])):q("",!0),s.subTitle?(I(),F("p",ae({key:2,class:"text-sm text-neutral-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},s.subTitleProps),Me(s.subTitle),17)):q("",!0)])]),s.description&&!s.isCollapsed?(I(),F("div",bJ,[(I(!0),F(we,null,nt(Array.isArray(s.description)?s.description:[s.description],l=>(I(),F("p",ae({class:"text-neutral-400 mb-2"},s.descriptionProps),Me(l),17))),256))])):q("",!0)]),fe(s.$slots,"right")],2),s.isCollapsed?q("",!0):fe(s.$slots,"default",{key:0})],2)}}});var wJ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,_J=sr.extend({name:"baseicon",css:wJ});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){TJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJ(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=EJ(t,"string");return Dh(e)=="symbol"?e:String(e)}function EJ(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ba={name:"BaseIcon",extends:Xr,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:_J,methods:{pti:function(){var e=Ie.isEmpty(this.label);return EO(EO({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Vv={name:"ChevronDownIcon",extends:ba},IJ=g("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),CJ=[IJ];function OJ(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),CJ,16)}Vv.render=OJ;var U$={name:"ChevronRightIcon",extends:ba},AJ=g("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),kJ=[AJ];function PJ(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),kJ,16)}U$.render=PJ;function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function IO(t,e){return NJ(t)||RJ(t,e)||DJ(t,e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(t,e){if(t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function NJ(t){if(Array.isArray(t))return t}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pw(t,e,n){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=$J(t,"string");return Rh(e)=="symbol"?e:String(e)}function $J(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lt={_getMeta:function(){return[Ie.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ie.getItemValue(Ie.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ie.toFlatCase(n).split("."),s=i.shift();return s?Ie.isObject(e)?Lt._getOptionValue(Ie.getItemValue(e[Object.keys(e).find(function(o){return Ie.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ie.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var b=Lt._getOptionValue.apply(Lt,arguments);return Ie.isString(b)||Ie.isArray(b)?{class:b}:b},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$config)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,h=u.mergeProps,f=h===void 0?!1:h,p=a?Lt._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,m=Lt._usePT(r,Lt._getPT(i,r.$name),l,s,Pn(Pn({},o),{},{global:p||{}})),v=Lt._getPTDatasets(r,s);return d||!d&&m?f?Lt._mergeProps(r,f,p,m,v):Pn(Pn(Pn({},p),m),v):Pn(Pn({},m),v)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return Pn(Pn({},n==="root"&&Pw({},"".concat(r,"name"),Ie.toFlatCase(e.$name))),{},Pw({},"".concat(r,"section"),Ie.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Ie.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(v){return r(v,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$config)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,h=d===void 0?!1:d,f=o(n.originalValue),p=o(n.value);return f===void 0&&p===void 0?void 0:Ie.isString(p)?p:Ie.isString(f)?f:c||!c&&p?h?Lt._mergeProps(e,h,f,p):Pn(Pn({},f),p):p}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Lt._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Ie.toCapitalCase(n)),c=Lt._getConfig(i,s),d=r==null?void 0:r.$instance,h=Lt._usePT(d,Lt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Lt._getOptionValue,"hooks.".concat(u)),f=Lt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Lt._getOptionValue,"hooks.".concat(u)),p={el:r,binding:i,vnode:s,prevVnode:o};h==null||h(d,p),f==null||f(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ie.isFunction(e)?e.apply(void 0,r):ae.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,d;o._$instances=o._$instances||{};var h=Lt._getConfig(a,l),f=o._$instances[e]||{},p=Ie.isEmpty(f)?Pn(Pn({},n),n==null?void 0:n.methods):{};o._$instances[e]=Pn(Pn({},f),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:f.$el||o||void 0,$style:Pn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$config:h,defaultPT:function(){return Lt._getPT(h==null?void 0:h.pt,void 0,function(v){var y;return v==null||(y=v.directives)===null||y===void 0?void 0:y[e]})},isUnstyled:function(){var v,y;return((v=o.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.unstyled)!==void 0?(y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled:h==null?void 0:h.unstyled},ptm:function(){var v,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Lt._getPTValue(o.$instance,(v=o.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.pt,y,Pn({},b))},ptmo:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Lt._getPTValue(o.$instance,v,y,b,!1)},cx:function(){var v,y,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(v=o.$instance)!==null&&v!==void 0&&v.isUnstyled()?void 0:Lt._getOptionValue((y=o.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.classes,b,Pn({},_))},sx:function(){var v,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b?Lt._getOptionValue((v=o.$instance)===null||v===void 0||(v=v.$style)===null||v===void 0?void 0:v.inlineStyles,y,Pn({},_)):void 0}},p),o.$instance=o._$instances[e],(c=(d=o.$instance)[s])===null||c===void 0||c.call(d,o,a,l,u),o["$".concat(e)]=o.$instance,Lt._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,d,h,f=Lt._getConfig(o,a);sr.loadStyle({nonce:f==null||(u=f.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:f==null||(h=f.csp)===null||h===void 0?void 0:h.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,d,h,f=Lt._getConfig(o,a);sr.loadStyle({nonce:f==null||(u=f.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:f==null||(h=f.csp)===null||h===void 0?void 0:h.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Lt._getMeta.apply(Lt,arguments),n=IO(e,2),r=n[0],i=n[1];return Pn({extend:function(){var o=Lt._getMeta.apply(Lt,arguments),a=IO(o,2),l=a[0],u=a[1];return Lt.extend(l,Pn(Pn(Pn({},i),i==null?void 0:i.methods),u))}},Lt._extend(r,i))}},LJ={root:"p-ink"},FJ=sr.extend({name:"ripple",classes:LJ}),VJ=Lt.extend({style:FJ});function UJ(t){return WJ(t)||HJ(t)||jJ(t)||BJ()}function BJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jJ(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function HJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WJ(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Uv=VJ.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$config;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=xe.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!xe.getHeight(i)&&!xe.getWidth(i)){var s=Math.max(xe.getOuterWidth(r),xe.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=xe.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-xe.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-xe.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&xe.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&xe.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?UJ(e.children).find(function(n){return xe.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),KJ={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},zJ=sr.extend({name:"accordion",classes:KJ}),GJ={name:"BaseAccordion",extends:Xr,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:zJ,provide:function(){return{$parentInstance:this}}},zn={name:"Accordion",extends:GJ,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||uc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||uc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,s={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return ae(this.ptm("tab.".concat(n),{tab:s}),this.ptm("accordiontab.".concat(n),{accordiontab:s}),this.ptm("accordiontab.".concat(n),s),this.ptmo(this.getTabProp(e,"pt"),n,s))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=xe.findSingle(r,'[data-pc-section="header"]');return i?xe.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):xe.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=xe.findSingle(r,'[data-pc-section="header"]');return i?xe.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):xe.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(xe.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:Vv,ChevronRightIcon:U$},directives:{ripple:Uv}};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return e=qJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=XJ(t,"string");return Nh(e)=="symbol"?e:String(e)}function XJ(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QJ=["data-pc-index","data-p-active"],JJ=["data-p-highlight","data-p-disabled"],ZJ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],eZ=["id","aria-labelledby"];function tZ(t,e,n,r,i,s){return I(),F("div",ae({class:t.cx("root")},t.ptmi("root")),[(I(!0),F(we,null,nt(s.tabs,function(o,a){return I(),F("div",ae({key:s.getKey(o,a),class:t.cx("tab.root",{tab:o,index:a})},s.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":s.isTabActive(a)}),[g("div",ae({style:s.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:a}),s.getTabProp(o,"headerClass")]},ql(ql({},s.getTabProp(o,"headerProps")),s.getTabPT(o,"header",a)),{"data-p-highlight":s.isTabActive(a),"data-p-disabled":s.getTabProp(o,"disabled")}),[g("a",ae({id:s.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":s.getTabProp(o,"disabled"),"aria-expanded":s.isTabActive(a),"aria-controls":s.getTabContentId(a),onClick:function(u){return s.onTabClick(u,o,a)},onKeydown:function(u){return s.onTabKeyDown(u,o,a)}},ql(ql({},s.getTabProp(o,"headeractionprops")),s.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(I(),ne(bn(o.children.headericon),{key:0,isTabActive:s.isTabActive(a),active:s.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):s.isTabActive(a)?(I(),ne(bn(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),ae({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])):(I(),ne(bn(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),ae({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(I(),F("span",ae({key:3,class:t.cx("tab.headerTitle")},s.getTabPT(o,"headertitle",a)),Me(o.props.header),17)):q("",!0),o.children&&o.children.header?(I(),ne(bn(o.children.header),{key:4})):q("",!0)],16,ZJ)],16,JJ),$(Xi,ae({name:"p-toggleable-content"},s.getTabPT(o,"transition",a)),{default:j(function(){return[!t.lazy||s.isTabActive(a)?vi((I(),F("div",ae({key:0,id:s.getTabContentId(a),style:s.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),s.getTabProp(o,"contentClass")],role:"region","aria-labelledby":s.getTabHeaderActionId(a)},ql(ql({},s.getTabProp(o,"contentProps")),s.getTabPT(o,"toggleablecontent",a))),[g("div",ae({class:t.cx("tab.content")},s.getTabPT(o,"content",a)),[(I(),ne(bn(o)))],16)],16,eZ)),[[Rs,t.lazy?!0:s.isTabActive(a)]]):q("",!0)]}),_:2},1040)],16,QJ)}),128))],16)}zn.render=tZ;var nZ={},rZ={name:"BaseAccordionTab",extends:Xr,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:nZ,provide:function(){return{$parentInstance:this}}},Ae={name:"AccordionTab",extends:rZ,inheritAttrs:!1};function iZ(t,e,n,r,i,s){return fe(t.$slots,"default")}Ae.render=iZ;var VT={name:"TimesCircleIcon",extends:ba},sZ=g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),oZ=[sZ];function aZ(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),oZ,16)}VT.render=aZ;var lZ={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},uZ=sr.extend({name:"chip",classes:lZ}),cZ={name:"BaseChip",extends:Xr,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:uZ,provide:function(){return{$parentInstance:this}}},B$={name:"Chip",extends:cZ,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:VT}},dZ=["aria-label"],hZ=["src"];function fZ(t,e,n,r,i,s){return i.visible?(I(),F("div",ae({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[t.image?(I(),F("img",ae({key:0,src:t.image},t.ptm("image")),null,16,hZ)):t.$slots.icon?(I(),ne(bn(t.$slots.icon),ae({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(I(),F("span",ae({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):q("",!0),t.label?(I(),F("div",ae({key:3,class:t.cx("label")},t.ptm("label")),Me(t.label),17)):q("",!0)]}),t.removable?fe(t.$slots,"removeicon",{key:0,onClick:s.close,onKeydown:s.onKeydown,removeCallback:s.close,keydownCallback:s.onKeydown},function(){return[(I(),ne(bn(t.removeIcon?"span":"TimesCircleIcon"),ae({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:s.close,onKeydown:s.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):q("",!0)],16,dZ)):q("",!0)}B$.render=fZ;const pZ={key:0,class:"text-red-600"},UT=Ce({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(I(),F("p",pZ,Me(e.error),1)):q("",!0)}});var BT=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(BT||{});const Rt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},mZ=Ce({__name:"TrashIcon",setup(t){return(e,n)=>(I(),ne(E(zX),{class:"h-7 w-7"}))}}),j$=Ce({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(I(),ne(et,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:j(()=>[$(mZ)]),_:1}))}}),gZ={class:"m-4"},vZ=["for"],yZ={class:"flex"},ur=Ce({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete","click"],setup(t,{expose:e,emit:n}){const r=t,i=ee(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===BT.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Rt.Min),typeof r.maxValue=="number"&&h.push(Rt.Max),typeof r.minLength=="number"&&h.push(Rt.MinLength),typeof r.maxLength=="number"&&h.push(Rt.MaxLength),r.compare&&h.push(Rt.EqualTo);const f={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=h.filter(m=>!m.test(f)).map(m=>{var v;return((v=m.compareError)==null?void 0:v.call(m,f))||m.error(f)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,f;return I(),F("div",gZ,[c.label?(I(),F("label",ae({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Me(s.value),17,vZ)):q("",!0),g("div",yZ,[(I(),ne(bn(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),ae({id:o.value,ref:"input",value:i.value,class:"p-input",type:((f=c.inputProps)==null?void 0:f.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a,onClick:d[0]||(d[0]=Tt(p=>u("click"),["stop"]))},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(I(),ne(j$,{key:0,class:"h-fit",onClick:d[1]||(d[1]=p=>u("update:delete"))})):q("",!0)]),c.error?(I(),ne(UT,{key:1,name:c.name,error:c.error},null,8,["name","error"])):q("",!0)])}}}),bZ={class:"flex flex-col gap-2"},kO=Ce({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=Zt(wr()),i=hr(),{deleteBlogReaction:s}=i,{blogReactions:o}=Zt(i),a=ee(()=>o.value.unread.find(d=>d.id===e.reaction.id)),l=ee(()=>{const d=[];return a.value&&d.push({value:"Unread",severity:"warning",rounded:!1}),d}),u=ee(()=>n.value&&e.reaction.user.id===n.value.id||r.value),c=()=>{o.value.unread=o.value.unread.filter(d=>d.id!==e.reaction.id)};return(d,h)=>(I(),ne(Bn,{id:e.reaction.id,class:Pe(["p-5 w-full md:w-3/4",e.post.colorTertiary,e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":a.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:e.reaction.user.displayName||"Unknown user",subTitle:E(aw)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message,tags:l.value},rr({_:2},[u.value||a.value?{name:"right",fn:j(()=>[g("div",bZ,[u.value&&!e.post.locked?(I(),ne(et,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:h[0]||(h[0]=f=>E(s)(e.reaction.id,e.post))},{default:j(()=>[N(" Delete ")]),_:1})):q("",!0),a.value?(I(),ne(et,{key:1,type:"tertiary",outlined:"",class:"h-fit",onClick:c},{default:j(()=>[N(" Mark as read ")]),_:1})):q("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","description","tags"]))}}),wZ={class:"grid justify-items-center p-5 gap-5"},_Z=Ce({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=Zt(wr()),r=hr(),{content:i}=Zt(r),{createBlogReaction:s}=r,o=oe(),a=oe(!1),l=Mn({reaction:{value:"",error:""}}),u=ee(()=>[...e.post.reactions].reverse()),c=ee(()=>u.value.filter((f,p)=>p<3)),d=ee(()=>u.value.filter((f,p)=>p>=3)),h=async()=>{await o.value.test(),!l.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:l.reaction.value,date:new Date})&&(l.reaction.value=""),VK()};return(f,p)=>(I(),F("form",{action:"",onSubmit:Tt(h,["prevent"])},[g("div",wZ,[!E(n)||f.post.reactions.filter(m=>m.user.id===E(n).id).length<20?(I(),ne(Bn,{key:0,class:Pe(["p-5 flex justify-center w-full md:w-3/4","!rounded-primary",f.post.colorTertiary||"bg-secondary-700",f.post.opacityTertiary||"bg-opacity-25"])},{default:j(()=>[$(ur,{class:"w-5/6",id:f.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",f.post.colorSecondary||f.post.colorPrimary||"bg-secondary-600",f.post.opacitySecondary||"!bg-opacity-20",!f.post.locked&&E(n)?"focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50",{"cursor-pointer":!E(n)&&!f.post.locked}]},ref_key:"reaction",ref:o,name:"reaction",placeholder:f.post.locked?"Locked for comments":E(n)?"Reply":E(i).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":p[0]||(p[0]=m=>l.reaction.value=m),error:l.reaction.error,"onUpdate:error":p[1]||(p[1]=m=>l.reaction.error=m),rules:[E(Rt).Required],onClick:p[2]||(p[2]=()=>!E(n)&&!f.post.locked?E(rS).push({name:E(cr).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):q("",!0),(I(!0),F(we,null,nt(c.value,m=>(I(),ne(kO,{post:f.post,reaction:m},null,8,["post","reaction"]))),256)),(I(!0),F(we,null,nt(d.value,m=>vi((I(),ne(kO,{post:f.post,reaction:m},null,8,["post","reaction"])),[[Rs,a.value]])),256)),f.post.reactions.length>3?(I(),ne(et,{key:1,type:"primary",outlined:"",onClick:p[3]||(p[3]=m=>a.value=!a.value)},{default:j(()=>[N(Me(a.value?"Hide older reactions":"View older reactions")+" ",1),g("i",{class:Pe(["ms-2 pi",a.value?"pi-angle-up":"pi-angle-down"]),style:{"font-size":"1.5rem"}},null,2)]),_:1})):q("",!0)])],32))}}),TZ=Ce({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(I(),F("div",null,[g("div",{class:Pe({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[g("ul",{class:Pe(["list-disc",{"ms-5":e.alignment==="left"}])},[(I(!0),F(we,null,nt(e.bullets,r=>(I(),F("li",null,Me(r),1))),256))],2)],2)]))}}),SZ=["href"],EZ={class:"break-all"},IZ={key:1},CZ={key:2},bp=Ce({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(I(!0),F(we,null,nt(e.description.split(`
`).map(s=>s.trim()),s=>(I(),F("div",{class:Pe(["text-lg",e.class])},[g("div",{class:Pe({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(I(),F("a",{key:0,href:s,onClick:i[0]||(i[0]=Tt(()=>{},["stop"])),class:"underline hover:no-underline"},[g("span",EZ,Me(s),1)],8,SZ)):s?(I(),F("p",IZ,Me(s),1)):(I(),F("br",CZ))],2)],2))),256))}});function OZ(t){return Zh()?(Ig(t),!0):!1}function Dw(t){return typeof t=="function"?t():E(t)}const AZ=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function kZ(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}const H$=AZ?window:void 0;function PZ(){const t=oe(!1),e=qi();return e&&jt(()=>{t.value=!0},e),t}function xZ(t){const e=PZ();return ee(()=>(e.value,!!t()))}function Kc(t,e={}){const{window:n=H$}=e,r=xZ(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=oe(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=S1(()=>{r.value&&(a(),i=n.matchMedia(Dw(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return OZ(()=>{l(),a(),i=void 0}),s}const Ul={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Bl(t,e={}){function n(c,d){let h=Dw(t[Dw(c)]);return d!=null&&(h=kZ(h,d)),typeof h=="number"&&(h=`${h}px`),h}const{window:r=H$,strategy:i="min-width"}=e;function s(c){return r?r.matchMedia(c).matches:!1}const o=c=>Kc(()=>`(min-width: ${n(c)})`,e),a=c=>Kc(()=>`(max-width: ${n(c)})`,e),l=Object.keys(t).reduce((c,d)=>(Object.defineProperty(c,d,{get:()=>i==="min-width"?o(d):a(d),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(t).map(d=>[d,o(d)]);return ee(()=>c.filter(([,d])=>d.value).map(([d])=>d))}return Object.assign(l,{greaterOrEqual:o,smallerOrEqual:a,greater(c){return Kc(()=>`(min-width: ${n(c,.1)})`,e)},smaller(c){return Kc(()=>`(max-width: ${n(c,-.1)})`,e)},between(c,d){return Kc(()=>`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`,e)},isGreater(c){return s(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return s(`(min-width: ${n(c)})`)},isSmaller(c){return s(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return s(`(max-width: ${n(c)})`)},isInBetween(c,d){return s(`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`)},current:u,active(){const c=u();return ee(()=>c.value.length===0?"":c.value.at(-1))}})}var DZ={root:{position:"relative"}},RZ={root:function(e){var n=e.props;return["p-skeleton p-component",{"p-skeleton-circle":n.shape==="circle","p-skeleton-none":n.animation==="none"}]}},NZ=sr.extend({name:"skeleton",classes:RZ,inlineStyles:DZ}),MZ={name:"BaseSkeleton",extends:Xr,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:NZ,provide:function(){return{$parentInstance:this}}},W$={name:"Skeleton",extends:MZ,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function $Z(t,e,n,r,i,s){return I(),F("div",ae({class:t.cx("root"),style:[t.sx("root"),s.containerStyle],"aria-hidden":"true"},t.ptmi("root")),null,16)}W$.render=$Z;/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){VZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rw(t){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(t)}function LZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function FZ(t,e,n){return e&&xO(t.prototype,e),n&&xO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VZ(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UZ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K$(t){var e=UZ(t,"string");return typeof e=="symbol"?e:String(e)}var DO={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},BZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Bv=typeof window<"u"&&typeof window.document<"u",bo=Bv?window:{},Bu=Bv&&bo.document.documentElement?"ontouchstart"in bo.document.documentElement:!1,HT=Bv?"PointerEvent"in bo:!1,wt="viewer",Xp="move",z$="switch",pd="zoom",wp="".concat(wt,"-active"),jZ="".concat(wt,"-close"),Qp="".concat(wt,"-fade"),Nw="".concat(wt,"-fixed"),HZ="".concat(wt,"-fullscreen"),RO="".concat(wt,"-fullscreen-exit"),$a="".concat(wt,"-hide"),WZ="".concat(wt,"-hide-md-down"),KZ="".concat(wt,"-hide-sm-down"),zZ="".concat(wt,"-hide-xs-down"),Fi="".concat(wt,"-in"),Vd="".concat(wt,"-invisible"),ju="".concat(wt,"-loading"),GZ="".concat(wt,"-move"),NO="".concat(wt,"-open"),Xl="".concat(wt,"-show"),Vn="".concat(wt,"-transition"),cc="click",Mw="dblclick",MO="dragstart",$O="focusin",LO="keydown",ji="load",Ja="error",YZ=Bu?"touchend touchcancel":"mouseup",qZ=Bu?"touchmove":"mousemove",XZ=Bu?"touchstart":"mousedown",FO=HT?"pointerdown":XZ,VO=HT?"pointermove":qZ,UO=HT?"pointerup pointercancel":YZ,BO="resize",ns="transitionend",jO="wheel",HO="ready",WO="show",KO="shown",zO="hide",GO="hidden",YO="view",Mh="viewed",qO="move",XO="moved",QO="rotate",JO="rotated",ZO="scale",eA="scaled",tA="zoom",nA="zoomed",rA="play",iA="stop",sg="".concat(wt,"Action"),WT=/\s\s*/,_p=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function $h(t){return typeof t=="string"}var QZ=Number.isNaN||bo.isNaN;function Dn(t){return typeof t=="number"&&!QZ(t)}function gu(t){return typeof t>"u"}function dc(t){return Rw(t)==="object"&&t!==null}var JZ=Object.prototype.hasOwnProperty;function vu(t){if(!dc(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&JZ.call(n,"isPrototypeOf")}catch{return!1}}function an(t){return typeof t=="function"}function cn(t,e){if(t&&an(e))if(Array.isArray(t)||Dn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else dc(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Ai=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return dc(e)&&r.length>0&&r.forEach(function(s){dc(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},ZZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ls(t,e){var n=t.style;cn(e,function(r,i){ZZ.test(i)&&Dn(r)&&(r+="px"),n[i]=r})}function eee(t){return $h(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function lu(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function dt(t,e){if(!(!t||!e)){if(Dn(t.length)){cn(t,function(r){dt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Gt(t,e){if(!(!t||!e)){if(Dn(t.length)){cn(t,function(n){Gt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Lh(t,e,n){if(e){if(Dn(t.length)){cn(t,function(r){Lh(r,e,n)});return}n?dt(t,e):Gt(t,e)}}var tee=/([a-z\d])([A-Z])/g;function KT(t){return t.replace(tee,"$1-$2").toLowerCase()}function yu(t,e){return dc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(KT(e)))}function $w(t,e,n){dc(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(KT(e)),n)}var G$=function(){var t=!1;if(Bv){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});bo.addEventListener("test",n,r),bo.removeEventListener("test",n,r)}return t}();function ln(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(WT).forEach(function(s){if(!G$){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function gt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(WT).forEach(function(s){if(r.once&&!G$){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Kn(t,e,n,r){var i;return an(Event)&&an(CustomEvent)?i=new CustomEvent(e,jT({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function nee(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Jp(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];Dn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),Dn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),Dn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),Dn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),Dn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function ree(t){return $h(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ub=bo.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(bo.navigator.userAgent);function Y$(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!ub)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),ub||i.removeChild(r)},cn(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,ub||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Tp(t){switch(t){case 2:return zZ;case 3:return KZ;case 4:return WZ;default:return""}}function iee(t){var e=jT({},t),n=[];return cn(t,function(r,i){delete e[i],cn(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),h=(d-c)/c;n.push(h)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Sp(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:jT({timeStamp:Date.now(),startX:n,startY:r},i)}function see(t){var e=0,n=0,r=0;return cn(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var oee={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Ai({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&ls(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",cn(this.images,function(o,a){var l=o.src,u=o.alt||ree(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),h=document.createElement("img");cn(r.inheritedAttributes,function(f){var p=o.getAttribute(f);p!==null&&h.setAttribute(f,p)}),r.navbar&&(h.src=l||c),h.alt=u,h.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(h),i.appendChild(d),s.push(d)}}),this.items=s,cn(s,function(o){var a=o.firstElementChild,l,u;$w(a,"filled",!0),r.loading&&dt(o,ju),gt(a,ji,l=function(d){ln(a,Ja,u),r.loading&&Gt(o,ju),e.loadImage(d)},{once:!0}),gt(a,Ja,u=function(){ln(a,ji,l),r.loading&&Gt(o,ju)},{once:!0})}),r.transition&&gt(n,Mh,function(){dt(i,Vn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;ls(this.list,Ai({width:o*this.length-i},Jp({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Gt(e,Vn),ls(e,Jp({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=Y$(i,r,function(d,h){var f=d/h,p=Math.max(0,Math.min(1,r.initialCoverage)),m=a,v=l;n.imageInitializing=!1,l*f>a?v=a/f:m=l*f,p=Dn(p)?p:.9,m=Math.min(m*p,d),v=Math.min(v*p,h);var y=(a-m)/2,b=(l-v)/2,_={left:y,top:b,x:y,y:b,width:m,height:v,oldRatio:1,ratio:m/d,aspectRatio:f,naturalWidth:d,naturalHeight:h},w=Ai({},_);r.rotatable&&(_.rotate=u.rotate||0,w.rotate=0),r.scalable&&(_.scaleX=u.scaleX||1,_.scaleY=u.scaleY||1,w.scaleX=1,w.scaleY=1),n.imageData=_,n.initialImageData=w,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(ls(r,Ai({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Jp(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&lu(r,Vn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){ln(r,ns,s)}},gt(r,ns,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},aee={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;gt(n,cc,this.onClick=this.click.bind(this)),gt(n,MO,this.onDragStart=this.dragstart.bind(this)),gt(r,FO,this.onPointerDown=this.pointerdown.bind(this)),gt(i,VO,this.onPointerMove=this.pointermove.bind(this)),gt(i,UO,this.onPointerUp=this.pointerup.bind(this)),gt(i,LO,this.onKeyDown=this.keydown.bind(this)),gt(window,BO,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&gt(n,jO,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&gt(r,Mw,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;ln(n,cc,this.onClick),ln(n,MO,this.onDragStart),ln(r,FO,this.onPointerDown),ln(i,VO,this.onPointerMove),ln(i,UO,this.onPointerUp),ln(i,LO,this.onKeyDown),ln(window,BO,this.onResize),e.zoomable&&e.zoomOnWheel&&ln(n,jO,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&ln(r,Mw,this.onDblclick)}},lee={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=yu(i,sg);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=yu(i,sg)),Bu&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(yu(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Bu&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Gt(i,Vd),r.loading&&Gt(this.canvas,ju),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Lh(i,GZ,r.movable),Lh(i,Vn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,an(r.viewed)&&gt(n,Mh,r.viewed,{once:!0}),Kn(n,Mh,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!yu(n,"filled");Y$(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,ls(n,Ai({width:c,height:d},Jp({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Dn(i)&&i!==1||Dn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?cn(e.changedTouches,function(a){r[a.identifier]=Sp(a)}):r[e.pointerId||0]=Sp(e);var o=n.movable?Xp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=pd:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=z$),n.transition&&(o===Xp||o===pd)&&Gt(this.image,Vn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?cn(e.changedTouches,function(i){Ai(n[i.identifier]||{},Sp(i,!0))}):Ai(n[e.pointerId||0]||{},Sp(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?cn(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Xp||i===pd)&&dt(this.image,Vn),this.action=!1,Bu&&i!==pd&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Kn(n.image,Mw,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Kn(n.canvas,cc,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}cn(this.player.getElementsByTagName("img"),function(n){gt(n,ji,e.loadImage.bind(e),{once:!0}),Kn(n,ji)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},uee={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(an(r.show)&&gt(n,WO,r.show,{once:!0}),Kn(n,WO)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Gt(i,$a),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){ln(i,ns,s),Gt(i,Fi)}},dt(i,Vn),i.initialOffsetWidth=i.offsetWidth,gt(i,ns,s,{once:!0}),dt(i,Fi)}else dt(i,Fi),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(an(i.hide)&&gt(r,zO,i.hide,{once:!0}),Kn(r,zO)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Gt(s,Fi),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(ln(s,ns,c),e.hidden())},u=function(){lu(s,Vn)?(gt(s,ns,l),Gt(s,Fi)):a()};this.transitioning={abort:function(){e.viewed&&lu(o,Vn)?ln(o,ns,u):lu(s,Vn)&&ln(s,ns,l)}},this.viewed&&lu(o,Vn)?(gt(o,ns,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=yu(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(cn(i.inheritedAttributes,function(v){var y=l.getAttribute(v);y!==null&&d.setAttribute(v,y)}),d.src=u,d.alt=c,an(i.view)&&gt(r,YO,i.view,{once:!0}),Kn(r,YO,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];h&&(Gt(h,wp),h.removeAttribute("aria-selected")),dt(a,wp),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},dt(d,Vd),i.loading&&dt(o,ju),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var f=function(){var y=e.imageData,b=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=eee(an(b)?b.call(e,d,y):"".concat(c," (").concat(y.naturalWidth," × ").concat(y.naturalHeight,")"))},p,m;return gt(r,Mh,f,{once:!0}),this.viewing={abort:function(){ln(r,Mh,f),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",ln(d,ji,p),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(gt(d,ji,p=function(){ln(d,Ja,m),e.load()},{once:!0}),gt(d,Ja,m=function(){ln(d,ji,p),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Gt(d,Vd),i.loading&&Gt(e.canvas,ju)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Gt(d,Vd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(gu(e)?e:r.x+Number(e),gu(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(Dn(e)?c=!0:e=l,Dn(r)?c=!0:r=u,c){if(an(o.move)&&gt(s,qO,o.move,{once:!0}),Kn(s,qO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,an(o.moved)&&gt(s,XO,o.moved,{once:!0}),Kn(s,XO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),Dn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(an(i.rotate)&&gt(r,QO,i.rotate,{once:!0}),Kn(r,QO,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,an(i.rotated)&&gt(r,JO,i.rotated,{once:!0}),Kn(r,JO,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(Dn(e)?u=!0:e=a,Dn(r)?u=!0:r=l,u){if(an(s.scale)&&gt(i,ZO,s.scale,{once:!0}),Kn(i,ZO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,an(s.scaled)&&gt(i,eA,s.scaled,{once:!0}),Kn(i,eA,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,h=c.y,f=c.width,p=c.height,m=c.naturalWidth,v=c.naturalHeight;if(e=Math.max(0,e),Dn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var y=Math.max(.01,l.minZoomRatio),b=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,y),b)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var _=m*e,w=v*e,T=_-f,S=w-p,O=c.ratio;if(an(l.zoom)&&gt(a,tA,l.zoom,{once:!0}),Kn(a,tA,{ratio:e,oldRatio:O,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var R=nee(this.viewer),D=u&&Object.keys(u).length>0?see(u):{pageX:s.pageX,pageY:s.pageY};c.x-=T*((D.pageX-R.left-d)/f),c.y-=S*((D.pageY-R.top-h)/p)}else vu(i)&&Dn(i.x)&&Dn(i.y)?(c.x-=T*((i.x-d)/f),c.y-=S*((i.y-h)/p)):(c.x-=T/2,c.y-=S/2);c.left=c.x,c.top=c.y,c.width=_,c.height=w,c.oldRatio=O,c.ratio=e,this.renderImage(function(){n.zooming=!1,an(l.zoomed)&&gt(a,nA,l.zoomed,{once:!0}),Kn(a,nA,{ratio:e,oldRatio:O,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(an(i.play)&&gt(r,rA,i.play,{once:!0}),Kn(r,rA)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),dt(s,Xl),cn(this.items,function(h,f){var p=h.querySelector("img"),m=document.createElement("img");m.src=yu(p,"originalUrl"),m.alt=p.getAttribute("alt"),m.referrerPolicy=p.referrerPolicy,l+=1,dt(m,Qp),Lh(m,Vn,i.transition),lu(h,wp)&&(dt(m,Fi),u=f),a.push(m),gt(m,ji,o,{once:!0}),s.appendChild(m)}),Dn(i.interval)&&i.interval>0){var c=function h(){clearTimeout(e.playing.timeout),Gt(a[u],Fi),u-=1,u=u>=0?u:l-1,dt(a[u],Fi),e.playing.timeout=setTimeout(h,i.interval)},d=function h(){clearTimeout(e.playing.timeout),Gt(a[u],Fi),u+=1,u=u<l?u:0,dt(a[u],Fi),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(an(r.stop)&&gt(n,iA,r.stop,{once:!0}),Kn(n,iA)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,cn(i.getElementsByTagName("img"),function(s){ln(s,ji,e.onLoadWhenPlay)}),Gt(i,Xl),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),dt(this.button,RO),n.transition&&(Gt(s,Vn),this.viewed&&Gt(i,Vn)),dt(r,Nw),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),ls(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Ai({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){dt(i,Vn),dt(s,Vn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Gt(this.button,RO),n.transition&&(Gt(s,Vn),this.viewed&&Gt(i,Vn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Gt(r,Nw),ls(r,{zIndex:n.zIndexInline}),this.viewerData=Ai({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){dt(i,Vn),dt(s,Vn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Kn(r,ns),dt(r,Xl),dt(r,Qp),dt(r,Vn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,dt(r,Fi)):(dt(r,Xl),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(gt(r,ns,function(){Gt(r,Xl),Gt(r,Qp),Gt(r,Vn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Gt(r,Fi),e.fading=!0):(Gt(r,Xl),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Ai({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(cn(i?[n]:n.querySelectorAll("img"),function(u){an(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(cn(this.items,function(u,c){var d=u.querySelector("img"),h=s[c];h&&d?(h.src!==d.src||h.alt!==d.alt)&&o.push(c):o.push(c)}),ls(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];dt(l,wp),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[wt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||ln(e,cc,this.onStart),e[wt]=void 0,this):this}},cee={getImageURL:function(e){var n=this.options.url;return $h(n)?n=e.getAttribute(n):an(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),gt(document,$O,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(ln(document,$O,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;dt(e,NO),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Gt(e,NO),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),an(n.shown)&&gt(e,KO,n.shown,{once:!0}),Kn(e,KO)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),dt(r,$a),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(an(n.hidden)&&gt(e,GO,n.hidden,{once:!0}),Kn(e,GO,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?vu(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case Xp:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case pd:this.zoom(iee(r),!1,null,e);break;case z$:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}cn(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},dee=bo.Viewer,hee=function(t){return function(){return t+=1,t}}(-1),hc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(LZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Ai({},DO,vu(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=hee(),this.init()}return FZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[wt]){r[wt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(cn(s?[r]:r.querySelectorAll("img"),function(u){an(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),gu(document.createElement(wt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){cn(o,function(c){c.complete||(ln(c,ji,l),ln(c,Ja,l))})}},cn(o,function(u){if(u.complete)l();else{var c,d;gt(u,ji,c=function(){ln(u,Ja,d),l()},{once:!0}),gt(u,Ja,d=function(){ln(u,ji,c),l()},{once:!0})}})}else gt(r,cc,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!an(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=BZ;var o=s.querySelector(".".concat(wt,"-container")),a=o.querySelector(".".concat(wt,"-title")),l=o.querySelector(".".concat(wt,"-toolbar")),u=o.querySelector(".".concat(wt,"-navbar")),c=o.querySelector(".".concat(wt,"-button")),d=o.querySelector(".".concat(wt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(wt,"-footer")),this.tooltipBox=o.querySelector(".".concat(wt,"-tooltip")),this.player=o.querySelector(".".concat(wt,"-player")),this.list=o.querySelector(".".concat(wt,"-list")),o.id="".concat(wt).concat(this.id),a.id="".concat(wt,"Title").concat(this.id),dt(a,r.title?Tp(Array.isArray(r.title)?r.title[0]:r.title):$a),dt(u,r.navbar?Tp(r.navbar):$a),Lh(c,$a,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(dt(o,"".concat(wt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&$w(d,sg,"hide")),$h(r.className)&&r.className&&r.className.split(WT).forEach(function(_){dt(o,_)}),r.toolbar){var h=document.createElement("ul"),f=vu(r.toolbar),p=_p.slice(0,3),m=_p.slice(7,9),v=_p.slice(9);f||dt(l,Tp(r.toolbar)),cn(f?r.toolbar:_p,function(_,w){var T=f&&vu(_),S=f?KT(w):_,O=T&&!gu(_.show)?_.show:_;if(!(!O||!r.zoomable&&p.indexOf(S)!==-1||!r.rotatable&&m.indexOf(S)!==-1||!r.scalable&&v.indexOf(S)!==-1)){var R=T&&!gu(_.size)?_.size:_,D=T&&!gu(_.click)?_.click:_,C=document.createElement("li");r.keyboard&&C.setAttribute("tabindex",0),C.setAttribute("role","button"),dt(C,"".concat(wt,"-").concat(S)),an(D)||$w(C,sg,S),Dn(O)&&dt(C,Tp(O)),["small","large"].indexOf(R)!==-1?dt(C,"".concat(wt,"-").concat(R)):S==="play"&&dt(C,"".concat(wt,"-large")),an(D)&&gt(C,cc,D),h.appendChild(C)}}),l.appendChild(h)}else dt(l,$a);if(!r.rotatable){var y=l.querySelectorAll('li[class*="rotate"]');dt(y,Vd),cn(y,function(_){l.appendChild(_)})}if(r.inline)dt(c,HZ),ls(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&ls(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{dt(c,jZ),dt(o,Nw),dt(o,Qp),dt(o,$a),ls(o,{zIndex:r.zIndex});var b=r.container;$h(b)&&(b=n.ownerDocument.querySelector(b)),b||(b=this.body),b.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,an(r.ready)&&gt(n,HO,r.ready,{once:!0}),Kn(n,HO)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=dee,t}},{key:"setDefaults",value:function(n){Ai(DO,vu(n)&&n)}}]),t}();Ai(hc.prototype,oee,aee,lee,uee,cee);var fee=typeof global=="object"&&global&&global.Object===Object&&global;const q$=fee;var pee=typeof self=="object"&&self&&self.Object===Object&&self,mee=q$||pee||Function("return this")();const jv=mee;var gee=jv.Symbol;const og=gee;var X$=Object.prototype,vee=X$.hasOwnProperty,yee=X$.toString,zc=og?og.toStringTag:void 0;function bee(t){var e=vee.call(t,zc),n=t[zc];try{t[zc]=void 0;var r=!0}catch{}var i=yee.call(t);return r&&(e?t[zc]=n:delete t[zc]),i}var wee=Object.prototype,_ee=wee.toString;function Tee(t){return _ee.call(t)}var See="[object Null]",Eee="[object Undefined]",sA=og?og.toStringTag:void 0;function Hv(t){return t==null?t===void 0?Eee:See:sA&&sA in Object(t)?bee(t):Tee(t)}function Wv(t){return t!=null&&typeof t=="object"}var Iee="[object Symbol]";function Cee(t){return typeof t=="symbol"||Wv(t)&&Hv(t)==Iee}var Oee=Array.isArray;const Aee=Oee;var kee=/\s/;function Pee(t){for(var e=t.length;e--&&kee.test(t.charAt(e)););return e}var xee=/^\s+/;function Dee(t){return t&&t.slice(0,Pee(t)+1).replace(xee,"")}function Sl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var oA=NaN,Ree=/^[-+]0x[0-9a-f]+$/i,Nee=/^0b[01]+$/i,Mee=/^0o[0-7]+$/i,$ee=parseInt;function aA(t){if(typeof t=="number")return t;if(Cee(t))return oA;if(Sl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Sl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Dee(t);var n=Nee.test(t);return n||Mee.test(t)?$ee(t.slice(2),n?2:8):Ree.test(t)?oA:+t}function Q$(t){return t}var Lee="[object AsyncFunction]",Fee="[object Function]",Vee="[object GeneratorFunction]",Uee="[object Proxy]";function J$(t){if(!Sl(t))return!1;var e=Hv(t);return e==Fee||e==Vee||e==Lee||e==Uee}var Bee=jv["__core-js_shared__"];const cb=Bee;var lA=function(){var t=/[^.]+$/.exec(cb&&cb.keys&&cb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jee(t){return!!lA&&lA in t}var Hee=Function.prototype,Wee=Hee.toString;function Kee(t){if(t!=null){try{return Wee.call(t)}catch{}try{return t+""}catch{}}return""}var zee=/[\\^$.*+?()[\]{}|]/g,Gee=/^\[object .+?Constructor\]$/,Yee=Function.prototype,qee=Object.prototype,Xee=Yee.toString,Qee=qee.hasOwnProperty,Jee=RegExp("^"+Xee.call(Qee).replace(zee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zee(t){if(!Sl(t)||jee(t))return!1;var e=J$(t)?Jee:Gee;return e.test(Kee(t))}function ete(t,e){return t==null?void 0:t[e]}function tte(t,e){var n=ete(t,e);return Zee(n)?n:void 0}function nte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var rte=800,ite=16,ste=Date.now;function ote(t){var e=0,n=0;return function(){var r=ste(),i=ite-(r-n);if(n=r,i>0){if(++e>=rte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ate(t){return function(){return t}}var lte=function(){try{var t=tte(Object,"defineProperty");return t({},"",{}),t}catch{}}();const ag=lte;var ute=ag?function(t,e){return ag(t,"toString",{configurable:!0,enumerable:!1,value:ate(e),writable:!0})}:Q$;const cte=ute;var dte=ote(cte);const hte=dte;var fte=9007199254740991,pte=/^(?:0|[1-9]\d*)$/;function Z$(t,e){var n=typeof t;return e=e??fte,!!e&&(n=="number"||n!="symbol"&&pte.test(t))&&t>-1&&t%1==0&&t<e}function eL(t,e,n){e=="__proto__"&&ag?ag(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function zT(t,e){return t===e||t!==t&&e!==e}var mte=Object.prototype,gte=mte.hasOwnProperty;function tL(t,e,n){var r=t[e];(!(gte.call(t,e)&&zT(r,n))||n===void 0&&!(e in t))&&eL(t,e,n)}function vte(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?eL(n,a,l):tL(n,a,l)}return n}var uA=Math.max;function yte(t,e,n){return e=uA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=uA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),nte(t,this,a)}}function nL(t,e){return hte(yte(t,e,Q$),t+"")}var bte=9007199254740991;function rL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bte}function Kv(t){return t!=null&&rL(t.length)&&!J$(t)}function iL(t,e,n){if(!Sl(n))return!1;var r=typeof e;return(r=="number"?Kv(n)&&Z$(e,n.length):r=="string"&&e in n)?zT(n[e],t):!1}function wte(t){return nL(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&iL(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var _te=Object.prototype;function GT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||_te;return t===n}function Tte(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ste="[object Arguments]";function cA(t){return Wv(t)&&Hv(t)==Ste}var sL=Object.prototype,Ete=sL.hasOwnProperty,Ite=sL.propertyIsEnumerable,Cte=cA(function(){return arguments}())?cA:function(t){return Wv(t)&&Ete.call(t,"callee")&&!Ite.call(t,"callee")};const Ote=Cte;function Ate(){return!1}var oL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dA=oL&&typeof module=="object"&&module&&!module.nodeType&&module,kte=dA&&dA.exports===oL,hA=kte?jv.Buffer:void 0,Pte=hA?hA.isBuffer:void 0,xte=Pte||Ate;const Dte=xte;var Rte="[object Arguments]",Nte="[object Array]",Mte="[object Boolean]",$te="[object Date]",Lte="[object Error]",Fte="[object Function]",Vte="[object Map]",Ute="[object Number]",Bte="[object Object]",jte="[object RegExp]",Hte="[object Set]",Wte="[object String]",Kte="[object WeakMap]",zte="[object ArrayBuffer]",Gte="[object DataView]",Yte="[object Float32Array]",qte="[object Float64Array]",Xte="[object Int8Array]",Qte="[object Int16Array]",Jte="[object Int32Array]",Zte="[object Uint8Array]",ene="[object Uint8ClampedArray]",tne="[object Uint16Array]",nne="[object Uint32Array]",gn={};gn[Yte]=gn[qte]=gn[Xte]=gn[Qte]=gn[Jte]=gn[Zte]=gn[ene]=gn[tne]=gn[nne]=!0;gn[Rte]=gn[Nte]=gn[zte]=gn[Mte]=gn[Gte]=gn[$te]=gn[Lte]=gn[Fte]=gn[Vte]=gn[Ute]=gn[Bte]=gn[jte]=gn[Hte]=gn[Wte]=gn[Kte]=!1;function rne(t){return Wv(t)&&rL(t.length)&&!!gn[Hv(t)]}function ine(t){return function(e){return t(e)}}var aL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ud=aL&&typeof module=="object"&&module&&!module.nodeType&&module,sne=Ud&&Ud.exports===aL,db=sne&&q$.process,one=function(){try{var t=Ud&&Ud.require&&Ud.require("util").types;return t||db&&db.binding&&db.binding("util")}catch{}}();const fA=one;var pA=fA&&fA.isTypedArray,ane=pA?ine(pA):rne;const lne=ane;var une=Object.prototype,cne=une.hasOwnProperty;function lL(t,e){var n=Aee(t),r=!n&&Ote(t),i=!n&&!r&&Dte(t),s=!n&&!r&&!i&&lne(t),o=n||r||i||s,a=o?Tte(t.length,String):[],l=a.length;for(var u in t)(e||cne.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Z$(u,l)))&&a.push(u);return a}function dne(t,e){return function(n){return t(e(n))}}var hne=dne(Object.keys,Object);const fne=hne;var pne=Object.prototype,mne=pne.hasOwnProperty;function gne(t){if(!GT(t))return fne(t);var e=[];for(var n in Object(t))mne.call(t,n)&&n!="constructor"&&e.push(n);return e}function vne(t){return Kv(t)?lL(t):gne(t)}var yne=Object.prototype,bne=yne.hasOwnProperty,wne=wte(function(t,e){if(GT(e)||Kv(e)){vte(e,vne(e),t);return}for(var n in e)bne.call(e,n)&&tL(t,n,e[n])});const _ne=wne;function Tne(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Sne=Object.prototype,Ene=Sne.hasOwnProperty;function Ine(t){if(!Sl(t))return Tne(t);var e=GT(t),n=[];for(var r in t)r=="constructor"&&(e||!Ene.call(t,r))||n.push(r);return n}function Cne(t){return Kv(t)?lL(t,!0):Ine(t)}var One=function(){return jv.Date.now()};const hb=One;var Ane="Expected a function",kne=Math.max,Pne=Math.min;function xne(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Ane);e=aA(e)||0,Sl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?kne(aA(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function f(S){var O=r,R=i;return r=i=void 0,u=S,o=t.apply(R,O),o}function p(S){return u=S,a=setTimeout(y,e),c?f(S):o}function m(S){var O=S-l,R=S-u,D=e-O;return d?Pne(D,s-R):D}function v(S){var O=S-l,R=S-u;return l===void 0||O>=e||O<0||d&&R>=s}function y(){var S=hb();if(v(S))return b(S);a=setTimeout(y,m(S))}function b(S){return a=void 0,h&&r?f(S):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?o:b(hb())}function T(){var S=hb(),O=v(S);if(r=arguments,i=this,l=S,O){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(y,e),f(l)}return a===void 0&&(a=setTimeout(y,e)),o}return T.cancel=_,T.flush=w,T}var uL=Object.prototype,Dne=uL.hasOwnProperty,Rne=nL(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&iL(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Cne(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||zT(c,uL[u])&&!Dne.call(t,u))&&(t[u]=s[u])}return t});const Nne=Rne,Mne=({images:t=[],options:e})=>{e=_ne(e,{inline:!1});const n=document.createElement("div"),r=al("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>al("img",typeof a=="string"?{src:a}:a)));ll(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new hc(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),ll(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},$ne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,h=!1,f=!1){await qn(),!(f&&!r(c))&&(h||!c[`$${t}`]?(o(c),c[`$${t}`]=new hc(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),h=d?d.join(""):void 0;return c.__viewerImageDiffCache===h?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=h,!0)}function i(c,d,h,f){a(c);const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!p){u("Observer not supported");return}const m=new p(y=>{y.forEach(b=>{u(`Viewer mutation:${b.type}`),h(c,d,f,!0)})}),v={attributes:!0,childList:!0,characterData:!0,subtree:!0};m.observe(c,v),c.__viewerMutationObserver=m,u("Observer created")}function s(c,d,h,f){c.__viewerUnwatch=Ot(()=>d.value,(p,m)=>{u("Change detected by watcher: ",d.value),f(c,p,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,h){u("Viewer bind");const f=xne(n,50);f(c,d.value),s(c,d,h,f),d.modifiers.static||i(c,d.value,f,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},Lne=Ce({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=oe();function i(){n=new hc(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return Ot(()=>t.images,()=>{qn(()=>{l()})},u),Ot(()=>t.trigger,()=>{qn(()=>{l()})},u),Ot(()=>t.options,()=>{qn(()=>{o()})},u),jt(()=>i()),Hs(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),Fne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Vne={ref:"root"};function Une(t,e,n,r,i,s){return I(),F("div",Vne,[fe(t.$slots,"default",{images:t.images,options:t.options})],512)}const cL=Fne(Lne,[["render",Une]]),Bne={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&hc.setDefaults(r),t.config.globalProperties[`$${e}Api`]=Mne,t.component(e,Nne(cL,{name:e})),t.directive(e,$ne({name:e,debug:n}))},setDefaults(t){hc.setDefaults(t)}},jne=["src"],mA=Ce({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=Bl(Ul),r=n.greaterOrEqual("sm"),i=n.greaterOrEqual("md"),s=oe(0),o=oe(0),a=ee(()=>s.value>o.value),l=ee(()=>s.value>o.value*1.5),u=ee(()=>o.value>s.value),c=ee(()=>o.value>s.value*1.5),d=ee(()=>i.value?"60%":r.value?"80%":e.maxHeight?e.maxHeight:a.value&&c.value?"80%":"100%"),h=ee(()=>i.value?"60%":r.value?"80%":e.maxWidth?e.maxWidth:u.value&&l.value?"80%":"100%");return jt(()=>{const f=new Image;f.src=e.coverImageUrl,f.onload=()=>{s.value=f.height,o.value=f.width}}),(f,p)=>{var m,v;return I(),F("div",{class:Pe({flex:!0,"justify-start":f.alignment==="left","justify-center":f.alignment===void 0||f.alignment==="center","justify-end":f.alignment==="right"})},[s.value&&o.value?(I(),ne(Bn,{key:0,class:Pe(["!p-0 md:!p-3 xl:!p-5 my-5 w-fit border border-white md:border-none !rounded-none md:!rounded-primary",(m=f.post)==null?void 0:m.colorTertiary,((v=f.post)==null?void 0:v.opacityTertiary)||"bg-opacity-50"]),style:dn({maxHeight:d.value,maxWidth:h.value})},{default:j(()=>[$(E(cL),{class:"cursor-pointer"},{default:j(()=>[g("img",{class:"cover-image md:rounded-primary",src:f.coverImageUrl},null,8,jne)]),_:1})]),_:1},8,["class","style"])):(I(),ne(E(W$),{key:1,class:"mt-5 background-gray-light",width:"75%",height:"200px"}))],2)}}}),Lw=Ce({__name:"ArrowIcon",props:{rotate:{type:Boolean},size:{}},setup(t){return(e,n)=>(I(),ne(E(WX),{class:Pe(["sm:block animation",{"rotate-180":e.rotate,"mt-0.5 mr-2.5 h-5 w-5":!e.size||e.size==="sm","h-10 w-10":e.size==="md","h-20 w-20":e.size==="xl"}])},null,8,["class"]))}}),Hne=Ce({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(I(),F("div",{class:Pe(["font-bold text-lg md:text-2xl",{"hover:underline cursor-pointer":n.isExpandable},e.class])},[g("div",{class:Pe({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[g("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(I(),ne(Lw,{key:0,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):q("",!0),fe(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(I(),ne(Lw,{key:1,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):q("",!0)])],2)],2))}}),Wne={class:"flex flex-wrap justify-end h-fit gap-3"},gA=Ce({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(t){return(e,n)=>(I(),F("div",Wne,[$(et,{class:"min-w-80",onClick:n[0]||(n[0]=r=>e.$emit("editClicked"))},{default:j(()=>[N(" Edit ")]),_:1}),$(et,{class:"min-w-80",type:"danger",outlined:"",onClick:n[1]||(n[1]=r=>e.$emit("deleteClicked"))},{default:j(()=>[N(" Delete ")]),_:1})]))}}),Kne={class:"my-3 flex justify-center"},zne={class:"table w-full md:w-3/4 border border-white border-collapse"},Gne={class:"table-row-group"},Yne={key:0,class:"table-row border border-white"},vA=Ce({__name:"BlogPostTable",props:{table:{}},setup(t){const e=t,n=ee(()=>DN(e.table));return(r,i)=>(I(),F("div",Kne,[g("div",zne,[g("div",Gne,[(I(!0),F(we,null,nt(n.value,(s,o)=>(I(),F(we,{key:o},[s.every(a=>!a)?q("",!0):(I(),F("div",Yne,[(I(!0),F(we,null,nt(s,(a,l)=>(I(),F(we,{key:l},[l!==0||!n.value.every(u=>!u.length||!u[0])?(I(),F("div",{key:0,class:Pe(["table-cell border border-white text-center",{"font-bold":o===0||l===0}])},Me(a),3)):q("",!0)],64))),128))]))],64))),128))])])]))}}),qne={class:"flex gap-3"},Xne=g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[g("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1),Qne={class:"flex justify-between h-fit mt-2 gap-2"},Jne={class:"flex flex-wrap gap-3"},Zne={class:"w-full"},ere={class:"w-full"},dL=Ce({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Zt(hr()),{firebaseUser:r,isOwner:i}=Zt(wr()),s=oe(e.post.archived),o=ee(()=>{var h;return(h=e.post.allowedUserIds)!=null&&h.length?n.value.filter(f=>{var p;return(p=e.post.allowedUserIds)==null?void 0:p.includes(f.id)}):[]}),a=ee(()=>{const h=aw(new Date(e.post.date)),f=e.post.dateUpdated?aw(new Date(e.post.dateUpdated)):"";return h+` - updated ${f}`}),l=ee(()=>{const h=[];return e.post.datePinned&&h.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&h.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&h.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),h}),u=ee(()=>e.post.sections.map(h=>({...h,isExpandable:c(h)}))),c=h=>!!h.description||!!h.coverImageUrl||!!h.bullets.length||!!h.table,d=()=>{const h=document.createElement("textarea"),{protocol:f,hostname:p,port:m}=window.location,v=`${f}//${p}`+(p==="localhost"?`:${m}`:"");h.value=`${v}#${PL.BLOG.path}/${e.post.id}`,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),Ye.success("Copied link!")};return(h,f)=>(I(),ne(Bn,{id:h.post.id,class:Pe([{"min-h-[90vh]":!s.value},"border-4 border-transparent","!rounded-primary",h.post.colorSecondary||h.post.colorPrimary||"bg-secondary-900",h.post.opacitySecondary||"bg-opacity-50"]),title:h.post.title,subTitle:a.value,tags:l.value,loading:h.post.loading,isCollapsed:s.value,clickable:"",onClick:f[4]||(f[4]=p=>s.value=!s.value)},{right:j(()=>[g("div",qne,[s.value?E(i)?(I(),ne(gA,{key:1,onEditClicked:f[0]||(f[0]=p=>h.$emit("editClicked")),onDeleteClicked:f[1]||(f[1]=p=>h.$emit("deleteClicked"))})):q("",!0):(I(),ne(et,{key:0,class:"border-none h-fit",type:"neutral",onClick:d},{default:j(()=>[Xne]),_:1}))])]),default:j(()=>{var p;return[g("div",Qne,[g("div",Jne,[(I(!0),F(we,null,nt(o.value,m=>{var v;return I(),ne(E(B$),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:m.id===((v=E(r))==null?void 0:v.uid)?"You":m.displayName,rounded:""},null,8,["label"])}),256))]),E(i)?(I(),F("div",{key:0,class:Pe(["flex justify-end ms-5",(p=h.post.allowedUserIds)!=null&&p.length?"flex-col md:flex-row":"flex-row"])},[$(gA,{onEditClicked:f[2]||(f[2]=m=>h.$emit("editClicked")),onDeleteClicked:f[3]||(f[3]=m=>h.$emit("deleteClicked"))})],2)):q("",!0)]),$(Bn,{class:Pe(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",h.post.colorPrimary,h.post.opacityPrimary||"bg-opacity-50"])},{default:j(()=>[g("div",{class:Pe(["flex relative",h.post.countdown||h.post.alignment==="center"?"flex justify-between":""])},[g("div",Zne,[h.post.countdown?(I(),ne(Yl,{key:0,time:new Date(h.post.countdown).getTime(),direction:"down",alignment:h.post.alignment},null,8,["time","alignment"])):q("",!0),h.post.timer?(I(),ne(Yl,{key:1,time:new Date(h.post.timer).getTime(),direction:"up",alignment:h.post.alignment},null,8,["time","alignment"])):q("",!0),h.post.description?(I(),ne(bp,{key:2,description:h.post.description,alignment:h.post.alignment},null,8,["description","alignment"])):q("",!0)])],2),h.post.coverImageUrl?(I(),ne(mA,{key:0,post:h.post,"cover-image-url":h.post.coverImageUrl},null,8,["post","cover-image-url"])):q("",!0),h.post.descriptionFooter?(I(),ne(bp,{key:1,class:"mb-5",description:h.post.descriptionFooter,alignment:h.post.alignment},null,8,["description","alignment"])):q("",!0),h.post.table?(I(),ne(vA,{key:2,table:h.post.table},null,8,["table"])):q("",!0),$(E(zn),null,{default:j(()=>[(I(!0),F(we,null,nt(u.value,m=>(I(),ne(E(Ae),{disabled:!m.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",m.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:m.isExpandable?void 0:"invisible"}}},rr({header:j(()=>[g("div",ere,[m.title?(I(),ne(Hne,{key:0,alignment:m.alignment},{default:j(()=>[N(Me(m.title),1)]),_:2},1032,["alignment"])):q("",!0),m.subTitle?(I(),ne(bp,{key:1,class:"mb-5",description:m.subTitle,alignment:m.alignment},null,8,["description","alignment"])):q("",!0),m.isExpandable?q("",!0):(I(),F(we,{key:2},[m.countdown?(I(),ne(Yl,{key:0,time:new Date(m.countdown).getTime(),direction:"down",alignment:m.alignment},null,8,["time","alignment"])):q("",!0),m.timer?(I(),ne(Yl,{key:1,time:new Date(m.timer).getTime(),direction:"up",alignment:m.alignment},null,8,["time","alignment"])):q("",!0)],64))])]),default:j(()=>[m.description?(I(),ne(bp,{key:0,description:m.description,alignment:m.alignment},null,8,["description","alignment"])):q("",!0),m.coverImageUrl?(I(),ne(mA,{key:1,post:h.post,"cover-image-url":m.coverImageUrl,alignment:m.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):q("",!0),$(TZ,{bullets:m.bullets,alignment:m.alignment},null,8,["bullets","alignment"]),m.isExpandable?(I(),F(we,{key:2},[m.countdown?(I(),ne(Yl,{key:0,time:new Date(m.countdown).getTime(),direction:"down",alignment:m.alignment},null,8,["time","alignment"])):q("",!0),m.timer?(I(),ne(Yl,{key:1,time:new Date(m.timer).getTime(),direction:"up",alignment:m.alignment},null,8,["time","alignment"])):q("",!0)],64)):q("",!0),m.table?(I(),ne(vA,{key:3,table:m.table},null,8,["table"])):q("",!0)]),_:2},[m.isExpandable?void 0:{name:"headericon",fn:j(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1})]),_:1},8,["class"]),$(_Z,{post:h.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}}),tre={key:0,class:"flex justify-center mt-5"},nre={class:"grid grid-cols-6 mb-5 gap-5"},rre=Ce({__name:"BlogDetails",setup(t){const e=Bg(),n=$1(),r=hr(),{fetchBlogPost:i,checkBlogPostForUnreadReactions:s}=r,{blogPosts:o,blogReactions:a,databaseActionActive:l}=Zt(r),u=oe(),c=oe(),d=ee(()=>e.params.postId),h=f=>{f.metadata.hasPendingWrites||l.value||(clearTimeout(c.value),c.value=setTimeout(async()=>{await i(d.value,void 0,{loadingIndicator:!1}),s(o.value.previousData.single,!0)},200))};return jt(async()=>{var f;if(a.value.unread=[],d.value){let p;if(((f=o.value.data.single)==null?void 0:f.id)!==d.value?p=await i(d.value):p=o.value.data.single,p){const m=qs(p),v=Ft.blogPosts(m.isPrivate),y=J2(v,nw("id","==",p.id));u.value=hd(y,h)}else n.push({name:cr.BLOG})}}),Hs(()=>{var f;clearTimeout(c.value),(f=u.value)==null||f.call(u)}),(f,p)=>E(o).fetchLoading?(I(),F("div",tre,[$(et,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:E(o).fetchLoading},{default:j(()=>[N(" Loading... ")]),_:1},8,["loading"])])):(I(),F(we,{key:1},[g("div",nre,[$(et,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",route:E(cr).BLOG},{default:j(()=>[N(" All Posts ")]),_:1},8,["route"])]),E(o).data.single?(I(),ne(dL,{key:0,post:E(o).data.single},null,8,["post"])):q("",!0)],64))}}),ire={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},sre={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},ore={class:"bg-neutral-800 border border-neutral-500 rounded-primary p-5"},are={class:"sm:p-8"},lre={class:"text-title-secondary"},ure={class:"mt-4 text-neutral-300"},cre={class:"my-2"},dre={class:"grid grid-cols-4 mt-10 gap-3"},YT=Ce({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return sf(()=>{document.body.style.overflow=""}),Ot(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${FK()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(I(),F("div",ire,[g("div",{class:"fixed inset-0 bg-neutral-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),g("div",sre,[g("div",ore,[g("div",are,[g("h3",lre,Me(n.title),1),g("div",ure,[(I(!0),F(we,null,nt(Array.isArray(n.description)?[...n.description]:[n.description],i=>(I(),F("p",cre,Me(i),1))),256))]),fe(n.$slots,"default")]),g("div",dre,[$(et,{class:Pe(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:j(()=>[N(" Cancel ")]),_:1},8,["class"]),n.confirmText?(I(),ne(et,ae({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:j(()=>[N(Me(n.confirmText),1)]),_:1},16,["loading"])):q("",!0)])])])])):q("",!0)}});let Ep;const hre=new Uint8Array(16);function fre(){if(!Ep&&(Ep=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ep))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ep(hre)}const Sr=[];for(let t=0;t<256;++t)Sr.push((t+256).toString(16).slice(1));function pre(t,e=0){return Sr[t[e+0]]+Sr[t[e+1]]+Sr[t[e+2]]+Sr[t[e+3]]+"-"+Sr[t[e+4]]+Sr[t[e+5]]+"-"+Sr[t[e+6]]+Sr[t[e+7]]+"-"+Sr[t[e+8]]+Sr[t[e+9]]+"-"+Sr[t[e+10]]+Sr[t[e+11]]+Sr[t[e+12]]+Sr[t[e+13]]+Sr[t[e+14]]+Sr[t[e+15]]}const mre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yA={randomUUID:mre};function lg(t,e,n){if(yA.randomUUID&&!e&&!t)return yA.randomUUID();t=t||{};const r=t.random||(t.rng||fre)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return pre(r)}const gre={class:"m-4"},vre=["for"],ug=Ce({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=()=>{},a=n;return e({test:o}),(l,u)=>{const c=_n("VueDatePicker");return I(),F("div",gre,[l.label?(I(),F("label",ae({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Me(l.label),17,vre)):q("",!0),$(c,{uid:s.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),yre={class:"m-4"},bre=["for"],wre={class:"flex justify-between gap-1"},_re=["id","disabled"],Tre={key:2},Sre={class:"flex justify-center"},Ere=["src"],qT=Ce({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=Zt(wr()),{fetchFileInfo:s,uploadFile:o,deleteFile:a}=hr(),l=oe(),u=oe(null),c=oe(0),d=ee(()=>ow(r.modelValue||"uploads/"+lg())),h=ee(()=>d.value.name),f=oe(),p=oe(""),m=w=>{const T=w.target;T.files&&T.files.length>0&&(u.value=T.files[0],p.value=u.value.name,v())},v=async()=>{var w,T;u.value&&((w=i.value)!=null&&w.uid)&&await o(d.value,u.value,S=>c.value=S,p.value,(T=i.value)==null?void 0:T.uid,r.isPublic,r.blogPost)&&(_("update:modelValue",await kK(d.value)),u.value=null,c.value=0)},y=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")},b=()=>{};Ot(()=>r.modelValue,async()=>{var w;f.value=r.modelValue?await s(h.value):void 0,p.value=((w=f.value)==null?void 0:w.name)??""},{immediate:!0});const _=n;return e({test:b}),(w,T)=>(I(),F("div",yre,[w.label?(I(),F("label",{key:0,class:"block text-sm font-bold mb-2",for:`${w.id}`},Me(w.label),9,bre)):q("",!0),g("div",wre,[g("input",{id:`${w.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:m,class:"p-input",disabled:!!f.value},null,40,_re),f.value?(I(),ne(j$,{key:0,onClick:y})):q("",!0)]),w.error?(I(),ne(UT,{key:1,name:w.name,error:w.error},null,8,["name","error"])):q("",!0),c.value>0?(I(),F("div",Tre,"Uploading: "+Me(c.value.toFixed(2))+"%",1)):q("",!0),g("div",Sre,[g("div",Nn(lr(w.imageContainerProps)),[f.value?(I(),F("img",ae({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:w.modelValue},w.imageProps),null,16,Ere)):q("",!0)],16)])]))}}),Ire={class:"m-4"},Cre=["for"],Lr=Ce({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ee(()=>(r.rules??[]).some(f=>f.type===BT.Required)),o=ee({get:()=>{if(r.multiple){const f=Array.isArray(r.modelValue)?r.modelValue:[];return f.length?f:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const f=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return f||(r.options.length?r.options[0].value:"")}},set:f=>{i("update:modelValue",ka(f)[0]),i("update:arrayValue",ka(f))}}),a=ee(()=>r.label+(s.value?" *":"")),l=ee(()=>r.name+(r.id?"."+r.id:"")),u=ee(()=>r.options.find(({value:f})=>f===o.value)),c=ee(()=>{var f,p,m;return[((f=u.value)==null?void 0:f.background)??"bg-transparent",(p=u.value)!=null&&p.background?"bg-opacity-90":"bg-opacity-40",((m=u.value)==null?void 0:m.text)??"text-black"]}),d=ee(()=>ka(o.value).map(f=>{var p;return(p=r.options.find(m=>m.value===f))==null?void 0:p.label}).join(", "));return jt(()=>{s.value&&(i("update:modelValue",ka(o.value)[0]),i("update:arrayValue",ka(o.value)))}),e({test:async()=>{const f=r.rules||[];let p="";for(const m of ka(o.value)){const v={value:m.toString()},y=f.filter(b=>!b.test(v)).map(b=>b.error(v))||[];if(y[0]){p=y[0];break}}i("update:error",p)}}),(f,p)=>(I(),F("div",Ire,[g("label",{class:"block text-sm font-bold mb-2",for:l.value},Me(a.value),9,Cre),g("div",null,[(I(),ne(bn(f.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=m=>o.value=m),placeholder:f.placeholder??"No option selected",class:"w-full p-input p-0",multiple:f.multiple,options:f.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:j(({placeholder:m})=>{var v;return[g("span",{class:Pe(["block w-full p-2",...c.value])},Me((f.multiple?d.value:(v=u.value)==null?void 0:v.label)||m),3)]}),option:j(({option:m})=>[g("span",{class:Pe(["w-full p-2",m.background,m.background?"bg-opacity-90":"bg-opacity-40",m.text])},Me(m.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),f.error?(I(),ne(UT,{key:0,name:f.name,error:f.error},null,8,["name","error"])):q("",!0)]))}});var Ore=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Are(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var fL={exports:{}};const kre=hL(V6);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zp=function(e){return typeof e}:Zp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function Pre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(){return Gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gi.apply(this,arguments)}function xre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dre(t,e){if(t==null)return{};var n=xre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rre(t){return Nre(t)||Mre(t)||$re(t)||Lre()}function Nre(t){if(Array.isArray(t))return Fw(t)}function Mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $re(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fre="1.14.0";function uo(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var To=uo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mf=uo(/Edge/i),wA=uo(/firefox/i),Bd=uo(/safari/i)&&!uo(/chrome/i)&&!uo(/android/i),pL=uo(/iP(ad|od|hone)/i),Vre=uo(/chrome/i)&&uo(/android/i),mL={capture:!1,passive:!1};function It(t,e,n){t.addEventListener(e,n,!To&&mL)}function St(t,e,n){t.removeEventListener(e,n,!To&&mL)}function cg(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ure(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function rs(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&cg(t,e):cg(t,e))||r&&t===n)return t;if(t===n)break}while(t=Ure(t))}return null}var _A=/\s+/g;function xn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(_A," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(_A," ")}}function Je(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Za(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Je(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function gL(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Ls(){var t=document.scrollingElement;return t||document.documentElement}function On(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Ls()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!To))do if(i&&i.getBoundingClientRect&&(Je(i,"transform")!=="none"||n&&Je(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(Je(i,"border-top-width")),a-=h.left+parseInt(Je(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var f=Za(i||t),p=f&&f.a,m=f&&f.d;f&&(o/=m,a/=p,d/=p,c/=m,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function TA(t,e,n){for(var r=Yo(t,!0),i=On(t)[e];r;){var s=On(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===Ls())break;r=Yo(r,!1)}return!1}function fc(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==lt.ghost&&(r||o[s]!==lt.dragged)&&rs(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function XT(t,e){for(var n=t.lastElementChild;n&&(n===lt.ghost||Je(n,"display")==="none"||e&&!cg(n,e));)n=n.previousElementSibling;return n||null}function Un(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==lt.clone&&(!e||cg(t,e))&&n++;return n}function SA(t){var e=0,n=0,r=Ls();if(t)do{var i=Za(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function Bre(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Yo(t,e){if(!t||!t.getBoundingClientRect)return Ls();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Je(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ls();if(r||e)return n;r=!0}}while(n=n.parentNode);return Ls()}function jre(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function fb(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var jd;function vL(t,e){return function(){if(!jd){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),jd=setTimeout(function(){jd=void 0},e)}}}function Hre(){clearTimeout(jd),jd=void 0}function yL(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function QT(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function EA(t,e){Je(t,"position","absolute"),Je(t,"top",e.top),Je(t,"left",e.left),Je(t,"width",e.width),Je(t,"height",e.height)}function pb(t){Je(t,"position",""),Je(t,"top",""),Je(t,"left",""),Je(t,"width",""),Je(t,"height","")}var Br="Sortable"+new Date().getTime();function Wre(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Je(i,"display")==="none"||i===lt.ghost)){t.push({target:i,rect:On(i)});var s=js({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Za(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(Bre(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=On(u),h=u.prevFromRect,f=u.prevToRect,p=a.rect,m=Za(u,!0);m&&(d.top-=m.f,d.left-=m.e),u.toRect=d,u.thisAnimationDuration&&fb(h,d)&&!fb(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=zre(p,h,f,i.options)),fb(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){Je(r,"transition",""),Je(r,"transform","");var a=Za(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,Je(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=Kre(r),Je(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Je(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Je(r,"transition",""),Je(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function Kre(t){return t.offsetWidth}function zre(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var Ql=[],mb={initializeByDefault:!0},$f={mount:function(e){for(var n in mb)mb.hasOwnProperty(n)&&!(n in e)&&(e[n]=mb[n]);Ql.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ql.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Ql.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](js({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](js({sortable:n},r)))})},initializePlugins:function(e,n,r,i){Ql.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Gi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return Ql.forEach(function(i){typeof i.eventProperties=="function"&&Gi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return Ql.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function md(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[Br],!!e){var m,v=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!To&&!Mf?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var b=js(js({},p),$f.getEventProperties(r,e));for(var _ in b)m[_]=b[_];n&&n.dispatchEvent(m),v[y]&&v[y].call(e,m)}}var Gre=["evt"],ai=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=Dre(r,Gre);$f.pluginEvent.bind(lt)(e,n,js({dragEl:Ne,parentEl:Ln,ghostEl:vt,rootEl:Cn,nextEl:xa,lastDownEl:em,cloneEl:Fn,cloneHidden:Go,dragStarted:gd,putSortable:Er,activeSortable:lt.active,originalEvent:i,oldIndex:bu,oldDraggableIndex:Hd,newIndex:Si,newDraggableIndex:Bo,hideGhostForTarget:TL,unhideGhostForTarget:SL,cloneNowHidden:function(){Go=!0},cloneNowShown:function(){Go=!1},dispatchSortableEvent:function(a){ei({sortable:n,name:a,originalEvent:i})}},s))};function ei(t){md(js({putSortable:Er,cloneEl:Fn,targetEl:Ne,rootEl:Cn,oldIndex:bu,oldDraggableIndex:Hd,newIndex:Si,newDraggableIndex:Bo},t))}var Ne,Ln,vt,Cn,xa,em,Fn,Go,bu,Si,Hd,Bo,Ip,Er,uu=!1,dg=!1,hg=[],Ia,Ji,gb,vb,IA,CA,gd,Jl,Wd,Kd=!1,Cp=!1,tm,Nr,yb=[],Vw=!1,fg=[],zv=typeof document<"u",Op=pL,OA=Mf||To?"cssFloat":"float",Yre=zv&&!Vre&&!pL&&"draggable"in document.createElement("div"),bL=function(){if(zv){if(To)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),wL=function(e,n){var r=Je(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=fc(e,0,n),o=fc(e,1,n),a=s&&Je(s),l=o&&Je(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+On(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+On(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[OA]==="none"||o&&r[OA]==="none"&&u+c>i)?"vertical":"horizontal"},qre=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},Xre=function(e,n){var r;return hg.some(function(i){var s=i[Br].options.emptyInsertThreshold;if(!(!s||XT(i))){var o=On(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},_L=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||Zp(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},TL=function(){!bL&&vt&&Je(vt,"display","none")},SL=function(){!bL&&vt&&Je(vt,"display","")};zv&&document.addEventListener("click",function(t){if(dg)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),dg=!1,!1},!0);var Ca=function(e){if(Ne){e=e.touches?e.touches[0]:e;var n=Xre(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Br]._onDragOver(r)}}},Qre=function(e){Ne&&Ne.parentNode[Br]._isOutsideThisEl(e.target)};function lt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Gi({},e),t[Br]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return wL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:lt.supportPointer!==!1&&"PointerEvent"in window&&!Bd,emptyInsertThreshold:5};$f.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);_L(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Yre,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?It(t,"pointerdown",this._onTapStart):(It(t,"mousedown",this._onTapStart),It(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(It(t,"dragover",this),It(t,"dragenter",this)),hg.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Gi(this,Wre())}lt.prototype={constructor:lt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Jl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Ne):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(sie(r),!Ne&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Bd&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=rs(l,i.draggable,r,!1),!(l&&l.animated)&&em!==l)){if(bu=Un(l),Hd=Un(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){ei({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),ai("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=rs(u,d.trim(),r,!1),d)return ei({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),ai("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!rs(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Ne&&r.parentNode===s){var u=On(r);if(Cn=s,Ne=r,Ln=Ne.parentNode,xa=Ne.nextSibling,em=r,Ip=o.group,lt.dragged=Ne,Ia={target:Ne,clientX:(n||e).clientX,clientY:(n||e).clientY},IA=Ia.clientX-u.left,CA=Ia.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Ne.style["will-change"]="all",l=function(){if(ai("delayEnded",i,{evt:e}),lt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!wA&&i.nativeDraggable&&(Ne.draggable=!0),i._triggerDragStart(e,n),ei({sortable:i,name:"choose",originalEvent:e}),xn(Ne,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){gL(Ne,c.trim(),bb)}),It(a,"dragover",Ca),It(a,"mousemove",Ca),It(a,"touchmove",Ca),It(a,"mouseup",i._onDrop),It(a,"touchend",i._onDrop),It(a,"touchcancel",i._onDrop),wA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ne.draggable=!0),ai("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Mf||To))){if(lt.eventCanceled){this._onDrop();return}It(a,"mouseup",i._disableDelayedDrag),It(a,"touchend",i._disableDelayedDrag),It(a,"touchcancel",i._disableDelayedDrag),It(a,"mousemove",i._delayedDragTouchMoveHandler),It(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&It(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ne&&bb(Ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;St(e,"mouseup",this._disableDelayedDrag),St(e,"touchend",this._disableDelayedDrag),St(e,"touchcancel",this._disableDelayedDrag),St(e,"mousemove",this._delayedDragTouchMoveHandler),St(e,"touchmove",this._delayedDragTouchMoveHandler),St(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?It(document,"pointermove",this._onTouchMove):n?It(document,"touchmove",this._onTouchMove):It(document,"mousemove",this._onTouchMove):(It(Ne,"dragend",this),It(Cn,"dragstart",this._onDragStart));try{document.selection?nm(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(uu=!1,Cn&&Ne){ai("dragStarted",this,{evt:n}),this.nativeDraggable&&It(document,"dragover",Qre);var r=this.options;!e&&xn(Ne,r.dragClass,!1),xn(Ne,r.ghostClass,!0),lt.active=this,e&&this._appendGhost(),ei({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ji){this._lastX=Ji.clientX,this._lastY=Ji.clientY,TL();for(var e=document.elementFromPoint(Ji.clientX,Ji.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ji.clientX,Ji.clientY),e!==n);)n=e;if(Ne.parentNode[Br]._isOutsideThisEl(e),n)do{if(n[Br]){var r=void 0;if(r=n[Br]._onDragOver({clientX:Ji.clientX,clientY:Ji.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);SL()}},_onTouchMove:function(e){if(Ia){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=vt&&Za(vt,!0),a=vt&&o&&o.a,l=vt&&o&&o.d,u=Op&&Nr&&SA(Nr),c=(s.clientX-Ia.clientX+i.x)/(a||1)+(u?u[0]-yb[0]:0)/(a||1),d=(s.clientY-Ia.clientY+i.y)/(l||1)+(u?u[1]-yb[1]:0)/(l||1);if(!lt.active&&!uu){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(vt){o?(o.e+=c-(gb||0),o.f+=d-(vb||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Je(vt,"webkitTransform",h),Je(vt,"mozTransform",h),Je(vt,"msTransform",h),Je(vt,"transform",h),gb=c,vb=d,Ji=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!vt){var e=this.options.fallbackOnBody?document.body:Cn,n=On(Ne,!0,Op,!0,e),r=this.options;if(Op){for(Nr=e;Je(Nr,"position")==="static"&&Je(Nr,"transform")==="none"&&Nr!==document;)Nr=Nr.parentNode;Nr!==document.body&&Nr!==document.documentElement?(Nr===document&&(Nr=Ls()),n.top+=Nr.scrollTop,n.left+=Nr.scrollLeft):Nr=Ls(),yb=SA(Nr)}vt=Ne.cloneNode(!0),xn(vt,r.ghostClass,!1),xn(vt,r.fallbackClass,!0),xn(vt,r.dragClass,!0),Je(vt,"transition",""),Je(vt,"transform",""),Je(vt,"box-sizing","border-box"),Je(vt,"margin",0),Je(vt,"top",n.top),Je(vt,"left",n.left),Je(vt,"width",n.width),Je(vt,"height",n.height),Je(vt,"opacity","0.8"),Je(vt,"position",Op?"absolute":"fixed"),Je(vt,"zIndex","100000"),Je(vt,"pointerEvents","none"),lt.ghost=vt,e.appendChild(vt),Je(vt,"transform-origin",IA/parseInt(vt.style.width)*100+"% "+CA/parseInt(vt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(ai("dragStart",this,{evt:e}),lt.eventCanceled){this._onDrop();return}ai("setupClone",this),lt.eventCanceled||(Fn=QT(Ne),Fn.draggable=!1,Fn.style["will-change"]="",this._hideClone(),xn(Fn,this.options.chosenClass,!1),lt.clone=Fn),r.cloneId=nm(function(){ai("clone",r),!lt.eventCanceled&&(r.options.removeCloneOnHide||Cn.insertBefore(Fn,Ne),r._hideClone(),ei({sortable:r,name:"clone"}))}),!n&&xn(Ne,s.dragClass,!0),n?(dg=!0,r._loopId=setInterval(r._emulateDragOver,50)):(St(document,"mouseup",r._onDrop),St(document,"touchend",r._onDrop),St(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Ne)),It(document,"drop",r),Je(Ne,"transform","translateZ(0)")),uu=!0,r._dragStartId=nm(r._dragStarted.bind(r,n,e)),It(document,"selectstart",r),gd=!0,Bd&&Je(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=lt.active,c=Ip===l,d=a.sort,h=Er||u,f,p=this,m=!1;if(Vw)return;function v(X,B){ai(X,p,js({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:b,onMove:function(re,ie){return Ap(Cn,n,Ne,i,re,On(re),e,ie)},changed:_},B))}function y(){v("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function b(X){return v("dragOverCompleted",{insertion:X}),X&&(c?u._hideClone():u._showClone(p),p!==h&&(xn(Ne,Er?Er.options.ghostClass:u.options.ghostClass,!1),xn(Ne,a.ghostClass,!0)),Er!==p&&p!==lt.active?Er=p:p===lt.active&&Er&&(Er=null),h===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){v("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Ne&&!Ne.animated||r===n&&!r.animated)&&(Jl=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Ne.parentNode[Br]._isOutsideThisEl(e.target),!X&&Ca(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function _(){Si=Un(Ne),Bo=Un(Ne,a.draggable),ei({sortable:p,name:"change",toEl:n,newIndex:Si,newDraggableIndex:Bo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=rs(r,a.draggable,n,!0),v("dragOver"),lt.eventCanceled)return m;if(Ne.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return b(!1);if(dg=!1,u&&!a.disabled&&(c?d||(o=Ln!==Cn):Er===this||(this.lastPutMode=Ip.checkPull(this,u,Ne,e))&&l.checkPut(this,u,Ne,e))){if(f=this._getDirection(e,r)==="vertical",i=On(Ne),v("dragOverValid"),lt.eventCanceled)return m;if(o)return Ln=Cn,y(),this._hideClone(),v("revert"),lt.eventCanceled||(xa?Cn.insertBefore(Ne,xa):Cn.appendChild(Ne)),b(!0);var w=XT(n,a.draggable);if(!w||tie(e,f,this)&&!w.animated){if(w===Ne)return b(!1);if(w&&n===e.target&&(r=w),r&&(s=On(r)),Ap(Cn,n,Ne,i,r,s,e,!!r)!==!1)return y(),n.appendChild(Ne),Ln=n,_(),b(!0)}else if(w&&eie(e,f,this)){var T=fc(n,0,a,!0);if(T===Ne)return b(!1);if(r=T,s=On(r),Ap(Cn,n,Ne,i,r,s,e,!1)!==!1)return y(),n.insertBefore(Ne,T),Ln=n,_(),b(!0)}else if(r.parentNode===n){s=On(r);var S=0,O,R=Ne.parentNode!==n,D=!qre(Ne.animated&&Ne.toRect||i,r.animated&&r.toRect||s,f),C=f?"top":"left",M=TA(r,"top","top")||TA(Ne,"top","top"),V=M?M.scrollTop:void 0;Jl!==r&&(O=s[C],Kd=!1,Cp=!D&&a.invertSwap||R),S=nie(e,r,s,f,D?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Cp,Jl===r);var W;if(S!==0){var L=Un(Ne);do L-=S,W=Ln.children[L];while(W&&(Je(W,"display")==="none"||W===vt))}if(S===0||W===r)return b(!1);Jl=r,Wd=S;var A=r.nextElementSibling,P=!1;P=S===1;var K=Ap(Cn,n,Ne,i,r,s,e,P);if(K!==!1)return(K===1||K===-1)&&(P=K===1),Vw=!0,setTimeout(Zre,30),y(),P&&!A?n.appendChild(Ne):r.parentNode.insertBefore(Ne,P?A:r),M&&yL(M,0,V-M.scrollTop),Ln=Ne.parentNode,O!==void 0&&!Cp&&(tm=Math.abs(O-On(r)[C])),_(),b(!0)}if(n.contains(Ne))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){St(document,"mousemove",this._onTouchMove),St(document,"touchmove",this._onTouchMove),St(document,"pointermove",this._onTouchMove),St(document,"dragover",Ca),St(document,"mousemove",Ca),St(document,"touchmove",Ca)},_offUpEvents:function(){var e=this.el.ownerDocument;St(e,"mouseup",this._onDrop),St(e,"touchend",this._onDrop),St(e,"pointerup",this._onDrop),St(e,"touchcancel",this._onDrop),St(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Si=Un(Ne),Bo=Un(Ne,r.draggable),ai("drop",this,{evt:e}),Ln=Ne&&Ne.parentNode,Si=Un(Ne),Bo=Un(Ne,r.draggable),lt.eventCanceled){this._nulling();return}uu=!1,Cp=!1,Kd=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Uw(this.cloneId),Uw(this._dragStartId),this.nativeDraggable&&(St(document,"drop",this),St(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Bd&&Je(document.body,"user-select",""),Je(Ne,"transform",""),e&&(gd&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),vt&&vt.parentNode&&vt.parentNode.removeChild(vt),(Cn===Ln||Er&&Er.lastPutMode!=="clone")&&Fn&&Fn.parentNode&&Fn.parentNode.removeChild(Fn),Ne&&(this.nativeDraggable&&St(Ne,"dragend",this),bb(Ne),Ne.style["will-change"]="",gd&&!uu&&xn(Ne,Er?Er.options.ghostClass:this.options.ghostClass,!1),xn(Ne,this.options.chosenClass,!1),ei({sortable:this,name:"unchoose",toEl:Ln,newIndex:null,newDraggableIndex:null,originalEvent:e}),Cn!==Ln?(Si>=0&&(ei({rootEl:Ln,name:"add",toEl:Ln,fromEl:Cn,originalEvent:e}),ei({sortable:this,name:"remove",toEl:Ln,originalEvent:e}),ei({rootEl:Ln,name:"sort",toEl:Ln,fromEl:Cn,originalEvent:e}),ei({sortable:this,name:"sort",toEl:Ln,originalEvent:e})),Er&&Er.save()):Si!==bu&&Si>=0&&(ei({sortable:this,name:"update",toEl:Ln,originalEvent:e}),ei({sortable:this,name:"sort",toEl:Ln,originalEvent:e})),lt.active&&((Si==null||Si===-1)&&(Si=bu,Bo=Hd),ei({sortable:this,name:"end",toEl:Ln,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ai("nulling",this),Cn=Ne=Ln=vt=xa=Fn=em=Go=Ia=Ji=gd=Si=Bo=bu=Hd=Jl=Wd=Er=Ip=lt.dragged=lt.ghost=lt.clone=lt.active=null,fg.forEach(function(e){e.checked=!0}),fg.length=gb=vb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ne&&(this._onDragOver(e),Jre(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],rs(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||iie(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];rs(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return rs(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=$f.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&_L(r)},destroy:function(){ai("destroy",this);var e=this.el;e[Br]=null,St(e,"mousedown",this._onTapStart),St(e,"touchstart",this._onTapStart),St(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(St(e,"dragover",this),St(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),hg.splice(hg.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Go){if(ai("hideClone",this),lt.eventCanceled)return;Je(Fn,"display","none"),this.options.removeCloneOnHide&&Fn.parentNode&&Fn.parentNode.removeChild(Fn),Go=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Go){if(ai("showClone",this),lt.eventCanceled)return;Ne.parentNode==Cn&&!this.options.group.revertClone?Cn.insertBefore(Fn,Ne):xa?Cn.insertBefore(Fn,xa):Cn.appendChild(Fn),this.options.group.revertClone&&this.animate(Ne,Fn),Je(Fn,"display",""),Go=!1}}};function Jre(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ap(t,e,n,r,i,s,o,a){var l,u=t[Br],c=u.options.onMove,d;return window.CustomEvent&&!To&&!Mf?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||On(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function bb(t){t.draggable=!1}function Zre(){Vw=!1}function eie(t,e,n){var r=On(fc(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function tie(t,e,n){var r=On(XT(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function nie(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&tm<u*i){if(!Kd&&(Wd===1?l>c+u*s/2:l<d-u*s/2)&&(Kd=!0),Kd)h=!0;else if(Wd===1?l<c+tm:l>d-tm)return-Wd}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return rie(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function rie(t){return Un(Ne)<Un(t)?1:-1}function iie(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function sie(t){fg.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&fg.push(r)}}function nm(t){return setTimeout(t,0)}function Uw(t){return clearTimeout(t)}zv&&It(document,"touchmove",function(t){(lt.active||uu)&&t.cancelable&&t.preventDefault()});lt.utils={on:It,off:St,css:Je,find:gL,is:function(e,n){return!!rs(e,n,e,!1)},extend:jre,throttle:vL,closest:rs,toggleClass:xn,clone:QT,index:Un,nextTick:nm,cancelNextTick:Uw,detectDirection:wL,getChild:fc};lt.get=function(t){return t[Br]};lt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(lt.utils=js(js({},lt.utils),r.utils)),$f.mount(r)})};lt.create=function(t,e){return new lt(t,e)};lt.version=Fre;var Jn=[],vd,Bw,jw=!1,wb,_b,pg,yd;function oie(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?It(document,"dragover",this._handleAutoScroll):this.options.supportPointer?It(document,"pointermove",this._handleFallbackAutoScroll):r.touches?It(document,"touchmove",this._handleFallbackAutoScroll):It(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?St(document,"dragover",this._handleAutoScroll):(St(document,"pointermove",this._handleFallbackAutoScroll),St(document,"touchmove",this._handleFallbackAutoScroll),St(document,"mousemove",this._handleFallbackAutoScroll)),AA(),rm(),Hre()},nulling:function(){pg=Bw=vd=jw=yd=wb=_b=null,Jn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(pg=n,r||this.options.forceAutoScrollFallback||Mf||To||Bd){Tb(n,this.options,a,r);var l=Yo(a,!0);jw&&(!yd||s!==wb||o!==_b)&&(yd&&AA(),yd=setInterval(function(){var u=Yo(document.elementFromPoint(s,o),!0);u!==l&&(l=u,rm()),Tb(n,i.options,u,r)},10),wb=s,_b=o)}else{if(!this.options.bubbleScroll||Yo(a,!0)===Ls()){rm();return}Tb(n,this.options,Yo(a,!1),!1)}}},Gi(t,{pluginName:"scroll",initializeByDefault:!0})}function rm(){Jn.forEach(function(t){clearInterval(t.pid)}),Jn=[]}function AA(){clearInterval(yd)}var Tb=vL(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Ls(),u=!1,c;Bw!==n&&(Bw=n,rm(),vd=e.scroll,c=e.scrollFn,vd===!0&&(vd=Yo(n,!0)));var d=0,h=vd;do{var f=h,p=On(f),m=p.top,v=p.bottom,y=p.left,b=p.right,_=p.width,w=p.height,T=void 0,S=void 0,O=f.scrollWidth,R=f.scrollHeight,D=Je(f),C=f.scrollLeft,M=f.scrollTop;f===l?(T=_<O&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),S=w<R&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(T=_<O&&(D.overflowX==="auto"||D.overflowX==="scroll"),S=w<R&&(D.overflowY==="auto"||D.overflowY==="scroll"));var V=T&&(Math.abs(b-i)<=o&&C+_<O)-(Math.abs(y-i)<=o&&!!C),W=S&&(Math.abs(v-s)<=o&&M+w<R)-(Math.abs(m-s)<=o&&!!M);if(!Jn[d])for(var L=0;L<=d;L++)Jn[L]||(Jn[L]={});(Jn[d].vx!=V||Jn[d].vy!=W||Jn[d].el!==f)&&(Jn[d].el=f,Jn[d].vx=V,Jn[d].vy=W,clearInterval(Jn[d].pid),(V!=0||W!=0)&&(u=!0,Jn[d].pid=setInterval((function(){r&&this.layer===0&&lt.active._onTouchMove(pg);var A=Jn[this.layer].vy?Jn[this.layer].vy*a:0,P=Jn[this.layer].vx?Jn[this.layer].vx*a:0;typeof c=="function"&&c.call(lt.dragged.parentNode[Br],P,A,t,pg,Jn[this.layer].el)!=="continue"||yL(Jn[this.layer].el,P,A)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=Yo(h,!1)));jw=u}},30),EL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function JT(){}JT.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=fc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:EL};Gi(JT,{pluginName:"revertOnSpill"});function ZT(){}ZT.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:EL};Gi(ZT,{pluginName:"removeOnSpill"});var Vi;function aie(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Vi=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Vi;s(i)!==!1?(xn(i,c.swapClass,!0),Vi=i):Vi=null,d&&d!==Vi&&xn(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Vi&&xn(Vi,a.swapClass,!1),Vi&&(a.swap||i&&i.options.swap)&&s!==Vi&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),lie(s,Vi),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Vi=null}},Gi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Vi}}})}function lie(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Un(t),s=Un(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var mt=[],Ti=[],Gc,Zi,Yc=!1,li=!1,Zl=!1,un,qc,kp;function uie(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?It(document,"pointerup",this._deselectMultiDrag):(It(document,"mouseup",this._deselectMultiDrag),It(document,"touchend",this._deselectMultiDrag)),It(document,"keydown",this._checkKeyDown),It(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";mt.length&&Zi===e?mt.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;un=r},delayEnded:function(){this.isMultiDrag=~mt.indexOf(un)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<mt.length;s++)Ti.push(QT(mt[s])),Ti[s].sortableIndex=mt[s].sortableIndex,Ti[s].draggable=!1,Ti[s].style["will-change"]="",xn(Ti[s],this.options.selectedClass,!1),mt[s]===un&&xn(Ti[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||mt.length&&Zi===r&&(kA(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(kA(!1,i),Ti.forEach(function(o){Je(o,"display","")}),r(),kp=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(Ti.forEach(function(o){Je(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),kp=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Zi&&Zi.multiDrag._deselectMultiDrag(),mt.forEach(function(r){r.sortableIndex=Un(r)}),mt=mt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Zl=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){mt.forEach(function(o){o!==un&&Je(o,"position","absolute")});var s=On(un,!1,!0,!0);mt.forEach(function(o){o!==un&&EA(o,s)}),li=!0,Yc=!0}i.animateAll(function(){li=!1,Yc=!1,r.options.animation&&mt.forEach(function(o){pb(o)}),r.options.sort&&Pp()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;li&&~mt.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;mt.length>1&&(mt.forEach(function(a){s.addAnimationState({target:a,rect:li?On(a):o}),pb(a),a.fromRect=o,r.removeAnimationState(a)}),li=!1,cie(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),Yc=!1,u.animation&&mt.length>1&&(li||!i&&!o.options.sort&&!l)){var c=On(un,!1,!0,!0);mt.forEach(function(h){h!==un&&(EA(h,c),a.appendChild(h))}),li=!0}if(!i)if(li||Pp(),mt.length>1){var d=kp;o._showClone(r),o.options.animation&&!kp&&d&&Ti.forEach(function(h){o.addAnimationState({target:h,rect:qc}),h.fromRect=qc,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(mt.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){qc=Gi({},r);var o=Za(un,!0);qc.top-=o.f,qc.left-=o.e}},dragOverAnimationComplete:function(){li&&(li=!1,Pp())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!Zl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),xn(un,d.selectedClass,!~mt.indexOf(un)),~mt.indexOf(un))mt.splice(mt.indexOf(un),1),Gc=null,md({sortable:o,rootEl:i,name:"deselect",targetEl:un,originalEvt:r});else{if(mt.push(un),md({sortable:o,rootEl:i,name:"select",targetEl:un,originalEvt:r}),r.shiftKey&&Gc&&o.el.contains(Gc)){var f=Un(Gc),p=Un(un);if(~f&&~p&&f!==p){var m,v;for(p>f?(v=f,m=p):(v=p,m=f+1);v<m;v++)~mt.indexOf(h[v])||(xn(h[v],d.selectedClass,!0),mt.push(h[v]),md({sortable:o,rootEl:i,name:"select",targetEl:h[v],originalEvt:r}))}}else Gc=un;Zi=c}if(Zl&&this.isMultiDrag){if(li=!1,(s[Br].options.sort||s!==i)&&mt.length>1){var y=On(un),b=Un(un,":not(."+this.options.selectedClass+")");if(!Yc&&d.animation&&(un.thisAnimationDuration=null),c.captureAnimationState(),!Yc&&(d.animation&&(un.fromRect=y,mt.forEach(function(w){if(w.thisAnimationDuration=null,w!==un){var T=li?On(w):y;w.fromRect=T,c.addAnimationState({target:w,rect:T})}})),Pp(),mt.forEach(function(w){h[b]?s.insertBefore(w,h[b]):s.appendChild(w),b++}),l===Un(un))){var _=!1;mt.forEach(function(w){if(w.sortableIndex!==Un(w)){_=!0;return}}),_&&a("update")}mt.forEach(function(w){pb(w)}),c.animateAll()}Zi=c}(i===s||u&&u.lastPutMode!=="clone")&&Ti.forEach(function(w){w.parentNode&&w.parentNode.removeChild(w)})}},nullingGlobal:function(){this.isMultiDrag=Zl=!1,Ti.length=0},destroyGlobal:function(){this._deselectMultiDrag(),St(document,"pointerup",this._deselectMultiDrag),St(document,"mouseup",this._deselectMultiDrag),St(document,"touchend",this._deselectMultiDrag),St(document,"keydown",this._checkKeyDown),St(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Zl<"u"&&Zl)&&Zi===this.sortable&&!(n&&rs(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;mt.length;){var r=mt[0];xn(r,this.options.selectedClass,!1),mt.shift(),md({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Gi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Br];!r||!r.options.multiDrag||~mt.indexOf(n)||(Zi&&Zi!==r&&(Zi.multiDrag._deselectMultiDrag(),Zi=r),xn(n,r.options.selectedClass,!0),mt.push(n))},deselect:function(n){var r=n.parentNode[Br],i=mt.indexOf(n);!r||!r.options.multiDrag||!~i||(xn(n,r.options.selectedClass,!1),mt.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return mt.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;li&&s!==un?o=-1:li?o=Un(s,":not(."+n.options.selectedClass+")"):o=Un(s),i.push({multiDragElement:s,index:o})}),{items:Rre(mt),clones:[].concat(Ti),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function cie(t,e){mt.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function kA(t,e){Ti.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Pp(){mt.forEach(function(t){t!==un&&t.parentNode&&t.parentNode.removeChild(t)})}lt.mount(new oie);lt.mount(ZT,JT);const die=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:uie,Sortable:lt,Swap:aie,default:lt},Symbol.toStringTag,{value:"Module"})),hie=hL(die);(function(t,e){(function(r,i){t.exports=i(kre,hie)})(typeof self<"u"?self:Ore,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,f){return l.call(u,d,h,f)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(f){return c&&u.call(f)=="[object Window]"?d(f):l(a(f))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),f=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(v,y){if(v=c(v),y=d(y,!0),f)try{return p(v,y)}catch{}if(h(v,y))return u(!l.f.call(v,y),v[y])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],f=h&&h.prototype;if(f&&f.forEach!==u)try{c(f,"forEach",u)}catch{f.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,f){if(!f&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},h(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],f=h.constructor={};return f[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),f=o("94ca");i.exports=function(p,m){var v=p.target,y=p.global,b=p.stat,_,w,T,S,O,R;if(y?w=a:b?w=a[v]||d(v,{}):w=(a[v]||{}).prototype,w)for(T in m){if(O=m[T],p.noTargetGet?(R=l(w,T),S=R&&R.value):S=w[T],_=f(y?T:v+(b?".":"#")+T,p.forced),!_&&S!==void 0){if(typeof O==typeof S)continue;h(O,S)}(p.sham||S&&S.sham)&&u(O,"sham",!0),c(w,T,O,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,f=h[d],p=u(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),m=f.name!=d;(p||m)&&a(RegExp.prototype,d,function(){var y=l(this),b=String(y.source),_=y.flags,w=String(_===void 0&&y instanceof RegExp&&!("flags"in h)?c.call(y):_);return"/"+b+"/"+w},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),f=o("c430"),p="".startsWith,m=Math.min,v=h("startsWith"),y=!f&&!v&&!!function(){var b=l(String.prototype,"startsWith");return b&&!b.writable}();a({target:"String",proto:!0,forced:!y&&!v},{startsWith:function(_){var w=String(d(this));c(_);var T=u(m(arguments.length>1?arguments[1]:void 0,w.length)),S=String(_);return p?p.call(w,S,T):w.slice(T,T+S.length)===S}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,f;d?(h=d.split("."),f=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(f=h[1]))),i.exports=f&&+f},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,f){u(h);for(var p=c(f),m=p.length,v=0,y;m>v;)l.f(h,y=p[v++],f[y]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(f){d(this,{type:c,string:String(f),index:0})},function(){var p=h(this),m=p.string,v=p.index,y;return v>=m.length?{value:void 0,done:!0}:(y=a(m,v),p.index+=y.length,{value:y,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,f,p){var m=a(h),v=l(m.length),y=u(p,v),b;if(d&&f!=f){for(;v>y;)if(b=m[y++],b!=b)return!0}else for(;v>y;y++)if((d||y in m)&&m[y]===f)return d||y||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),f=o("35a1");i.exports=function(m){var v=l(m),y=typeof this=="function"?this:Array,b=arguments.length,_=b>1?arguments[1]:void 0,w=_!==void 0,T=f(v),S=0,O,R,D,C,M,V;if(w&&(_=a(_,b>2?arguments[2]:void 0,2)),T!=null&&!(y==Array&&c(T)))for(C=T.call(v),M=C.next,R=new y;!(D=M.call(C)).done;S++)V=w?u(C,_,[D.value,S],!0):D.value,h(R,S,V);else for(O=d(v.length),R=new y(O);O>S;S++)V=w?_(v[S],S):v[S],h(R,S,V);return R.length=S,R}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),f=o("8aa5"),p=o("14c3"),m=Math.max,v=Math.min,y=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,w=function(T){return T===void 0?T:String(T)};a("replace",2,function(T,S,O,R){var D=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=R.REPLACE_KEEPS_$0,M=D?"$":"$0";return[function(L,A){var P=h(this),K=L==null?void 0:L[T];return K!==void 0?K.call(L,P,A):S.call(String(P),L,A)},function(W,L){if(!D&&C||typeof L=="string"&&L.indexOf(M)===-1){var A=O(S,W,this,L);if(A.done)return A.value}var P=l(W),K=String(this),X=typeof L=="function";X||(L=String(L));var B=P.global;if(B){var k=P.unicode;P.lastIndex=0}for(var re=[];;){var ie=p(P,K);if(ie===null||(re.push(ie),!B))break;var ve=String(ie[0]);ve===""&&(P.lastIndex=f(K,c(P.lastIndex),k))}for(var ye="",se=0,z=0;z<re.length;z++){ie=re[z];for(var Q=String(ie[0]),ue=m(v(d(ie.index),K.length),0),Z=[],pe=1;pe<ie.length;pe++)Z.push(w(ie[pe]));var _e=ie.groups;if(X){var le=[Q].concat(Z,ue,K);_e!==void 0&&le.push(_e);var x=String(L.apply(void 0,le))}else x=V(Q,K,ue,Z,_e,L);ue>=se&&(ye+=K.slice(se,ue)+x,se=ue+Q.length)}return ye+K.slice(se)}];function V(W,L,A,P,K,X){var B=A+W.length,k=P.length,re=_;return K!==void 0&&(K=u(K),re=b),S.call(X,re,function(ie,ve){var ye;switch(ve.charAt(0)){case"$":return"$";case"&":return W;case"`":return L.slice(0,A);case"'":return L.slice(B);case"<":ye=K[ve.slice(1,-1)];break;default:var se=+ve;if(se===0)return ie;if(se>k){var z=y(se/10);return z===0?ie:z<=k?P[z-1]===void 0?ve.charAt(1):P[z-1]+ve.charAt(1):ie}ye=P[se-1]}return ye===void 0?"":ye})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var f=l.f(c(h)),p=u.f;return p?f.concat(p(h)):f}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),v=c(m.length),y;return d(p),y=h(m,0),y.length=l(y,m,m,v,0,1,p,arguments.length>1?arguments[1]:void 0),y}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var f=String(l(d)),p=a(h),m=f.length,v,y;return p<0||p>=m?c?"":void 0:(v=f.charCodeAt(p),v<55296||v>56319||p+1===m||(y=f.charCodeAt(p+1))<56320||y>57343?c?f.charAt(p):v:c?f.slice(p,p+2):(v-55296<<10)+(y-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:a(f)&&(f=f[c],f===null&&(f=void 0))),new(f===void 0?Array:f)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),f=o("d012"),p=l.WeakMap,m,v,y,b=function(D){return y(D)?v(D):m(D,{})},_=function(D){return function(C){var M;if(!u(C)||(M=v(C)).type!==D)throw TypeError("Incompatible receiver, "+D+" required");return M}};if(a){var w=new p,T=w.get,S=w.has,O=w.set;m=function(D,C){return O.call(w,D,C),C},v=function(D){return T.call(w,D)||{}},y=function(D){return S.call(w,D)}}else{var R=h("state");f[R]=!0,m=function(D,C){return c(D,R,C),C},v=function(D){return d(D,R)?D[R]:{}},y=function(D){return d(D,R)}}i.exports={set:m,get:v,has:y,enforce:b,getterFor:_}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),f=h.get,p=h.enforce,m=String(String).split("String");(i.exports=function(v,y,b,_){var w=_?!!_.unsafe:!1,T=_?!!_.enumerable:!1,S=_?!!_.noTargetGet:!1;if(typeof b=="function"&&(typeof y=="string"&&!u(b,"name")&&l(b,"name",y),p(b).source=m.join(typeof y=="string"?y:"")),v===a){T?v[y]=b:c(y,b);return}else w?!S&&v[y]&&(T=!0):delete v[y];T?v[y]=b:l(v,y,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(f){for(var p=u(f),m=l(p),v=m.length,y=0,b=[],_;v>y;)_=m[y++],(!a||c.call(p,_))&&b.push(h?[_,p[_]]:p[_]);return b}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),f=o("f772"),p=">",m="<",v="prototype",y="script",b=f("IE_PROTO"),_=function(){},w=function(D){return m+y+p+D+m+"/"+y+p},T=function(D){D.write(w("")),D.close();var C=D.parentWindow.Object;return D=null,C},S=function(){var D=h("iframe"),C="java"+y+":",M;return D.style.display="none",d.appendChild(D),D.src=String(C),M=D.contentWindow.document,M.open(),M.write(w("document.F=Object")),M.close(),M.F},O,R=function(){try{O=document.domain&&new ActiveXObject("htmlfile")}catch{}R=O?T(O):S();for(var D=u.length;D--;)delete R[v][u[D]];return R()};c[b]=!0,i.exports=Object.create||function(C,M){var V;return C!==null?(_[v]=a(C),V=new _,_[v]=null,V[b]=C):V=R(),M===void 0?V:l(V,M)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),f=o("6eeb"),p=o("b622"),m=o("c430"),v=o("3f8c"),y=o("ae93"),b=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,w=p("iterator"),T="keys",S="values",O="entries",R=function(){return this};i.exports=function(D,C,M,V,W,L,A){l(M,C,V);var P=function(z){if(z===W&&re)return re;if(!_&&z in B)return B[z];switch(z){case T:return function(){return new M(this,z)};case S:return function(){return new M(this,z)};case O:return function(){return new M(this,z)}}return function(){return new M(this)}},K=C+" Iterator",X=!1,B=D.prototype,k=B[w]||B["@@iterator"]||W&&B[W],re=!_&&k||P(W),ie=C=="Array"&&B.entries||k,ve,ye,se;if(ie&&(ve=u(ie.call(new D)),b!==Object.prototype&&ve.next&&(!m&&u(ve)!==b&&(c?c(ve,b):typeof ve[w]!="function"&&h(ve,w,R)),d(ve,K,!0,!0),m&&(v[K]=R))),W==S&&k&&k.name!==S&&(X=!0,re=function(){return k.call(this)}),(!m||A)&&B[w]!==re&&h(B,w,re),v[C]=re,W)if(ye={values:P(S),keys:L?re:P(T),entries:P(O)},A)for(se in ye)(_||X||!(se in B))&&f(B,se,ye[se]);else a({target:C,proto:!0,forced:_||X},ye);return ye}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var f=a(d);f in c?l.f(c,f,u(0,h)):c[f]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(O){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(O.stack)||f.exec(O.stack),m=p&&p[1]||!1,v=p&&p[2]||!1,y=document.location.href.replace(document.location.hash,""),b,_,w,T=document.getElementsByTagName("script");m===y&&(b=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(v-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),w=b.replace(_,"$1").trim());for(var S=0;S<T.length;S++)if(T[S].readyState==="interactive"||T[S].src===m||m===y&&T[S].innerHTML&&T[S].innerHTML.trim()===w)return T[S];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var v=/a/,y=/b*/g;return u.call(v,"a"),u.call(y,"a"),v.lastIndex!==0||y.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=h||p||f;m&&(d=function(y){var b=this,_,w,T,S,O=f&&b.sticky,R=a.call(b),D=b.source,C=0,M=y;return O&&(R=R.replace("y",""),R.indexOf("g")===-1&&(R+="g"),M=String(y).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&y[b.lastIndex-1]!==`
`)&&(D="(?: "+D+")",M=" "+M,C++),w=new RegExp("^(?:"+D+")",R)),p&&(w=new RegExp("^"+D+"$(?!\\s)",R)),h&&(_=b.lastIndex),T=u.call(O?w:b,M),O?T?(T.input=T.input.slice(C),T[0]=T[0].slice(C),T.index=b.lastIndex,b.lastIndex+=T[0].length):b.lastIndex=0:h&&T&&(b.lastIndex=b.global?T.index+T[0].length:_),p&&T&&T.length>1&&c.call(T[0],w,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(T[S]=void 0)}),T}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,m){var v=d[c(p)];return v==f?!0:v==h?!1:typeof m=="function"?a(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",f=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),f=o("8418"),p=o("65f0"),m=o("1dde"),v=o("b622"),y=o("2d00"),b=v("isConcatSpreadable"),_=9007199254740991,w="Maximum allowed index exceeded",T=y>=51||!l(function(){var D=[];return D[b]=!1,D.concat()[0]!==D}),S=m("concat"),O=function(D){if(!c(D))return!1;var C=D[b];return C!==void 0?!!C:u(D)},R=!T||!S;a({target:"Array",proto:!0,forced:R},{concat:function(C){var M=d(this),V=p(M,0),W=0,L,A,P,K,X;for(L=-1,P=arguments.length;L<P;L++)if(X=L===-1?M:arguments[L],O(X)){if(K=h(X.length),W+K>_)throw TypeError(w);for(A=0;A<K;A++,W++)A in X&&f(V,W,X[A])}else{if(W>=_)throw TypeError(w);f(V,W++,X)}return V.length=W,V}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(f){var h=l.return;throw h!==void 0&&a(h.call(l)),f}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(f,p,m){if(u(f),p=c(p,!0),u(m),l)try{return d(f,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(f[p]=m.value),f}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(f,p,m){var v=p+" Iterator";return f.prototype=l(a,{next:u(1,m)}),c(f,v,!1,!0),d[v]=h,f}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,f,p,m,v,y,b){for(var _=m,w=0,T=y?u(y,b,3):!1,S;w<p;){if(w in f){if(S=T?T(f[w],w,h):f[w],v>0&&a(S))_=c(d,h,S,l(S.length),_,v-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[_]=S}_++}w++}return _};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),f=o("8418"),p=o("1dde"),m=o("ae40"),v=p("splice"),y=m("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,_=Math.min,w=9007199254740991,T="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!v||!y},{splice:function(O,R){var D=d(this),C=c(D.length),M=l(O,C),V=arguments.length,W,L,A,P,K,X;if(V===0?W=L=0:V===1?(W=0,L=C-M):(W=V-2,L=_(b(u(R),0),C-M)),C+W-L>w)throw TypeError(T);for(A=h(D,L),P=0;P<L;P++)K=M+P,K in D&&f(A,P,D[K]);if(A.length=L,W<L){for(P=M;P<C-L;P++)K=P+L,X=P+W,K in D?D[X]=D[K]:delete D[X];for(P=C;P>C-L+W;P--)delete D[P-1]}else if(W>L)for(P=C-L;P>M;P--)K=P+L-1,X=P+W-1,K in D?D[X]=D[K]:delete D[X];for(P=0;P<W;P++)D[P+M]=arguments[P+2];return D.length=C-L+W,A}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),f=o("fdbf"),p=o("d039"),m=o("5135"),v=o("e8b5"),y=o("861d"),b=o("825a"),_=o("7b0b"),w=o("fc6a"),T=o("c04e"),S=o("5c6c"),O=o("7c73"),R=o("df75"),D=o("241c"),C=o("057f"),M=o("7418"),V=o("06cf"),W=o("9bf2"),L=o("d1e7"),A=o("9112"),P=o("6eeb"),K=o("5692"),X=o("f772"),B=o("d012"),k=o("90e3"),re=o("b622"),ie=o("e538"),ve=o("746f"),ye=o("d44e"),se=o("69f3"),z=o("b727").forEach,Q=X("hidden"),ue="Symbol",Z="prototype",pe=re("toPrimitive"),_e=se.set,le=se.getterFor(ue),x=Object[Z],U=l.Symbol,G=u("JSON","stringify"),ce=V.f,de=W.f,Ee=C.f,De=L.f,Te=K("symbols"),Oe=K("op-symbols"),be=K("string-to-symbol-registry"),$e=K("symbol-to-string-registry"),He=K("wks"),Ge=l.QObject,rt=!Ge||!Ge[Z]||!Ge[Z].findChild,ct=d&&p(function(){return O(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!=7})?function(Qe,We,it){var At=ce(x,We);At&&delete x[We],de(Qe,We,it),At&&Qe!==x&&de(x,We,At)}:de,J=function(Qe,We){var it=Te[Qe]=O(U[Z]);return _e(it,{type:ue,tag:Qe,description:We}),d||(it.description=We),it},H=f?function(Qe){return typeof Qe=="symbol"}:function(Qe){return Object(Qe)instanceof U},Y=function(We,it,At){We===x&&Y(Oe,it,At),b(We);var $t=T(it,!0);return b(At),m(Te,$t)?(At.enumerable?(m(We,Q)&&We[Q][$t]&&(We[Q][$t]=!1),At=O(At,{enumerable:S(0,!1)})):(m(We,Q)||de(We,Q,S(1,{})),We[Q][$t]=!0),ct(We,$t,At)):de(We,$t,At)},te=function(We,it){b(We);var At=w(it),$t=R(At).concat(ke(At));return z($t,function(oi){(!d||Ve.call(At,oi))&&Y(We,oi,At[oi])}),We},he=function(We,it){return it===void 0?O(We):te(O(We),it)},Ve=function(We){var it=T(We,!0),At=De.call(this,it);return this===x&&m(Te,it)&&!m(Oe,it)?!1:At||!m(this,it)||!m(Te,it)||m(this,Q)&&this[Q][it]?At:!0},Xe=function(We,it){var At=w(We),$t=T(it,!0);if(!(At===x&&m(Te,$t)&&!m(Oe,$t))){var oi=ce(At,$t);return oi&&m(Te,$t)&&!(m(At,Q)&&At[Q][$t])&&(oi.enumerable=!0),oi}},ge=function(We){var it=Ee(w(We)),At=[];return z(it,function($t){!m(Te,$t)&&!m(B,$t)&&At.push($t)}),At},ke=function(We){var it=We===x,At=Ee(it?Oe:w(We)),$t=[];return z(At,function(oi){m(Te,oi)&&(!it||m(x,oi))&&$t.push(Te[oi])}),$t};if(h||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var We=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),it=k(We),At=function($t){this===x&&At.call(Oe,$t),m(this,Q)&&m(this[Q],it)&&(this[Q][it]=!1),ct(this,it,S(1,$t))};return d&&rt&&ct(x,it,{configurable:!0,set:At}),J(it,We)},P(U[Z],"toString",function(){return le(this).tag}),P(U,"withoutSetter",function(Qe){return J(k(Qe),Qe)}),L.f=Ve,W.f=Y,V.f=Xe,D.f=C.f=ge,M.f=ke,ie.f=function(Qe){return J(re(Qe),Qe)},d&&(de(U[Z],"description",{configurable:!0,get:function(){return le(this).description}}),c||P(x,"propertyIsEnumerable",Ve,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:U}),z(R(He),function(Qe){ve(Qe)}),a({target:ue,stat:!0,forced:!h},{for:function(Qe){var We=String(Qe);if(m(be,We))return be[We];var it=U(We);return be[We]=it,$e[it]=We,it},keyFor:function(We){if(!H(We))throw TypeError(We+" is not a symbol");if(m($e,We))return $e[We]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:he,defineProperty:Y,defineProperties:te,getOwnPropertyDescriptor:Xe}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:ge,getOwnPropertySymbols:ke}),a({target:"Object",stat:!0,forced:p(function(){M.f(1)})},{getOwnPropertySymbols:function(We){return M.f(_(We))}}),G){var Re=!h||p(function(){var Qe=U();return G([Qe])!="[null]"||G({a:Qe})!="{}"||G(Object(Qe))!="{}"});a({target:"JSON",stat:!0,forced:Re},{stringify:function(We,it,At){for(var $t=[We],oi=1,ty;arguments.length>oi;)$t.push(arguments[oi++]);if(ty=it,!(!y(it)&&We===void 0||H(We)))return v(it)||(it=function(P3,Bf){if(typeof ty=="function"&&(Bf=ty.call(this,P3,Bf)),!H(Bf))return Bf}),$t[1]=it,G.apply(null,$t)}})}U[Z][pe]||A(U[Z],pe,U[Z].valueOf),ye(U,ue),B[Q]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(f){throw f};i.exports=function(f,p){if(u(d,f))return d[f];p||(p={});var m=[][f],v=u(p,"ACCESSORS")?p.ACCESSORS:!1,y=u(p,0)?p[0]:h,b=u(p,1)?p[1]:void 0;return d[f]=!!m&&!l(function(){if(v&&!a)return!0;var _={length:-1};v?c(_,1,{enumerable:!0,get:h}):_[1]=1,m.call(_,y,b)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),f=!1,p=function(){return this},m,v,y;[].keys&&(y=[].keys(),"next"in y?(v=a(a(y)),v!==Object.prototype&&(m=v)):f=!0),m==null&&(m={}),!d&&!u(m,h)&&l(m,h,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:f}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),f=l("wks"),p=a.Symbol,m=h?p:p&&p.withoutSetter||c;i.exports=function(v){return u(f,v)||(d&&u(p,v)?f[v]=p[v]:f[v]=m("Symbol."+v)),f[v]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(f){return u(l(f))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,f=function(p){var m=p==1,v=p==2,y=p==3,b=p==4,_=p==6,w=p==5||_;return function(T,S,O,R){for(var D=u(T),C=l(D),M=a(S,O,3),V=c(C.length),W=0,L=R||d,A=m?L(T,V):v?L(T,0):void 0,P,K;V>W;W++)if((w||W in C)&&(P=C[W],K=M(P,W,D),p)){if(m)A[W]=K;else if(K)switch(p){case 3:return!0;case 5:return P;case 6:return W;case 2:h.call(A,P)}else if(b)return!1}return _?-1:y||b?b:A}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,f=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!f},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,f=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!f||!p},{indexOf:function(v){return h?d.apply(this,arguments)||0:l(this,v,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var f=l(d),p=0,m=[],v;for(v in f)!a(c,v)&&a(f,v)&&m.push(v);for(;h.length>p;)a(f,v=h[p++])&&(~u(m,v)||m.push(v));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(f,p){return a(f),l(p),u?d.call(f,p):f.__proto__=p,f}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,f){d&&!l(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(f,p,m,v){a(p);var y=l(f),b=u(y),_=c(y.length),w=h?_-1:0,T=h?-1:1;if(m<2)for(;;){if(w in b){v=b[w],w+=T;break}if(w+=T,h?w<0:_<=w)throw TypeError("Reduce of empty array with no initial value")}for(;h?w>=0:_>w;w+=T)w in b&&(v=p(v,b[w],w,y));return v}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),f=!l(function(){var b=/./;return b.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(b,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),v=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),y=!l(function(){var b=/(?:)/,_=b.exec;b.exec=function(){return _.apply(this,arguments)};var w="ab".split(b);return w.length!==2||w[0]!=="a"||w[1]!=="b"});i.exports=function(b,_,w,T){var S=u(b),O=!l(function(){var W={};return W[S]=function(){return 7},""[b](W)!=7}),R=O&&!l(function(){var W=!1,L=/a/;return b==="split"&&(L={},L.constructor={},L.constructor[h]=function(){return L},L.flags="",L[S]=/./[S]),L.exec=function(){return W=!0,null},L[S](""),!W});if(!O||!R||b==="replace"&&!(f&&p&&!v)||b==="split"&&!y){var D=/./[S],C=w(S,""[b],function(W,L,A,P,K){return L.exec===c?O&&!K?{done:!0,value:D.call(L,A,P)}:{done:!0,value:W.call(A,L,P)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),M=C[0],V=C[1];a(String.prototype,b,M),a(RegExp.prototype,S,_==2?function(W,L){return V.call(W,this,L)}:function(W){return V.call(W,this)})}T&&d(RegExp.prototype[S],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),v=d.f,y=u(m),b={},_=0,w,T;y.length>_;)T=v(m,w=y[_++]),T!==void 0&&h(b,w,T);return b}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),f=d("toStringTag"),p=u.values;for(var m in l){var v=a[m],y=v&&v.prototype;if(y){if(y[h]!==p)try{c(y,h,p)}catch{y[h]=p}if(y[f]||c(y,f,m),l[m]){for(var b in u)if(y[b]!==u[b])try{c(y,b,u[b])}catch{y[b]=u[b]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,f=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},v=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),O=this instanceof v?new p(S):S===void 0?p():p(S);return S===""&&(m[O]=!0),O};f(v,p);var y=v.prototype=p.prototype;y.constructor=v;var b=y.toString,_=String(p("test"))=="Symbol(test)",w=/^Symbol\((.*)\)[^)]+$/;h(y,"description",{configurable:!0,get:function(){var S=d(this)?this.valueOf():this,O=b.call(S);if(c(m,S))return"";var R=_?O.slice(7,-1):O.replace(w,"$1");return R===""?void 0:R}}),a({global:!0,forced:!0},{Symbol:v})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(f){return f=l(f),a(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",f=c.set,p=c.getterFor(h);i.exports=d(Array,"Array",function(m,v){f(this,{type:h,target:a(m),index:0,kind:v})},function(){var m=p(this),v=m.target,y=m.kind,b=m.index++;return!v||b>=v.length?(m.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:b,done:!1}:y=="values"?{value:v[b],done:!1}:{value:[b,v[b]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),f=!d||h;a({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(m,v){return c(u(m),v)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var f=l(h),p=c.f,m=u.f,v=0;v<f.length;v++){var y=f[v];a(d,y)||p(d,y,m(h,y))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(f,p){try{return f[p]}catch{}};i.exports=a?l:function(f){var p,m,v;return f===void 0?"Undefined":f===null?"Null":typeof(m=h(p=Object(f),c))=="string"?m:d?l(p):(v=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":v}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(H,Y,te){return Y in H?Object.defineProperty(H,Y,{value:te,enumerable:!0,configurable:!0,writable:!0}):H[Y]=te,H}function d(H,Y){var te=Object.keys(H);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(H);Y&&(he=he.filter(function(Ve){return Object.getOwnPropertyDescriptor(H,Ve).enumerable})),te.push.apply(te,he)}return te}function h(H){for(var Y=1;Y<arguments.length;Y++){var te=arguments[Y]!=null?arguments[Y]:{};Y%2?d(Object(te),!0).forEach(function(he){c(H,he,te[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(te)):d(Object(te)).forEach(function(he){Object.defineProperty(H,he,Object.getOwnPropertyDescriptor(te,he))})}return H}function f(H){if(Array.isArray(H))return H}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(H,Y){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(H)))){var te=[],he=!0,Ve=!1,Xe=void 0;try{for(var ge=H[Symbol.iterator](),ke;!(he=(ke=ge.next()).done)&&(te.push(ke.value),!(Y&&te.length===Y));he=!0);}catch(Re){Ve=!0,Xe=Re}finally{try{!he&&ge.return!=null&&ge.return()}finally{if(Ve)throw Xe}}return te}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(H,Y){(Y==null||Y>H.length)&&(Y=H.length);for(var te=0,he=new Array(Y);te<Y;te++)he[te]=H[te];return he}function v(H,Y){if(H){if(typeof H=="string")return m(H,Y);var te=Object.prototype.toString.call(H).slice(8,-1);if(te==="Object"&&H.constructor&&(te=H.constructor.name),te==="Map"||te==="Set")return Array.from(H);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return m(H,Y)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(H,Y){return f(H)||p(H,Y)||v(H,Y)||y()}function _(H){if(Array.isArray(H))return m(H)}function w(H){if(typeof Symbol<"u"&&Symbol.iterator in Object(H))return Array.from(H)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(H){return _(H)||w(H)||v(H)||T()}var O=o("a352"),R=o.n(O);function D(H){H.parentElement!==null&&H.parentElement.removeChild(H)}function C(H,Y,te){var he=te===0?H.children[0]:H.children[te-1].nextSibling;H.insertBefore(Y,he)}var M=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function V(H){var Y=Object.create(null);return function(he){var Ve=Y[he];return Ve||(Y[he]=H(he))}}var W=/-(\w)/g,L=V(function(H){return H.replace(W,function(Y,te){return te.toUpperCase()})});o("5db7"),o("73d9");var A=["Start","Add","Remove","Update","End"],P=["Choose","Unchoose","Sort","Filter","Clone"],K=["Move"],X=[K,A,P].flatMap(function(H){return H}).map(function(H){return"on".concat(H)}),B={manage:K,manageAndEmit:A,emit:P};function k(H){return X.indexOf(H)!==-1}o("caad"),o("2ca0");var re=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ie(H){return re.includes(H)}function ve(H){return["transition-group","TransitionGroup"].includes(H)}function ye(H){return["id","class","role","style"].includes(H)||H.startsWith("data-")||H.startsWith("aria-")||H.startsWith("on")}function se(H){return H.reduce(function(Y,te){var he=b(te,2),Ve=he[0],Xe=he[1];return Y[Ve]=Xe,Y},{})}function z(H){var Y=H.$attrs,te=H.componentData,he=te===void 0?{}:te,Ve=se(Object.entries(Y).filter(function(Xe){var ge=b(Xe,2),ke=ge[0];return ge[1],ye(ke)}));return h(h({},Ve),he)}function Q(H){var Y=H.$attrs,te=H.callBackBuilder,he=se(ue(Y));Object.entries(te).forEach(function(Xe){var ge=b(Xe,2),ke=ge[0],Re=ge[1];B[ke].forEach(function(Qe){he["on".concat(Qe)]=Re(Qe)})});var Ve="[data-draggable]".concat(he.draggable||"");return h(h({},he),{},{draggable:Ve})}function ue(H){return Object.entries(H).filter(function(Y){var te=b(Y,2),he=te[0];return te[1],!ye(he)}).map(function(Y){var te=b(Y,2),he=te[0],Ve=te[1];return[L(he),Ve]}).filter(function(Y){var te=b(Y,2),he=te[0];return te[1],!k(he)})}o("c740");function Z(H,Y){if(!(H instanceof Y))throw new TypeError("Cannot call a class as a function")}function pe(H,Y){for(var te=0;te<Y.length;te++){var he=Y[te];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(H,he.key,he)}}function _e(H,Y,te){return Y&&pe(H.prototype,Y),te&&pe(H,te),H}var le=function(Y){var te=Y.el;return te},x=function(Y,te){return Y.__draggable_context=te},U=function(Y){return Y.__draggable_context},G=function(){function H(Y){var te=Y.nodes,he=te.header,Ve=te.default,Xe=te.footer,ge=Y.root,ke=Y.realList;Z(this,H),this.defaultNodes=Ve,this.children=[].concat(S(he),S(Ve),S(Xe)),this.externalComponent=ge.externalComponent,this.rootTransition=ge.transition,this.tag=ge.tag,this.realList=ke}return _e(H,[{key:"render",value:function(te,he){var Ve=this.tag,Xe=this.children,ge=this._isRootComponent,ke=ge?{default:function(){return Xe}}:Xe;return te(Ve,he,ke)}},{key:"updated",value:function(){var te=this.defaultNodes,he=this.realList;te.forEach(function(Ve,Xe){x(le(Ve),{element:he[Xe],index:Xe})})}},{key:"getUnderlyingVm",value:function(te){return U(te)}},{key:"getVmIndexFromDomIndex",value:function(te,he){var Ve=this.defaultNodes,Xe=Ve.length,ge=he.children,ke=ge.item(te);if(ke===null)return Xe;var Re=U(ke);if(Re)return Re.index;if(Xe===0)return 0;var Qe=le(Ve[0]),We=S(ge).findIndex(function(it){return it===Qe});return te<We?0:Xe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),H}(),ce=o("8bbf");function de(H,Y){var te=H[Y];return te?te():[]}function Ee(H){var Y=H.$slots,te=H.realList,he=H.getKey,Ve=te||[],Xe=["header","footer"].map(function(it){return de(Y,it)}),ge=b(Xe,2),ke=ge[0],Re=ge[1],Qe=Y.item;if(!Qe)throw new Error("draggable element must have an item slot");var We=Ve.flatMap(function(it,At){return Qe({element:it,index:At}).map(function($t){return $t.key=he(it),$t.props=h(h({},$t.props||{}),{},{"data-draggable":!0}),$t})});if(We.length!==Ve.length)throw new Error("Item slot must have only one child");return{header:ke,footer:Re,default:We}}function De(H){var Y=ve(H),te=!ie(H)&&!Y;return{transition:Y,externalComponent:te,tag:te?Object(ce.resolveComponent)(H):Y?ce.TransitionGroup:H}}function Te(H){var Y=H.$slots,te=H.tag,he=H.realList,Ve=H.getKey,Xe=Ee({$slots:Y,realList:he,getKey:Ve}),ge=De(te);return new G({nodes:Xe,root:ge,realList:he})}function Oe(H,Y){var te=this;Object(ce.nextTick)(function(){return te.$emit(H.toLowerCase(),Y)})}function be(H){var Y=this;return function(te,he){if(Y.realList!==null)return Y["onDrag".concat(H)](te,he)}}function $e(H){var Y=this,te=be.call(this,H);return function(he,Ve){te.call(Y,he,Ve),Oe.call(Y,H,he)}}var He=null,Ge={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Y){return Y}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},rt=["update:modelValue","change"].concat(S([].concat(S(B.manageAndEmit),S(B.emit)).map(function(H){return H.toLowerCase()}))),ct=Object(ce.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ge,emits:rt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Y=this.$slots,te=this.$attrs,he=this.tag,Ve=this.componentData,Xe=this.realList,ge=this.getKey,ke=Te({$slots:Y,tag:he,realList:Xe,getKey:ge});this.componentStructure=ke;var Re=z({$attrs:te,componentData:Ve});return ke.render(ce.h,Re)}catch(Qe){return this.error=!0,Object(ce.h)("pre",{style:{color:"red"}},Qe.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Y=this;if(!this.error){var te=this.$attrs,he=this.$el,Ve=this.componentStructure;Ve.updated();var Xe=Q({$attrs:te,callBackBuilder:{manageAndEmit:function(Re){return $e.call(Y,Re)},emit:function(Re){return Oe.bind(Y,Re)},manage:function(Re){return be.call(Y,Re)}}}),ge=he.nodeType===1?he:he.parentElement;this._sortable=new R.a(ge,Xe),this.targetDomElement=ge,ge.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Y=this.list;return Y||this.modelValue},getKey:function(){var Y=this.itemKey;return typeof Y=="function"?Y:function(te){return te[Y]}}},watch:{$attrs:{handler:function(Y){var te=this._sortable;te&&ue(Y).forEach(function(he){var Ve=b(he,2),Xe=Ve[0],ge=Ve[1];te.option(Xe,ge)})},deep:!0}},methods:{getUnderlyingVm:function(Y){return this.componentStructure.getUnderlyingVm(Y)||null},getUnderlyingPotencialDraggableComponent:function(Y){return Y.__draggable_component__},emitChanges:function(Y){var te=this;Object(ce.nextTick)(function(){return te.$emit("change",Y)})},alterList:function(Y){if(this.list){Y(this.list);return}var te=S(this.modelValue);Y(te),this.$emit("update:modelValue",te)},spliceList:function(){var Y=arguments,te=function(Ve){return Ve.splice.apply(Ve,S(Y))};this.alterList(te)},updatePosition:function(Y,te){var he=function(Xe){return Xe.splice(te,0,Xe.splice(Y,1)[0])};this.alterList(he)},getRelatedContextFromMoveEvent:function(Y){var te=Y.to,he=Y.related,Ve=this.getUnderlyingPotencialDraggableComponent(te);if(!Ve)return{component:Ve};var Xe=Ve.realList,ge={list:Xe,component:Ve};if(te!==he&&Xe){var ke=Ve.getUnderlyingVm(he)||{};return h(h({},ke),ge)}return ge},getVmIndexFromDomIndex:function(Y){return this.componentStructure.getVmIndexFromDomIndex(Y,this.targetDomElement)},onDragStart:function(Y){this.context=this.getUnderlyingVm(Y.item),Y.item._underlying_vm_=this.clone(this.context.element),He=Y.item},onDragAdd:function(Y){var te=Y.item._underlying_vm_;if(te!==void 0){D(Y.item);var he=this.getVmIndexFromDomIndex(Y.newIndex);this.spliceList(he,0,te);var Ve={element:te,newIndex:he};this.emitChanges({added:Ve})}},onDragRemove:function(Y){if(C(this.$el,Y.item,Y.oldIndex),Y.pullMode==="clone"){D(Y.clone);return}var te=this.context,he=te.index,Ve=te.element;this.spliceList(he,1);var Xe={element:Ve,oldIndex:he};this.emitChanges({removed:Xe})},onDragUpdate:function(Y){D(Y.item),C(Y.from,Y.item,Y.oldIndex);var te=this.context.index,he=this.getVmIndexFromDomIndex(Y.newIndex);this.updatePosition(te,he);var Ve={element:this.context.element,oldIndex:te,newIndex:he};this.emitChanges({moved:Ve})},computeFutureIndex:function(Y,te){if(!Y.element)return 0;var he=S(te.to.children).filter(function(ke){return ke.style.display!=="none"}),Ve=he.indexOf(te.related),Xe=Y.component.getVmIndexFromDomIndex(Ve),ge=he.indexOf(He)!==-1;return ge||!te.willInsertAfter?Xe:Xe+1},onDragMove:function(Y,te){var he=this.move,Ve=this.realList;if(!he||!Ve)return!0;var Xe=this.getRelatedContextFromMoveEvent(Y),ge=this.computeFutureIndex(Xe,Y),ke=h(h({},this.context),{},{futureIndex:ge}),Re=h(h({},Y),{},{relatedContext:Xe,draggedContext:ke});return he(Re,te)},onDragEnd:function(){He=null}}}),J=ct;s.default=J},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),f=o("8418"),p=o("b622"),m=o("1dde"),v=o("ae40"),y=m("slice"),b=v("slice",{ACCESSORS:!0,0:0,1:2}),_=p("species"),w=[].slice,T=Math.max;a({target:"Array",proto:!0,forced:!y||!b},{slice:function(O,R){var D=h(this),C=d(D.length),M=c(O,C),V=c(R===void 0?C:R,C),W,L,A;if(u(D)&&(W=D.constructor,typeof W=="function"&&(W===Array||u(W.prototype))?W=void 0:l(W)&&(W=W[_],W===null&&(W=void 0)),W===Array||W===void 0))return w.call(D,M,V);for(L=new(W===void 0?Array:W)(T(V-M,0)),A=0;M<V;M++,A++)M in D&&f(L,A,D[M]);return L.length=A,L}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(fL);var fie=fL.exports;const IL=Are(fie),pie={key:0,class:"mb-5 p-4 border-y"},mie={class:"flex"},gie=Ce({__name:"StringListField",props:{name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=oe(""),s=ee({get:()=>r.modelValue,set:d=>{u("update:modelValue",d),i.value=""}}),o=d=>{if(d.moved){const{oldIndex:h,newIndex:f}=d.moved,p=[...s.value];if(p.length===2)s.value=[p[1],p[0]];else{const m=p.splice(h,1)[0];p.splice(f,0,m),s.value=p}}},a=()=>{i.value.length&&(s.value=[...s.value,i.value])},l=d=>{s.value.splice(d,1)},u=n;return e({test:()=>{}}),(d,h)=>(I(),F("div",null,[$(ur,{id:d.name,name:d.name,label:d.label,modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=f=>i.value=f),max:200,placeholder:d.placeholder,onKeydown:h[1]||(h[1]=ht(f=>a(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),s.value.length?(I(),F("div",pie,[$(E(IL),{modelValue:s.value,itemKey:"index",onChange:o},{item:j(({element:f,index:p})=>[g("div",mie,[$(ur,{class:"w-full",id:`${d.name}.${p}`,name:d.name,"model-value":f,max:200,"delete-button":"","onUpdate:modelValue":m=>s.value[p]=m.toString(),"onUpdate:delete":m=>l(p)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):q("",!0)]))}});var vie={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Ie.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Ie.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},yie=sr.extend({name:"badge",classes:vie}),bie={name:"BaseBadge",extends:Xr,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:yie,provide:function(){return{$parentInstance:this}}},CL={name:"Badge",extends:bie,inheritAttrs:!1};function wie(t,e,n,r,i,s){return I(),F("span",ae({class:t.cx("root")},t.ptmi("root")),[fe(t.$slots,"default",{},function(){return[N(Me(t.value),1)]})],16)}CL.render=wie;var Lf={name:"SpinnerIcon",extends:ba},_ie=g("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),Tie=[_ie];function Sie(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Tie,16)}Lf.render=Sie;function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function ko(t,e,n){return e=Eie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eie(t){var e=Iie(t,"string");return Fh(e)=="symbol"?e:String(e)}function Iie(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cie={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",ko(ko(ko(ko(ko(ko(ko(ko({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},Oie=sr.extend({name:"button",classes:Cie}),Aie={name:"BaseButton",extends:Xr,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:Oie,provide:function(){return{$parentInstance:this}}},wu={name:"Button",extends:Aie,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:Lf,Badge:CL},directives:{ripple:Uv}},kie=["aria-label","disabled","data-p-severity"];function Pie(t,e,n,r,i,s){var o=_n("SpinnerIcon"),a=_n("Badge"),l=tf("ripple");return vi((I(),F("button",ae({class:t.cx("root"),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},s.getPTOptions("root"),{"data-p-severity":t.severity}),[fe(t.$slots,"default",{},function(){return[t.loading?fe(t.$slots,"loadingicon",{key:0,class:Pe([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(I(),F("span",ae({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(I(),ne(o,ae({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"icon",{key:1,class:Pe([t.cx("icon")])},function(){return[t.icon?(I(),F("span",ae({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):q("",!0)]}),g("span",ae({class:t.cx("label")},t.ptm("label")),Me(t.label||" "),17),t.badge?(I(),ne(a,ae({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):q("",!0)]})],16,kie)),[[l]])}wu.render=Pie;const xie={class:"m-4"},Die=["for"],Rie={class:"table w-full"},Nie={class:"table-header-group"},Mie={key:0,class:"table-row"},$ie={class:"table-cell"},Lie={class:"table-cell"},Fie={class:"table-row-group"},Vie={key:0,class:"table-cell"},Uie={key:1,class:"table-cell"},Bie={key:2,class:"table-cell"},jie={class:"table-footer-group"},Hie={class:"table-row"},Wie={class:"table-cell"},OL=Ce({__name:"TableField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,r=e,s=Bl(Ul).greaterOrEqual("md"),o=ee({get:()=>DN(n.modelValue),set:p=>{r("update:modelValue",hC(p))}}),a=ee(()=>n.name+(n.id?"."+n.id:"")),l=(p,m,v)=>{const y=[...o.value];y[p][m]=v,r("update:modelValue",hC(y))},u=()=>{const p=o.value;if(p.length){const m=p[0];m.length?o.value=[...p,m.map(()=>"")]:o.value=[...p,[""]]}else o.value=[[""]]},c=()=>{o.value=o.value.slice(0,-1)},d=()=>{o.value=o.value.map(p=>[...p,""])},h=()=>{o.value=o.value.map(p=>p.slice(0,-1))},f=(p,m)=>p===m.length-1;return(p,m)=>(I(),F("div",xie,[p.label?(I(),F("label",ae({key:0,class:"block text-sm font-bold mb-2",for:a.value},p.labelProps),Me(p.label),17,Die)):q("",!0),g("div",Rie,[g("div",Nie,[o.value.length&&o.value[0].length>1?(I(),F("div",Mie,[(I(!0),F(we,null,nt(o.value[0].slice(0,-1),v=>(I(),F("div",$ie))),256)),g("div",Lie,[o.value.length&&o.value[0].length?(I(),ne(E(wu),{key:0,class:"md:text-start text-nowrap",icon:"pi pi-times",label:E(s)?"Remove column":void 0,onClick:h},null,8,["label"])):q("",!0)])])):q("",!0)]),g("div",Fie,[(I(!0),F(we,null,nt(o.value,(v,y)=>(I(),F("div",{key:y,class:"table-row"},[(I(!0),F(we,null,nt(v,(b,_)=>(I(),ne(ur,{class:"table-cell !m-0",key:_,name:`${p.name}.${y}.${_}`,modelValue:b,placeholder:y===0||_===0?"header":"cell","onUpdate:modelValue":w=>l(y,_,w.toString())},null,8,["name","modelValue","placeholder","onUpdate:modelValue"]))),128)),y===0?(I(),F("div",Vie,[$(E(wu),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:E(s)?"Add column":void 0,onClick:d},null,8,["label"])])):f(y,o.value)&&o.value.length>1?(I(),F("div",Uie,[$(E(wu),{class:"md:text-start text-nowrap",icon:"pi pi-times",label:E(s)?"Remove row":void 0,onClick:c},null,8,["label"])])):(I(),F("div",Bie))]))),128))]),g("div",jie,[g("div",Hie,[g("div",Wie,[$(E(wu),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:E(s)?"Add row":void 0,onClick:u},null,8,["label"])])])])])]))}});var Kie={},zie=Lt.extend({style:Kie});function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function PA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=qie(t,"string");return Vh(e)=="symbol"?e:String(e)}function qie(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xie=zie.extend("focustrap",{mounted:function(e,n){var r=n.value||{},i=r.disabled;i||(this.createHiddenFocusableElements(e,n),this.bind(e,n),this.autoElementFocus(e,n)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,n){var r=n.value||{},i=r.disabled;i&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,n){var r=this,i=n.value||{},s=i.onFocusIn,o=i.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function c(d){var h=xe.isFocusableElement(d)?xe.isFocusableElement(d,r.getComputedSelector(e.$_pfocustrap_focusableselector))?d:xe.getFirstFocusableElement(e,r.getComputedSelector(e.$_pfocustrap_focusableselector)):xe.getFirstFocusableElement(d);return Ie.isNotEmpty(h)?h:d.nextSibling&&c(d.nextSibling)};xe.focus(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return s&&s(a)},e.$_pfocustrap_focusoutlistener=function(a){return o&&o(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:xA(xA({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,n){var r=n.value||{},i=r.autoFocusSelector,s=i===void 0?"":i,o=r.firstFocusableSelector,a=o===void 0?"":o,l=r.autoFocus,u=l===void 0?!1:l,c=xe.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(s)));u&&!c&&(c=xe.getFirstFocusableElement(e,this.getComputedSelector(a))),xe.focus(c)},onFirstHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_lasthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?xe.getFirstFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_lasthiddenfocusableelement;xe.focus(s)},onLastHiddenElementFocus:function(e){var n,r=e.currentTarget,i=e.relatedTarget,s=i===r.$_pfocustrap_firsthiddenfocusableelement||!((n=this.$el)!==null&&n!==void 0&&n.contains(i))?xe.getLastFocusableElement(r.parentElement,this.getComputedSelector(r.$_pfocustrap_focusableselector)):r.$_pfocustrap_firsthiddenfocusableelement;xe.focus(s)},createHiddenFocusableElements:function(e,n){var r=this,i=n.value||{},s=i.tabIndex,o=s===void 0?0:s,a=i.firstFocusableSelector,l=a===void 0?"":a,u=i.lastFocusableSelector,c=u===void 0?"":u,d=function(m){return xe.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:o,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:m==null?void 0:m.bind(r)})},h=d(this.onFirstHiddenElementFocus),f=d(this.onLastHiddenElementFocus);h.$_pfocustrap_lasthiddenfocusableelement=f,h.$_pfocustrap_focusableselector=l,h.setAttribute("data-pc-section","firstfocusableelement"),f.$_pfocustrap_firsthiddenfocusableelement=h,f.$_pfocustrap_focusableselector=c,f.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(h),e.append(f)}}}),Gv={name:"TimesIcon",extends:ba},Qie=g("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),Jie=[Qie];function Zie(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Jie,16)}Gv.render=Zie;var ese={root:function(e){var n=e.props;return["p-inplace p-component",{"p-inplace-closable":n.closable}]},display:function(e){var n=e.props;return["p-inplace-display",{"p-disabled":n.disabled}]},content:"p-inplace-content"},tse=sr.extend({name:"inplace",classes:ese}),nse={name:"BaseInplace",extends:Xr,props:{closable:{type:Boolean,default:!1},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeIcon:{type:String,default:void 0},displayProps:{type:null,default:null},closeButtonProps:{type:null,default:null}},style:tse,provide:function(){return{$parentInstance:this}}},AL={name:"Inplace",extends:nse,inheritAttrs:!1,emits:["open","close","update:active"],data:function(){return{d_active:this.active}},watch:{active:function(e){this.d_active=e}},methods:{open:function(e){this.disabled||(this.$emit("open",e),this.d_active=!0,this.$emit("update:active",!0))},close:function(e){var n=this;this.$emit("close",e),this.d_active=!1,this.$emit("update:active",!1),setTimeout(function(){n.$refs.display.focus()},0)}},computed:{closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{IPButton:wu,TimesIcon:Gv},directives:{focustrap:Xie}};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e,n){return e=ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ise(t){var e=sse(t,"string");return Uh(e)=="symbol"?e:String(e)}function sse(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ose=["tabindex"];function ase(t,e,n,r,i,s){var o=_n("IPButton"),a=tf("focustrap");return vi((I(),F("div",ae({class:t.cx("root"),"aria-live":"polite"},t.ptmi("root")),[i.d_active?(I(),F("div",ae({key:1,class:t.cx("content")},t.ptm("content")),[fe(t.$slots,"content"),t.closable?(I(),ne(o,ae({key:0,"aria-label":s.closeAriaLabel,onClick:s.close,unstyled:t.unstyled,pt:t.ptm("closeButton")},t.closeButtonProps),{icon:j(function(){return[fe(t.$slots,"closeicon",{},function(){return[(I(),ne(bn(t.closeIcon?"span":"TimesIcon"),ae({class:t.closeIcon},t.ptm("closeButton").icon,{"data-pc-section":"closebuttonicon"}),null,16,["class"]))]})]}),_:3},16,["aria-label","onClick","unstyled","pt"])):q("",!0)],16)):(I(),F("div",ae({key:0,ref:"display",class:t.cx("display"),tabindex:t.$attrs.tabindex||"0",role:"button",onClick:e[0]||(e[0]=function(){return s.open&&s.open.apply(s,arguments)}),onKeydown:e[1]||(e[1]=ht(function(){return s.open&&s.open.apply(s,arguments)},["enter"]))},RA(RA({},t.displayProps),t.ptm("display"))),[fe(t.$slots,"display")],16,ose))],16)),[[a]])}AL.render=ase;const lse={class:"mt-5"},use={class:"px-5"},cse={class:"flex justify-center"},dse={class:"mt-3 flex justify-evenly font-bold"},hse=Ce({__name:"BlogPostContentSectionDialogSection",props:{selected:{},selectedBlogPost:{},index:{},isOpen:{type:Boolean}},emits:["update:selected","error","delete"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=oe(),o=oe(),a=oe(),l=oe(),u=oe(),c=oe(),d=oe(),h=oe(),f=()=>({selected:{title:{value:r.selected.title,error:""},subTitle:{value:r.selected.subTitle,error:""},description:{value:r.selected.description,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},alignment:{value:r.selected.alignment,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},table:{value:r.selected.table,error:""},bullets:{value:r.selected.bullets,error:""}}}),p=Mn(f()),m=async()=>{var v,y,b,_,w,T,S,O;await Promise.all([(v=s.value)==null?void 0:v.test(),(y=o.value)==null?void 0:y.test(),(b=a.value)==null?void 0:b.test(),(_=u.value)==null?void 0:_.test(),(w=l.value)==null?void 0:w.test(),(T=c.value)==null?void 0:T.test(),(S=d.value)==null?void 0:S.test(),(O=h.value)==null?void 0:O.test()]),i("error",If(p.selected))};return Ot(()=>r.selectedBlogPost,()=>{p.selected=f().selected}),Ot(()=>p.selected,()=>{i("update:selected",{title:p.selected.title.value,subTitle:p.selected.subTitle.value,description:p.selected.description.value,alignment:p.selected.alignment.value,coverImageUrl:p.selected.coverImageUrl.value,countdown:p.selected.countdown.value,timer:p.selected.timer.value,table:p.selected.table.value,bullets:p.selected.bullets.value})},{deep:!0}),e({test:m}),(v,y)=>(I(),F("div",lse,[v.isOpen?(I(),ne(E(zn),{key:0},{default:j(()=>[$(E(Ae),{header:`Section ${v.index+1}`,pt:{toggleableContent:{class:"background-gray-dark rounded-t-primary rounded-b-primary"}}},{default:j(()=>[g("div",use,[$(ur,{class:"mt-0 pt-5",ref_key:"title",ref:s,id:v.index,name:"title",label:"Section Title",modelValue:p.selected.title.value,"onUpdate:modelValue":y[0]||(y[0]=b=>p.selected.title.value=b),error:p.selected.title.error,"onUpdate:error":y[1]||(y[1]=b=>p.selected.title.error=b),max:50},null,8,["id","modelValue","error"]),$(ur,{ref_key:"subTitle",ref:o,id:v.index,name:"subTitle",label:"Section Subtitle",modelValue:p.selected.subTitle.value,"onUpdate:modelValue":y[2]||(y[2]=b=>p.selected.subTitle.value=b),error:p.selected.subTitle.error,"onUpdate:error":y[3]||(y[3]=b=>p.selected.subTitle.error=b),max:200},null,8,["id","modelValue","error"]),$(ur,{ref_key:"description",ref:a,id:v.index,name:"description",label:"Section Description",modelValue:p.selected.description.value,"onUpdate:modelValue":y[4]||(y[4]=b=>p.selected.description.value=b),error:p.selected.description.error,"onUpdate:error":y[5]||(y[5]=b=>p.selected.description.error=b),max:300,"input-props":{type:"textarea",rows:p.selected.description.value.split(`
`).length<=5?p.selected.description.value.split(`
`).length:5}},null,8,["id","modelValue","error","input-props"]),g("div",cse,[v.isOpen?(I(),ne(E(AL),{key:0},{display:j(()=>[N(" Other options ")]),content:j(()=>[$(Lr,{ref_key:"alignment",ref:l,id:v.index,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[6]||(y[6]=b=>p.selected.alignment.value=b),error:p.selected.alignment.error,"onUpdate:error":y[7]||(y[7]=b=>p.selected.alignment.error=b),options:E(N$),rules:[E(Rt).Required]},null,8,["id","modelValue","error","options","rules"]),$(qT,{ref_key:"coverImageUrl",ref:u,id:v.index,name:"coverImageUrl",label:"Cover image",modelValue:p.selected.coverImageUrl.value,"onUpdate:modelValue":y[8]||(y[8]=b=>p.selected.coverImageUrl.value=b),error:p.selected.coverImageUrl.error,"onUpdate:error":y[9]||(y[9]=b=>p.selected.coverImageUrl.error=b)},null,8,["id","modelValue","error"]),$(ug,{ref_key:"countdown",ref:c,id:v.index,name:"countdown",label:"Countdown",modelValue:p.selected.countdown.value,"onUpdate:modelValue":y[10]||(y[10]=b=>p.selected.countdown.value=b),error:p.selected.countdown.error,"onUpdate:error":y[11]||(y[11]=b=>p.selected.countdown.error=b)},null,8,["id","modelValue","error"]),$(ug,{ref_key:"timer",ref:d,id:v.index,name:"timer",label:"Timer",modelValue:p.selected.timer.value,"onUpdate:modelValue":y[12]||(y[12]=b=>p.selected.timer.value=b),error:p.selected.timer.error,"onUpdate:error":y[13]||(y[13]=b=>p.selected.timer.error=b)},null,8,["id","modelValue","error"]),$(gie,{ref_key:"bullets",ref:h,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:p.selected.bullets.value,"onUpdate:modelValue":y[14]||(y[14]=b=>p.selected.bullets.value=b)},null,8,["modelValue"]),$(OL,{name:"table",label:"Table",modelValue:p.selected.table.value,"onUpdate:modelValue":y[15]||(y[15]=b=>p.selected.table.value=b)},null,8,["modelValue"])]),_:1})):q("",!0)]),g("div",dse,[$(et,{class:"w-1/2",type:"danger",outlined:"",onClick:y[16]||(y[16]=b=>v.$emit("delete"))},{default:j(()=>[N(" Delete ")]),_:1})])])]),_:1},8,["header"])]),_:1})):q("",!0)]))}}),fse={class:"mt-3 flex justify-center"},pse=Ce({__name:"BlogPostContentDialogSection",props:{selected:{},selectedBlogPost:{},isOpen:{type:Boolean}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=oe(),o=oe(),a=oe(),l=oe(),u=oe(),c=oe(),d=oe([]),h=()=>({selected:{title:{value:r.selected.title,error:""},description:{value:r.selected.description,error:""},descriptionFooter:{value:r.selected.descriptionFooter,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},table:{value:r.selected.table,error:""},sections:{value:r.selected.sections.map(_=>({id:lg(),..._})),error:[]}}}),f=Mn(h()),p=()=>{f.selected.sections.value.push({id:lg(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,table:"",bullets:[]})},m=(_,w)=>{f.selected.sections.value.splice(w,1,{id:f.selected.sections.value[w].id,..._})},v=_=>{f.selected.sections.value.splice(_,1)},y=(_,w)=>{f.selected.sections.error[w]=_},b=async()=>{for(const _ of d.value)await _.test();await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test()]),i("error",If(f.selected)),f.selected.sections.error=[]};return Ot(()=>r.selectedBlogPost,()=>{f.selected=h().selected}),Ot(()=>f.selected,()=>{i("update:selected",{title:f.selected.title.value,description:f.selected.description.value,descriptionFooter:f.selected.descriptionFooter.value,coverImageUrl:f.selected.coverImageUrl.value,countdown:f.selected.countdown.value,timer:f.selected.timer.value,table:f.selected.table.value,sections:f.selected.sections.value})},{deep:!0}),e({test:b}),(_,w)=>(I(),F(we,null,[$(ur,{ref_key:"title",ref:s,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:f.selected.title.value,"onUpdate:modelValue":w[0]||(w[0]=T=>f.selected.title.value=T),error:f.selected.title.error,"onUpdate:error":w[1]||(w[1]=T=>f.selected.title.error=T),rules:[E(Rt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),$(ur,{ref_key:"description",ref:o,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:f.selected.description.value,"onUpdate:modelValue":w[2]||(w[2]=T=>f.selected.description.value=T),error:f.selected.description.error,"onUpdate:error":w[3]||(w[3]=T=>f.selected.description.error=T),"max-length":500,"input-props":{type:"textarea",rows:f.selected.description.value.split(`
`).length<=5?f.selected.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),$(qT,{ref_key:"coverImageUrl",ref:l,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:f.selected.coverImageUrl.value,"onUpdate:modelValue":w[4]||(w[4]=T=>f.selected.coverImageUrl.value=T),error:f.selected.coverImageUrl.error,"onUpdate:error":w[5]||(w[5]=T=>f.selected.coverImageUrl.error=T),"blog-post":_.selectedBlogPost??void 0},null,8,["modelValue","error","blog-post"]),_.isOpen?(I(),ne(E(zn),{key:0},{default:j(()=>[$(E(Ae),{header:"Other content"},{default:j(()=>[$(ur,{ref_key:"descriptionFooter",ref:a,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:f.selected.descriptionFooter.value,"onUpdate:modelValue":w[6]||(w[6]=T=>f.selected.descriptionFooter.value=T),error:f.selected.descriptionFooter.error,"onUpdate:error":w[7]||(w[7]=T=>f.selected.descriptionFooter.error=T),"max-length":300,"input-props":{type:"textarea",rows:f.selected.descriptionFooter.value.split(`
`).length<=5?f.selected.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),$(ug,{ref_key:"countdown",ref:u,name:"countdown",label:"Countdown",modelValue:f.selected.countdown.value,"onUpdate:modelValue":w[8]||(w[8]=T=>f.selected.countdown.value=T),error:f.selected.countdown.error,"onUpdate:error":w[9]||(w[9]=T=>f.selected.countdown.error=T)},null,8,["modelValue","error"]),$(ug,{ref_key:"timer",ref:c,name:"timer",label:"Timer",modelValue:f.selected.timer.value,"onUpdate:modelValue":w[10]||(w[10]=T=>f.selected.timer.value=T),error:f.selected.timer.error,"onUpdate:error":w[11]||(w[11]=T=>f.selected.timer.error=T)},null,8,["modelValue","error"]),$(OL,{name:"table",label:"Table",modelValue:f.selected.table.value,"onUpdate:modelValue":w[12]||(w[12]=T=>f.selected.table.value=T)},null,8,["modelValue"])]),_:1}),$(E(Ae),{header:"Sections"},{default:j(()=>[(I(!0),F(we,null,nt(f.selected.sections.value,(T,S)=>(I(),ne(hse,{key:T.id,ref_for:!0,ref_key:"sections",ref:d,selected:T,"selected-blog-post":_.selectedBlogPost,index:S,"is-open":_.isOpen,"onUpdate:selected":O=>m(O,S),onError:O=>y(O,S),onDelete:O=>v(S)},null,8,["selected","selected-blog-post","index","is-open","onUpdate:selected","onError","onDelete"]))),128)),g("div",fse,[$(et,{class:"w-1/2",type:"green",onClick:p},{default:j(()=>[N(" Add Section ")]),_:1})])]),_:1})]),_:1})):q("",!0)],64))}});var mse={root:{position:"relative"}},gse={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},vse=sr.extend({name:"inputswitch",classes:gse,inlineStyles:mse}),yse={name:"BaseInputSwitch",extends:Xr,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:vse,provide:function(){return{$parentInstance:this}}},kL={name:"InputSwitch",extends:yse,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},bse=["data-p-highlight","data-p-disabled"],wse=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function _se(t,e,n,r,i,s){return I(),F("div",ae({class:t.cx("root"),style:t.sx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[g("input",ae({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":s.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,wse),g("span",ae({class:t.cx("slider")},s.getPTOptions("slider")),null,16)],16,bse)}kL.render=_se;const Tse={class:"m-4"},Sse=["for"],zd=Ce({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>(I(),F("div",Tse,[l.label?(I(),F("label",ae({key:0,class:"block text-sm font-bold mb-2",for:s.value},l.labelProps),Me(l.label),17,Sse)):q("",!0),g("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=Tt(c=>i.value=!i.value,["prevent"]))},[$(E(kL),{inputId:s.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c),pt:{slider:{class:i.value?"bg-primary-500":void 0}}},null,8,["inputId","modelValue","pt"])])]))}}),Ese=Ce({__name:"BlogPostSettingsDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,{firebaseUser:s,publicUser:o}=Zt(wr()),a=hr(),{allowedPublicUsers:l}=a,{publicUsers:u}=Zt(a),c=oe(),d=oe(),h=oe(),f=oe(),p=ee(()=>u.value.map(({id:_,displayName:w})=>({value:_,label:w}))),m=oe([]),v=()=>({selected:{allowedUserIds:{value:r.selected.allowedUserIds,error:""},locked:{value:r.selected.locked,error:""},archived:{value:r.selected.archived,error:""},pinned:{value:!!r.selected.datePinned,error:""}}}),y=Mn(v()),b=async()=>{y.selected.allowedUserIds.value.length&&!m.value.length&&(y.selected.allowedUserIds.error="Invalid user ID's"),await Promise.all([d.value.test(),h.value.test(),f.value.test()]),i("error",If(y.selected))};return Ot(()=>y.selected.allowedUserIds.value,async _=>{m.value=await l(_)},{immediate:!0}),Ot(()=>r.selectedBlogPost,()=>{y.selected=v().selected}),Ot(()=>y.selected,()=>{var _,w;i("update:selected",{allowedUserIds:y.selected.allowedUserIds.value,locked:y.selected.locked.value,archived:y.selected.archived.value,datePinned:y.selected.pinned.value?(_=r.selected)!=null&&_.datePinned?((w=r.selected)==null?void 0:w.datePinned)??null:new Date:null})},{deep:!0}),e({test:b}),(_,w)=>(I(),F(we,null,[$(Lr,{ref_key:"allowedUsers",ref:c,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":y.selected.allowedUserIds.value,error:y.selected.allowedUserIds.error,"onUpdate:error":w[0]||(w[0]=T=>y.selected.allowedUserIds.error=T),"onUpdate:arrayValue":w[1]||(w[1]=T=>y.selected.allowedUserIds.value=T),options:[{value:E(s).uid,label:E(o).displayName},...p.value.filter(({value:T})=>{var S;return T!==((S=E(s))==null?void 0:S.uid)})],multiple:""},null,8,["model-value","error","options"]),$(zd,{ref_key:"pinned",ref:f,name:"pinned",label:"Pinned",modelValue:y.selected.pinned.value,"onUpdate:modelValue":w[2]||(w[2]=T=>y.selected.pinned.value=T)},null,8,["modelValue"]),$(zd,{ref_key:"locked",ref:d,name:"locked",label:"Locked for commenting",modelValue:y.selected.locked.value,"onUpdate:modelValue":w[3]||(w[3]=T=>y.selected.locked.value=T)},null,8,["modelValue"]),$(zd,{ref_key:"archived",ref:h,name:"archived",label:"Archived",modelValue:y.selected.archived.value,"onUpdate:modelValue":w[4]||(w[4]=T=>y.selected.archived.value=T)},null,8,["modelValue"])],64))}}),Ise=Ce({__name:"BlogPostStylingDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=oe(),o=oe(),a=oe(),l=oe(),u=oe(),c=oe(),d=oe(),h=ee(()=>UX(ig.find(v=>v.value===p.selected.colorPrimary.value))),f=()=>({selected:{alignment:{value:r.selected.alignment,error:""},colorPrimary:{value:r.selected.colorPrimary,error:""},colorSecondary:{value:r.selected.colorSecondary,error:""},colorTertiary:{value:r.selected.colorTertiary,error:""},opacityPrimary:{value:r.selected.opacityPrimary,error:""},opacitySecondary:{value:r.selected.opacitySecondary,error:""},opacityTertiary:{value:r.selected.opacityTertiary,error:""}}}),p=Mn(f()),m=async()=>{await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test()]),i("error",If(p.selected))};return Ot(()=>r.selectedBlogPost,()=>{p.selected=f().selected}),Ot(()=>p.selected,()=>{i("update:selected",{alignment:p.selected.alignment.value,colorPrimary:p.selected.colorPrimary.value,colorSecondary:p.selected.colorSecondary.value,colorTertiary:p.selected.colorTertiary.value,opacityPrimary:p.selected.opacityPrimary.value,opacitySecondary:p.selected.opacitySecondary.value,opacityTertiary:p.selected.opacityTertiary.value})},{deep:!0}),e({test:m}),(v,y)=>(I(),F(we,null,[$(Lr,{ref_key:"alignment",ref:s,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[0]||(y[0]=b=>p.selected.alignment.value=b),error:p.selected.alignment.error,"onUpdate:error":y[1]||(y[1]=b=>p.selected.alignment.error=b),options:E(N$),rules:[E(Rt).Required]},null,8,["modelValue","error","options","rules"]),$(Lr,{ref_key:"colorPrimary",ref:o,name:"colorPrimary",label:"Primary Style",modelValue:p.selected.colorPrimary.value,"onUpdate:modelValue":y[2]||(y[2]=b=>p.selected.colorPrimary.value=b),error:p.selected.colorPrimary.error,"onUpdate:error":y[3]||(y[3]=b=>p.selected.colorPrimary.error=b),options:E(ig),rules:[E(Rt).Required]},null,8,["modelValue","error","options","rules"]),$(Lr,{ref_key:"opacityPrimary",ref:u,name:"opacityPrimary",label:"Primary Opacity",modelValue:p.selected.opacityPrimary.value,"onUpdate:modelValue":y[4]||(y[4]=b=>p.selected.opacityPrimary.value=b),error:p.selected.opacityPrimary.error,"onUpdate:error":y[5]||(y[5]=b=>p.selected.opacityPrimary.error=b),options:E(rb)},null,8,["modelValue","error","options"]),$(Lr,{ref_key:"colorSecondary",ref:a,name:"colorSecondary",label:"Secondary Style",modelValue:p.selected.colorSecondary.value,"onUpdate:modelValue":y[6]||(y[6]=b=>p.selected.colorSecondary.value=b),error:p.selected.colorSecondary.error,"onUpdate:error":y[7]||(y[7]=b=>p.selected.colorSecondary.error=b),options:h.value},null,8,["modelValue","error","options"]),$(Lr,{ref_key:"opacitySecondary",ref:c,name:"opacitySecondary",label:"Secondary Opacity",modelValue:p.selected.opacitySecondary.value,"onUpdate:modelValue":y[8]||(y[8]=b=>p.selected.opacitySecondary.value=b),error:p.selected.opacitySecondary.error,"onUpdate:error":y[9]||(y[9]=b=>p.selected.opacitySecondary.error=b),options:E(rb)},null,8,["modelValue","error","options"]),$(Lr,{ref_key:"colorTertiary",ref:l,name:"colorTertiary",label:"Tertiary Style",modelValue:p.selected.colorTertiary.value,"onUpdate:modelValue":y[10]||(y[10]=b=>p.selected.colorTertiary.value=b),error:p.selected.colorTertiary.error,"onUpdate:error":y[11]||(y[11]=b=>p.selected.colorTertiary.error=b),options:E(BX)},null,8,["modelValue","error","options"]),$(Lr,{ref_key:"opacityTertiary",ref:d,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:p.selected.opacityTertiary.value,"onUpdate:modelValue":y[12]||(y[12]=b=>p.selected.opacityTertiary.value=b),error:p.selected.opacityTertiary.error,"onUpdate:error":y[13]||(y[13]=b=>p.selected.opacityTertiary.error=b),options:E(rb)},null,8,["modelValue","error","options"])],64))}}),Cse=Ce({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close","scroll-to-updated"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=Zt(wr()),i=hr(),{createBlogPost:s,updateBlogPost:o,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l}=i,{blogPosts:u}=Zt(i),c=oe(),d=oe(),h=oe(),f=oe(),p=()=>{var L,A,P,K,X,B,k,re,ie,ve,ye,se,z,Q,ue,Z,pe,_e,le;return{id:lg(),form:{content:{value:{title:((L=n.selected)==null?void 0:L.title)??"",description:((A=n.selected)==null?void 0:A.description)??"",descriptionFooter:((P=n.selected)==null?void 0:P.descriptionFooter)??"",coverImageUrl:((K=n.selected)==null?void 0:K.coverImageUrl)??"",timer:((X=n.selected)==null?void 0:X.timer)??null,countdown:((B=n.selected)==null?void 0:B.countdown)??null,table:((k=n.selected)==null?void 0:k.table)??"",sections:((re=n.selected)==null?void 0:re.sections)??[]},error:!1},styling:{value:{alignment:((ie=n.selected)==null?void 0:ie.alignment)??"center",colorPrimary:((ve=n.selected)==null?void 0:ve.colorPrimary)??"",colorSecondary:((ye=n.selected)==null?void 0:ye.colorSecondary)??"",colorTertiary:((se=n.selected)==null?void 0:se.colorTertiary)??"",opacityPrimary:((z=n.selected)==null?void 0:z.opacityPrimary)??"",opacitySecondary:((Q=n.selected)==null?void 0:Q.opacitySecondary)??"",opacityTertiary:((ue=n.selected)==null?void 0:ue.opacityTertiary)??""},error:!1},settings:{value:{locked:((Z=n.selected)==null?void 0:Z.locked)??!1,allowedUserIds:((pe=n.selected)==null?void 0:pe.allowedUserIds)??[],archived:((_e=n.selected)==null?void 0:_e.archived)??!1,datePinned:((le=n.selected)==null?void 0:le.datePinned)??null},error:!1}}}},m=Mn(p()),v=()=>{var L,A;return{id:m.id,date:((L=n.selected)==null?void 0:L.date)||new Date,dateUpdated:((A=n.selected)==null?void 0:A.dateUpdated)||new Date,...m.form.content.value,...m.form.styling.value,...m.form.settings.value,reactions:[]}},y=oe(v()),b=ee(()=>Zn.Content.convert(y.value)),_=ee(()=>!!n.selected&&!us(Zn.Content.convert(Zn.convert(n.selected)),b.value)),w=ee(()=>Zn.Styling.convert(y.value)),T=ee(()=>!!n.selected&&!us(Zn.Styling.convert(Zn.convert(n.selected)),w.value)),S=ee(()=>Zn.Settings.convert(y.value)),O=ee(()=>!!n.selected&&!us(Zn.Settings.convert(Zn.convert(n.selected)),S.value)),R=ee(()=>{var L,A,P,K,X,B;return!!((A=(L=n.selected)==null?void 0:L.allowedUserIds)!=null&&A.length)&&!((P=S.value.allowedUserIds)!=null&&P.length)||!((X=(K=n.selected)==null?void 0:K.allowedUserIds)!=null&&X.length)&&!!((B=S.value.allowedUserIds)!=null&&B.length)}),D=ee(()=>{const L=[];return _.value&&L.push("Content"),T.value&&L.push("Styling"),O.value&&L.push("Settings"),L.length?"Update "+lw(L):void 0}),C=ee(()=>qs(n.selected)),M=async()=>{var L,A,P,K,X;if(await Promise.all([d.value.test(),h.value.test(),f.value.test()]),!If(m.form))if(!n.selected)await s(m.id,y.value,(L=r.value)==null?void 0:L.uid)&&(W("close"),W("scroll-to-updated",m.id));else if(R.value){const B=n.selected.id;W("close"),await l(B,Zn.convert(y.value),n.selected.reactions,y.value.allowedUserIds.length?"private":"public",(A=r.value)==null?void 0:A.uid)&&(Ye.success("Successfully updated Post Visibility"),W("scroll-to-updated",B))}else{const B=n.selected.id;let k=[];_.value&&k.push(await o(B,b.value,C.value,(P=r.value)==null?void 0:P.uid)),T.value&&k.push(await o(B,w.value,C.value,(K=r.value)==null?void 0:K.uid)),O.value&&(k.push(await o(B,S.value,C.value,(X=r.value)==null?void 0:X.uid)),W("scroll-to-updated",B)),k=k.filter(re=>typeof re=="string"),k.length&&(Ye.success(`Successfully updated Post ${lw(k)}`),W("close"))}},V=async()=>{a(y.value,n.selected??void 0),Object.assign(m,p()),W("close")};Ot(()=>n.selected,()=>{const L=p();m.id=L.id,m.form.content=L.form.content,m.form.styling=L.form.styling,m.form.settings=L.form.settings}),Ot(m,()=>{y.value=v()},{deep:!0});const W=e;return(L,A)=>(I(),ne(YT,{isOpen:L.isOpen,title:L.selected?"Update Post":"Create Post",description:L.selected?"Update this post":"Create a new post","confirm-text":L.selected?D.value:"Create","confirm-loading":E(u).mutationLoading,onConfirm:M,onCancel:V},{default:j(()=>[g("form",{ref_key:"dialog",ref:c,class:"pt-6 mb-4 xl:px-16"},[L.isOpen?(I(),ne(E(zn),{key:0,"active-index":0},{default:j(()=>[$(E(Ae),{header:"Content"},{default:j(()=>[$(pse,{ref_key:"content",ref:d,selected:m.form.content.value,"onUpdate:selected":A[0]||(A[0]=P=>m.form.content.value=P),"selected-blog-post":L.selected??void 0,"is-open":L.isOpen,onError:A[1]||(A[1]=P=>m.form.content.error=P)},null,8,["selected","selected-blog-post","is-open"])]),_:1}),$(E(Ae),{header:"Styling"},{default:j(()=>[$(Ise,{ref_key:"styling",ref:h,selected:m.form.styling.value,"onUpdate:selected":A[2]||(A[2]=P=>m.form.styling.value=P),"selected-blog-post":L.selected??void 0,onError:A[3]||(A[3]=P=>m.form.styling.error=P)},null,8,["selected","selected-blog-post"])]),_:1}),$(E(Ae),{header:"Settings"},{default:j(()=>[$(Ese,{ref_key:"settings",ref:f,selected:m.form.settings.value,"onUpdate:selected":A[4]||(A[4]=P=>m.form.settings.value=P),"selected-blog-post":L.selected??void 0,onError:A[5]||(A[5]=P=>m.form.settings.error=P)},null,8,["selected","selected-blog-post"])]),_:1})]),_:1})):q("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),Ose={key:0,class:"grid grid-cols-6 mb-5 gap-5"},Ase={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},kse={class:"grid gap-4 md:gap-10 xl:gap-20"},Pse={key:2,class:"flex justify-center mt-5"},xse=Ce({__name:"BlogPosts",setup(t){const e=hr(),{deleteBlogPost:n,fetchBlogPosts:r,checkBlogPostsForUnreadReactions:i}=e,{blogPosts:s,visibleBlogPosts:o,blogReactions:a,databaseActionActive:l}=Zt(e),{isOwner:u,firebaseUser:c}=Zt(wr());let d=[];const h=oe(),f=oe(),p=oe(!1),m=oe(!1),v=oe(null),y=oe(),b=oe(),_=()=>{v.value=null,p.value=!0},w=M=>{v.value=M,p.value=!0},T=M=>{v.value=M,m.value=!0},S=async M=>{await n(M)&&(m.value=!1,v.value=null)},O=()=>{p.value=!1,v.value=null},R=async M=>{var V;s.value.visibility!==M&&(s.value.visibility=M,s.value.isLastPage=!1,o.value.length||await r((V=c.value)==null?void 0:V.uid),Wp(h.value))},D=async()=>{var V;const M=o.value.length;await r((V=c.value)==null?void 0:V.uid),o.value[M]&&Wp(f.value[M])},C=M=>{M.metadata.hasPendingWrites||l.value||(clearTimeout(b.value),b.value=setTimeout(async()=>{var V;await r((V=c.value)==null?void 0:V.uid,{amount:o.value.length,loadingIndicator:!1}),i()},200))};return jt(()=>{a.value.unread=[],d.push(hd(Ft.blogPosts(!1),C)),d.push(hd(Ft.blogReactions(!1),C)),c.value?(d.push(hd(Ft.blogPosts(!0),C)),d.push(hd(Ft.blogReactions(!0),C))):s.value.visibility!=="public"&&(s.value.visibility="public")}),Hs(()=>{clearTimeout(b.value),d.forEach(M=>{M()})}),Ot(()=>{var M;return(M=f.value)==null?void 0:M.length},()=>{var M;if((M=f.value)!=null&&M.length&&y.value){const V=o.value.find(W=>W.id===y.value);if(V){const W=o.value.indexOf(V);Wp(f.value[W]),y.value=void 0}}}),(M,V)=>(I(),F(we,null,[g("div",{ref_key:"container",ref:h},[E(c)?(I(),F("div",Ose,[$(et,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"secondary",outlined:E(s).visibility!=="public",loading:E(s).fetchLoading,onClick:V[0]||(V[0]=W=>R("public"))},{default:j(()=>[N(" Public Posts ")]),_:1},8,["outlined","loading"]),E(u)?(I(),ne(et,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",onClick:_},{default:j(()=>[N(" New Post ")]),_:1})):q("",!0),$(et,{class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",type:"secondary",outlined:E(s).visibility!=="private",loading:E(s).fetchLoading,onClick:V[1]||(V[1]=W=>R("private"))},{default:j(()=>[N(" Private Posts ")]),_:1},8,["outlined","loading"])])):q("",!0),E(c)?(I(),F("div",Ase,[$(et,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"secondary",outlined:E(s).visibility!=="public",loading:E(s).fetchLoading,onClick:V[2]||(V[2]=W=>R("public"))},{default:j(()=>[N(" Public Posts ")]),_:1},8,["outlined","loading"]),$(et,{class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",type:"secondary",outlined:E(s).visibility!=="private",loading:E(s).fetchLoading,onClick:V[3]||(V[3]=W=>R("private"))},{default:j(()=>[N(" Private Posts ")]),_:1},8,["outlined","loading"])])):q("",!0),g("div",kse,[E(o).length?(I(!0),F(we,{key:0},nt(E(o),W=>(I(),F("div",{key:W.id,ref_for:!0,ref_key:"posts",ref:f},[$(dL,{post:W,onEditClicked:L=>w(W),onDeleteClicked:L=>T(W)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):E(s).fetchLoading?q("",!0):(I(),ne(Bn,{key:1,class:"!bg-red-900 !bg-opacity-40",title:"No posts"}))]),E(s).isLastPage?q("",!0):(I(),F("div",Pse,[$(et,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:E(s).fetchLoading,onClick:D},{default:j(()=>[N(" Load more posts ")]),_:1},8,["loading"])]))],512),$(Cse,{isOpen:p.value,selected:v.value,onClose:O,onScrollToUpdated:V[4]||(V[4]=W=>y.value=W)},null,8,["isOpen","selected"]),v.value?(I(),ne(YT,{key:0,title:"Delete Post",isOpen:m.value,description:[` Are you sure you want to delete this post called ' ${v.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:V[5]||(V[5]=W=>S(v.value.id)),onCancel:V[6]||(V[6]=W=>m.value=!1)},null,8,["isOpen","description"])):q("",!0)],64))}}),Dse={class:"bg-black text-white shadow-md py-4"},Rse={class:"container mx-auto text-center"},Nse=Ce({__name:"Footer",setup(t){const{content:e}=Zt(hr());return(n,r)=>(I(),F("footer",Dse,[g("div",Rse,[g("p",null,"© "+Me(new Date().getFullYear()+" "+E(e).footerCopyright),1)])]))}}),Mse={class:"flex justify-between"},$se={class:"hidden sm:block w-full sm:min-w-fit"},Lse=["src","alt"],Fse={class:"w-fit sm:max-w-1/2"},Vse={class:"text-title-primary"},Use={class:"text-title-secondary"},Bse={class:"text-title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},jse={class:"mt-2 flex items-center whitespace-nowrap me-6"},Hse={class:"mt-2 flex items-center whitespace-nowrap"},Wse={class:"sm:hidden min-w-fit mt-3"},Kse=["src","alt"],NA=Ce({__name:"HeaderContent",setup(t){const{profile:e,content:n}=Zt(hr());return(r,i)=>{const s=_n("RouterLink");return I(),F("div",Mse,[g("div",$se,[$(s,{to:{name:E(cr).HOME}},{default:j(()=>[g("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:E(n).avatarUrl,alt:E(e).name},null,8,Lse)]),_:1},8,["to"])]),g("div",Fse,[g("h1",Vse,Me(E(e).name),1),g("h2",Use,Me(E(e).service),1),g("div",Bse,[g("div",jse,[$(E(HX),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),N(" "+Me(E(e).role),1)]),g("div",Hse,[$(E(KX),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),N(" "+Me(E(e).location.city)+", "+Me(E(e).location.country),1)])])]),g("div",Wse,[$(s,{to:{name:E(cr).HOME}},{default:j(()=>[g("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:E(n).avatarUrl,alt:E(e).name},null,8,Kse)]),_:1},8,["to"])])])}}}),zse=Ce({__name:"NavigationDropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=wr(),{currentUser:n}=Zt(e),{visibleMenuItems:r}=Zt(hr());return(i,s)=>(I(),F(we,null,[vi(g("div",{class:"md:hidden w-screen h-screen z-10 bg-neutral-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Rs,i.isOpen]]),vi(g("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-neutral-900 border border-primary-600 rounded-primary",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(I(!0),F(we,null,nt(E(r),o=>(I(),ne(et,{class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-secondary",type:"secondary",outlined:"",list:"",url:o.url,route:o.route,loading:o.loading},{default:j(()=>[N(Me(o.name),1)]),_:2},1032,["url","route","loading"]))),256)),E(n)?(I(),ne(et,{key:0,class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-tertiary",type:"secondary",outlined:"",list:"",route:E(cr).DASHBOARD},{default:j(()=>[N(" Dashboard ")]),_:1},8,["route"])):q("",!0),E(n)?(I(),ne(et,{key:1,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary",outlined:"",list:"",type:"danger",onClick:E(e).logout},{default:j(()=>[N(" Logout ")]),_:1},8,["onClick"])):(I(),ne(et,{key:2,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary","active-class":"button-primary",type:"primary",outlined:"",list:"",route:E(cr).LOGIN},{default:j(()=>[N(" Login ")]),_:1},8,["route"]))],512),[[Rs,i.isOpen]])],64))}}),Gse={key:0,class:Pe(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},Yse={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},qse={class:"flex justify-between sm:justify-center"},Xse=g("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),Qse=[Xse],Jse=Ce({__name:"NavigationMenu",setup(t){const e=wr(),{currentUser:n,logoutLoading:r}=Zt(e),{visibleMenuItems:i}=Zt(hr()),s=oe(),o=oe(!1),a=()=>{o.value=!o.value,o.value&&qn(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>E(i).length?(I(),F("div",Gse,[(I(!0),F(we,null,nt(E(i),c=>(I(),ne(et,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-secondary",type:"secondary",outlined:"",url:c.url,route:c.route,loading:c.loading},{default:j(()=>[N(Me(c.name),1)]),_:2},1032,["url","route","loading"]))),256)),E(n)?q("",!0):(I(),ne(et,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"primary",outlined:"",route:E(cr).LOGIN},{default:j(()=>[N(" Login ")]),_:1},8,["route"])),E(n)?(I(),ne(et,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:E(r),onClick:E(e).logout},{default:j(()=>[N(" Logout ")]),_:1},8,["loading","onClick"])):q("",!0),g("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[g("div",Yse,[g("div",{class:Pe(["flex animation",o.value?"justify-center":"justify-end"])},[$(et,{class:Pe(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:j(()=>[g("div",qse,[$(Lw,{rotate:o.value,class:Pe(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),g("p",{class:Pe(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(I(),F("svg",{class:Pe(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Qse,2))])]),_:1},8,["class"])],2)]),$(zse,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):q("",!0)}}),Zse={class:Pe(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto","w-fit md:w-1/3","mb-8 py-8 bg-transparent text-neutral-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-neutral-900 sm:bg-opacity-50 sm:rounded-primary sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-primary lg:rounded-t-none"])},eoe={key:0,class:"hidden sm:flex justify-center mb-4"},toe={class:"hidden md:block w-4/5 space-y-2"},noe={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},roe={class:"ms-3 flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},ioe={key:1},soe={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},ooe={class:"font-semibold text-base first:font-bold first:text-lg"},aoe=Ce({__name:"NavigationCard",setup(t){const e=Bg(),{currentUser:n}=Zt(wr()),{content:r}=Zt(hr());return(i,s)=>{const o=_n("RouterLink");return I(),F("div",Zse,[E(n)?(I(),F("div",eoe,[g("div",toe,[(I(!0),F(we,null,nt(E(r).headerDescriptionUser,a=>(I(),F("p",noe,Me(a.replace("%USER%",E(n).firstName+(E(n).lastName?" "+E(n).lastName:""))),1))),256))]),g("div",roe,[$(o,{to:{name:E(cr).DASHBOARD}},{default:j(()=>[g("i",{class:Pe(["pi pi-user px-2 py-1 border rounded-primary border-secondary-600 text-neutral-300 animation-scale",{"bg-secondary-600 bg-opacity-75":E(e).name===E(cr).DASHBOARD}]),style:{"font-size":"3rem"}},null,2)]),_:1},8,["to"])])])):(I(),F("div",ioe,[g("div",soe,[(I(!0),F(we,null,nt(E(r).headerDescriptionGuest,a=>(I(),F("p",ooe,Me(a),1))),256))])])),$(Jse)])}}}),loe={class:"sm:flex sm:items-start sm:justify-between mb-20"},uoe={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},coe=Ce({__name:"Header",setup(t){return(e,n)=>(I(),F("div",loe,[$(NA,{class:"hidden sm:block"}),g("div",uoe,[$(aoe)]),$(NA,{class:"sm:hidden"})]))}}),doe={class:"min-h-screen bg-gradient-to-b from-primary-900 to-black via-neutral-800"},hoe={class:Pe(["mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-primary","text-white bg-gradient-to-b from-transparent from-10% via-neutral-900 to-black","bg-opacity-50 border-opacity-100"])},wa=Ce({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=Bg(),r=oe(),i=()=>{e.scrollToContent&&Wp(r.value)};return Ot(()=>n.fullPath,()=>{i()}),jt(()=>{i()}),(s,o)=>(I(),F(we,null,[g("div",doe,[g("div",hoe,[g("header",null,[s.$slots.header?fe(s.$slots,"header",{key:0}):(I(),ne(coe,{key:1}))]),g("main",null,[g("div",{ref_key:"content",ref:r},[fe(s.$slots,"content")],512)])])]),g("footer",null,[s.$slots.footer?fe(s.$slots,"footer",{key:0}):(I(),ne(Nse,{key:1}))])],64))}}),foe={class:"grid mt-10 md:mt-15"},poe={class:"grid justify-center"},moe={class:"text-lg md:text-xl text-white"},goe=["innerHTML"],voe={class:"grid my-5 xl:mx-20"},yoe=Ce({__name:"Blog",setup(t){const{publicUser:e}=Zt(wr()),{menuItems:n,content:r}=Zt(hr()),i=Bg(),s=ee(()=>{var o;return e.value?[...r.value.blogDescriptionUser.map(a=>a.replace("%USER%",e.value.displayName||"Unknown user")),...((o=n.value.find(a=>a.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:o.description)||[]]:r.value.blogDescriptionGuest});return(o,a)=>(I(),ne(wa,null,{content:j(()=>[g("div",foe,[g("div",poe,[(I(!0),F(we,null,nt(s.value,l=>(I(),F("h1",moe,[g("span",{innerHTML:l},null,8,goe)]))),256))]),g("div",voe,[E(i).params.postId?(I(),ne(rre,{key:0})):(I(),ne(xse,{key:1}))])])]),_:1}))}}),MA=Ce({__name:"Blog",setup(t){return(e,n)=>(I(),ne(yoe))}}),boe={class:"flex flex-col items-center content-center"},woe=Ce({__name:"CatCalc",setup(t){const e=Mn({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"NVWA"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ee(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(T,S)=>{const R=o[T].sort((W,L)=>W.weight-L.weight);let D=R[R.length-2].weight,C=R[R.length-2].calories,M=R[R.length-1].weight,V=R[R.length-1].calories;for(let W=0;W<R.length-1;W++)if(S>=R[W].weight&&S<=R[W+1].weight){D=R[W].weight,C=R[W].calories,M=R[W+1].weight,V=R[W+1].calories;break}return{x1:D,y1:C,x2:M,y2:V}},l=(T,S)=>{const{x1:O,y1:R,x2:D,y2:C}=a(T,S);return R+(S-O)*(C-R)/(D-O)},u=()=>{const T=new Map;for(const R of Object.values(o).filter(D=>D!==o.average))for(const{weight:D,calories:C}of R)T.has(D)||T.set(D,{sum:0,count:0}),T.get(D).sum+=C,T.get(D).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(R=>T.has(R)).map(R=>({weight:R,calories:T.get(R).sum/T.get(R).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5},{value:"yarrah_sterilized",label:"Yarrah Chicken sterilized (353kcal)",calories:353}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish (8kcal)",calories:8}],f=ee(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=ee(()=>{var T;return f.value*(((T=r.find(S=>S.value===e.catAge.value))==null?void 0:T.rerIndex)??1)}),m=ee(()=>{var T;return p.value*(((T=s.value.find(S=>S.value===e.catSize.value))==null?void 0:T.factor)??1)}),v=ee(()=>{const T=h.find(S=>S.value===e.catFoodSnax.value);return T!=null&&T.calories?m.value*(Number(e.catFoodSnaxPercentage.value)/100)/T.calories:void 0}),y=ee(()=>m.value*(1-Number(v.value?e.catFoodSnaxPercentage.value:0)/100)),b=ee(()=>{const T=d.find(S=>S.value===e.catFoodWet.value);return T!=null&&T.calories?y.value/4/T.calories*100:void 0}),_=ee(()=>y.value/4*(b.value?3:4)),w=ee(()=>{var T;return _.value/(((T=c.find(S=>S.value===e.catFoodDry.value))==null?void 0:T.calories)??c[0].calories)*100});return(T,S)=>(I(),ne(wa,null,{content:j(()=>[$(Bn,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:j(()=>{var O;return[g("div",boe,[$(Lr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":S[0]||(S[0]=R=>e.calculator.value=R),error:e.calculator.error,"onUpdate:error":S[1]||(S[1]=R=>e.calculator.error=R),options:n,rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),$(ur,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":S[2]||(S[2]=R=>e.catWeigth.value=R),error:e.catWeigth.error,"onUpdate:error":S[3]||(S[3]=R=>e.catWeigth.error=R),rules:[E(Rt).Required,E(Rt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),$(Lr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":S[4]||(S[4]=R=>e.catAge.value=R),error:e.catAge.error,"onUpdate:error":S[5]||(S[5]=R=>e.catAge.error=R),options:r,rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),$(Lr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":S[6]||(S[6]=R=>e.catGender.value=R),error:e.catGender.error,"onUpdate:error":S[7]||(S[7]=R=>e.catGender.error=R),options:i,rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),$(Lr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":S[8]||(S[8]=R=>e.catSize.value=R),error:e.catSize.error,"onUpdate:error":S[9]||(S[9]=R=>e.catSize.error=R),options:s.value,rules:[E(Rt).Required]},null,8,["modelValue","error","options","rules"]),$(Bn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 !rounded-primary",description:"Required energy per day: "+m.value.toFixed(1)+" kcal"},null,8,["description"]),$(Lr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":S[10]||(S[10]=R=>e.catFoodDry.value=R),error:e.catFoodDry.error,"onUpdate:error":S[11]||(S[11]=R=>e.catFoodDry.error=R),options:c,rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),$(Lr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":S[12]||(S[12]=R=>e.catFoodWet.value=R),error:e.catFoodWet.error,"onUpdate:error":S[13]||(S[13]=R=>e.catFoodWet.error=R),options:d,rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),$(Lr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":S[14]||(S[14]=R=>e.catFoodSnax.value=R),error:e.catFoodSnax.error,"onUpdate:error":S[15]||(S[15]=R=>e.catFoodSnax.error=R),options:h,rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(I(),ne(ur,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":S[16]||(S[16]=R=>e.catFoodSnaxPercentage.value=R),error:e.catFoodSnaxPercentage.error,"onUpdate:error":S[17]||(S[17]=R=>e.catFoodSnaxPercentage.error=R),rules:[E(Rt).Required,E(Rt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):q("",!0),$(Bn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 bg-primary-600 bg-opacity-25 !rounded-primary",title:"Result","sub-title":"Based on constants from "+((O=n.find(R=>R.value===e.calculator.value))==null?void 0:O.label),description:["Required dry food per day: "+w.value.toFixed(1)+" g","","","Required dry food per meal: "+(w.value/(b.value?2:3)).toFixed(1)+" g",...b.value?["Required wet food per day: "+b.value.toFixed(1)+" g"]:[],...v.value?["Allowed snacks per day: "+v.value.toFixed(v.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),_oe=Ce({__name:"CatCalc",setup(t){return(e,n)=>(I(),ne(woe))}}),Toe=""+new URL("images/customvoting/customvoting2.jpg",import.meta.url).href,Soe=""+new URL("images/customvoting/votesettings1.png",import.meta.url).href,Eoe=""+new URL("images/customvoting/vote_top.png",import.meta.url).href,Ioe=g("br",null,null,-1),Coe=g("br",null,null,-1),Ooe=g("ul",null,[g("li",null,"English/English"),g("li",null,"Deutsch/German"),g("li",null,"Nederlands/Dutch")],-1),Aoe=g("br",null,null,-1),koe=g("br",null,null,-1),Poe=g("ul",null,[g("li",null,"All Votes"),g("li",null,"Monthly Votes"),g("li",null,"Weekly Votes"),g("li",null,"Daily Votes")],-1),xoe={class:"flex justify-center m-5"},Doe=g("br",null,null,-1),Roe=g("br",null,null,-1),Noe=g("br",null,null,-1),Moe=g("br",null,null,-1),$oe=g("br",null,null,-1),Loe=g("br",null,null,-1),Foe=g("br",null,null,-1),Voe=g("b",null,"settings.yml",-1),Uoe=g("br",null,null,-1),Boe=g("br",null,null,-1),joe=g("br",null,null,-1),Hoe=g("br",null,null,-1),Woe=g("br",null,null,-1),Koe=g("i",null,"sd_master92",-1),zoe=g("i",null,".sd_master92",-1),Goe=Ce({__name:"General",setup(t){const n=Bl(Ul).greaterOrEqual("md");return(r,i)=>(I(),ne(E(zn),null,{default:j(()=>[$(E(Ae),{header:"Language"},{default:j(()=>[N(" Change the plugin language "),Ioe,Coe,N(" Options: "),Ooe]),_:1}),$(E(Ae),{header:"Vote Top Sorting"},{default:j(()=>[N(" Change who is the top voter of the moment "),Aoe,koe,N(" Options: "),Poe,g("div",xoe,[g("img",{src:Eoe,style:dn({maxWidth:E(n)?"25vw":"100%"})},null,4)])]),_:1}),$(E(Ae),{header:"Sound Effects"},{default:j(()=>[N(" Enable/disable sound effects (from CustomVoting) ")]),_:1}),$(E(Ae),{header:"Firework"},{default:j(()=>[N(" Enable/disable firework effects ")]),_:1}),$(E(Ae),{header:"Disabled Worlds"},{default:j(()=>[N(" Enable/disable players from receiving rewards in specific worlds ")]),_:1}),$(E(Ae),{header:"Danger Zone"},{default:j(()=>[N(" Settings you shouldn't touch without knowing what it does "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"UUID Storage"},{default:j(()=>[N(" Enable/disable UUID Storage "),Doe,N(" Turn on if: you are running a cracked (non-premium) Minecraft server "),Roe,Noe,N(" This settings means that your players will be identified by their playername. It is adviced to password protect these kind of servers, to prevent duplicate playernames from joining your server. ")]),_:1}),$(E(Ae),{header:"Database"},{default:j(()=>[N(" Enable/disable the usage of a database instead of data files "),Moe,$oe,N(" Useful if you want to share your CustomVoting data across multiple subservers. "),Loe,Foe,N(" Restart or reload the server after changing. Note that you need to setup your database connection in the "),Voe,N(" file. ")]),_:1}),$(E(Ae),{header:"Merge duplicates"},{default:j(()=>[N(" Merge playerfiles that are duplicate "),Uoe,Boe,N(" This command is dangerous, as it deleted playerfiles or database rows from players who have the same username. ")]),_:1}),$(E(Ae),{header:"Prefix Support"},{default:j(()=>[N(" Enable prefix support for player usernames "),joe,Hoe,N(" This setting is required when you're hosting a server with software that adds a prefix in front of your player's usernames. "),Woe,N(" For example Gesyer adds a dot in front of a username: "),Koe,N(" will become "),zoe]),_:1})]),_:1})]),_:1}),$(E(Ae),{header:"Process Vote Delay"},{default:j(()=>[N(" Delay the rewards from being given after a player has voted ")]),_:1})]),_:1}))}}),$A=""+new URL("images/customvoting/item_rewards.png",import.meta.url).href,Yoe={class:"flex justify-center m-5"},qoe=g("br",null,null,-1),Xoe=g("br",null,null,-1),Qoe=g("ul",null,[g("li",null,"All Items"),g("li",null,"Random Item")],-1),Joe=g("br",null,null,-1),Zoe=g("br",null,null,-1),eae=g("b",null,"Vault",-1),tae=g("b",null,"EssentialsX",-1),nae=g("br",null,null,-1),rae=g("br",null,null,-1),iae=g("b",null,"/votesettings",-1),sae=g("i",null,"forbidden_commands",-1),oae=g("b",null,"settings.yml",-1),aae=g("br",null,null,-1),lae=g("br",null,null,-1),uae={class:"flex justify-center m-5"},cae=g("br",null,null,-1),dae=g("br",null,null,-1),hae=g("ul",null,[g("li",null,"All Items"),g("li",null,"Random Item")],-1),fae=g("br",null,null,-1),pae=g("br",null,null,-1),mae=g("b",null,"Vault",-1),gae=g("b",null,"EssentialsX",-1),vae=g("br",null,null,-1),yae=g("br",null,null,-1),bae=g("b",null,"/votesettings",-1),wae=g("i",null,"forbidden_commands",-1),_ae=g("b",null,"settings.yml",-1),Tae=g("br",null,null,-1),Sae=g("br",null,null,-1),Eae=g("b",null,"Power Rewards",-1),Iae=g("br",null,null,-1),Cae=g("br",null,null,-1),Oae=g("b",null,"Vault",-1),Aae=g("b",null,"LuckPerms",-1),kae=g("b",null,"Power Rewards",-1),Pae=g("br",null,null,-1),xae=g("br",null,null,-1),Dae=g("b",null,"Enabled Groups",-1),Rae=g("br",null,null,-1),Nae=g("br",null,null,-1),Mae=g("b",null,"/votesettings",-1),$ae=g("i",null,"forbidden_commands",-1),Lae=g("b",null,"settings.yml",-1),Fae=g("br",null,null,-1),Vae=g("br",null,null,-1),Uae=g("b",null,"Vault",-1),Bae=g("b",null,"LuckPerms",-1),jae=g("br",null,null,-1),Hae=g("br",null,null,-1),Wae=g("b",null,"/votesettings",-1),Kae=g("i",null,"forbidden_commands",-1),zae=g("b",null,"settings.yml",-1),Gae=g("br",null,null,-1),Yae=g("br",null,null,-1),qae=g("b",null,"Vault",-1),Xae=g("b",null,"LuckPerms",-1),Qae=g("b",null,"Vote Party",-1),Jae=g("br",null,null,-1),Zae=g("br",null,null,-1),ele=g("ul",null,[g("li",null,[N(" Random Chest at a Time"),g("br"),g("i",null,[N("The items drop out of your "),g("b",null,"Vote Party"),N(" chests one by one, in random order")])]),g("br"),g("li",null,[N(" All Chests at Once"),g("br"),g("i",null,[N("The items drop out of your "),g("b",null,"Vote Party"),N(" chests one by one, concurrently")])]),g("br"),g("li",null,[N(" One Chest at a Time"),g("br"),g("i",null,[N("The items drop out of your "),g("b",null,"Vote Party"),N(" chests one by one, in sequence")])]),g("br"),g("li",null,[N(" Add To Inventory"),g("br"),g("i",null,[N("The items from your "),g("b",null,"Vote Party"),N(" chests are given in your players' inventories one by one, in a random order ")])]),g("br"),g("li",null,[N(" Explode Chests"),g("br"),g("i",null,[N("The items drop out of your "),g("b",null,"Vote Party"),N(" one chest at a time, in random order")])]),g("br"),g("li",null,[N(" Scary"),g("br"),g("i",null,[N("Similar to the "),g("b",null,"Explode Chests"),N(" variant, but a little scarrier")])]),g("br"),g("li",null,[N(" Pig Hunt"),g("br"),g("i",null,"This time, your chests run away! Kill the pigs to receive the rewards.")]),g("br"),g("li",null,[N(" Locked Crates"),g("br"),g("i",null,"The chests can be claimed by a single player. Fun as a hide-and-seek variant!")]),g("br"),g("li",null,"Randomly (one of the above)")],-1),tle=g("b",null,"Vote Party",-1),nle=g("br",null,null,-1),rle=g("br",null,null,-1),ile=g("b",null,"/votesettings",-1),sle=g("i",null,"forbidden_commands",-1),ole=g("b",null,"settings.yml",-1),ale=g("b",null,"Vote Party",-1),lle=g("br",null,null,-1),ule=g("br",null,null,-1),cle=g("b",null,"Vote Party",-1),dle=g("i",null,"Pig Hunt",-1),hle=g("b",null,"Vote Party",-1),fle=g("i",null,"Pig Hunt",-1),ple=g("b",null,"Crate",-1),mle=g("b",null,"Crate",-1),gle=g("br",null,null,-1),vle=g("br",null,null,-1),yle=g("br",null,null,-1),ble=g("br",null,null,-1),wle=g("br",null,null,-1),_le=g("br",null,null,-1),Tle=g("ul",null,[g("li",null,"50%"),g("li",null,"25%"),g("li",null,"10%"),g("li",null,"5%"),g("li",null,"1%"),g("li",null,"No prize (9%)")],-1),Sle=g("b",null,"Crate",-1),Ele=Ce({__name:"Rewards",setup(t){const n=Bl(Ul).greaterOrEqual("md");return(r,i)=>(I(),ne(E(zn),null,{default:j(()=>[$(E(Ae),{header:"Vote Rewards"},{default:j(()=>[N(" Default rewards for your players "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Item Rewards"},{default:j(()=>[N(" Place items in this inventory to set as item rewards "),g("div",Yoe,[g("img",{src:$A,style:dn({maxWidth:E(n)?"25vw":"100%"})},null,4)])]),_:1}),$(E(Ae),{header:"Item Reward Type"},{default:j(()=>[N(" Define how many items a player receives "),qoe,Xoe,N(" Options: "),Qoe]),_:1}),$(E(Ae),{header:"Money Reward"},{default:j(()=>[N(" Define how much ingame currency a player receives "),Joe,Zoe,N(" This requires "),eae,N(" and a Vault-supported currency plugin to be setup. E.g. "),tae,N(". ")]),_:1}),$(E(Ae),{header:"XP Reward"},{default:j(()=>[N(" Define how much Minecraft experience a player receives ")]),_:1}),$(E(Ae),{header:"Command Rewards"},{default:j(()=>[N(" You can choose what commands need to be run when a player has voted "),nae,rae,N(" Keep in mind that this feature can be abused by moderators who have access to the "),iae,N(" command. For this reason it is possible to setup "),sae,N(" in the "),oae,N(". ")]),_:1}),$(E(Ae),{header:"Double Rewards (coming soon!)",pt:{header:{class:"text-yellow-500"}}},{default:j(()=>[N(" Setup days with double rewards "),aae,lae]),_:1})]),_:1})]),_:1}),$(E(Ae),{header:"Power Rewards"},{default:j(()=>[N(" Alternative vote rewards for VIP's "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Item Rewards"},{default:j(()=>[N(" Place items in this inventory to set as item rewards "),g("div",uae,[g("img",{src:$A,style:dn({maxWidth:E(n)?"25vw":"100%"})},null,4)])]),_:1}),$(E(Ae),{header:"Item Reward Type"},{default:j(()=>[N(" Define how many items a player receives "),cae,dae,N(" Options: "),hae]),_:1}),$(E(Ae),{header:"Money Reward"},{default:j(()=>[N(" Define how much ingame currency a player receives "),fae,pae,N(" This requires "),mae,N(" and a Vault-supported currency plugin to be setup. E.g. "),gae,N(". ")]),_:1}),$(E(Ae),{header:"XP Reward"},{default:j(()=>[N(" Define how much Minecraft experience a player receives ")]),_:1}),$(E(Ae),{header:"Command Rewards"},{default:j(()=>[N(" You can choose what commands need to be run when a player has voted "),vae,yae,N(" Keep in mind that this feature can be abused by moderators who have access to the "),bae,N(" command. For this reason it is possible to setup "),wae,N(" in the "),_ae,N(". ")]),_:1}),$(E(Ae),{header:"Double Rewards (coming soon!)",pt:{header:{class:"text-yellow-500"}}},{default:j(()=>[N(" Setup days with double rewards "),Tae,Sae]),_:1}),$(E(Ae),{header:"Enabled Groups"},{default:j(()=>[N(" What permission-groups have access to the "),Eae,N("? "),Iae,Cae,N(" This only works in combination with "),Oae,N(" and a Vault-supported permissions plugin. E.g. "),Aae,N(". ")]),_:1}),$(E(Ae),{header:"Enabled Users"},{default:j(()=>[N(" Who has access to the "),kae,N("? "),Pae,xae,N(" This setting overrides the "),Dae,N(" setting. ")]),_:1})]),_:1})]),_:1}),$(E(Ae),{header:"Lucky Rewards"},{default:j(()=>[N(" Rewards for lucky players "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Lucky Vote"},{default:j(()=>[N(" Enable/disable lucky voting ")]),_:1}),$(E(Ae),{header:"Item Rewards"},{default:j(()=>[N(" Place items in this inventory to set as item rewards ")]),_:1}),$(E(Ae),{header:"Chance"},{default:j(()=>[N(" Set the chance percentage (%) for receiving a lucky reward ")]),_:1})]),_:1})]),_:1}),$(E(Ae),{header:"Milestones"},{default:j(()=>[N(" Rewards given when a player reaches a certain amount of votes "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Item Rewards"},{default:j(()=>[N(" Place items in this inventory to set as item rewards ")]),_:1}),$(E(Ae),{header:"Command Rewards"},{default:j(()=>[N(" You can choose what commands need to be run when a player has voted "),Rae,Nae,N(" Keep in mind that this feature can be abused by moderators who have access to the "),Mae,N(" command. For this reason it is possible to setup "),$ae,N(" in the "),Lae,N(". ")]),_:1}),$(E(Ae),{header:"Permission Rewards"},{default:j(()=>[N(" Define what permissions are given to a player after voting"),Fae,Vae,N(" This only works in combination with "),Uae,N(" and a Vault-supported permissions plugin. E.g. "),Bae,N(". ")]),_:1})]),_:1})]),_:1}),$(E(Ae),{header:"Streaks"},{default:j(()=>[N(" Rewards given when a player votes x days in a row "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Require Consecutive Streak"},{default:j(()=>[N(" Does the player need to vote every day, or can the player continue his streak on a later moment as well? ")]),_:1}),$(E(Ae),{header:"Item Rewards"},{default:j(()=>[N(" Place items in this inventory to set as item rewards ")]),_:1}),$(E(Ae),{header:"Command Rewards"},{default:j(()=>[N(" You can choose what commands need to be run when a player has voted "),jae,Hae,N(" Keep in mind that this feature can be abused by moderators who have access to the "),Wae,N(" command. For this reason it is possible to setup "),Kae,N(" in the "),zae,N(". ")]),_:1}),$(E(Ae),{header:"Permission Rewards"},{default:j(()=>[N(" Define what permissions are given to a player after voting"),Gae,Yae,N(" This only works in combination with "),qae,N(" and a Vault-supported permissions plugin. E.g. "),Xae,N(". ")]),_:1})]),_:1})]),_:1}),$(E(Ae),{header:"Vote Party"},{default:j(()=>[N(" Chests with possibilities "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Vote Party"},{default:j(()=>[N(" Enable/disable the "),Qae]),_:1}),$(E(Ae),{header:"Party Type"},{default:j(()=>[N(" What type of party do you want to organize? "),Jae,Zae,N(" Options: "),ele]),_:1}),$(E(Ae),{header:"Vote Party Commands"},{default:j(()=>[N(" You can choose what commands need to be run when the "),tle,N(" has started "),nle,rle,N(" Keep in mind that this feature can be abused by moderators who have access to the "),ile,N(" command. For this reason it is possible to setup "),sle,N(" in the "),ole,N(". ")]),_:1}),$(E(Ae),{header:"Votes Required"},{default:j(()=>[N(" The amount of votes on your server that are required to start the "),ale,lle,ule,N(" The count resets once the party has started. ")]),_:1}),$(E(Ae),{header:"Chests"},{default:j(()=>[N(" Place items in this inventory to set as item rewards ")]),_:1}),$(E(Ae),{header:"Pig Hunt Health"},{default:j(()=>[N(" The amount of lives a pig has in the "),cle,N(" type "),dle]),_:1}),$(E(Ae),{header:"Pig Hunt Max-Damage"},{default:j(()=>[N(" The amount of lives a pig can take from a player in the "),hle,N(" type "),fle]),_:1})]),_:1})]),_:1}),$(E(Ae),{header:"Crates"},{default:j(()=>[N(" Special chest that give the player one item after opening it "),$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Change Name"},{default:j(()=>[N(" Change the name of this "),ple]),_:1}),$(E(Ae),{header:"Get Key/Crate"},{default:j(()=>[N(" You will be given a "),mle,N(" key "),gle,vle,N(" This key can be used to set the crate location, or to open a crate. ")]),_:1}),$(E(Ae),{header:"Item Rewards"},{default:j(()=>[N(" Place items in this inventory to set as item rewards "),yle,ble,N(" Note the chance percentage of each inventory. "),wle,_le,N(" Options: "),Tle]),_:1}),$(E(Ae),{header:"Always Reward"},{default:j(()=>[N(" Is it possible that a player receives no reward? ")]),_:1}),$(E(Ae),{header:"Allow Crate Close"},{default:j(()=>[N(" Can the "),Sle,N(" animation be skipped? ")]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ile=""+new URL("images/customvoting/vote_command_gui.png",import.meta.url).href,Cle=""+new URL("images/customvoting/vote_command_chat.png",import.meta.url).href,Ole=""+new URL("images/customvoting/vote_dashboard.png",import.meta.url).href,Ale=g("br",null,null,-1),kle=g("br",null,null,-1),Ple=g("b",null,"Vote Top",-1),xle=g("br",null,null,-1),Dle=g("br",null,null,-1),Rle=g("i",null,"disabled_worlds",-1),Nle=g("b",null,"settings.yml",-1),Mle=g("br",null,null,-1),$le=g("br",null,null,-1),Lle=g("b",null,"Vote Site",-1),Fle=g("br",null,null,-1),Vle=g("br",null,null,-1),Ule=g("ul",null,[g("li",null,[N(" Right Click"),g("br"),g("i",null,[N("Edit a "),g("b",null,"Vote Site"),N(" - the editor will open")])]),g("li",null,[N(" Left Click (with an item)"),g("br"),g("i",null,[N("Change a "),g("b",null,"Vote Site"),N("'s type")])]),g("li",null,[N(" Drag"),g("br"),g("i",null,[N("Move a "),g("b",null,"Vote Site"),N(" to another position")])]),g("li",null,[N(" Cursor Click"),g("br"),g("i",null,[N("Disable a "),g("b",null,"Vote Site")])])],-1),Ble=g("br",null,null,-1),jle=g("br",null,null,-1),Hle=g("b",null,"/vote",-1),Wle={class:"flex justify-center m-5"},Kle={class:"flex justify-center m-5"},zle=g("br",null,null,-1),Gle=g("br",null,null,-1),Yle=g("i",null,"vote_command_override",-1),qle=g("b",null,"messages.yml",-1),Xle=g("b",null,"Vote Site Inventory",-1),Qle=g("br",null,null,-1),Jle=g("br",null,null,-1),Zle=g("b",null,"/votes",-1),eue={class:"flex justify-center m-5"},tue=Ce({__name:"Messages",setup(t){const n=Bl(Ul).greaterOrEqual("md");return(r,i)=>(I(),ne(E(zn),null,{default:j(()=>[$(E(Ae),{header:"Vote Broadcast"},{default:j(()=>[N(" Toggle the 'player has voted' message ")]),_:1}),$(E(Ae),{header:"Milestone Broadcast"},{default:j(()=>[N(" Toggle the 'player has reached milestone x' message ")]),_:1}),$(E(Ae),{header:"Streak Broadcast"},{default:j(()=>[N(" Toggle the 'player hit votestreak x' message ")]),_:1}),$(E(Ae),{header:"Vote Party Votes Broadcast"},{default:j(()=>[N(" Toggle the 'x votes left until the Vote Party' message ")]),_:1}),$(E(Ae),{header:"Vote Party Count Broadcast"},{default:j(()=>[N(" Toggle the 'Vote Party starting in x seconds' message ")]),_:1}),$(E(Ae),{header:"Vote Party Count Ending Broadcast"},{default:j(()=>[N(" Toggle the 'Vote Party starting in x' message ")]),_:1}),$(E(Ae),{header:"Break Armorstand Message"},{default:j(()=>[N(" Toggle the 'don't break me' message"),Ale,kle,N(" This message is triggered if a player tries to break a "),Ple,N(". ")]),_:1}),$(E(Ae),{header:"Disabled World Message"},{default:j(()=>[N(" Toggle the 'you can't vote in this world' message"),xle,Dle,N(" This message is triggered if a player tries to vote in a world that is disabled in "),Rle,N(" in the "),Nle,N(". ")]),_:1}),$(E(Ae),{header:"Hourly Vote Reminder"},{default:j(()=>[N(" Toggle the 'you haven't voted yet' message ")]),_:1}),$(E(Ae),{header:"Vote Sites"},{default:j(()=>[N(" Here you can configure your server's vote sites "),Mle,$le,N(" Note: a "),Lle,N(" become available after voting a first time. "),Fle,Vle,N(" Actions: "),Ule]),_:1}),$(E(Ae),{header:"Vote Site Inventory"},{default:j(()=>[N(" Whether a player sees your vote sites in an inventory/GUI, or as a text message "),Ble,jle,N(" This action is triggered with "),Hle,N(". "),g("div",Wle,[g("img",{src:Ile,style:dn({maxWidth:E(n)?"25vw":"100%"})},null,4)]),g("div",Kle,[g("img",{src:Cle,style:dn({maxWidth:E(n)?"25vw":"100%"})},null,4)])]),_:1}),$(E(Ae),{header:"Vote Command Override"},{default:j(()=>[N(" Show auto-generated vote sites to the player or use your own message? "),zle,Gle,N(" Your own message can be setup at "),Yle,N(" in the "),qle,N(". This option is only available if "),Xle,N(" is disabled. ")]),_:1}),$(E(Ae),{header:"Vote Dashboard"},{default:j(()=>[N(" Whether a player sees their vote stats in an inventory/GUI, or as a text message "),Qle,Jle,N(" This action is triggered with "),Zle,N(". "),g("div",eue,[g("img",{src:Ole,style:dn({maxWidth:E(n)?"25vw":"100%"})},null,4)])]),_:1})]),_:1}))}}),nue=g("br",null,null,-1),rue=g("br",null,null,-1),iue=g("a",{href:"https://discord.gg/v3qmJu7jWD",target:"_blank"}," Discord server ",-1),sue=g("br",null,null,-1),oue=g("br",null,null,-1),aue=g("br",null,null,-1),lue=g("br",null,null,-1),uue=g("ul",null,[g("li",null,"sd_master92"),g("li",null,"Dutchbeard"),g("li",null,"Smirren"),g("li",null,"King_Tom_94")],-1),cue=g("b",null,"CustomVoting",-1),due=g("br",null,null,-1),hue=g("br",null,null,-1),fue=g("span",{class:"text-green-500"},"Green",-1),pue=g("span",{class:"text-red-500"},"red",-1),mue=g("b",null,"CustomVoting",-1),gue=g("b",null,"CustomVoting",-1),vue=Ce({__name:"Support",setup(t){return(e,n)=>(I(),ne(E(zn),null,{default:j(()=>[$(E(Ae),{header:"Up to date?"},{default:j(()=>[N(" Whether or not this plugin is up to date "),nue,rue,N(" The current version is also shown. ")]),_:1}),$(E(Ae),{header:"Ingame Updates"},{default:j(()=>[N(" Will operators receive a message about an available update from time to time? ")]),_:1}),$(E(Ae),{header:"Discord"},{default:j(()=>[N(" A link to the "),iue,sue,oue,N(" Here you are welcome to ask for support ")]),_:1}),$(E(Ae),{header:"Supporters"},{default:j(()=>[N(" Who made this plugin possible, and who bought me a coffee? "),aue,lue,uue]),_:1}),$(E(Ae),{header:"Player Info"},{default:j(()=>[N(" View all voting statistics about your players ")]),_:1}),$(E(Ae),{header:"Statistics"},{default:j(()=>[$(E(zn),null,{default:j(()=>[$(E(Ae),{header:"Top vote sites"},{default:j(()=>[N(" A list of the most popular voting sites of "),cue,N(" users at this moment "),due,hue,fue,N(" sites have been setup on your own server, "),pue,N(" sites have not yet been setup. ")]),_:1}),$(E(Ae),{header:"Minecraft Version"},{default:j(()=>[N(" A list of the most popular Minecraft versions of "),mue,N(" users at this moment ")]),_:1}),$(E(Ae),{header:"Country"},{default:j(()=>[N(" A list of the most popular countries of "),gue,N(" users at this moment ")]),_:1})]),_:1})]),_:1})]),_:1}))}}),yue=Ce({__name:"VoteSettings",setup(t){return(e,n)=>(I(),ne(E(zn),null,{default:j(()=>[$(E(Ae),{header:"General"},{default:j(()=>[$(Goe)]),_:1}),$(E(Ae),{header:"Rewards"},{default:j(()=>[$(Ele)]),_:1}),$(E(Ae),{header:"Messages"},{default:j(()=>[$(tue)]),_:1}),$(E(Ae),{header:"Support"},{default:j(()=>[$(vue)]),_:1})]),_:1}))}}),eS=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},bue={},wue={class:"overflow-x-auto"},_ue=LP('<table class="min-w-full"><tbody><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/vote</code><br><p class="text-neutral-300">shows you the votelinks</p><em>permission: customvoting.vote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/fakevote [player] [website]</code><br><p class="text-neutral-300">do a test or fake vote</p><em>permission: customvoting.fakevote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/setvotes &lt;amount&gt; [player]</code><br><p class="text-neutral-300">change someone&#39;s votes</p><em>permission: customvoting.votes.set</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/clearmonthlyvotes [player]</code><br><p class="text-neutral-300">reset someone&#39;s period votes</p><em>permission: customvoting.monthly</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votes [player]</code><br><p class="text-neutral-300">displays your or someone&#39;s current votes</p><em>permission: customvoting.votes[.others]</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votetop</code><br><p class="text-neutral-300">displays the top voters</p><em>permission: customvoting.votetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/voteparty start | create</code><br><p class="text-neutral-300">start the vote party or receive the vote party chest</p><em>permission: customvoting.voteparty</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votesettings</code><br><p class="text-neutral-300">a GUI based vote editor</p><em>permission: customvoting.settings</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votereload [cache]</code><br><p class="text-neutral-300">reload the configuration (and cache)</p><em>permission: customvoting.reload</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/createtop &lt;top&gt;</code><br><p class="text-neutral-300">create an NPC for this top voter!</p><em>permission: customvoting.createtop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/deletetop &lt;top&gt;</code><br><p class="text-neutral-300">delete the NPC of this top voter</p><em>permission: customvoting.deletetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/givecratekey &lt;player&gt; &lt;crateID&gt;</code><br><p class="text-neutral-300">give a crate key to a player</p><em>permission: customvoting.givekey</em></td></tr></tbody></table>',1),Tue=[_ue];function Sue(t,e){return I(),F("div",wue,Tue)}const Eue=eS(bue,[["render",Sue]]),fn=t=>(v1("data-v-1cec5905"),t=t(),y1(),t),Iue={class:"flex flex-wrap"},Cue={class:"w-full md:w-fit"},Oue=fn(()=>g("img",{class:"w-32 h-32 md:w-48 md:h-48 rounded-full animation-scale my-4 cursor-pointer",src:Toe,alt:"customvoting"},null,-1)),Aue=fn(()=>g("div",{class:"w-full md:w-fit md:ms-10 flex justify-start"},[g("div",{class:"place-self-center"},[g("h1",{class:"text-title-primary"},"CustomVoting"),g("h2",{class:"text-title-tertiary"},"Everything you need to setup voting for your server.")])],-1)),kue={class:"flex justify-center"},Pue=fn(()=>g("p",{class:"mt-3 description-with-bolds text-neutral-200"},[N(" The main focus of this plugin is being "),g("b",null,"easy to setup"),N(" and "),g("b",null,"not"),N(" being "),g("b",null,"overcomplicated"),N(" to use, but still being "),g("b",null,"highly customizable"),N("! ")],-1)),xue={class:"flex justify-center"},Due={class:"ms-10 mt-10 w-full xl:w-2/3"},Rue=fn(()=>g("h3",{class:"text-title-secondary mb-2"},"Contents",-1)),Nue={class:"flex justify-center"},Mue={class:"flex"},$ue={class:"w-full md:w-1/2"},Lue={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Fue={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Vue={class:"flex justify-center"},Uue={class:"w-full md:w-1/2 mt-10 flex justify-center flex-wrap gap-1 md:gap-2 font-bold"},Bue={class:"flex justify-end"},jue={class:"w-full md:w-1/2 mt-10 flex justify-end flex-wrap gap-1 md:gap-2 font-bold"},Hue={class:"flex justify-center"},Wue={class:"mt-3"},Kue={class:"flex justify-center m-5"},zue={class:"flex justify-center"},Gue=fn(()=>g("div",{class:"mt-3"},[N(" Requirements "),g("br"),g("br"),g("ul",null,[g("li",null,[g("span",{class:"text-green-500"},[g("b",null,"Minecraft")]),N(" 1.14 or higher ")]),g("li",null,[g("span",{class:"text-cyan-400"},[g("b",null,"NuVotifier")]),N(" or "),g("span",{class:"text-cyan-400"},[g("b",null,"Votifier")])])])],-1)),Yue={class:"mt-10"},que=fn(()=>g("br",null,null,-1)),Xue=fn(()=>g("br",null,null,-1)),Que=fn(()=>g("li",null,[g("b",{class:"text-orange-400"},"PlaceholderAPI")],-1)),Jue=fn(()=>g("div",{class:""},[g("p",null,[N("%CV_SERVER_VOTES% "),g("span",{class:"text-neutral-400"},"// total server votes")]),g("p",null,[N("%CV_PLAYER_VOTES% "),g("span",{class:"text-neutral-400"},"// your votes")]),g("p",null,[N("%CV_PLAYER_VOTES_MONTHLY% "),g("span",{class:"text-neutral-400"},"// your monthly votes")]),g("p",null,[N("%CV_PLAYER_VOTES_WEEKLY% "),g("span",{class:"text-neutral-400"},"// your weekly votes")]),g("p",null,[N("%CV_PLAYER_VOTES_DAILY% "),g("span",{class:"text-neutral-400"},"// your daily votes")]),g("p",null,[N("%CV_PLAYER_STREAK_DAILY% "),g("span",{class:"text-neutral-400"},"// your streak days")]),g("br"),g("p",null,[N("%CV_PLAYER_VOTES_1% "),g("span",{class:"text-neutral-400"},"// top voter 1's votes")]),g("p",null,[N("%CV_PLAYER_VOTES_1_NAME% "),g("span",{class:"text-neutral-400"},"// top voter 1's name")]),g("p",null,[N(" %CV_PLAYER_VOTES_1_MONTHLY% "),g("span",{class:"text-neutral-400"},"// top voter 1's monthly votes")]),g("p",null,[N(" %CV_PLAYER_VOTES_1_WEEKLY% "),g("span",{class:"text-neutral-400"},"// top voter 1's weekly votes")]),g("p",null,[N("%CV_PLAYER_VOTES_1_DAILY% "),g("span",{class:"text-neutral-400"},"// top voter 1's daily votes")]),g("p",{class:"text-neutral-300"},"You can use as many numbers as you like"),g("p",{class:"text-neutral-300"}," The top voters are sorted by month or all-time according to your 'Monthly Period' setting. (Default is all-time) "),g("br"),g("p",null,[N(" %CV_VOTE_PARTY_TOTAL% "),g("span",{class:"text-neutral-400"},"// total of votes required for a voteparty.")]),g("p",null,[N("%CV_VOTE_PARTY_CURRENT% "),g("span",{class:"text-neutral-400"},"// votes current period.")]),g("p",null,[N(" %CV_VOTE_PARTY_UNTIL% "),g("span",{class:"text-neutral-400"},"// votes left until the voteparty.")])],-1)),Zue=fn(()=>g("li",null,[g("b",{class:"text-orange-400"},"Vault")],-1)),ece=fn(()=>g("i",null,"Connect with a Vault-supported currency or permissions plugin",-1)),tce=fn(()=>g("br",null,null,-1)),nce=fn(()=>g("br",null,null,-1)),rce=fn(()=>g("li",null,[g("b",{class:"text-orange-400"},"Citizens")],-1)),ice=fn(()=>g("i",null,"Showcase your top voters with reallife NPC's!",-1)),sce=fn(()=>g("br",null,null,-1)),oce=fn(()=>g("br",null,null,-1)),ace=fn(()=>g("li",null,[g("b",{class:"text-orange-400"},"Multiverse-Core")],-1)),lce=fn(()=>g("i",null,"Disable players from voting in certain custom worlds.",-1)),uce={class:"flex justify-center"},cce=fn(()=>g("p",{class:"mt-3"},[N(" Reference: "),g("a",{class:"underline hover:no-underline",href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/plugin.yml",target:"_blank"}," plugin.yml ")],-1)),dce={class:"flex justify-center"},hce=fn(()=>g("div",{class:"flex md:justify-center md:text-center mb-15"},[g("div",null,[g("h4",{class:"w-full text-title-tertiary text-primary-500"},"Basic Setup"),g("ol",{class:"w-full mt-3"},[g("li",{class:"mb-3"},[N(" Download and install "),g("a",{href:"https://www.spigotmc.org/resources/nuvotifier.13449/",target:"_blank"},[g("b",{class:"underline hover:no-underline"},"(Nu)Votifier")])]),g("li",{class:"mb-3"},[g("a",{href:"https://minestatus.net/tools/votifier",target:"_blank"},[g("b",{class:"underline hover:no-underline"},"Test")]),N(" NuVotifier ")]),g("li",{class:"mb-3"},[N(" Download and install "),g("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[g("b",{class:"underline hover:no-underline"},"CustomVoting")])]),g("li",null,"Vote from your favorite website"),g("i",null,[N("You should now see a "),g("b",null,"Vote Site"),N(" when you open "),g("b",null,"/votes")])])])],-1)),fce=fn(()=>g("div",{class:"mt-3 mb-20 flex flex-wrap justify-between"},[g("div",{class:"w-full md:w-1/2 md:text-center"},[g("h4",{class:"text-title-tertiary text-primary-500"},"Single Server"),g("ol",{class:"mt-3",start:"5"},[g("li",{class:"mb-3"},[N("Customize in "),g("b",null,"/votesettings"),N(", enjoy!")])])]),g("div",{class:"w-full md:w-1/2 md:text-center"},[g("h4",{class:"text-title-tertiary text-primary-500"},"Server Network"),g("ol",{class:"mt-3",start:"5"},[g("li",{class:"mb-3"},[N("Configure "),g("b",null,"NuVotifier"),N(" to be a vote forwarder to your subservers")]),g("li",{class:"mb-3"},[N("Connect to your database at "),g("i",null,"database"),N(" in "),g("b",null,"settings.yml")]),g("li",{class:"mb-3"},[N("Customize in "),g("b",null,"/votesettings"),N(", enjoy!")])])])],-1)),pce=fn(()=>g("p",{class:"mt-3"},[N(" Settings: "),g("a",{class:"underline hover:no-underline",href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/settings.yml",target:"_blank"}," settings.yml ")],-1)),mce=fn(()=>g("p",{class:"mt-3"},[N(" Messages and placeholders: "),g("a",{class:"underline hover:no-underline",href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/messages.yml",target:"_blank"}," messages.yml ")],-1)),gce={class:"flex justify-center"},vce=fn(()=>g("div",{class:"mt-10 flex flex-col gap-5"},[g("div",null,[N(" Download "),g("b",null,"CustomVoting"),N(" on "),g("a",{class:"underline hover:no-underline text-yellow-400",href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[g("b",null," SpigotMC ")]),g("br"),g("i",{class:"text-neutral-500"}," Are you enjoying my plugin? Please leave a review! ")]),g("div",null,[N(" Find support on our "),g("a",{class:"underline hover:no-underline text-blue-400",href:"https://discord.gg/v3qmJu7jWD",target:"_blank"},[g("b",null," Discord ")]),N(" server "),g("br"),g("i",{class:"text-neutral-500"}," Note that responses may take up to 7 days. This chat is most active in the weekends. ")]),g("div",null,[N(" CustomVoting uses server data collection! "),g("br"),N(" Find us on "),g("a",{class:"underline hover:no-underline text-cyan-500",href:"https://bstats.org/plugin/bukkit/CustomVoting/13544",target:"_blank"},[g("b",null," BStats ")]),g("br"),g("i",{class:"text-neutral-500"},"This is completely optional and configured in your plugins/PluginMetrics folder.")]),g("div",null,[g("b",null,"CustomVoting"),N(" is open source. "),g("br"),N(" Find out more on "),g("a",{class:"underline hover:no-underline text-fuchsia-500",href:"https://github.com/sanderderks/CustomVoting",target:"_blank"},[g("b",null," GitHub ")]),g("br"),g("i",{class:"text-neutral-500"},"Open source means you can view and edit the source code.")])],-1)),yce={class:"flex justify-center"},bce=fn(()=>g("p",{class:"text-neutral-300"},[N(" Are you unable to live your life without this plugin? "),g("br"),N(" Consider a donation to show your appreciation and motivate further development: "),g("a",{href:"https://www.paypal.com/donate/?hosted_button_id=75EUKGW7K54JY"},[g("b",null,"PayPal")])],-1)),wce=Ce({__name:"CustomVoting",setup(t){const n=Bl(Ul).greaterOrEqual("md"),r=i=>{const s=document.getElementById(i);s==null||s.scrollIntoView({behavior:"smooth",block:"center"})};return(i,s)=>{const o=_n("RouterLink");return I(),ne(wa,{"scroll-to-content":!1},{header:j(()=>[g("div",Iue,[g("div",Cue,[$(o,{to:{name:E(cr).HOME}},{default:j(()=>[Oue]),_:1},8,["to"])]),Aue])]),content:j(()=>[g("div",kue,[$(Bn,{class:"!bg-yellow-700 !bg-opacity-50 my-5 w-full xl:w-2/3",title:"About",description:"CustomVoting is a Minecraft plugin to reward your players for voting for your server.","description-props":{class:"!text-neutral-200"}},{default:j(()=>[Pue]),_:1})]),g("div",xue,[g("div",Due,[Rue,g("ul",null,[g("li",{class:"hover:cursor-pointer hover:underline",onClick:s[0]||(s[0]=a=>r("features"))}," Features "),g("li",{class:"hover:cursor-pointer hover:underline font-bold",onClick:s[1]||(s[1]=a=>r("votesettings"))}," /votesettings "),g("li",{class:"hover:cursor-pointer hover:underline",onClick:s[2]||(s[2]=a=>r("requirements"))}," Requirements & Hooks "),g("li",{class:"hover:cursor-pointer hover:underline",onClick:s[3]||(s[3]=a=>r("commands"))}," Commands & Permissions "),g("li",{class:"hover:cursor-pointer hover:underline",onClick:s[4]||(s[4]=a=>r("setup"))}," Setup & Configuration "),g("li",{class:"hover:cursor-pointer hover:underline",onClick:s[5]||(s[5]=a=>r("support"))}," Support & Information "),g("li",{class:"hover:cursor-pointer hover:underline",onClick:s[6]||(s[6]=a=>r("love"))}," Footnotes ")])])]),g("div",Nue,[$(Bn,{id:"features",class:"my-5 mt-20 w-full xl:w-2/3",title:"Features"},{default:j(()=>[g("div",Mue,[g("div",$ue,[g("div",Lue,[$(et,{class:""},{default:j(()=>[N(" Items ")]),_:1}),$(et,{class:"bg-sky-500"},{default:j(()=>[N(" Money ")]),_:1}),$(et,{class:"bg-blue-300 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Experience ")]),_:1}),$(et,{class:"bg-cyan-600"},{default:j(()=>[N(" Commands ")]),_:1}),$(et,{class:"bg-blue-600"},{default:j(()=>[N(" Permissions ")]),_:1})]),g("div",Fue,[$(et,{class:"bg-purple-600"},{default:j(()=>[N(" VIP Rewards ")]),_:1}),$(et,{class:"bg-purple-400 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Lucky Rewards ")]),_:1}),$(et,{class:"bg-purple-800"},{default:j(()=>[N(" Milestones ")]),_:1}),$(et,{class:"bg-fuchsia-400 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Streaks ")]),_:1}),$(et,{class:"bg-purple-900"},{default:j(()=>[N(" Crates ")]),_:1})])])]),g("div",Vue,[g("div",Uue,[$(et,{class:"bg-green-400 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Vote Party ")]),_:1}),$(et,{class:"bg-yellow-300 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Pig Hunt ")]),_:1}),$(et,{class:"bg-amber-500 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Fireworks ")]),_:1}),$(et,{class:"bg-orange-400 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Vote Top Skulls ")]),_:1}),$(et,{class:"bg-lime-500 text-neutral-700 hover:text-white"},{default:j(()=>[N(" NPC's ")]),_:1})])]),g("div",Bue,[g("div",jue,[$(et,{class:"bg-red-400 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Offline Support ")]),_:1}),$(et,{class:"bg-pink-300 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Monthly Reset ")]),_:1}),$(et,{class:"bg-pink-700"},{default:j(()=>[N(" PlaceholderAPI ")]),_:1}),$(et,{class:"bg-red-400 text-neutral-700 hover:text-white"},{default:j(()=>[N(" Vault ")]),_:1}),$(et,{class:"bg-red-700"},{default:j(()=>[N(" NuVotifier ")]),_:1})])])]),_:1})]),g("div",Hue,[$(Bn,{id:"votesettings",class:"my-5 mt-20 w-full xl:w-2/3",title:"/votesettings",description:"The main command of CustomVoting"},{default:j(()=>[g("div",Wue,[$(yue)]),g("div",Kue,[g("img",{src:Soe,style:dn({maxWidth:E(n)?"25vw":"100%"})},null,4)])]),_:1})]),g("div",zue,[$(Bn,{id:"requirements",class:"my-5 mt-20 w-full xl:w-2/3",title:"Requirements & Hooks",description:"What do you need to use CustomVoting - and what works together with it?"},{default:j(()=>[Gue,g("div",Yue,[N(" Hooks: "),que,Xue,g("ul",null,[Que,$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"What are the placeholders?"},{default:j(()=>[Jue]),_:1})]),_:1}),Zue,ece,tce,nce,rce,ice,sce,oce,ace,lce])])]),_:1})]),g("div",uce,[$(Bn,{id:"commands",class:"my-5 mt-20 w-full xl:w-2/3",title:"Commands & Permissions"},{default:j(()=>[$(E(zn),{class:"mt-3"},{default:j(()=>[$(E(Ae),{header:"Show/hide"},{default:j(()=>[$(Eue)]),_:1})]),_:1}),cce]),_:1})]),g("div",dce,[$(Bn,{id:"setup",class:"my-5 mt-20 w-full xl:w-2/3",title:"Setup & Configuration"},{default:j(()=>[hce,fce,pce,mce]),_:1})]),g("div",gce,[$(Bn,{id:"support",class:"my-5 mt-20 w-full xl:w-2/3",title:"Support & Information",description:"Can I help you with anything?"},{default:j(()=>[vce]),_:1})]),g("div",yce,[$(Bn,{id:"love",class:"my-5 mt-20 w-full xl:w-2/3 bg-pink-700 bg-opacity-75",title:"Thank you <3"},{default:j(()=>[bce]),_:1})])]),_:1})}}}),_ce=eS(wce,[["__scopeId","data-v-1cec5905"]]),Tce=Ce({__name:"CustomVoting",setup(t){return(e,n)=>(I(),ne(_ce))}}),Sce={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-neutral-400"},Ece={class:"m-1 lg:w-4/5"},tS=Ce({__name:"Privacy",setup(t){const{content:e}=Zt(hr());return(n,r)=>(I(),F("div",Sce,[(I(!0),F(we,null,nt(E(e).privacyStatement,i=>(I(),F("p",Ece,Me(i),1))),256))]))}}),nS=Ce({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=oe(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(I(),ne(ur,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,E(Rt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),_u=Ce({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=oe(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(I(),ne(ur,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),Ice={class:"flex flex-wrap pt-6 pb-8 mb-4"},Cce={class:"basis-full lg:basis-1/2"},Oce={key:3,class:"flex gap-3 mt-10 flex-wrap"},Ace={class:"basis-full lg:basis-1/2"},kce={key:0,class:"basis-full lg:basis-1/2 flex gap-3 mt-10 flex-wrap"},Pce={class:"flex flex-col items-center content-center"},xce=Ce({__name:"Dashboard",setup(t){const n=Bl(Ul).greaterOrEqual("md"),r=wr(),{currentUser:i,firebaseUser:s,publicUser:o,isOwner:a,mutationLoading:l}=Zt(r),u=hr(),{fetchAll:c}=u,{content:d,online:h,debug:f}=Zt(u),p=oe(!1),m=oe(),v=oe(),y=oe(),b=oe(),_=oe(),w=oe(),T=oe(),S=oe(),O=Mn({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),R=ee(()=>({firstName:O.firstName.value,lastName:O.lastName.value})),D=ee(()=>({displayName:O.displayName.value,avatar:O.avatar.value})),C=ee(()=>!!o.value&&!us(Iw.convert(o.value),D.value)),M=ee(()=>{var L;return O.email.value!==((L=s.value)==null?void 0:L.email)}),V=ee(()=>{const L=[];return us(i.value,R.value)||L.push("Details"),C.value&&L.push("Public Profile"),M.value&&L.push("E-mail"),O.newPassword.value&&L.push("Password"),L.length?"Save "+lw(L):void 0}),W=async()=>{var L;Object.keys(O).forEach(A=>O[A].error=""),O.newPassword.value&&(await Promise.all([_.value.test(),w.value.test(),T.value.test()]),!O.newPassword.error&&!O.currentPassword.error&&!O.repeatPassword.error&&(await r.updatePassword(O.newPassword.value,O.currentPassword.value),O.newPassword.value="",O.currentPassword.value="")),C.value&&(await y.value.test(),!O.displayName.error&&!O.avatar.error&&r.updatePublicUser({displayName:O.displayName.value,avatar:O.avatar.value})),M.value&&(await Promise.all([b.value.test(),w.value.test()]),!O.email.error&&!O.currentPassword.error&&(await r.updateMail(O.email.value,O.currentPassword.value),O.currentPassword.value="")),us(i.value,R.value)||(await Promise.all([m.value.test(),v.value.test()]),!O.firstName.error&&!O.lastName.error&&r.updateUser({firstName:O.firstName.value,lastName:O.lastName.value})),await c((L=s.value)==null?void 0:L.uid,!0)};return S1(()=>{var L,A,P,K,X;O.firstName.value=((L=i.value)==null?void 0:L.firstName)||"",O.lastName.value=((A=i.value)==null?void 0:A.lastName)||"",O.displayName.value=((P=o.value)==null?void 0:P.displayName)||"",O.email.value=((K=s.value)==null?void 0:K.email)||"",O.avatar.value=((X=o.value)==null?void 0:X.avatar)||""}),(L,A)=>(I(),ne(wa,null,{content:j(()=>[E(i)&&E(s)?(I(),ne(Bn,{key:0,class:"!bg-secondary-500 !bg-opacity-35 my-5",title:"Welcome "+E(i).firstName+(E(i).lastName?" "+E(i).lastName:""),description:E(d).dashboardDescription},{default:j(()=>[g("div",Ice,[g("div",Cce,[g("form",{onSubmit:A[19]||(A[19]=Tt(P=>W(),["prevent"]))},[$(ur,{name:"accountType",label:"Account Type","model-value":E(a)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),$(ur,{ref_key:"firstName",ref:m,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:O.firstName.value,"onUpdate:modelValue":A[0]||(A[0]=P=>O.firstName.value=P),error:O.firstName.error,"onUpdate:error":A[1]||(A[1]=P=>O.firstName.error=P),rules:[E(Rt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),$(ur,{ref_key:"lastName",ref:v,name:"lastName",label:"Last Name",modelValue:O.lastName.value,"onUpdate:modelValue":A[2]||(A[2]=P=>O.lastName.value=P),error:O.lastName.error,"onUpdate:error":A[3]||(A[3]=P=>O.lastName.error=P),"min-length":3,"max-length":50},null,8,["modelValue","error"]),$(ur,{ref_key:"displayName",ref:y,name:"displayName",label:"Public Username",modelValue:O.displayName.value,"onUpdate:modelValue":A[4]||(A[4]=P=>O.displayName.value=P),error:O.displayName.error,"onUpdate:error":A[5]||(A[5]=P=>O.displayName.error=P),rules:[E(Rt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),$(nS,{ref_key:"email",ref:b,name:"email",label:"E-mail",modelValue:O.email.value,"onUpdate:modelValue":A[6]||(A[6]=P=>O.email.value=P),error:O.email.error,"onUpdate:error":A[7]||(A[7]=P=>O.email.error=P),rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),M.value?(I(),ne(_u,{key:0,ref_key:"currentPassword",ref:w,name:"currentPassword",label:"Current Password",modelValue:O.currentPassword.value,"onUpdate:modelValue":A[8]||(A[8]=P=>O.currentPassword.value=P),error:O.currentPassword.error,"onUpdate:error":A[9]||(A[9]=P=>O.currentPassword.error=P),rules:[E(Rt).Required]},null,8,["modelValue","error","rules"])):q("",!0),$(_u,{ref_key:"newPassword",ref:_,name:"newPassword",label:"New Password",modelValue:O.newPassword.value,"onUpdate:modelValue":A[10]||(A[10]=P=>O.newPassword.value=P),error:O.newPassword.error,"onUpdate:error":A[11]||(A[11]=P=>O.newPassword.error=P),min:6,max:50},null,8,["modelValue","error"]),O.newPassword.value?(I(),ne(_u,{key:1,ref_key:"repeatPassword",ref:T,name:"repeatPassword",label:"Repeat New Password",modelValue:O.repeatPassword.value,"onUpdate:modelValue":A[12]||(A[12]=P=>O.repeatPassword.value=P),error:O.repeatPassword.error,"onUpdate:error":A[13]||(A[13]=P=>O.repeatPassword.error=P),rules:[E(Rt).Required],compare:{value:O.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):q("",!0),O.newPassword.value&&!M.value?(I(),ne(_u,{key:2,ref_key:"currentPassword",ref:w,name:"currentPassword",label:"Current Password",modelValue:O.currentPassword.value,"onUpdate:modelValue":A[14]||(A[14]=P=>O.currentPassword.value=P),error:O.currentPassword.error,"onUpdate:error":A[15]||(A[15]=P=>O.currentPassword.error=P),rules:[E(Rt).Required]},null,8,["modelValue","error","rules"])):q("",!0),E(n)?(I(),F("div",Oce,[V.value?(I(),ne(et,{key:0,class:"w-full",action:"submit",loading:E(l)},{default:j(()=>[N(Me(V.value),1)]),_:1},8,["loading"])):q("",!0),E(a)?q("",!0):(I(),ne(et,{key:1,class:"w-full",type:"danger",outlined:"",onClick:A[16]||(A[16]=P=>p.value=!0)},{default:j(()=>[N(" Delete account ")]),_:1}))])):q("",!0),E(a)?(I(),ne(zd,{key:4,name:"online",label:"Online",modelValue:E(h),"onUpdate:modelValue":A[17]||(A[17]=P=>hn(h)?h.value=P:null)},null,8,["modelValue"])):q("",!0),E(a)?(I(),ne(zd,{key:5,name:"debug",label:"Debug",modelValue:E(f),"onUpdate:modelValue":A[18]||(A[18]=P=>hn(f)?f.value=P:null)},null,8,["modelValue"])):q("",!0)],32)]),g("div",Ace,[$(qT,{ref_key:"avatar",ref:S,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:O.avatar.value,"onUpdate:modelValue":A[20]||(A[20]=P=>O.avatar.value=P),error:O.avatar.error,"onUpdate:error":A[21]||(A[21]=P=>O.avatar.error=P),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])]),E(n)?q("",!0):(I(),F("div",kce,[V.value?(I(),ne(et,{key:0,class:"w-full",action:"submit",loading:E(l)},{default:j(()=>[N(Me(V.value),1)]),_:1},8,["loading"])):q("",!0),E(a)?q("",!0):(I(),ne(et,{key:1,class:"w-full",type:"danger",outlined:"",onClick:A[22]||(A[22]=P=>p.value=!0)},{default:j(()=>[N(" Delete account ")]),_:1}))]))]),g("div",Pce,[$(tS)])]),_:1},8,["title","description"])):q("",!0),$(YT,{title:"Delete Account",isOpen:p.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:A[23]||(A[23]=P=>E(r).deleteAccount()),onCancel:A[24]||(A[24]=P=>p.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),Dce=Ce({__name:"Dashboard",setup(t){return(e,n)=>(I(),ne(xce))}}),Rce=t=>(v1("data-v-a81b57e3"),t=t(),y1(),t),Nce=Rce(()=>g("h3",{class:"text-title-secondary"},"My Work",-1)),Mce=Ce({__name:"Projects",setup(t){const e=hr(),{moveProject:n}=e,{projects:r}=Zt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{qn(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),LK(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return Ot(()=>r.value,(o,a)=>{o>a&&s()}),jt(()=>{s()}),(o,a)=>(I(),F(we,null,[Nce,$(E(IL),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":E(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:j(({element:l})=>[$(Bn,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,route:l.route,description:l.description,loading:l.loading},{default:j(()=>[(I(!0),F(we,null,nt(l.technologies,u=>(I(),ne(et,{class:"rounded-secondary m-1 md:mt-2 font-bold",style:dn({backgroundColor:u.color})},{default:j(()=>[N(Me(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","route","description","loading"])]),_:1},8,["model-value"])],64))}}),$ce=eS(Mce,[["__scopeId","data-v-a81b57e3"]]),Lce={class:"grid mt-20"},Fce=Ce({__name:"Home",setup(t){return(e,n)=>(I(),ne(wa,{"scroll-to-content":!1},{content:j(()=>[g("div",Lce,[$($ce)])]),_:1}))}}),Vce=Ce({__name:"Home",setup(t){return(e,n)=>(I(),ne(Fce))}}),Uce={class:"flex flex-col items-center content-center"},Bce={class:"grid grid-cols-4 mt-10 gap-3"},jce=Ce({__name:"Login",setup(t){const e=wr(),{loginLoading:n}=Zt(e),r=$1(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=oe(),a=oe(),l=Mn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return jt(()=>{r.replace({query:void 0})}),(d,h)=>{const f=_n("RouterLink");return I(),ne(wa,null,{content:j(()=>[$(Bn,{class:"!bg-primary-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:j(()=>[g("div",Uce,[g("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=Tt(p=>u(),["prevent"]))},[$(nS,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":h[1]||(h[1]=p=>l.email.error=p),rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),$(_u,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":h[3]||(h[3]=p=>l.password.error=p),rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),g("div",Bce,[$(et,{class:"col-span-full md:col-span-2",action:"submit",loading:E(n)},{default:j(()=>[N(" Login ")]),_:1},8,["loading"]),$(f,{class:"col-span-full md:col-span-2",to:{name:E(cr).REGISTER,query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:j(()=>[$(et,{class:"w-full",outlined:""},{default:j(()=>[N(" Register ")]),_:1})]),_:1},8,["to"]),$(et,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:j(()=>[N(" Forgot Password ")]),_:1})])],32),$(tS)])]),_:1})]),_:1})}}}),Hce=Ce({__name:"Login",setup(t){return(e,n)=>(I(),ne(jce))}}),Wce=Ce({__name:"NotFound",setup(t){return(e,n)=>(I(),ne(wa,{"scroll-to-content":!1},{content:j(()=>[$(Bn,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),Kce=Ce({__name:"NotFound",setup(t){return(e,n)=>(I(),ne(Wce))}}),zce={class:"flex flex-col items-center content-center"},Gce={class:"grid grid-cols-2 mt-10 gap-3"},Yce=Ce({__name:"Register",setup(t){const e=wr(),{loginLoading:n}=Zt(e),r=$1(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=oe(),a=oe(),l=oe(),u=Mn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return jt(()=>{r.replace({query:void 0})}),(d,h)=>{const f=_n("RouterLink");return I(),ne(wa,null,{content:j(()=>[$(Bn,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:j(()=>[g("div",zce,[g("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=Tt(p=>c(),["prevent"]))},[$(ur,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=p=>u.firstName.error=p),rules:[E(Rt).Required,E(Rt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),$(nS,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":h[3]||(h[3]=p=>u.email.error=p),rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),$(_u,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":h[5]||(h[5]=p=>u.password.error=p),rules:[E(Rt).Required]},null,8,["modelValue","error","rules"]),g("div",Gce,[$(et,{class:"col-span-full md:col-span-1",action:"submit",loading:E(n)},{default:j(()=>[N(" Register ")]),_:1},8,["loading"]),$(f,{to:{name:E(cr).LOGIN,query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:j(()=>[$(et,{class:"w-full",outlined:""},{default:j(()=>[N(" Login ")]),_:1})]),_:1},8,["to"])])],32),$(tS)])]),_:1})]),_:1})}}}),qce=Ce({__name:"Register",setup(t){return(e,n)=>(I(),ne(Yce))}});var cr=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.NOT_FOUND="notfound",t))(cr||{});const PL={HOME:{path:"/",meta:{title:"Home"},component:Vce,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Yv.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login",meta:{title:"Login"},component:Hce,beforeEnter:(t,e,n)=>{wr().currentUser?n({name:"dashboard"}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:qce,beforeEnter:(t,e,n)=>{wr().currentUser?n({name:"dashboard"}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:Dce},BLOG:{path:"/blog",meta:{title:"Blog"},component:MA},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:MA},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:Tce},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:_oe},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:Kce}},Yv=Z5({history:k5(),routes:Object.entries(PL).map(([t,e])=>({...e,name:cr[t]})),scrollBehavior(t,e,n){return n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),LA=R$.name;Yv.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:"notfound"});else{const i=t.name;if(["home","login","register","dashboard","notfound"].includes(i))n();else{const o=await hr().fetchMenuItems((r=wr().firebaseUser)==null?void 0:r.uid);(o==null?void 0:o.some(l=>l.route?i===l.route:l.url?t.path.startsWith(l.url):!1))?n():n({name:"notfound"})}}});Yv.beforeResolve(t=>{document.title=LA+" | "+t.meta.title||LA});const rS=Yv;function Yi(t){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(t)}function st(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function tt(t){ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Yi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Js(t,e){ze(2,arguments);var n=tt(t),r=st(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ds(t,e){ze(2,arguments);var n=tt(t),r=st(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function xL(t,e){if(ze(2,arguments),!e||Yi(e)!=="object")return new Date(NaN);var n=e.years?st(e.years):0,r=e.months?st(e.months):0,i=e.weeks?st(e.weeks):0,s=e.days?st(e.days):0,o=e.hours?st(e.hours):0,a=e.minutes?st(e.minutes):0,l=e.seconds?st(e.seconds):0,u=tt(t),c=r||n?ds(u,r+n*12):u,d=s||i?Js(c,s+i*7):c,h=a+o*60,f=l+h*60,p=f*1e3,m=new Date(d.getTime()+p);return m}function Xce(t,e){ze(2,arguments);var n=tt(t).getTime(),r=st(e);return new Date(n+r)}var Qce={};function zs(){return Qce}function El(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=zs(),d=st((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=tt(t),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function mg(t){return ze(1,arguments),El(t,{weekStartsOn:1})}function Jce(t){ze(1,arguments);var e=tt(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=mg(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=mg(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Zce(t){ze(1,arguments);var e=Jce(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=mg(n);return r}function gg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function FA(t){ze(1,arguments);var e=tt(t);return e.setHours(0,0,0,0),e}var ede=864e5;function tde(t,e){ze(2,arguments);var n=FA(t),r=FA(e),i=n.getTime()-gg(n),s=r.getTime()-gg(r);return Math.round((i-s)/ede)}function nde(t,e){ze(2,arguments);var n=st(e),r=n*3;return ds(t,r)}function iS(t,e){ze(2,arguments);var n=st(e);return ds(t,n*12)}var sS=6e4,oS=36e5,rde=1e3;function DL(t){return ze(1,arguments),t instanceof Date||Yi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gd(t){if(ze(1,arguments),!DL(t)&&typeof t!="number")return!1;var e=tt(t);return!isNaN(Number(e))}function VA(t){ze(1,arguments);var e=tt(t),n=Math.floor(e.getMonth()/3)+1;return n}function RL(t,e){var n;ze(1,arguments);var r=t||{},i=tt(r.start),s=tt(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(tt(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Bh(t){ze(1,arguments);var e=tt(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function ide(t){ze(1,arguments);var e=t||{},n=tt(e.start),r=tt(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Bh(n),o=Bh(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(tt(l)),l=nde(l,1);return a}function sde(t){ze(1,arguments);var e=tt(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function ode(t){ze(1,arguments);var e=tt(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ade(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=zs(),d=st((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=tt(t),f=h.getDay(),p=(f<d?-7:0)+6-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function UA(t){ze(1,arguments);var e=tt(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function NL(t,e){ze(2,arguments);var n=st(e);return Xce(t,-n)}var lde=864e5;function ude(t){ze(1,arguments);var e=tt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/lde)+1}function pc(t){ze(1,arguments);var e=1,n=tt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function ML(t){ze(1,arguments);var e=tt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=pc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=pc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cde(t){ze(1,arguments);var e=ML(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=pc(n);return r}var dde=6048e5;function $L(t){ze(1,arguments);var e=tt(t),n=pc(e).getTime()-cde(e).getTime();return Math.round(n/dde)+1}function Il(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=zs(),d=st((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=tt(t),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function aS(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=tt(t),d=c.getUTCFullYear(),h=zs(),f=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=Il(p,e),v=new Date(0);v.setUTCFullYear(d,0,f),v.setUTCHours(0,0,0,0);var y=Il(v,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function hde(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=zs(),d=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=aS(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var p=Il(f,e);return p}var fde=6048e5;function LL(t,e){ze(1,arguments);var n=tt(t),r=Il(n,e).getTime()-hde(n,e).getTime();return Math.round(r/fde)+1}function en(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var pde={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return en(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):en(r+1,2)},d:function(e,n){return en(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return en(e.getUTCHours()%12||12,n.length)},H:function(e,n){return en(e.getUTCHours(),n.length)},m:function(e,n){return en(e.getUTCMinutes(),n.length)},s:function(e,n){return en(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return en(s,n.length)}};const Po=pde;var eu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mde={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Po.y(e,n)},Y:function(e,n,r,i){var s=aS(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return en(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):en(o,n.length)},R:function(e,n){var r=ML(e);return en(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return en(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return en(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return en(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Po.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return en(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=LL(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):en(s,n.length)},I:function(e,n,r){var i=$L(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):en(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Po.d(e,n)},D:function(e,n,r){var i=ude(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):en(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return en(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return en(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return en(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=eu.noon:i===0?s=eu.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=eu.evening:i>=12?s=eu.afternoon:i>=4?s=eu.morning:s=eu.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Po.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Po.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):en(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):en(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Po.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Po.s(e,n)},S:function(e,n){return Po.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return jA(o);case"XXXX":case"XX":return Da(o);case"XXXXX":case"XXX":default:return Da(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return jA(o);case"xxxx":case"xx":return Da(o);case"xxxxx":case"xxx":default:return Da(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+BA(o,":");case"OOOO":default:return"GMT"+Da(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+BA(o,":");case"zzzz":default:return"GMT"+Da(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return en(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return en(o,n.length)}};function BA(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+en(s,2)}function jA(t,e){if(t%60===0){var n=t>0?"-":"+";return n+en(Math.abs(t)/60,2)}return Da(t,e)}function Da(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=en(Math.floor(i/60),2),o=en(i%60,2);return r+s+n+o}var HA=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},FL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},gde=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return HA(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",HA(i,n)).replace("{{time}}",FL(s,n))},Hw={p:FL,P:gde},vde=["D","DD"],yde=["YY","YYYY"];function VL(t){return vde.indexOf(t)!==-1}function UL(t){return yde.indexOf(t)!==-1}function vg(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var bde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wde=function(e,n,r){var i,s=bde[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const _de=wde;function Sb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Tde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ede={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ide={date:Sb({formats:Tde,defaultWidth:"full"}),time:Sb({formats:Sde,defaultWidth:"full"}),dateTime:Sb({formats:Ede,defaultWidth:"full"})};const Cde=Ide;var Ode={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ade=function(e,n,r,i){return Ode[e]};const kde=Ade;function Xc(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Pde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$de=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Lde={ordinalNumber:$de,era:Xc({values:Pde,defaultWidth:"wide"}),quarter:Xc({values:xde,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xc({values:Dde,defaultWidth:"wide"}),day:Xc({values:Rde,defaultWidth:"wide"}),dayPeriod:Xc({values:Nde,defaultWidth:"wide",formattingValues:Mde,defaultFormattingWidth:"wide"})};const Fde=Lde;function Qc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Ude(a,function(d){return d.test(o)}):Vde(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Vde(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Ude(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Bde(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var jde=/^(\d+)(th|st|nd|rd)?/i,Hde=/\d+/i,Wde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kde={any:[/^b/i,/^(a|c)/i]},zde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gde={any:[/1/i,/2/i,/3/i,/4/i]},Yde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ehe={ordinalNumber:Bde({matchPattern:jde,parsePattern:Hde,valueCallback:function(e){return parseInt(e,10)}}),era:Qc({matchPatterns:Wde,defaultMatchWidth:"wide",parsePatterns:Kde,defaultParseWidth:"any"}),quarter:Qc({matchPatterns:zde,defaultMatchWidth:"wide",parsePatterns:Gde,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Qc({matchPatterns:Yde,defaultMatchWidth:"wide",parsePatterns:qde,defaultParseWidth:"any"}),day:Qc({matchPatterns:Xde,defaultMatchWidth:"wide",parsePatterns:Qde,defaultParseWidth:"any"}),dayPeriod:Qc({matchPatterns:Jde,defaultMatchWidth:"any",parsePatterns:Zde,defaultParseWidth:"any"})};const the=ehe;var nhe={code:"en-US",formatDistance:_de,formatLong:Cde,formatRelative:kde,localize:Fde,match:the,options:{weekStartsOn:0,firstWeekContainsDate:1}};const BL=nhe;var rhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ihe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,she=/^'([^]*?)'?$/,ohe=/''/g,ahe=/[a-zA-Z]/;function na(t,e,n){var r,i,s,o,a,l,u,c,d,h,f,p,m,v,y,b,_,w;ze(2,arguments);var T=String(e),S=zs(),O=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:S.locale)!==null&&r!==void 0?r:BL,R=st((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&o!==void 0?o:(d=S.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=st((f=(p=(m=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(y=n.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&m!==void 0?m:S.weekStartsOn)!==null&&p!==void 0?p:(_=S.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var C=tt(t);if(!Gd(C))throw new RangeError("Invalid time value");var M=gg(C),V=NL(C,M),W={firstWeekContainsDate:R,weekStartsOn:D,locale:O,_originalDate:C},L=T.match(ihe).map(function(A){var P=A[0];if(P==="p"||P==="P"){var K=Hw[P];return K(A,O.formatLong)}return A}).join("").match(rhe).map(function(A){if(A==="''")return"'";var P=A[0];if(P==="'")return lhe(A);var K=mde[P];if(K)return!(n!=null&&n.useAdditionalWeekYearTokens)&&UL(A)&&vg(A,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&VL(A)&&vg(A,e,String(t)),K(V,A,O.localize,W);if(P.match(ahe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return A}).join("");return L}function lhe(t){var e=t.match(she);return e?e[1].replace(ohe,"'"):t}function uhe(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function che(t){ze(1,arguments);var e=tt(t),n=e.getDay();return n}function dhe(t){ze(1,arguments);var e=tt(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function hs(t){ze(1,arguments);var e=tt(t),n=e.getHours();return n}var hhe=6048e5;function fhe(t){ze(1,arguments);var e=tt(t),n=mg(e).getTime()-Zce(e).getTime();return Math.round(n/hhe)+1}function Fs(t){ze(1,arguments);var e=tt(t),n=e.getMinutes();return n}function Vt(t){ze(1,arguments);var e=tt(t),n=e.getMonth();return n}function mc(t){ze(1,arguments);var e=tt(t),n=e.getSeconds();return n}function phe(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=tt(t),d=c.getFullYear(),h=zs(),f=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,f),p.setHours(0,0,0,0);var m=El(p,e),v=new Date(0);v.setFullYear(d,0,f),v.setHours(0,0,0,0);var y=El(v,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function mhe(t,e){var n,r,i,s,o,a,l,u;ze(1,arguments);var c=zs(),d=st((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=phe(t,e),f=new Date(0);f.setFullYear(h,0,d),f.setHours(0,0,0,0);var p=El(f,e);return p}var ghe=6048e5;function vhe(t,e){ze(1,arguments);var n=tt(t),r=El(n,e).getTime()-mhe(n,e).getTime();return Math.round(r/ghe)+1}function _t(t){return ze(1,arguments),tt(t).getFullYear()}function jh(t,e){ze(2,arguments);var n=tt(t),r=tt(e);return n.getTime()>r.getTime()}function Hh(t,e){ze(2,arguments);var n=tt(t),r=tt(e);return n.getTime()<r.getTime()}function Tu(t,e){ze(2,arguments);var n=tt(t),r=tt(e);return n.getTime()===r.getTime()}function WA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yhe(t,e){if(t){if(typeof t=="string")return WA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(t,e)}}function KA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=yhe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function Ht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jL=function(){return!!t})()}function bhe(t,e){if(e&&(Yi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}function Wt(t){var e=jL();return function(){var r=yg(t),i;if(e){var s=yg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return bhe(this,i)}}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function whe(t,e){if(Yi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HL(t){var e=whe(t,"string");return Yi(e)=="symbol"?e:String(e)}function zA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HL(r.key),r)}}function xt(t,e,n){return e&&zA(t.prototype,e),n&&zA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function je(t,e,n){return e=HL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _he=10,WL=function(){function t(){Pt(this,t),je(this,"priority",void 0),je(this,"subPriority",0)}return xt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),The=function(t){Ht(n,t);var e=Wt(n);function n(r,i,s,o,a){var l;return Pt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return xt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(WL),She=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",_he),je(Ke(r),"subPriority",-1),r}return xt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(WL),Xt=function(){function t(){Pt(this,t),je(this,"incompatibleTokens",void 0),je(this,"priority",void 0),je(this,"subPriority",void 0)}return xt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new The(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Ehe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",140),je(Ke(r),"incompatibleTokens",["R","u","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Gn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Es={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Yn(t,e){return t&&{value:e(t.value),rest:t.rest}}function Rn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Is(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*oS+s*sS+o*rde),rest:e.slice(n[0].length)}}function KL(t){return Rn(Gn.anyDigitsSigned,t)}function Wn(t,e){switch(t){case 1:return Rn(Gn.singleDigit,e);case 2:return Rn(Gn.twoDigits,e);case 3:return Rn(Gn.threeDigits,e);case 4:return Rn(Gn.fourDigits,e);default:return Rn(new RegExp("^\\d{1,"+t+"}"),e)}}function bg(t,e){switch(t){case 1:return Rn(Gn.singleDigitSigned,e);case 2:return Rn(Gn.twoDigitsSigned,e);case 3:return Rn(Gn.threeDigitsSigned,e);case 4:return Rn(Gn.fourDigitsSigned,e);default:return Rn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function lS(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zL(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function GL(t){return t%400===0||t%4===0&&t%100!==0}var Ihe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Yn(Wn(4,i),a);case"yo":return Yn(o.ordinalNumber(i,{unit:"year"}),a);default:return Yn(Wn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=zL(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Che=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Yn(Wn(4,i),a);case"Yo":return Yn(o.ordinalNumber(i,{unit:"year"}),a);default:return Yn(Wn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=aS(i,a);if(o.isTwoDigitYear){var u=zL(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Il(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Il(i,a)}}]),n}(Xt),Ohe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s){return bg(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),pc(a)}}]),n}(Xt),Ahe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",130),je(Ke(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s){return bg(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),khe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",120),je(Ke(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Wn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Phe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",120),je(Ke(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Wn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),xhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),je(Ke(r),"priority",110),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Yn(Rn(Gn.month,i),a);case"MM":return Yn(Wn(2,i),a);case"Mo":return Yn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Dhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",110),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Yn(Rn(Gn.month,i),a);case"LL":return Yn(Wn(2,i),a);case"Lo":return Yn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Xt);function Rhe(t,e,n){ze(2,arguments);var r=tt(t),i=st(e),s=LL(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Nhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",100),je(Ke(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return Rn(Gn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Il(Rhe(i,o,a),a)}}]),n}(Xt);function Mhe(t,e){ze(2,arguments);var n=tt(t),r=st(e),i=$L(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var $he=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",100),je(Ke(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return Rn(Gn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return pc(Mhe(i,o))}}]),n}(Xt),Lhe=[31,28,31,30,31,30,31,31,30,31,30,31],Fhe=[31,29,31,30,31,30,31,31,30,31,30,31],Vhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"subPriority",1),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return Rn(Gn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=GL(o),l=i.getUTCMonth();return a?s>=1&&s<=Fhe[l]:s>=1&&s<=Lhe[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Uhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"subpriority",1),je(Ke(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return Rn(Gn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=GL(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Xt);function uS(t,e,n){var r,i,s,o,a,l,u,c;ze(2,arguments);var d=zs(),h=st((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=tt(t),p=st(e),m=f.getUTCDay(),v=p%7,y=(v+7)%7,b=(y<h?7:0)+p-m;return f.setUTCDate(f.getUTCDate()+b),f}var Bhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=uS(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),jhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Yn(Wn(s.length,i),l);case"eo":return Yn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=uS(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),Hhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Yn(Wn(s.length,i),l);case"co":return Yn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=uS(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Xt);function Whe(t,e){ze(2,arguments);var n=st(e);n%7===0&&(n=n-7);var r=1,i=tt(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var Khe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",90),je(Ke(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Wn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Yn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Yn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Yn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Yn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=Whe(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Xt),zhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",80),je(Ke(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(lS(o),0,0,0),i}}]),n}(Xt),Ghe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",80),je(Ke(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(lS(o),0,0,0),i}}]),n}(Xt),Yhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",80),je(Ke(r),"incompatibleTokens",["a","b","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(lS(o),0,0,0),i}}]),n}(Xt),qhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["H","K","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return Rn(Gn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Xt),Xhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return Rn(Gn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Xt),Qhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["h","H","k","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return Rn(Gn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Xt),Jhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",70),je(Ke(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return Rn(Gn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Xt),Zhe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",60),je(Ke(r),"incompatibleTokens",["t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return Rn(Gn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Xt),efe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",50),je(Ke(r),"incompatibleTokens",["t","T"]),r}return xt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return Rn(Gn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Wn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Xt),tfe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",30),je(Ke(r),"incompatibleTokens",["t","T"]),r}return xt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Yn(Wn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Xt),nfe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",10),je(Ke(r),"incompatibleTokens",["t","T","x"]),r}return xt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Is(Es.basicOptionalMinutes,i);case"XX":return Is(Es.basic,i);case"XXXX":return Is(Es.basicOptionalSeconds,i);case"XXXXX":return Is(Es.extendedOptionalSeconds,i);case"XXX":default:return Is(Es.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Xt),rfe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",10),je(Ke(r),"incompatibleTokens",["t","T","X"]),r}return xt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Is(Es.basicOptionalMinutes,i);case"xx":return Is(Es.basic,i);case"xxxx":return Is(Es.basicOptionalSeconds,i);case"xxxxx":return Is(Es.extendedOptionalSeconds,i);case"xxx":default:return Is(Es.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Xt),ife=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",40),je(Ke(r),"incompatibleTokens","*"),r}return xt(n,[{key:"parse",value:function(i){return KL(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Xt),sfe=function(t){Ht(n,t);var e=Wt(n);function n(){var r;Pt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),je(Ke(r),"priority",20),je(Ke(r),"incompatibleTokens","*"),r}return xt(n,[{key:"parse",value:function(i){return KL(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Xt),ofe={G:new Ehe,y:new Ihe,Y:new Che,R:new Ohe,u:new Ahe,Q:new khe,q:new Phe,M:new xhe,L:new Dhe,w:new Nhe,I:new $he,d:new Vhe,D:new Uhe,E:new Bhe,e:new jhe,c:new Hhe,i:new Khe,a:new zhe,b:new Ghe,B:new Yhe,h:new qhe,H:new Xhe,K:new Qhe,k:new Jhe,m:new Zhe,s:new efe,S:new tfe,X:new nfe,x:new rfe,t:new ife,T:new sfe},afe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ufe=/^'([^]*?)'?$/,cfe=/''/g,dfe=/\S/,hfe=/[a-zA-Z]/;function Kw(t,e,n,r){var i,s,o,a,l,u,c,d,h,f,p,m,v,y,b,_,w,T;ze(3,arguments);var S=String(t),O=String(e),R=zs(),D=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:R.locale)!==null&&i!==void 0?i:BL;if(!D.match)throw new RangeError("locale must contain match property");var C=st((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:R.firstWeekContainsDate)!==null&&a!==void 0?a:(h=R.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=st((p=(m=(v=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(b=r.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:R.weekStartsOn)!==null&&m!==void 0?m:(w=R.locale)===null||w===void 0||(T=w.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(O==="")return S===""?tt(n):new Date(NaN);var V={firstWeekContainsDate:C,weekStartsOn:M,locale:D},W=[new She],L=O.match(lfe).map(function(ue){var Z=ue[0];if(Z in Hw){var pe=Hw[Z];return pe(ue,D.formatLong)}return ue}).join("").match(afe),A=[],P=KA(L),K;try{var X=function(){var Z=K.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&UL(Z)&&vg(Z,O,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&VL(Z)&&vg(Z,O,t);var pe=Z[0],_e=ofe[pe];if(_e){var le=_e.incompatibleTokens;if(Array.isArray(le)){var x=A.find(function(G){return le.includes(G.token)||G.token===pe});if(x)throw new RangeError("The format string mustn't contain `".concat(x.fullToken,"` and `").concat(Z,"` at the same time"))}else if(_e.incompatibleTokens==="*"&&A.length>0)throw new RangeError("The format string mustn't contain `".concat(Z,"` and any other token at the same time"));A.push({token:pe,fullToken:Z});var U=_e.run(S,Z,D.match,V);if(!U)return{v:new Date(NaN)};W.push(U.setter),S=U.rest}else{if(pe.match(hfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");if(Z==="''"?Z="'":pe==="'"&&(Z=ffe(Z)),S.indexOf(Z)===0)S=S.slice(Z.length);else return{v:new Date(NaN)}}};for(P.s();!(K=P.n()).done;){var B=X();if(Yi(B)==="object")return B.v}}catch(ue){P.e(ue)}finally{P.f()}if(S.length>0&&dfe.test(S))return new Date(NaN);var k=W.map(function(ue){return ue.priority}).sort(function(ue,Z){return Z-ue}).filter(function(ue,Z,pe){return pe.indexOf(ue)===Z}).map(function(ue){return W.filter(function(Z){return Z.priority===ue}).sort(function(Z,pe){return pe.subPriority-Z.subPriority})}).map(function(ue){return ue[0]}),re=tt(n);if(isNaN(re.getTime()))return new Date(NaN);var ie=NL(re,gg(re)),ve={},ye=KA(k),se;try{for(ye.s();!(se=ye.n()).done;){var z=se.value;if(!z.validate(ie,V))return new Date(NaN);var Q=z.set(ie,ve,V);Array.isArray(Q)?(ie=Q[0],uhe(ve,Q[1])):ie=Q}}catch(ue){ye.e(ue)}finally{ye.f()}return ie}function ffe(t){return t.match(ufe)[1].replace(cfe,"'")}function GA(t,e){ze(2,arguments);var n=Bh(t),r=Bh(e);return n.getTime()===r.getTime()}function pfe(t,e){ze(2,arguments);var n=st(e);return Js(t,-n)}function mfe(t,e){var n;ze(1,arguments);var r=st((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=bfe(t),s;if(i.date){var o=wfe(i.date,r);s=_fe(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=Tfe(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Sfe(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var xp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bfe(t){var e={},n=t.split(xp.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],xp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(xp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=xp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function wfe(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function _fe(t,e){if(e===null)return new Date(NaN);var n=t.match(gfe);if(!n)return new Date(NaN);var r=!!n[4],i=Jc(n[1]),s=Jc(n[2])-1,o=Jc(n[3]),a=Jc(n[4]),l=Jc(n[5])-1;if(r)return Afe(e,a,l)?Efe(e,a,l):new Date(NaN);var u=new Date(0);return!Cfe(e,s,o)||!Ofe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Jc(t){return t?parseInt(t):1}function Tfe(t){var e=t.match(vfe);if(!e)return NaN;var n=Eb(e[1]),r=Eb(e[2]),i=Eb(e[3]);return kfe(n,r,i)?n*oS+r*sS+i*1e3:NaN}function Eb(t){return t&&parseFloat(t.replace(",","."))||0}function Sfe(t){if(t==="Z")return 0;var e=t.match(yfe);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Pfe(r,i)?n*(r*oS+i*sS):NaN}function Efe(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Ife=[31,null,31,30,31,30,31,31,30,31,30,31];function YL(t){return t%400===0||t%4===0&&t%100!==0}function Cfe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ife[e]||(YL(t)?29:28))}function Ofe(t,e){return e>=1&&e<=(YL(t)?366:365)}function Afe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function kfe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Pfe(t,e){return e>=0&&e<=59}function qL(t,e){ze(2,arguments);var n=tt(t),r=st(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=dhe(o);return n.setMonth(r,Math.min(s,a)),n}function Tn(t,e){if(ze(2,arguments),Yi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=tt(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=qL(n,e.month)),e.date!=null&&n.setDate(st(e.date)),e.hours!=null&&n.setHours(st(e.hours)),e.minutes!=null&&n.setMinutes(st(e.minutes)),e.seconds!=null&&n.setSeconds(st(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(st(e.milliseconds)),n)}function XL(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setHours(r),n}function cS(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setMilliseconds(r),n}function QL(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setMinutes(r),n}function dS(t,e){ze(2,arguments);var n=tt(t),r=st(e);return n.setSeconds(r),n}function xs(t,e){ze(2,arguments);var n=tt(t),r=st(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function gc(t,e){ze(2,arguments);var n=st(e);return ds(t,-n)}function xfe(t,e){if(ze(2,arguments),!e||Yi(e)!=="object")return new Date(NaN);var n=e.years?st(e.years):0,r=e.months?st(e.months):0,i=e.weeks?st(e.weeks):0,s=e.days?st(e.days):0,o=e.hours?st(e.hours):0,a=e.minutes?st(e.minutes):0,l=e.seconds?st(e.seconds):0,u=gc(t,r+n*12),c=pfe(u,s+i*7),d=a+o*60,h=l+d*60,f=h*1e3,p=new Date(c.getTime()-f);return p}function JL(t,e){ze(2,arguments);var n=st(e);return iS(t,-n)}function Rc(){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[g("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),g("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),g("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),g("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Rc.compatConfig={MODE:3};function ZL(){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[g("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),g("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ZL.compatConfig={MODE:3};function hS(){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[g("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}hS.compatConfig={MODE:3};function fS(){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[g("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}fS.compatConfig={MODE:3};function pS(){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[g("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),g("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}pS.compatConfig={MODE:3};function mS(){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[g("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}mS.compatConfig={MODE:3};function gS(){return I(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[g("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}gS.compatConfig={MODE:3};function vS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e3={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(e3);var Dfe=e3.exports,zw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(zw,zw.exports);var Rfe=zw.exports;const Nfe=vS(Rfe);var Gw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Gw,Gw.exports);var Mfe=Gw.exports;const YA=vS(Mfe);function $fe(t,e){var n=Ufe(e);return n.formatToParts?Ffe(n,t):Vfe(n,t)}var Lfe={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ffe(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=Lfe[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function Vfe(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Ib={};function Ufe(t){if(!Ib[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Ib[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Ib[t]}function yS(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var qA=36e5,Bfe=6e4,Cb={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function bS(t,e,n){var r,i;if(t===""||(r=Cb.timezoneZ.exec(t),r))return 0;var s;if(r=Cb.timezoneHH.exec(t),r)return s=parseInt(r[1],10),XA(s)?-(s*qA):NaN;if(r=Cb.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return XA(s,o)?(i=Math.abs(s)*qA+o*Bfe,s>0?-i:i):NaN}if(Wfe(t)){e=new Date(e||Date.now());var a=n?e:jfe(e),l=Yw(a,t),u=n?l:Hfe(e,l,t);return-u}return NaN}function jfe(t){return yS(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Yw(t,e){var n=$fe(t,e),r=yS(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function Hfe(t,e,n){var r=t.getTime(),i=r-e,s=Yw(new Date(i),n);if(e===s)return e;i-=s-e;var o=Yw(new Date(i),n);return s===o?s:Math.max(s,o)}function XA(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var QA={};function Wfe(t){if(QA[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),QA[t]=!0,!0}catch{return!1}}var t3=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ob=36e5,JA=6e4,Kfe=2,ti={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:t3};function qw(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?Kfe:Nfe(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=zfe(t),s=Gfe(i.date,r),o=s.year,a=s.restDateString,l=Yfe(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=qfe(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=bS(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=YA(new Date(u+c)),d=YA(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function zfe(t){var e={},n=ti.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=ti.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=ti.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function Gfe(t,e){var n=ti.YYY[e],r=ti.YYYYY[e],i;if(i=ti.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=ti.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function Yfe(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=ti.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,ek(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=ti.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Jfe(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=ti.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return ek(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=ti.Www.exec(t),n)return s=parseInt(n[1],10)-1,tk(e,s)?ZA(e,s):new Date(NaN);if(n=ti.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return tk(e,s,l)?ZA(e,s,l):new Date(NaN)}return null}function qfe(t){var e,n,r;if(e=ti.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Ab(n)?n%24*Ob:NaN;if(e=ti.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Ab(n,r)?n%24*Ob+r*JA:NaN;if(e=ti.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Ab(n,r,i)?n%24*Ob+r*JA+i*1e3:NaN}return null}function ZA(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Xfe=[31,28,31,30,31,30,31,31,30,31,30,31],Qfe=[31,29,31,30,31,30,31,31,30,31,30,31];function n3(t){return t%400===0||t%4===0&&t%100!==0}function ek(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=n3(t);if(r&&n>Qfe[e]||!r&&n>Xfe[e])return!1}return!0}function Jfe(t,e){if(e<1)return!1;var n=n3(t);return!(n&&e>366||!n&&e>365)}function tk(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Ab(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Xw={exports:{}},Qw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Qw,Qw.exports);var Zfe=Qw.exports;(function(t,e){var n=Dfe.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(Zfe);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Xw,Xw.exports);var epe=Xw.exports;const tpe=vS(epe);function npe(t,e,n){var r=qw(t,n),i=bS(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function rpe(t,e,n){if(typeof t=="string"&&!t.match(t3)){var r=tpe(n);return r.timeZone=e,qw(t,r)}var i=qw(t,n),s=yS(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=bS(e,new Date(s));return new Date(s+o)}function nk(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function ipe(t){return e=>na(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const spe=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(ipe(t))}catch{i=r.map(nk(e))}else i=r.map(nk(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},wS=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},r3=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=na(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},ope=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ar=t=>{const e=E(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},ape=t=>Object.assign({type:"dot"},t),i3=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,wg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},fr=t=>t,rk=t=>t===0?t:!t||isNaN(+t)?null:+t,ik=t=>t===null,lpe=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},upe=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Wh=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},vc=(t,e)=>upe(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ra=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},cpe=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function dpe(t,e){let n=[...document.querySelectorAll(cpe())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const hpe=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},sk=(t,e,n,r,i)=>{const s=Kw(t,e.slice(0,t.length),new Date);return Gd(s)&&DL(s)?r||i?s:Tn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},fpe=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return sk(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=sk(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},Se=t=>t?new Date(t):new Date,ppe=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Yr=t=>{let e=Se(JSON.parse(JSON.stringify(t)));return e=XL(e,0),e=QL(e,0),e=dS(e,0),e=cS(e,0),e},ia=(t,e,n,r)=>{let i=t?Se(t):Se();return(e||e===0)&&(i=XL(i,+e)),(n||n===0)&&(i=QL(i,+n)),(r||r===0)&&(i=dS(i,+r)),cS(i,0)},Pr=(t,e)=>!t||!e?!1:Hh(Yr(t),Yr(e)),Yt=(t,e)=>!t||!e?!1:Tu(Yr(t),Yr(e)),Hr=(t,e)=>!t||!e?!1:jh(Yr(t),Yr(e)),qv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Hr(n,t[0])&&Pr(n,t[1]):t!=null&&t[0]&&e?Hr(n,t[0])&&Pr(n,e)||Pr(n,t[0])&&Hr(n,e):!1,os=t=>{const e=Tn(new Date(t),{date:1});return Yr(e)},kb=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},el=t=>({hours:hs(t),minutes:Fs(t),seconds:mc(t)}),s3=(t,e)=>{if(e){const n=_t(Se(e));if(n>t)return 12;if(n===t)return Vt(Se(e))}},o3=(t,e)=>{if(e){const n=_t(Se(e));return n<t?-1:n===t?Vt(Se(e)):void 0}},yc=t=>{if(t)return _t(Se(t))},fs=(t,e)=>e?npe(t,e):t,a3=(t,e)=>e?rpe(t,e):t,mpe=t=>t instanceof Date?t:mfe(t),l3=(t,e)=>{const n=Hr(t,e)?e:t,r=Hr(e,t)?e:t;return RL({start:n,end:r})},gpe=t=>{const e=ds(t,1);return{month:Vt(e),year:_t(e)}},im=(t,e,n)=>{const r=El(fs(t,e),{weekStartsOn:+n}),i=ade(fs(t,e),{weekStartsOn:+n});return[r,i]},u3=(t,e)=>{const n={hours:hs(Se()),minutes:Fs(Se()),seconds:e?mc(Se()):0};return Object.assign(n,t)},qo=(t,e,n)=>[Tn(Se(t),{date:1}),Tn(Se(),{month:e,year:n,date:1})],ro=(t,e,n)=>{let r=t?Se(t):Se();return(e||e===0)&&(r=qL(r,e)),n&&(r=xs(r,n)),r},c3=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?ds(t,1):gc(t,1),o=[Vt(s),_t(s)];return i?!ype(...o,e):!vpe(...o,n)},vpe=(t,e,n)=>Pr(...qo(n,t,e))||Yt(...qo(n,t,e)),ype=(t,e,n)=>Hr(...qo(n,t,e))||Yt(...qo(n,t,e)),d3=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${na(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?na(t[1],s,a):""}`:na(t,s,a)},tu=t=>{if(t)return null;throw new Error(wg.prop("partial-range"))},Dp=(t,e)=>{if(e)return t();throw new Error(wg.prop("range"))},Jw=t=>Array.isArray(t)?Gd(t[0])&&(t[1]?Gd(t[1]):!0):t?Gd(t):!1,bpe=(t,e)=>Tn(e??Se(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Pb=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Hh(t,e):jh(t,e),s={seconds:0,milliseconds:0};return i||Tu(Tn(t,s),Tn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},xb=(t,e,n)=>t?bpe(t,e):Se(n??e),ok=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=xb(t,r[0],e),a=xb(t,r[1],e);return Pb(r[0],o,n,!!e)&&Pb(r[1],a,n,!!e)&&i}const s=xb(t,r,e);return Pb(r,s,n,!!e)&&i},Db=t=>Tn(Se(),el(t)),wpe=(t,e)=>Array.isArray(t)?t.map(n=>Se(n)).filter(n=>_t(Se(n))===e).map(n=>Vt(n)):[],h3=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),_S=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Zc=Mn({menuFocused:!1,shiftKeyInMenu:!1}),f3=()=>{const t=n=>{Zc.menuFocused=n},e=n=>{Zc.shiftKeyInMenu!==n&&(Zc.shiftKeyInMenu=n)};return{control:ee(()=>({shiftKeyInMenu:Zc.shiftKeyInMenu,menuFocused:Zc.menuFocused})),setMenuFocused:t,setShiftKey:e}},mn=Mn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Rb=oe(null),Rp=oe(!1),Nb=oe(!1),Mb=oe(!1),$b=oe(!1),Jr=oe(0),Tr=oe(0),_a=()=>{const t=ee(()=>Rp.value?[...mn.selectionGrid,mn.actionRow].filter(d=>d.length):Nb.value?[...mn.timePicker[0],...mn.timePicker[1],$b.value?[]:[Rb.value],mn.actionRow].filter(d=>d.length):Mb.value?[...mn.monthPicker,mn.actionRow]:[mn.monthYear,...mn.calendar,mn.time,mn.actionRow].filter(d=>d.length)),e=d=>{Jr.value=d?Jr.value+1:Jr.value-1;let h=null;t.value[Tr.value]&&(h=t.value[Tr.value][Jr.value]),h||(Jr.value=d?Jr.value-1:Jr.value+1)},n=d=>{Tr.value===0&&!d||Tr.value===t.value.length&&d||(Tr.value=d?Tr.value+1:Tr.value-1,t.value[Tr.value]?t.value[Tr.value]&&!t.value[Tr.value][Jr.value]&&Jr.value!==0&&(Jr.value=t.value[Tr.value].length-1):Tr.value=d?Tr.value-1:Tr.value+1)},r=d=>{let h=null;t.value[Tr.value]&&(h=t.value[Tr.value][Jr.value]),h?h.focus({preventScroll:!Rp.value}):Jr.value=d?Jr.value-1:Jr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{mn[h]=d},u=(d,h)=>{mn[h]=d},c=()=>{Jr.value=0,Tr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Rb.value=d},setSelectionGrid:d=>{Rp.value=d,c(),d||(mn.selectionGrid=[])},setTimePicker:(d,h=!1)=>{Nb.value=d,$b.value=h,c(),d||(mn.timePicker[0]=[],mn.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{mn.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{mn.monthYear=[],mn.calendar=[],mn.time=[],mn.actionRow=[],mn.selectionGrid=[],mn.timePicker[0]=[],mn.timePicker[1]=[],Rp.value=!1,Nb.value=!1,$b.value=!1,Mb.value=!1,c(),Rb.value=null},setMonthPicker:d=>{Mb.value=d,c()},refSets:mn}},ak=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),_pe=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),lk=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Tpe=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:lk(!1)};const r=e?t:{},i=e?r.count??!0:t,s=lk(i);return Object.assign(n,r,{count:s})},Spe=(t,e,n)=>t||(typeof n=="string"?n:e),Epe=t=>typeof t=="boolean"?t?ak({}):!1:ak(t),Ipe=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Cpe=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Ope=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Ape=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},kpe=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),Ppe=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>Se(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},xpe=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Xn=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>u3(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ee(()=>Tpe(t.multiCalendars)),o=ee(()=>i()),a=ee(()=>_pe(t.ariaLabels)),l=ee(()=>Cpe(t.filters)),u=ee(()=>Epe(t.transitions)),c=ee(()=>Ope(t.actionRow)),d=ee(()=>Spe(t.previewFormat,t.format,n())),h=ee(()=>Ipe(t.textInput)),f=ee(()=>Ape(t.inline)),p=ee(()=>kpe(t.config)),m=ee(()=>Ppe(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),v=ee(()=>xpe(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:v,getDefaultPattern:n,getDefaultStartTime:i}},Dpe=(t,e,n)=>{const r=oe(),{defaultedTextInput:i,getDefaultPattern:s}=Xn(e),o=oe(""),a=Wu(e,"format");Ot(r,()=>{t("internal-model-change",r.value)}),Ot(a,()=>{L()});const l=k=>a3(k,e.timezone),u=k=>fs(k,e.timezone),c=(k,re,ie=!1)=>d3(k,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,re??s(),ie),d=k=>k?e.modelType?P(k):{hours:hs(k),minutes:Fs(k),seconds:e.enableSeconds?mc(k):0}:null,h=k=>e.modelType?P(k):{month:Vt(k),year:_t(k)},f=k=>Array.isArray(k)?e.multiDates?k.map(re=>p(re,xs(Se(),re))):Dp(()=>[xs(Se(),k[0]),k[1]?xs(Se(),k[1]):tu(e.partialRange)],e.range):xs(Se(),+k),p=(k,re)=>(typeof k=="string"||typeof k=="number")&&e.modelType?A(k):re,m=k=>Array.isArray(k)?[p(k[0],ia(null,+k[0].hours,+k[0].minutes,k[0].seconds)),p(k[1],ia(null,+k[1].hours,+k[1].minutes,k[1].seconds))]:p(k,ia(null,k.hours,k.minutes,k.seconds)),v=k=>Array.isArray(k)?e.multiDates?k.map(re=>p(re,ro(null,+re.month,+re.year))):Dp(()=>[p(k[0],ro(null,+k[0].month,+k[0].year)),p(k[1],k[1]?ro(null,+k[1].month,+k[1].year):tu(e.partialRange))],e.range):p(k,ro(null,+k.month,+k.year)),y=k=>{if(Array.isArray(k))return k.map(re=>A(re));throw new Error(wg.dateArr("multi-dates"))},b=k=>{if(Array.isArray(k))return[Se(k[0]),Se(k[1])];throw new Error(wg.dateArr("week-picker"))},_=k=>e.modelAuto?Array.isArray(k)?[A(k[0]),A(k[1])]:e.autoApply?[A(k)]:[A(k),null]:Array.isArray(k)?Dp(()=>[A(k[0]),k[1]?A(k[1]):tu(e.partialRange)],e.range):A(k),w=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(tu(e.partialRange))},T=()=>{const k=r.value;return[P(k[0]),k[1]?P(k[1]):tu(e.partialRange)]},S=()=>r.value[1]?T():P(fr(r.value[0])),O=()=>(r.value||[]).map(k=>P(k)),R=()=>(w(),e.modelAuto?S():e.multiDates?O():Array.isArray(r.value)?Dp(()=>T(),e.range):P(fr(r.value))),D=k=>!k||Array.isArray(k)&&!k.length?null:e.timePicker?m(fr(k)):e.monthPicker?v(fr(k)):e.yearPicker?f(fr(k)):e.multiDates?y(fr(k)):e.weekPicker?b(fr(k)):_(fr(k)),C=k=>{const re=D(k);Jw(fr(re))?(r.value=fr(re),L()):(r.value=null,o.value="")},M=()=>{const k=re=>na(re,i.value.format);return`${k(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?k(r.value[1]):""}`},V=()=>n.value&&r.value?Array.isArray(r.value)?M():na(r.value,i.value.format):c(r.value),W=()=>r.value?e.multiDates?r.value.map(k=>c(k)).join("; "):i.value.enabled&&typeof i.value.format=="string"?V():c(r.value):"",L=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=W():o.value=e.format(r.value)},A=k=>{if(e.utc){const re=new Date(k);return e.utc==="preserve"?new Date(re.getTime()+re.getTimezoneOffset()*6e4):re}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(k)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Kw(k,s(),new Date):u(Kw(k,e.modelType,new Date)):u(new Date(k))},P=k=>k?e.utc?ppe(k,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(k):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(k)):c(l(k),e.modelType,!0):l(k):"",K=(k,re=!1)=>{if(t("update:model-value",k),e.emitTimezone&&re){const ie=Array.isArray(k)?k.map(ve=>fs(fr(ve)),e.emitTimezone):fs(fr(k),e.emitTimezone);t("update:model-timezone-value",ie)}},X=k=>Array.isArray(r.value)?e.multiDates?r.value.map(re=>k(re)):[k(r.value[0]),r.value[1]?k(r.value[1]):tu(e.partialRange)]:k(fr(r.value)),B=k=>K(fr(X(k)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:C,formatInputValue:L,emitModelValue:()=>(L(),e.monthPicker?B(h):e.timePicker?B(d):e.yearPicker?B(_t):e.weekPicker?K(r.value.map(k=>P(k)),!0):K(R(),!0))}},Rpe=(t,e)=>{const{defaultedFilters:n}=Xn(t),{validateMonthYearInRange:r}=jl(t),i=(u,c)=>{let d=u;return n.value.months.includes(Vt(d))?(d=c?ds(u,1):gc(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(_t(d))?(d=c?iS(u,1):JL(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=Tn(new Date,{month:t.month,year:t.year});let h=u?ds(d,1):gc(d,1);t.disableYearSelect&&(h=xs(h,t.year));let f=Vt(h),p=_t(h);n.value.months.includes(f)&&(h=i(h,u),f=Vt(h),p=_t(h)),n.value.years.includes(p)&&(h=s(h,u),p=_t(h)),r(f,p,u,t.preventMinMaxNavigation)&&a(f,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ee(()=>u=>c3(Tn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var cu=(t=>(t.center="center",t.left="left",t.right="right",t))(cu||{}),es=(t=>(t.month="month",t.year="year",t))(es||{}),Ra=(t=>(t.top="top",t.bottom="bottom",t))(Ra||{}),tl=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(tl||{}),_s=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(_s||{});const Npe=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=oe({}),u=oe(!1),c=oe({top:"0",left:"0"}),d=oe(!1),h=Wu(o,"teleportCenter");Ot(h,()=>{c.value=JSON.parse(JSON.stringify({})),w()});const f=A=>{if(o.teleport){const P=A.getBoundingClientRect();return{left:P.left+window.scrollX,top:P.top+window.scrollY}}return{top:0,left:0}},p=(A,P)=>{c.value.left=`${A+P-l.value.width}px`},m=A=>{c.value.left=`${A}px`},v=(A,P)=>{o.position===cu.left&&m(A),o.position===cu.right&&p(A,P),o.position===cu.center&&(c.value.left=`${A+P/2-l.value.width/2}px`)},y=A=>{const{width:P,height:K}=A.getBoundingClientRect(),{top:X,left:B}=o.altPosition?o.altPosition(A):f(A);return{top:+X,left:+B,width:P,height:K}},b=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const A=ar(n),{top:P,left:K,transform:X}=o.altPosition(A);c.value={top:`${P}px`,left:`${K}px`,transform:X??""}},w=(A=!0)=>{var P;if(!i.value.enabled){if(h.value)return b();if(o.altPosition!==null)return _();if(A){const K=o.teleport?(P=e.value)==null?void 0:P.$el:t.value;K&&(l.value=K.getBoundingClientRect()),s("recalculate-position")}return M()}},T=({inputEl:A,left:P,width:K})=>{window.screen.width>768&&!u.value&&v(P,K),R(A)},S=A=>{const{top:P,left:K,height:X,width:B}=y(A);c.value.top=`${X+P+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${K+B/2-l.value.width/2}px`),T({inputEl:A,left:K,width:B})},O=A=>{const{top:P,left:K,width:X}=y(A);c.value.top=`${P-+o.offset-l.value.height}px`,d.value=!0,T({inputEl:A,left:K,width:X})},R=A=>{if(o.autoPosition){const{left:P,width:K}=y(A),{left:X,right:B}=l.value;if(!u.value){if(Math.abs(X)!==Math.abs(B)){if(X<=0)return u.value=!0,m(P);if(B>=document.documentElement.clientWidth)return u.value=!0,p(P,K)}return v(P,K)}}},D=()=>{const A=ar(n);if(A){const{height:P}=l.value,{top:K,height:X}=A.getBoundingClientRect(),B=window.innerHeight-K-X,k=K;return P<=B?Ra.bottom:P>B&&P<=k?Ra.top:B>=k?Ra.bottom:Ra.top}return Ra.bottom},C=A=>D()===Ra.bottom?S(A):O(A),M=()=>{const A=ar(n);if(A)return o.autoPosition?C(A):S(A)},V=function(A){if(A){const P=A.scrollHeight>A.clientHeight,K=window.getComputedStyle(A).overflowY.indexOf("hidden")!==-1;return P&&!K}return!0},W=function(A){return!A||A===document.body||A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:V(A)?A:W(A.parentNode)},L=A=>{if(A)switch(o.position){case cu.left:return{left:0,transform:"translateX(0)"};case cu.right:return{left:`${A.width}px`,transform:"translateX(-100%)"};default:return{left:`${A.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:w,getScrollableParent:W,shadowRender:(A,P)=>{var K,X,B;const k=document.createElement("div"),re=(K=ar(n))==null?void 0:K.getBoundingClientRect();k.setAttribute("id","dp--temp-container");const ie=(X=r.value)!=null&&X.clientWidth?r.value:document.body;ie.append(k);const ve=L(re),ye=al(A,{...P,shadow:!0,style:{opacity:0,position:"absolute",...ve}},Object.fromEntries(Object.keys(a).filter(se=>["right-sidebar","left-sidebar"].includes(se)).map(se=>[se,a[se]])));ll(ye,k),l.value=(B=ye.el)==null?void 0:B.getBoundingClientRect(),ll(null,k),ie.removeChild(k)}}},xo=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Mpe=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],$pe={all:()=>xo,monthYear:()=>xo.filter(t=>t.use.includes("month-year")),input:()=>Mpe,timePicker:()=>xo.filter(t=>t.use.includes("time")),action:()=>xo.filter(t=>t.use.includes("action")),calendar:()=>xo.filter(t=>t.use.includes("calendar")),menu:()=>xo.filter(t=>t.use.includes("menu")),shared:()=>xo.filter(t=>t.use.includes("shared")),yearMode:()=>xo.filter(t=>t.use.includes("year-mode"))},ki=(t,e,n)=>{const r=[];return $pe[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Ff=t=>{const e=ee(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ee(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Vf=(t,e)=>{const n=Se(fs(new Date,t.timezone)),r=oe([{month:Vt(n),year:_t(n)}]),i=Mn({hours:t.range?[hs(n),hs(n)]:hs(n),minutes:t.range?[Fs(n),Fs(n)]:Fs(n),seconds:t.range?[0,0]:0}),s=ee({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ee(()=>l=>r.value[l]?r.value[l].month:0),a=ee(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},Lpe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Xn(e),{isDisabled:i,matchDate:s}=jl(e),o=oe(null),a=oe(Se(fs(new Date,e.timezone))),l=B=>{!B.current&&e.hideOffsetDates||(o.value=B.value)},u=()=>{o.value=null},c=B=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?B?Hr(o.value,t.value[0]):Pr(o.value,t.value[0]):!0,d=(B,k)=>{const re=()=>t.value?k?t.value[0]||null:t.value[1]:null,ie=t.value&&Array.isArray(t.value)?re():null;return Yt(Se(B.value),ie)},h=B=>{const k=Array.isArray(t.value)?t.value[0]:null;return B?!Pr(o.value??null,k):!0},f=(B,k=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!B.current?!1:Yt(Se(B.value),t.value[k?0:1]):e.range?d(B,k)&&h(k)||Yt(B.value,Array.isArray(t.value)?t.value[0]:null)&&c(k):!1,p=(B,k,re)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?B?!1:re?Hr(t.value[0],k.value):Pr(t.value[0],k.value):!1,m=B=>!t.value||e.hideOffsetDates&&!B.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Yt(B.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(k=>Yt(k,B.value)):Yt(B.value,t.value?t.value:a.value),v=B=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!B.current)return!1;const k=Js(o.value,+e.autoRange),re=im(Se(o.value),e.timezone,e.weekStart);return e.weekPicker?Yt(re[1],Se(B.value)):Yt(k,Se(B.value))}return!1}return!1},y=B=>{if(e.autoRange||e.weekPicker){if(o.value){const k=Js(o.value,+e.autoRange);if(e.hideOffsetDates&&!B.current)return!1;const re=im(Se(o.value),e.timezone,e.weekStart);return e.weekPicker?Hr(B.value,re[0])&&Pr(B.value,re[1]):Hr(B.value,o.value)&&Pr(B.value,k)}return!1}return!1},b=B=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!B.current)return!1;const k=im(Se(o.value),e.timezone,e.weekStart);return e.weekPicker?Yt(k[0],B.value):Yt(o.value,B.value)}return!1}return!1},_=B=>qv(t.value,o.value,B.value),w=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,T=()=>e.modelAuto?i3(e.internalModelValue):!0,S=B=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const k=e.range?!f(B)&&!f(B,!1):!0;return!i(B.value)&&!m(B)&&!(!B.current&&e.hideOffsetDates)&&k},O=B=>e.range?e.modelAuto?w()&&m(B):!1:m(B),R=B=>{var k;return r.value?typeof r.value=="function"?r.value(B.value):s(B.value,(k=e.arrMapValues)!=null&&k.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},D=B=>{const k=i(B.value);return k&&(typeof r.value=="function"?!r.value(B.value,k):!r.value.options.highlightDisabled)},C=B=>{var k;return typeof r.value=="function"?r.value(B.value):(k=r.value.weekdays)==null?void 0:k.includes(B.value.getDay())},M=B=>(e.range||e.weekPicker)&&(!(n.value.count>0)||B.current)&&T()&&!(!B.current&&e.hideOffsetDates)&&!m(B)?_(B):!1,V=B=>{const{isRangeStart:k,isRangeEnd:re}=A(B),ie=e.range?k||re:!1;return{dp__cell_offset:!B.current,dp__pointer:!e.disabled&&!(!B.current&&e.hideOffsetDates)&&!i(B.value),dp__cell_disabled:i(B.value),dp__cell_highlight:!D(B)&&(R(B)||C(B))&&!O(B)&&!ie&&!b(B)&&!(M(B)&&e.weekPicker)&&!re,dp__cell_highlight_active:!D(B)&&(R(B)||C(B))&&O(B),dp__today:!e.noToday&&Yt(B.value,a.value)&&B.current}},W=B=>({dp__active_date:O(B),dp__date_hover:S(B)}),L=B=>({...P(B),...K(B),dp__range_between_week:M(B)&&e.weekPicker}),A=B=>{const k=n.value.count>0?B.current&&f(B)&&T():f(B)&&T(),re=n.value.count>0?B.current&&f(B,!1)&&T():f(B,!1)&&T();return{isRangeStart:k,isRangeEnd:re}},P=B=>{const{isRangeStart:k,isRangeEnd:re}=A(B);return{dp__range_start:k,dp__range_end:re,dp__range_between:M(B)&&!e.weekPicker,dp__date_hover_start:p(S(B),B,!0),dp__date_hover_end:p(S(B),B,!1)}},K=B=>({...P(B),dp__cell_auto_range:y(B),dp__cell_auto_range_start:b(B),dp__cell_auto_range_end:v(B)}),X=B=>e.range?e.autoRange?K(B):e.modelAuto?{...W(B),...P(B)}:P(B):e.weekPicker?L(B):W(B);return{setHoverDate:l,clearHoverDate:u,getDayClassData:B=>e.hideOffsetDates&&!B.current?{}:{...V(B),...X(B),[e.dayClass?e.dayClass(B.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},jl=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Xn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=C=>{const M=Yr(s(Se(C))).toISOString(),[V]=M.split("T");return V},s=C=>t.utc==="preserve"?a3(C,r()):fs(C,r()),o=C=>{var M;const V=t.maxDate?Hr(C,s(Se(t.maxDate))):!1,W=t.minDate?Pr(C,s(Se(t.minDate))):!1,L=c(s(C),(M=t.arrMapValues)!=null&&M.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),A=e.value.months.map(k=>+k).includes(Vt(C)),P=t.disabledWeekDays.length?t.disabledWeekDays.some(k=>+k===che(C)):!1,K=h(C),X=_t(C),B=X<+t.yearRange[0]||X>+t.yearRange[1];return!(V||W||L||A||B||P||K)},a=(C,M)=>Pr(...qo(t.minDate,C,M))||Yt(...qo(t.minDate,C,M)),l=(C,M)=>Hr(...qo(t.maxDate,C,M))||Yt(...qo(t.maxDate,C,M)),u=(C,M,V)=>{let W=!1;return t.maxDate&&V&&l(C,M)&&(W=!0),t.minDate&&!V&&a(C,M)&&(W=!0),W},c=(C,M)=>C?M instanceof Map?!!M.get(i(C)):Array.isArray(M)?M.some(V=>Yt(s(Se(V)),C)):M?M(Se(JSON.parse(JSON.stringify(C)))):!1:!0,d=(C,M,V,W)=>{let L=!1;return W?t.minDate&&t.maxDate?L=u(C,M,V):(t.minDate&&a(C,M)||t.maxDate&&l(C,M))&&(L=!0):L=!0,L},h=C=>{var M,V,W,L,A;return Array.isArray(t.allowedDates)&&!((M=t.allowedDates)!=null&&M.length)?!0:(V=t.arrMapValues)!=null&&V.allowedDates?!c(C,(W=t.arrMapValues)==null?void 0:W.allowedDates):(L=t.allowedDates)!=null&&L.length?!((A=t.allowedDates)!=null&&A.some(P=>Yt(Yr(P),s(Yr(C))))):!1},f=C=>!o(C),p=C=>t.noDisabledRange?!RL({start:C[0],end:C[1]}).some(M=>f(M)):!0,m=(C,M,V=0)=>{if(Array.isArray(M)&&M[V]){const W=tde(C,M[V]),L=l3(M[V],C),A=L.length===1?0:L.filter(K=>f(K)).length,P=Math.abs(W)-A;if(t.minRange&&t.maxRange)return P>=+t.minRange&&P<=+t.maxRange;if(t.minRange)return P>=+t.minRange;if(t.maxRange)return P<=+t.maxRange}return!0},v=C=>new Map(C.map(M=>[i(M),!0])),y=C=>Array.isArray(C)&&C.length>0,b=()=>{const C={disabledDates:null,allowedDates:null,highlightedDates:null};return y(t.allowedDates)&&(C.allowedDates=v(t.allowedDates)),typeof n.value!="function"&&y(n.value.dates)&&(C.highlightedDates=v(n.value.dates)),y(t.disabledDates)&&(C.disabledDates=v(t.disabledDates)),C},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,w=C=>Array.isArray(C)?[C[0]?Db(C[0]):null,C[1]?Db(C[1]):null]:Db(C),T=(C,M,V)=>C.find(W=>+W.hours===hs(M)&&W.minutes==="*"?!0:+W.minutes===Fs(M)&&+W.hours===hs(M))&&V,S=(C,M,V)=>{const[W,L]=C,[A,P]=M;return!T(W,A,V)&&!T(L,P,V)&&V},O=(C,M)=>{const V=Array.isArray(M)?M:[M];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?S(t.disabledTimes,V,C):!V.some(W=>T(t.disabledTimes,W,C)):C},R=(C,M)=>{const V=Array.isArray(M)?[el(M[0]),M[1]?el(M[1]):void 0]:el(M),W=!t.disabledTimes(V);return C&&W},D=(C,M)=>t.disabledTimes?Array.isArray(t.disabledTimes)?O(M,C):R(M,C):M;return{isDisabled:f,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:m,matchDate:c,mapDatesArrToMap:b,isValidTime:C=>{let M=!0;if(!C||_())return!0;const V=!t.minDate&&!t.maxDate?w(C):C;return(t.maxTime||t.maxDate)&&(M=ok(t.maxTime,t.maxDate,"max",fr(V),M)),(t.minTime||t.minDate)&&(M=ok(t.minTime,t.minDate,"min",fr(V),M)),D(C,M)}}},Xv=()=>{const t=ee(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ee(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ee(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},Fpe=(t,e,n)=>{const r=oe(0),i=Mn({[tl.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[tl.calendar]:!1,[tl.header]:!1}),s=ee(()=>t.monthPicker),o=d=>{var h;if((h=t.flow)!=null&&h.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(f=>!i[f]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,h,...f)=>{t.flow[r.value]===d&&n.value&&n.value[h](...f)},c=()=>{u(_s.month,"toggleMonthPicker",!0),u(_s.year,"toggleYearPicker",!0),u(_s.calendar,"toggleTimePicker",!1,!0),u(_s.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===_s.hours||d===_s.minutes||d===_s.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Qv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},ys={...Qv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},Vpe={key:1,class:"dp__input_wrap"},Upe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Bpe={key:2,class:"dp__clear_icon"},jpe=Ce({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Qv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Xn(i),{checkMinMaxRange:d}=jl(i),h=oe(),f=oe(null),p=oe(!1),m=oe(!1),v=ee(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:p.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),h.value=null)},b=L=>{const A=c();return fpe(L,s.value.format??u(),A??u3({},i.enableSeconds),i.inputValue,m.value)},_=L=>{const{rangeSeparator:A}=s.value,[P,K]=L.split(`${A}`);if(P){const X=b(P.trim()),B=K?b(K.trim()):null,k=X&&B?[X,B]:[X];d(B,k,0)&&(h.value=X?k:null)}},w=()=>{m.value=!0},T=L=>{if(i.range)_(L);else if(i.multiDates){const A=L.split(";");h.value=A.map(P=>b(P.trim())).filter(P=>P)}else h.value=b(L)},S=L=>{var A;const P=typeof L=="string"?L:(A=L.target)==null?void 0:A.value;P!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),T(P),r("set-input-date",h.value)):y(),m.value=!1,r("update:input-value",P)},O=L=>{s.value.enabled?(T(L.target.value),s.value.enterSubmit&&Jw(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0),h.value=null):s.value.enterSubmit&&i.inputValue===""&&(h.value=null,r("clear"))):C(L)},R=L=>{s.value.enabled&&s.value.tabSubmit&&T(L.target.value),s.value.tabSubmit&&Jw(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0,!0),h.value=null):s.value.tabSubmit&&i.inputValue===""&&(h.value=null,r("clear",!0))},D=()=>{var L;p.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((L=f.value)==null||L.select())},C=L=>{L.preventDefault(),ra(L,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},M=()=>{r("real-blur"),p.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&h.value&&!i.isMenuOpen&&(r("set-input-date",h.value),r("select-date"),h.value=null)},V=L=>{ra(L,l.value,!0),r("clear")},W=L=>{if(!s.value.enabled){if(L.code==="Tab")return;L.preventDefault()}};return e({focusInput:()=>{var L;(L=f.value)==null||L.focus({preventScroll:!0})},setParsedDate:L=>{h.value=L}}),(L,A)=>{var P;return I(),F("div",{onClick:C},[L.$slots.trigger&&!L.$slots["dp-input"]&&!E(a).enabled?fe(L.$slots,"trigger",{key:0}):q("",!0),!L.$slots.trigger&&(!E(a).enabled||E(a).input)?(I(),F("div",Vpe,[L.$slots["dp-input"]&&!L.$slots.trigger&&!E(a).enabled?fe(L.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:S,onEnter:O,onTab:R,onClear:V,onBlur:M,onKeypress:W,onPaste:w,openMenu:()=>L.$emit("open"),closeMenu:()=>L.$emit("close"),toggleMenu:()=>L.$emit("toggle")}):q("",!0),L.$slots["dp-input"]?q("",!0):(I(),F("input",{key:1,id:L.uid?`dp-input-${L.uid}`:void 0,ref_key:"inputRef",ref:f,name:L.name,class:Pe(v.value),inputmode:E(s).enabled?"text":"none",placeholder:L.placeholder,disabled:L.disabled,readonly:L.readonly,required:L.required,value:t.inputValue,autocomplete:L.autocomplete,"aria-label":(P=E(o))==null?void 0:P.input,"aria-disabled":L.disabled||void 0,"aria-invalid":L.state===!1?!0:void 0,onInput:S,onKeydown:[ht(O,["enter"]),ht(R,["tab"]),W],onBlur:M,onFocus:D,onKeypress:W,onPaste:w},null,42,Upe)),g("div",{onClick:A[2]||(A[2]=K=>r("toggle"))},[L.$slots["input-icon"]&&!L.hideInputIcon?(I(),F("span",{key:0,class:"dp__input_icon",onClick:A[0]||(A[0]=K=>r("toggle"))},[fe(L.$slots,"input-icon")])):q("",!0),!L.$slots["input-icon"]&&!L.hideInputIcon&&!L.$slots["dp-input"]?(I(),ne(E(Rc),{key:1,class:"dp__input_icon dp__input_icons",onClick:A[1]||(A[1]=K=>r("toggle"))})):q("",!0)]),L.$slots["clear-icon"]&&t.inputValue&&L.clearable&&!L.disabled&&!L.readonly?(I(),F("span",Bpe,[fe(L.$slots,"clear-icon",{clear:V})])):q("",!0),L.clearable&&!L.$slots["clear-icon"]&&t.inputValue&&!L.disabled&&!L.readonly?(I(),ne(E(ZL),{key:3,class:"dp__clear_icon dp__input_icons",onClick:A[3]||(A[3]=Tt(K=>V(K),["prevent"]))})):q("",!0)])):q("",!0)])}}}),Hpe=["title"],Wpe={class:"dp__action_buttons"},Kpe=["disabled"],zpe=Ce({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ys},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Xn(r),{isValidTime:c}=jl(r),{buildMatrix:d}=_a(),h=oe(null),f=oe(null);jt(()=>{r.arrowNavigation&&d([ar(h),ar(f)],"actionRow")});const p=ee(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),m=ee(()=>!v.value||!y.value||!p.value),v=ee(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),y=ee(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(C=>!R(C)).length:R(r.internalModelValue):!0),b=()=>{const C=s.value;return r.timePicker||r.monthPicker,C(fr(r.internalModelValue))},_=()=>{const C=r.internalModelValue;return o.value.count>0?`${w(C[0])} - ${w(C[1])}`:[w(C[0]),w(C[1])]},w=C=>d3(C,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),T=ee(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?_():r.multiDates?r.internalModelValue.map(C=>`${w(C)}`):r.modelAuto?`${w(r.internalModelValue[0])}`:`${w(r.internalModelValue[0])} -`:w(r.internalModelValue):b()),S=()=>r.multiDates?"; ":" - ",O=ee(()=>Array.isArray(T.value)?T.value.join(S()):T.value),R=C=>{if(!r.monthPicker)return!0;let M=!0;const V=Se(os(C));if(r.minDate&&r.maxDate){const W=Se(os(r.minDate)),L=Se(os(r.maxDate));return Hr(V,W)&&Pr(V,L)||Yt(V,W)||Yt(V,L)}if(r.minDate){const W=Se(os(r.minDate));M=Hr(V,W)||Yt(V,W)}if(r.maxDate){const W=Se(os(r.maxDate));M=Pr(V,W)||Yt(V,W)}return M},D=()=>{v.value&&y.value&&p.value?n("select-date"):n("invalid-select")};return(C,M)=>(I(),F("div",{class:"dp__action_row",style:dn(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[C.$slots["action-row"]?fe(C.$slots,"action-row",Nn(ae({key:0},{internalModelValue:C.internalModelValue,disabled:m.value,selectDate:()=>C.$emit("select-date"),closePicker:()=>C.$emit("close-picker")}))):(I(),F(we,{key:1},[E(i).showPreview?(I(),F("div",{key:0,class:"dp__selection_preview",title:O.value},[C.$slots["action-preview"]?fe(C.$slots,"action-preview",{key:0,value:C.internalModelValue}):q("",!0),C.$slots["action-preview"]?q("",!0):(I(),F(we,{key:1},[N(Me(O.value),1)],64))],8,Hpe)):q("",!0),g("div",Wpe,[C.$slots["action-buttons"]?fe(C.$slots,"action-buttons",{key:0,value:C.internalModelValue}):q("",!0),C.$slots["action-buttons"]?q("",!0):(I(),F(we,{key:1},[!E(l).enabled&&E(i).showCancel?(I(),F("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[0]||(M[0]=V=>C.$emit("close-picker")),onKeydown:[M[1]||(M[1]=ht(V=>C.$emit("close-picker"),["enter"])),M[2]||(M[2]=ht(V=>C.$emit("close-picker"),["space"]))]},Me(C.cancelText),545)):q("",!0),E(i).showNow?(I(),F("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[3]||(M[3]=V=>C.$emit("select-now")),onKeydown:[M[4]||(M[4]=ht(V=>C.$emit("select-now"),["enter"])),M[5]||(M[5]=ht(V=>C.$emit("select-now"),["space"]))]},Me(C.nowButtonLabel),545)):q("",!0),E(i).showSelect?(I(),F("button",{key:2,ref_key:"selectButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_select",disabled:m.value,onKeydown:[ht(D,["enter"]),ht(D,["space"])],onClick:D},Me(C.selectText),41,Kpe)):q("",!0)],64))])],64))],4))}}),Gpe=["onKeydown"],Ype={class:"dp__selection_grid_header"},qpe=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Xpe=["aria-label"],Uf=Ce({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=_a(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Xn(a),{hideNavigationButtons:d}=Xv(),h=oe(!1),f=oe(null),p=oe(null),m=oe([]),v=oe(),y=oe(null),b=oe(0),_=oe(null);C1(()=>{f.value=null}),jt(()=>{qn().then(()=>M()),a.noOverlayFocus||T(),w(!0)}),Hs(()=>w(!1));const w=B=>{var k;a.arrowNavigation&&((k=a.headerRefs)!=null&&k.length?s(B):r(B))},T=()=>{var B;const k=ar(p);k&&(u.value.enabled||(f.value?(B=f.value)==null||B.focus({preventScroll:!0}):k.focus({preventScroll:!0})),h.value=k.clientHeight<k.scrollHeight)},S=ee(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),O=ee(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),R=ee(()=>({dp__overlay_col:!0})),D=ee(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),C=ee(()=>{var B,k;return{dp__overlay_container:!0,dp__container_flex:((B=a.items)==null?void 0:B.length)<=6,dp__container_block:((k=a.items)==null?void 0:k.length)>6}});Ot(()=>a.items,()=>M(),{deep:!0});const M=()=>{qn().then(()=>{const B=ar(f),k=ar(p),re=ar(y),ie=ar(_),ve=re?re.getBoundingClientRect().height:0;k&&(k.getBoundingClientRect().height?b.value=k.getBoundingClientRect().height-ve:b.value=c.value.modeHeight-ve),B&&ie&&(ie.scrollTop=B.offsetTop-ie.offsetTop-(b.value/2-B.getBoundingClientRect().height)-ve)})},V=B=>{B.disabled||o("selected",B.value)},W=()=>{o("toggle"),o("reset-flow")},L=()=>{a.escClose&&W()},A=(B,k,re,ie)=>{B&&((k.active||k.value===a.focusValue)&&(f.value=B),a.arrowNavigation&&(Array.isArray(m.value[re])?m.value[re][ie]=B:m.value[re]=[B],P()))},P=()=>{var B,k;const re=(B=a.headerRefs)!=null&&B.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[y.value]]);i(fr(re),(k=a.headerRefs)!=null&&k.length?"monthPicker":"selectionGrid")},K=B=>{a.arrowNavigation||ra(B,c.value,!0)},X=B=>{v.value=B,o("hover-value",B)};return e({focusGrid:T}),(B,k)=>{var re;return I(),F("div",{ref_key:"gridWrapRef",ref:p,class:Pe(S.value),style:dn(O.value),role:"dialog",tabindex:"0",onKeydown:[ht(Tt(L,["prevent"]),["esc"]),k[0]||(k[0]=ht(Tt(ie=>K(ie),["prevent"]),["left"])),k[1]||(k[1]=ht(Tt(ie=>K(ie),["prevent"]),["up"])),k[2]||(k[2]=ht(Tt(ie=>K(ie),["prevent"]),["down"])),k[3]||(k[3]=ht(Tt(ie=>K(ie),["prevent"]),["right"]))]},[g("div",{ref_key:"containerRef",ref:_,class:Pe(C.value),role:"grid",style:dn({height:`${b.value}px`})},[g("div",Ype,[fe(B.$slots,"header")]),B.$slots.overlay?fe(B.$slots,"overlay",{key:0}):(I(!0),F(we,{key:1},nt(B.items,(ie,ve)=>(I(),F("div",{key:ve,class:Pe(["dp__overlay_row",{dp__flex_row:B.items.length>=3}]),role:"row"},[(I(!0),F(we,null,nt(ie,(ye,se)=>(I(),F("div",{key:ye.value,ref_for:!0,ref:z=>A(z,ye,ve,se),role:"gridcell",class:Pe(R.value),"aria-selected":ye.active,"aria-disabled":ye.disabled||void 0,tabindex:"0",onClick:z=>V(ye),onKeydown:[ht(Tt(z=>V(ye),["prevent"]),["enter"]),ht(Tt(z=>V(ye),["prevent"]),["space"])],onMouseover:z=>X(ye.value)},[g("div",{class:Pe(ye.className)},[B.$slots.item?fe(B.$slots,"item",{key:0,item:ye}):q("",!0),B.$slots.item?q("",!0):(I(),F(we,{key:1},[N(Me(ye.text),1)],64))],2)],42,qpe))),128))],2))),128))],6),B.$slots["button-icon"]?vi((I(),F("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(re=E(l))==null?void 0:re.toggleOverlay,class:Pe(D.value),tabindex:"0",onClick:W,onKeydown:[ht(W,["enter"]),ht(W,["tab"])]},[fe(B.$slots,"button-icon")],42,Xpe)),[[Rs,!E(d)(B.hideNavigation,B.type)]]):q("",!0)],46,Gpe)}}}),Jv=Ce({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ee(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ee(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(I(),F("div",{class:Pe({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(I(!0),F(we,null,nt(n.value,(o,a)=>(I(),F("div",{key:o,class:Pe(r.value)},[fe(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),Qpe=["aria-label","aria-disabled"],Yd=Ce({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=oe(null);return jt(()=>n("set-ref",r)),(i,s)=>(I(),F("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=ht(Tt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=ht(Tt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[g("span",{class:Pe(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[fe(i.$slots,"default")],2)],40,Qpe))}}),Jpe={class:"dp--year-mode-picker"},Zpe=["aria-label"],p3=Ce({__name:"YearModePicker",props:{...ys,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Xv(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Xn(r),{showTransition:c,transitionName:d}=Ff(u),h=(m=!1,v)=>{n("toggle-year-picker",{flow:m,show:v})},f=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,v)=>{var y,b,_;return I(),F("div",Jpe,[E(s)(E(a),t.instance)?(I(),ne(Yd,{key:0,ref:"mpPrevIconRef","aria-label":(y=E(l))==null?void 0:y.prevYear,disabled:t.isDisabled(!1),onActivate:v[0]||(v[0]=w=>p(!1))},{default:j(()=>[m.$slots["arrow-left"]?fe(m.$slots,"arrow-left",{key:0}):q("",!0),m.$slots["arrow-left"]?q("",!0):(I(),ne(E(hS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),g("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(b=E(l))==null?void 0:b.openYearsOverlay,onClick:v[1]||(v[1]=()=>h(!1)),onKeydown:v[2]||(v[2]=ht(()=>h(!1),["enter"]))},[m.$slots.year?fe(m.$slots,"year",{key:0,year:t.year}):q("",!0),m.$slots.year?q("",!0):(I(),F(we,{key:1},[N(Me(t.year),1)],64))],40,Zpe),E(i)(E(a),t.instance)?(I(),ne(Yd,{key:1,ref:"mpNextIconRef","aria-label":(_=E(l))==null?void 0:_.nextYear,disabled:t.isDisabled(!0),onActivate:v[3]||(v[3]=w=>p(!0))},{default:j(()=>[m.$slots["arrow-right"]?fe(m.$slots,"arrow-right",{key:0}):q("",!0),m.$slots["arrow-right"]?q("",!0):(I(),ne(E(fS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),$(Xi,{name:E(d)(t.showYearPicker),css:E(c)},{default:j(()=>[t.showYearPicker?(I(),ne(Uf,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!E(o).keepActionRow,"hide-navigation":m.hideNavigation,type:"year",onToggle:h,onSelected:v[4]||(v[4]=w=>f(w))},rr({"button-icon":j(()=>[m.$slots["calendar-icon"]?fe(m.$slots,"calendar-icon",{key:0}):q("",!0),m.$slots["calendar-icon"]?q("",!0):(I(),ne(E(Rc),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:j(({item:w})=>[fe(m.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):q("",!0)]),_:3},8,["name","css"])])}}}),TS=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Yt(t,r))){const r=e.value.filter(i=>!Yt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},SS=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Pr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Zv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},m3=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>fs(Se(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=fs(Se(t.value),t.timezone))},g3=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ee(()=>wS(i.yearRange,i.reverseYears)),u=oe([!1]),c=ee(()=>(w,T)=>{const S=Tn(os(new Date),{month:o.value(w),year:s.value(w)});return c3(S,i.maxDate,i.minDate,i.preventMinMaxNavigation,T)}),d=()=>{for(let w=0;w<t.value.count;w++)if(w===0)n.value[w]=n.value[0];else{const T=Tn(Se(),n.value[w-1]);n.value[w]={month:Vt(T),year:_t(iS(T,1))}}},h=w=>{if(!w)return d();const T=Tn(Se(),n.value[w]);return n.value[0].year=_t(JL(T,t.value.count-1)),d()},f=w=>i.focusStartDate?w[0]:w[1]?w[1]:w[0],p=()=>{if(r.value){const w=Array.isArray(r.value)?f(r.value):r.value;n.value[0]={month:Vt(w),year:_t(w)}}};jt(()=>{p(),t.value.count&&d()});const m=(w,T)=>{n.value[T].year=w,t.value.count&&!t.value.solo&&h(T)},v=ee(()=>w=>vc(l.value,T=>{const S=s.value(w)===T.value,O=Wh(T.value,yc(i.minDate),yc(i.maxDate)),R=_S(e.value,T.value);return{active:S,disabled:O,highlighted:R}})),y=(w,T)=>{m(w,T),_(T)},b=(w,T=!1)=>{if(!c.value(w,T)){const S=T?s.value(w)+1:s.value(w)-1;m(S,w)}},_=(w,T=!1,S)=>{T||a("reset-flow"),S!==void 0?u.value[w]=S:u.value[w]=!u.value[w],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:v,showYearPicker:u,selectYear:m,toggleYearPicker:_,handleYearSelect:y,handleYear:b}},eme=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Xn(t),{modelValue:a,year:l,month:u,calendars:c}=Vf(t,e),d=ee(()=>r3(t.formatLocale,t.locale,t.monthNameFormat)),h=oe(null),{selectYear:f,groupedYears:p,showYearPicker:m,toggleYearPicker:v,handleYearSelect:y,handleYear:b,isDisabled:_}=g3({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});jt(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&f(_t(Se(t.startDate)),0)});const w=K=>K?{month:Vt(K),year:_t(K)}:{month:null,year:null},T=()=>a.value?Array.isArray(a.value)?a.value.map(K=>w(K)):w(a.value):w(),S=(K,X)=>{const B=c.value[K],k=T();return Array.isArray(k)?k.some(re=>re.year===(B==null?void 0:B.year)&&re.month===X):(B==null?void 0:B.year)===k.year&&X===k.month},O=(K,X,B)=>{var k,re;const ie=T();return Array.isArray(ie)?l.value(X)===((k=ie[B])==null?void 0:k.year)&&K===((re=ie[B])==null?void 0:re.month):!1},R=(K,X)=>{if(t.range){const B=T();if(Array.isArray(a.value)&&Array.isArray(B)){const k=O(K,X,0)||O(K,X,1),re=ro(os(Se()),K,l.value(X));return qv(a.value,h.value,re)&&!k}return!1}return!1},D=ee(()=>K=>vc(d.value,X=>{const B=S(K,X.value),k=Wh(X.value,s3(l.value(K),t.minDate),o3(l.value(K),t.maxDate))||wpe(t.disabledDates,l.value(K)).includes(X.value),re=R(X.value,K),ie=h3(o.value,X.value,l.value(K));return{active:B,disabled:k,isBetween:re,highlighted:ie}})),C=(K,X)=>ro(os(Se()),K,l.value(X)),M=(K,X)=>{const B=a.value?a.value:os(new Date);a.value=ro(B,K,l.value(X)),e("auto-apply")},V=(K,X)=>{const B=SS(a,C(K,X),e);Zv(B,e,t.autoApply,t.modelAuto)},W=(K,X)=>{TS(C(K,X),a,t.multiDatesLimit),e("auto-apply",!0)},L=(K,X)=>(c.value[X].month=K,P(X,c.value[X].year,K),t.multiDates?W(K,X):t.range?V(K,X):M(K,X)),A=(K,X)=>{f(K,X),P(X,K,null)},P=(K,X,B)=>{let k=B;if(!k&&k!==0){const re=T();k=Array.isArray(re)?re[K].month:re.month}e("update-month-year",{instance:K,year:X,month:k})};return{groupedMonths:D,groupedYears:p,year:l,isDisabled:_,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:m,modelValue:a,presetDate:(K,X)=>{m3({value:K,modelValue:a,range:t.range,timezone:X?void 0:t.timezone}),e("auto-apply")},setHoverDate:(K,X)=>{h.value=C(K,X)},selectMonth:L,selectYear:A,toggleYearPicker:v,handleYearSelect:y,handleYear:b,getModelMonthYear:T}},tme=Ce({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ys},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=fa(),s=ki(i,"yearMode"),o=t;jt(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:p,presetDate:m,setHoverDate:v,selectMonth:y,selectYear:b,toggleYearPicker:_,handleYearSelect:w,handleYear:T,getModelMonthYear:S}=eme(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:S,selectMonth:y,selectYear:b,handleYear:T}),presetDate:m,toggleYearPicker:O=>_(0,O)}),(O,R)=>(I(),ne(Jv,{"multi-calendars":E(d).count,stretch:""},{default:j(({instance:D})=>[O.$slots["month-year"]?fe(O.$slots,"month-year",Nn(ae({key:0},{year:E(u),months:E(a)(D),years:E(l)(D),selectMonth:E(y),selectYear:E(b),instance:D}))):(I(),ne(Uf,{key:1,items:E(a)(D),"arrow-navigation":O.arrowNavigation,"is-last":O.autoApply&&!E(h).keepActionRow,"esc-close":O.escClose,height:E(h).modeHeight,config:O.config,"no-overlay-focus":!!(O.noOverlayFocus||O.textInput),"use-relative":"",type:"month",onSelected:C=>E(y)(C,D),onHoverValue:C=>E(v)(C,D)},{header:j(()=>[$(p3,ae(O.$props,{items:E(l)(D),instance:D,"show-year-picker":E(f)[D],year:E(u)(D),"is-disabled":C=>E(c)(D,C),onHandleYear:C=>E(T)(D,C),onYearSelect:C=>E(w)(C,D),onToggleYearPicker:C=>E(_)(D,C==null?void 0:C.flow,C==null?void 0:C.show)}),rr({_:2},[nt(E(s),(C,M)=>({name:C,fn:j(V=>[fe(O.$slots,C,Nn(lr(V)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),nme=(t,e)=>{const{modelValue:n}=Vf(t,e),r=oe(null),{defaultedHighlight:i,defaultedFilters:s}=Xn(t),o=oe();jt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=_t(Se(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(h=>_t(h)===d):n.value?_t(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?qv(n.value,r.value,c(d)):!1,u=ee(()=>vc(wS(t.yearRange,t.reverseYears),d=>{const h=a(d.value),f=Wh(d.value,yc(t.minDate),yc(t.maxDate))||s.value.years.includes(d.value),p=l(d.value)&&!h,m=_S(i.value,d.value);return{active:h,disabled:f,isBetween:p,highlighted:m}})),c=d=>xs(os(new Date),d);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:d=>{r.value=xs(os(new Date),d)},selectYear:d=>{var h;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((h=n.value)==null?void 0:h.map(f=>_t(f))).includes(d)?n.value=n.value.filter(f=>_t(f)!==d):n.value.push(xs(Yr(Se()),d))):n.value=[xs(Yr(Se()),d)],e("auto-apply",!0);if(t.range){const f=SS(n,c(d),e);return Zv(f,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},rme=Ce({compatConfig:{MODE:3},__name:"YearPicker",props:{...ys},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=nme(i,r),{defaultedConfig:c}=Xn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,h)=>(I(),F("div",null,[d.$slots["month-year"]?fe(d.$slots,"month-year",Nn(ae({key:0},{years:E(s),selectYear:E(l)}))):(I(),ne(Uf,{key:1,items:E(s),"is-last":d.autoApply&&!E(c).keepActionRow,height:E(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":E(a),type:"year","use-relative":"",onSelected:E(l),onHoverValue:E(u)},rr({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:j(({item:f})=>[fe(d.$slots,"year-overlay-value",{text:f.text,value:f.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),ime={key:0,class:"dp__time_input"},sme=["aria-label","onKeydown","onClick"],ome=g("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ame=g("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),lme=["aria-label","disabled","onKeydown","onClick"],ume=["aria-label","onKeydown","onClick"],cme=g("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),dme=g("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),hme={key:0},fme=["aria-label","onKeydown"],pme=Ce({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ys},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=_a(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Xn(i),{transitionName:d,showTransition:h}=Ff(l),f=Mn({hours:!1,minutes:!1,seconds:!1}),p=oe("AM"),m=oe(null),v=oe([]);jt(()=>{r("mounted")});const y=z=>Tn(new Date,{hours:z.hours,minutes:z.minutes,seconds:i.enableSeconds?z.seconds:0,milliseconds:0}),b=ee(()=>z=>L(z,i[z])||w(z,i[z])),_=ee(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),w=(z,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(z,Q):!1,T=(z,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ue=Q?+i[`${z}Increment`]:-+i[`${z}Increment`],Z=i[z]+ue;return!i.validateTime(z,Z)}return!1},S=ee(()=>z=>!P(+i[z]+ +i[`${z}Increment`],z)||T(z,!0)),O=ee(()=>z=>!P(+i[z]-+i[`${z}Increment`],z)||T(z,!1)),R=(z,Q)=>xL(Tn(Se(),z),Q),D=(z,Q)=>xfe(Tn(Se(),z),Q),C=ee(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),M=ee(()=>{const z=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?z.concat([{type:"",separator:!0},{type:"seconds"}]):z}),V=ee(()=>M.value.filter(z=>!z.separator)),W=ee(()=>z=>{if(z==="hours"){const Q=re(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[z]<10?`0${i[z]}`:`${i[z]}`,value:i[z]}}),L=(z,Q)=>{var ue;if(!i.disabledTimesConfig)return!1;const Z=i.disabledTimesConfig(i.order,z==="hours"?Q:void 0);return Z[z]?!!((ue=Z[z])!=null&&ue.includes(Q)):!0},A=z=>{const Q=i.is24?24:12,ue=z==="hours"?Q:60,Z=+i[`${z}GridIncrement`],pe=z==="hours"&&!i.is24?Z:0,_e=[];for(let le=pe;le<ue;le+=Z)_e.push({value:le,text:le<10?`0${le}`:`${le}`});return z==="hours"&&!i.is24&&_e.push({value:0,text:"12"}),vc(_e,le=>({active:!1,disabled:u.value.times[z].includes(le.value)||!P(le.value,z)||L(z,le.value)||w(z,le.value)}))},P=(z,Q)=>{const ue=i.minTime?y(kb(i.minTime)):null,Z=i.maxTime?y(kb(i.maxTime)):null,pe=y(kb(_.value,Q,z));return ue&&Z?(Hh(pe,Z)||Tu(pe,Z))&&(jh(pe,ue)||Tu(pe,ue)):ue?jh(pe,ue)||Tu(pe,ue):Z?Hh(pe,Z)||Tu(pe,Z):!0},K=z=>i[`no${z[0].toUpperCase()+z.slice(1)}Overlay`],X=z=>{K(z)||(f[z]=!f[z],f[z]||r("overlay-closed"))},B=z=>z==="hours"?hs:z==="minutes"?Fs:mc,k=(z,Q=!0)=>{const ue=Q?R:D,Z=Q?+i[`${z}Increment`]:-+i[`${z}Increment`];P(+i[z]+Z,z)&&r(`update:${z}`,B(z)(ue({[z]:+i[z]},{[z]:+i[`${z}Increment`]})))},re=z=>i.is24?z:(z>=12?p.value="PM":p.value="AM",ope(z)),ie=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},ve=z=>{f[z]=!0},ye=(z,Q,ue)=>{if(z&&i.arrowNavigation){Array.isArray(v.value[Q])?v.value[Q][ue]=z:v.value[Q]=[z];const Z=v.value.reduce((pe,_e)=>_e.map((le,x)=>[...pe[x]||[],_e[x]]),[]);o(i.closeTimePickerBtn),m.value&&(Z[1]=Z[1].concat(m.value)),s(Z,i.order)}},se=(z,Q)=>(X(z),z==="hours"&&!i.is24?r(`update:${z}`,p.value==="PM"?Q+12:Q):r(`update:${z}`,Q));return e({openChildCmp:ve}),(z,Q)=>{var ue;return z.disabled?q("",!0):(I(),F("div",ime,[(I(!0),F(we,null,nt(M.value,(Z,pe)=>{var _e,le,x;return I(),F("div",{key:pe,class:Pe(C.value)},[Z.separator?(I(),F(we,{key:0},[N(" : ")],64)):(I(),F(we,{key:1},[g("button",{ref_for:!0,ref:U=>ye(U,pe,0),type:"button",class:Pe({dp__btn:!0,dp__inc_dec_button:!z.timePickerInline,dp__inc_dec_button_inline:z.timePickerInline,dp__tp_inline_btn_top:z.timePickerInline,dp__inc_dec_button_disabled:S.value(Z.type)}),"aria-label":(_e=E(a))==null?void 0:_e.incrementValue(Z.type),tabindex:"0",onKeydown:[ht(Tt(U=>k(Z.type),["prevent"]),["enter"]),ht(Tt(U=>k(Z.type),["prevent"]),["space"])],onClick:U=>k(Z.type)},[i.timePickerInline?(I(),F(we,{key:1},[ome,ame],64)):(I(),F(we,{key:0},[z.$slots["arrow-up"]?fe(z.$slots,"arrow-up",{key:0}):q("",!0),z.$slots["arrow-up"]?q("",!0):(I(),ne(E(mS),{key:1}))],64))],42,sme),g("button",{ref_for:!0,ref:U=>ye(U,pe,1),type:"button","aria-label":(le=E(a))==null?void 0:le.openTpOverlay(Z.type),class:Pe({dp__time_display:!0,dp__time_display_block:!z.timePickerInline,dp__time_display_inline:z.timePickerInline,"dp--time-invalid":b.value(Z.type),"dp--time-overlay-btn":!b.value(Z.type)}),disabled:K(Z.type),tabindex:"0",onKeydown:[ht(Tt(U=>X(Z.type),["prevent"]),["enter"]),ht(Tt(U=>X(Z.type),["prevent"]),["space"])],onClick:U=>X(Z.type)},[z.$slots[Z.type]?fe(z.$slots,Z.type,{key:0,text:W.value(Z.type).text,value:W.value(Z.type).value}):q("",!0),z.$slots[Z.type]?q("",!0):(I(),F(we,{key:1},[N(Me(W.value(Z.type).text),1)],64))],42,lme),g("button",{ref_for:!0,ref:U=>ye(U,pe,2),type:"button",class:Pe({dp__btn:!0,dp__inc_dec_button:!z.timePickerInline,dp__inc_dec_button_inline:z.timePickerInline,dp__tp_inline_btn_bottom:z.timePickerInline,dp__inc_dec_button_disabled:O.value(Z.type)}),"aria-label":(x=E(a))==null?void 0:x.decrementValue(Z.type),tabindex:"0",onKeydown:[ht(Tt(U=>k(Z.type,!1),["prevent"]),["enter"]),ht(Tt(U=>k(Z.type,!1),["prevent"]),["space"])],onClick:U=>k(Z.type,!1)},[i.timePickerInline?(I(),F(we,{key:1},[cme,dme],64)):(I(),F(we,{key:0},[z.$slots["arrow-down"]?fe(z.$slots,"arrow-down",{key:0}):q("",!0),z.$slots["arrow-down"]?q("",!0):(I(),ne(E(gS),{key:1}))],64))],42,ume)],64))],2)}),128)),z.is24?q("",!0):(I(),F("div",hme,[z.$slots["am-pm-button"]?fe(z.$slots,"am-pm-button",{key:0,toggle:ie,value:p.value}):q("",!0),z.$slots["am-pm-button"]?q("",!0):(I(),F("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ue=E(a))==null?void 0:ue.amPmButton,tabindex:"0",onClick:ie,onKeydown:[ht(Tt(ie,["prevent"]),["enter"]),ht(Tt(ie,["prevent"]),["space"])]},Me(p.value),41,fme))])),(I(!0),F(we,null,nt(V.value,(Z,pe)=>(I(),ne(Xi,{key:pe,name:E(d)(f[Z.type]),css:E(h)},{default:j(()=>[f[Z.type]?(I(),ne(Uf,{key:0,items:A(Z.type),"is-last":z.autoApply&&!E(c).keepActionRow,"esc-close":z.escClose,type:Z.type,"text-input":z.textInput,config:z.config,"arrow-navigation":z.arrowNavigation,onSelected:_e=>se(Z.type,_e),onToggle:_e=>X(Z.type),onResetFlow:Q[0]||(Q[0]=_e=>z.$emit("reset-flow"))},rr({"button-icon":j(()=>[z.$slots["clock-icon"]?fe(z.$slots,"clock-icon",{key:0}):q("",!0),z.$slots["clock-icon"]?q("",!0):(I(),ne(bn(z.timePickerInline?E(Rc):E(pS)),{key:1}))]),_:2},[z.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:j(({item:_e})=>[fe(z.$slots,`${Z.type}-overlay-value`,{text:_e.text,value:_e.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):q("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),mme={class:"dp--tp-wrap"},gme=["aria-label","tabindex"],vme=["tabindex"],yme=["aria-label"],v3=Ce({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ys},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=_a(),a=fa(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=Xn(i),{transitionName:h,showTransition:f}=Ff(l),{hideNavigationButtons:p}=Xv(),m=oe(null),v=oe(null),y=oe([]),b=oe(null);jt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([ar(m.value)],"time"):o(!0,i.timePicker)});const _=ee(()=>i.range&&i.modelAuto?i3(i.internalModelValue):!0),w=oe(!1),T=A=>({hours:Array.isArray(i.hours)?i.hours[A]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[A]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[A]:i.seconds}),S=ee(()=>{const A=[];if(i.range)for(let P=0;P<2;P++)A.push(T(P));else A.push(T(0));return A}),O=(A,P=!1,K="")=>{P||r("reset-flow"),w.value=A,r(A?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(A),qn(()=>{K!==""&&y.value[0]&&y.value[0].openChildCmp(K)})},R=ee(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),D=ki(a,"timePicker"),C=(A,P,K)=>i.range?P===0?[A,S.value[1][K]]:[S.value[0][K],A]:A,M=A=>{r("update:hours",A)},V=A=>{r("update:minutes",A)},W=A=>{r("update:seconds",A)},L=()=>{if(b.value&&!c.value.enabled&&!i.noOverlayFocus){const A=lpe(b.value);A&&A.focus({preventScroll:!0})}};return e({toggleTimePicker:O}),(A,P)=>{var K;return I(),F("div",mme,[!A.timePicker&&!A.timePickerInline?vi((I(),F("button",{key:0,ref_key:"openTimePickerBtn",ref:m,type:"button",class:Pe(R.value),"aria-label":(K=E(u))==null?void 0:K.openTimePicker,tabindex:A.noOverlayFocus?void 0:0,onKeydown:[P[0]||(P[0]=ht(X=>O(!0),["enter"])),P[1]||(P[1]=ht(X=>O(!0),["space"]))],onClick:P[2]||(P[2]=X=>O(!0))},[A.$slots["clock-icon"]?fe(A.$slots,"clock-icon",{key:0}):q("",!0),A.$slots["clock-icon"]?q("",!0):(I(),ne(E(pS),{key:1}))],42,gme)),[[Rs,!E(p)(A.hideNavigation,"time")]]):q("",!0),$(Xi,{name:E(h)(w.value),css:E(f)&&!A.timePickerInline},{default:j(()=>{var X;return[w.value||A.timePicker||A.timePickerInline?(I(),F("div",{key:0,ref_key:"overlayRef",ref:b,class:Pe({dp__overlay:!A.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!A.timePickerInline,"dp--overlay-relative":i.timePicker}),style:dn(A.timePicker?{height:`${E(d).modeHeight}px`}:void 0),tabindex:A.timePickerInline?void 0:0},[g("div",{class:Pe(A.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[A.$slots["time-picker-overlay"]?fe(A.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:M,setMinutes:V,setSeconds:W}):q("",!0),A.$slots["time-picker-overlay"]?q("",!0):(I(),F("div",{key:1,class:Pe(A.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(I(!0),F(we,null,nt(S.value,(B,k)=>vi((I(),ne(pme,ae({key:k},{...A.$props,order:k,hours:B.hours,minutes:B.minutes,seconds:B.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:k===0?A.fixedStart:A.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(re,ie)=>t.validateTime(re,C(ie,k,re)),"onUpdate:hours":re=>M(C(re,k,"hours")),"onUpdate:minutes":re=>V(C(re,k,"minutes")),"onUpdate:seconds":re=>W(C(re,k,"seconds")),onMounted:L,onOverlayClosed:L,onAmPmChange:P[3]||(P[3]=re=>A.$emit("am-pm-change",re))}),rr({_:2},[nt(E(D),(re,ie)=>({name:re,fn:j(ve=>[fe(A.$slots,re,Nn(lr(ve)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Rs,k===0?!0:_.value]])),128))],2)),!A.timePicker&&!A.timePickerInline?vi((I(),F("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:Pe(R.value),"aria-label":(X=E(u))==null?void 0:X.closeTimePicker,tabindex:"0",onKeydown:[P[4]||(P[4]=ht(B=>O(!1),["enter"])),P[5]||(P[5]=ht(B=>O(!1),["space"]))],onClick:P[6]||(P[6]=B=>O(!1))},[A.$slots["calendar-icon"]?fe(A.$slots,"calendar-icon",{key:0}):q("",!0),A.$slots["calendar-icon"]?q("",!0):(I(),ne(E(Rc),{key:1}))],42,yme)),[[Rs,!E(p)(A.hideNavigation,"time")]]):q("",!0)],2)],14,vme)):q("",!0)]}),_:3},8,["name","css"])])}}}),y3=(t,e,n,r)=>{const i=(y,b)=>Array.isArray(e[y])?e[y][b]:e[y],s=y=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[y]:e.seconds:0,o=(y,b)=>y?b!==void 0?ia(y,i("hours",b),i("minutes",b),s(b)):ia(y,e.hours,e.minutes,s()):dS(Se(),s(b)),a=(y,b)=>{e[y]=b},l=(y,b)=>{const _=Object.fromEntries(Object.keys(e).map(w=>w===y?[w,b]:[w,e[w]].slice()));if(t.range&&!t.disableTimeRangeValidation){const w=S=>n.value?ia(n.value[S],_.hours[S],_.minutes[S],_.seconds[S]):null,T=S=>cS(n.value[S],0);return!(Yt(w(0),w(1))&&(jh(w(0),T(1))||Hh(w(1),T(0))))}return!0},u=(y,b)=>{l(y,b)&&(a(y,b),r&&r())},c=y=>{u("hours",y)},d=y=>{u("minutes",y)},h=y=>{u("seconds",y)},f=(y,b,_,w)=>{b&&c(y),!b&&!_&&d(y),_&&h(y),n.value&&w(n.value)},p=y=>{if(y){const b=Array.isArray(y),_=b?[+y[0].hours,+y[1].hours]:+y.hours,w=b?[+y[0].minutes,+y[1].minutes]:+y.minutes,T=b?[+y[0].seconds,+y[1].seconds]:+y.seconds;a("hours",_),a("minutes",w),t.enableSeconds&&a("seconds",T)}},m=(y,b)=>{const _={hours:Array.isArray(e.hours)?e.hours[y]:e.hours,disabledArr:[]};return(b||b===0)&&(_.hours=b),Array.isArray(t.disabledTimes)&&(_.disabledArr=t.range&&Array.isArray(t.disabledTimes[y])?t.disabledTimes[y]:t.disabledTimes),_},v=ee(()=>(y,b)=>{var _;if(Array.isArray(t.disabledTimes)){const{disabledArr:w,hours:T}=m(y,b),S=w.filter(O=>+O.hours===T);return((_=S[0])==null?void 0:_.minutes)==="*"?{hours:[T],minutes:void 0,seconds:void 0}:{hours:[],minutes:(S==null?void 0:S.map(O=>+O.minutes))??[],seconds:(S==null?void 0:S.map(O=>O.seconds?+O.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:f,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:v}},bme=(t,e)=>{const{modelValue:n,time:r}=Vf(t,e),{defaultedStartTime:i}=Xn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=y3(t,r,n),d=b=>{const{hours:_,minutes:w,seconds:T}=b;return{hours:+_,minutes:+w,seconds:T?+T:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=d(t.startTime[0]),w=d(t.startTime[1]);return[Tn(Se(),_),Tn(Se(),w)]}const b=d(t.startTime);return Tn(Se(),b)}return t.range?[null,null]:null},f=()=>{if(t.range){const[b,_]=h();n.value=[o(b,0),o(_,1)]}else n.value=o(h())},p=b=>Array.isArray(b)?[el(Se(b[0])),el(Se(b[1]))]:[el(b??Se())],m=(b,_,w)=>{a("hours",b),a("minutes",_),a("seconds",t.enableSeconds?w:0)},v=()=>{const[b,_]=p(n.value);return t.range?m([b.hours,_.hours],[b.minutes,_.minutes],[b.seconds,_.minutes]):m(b.hours,b.minutes,b.seconds)};jt(()=>{if(!t.shadow)return l(i.value),n.value?v():f()});const y=()=>{Array.isArray(n.value)?n.value=n.value.map((b,_)=>b&&o(b,_)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(b,_=!0,w=!1)=>{s(b,_,w,y)},validateTime:c}},wme=Ce({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ys},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=fa(),o=ki(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=bme(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,f)=>(I(),ne(Jv,{"multi-calendars":0,stretch:""},{default:j(()=>[$(v3,ae(h.$props,{hours:E(a).hours,minutes:E(a).minutes,seconds:E(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":E(u),"validate-time":E(d),"onUpdate:hours":f[0]||(f[0]=p=>E(c)(p)),"onUpdate:minutes":f[1]||(f[1]=p=>E(c)(p,!1)),"onUpdate:seconds":f[2]||(f[2]=p=>E(c)(p,!1,!0)),onAmPmChange:f[3]||(f[3]=p=>h.$emit("am-pm-change",p))}),rr({_:2},[nt(E(o),(p,m)=>({name:p,fn:j(v=>[fe(h.$slots,p,Nn(lr(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),_me={class:"dp__month_year_row"},Tme=["aria-label","onClick","onKeydown"],Sme=Ce({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ys},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Xn(i),{transitionName:d,showTransition:h}=Ff(s),{buildMatrix:f}=_a(),{handleMonthYearChange:p,isDisabled:m,updateMonthYear:v}=Rpe(i,r),{showLeftIcon:y,showRightIcon:b}=Xv(),_=oe(!1),w=oe(!1),T=oe([null,null,null,null]);jt(()=>{r("mount")});const S=k=>({get:()=>i[k],set:re=>{const ie=k===es.month?es.year:es.month;r("update-month-year",{[k]:re,[ie]:i[ie]}),k===es.month?L(!0):A(!0)}}),O=ee(S(es.month)),R=ee(S(es.year)),D=ee(()=>k=>({month:i.month,year:i.year,items:k===es.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:k===es.month?L:A})),C=ee(()=>i.months.find(re=>re.value===i.month)||{text:"",value:0}),M=ee(()=>vc(i.months,k=>{const re=i.month===k.value,ie=Wh(k.value,s3(i.year,i.minDate),o3(i.year,i.maxDate))||l.value.months.includes(k.value),ve=h3(c.value,k.value,i.year);return{active:re,disabled:ie,highlighted:ve}})),V=ee(()=>vc(i.years,k=>{const re=i.year===k.value,ie=Wh(k.value,yc(i.minDate),yc(i.maxDate))||l.value.years.includes(k.value),ve=_S(c.value,k.value);return{active:re,disabled:ie,highlighted:ve}})),W=(k,re)=>{re!==void 0?k.value=re:k.value=!k.value,k.value||r("overlay-closed")},L=(k=!1,re)=>{P(k),W(_,re)},A=(k=!1,re)=>{P(k),W(w,re)},P=k=>{k||r("reset-flow")},K=(k,re)=>{i.arrowNavigation&&(T.value[re]=ar(k),f(T.value,"monthYear"))},X=ee(()=>{var k,re;return[{type:es.month,index:1,toggle:L,modelValue:O.value,updateModelValue:ie=>O.value=ie,text:C.value.text,showSelectionGrid:_.value,items:M.value,ariaLabel:(k=o.value)==null?void 0:k.openMonthsOverlay},{type:es.year,index:2,toggle:A,modelValue:R.value,updateModelValue:ie=>R.value=ie,text:i.year,showSelectionGrid:w.value,items:V.value,ariaLabel:(re=o.value)==null?void 0:re.openYearsOverlay}]}),B=ee(()=>i.disableYearSelect?[X.value[0]]:i.yearFirst?[...X.value].reverse():X.value);return e({toggleMonthPicker:L,toggleYearPicker:A,handleMonthYearChange:p}),(k,re)=>{var ie,ve,ye;return I(),F("div",_me,[k.$slots["month-year"]?fe(k.$slots,"month-year",Nn(ae({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:E(v),handleMonthYearChange:E(p),instance:t.instance}))):(I(),F(we,{key:1},[E(y)(E(a),t.instance)&&!k.vertical?(I(),ne(Yd,{key:0,"aria-label":(ie=E(o))==null?void 0:ie.prevMonth,disabled:E(m)(!1),onActivate:re[0]||(re[0]=se=>E(p)(!1,!0)),onSetRef:re[1]||(re[1]=se=>K(se,0))},{default:j(()=>[k.$slots["arrow-left"]?fe(k.$slots,"arrow-left",{key:0}):q("",!0),k.$slots["arrow-left"]?q("",!0):(I(),ne(E(hS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),g("div",{class:Pe(["dp__month_year_wrap",{dp__year_disable_select:k.disableYearSelect}])},[(I(!0),F(we,null,nt(B.value,(se,z)=>(I(),F(we,{key:se.type},[g("button",{ref_for:!0,ref:Q=>K(Q,z+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":se.ariaLabel,onClick:se.toggle,onKeydown:[ht(Tt(se.toggle,["prevent"]),["enter"]),ht(Tt(se.toggle,["prevent"]),["space"])]},[k.$slots[se.type]?fe(k.$slots,se.type,{key:0,text:se.text,value:i[se.type]}):q("",!0),k.$slots[se.type]?q("",!0):(I(),F(we,{key:1},[N(Me(se.text),1)],64))],40,Tme),$(Xi,{name:E(d)(se.showSelectionGrid),css:E(h)},{default:j(()=>[se.showSelectionGrid?(I(),ne(Uf,{key:0,items:se.items,"arrow-navigation":k.arrowNavigation,"hide-navigation":k.hideNavigation,"is-last":k.autoApply&&!E(u).keepActionRow,"skip-button-ref":!1,config:k.config,type:se.type,"header-refs":[],"esc-close":k.escClose,"text-input":k.textInput,onSelected:se.updateModelValue,onToggle:se.toggle},rr({"button-icon":j(()=>[k.$slots["calendar-icon"]?fe(k.$slots,"calendar-icon",{key:0}):q("",!0),k.$slots["calendar-icon"]?q("",!0):(I(),ne(E(Rc),{key:1}))]),_:2},[k.$slots[`${se.type}-overlay-value`]?{name:"item",fn:j(({item:Q})=>[fe(k.$slots,`${se.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,k.$slots[`${se.type}-overlay`]?{name:"overlay",fn:j(()=>[fe(k.$slots,`${se.type}-overlay`,Nn(lr(D.value(se.type))))]),key:"1"}:void 0,k.$slots[`${se.type}-overlay-header`]?{name:"header",fn:j(()=>[fe(k.$slots,`${se.type}-overlay-header`,{toggle:se.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):q("",!0)]),_:2},1032,["name","css"])],64))),128))],2),E(y)(E(a),t.instance)&&k.vertical?(I(),ne(Yd,{key:1,"aria-label":(ve=E(o))==null?void 0:ve.prevMonth,disabled:E(m)(!1),onActivate:re[2]||(re[2]=se=>E(p)(!1,!0))},{default:j(()=>[k.$slots["arrow-up"]?fe(k.$slots,"arrow-up",{key:0}):q("",!0),k.$slots["arrow-up"]?q("",!0):(I(),ne(E(mS),{key:1}))]),_:3},8,["aria-label","disabled"])):q("",!0),E(b)(E(a),t.instance)?(I(),ne(Yd,{key:2,ref:"rightIcon",disabled:E(m)(!0),"aria-label":(ye=E(o))==null?void 0:ye.nextMonth,onActivate:re[3]||(re[3]=se=>E(p)(!0,!0)),onSetRef:re[4]||(re[4]=se=>K(se,k.disableYearSelect?2:3))},{default:j(()=>[k.$slots[k.vertical?"arrow-down":"arrow-right"]?fe(k.$slots,k.vertical?"arrow-down":"arrow-right",{key:0}):q("",!0),k.$slots[k.vertical?"arrow-down":"arrow-right"]?q("",!0):(I(),ne(bn(k.vertical?E(gS):E(fS)),{key:1}))]),_:3},8,["disabled","aria-label"])):q("",!0)],64))])}}}),Eme=["aria-label"],Ime={class:"dp__calendar_header",role:"row"},Cme={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ome=g("div",{class:"dp__calendar_header_separator"},null,-1),Ame=["aria-label"],kme={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Pme={class:"dp__cell_inner"},xme=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Dme=Ce({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ys},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=_a(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Xn(i),d=oe(null),h=oe({bottom:"",left:"",transform:""}),f=oe([]),p=oe(null),m=oe(!0),v=oe(""),y=oe({startX:0,endX:0,startY:0,endY:0}),b=oe([]),_=oe({left:"50%"}),w=ee(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),T=ee(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):spe(i.formatLocale,i.locale,+i.weekStart));jt(()=>{r("mount",{cmp:"calendar",refs:f}),a.value.noSwipe||p.value&&(p.value.addEventListener("touchstart",A,{passive:!1}),p.value.addEventListener("touchend",P,{passive:!1}),p.value.addEventListener("touchmove",K,{passive:!1})),i.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",k,{passive:!1})});const S=se=>se?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",O=(se,z)=>{if(i.transitions){const Q=Yr(ro(Se(),i.month,i.year));v.value=Hr(Yr(ro(Se(),se,z)),Q)?o.value[S(!0)]:o.value[S(!1)],m.value=!1,qn(()=>{m.value=!0})}},R=ee(()=>({[i.calendarClassName]:!!i.calendarClassName})),D=ee(()=>se=>{const z=ape(se);return{dp__marker_dot:z.type==="dot",dp__marker_line:z.type==="line"}}),C=ee(()=>se=>Yt(se,d.value)),M=ee(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),V=ee(()=>se=>i.hideOffsetDates?se.current:!0),W=async(se,z,Q)=>{var ue,Z;if(r("set-hover-date",se),(Z=(ue=se.marker)==null?void 0:ue.tooltip)!=null&&Z.length){const pe=ar(f.value[z][Q]);if(pe){const{width:_e,height:le}=pe.getBoundingClientRect();d.value=se.value;let x={left:`${_e/2}px`},U=-50;if(await qn(),b.value[0]){const{left:G,width:ce}=b.value[0].getBoundingClientRect();G<0&&(x={left:"0"},U=0,_.value.left=`${_e/2}px`),window.innerWidth<G+ce&&(x={right:"0"},U=0,_.value.left=`${ce-_e/2}px`)}h.value={bottom:`${le}px`,...x,transform:`translateX(${U}%)`},r("tooltip-open",se.marker)}}},L=se=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",se.marker))},A=se=>{y.value.startX=se.changedTouches[0].screenX,y.value.startY=se.changedTouches[0].screenY},P=se=>{y.value.endX=se.changedTouches[0].screenX,y.value.endY=se.changedTouches[0].screenY,X()},K=se=>{i.vertical&&!i.inline&&se.preventDefault()},X=()=>{const se=i.vertical?"Y":"X";Math.abs(y.value[`start${se}`]-y.value[`end${se}`])>10&&r("handle-swipe",y.value[`start${se}`]>y.value[`end${se}`]?"right":"left")},B=(se,z,Q)=>{se&&(Array.isArray(f.value[z])?f.value[z][Q]=se:f.value[z]=[se]),i.arrowNavigation&&s(f.value,"calendar")},k=se=>{i.monthChangeOnScroll&&(se.preventDefault(),r("handle-scroll",se))},re=se=>c.value.type==="local"?vhe(se.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?fhe(se.value):typeof c.value.type=="function"?c.value.type(se.value):"",ie=se=>{const z=se[0];return c.value.hideOnOffsetDates?se.some(Q=>Q.current)?re(z):"":re(z)},ve=(se,z)=>{ra(se,a.value),r("select-date",z)},ye=se=>{ra(se,a.value)};return e({triggerTransition:O}),(se,z)=>{var Q;return I(),F("div",{class:Pe(M.value)},[g("div",{ref_key:"calendarWrapRef",ref:p,role:"grid",class:Pe(R.value),"aria-label":(Q=E(l))==null?void 0:Q.calendarWrap},[(I(),F(we,{key:0},[g("div",Ime,[se.weekNumbers?(I(),F("div",Cme,Me(se.weekNumName),1)):q("",!0),(I(!0),F(we,null,nt(T.value,(ue,Z)=>(I(),F("div",{key:Z,class:"dp__calendar_header_item",role:"gridcell"},[se.$slots["calendar-header"]?fe(se.$slots,"calendar-header",{key:0,day:ue,index:Z}):q("",!0),se.$slots["calendar-header"]?q("",!0):(I(),F(we,{key:1},[N(Me(ue),1)],64))]))),128))]),Ome,$(Xi,{name:v.value,css:!!se.transitions},{default:j(()=>{var ue;return[m.value?(I(),F("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ue=E(l))==null?void 0:ue.calendarDays)||void 0},[(I(!0),F(we,null,nt(w.value,(Z,pe)=>(I(),F("div",{key:pe,class:"dp__calendar_row",role:"row"},[se.weekNumbers?(I(),F("div",kme,[g("div",Pme,Me(ie(Z.days)),1)])):q("",!0),(I(!0),F(we,null,nt(Z.days,(_e,le)=>{var x,U,G;return I(),F("div",{id:_e.value.toISOString().split("T")[0],ref_for:!0,ref:ce=>B(ce,pe,le),key:le+pe,role:"gridcell",class:"dp__calendar_item","aria-selected":_e.classData.dp__active_date||_e.classData.dp__range_start||_e.classData.dp__range_start,"aria-disabled":_e.classData.dp__cell_disabled||void 0,"aria-label":(U=(x=E(l))==null?void 0:x.day)==null?void 0:U.call(x,_e),tabindex:"0",onClick:Tt(ce=>ve(ce,_e),["prevent"]),onKeydown:[ht(ce=>se.$emit("select-date",_e),["enter"]),ht(ce=>se.$emit("handle-space",_e),["space"])],onMouseenter:ce=>W(_e,pe,le),onMouseleave:ce=>L(_e)},[g("div",{class:Pe(["dp__cell_inner",_e.classData])},[se.$slots.day&&V.value(_e)?fe(se.$slots,"day",{key:0,day:+_e.text,date:_e.value}):q("",!0),se.$slots.day?q("",!0):(I(),F(we,{key:1},[N(Me(_e.text),1)],64)),_e.marker&&V.value(_e)?(I(),F(we,{key:2},[se.$slots.marker?fe(se.$slots,"marker",{key:0,marker:_e.marker,day:+_e.text,date:_e.value}):(I(),F("div",{key:1,class:Pe(D.value(_e.marker)),style:dn(_e.marker.color?{backgroundColor:_e.marker.color}:{})},null,6))],64)):q("",!0),C.value(_e.value)?(I(),F("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:dn(h.value)},[(G=_e.marker)!=null&&G.tooltip?(I(),F("div",{key:0,class:"dp__tooltip_content",onClick:ye},[(I(!0),F(we,null,nt(_e.marker.tooltip,(ce,de)=>(I(),F("div",{key:de,class:"dp__tooltip_text"},[se.$slots["marker-tooltip"]?fe(se.$slots,"marker-tooltip",{key:0,tooltip:ce,day:_e.value}):q("",!0),se.$slots["marker-tooltip"]?q("",!0):(I(),F(we,{key:1},[g("div",{class:"dp__tooltip_mark",style:dn(ce.color?{backgroundColor:ce.color}:{})},null,4),g("div",null,Me(ce.text),1)],64))]))),128)),g("div",{class:"dp__arrow_bottom_tp",style:dn(_.value)},null,4)])):q("",!0)],4)):q("",!0)],2)],40,xme)}),128))]))),128))],8,Ame)):q("",!0)]}),_:3},8,["name","css"])],64))],10,Eme)],2)}}}),uk=t=>Array.isArray(t),Rme=(t,e,n,r)=>{const i=oe([]),{modelValue:s,calendars:o,time:a}=Vf(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Xn(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:f}=jl(t),{updateTimeValues:p,getSetDateTime:m,setTime:v,assignStartTime:y,validateTime:b,disabledTimesConfig:_}=y3(t,a,s,r),w=ee(()=>J=>o.value[J]?o.value[J].month:0),T=ee(()=>J=>o.value[J]?o.value[J].year:0),S=(J,H,Y)=>{var te,he;o.value[J]||(o.value[J]={month:0,year:0}),o.value[J].month=ik(H)?(te=o.value[J])==null?void 0:te.month:H,o.value[J].year=ik(Y)?(he=o.value[J])==null?void 0:he.year:Y},O=()=>{t.autoApply&&e("select-date")};Ot(s,(J,H)=>{JSON.stringify(J)!==JSON.stringify(H)&&C()}),jt(()=>{t.shadow||(s.value||(k(),u.value&&y(u.value)),C(!0),t.focusStartDate&&t.startDate&&k())});const R=ee(()=>{var J;return(J=t.flow)!=null&&J.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),D=()=>{t.autoApply&&R.value&&e("auto-apply",t.partialFlow)},C=(J=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,P(J)):V(s.value,J);if(l.value.count&&J&&!t.startDate)return M(Se(),J)},M=(J,H=!1)=>{if((!l.value.count||!l.value.static||H)&&S(0,Vt(J),_t(J)),l.value.count&&(!l.value.solo||!s.value))for(let Y=1;Y<l.value.count;Y++){const te=Tn(Se(),{month:w.value(Y-1),year:T.value(Y-1)}),he=xL(te,{months:1});o.value[Y]={month:Vt(he),year:_t(he)}}},V=(J,H)=>{M(J),v("hours",hs(J)),v("minutes",Fs(J)),v("seconds",mc(J)),l.value.count&&H&&B()},W=J=>{if(l.value.count){if(l.value.solo)return 0;const H=Vt(J[0]),Y=Vt(J[1]);return Math.abs(Y-H)<l.value.count?0:1}return 1},L=(J,H)=>{J[1]&&t.showLastInRange?M(J[W(J)],H):M(J[0],H);const Y=(te,he)=>[te(J[0]),J[1]?te(J[1]):a[he][1]];v("hours",Y(hs,"hours")),v("minutes",Y(Fs,"minutes")),v("seconds",Y(mc,"seconds"))},A=(J,H)=>{if((t.range||t.weekPicker)&&!t.multiDates)return L(J,H);if(t.multiDates&&H){const Y=J[J.length-1];return V(Y,H)}},P=J=>{const H=s.value;A(H,J),l.value.count&&l.value.solo&&B()},K=(J,H)=>{const Y=Tn(Se(),{month:w.value(H),year:T.value(H)}),te=J<0?ds(Y,1):gc(Y,1);c(Vt(te),_t(te),J<0,t.preventMinMaxNavigation)&&(S(H,Vt(te),_t(te)),e("update-month-year",{instance:H,month:Vt(te),year:_t(te)}),l.value.count&&!l.value.solo&&X(H),n())},X=J=>{for(let H=J-1;H>=0;H--){const Y=gc(Tn(Se(),{month:w.value(H+1),year:T.value(H+1)}),1);S(H,Vt(Y),_t(Y))}for(let H=J+1;H<=l.value.count-1;H++){const Y=ds(Tn(Se(),{month:w.value(H-1),year:T.value(H-1)}),1);S(H,Vt(Y),_t(Y))}},B=()=>{if(Array.isArray(s.value)&&s.value.length===2){const J=Se(Se(s.value[1]?s.value[1]:ds(s.value[0],1))),[H,Y]=[Vt(s.value[0]),_t(s.value[0])],[te,he]=[Vt(s.value[1]),_t(s.value[1])];(H!==te||H===te&&Y!==he)&&l.value.solo&&S(1,Vt(J),_t(J))}else s.value&&!Array.isArray(s.value)&&(S(0,Vt(s.value),_t(s.value)),M(Se()))},k=()=>{t.startDate&&(S(0,Vt(Se(t.startDate)),_t(Se(t.startDate))),l.value.count&&X(0))},re=hpe((J,H)=>{t.monthChangeOnScroll&&K(t.monthChangeOnScroll!=="inverse"?-J.deltaY:J.deltaY,H)},50),ie=(J,H,Y=!1)=>{t.monthChangeOnArrows&&t.vertical===Y&&ve(J,H)},ve=(J,H)=>{K(J==="right"?-1:1,H)},ye=J=>t.markers.find(H=>Yt(mpe(J.value),fs(Se(H.date),t.timezone))),se=(J,H)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[J==0,!0];case"fair":return[J==0||H>J,!0];case"append":return[!1,!1];default:return[!1,!1]}},z=(J,H,Y,te)=>{if(t.sixWeeks&&J.length<6){const he=6-J.length,Ve=(H.getDay()+7-te)%7,Xe=6-(Y.getDay()+7-te)%7,[ge,ke]=se(Ve,Xe);for(let Re=1;Re<=he;Re++)if(ke?!!(Re%2)==ge:ge){const Qe=J[0].days[0],We=Q(Js(Qe.value,-7),Vt(H));J.unshift({days:We})}else{const Qe=J[J.length-1],We=Qe.days[Qe.days.length-1],it=Q(Js(We.value,1),Vt(H));J.push({days:it})}}return J},Q=(J,H)=>{const Y=Se(J),te=[];for(let he=0;he<7;he++){const Ve=Js(Y,he),Xe=Vt(Ve)!==H;te.push({text:t.hideOffsetDates&&Xe?"":Ve.getDate(),value:Ve,current:!Xe,classData:{}})}return te},ue=(J,H)=>{const Y=[],te=new Date(H,J),he=new Date(H,J+1,0),Ve=t.weekStart,Xe=El(te,{weekStartsOn:Ve}),ge=ke=>{const Re=Q(ke,J);if(Y.push({days:Re}),!Y[Y.length-1].days.some(Qe=>Yt(Yr(Qe.value),Yr(he)))){const Qe=Js(ke,7);ge(Qe)}};return ge(Xe),z(Y,te,he,Ve)},Z=J=>(s.value=im(Se(J.value),t.timezone,t.weekStart),e("date-update",J.value),D()),pe=J=>{const H=ia(Se(J.value),a.hours,a.minutes,Ee());e("date-update",H),t.multiDates?TS(H,s,t.multiDatesLimit):s.value=H,r(),qn().then(()=>{D()})},_e=J=>t.noDisabledRange?l3(i.value[0],J).some(H=>d(H)):!1,le=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},x=(J,H)=>{const Y=[Se(J.value),Js(Se(J.value),+t.autoRange)];h(Y)?(H&&U(J.value),i.value=Y):e("invalid-date",J.value)},U=J=>{const H=Vt(Se(J)),Y=_t(Se(J));if(S(0,H,Y),l.value.count>0)for(let te=1;te<l.value.count;te++){const he=gpe(Tn(Se(J),{year:w.value(te-1),month:T.value(te-1)}));S(te,he.month,he.year)}},G=J=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(Hr(J,s.value[0])||Yt(J,s.value[0]))?[s.value[0],J]:t.fixedEnd&&(Pr(J,s.value[1])||Yt(J,s.value[1]))?[J,s.value[1]]:(e("invalid-fixed-range",J),s.value):[],ce=J=>{if(_e(J.value)||!f(J.value,s.value,t.fixedStart?0:1))return e("invalid-date",J.value);i.value=G(Se(J.value))},de=(J,H)=>{if(le(),t.autoRange)return x(J,H);if(t.fixedStart||t.fixedEnd)return ce(J);i.value[0]?f(Se(J.value),s.value)&&!_e(J.value)?Pr(Se(J.value),Se(i.value[0]))?(i.value.unshift(Se(J.value)),e("range-end",i.value[0])):(i.value[1]=Se(J.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",J.value),e("invalid-date",J.value)):(i.value[0]=Se(J.value),e("range-start",i.value[0]))},Ee=(J=!0)=>t.enableSeconds?Array.isArray(a.seconds)?J?a.seconds[0]:a.seconds[1]:a.seconds:0,De=J=>{i.value[J]=ia(i.value[J],a.hours[J],a.minutes[J],Ee(J!==1))},Te=()=>{var J,H;i.value[0]&&i.value[1]&&+((J=i.value)==null?void 0:J[0])>+((H=i.value)==null?void 0:H[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Oe=()=>{i.value.length&&(i.value[0]&&!i.value[1]?De(0):(De(0),De(1),r()),Te(),s.value=i.value.slice(),Zv(i.value,e,t.autoApply,t.modelAuto))},be=(J,H=!1)=>{if(d(J.value)||!J.current&&t.hideOffsetDates)return e("invalid-date",J.value);if(t.weekPicker)return Z(J);if(!t.range)return pe(J);uk(a.hours)&&uk(a.minutes)&&!t.multiDates&&(de(J,H),Oe())},$e=(J,H)=>{var Y;S(J,H.month,H.year),l.value.count&&!l.value.solo&&X(J),e("update-month-year",{instance:J,month:H.month,year:H.year}),n(l.value.solo?J:void 0);const te=(Y=t.flow)!=null&&Y.length?t.flow[t.flowStep]:void 0;!H.fromNav&&(te===_s.month||te===_s.year)&&r()},He=(J,H)=>{m3({value:J,modelValue:s,range:t.range,timezone:H?void 0:t.timezone}),O(),t.multiCalendars&&qn().then(()=>C(!0))},Ge=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Pr(Se(),s.value[0])?[Se(),s.value[0]]:[s.value[0],Se()]:s.value=[Se()]:s.value=Se(),O()},rt=()=>{if(Array.isArray(s.value))if(t.multiDates){const J=ct();s.value[s.value.length-1]=m(J)}else s.value=s.value.map((J,H)=>J&&m(J,H));else s.value=m(s.value);e("time-update")},ct=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:w,year:T,time:a,disabledTimesConfig:_,validateTime:b,getCalendarDays:ue,getMarker:ye,handleScroll:re,handleSwipe:ve,handleArrow:ie,selectDate:be,updateMonthYear:$e,presetDate:He,selectCurrentDate:Ge,updateTime:(J,H=!0,Y=!1)=>{p(J,H,Y,rt)}}},Nme={key:0},Mme=Ce({__name:"DatePicker",props:{...ys},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:f,handleArrow:p,handleScroll:m,handleSwipe:v,selectDate:y,updateMonthYear:b,presetDate:_,selectCurrentDate:w,updateTime:T}=Rme(i,r,B,k),S=fa(),{setHoverDate:O,getDayClassData:R,clearHoverDate:D}=Lpe(l,i),{defaultedMultiCalendars:C}=Xn(i),M=oe([]),V=oe([]),W=oe(null),L=ki(S,"calendar"),A=ki(S,"monthYear"),P=ki(S,"timePicker"),K=ie=>{i.shadow||r("mount",ie)};Ot(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const X=ee(()=>ie=>h(o.value(ie),a.value(ie)).map(ve=>({...ve,days:ve.days.map(ye=>(ye.marker=f(ye),ye.classData=R(ye),ye))})));function B(ie){var ve;ie||ie===0?(ve=V.value[ie])==null||ve.triggerTransition(o.value(ie),a.value(ie)):V.value.forEach((ye,se)=>ye.triggerTransition(o.value(se),a.value(se)))}function k(){r("update-flow-step")}const re=(ie,ve=!1)=>{y(ie,ve),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:D,presetDate:_,selectCurrentDate:w,toggleMonthPicker:(ie,ve,ye=0)=>{var se;(se=M.value[ye])==null||se.toggleMonthPicker(ie,ve)},toggleYearPicker:(ie,ve,ye=0)=>{var se;(se=M.value[ye])==null||se.toggleYearPicker(ie,ve)},toggleTimePicker:(ie,ve,ye)=>{var se;(se=W.value)==null||se.toggleTimePicker(ie,ve,ye)},handleArrow:p,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:T,updateMonthYear:b,selectDate:y,presetDate:_})}),(ie,ve)=>(I(),F(we,null,[$(Jv,{"multi-calendars":E(C).count},{default:j(({instance:ye,index:se})=>[ie.disableMonthYearSelect?q("",!0):(I(),ne(Sme,ae({key:0,ref:z=>{z&&(M.value[se]=z)},months:E(r3)(ie.formatLocale,ie.locale,ie.monthNameFormat),years:E(wS)(ie.yearRange,ie.reverseYears),month:E(o)(ye),year:E(a)(ye),instance:ye},ie.$props,{onMount:ve[0]||(ve[0]=z=>K(E(tl).header)),onResetFlow:ve[1]||(ve[1]=z=>ie.$emit("reset-flow")),onUpdateMonthYear:z=>E(b)(ye,z),onOverlayClosed:ve[2]||(ve[2]=z=>ie.$emit("focus-menu"))}),rr({_:2},[nt(E(A),(z,Q)=>({name:z,fn:j(ue=>[fe(ie.$slots,z,Nn(lr(ue)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),$(Dme,ae({ref:z=>{z&&(V.value[se]=z)},"mapped-dates":X.value(ye),month:E(o)(ye),year:E(a)(ye),instance:ye},ie.$props,{onSelectDate:z=>E(y)(z,ye!==1),onHandleSpace:z=>re(z,ye!==1),onSetHoverDate:ve[3]||(ve[3]=z=>E(O)(z)),onHandleScroll:z=>E(m)(z,ye),onHandleSwipe:z=>E(v)(z,ye),onMount:ve[4]||(ve[4]=z=>K(E(tl).calendar)),onResetFlow:ve[5]||(ve[5]=z=>ie.$emit("reset-flow")),onTooltipOpen:ve[6]||(ve[6]=z=>ie.$emit("tooltip-open",z)),onTooltipClose:ve[7]||(ve[7]=z=>ie.$emit("tooltip-close",z))}),rr({_:2},[nt(E(L),(z,Q)=>({name:z,fn:j(ue=>[fe(ie.$slots,z,Nn(lr({...ue})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),ie.enableTimePicker?(I(),F("div",Nme,[ie.$slots["time-picker"]?fe(ie.$slots,"time-picker",Nn(ae({key:0},{time:E(u),updateTime:E(T)}))):(I(),ne(v3,ae({key:1,ref_key:"timePickerRef",ref:W},ie.$props,{hours:E(u).hours,minutes:E(u).minutes,seconds:E(u).seconds,"internal-model-value":ie.internalModelValue,"disabled-times-config":E(c),"validate-time":E(d),onMount:ve[8]||(ve[8]=ye=>K(E(tl).timePicker)),"onUpdate:hours":ve[9]||(ve[9]=ye=>E(T)(ye)),"onUpdate:minutes":ve[10]||(ve[10]=ye=>E(T)(ye,!1)),"onUpdate:seconds":ve[11]||(ve[11]=ye=>E(T)(ye,!1,!0)),onResetFlow:ve[12]||(ve[12]=ye=>ie.$emit("reset-flow")),onOverlayClosed:ve[13]||(ve[13]=ye=>ie.$emit("time-picker-close")),onOverlayOpened:ve[14]||(ve[14]=ye=>ie.$emit("time-picker-open",ye)),onAmPmChange:ve[15]||(ve[15]=ye=>ie.$emit("am-pm-change",ye))}),rr({_:2},[nt(E(P),(ye,se)=>({name:ye,fn:j(z=>[fe(ie.$slots,ye,Nn(lr(z)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):q("",!0)],64))}}),$me=(t,e)=>{const n=oe(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Xn(t),{modelValue:o,year:a,month:l,calendars:u}=Vf(t,e),{isDisabled:c}=jl(t),{selectYear:d,groupedYears:h,showYearPicker:f,isDisabled:p,toggleYearPicker:m,handleYearSelect:v,handleYear:y}=g3({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),b=(D,C)=>[D,C].map(M=>na(M,"MMMM",{locale:t.formatLocale})).join("-"),_=ee(()=>D=>o.value?Array.isArray(o.value)?o.value.some(C=>GA(D,C)):GA(o.value,D):!1),w=D=>{if(t.range){if(Array.isArray(o.value)){const C=Yt(D,o.value[0])||Yt(D,o.value[1]);return qv(o.value,n.value,D)&&!C}return!1}return!1},T=ee(()=>D=>{const C=Tn(new Date,{year:a.value(D)});return ide({start:ode(C),end:sde(C)}).map(M=>{const V=Bh(M),W=UA(M),L=c(M),A=w(V),P=typeof s.value=="function"?s.value({quarter:VA(V),year:_t(V)}):!!s.value.quarters.find(K=>K.quarter===VA(V)&&K.year===_t(V));return{text:b(V,W),value:V,active:_.value(V),highlighted:P,disabled:L,isBetween:A}})}),S=D=>{TS(D,o,t.multiDatesLimit),e("auto-apply",!0)},O=D=>{const C=SS(o,D,e);Zv(C,e,t.autoApply,t.modelAuto)},R=D=>{o.value=D,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:p,quarters:T,showYearPicker:f,modelValue:o,setHoverDate:D=>{n.value=D},selectYear:d,selectQuarter:(D,C,M)=>{if(!M)return u.value[C].month=Vt(UA(D)),t.multiDates?S(D):t.range?O(D):R(D)},toggleYearPicker:m,handleYearSelect:v,handleYear:y}},Lme={class:"dp--quarter-items"},Fme=["disabled","onClick","onMouseover"],Vme=Ce({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ys},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=fa(),o=ki(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:f,showYearPicker:p,setHoverDate:m,selectQuarter:v,toggleYearPicker:y,handleYearSelect:b,handleYear:_}=$me(i,r);return e({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:v,handleYearSelect:b,handleYear:_})}),(w,T)=>(I(),ne(Jv,{"multi-calendars":E(a).count,stretch:""},{default:j(({instance:S})=>[g("div",{class:"dp-quarter-picker-wrap",style:dn({minHeight:`${E(l).modeHeight}px`})},[g("div",null,[$(p3,ae(w.$props,{items:E(u)(S),instance:S,"show-year-picker":E(p)[S],year:E(c)(S),"is-disabled":O=>E(d)(S,O),onHandleYear:O=>E(_)(S,O),onYearSelect:O=>E(b)(O,S),onToggleYearPicker:O=>E(y)(S,O==null?void 0:O.flow,O==null?void 0:O.show)}),rr({_:2},[nt(E(o),(O,R)=>({name:O,fn:j(D=>[fe(w.$slots,O,Nn(lr(D)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),g("div",Lme,[(I(!0),F(we,null,nt(E(h)(S),(O,R)=>(I(),F("div",{key:R},[g("button",{type:"button",class:Pe(["dp--qr-btn",{"dp--qr-btn-active":O.active,"dp--qr-btn-between":O.isBetween,"dp--qr-btn-disabled":O.disabled,"dp--highlighted":O.highlighted}]),disabled:O.disabled,onClick:D=>E(v)(O.value,S,O.disabled),onMouseover:D=>E(m)(O.value)},[w.$slots.quarter?fe(w.$slots,"quarter",{key:0,value:O.value,text:O.text}):(I(),F(we,{key:1},[N(Me(O.text),1)],64))],42,Fme)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),Ume=["id"],Bme={key:0,class:"dp__sidebar_left"},jme={key:1,class:"dp--preset-dates"},Hme=["onClick","onKeydown"],Wme={key:2,class:"dp__sidebar_right"},Kme={key:3,class:"dp__action_extra"},ck=Ce({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Qv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ee(()=>{const{openOnTop:le,...x}=i;return{...x,flowStep:R.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=f3(),u=fa(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=Xn(i),f=oe(null),p=oe(0),m=oe(null),v=oe(null),y=oe(!1),b=oe(null);jt(()=>{if(!i.shadow){y.value=!0,_(),window.addEventListener("resize",_);const le=ar(m);if(le&&!c.value.enabled&&!d.value.enabled&&(o(!0),W()),le){const x=U=>{h.value.allowPreventDefault&&U.preventDefault(),ra(U,h.value,!0)};le.addEventListener("pointerdown",x),le.addEventListener("mousedown",x)}}}),Hs(()=>{window.removeEventListener("resize",_)});const _=()=>{const le=ar(v);le&&(p.value=le.getBoundingClientRect().width)},{arrowRight:w,arrowLeft:T,arrowDown:S,arrowUp:O}=_a(),{flowStep:R,updateFlowStep:D,childMount:C,resetFlow:M}=Fpe(i,r,b),V=ee(()=>i.monthPicker?tme:i.yearPicker?rme:i.timePicker?wme:i.quarterPicker?Vme:Mme),W=()=>{const le=ar(m);le&&le.focus({preventScroll:!0})},L=ee(()=>{var le;return((le=b.value)==null?void 0:le.getSidebarProps())||{}}),A=()=>{i.openOnTop&&r("recalculate-position")},P=ki(u,"action"),K=ee(()=>i.monthPicker||i.yearPicker?ki(u,"monthYear"):i.timePicker?ki(u,"timePicker"):ki(u,"shared")),X=ee(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),B=ee(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),k=ee(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),re=le=>{ra(le,h.value,!0)},ie=()=>{i.escClose&&r("close-picker")},ve=le=>{if(i.arrowNavigation){if(le==="up")return O();if(le==="down")return S();if(le==="left")return T();if(le==="right")return w()}else le==="left"||le==="up"?ue("handleArrow","left",0,le==="up"):ue("handleArrow","right",0,le==="down")},ye=le=>{a(le.shiftKey),!i.disableMonthYearSelect&&le.code==="Tab"&&le.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(le.preventDefault(),ra(le,h.value,!0),r("close-picker"))},se=()=>{W(),r("time-picker-close")},z=le=>{var x,U,G;(x=b.value)==null||x.toggleTimePicker(!1,!1),(U=b.value)==null||U.toggleMonthPicker(!1,!1,le),(G=b.value)==null||G.toggleYearPicker(!1,!1,le)},Q=(le,x=0)=>{var U,G,ce;return le==="month"?(U=b.value)==null?void 0:U.toggleMonthPicker(!1,!0,x):le==="year"?(G=b.value)==null?void 0:G.toggleYearPicker(!1,!0,x):le==="time"?(ce=b.value)==null?void 0:ce.toggleTimePicker(!0,!1):z(x)},ue=(le,...x)=>{var U,G;(U=b.value)!=null&&U[le]&&((G=b.value)==null||G[le](...x))},Z=()=>{ue("selectCurrentDate")},pe=(le,x)=>{ue("presetDate",le,x)},_e=()=>{ue("clearHoverDate")};return e({updateMonthYear:(le,x)=>{ue("updateMonthYear",le,x)},switchView:Q}),(le,x)=>{var U;return I(),F("div",{id:le.uid?`dp-menu-${le.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog",class:Pe(k.value),onMouseleave:_e,onClick:re,onKeydown:[ht(ie,["esc"]),x[18]||(x[18]=ht(Tt(G=>ve("left"),["prevent"]),["left"])),x[19]||(x[19]=ht(Tt(G=>ve("up"),["prevent"]),["up"])),x[20]||(x[20]=ht(Tt(G=>ve("down"),["prevent"]),["down"])),x[21]||(x[21]=ht(Tt(G=>ve("right"),["prevent"]),["right"])),ye]},[(le.disabled||le.readonly)&&E(d).enabled?(I(),F("div",{key:0,class:Pe(B.value)},null,2)):q("",!0),!E(d).enabled&&!le.teleportCenter?(I(),F("div",{key:1,class:Pe(X.value)},null,2)):q("",!0),g("div",{ref_key:"innerMenuRef",ref:v,class:Pe({dp__menu_content_wrapper:((U=le.presetDates)==null?void 0:U.length)||!!le.$slots["left-sidebar"]||!!le.$slots["right-sidebar"]}),style:dn({"--dp-menu-width":`${p.value}px`})},[le.$slots["left-sidebar"]?(I(),F("div",Bme,[fe(le.$slots,"left-sidebar",Nn(lr(L.value)))])):q("",!0),le.presetDates.length?(I(),F("div",jme,[(I(!0),F(we,null,nt(le.presetDates,(G,ce)=>(I(),F(we,{key:ce},[G.slot?fe(le.$slots,G.slot,{key:0,presetDate:pe,label:G.label,value:G.value}):(I(),F("button",{key:1,type:"button",style:dn(G.style||{}),class:"dp__btn dp--preset-range",onClick:Tt(de=>pe(G.value,G.noTz),["prevent"]),onKeydown:[ht(Tt(de=>pe(G.value,G.noTz),["prevent"]),["enter"]),ht(Tt(de=>pe(G.value,G.noTz),["prevent"]),["space"])]},Me(G.label),45,Hme))],64))),128))])):q("",!0),g("div",{ref_key:"calendarWrapperRef",ref:f,class:"dp__instance_calendar",role:"document"},[(I(),ne(bn(V.value),ae({ref_key:"dynCmpRef",ref:b},s.value,{"flow-step":E(R),onMount:E(C),onUpdateFlowStep:E(D),onResetFlow:E(M),onFocusMenu:W,onSelectDate:x[0]||(x[0]=G=>le.$emit("select-date")),onDateUpdate:x[1]||(x[1]=G=>le.$emit("date-update",G)),onTooltipOpen:x[2]||(x[2]=G=>le.$emit("tooltip-open",G)),onTooltipClose:x[3]||(x[3]=G=>le.$emit("tooltip-close",G)),onAutoApply:x[4]||(x[4]=G=>le.$emit("auto-apply",G)),onRangeStart:x[5]||(x[5]=G=>le.$emit("range-start",G)),onRangeEnd:x[6]||(x[6]=G=>le.$emit("range-end",G)),onInvalidFixedRange:x[7]||(x[7]=G=>le.$emit("invalid-fixed-range",G)),onTimeUpdate:x[8]||(x[8]=G=>le.$emit("time-update")),onAmPmChange:x[9]||(x[9]=G=>le.$emit("am-pm-change",G)),onTimePickerOpen:x[10]||(x[10]=G=>le.$emit("time-picker-open",G)),onTimePickerClose:se,onRecalculatePosition:A,onUpdateMonthYear:x[11]||(x[11]=G=>le.$emit("update-month-year",G)),onAutoApplyInvalid:x[12]||(x[12]=G=>le.$emit("auto-apply-invalid",G)),onInvalidDate:x[13]||(x[13]=G=>le.$emit("invalid-date",G)),"onUpdate:internalModelValue":x[14]||(x[14]=G=>le.$emit("update:internal-model-value",G))}),rr({_:2},[nt(K.value,(G,ce)=>({name:G,fn:j(de=>[fe(le.$slots,G,Nn(lr({...de})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),le.$slots["right-sidebar"]?(I(),F("div",Wme,[fe(le.$slots,"right-sidebar",Nn(lr(L.value)))])):q("",!0),le.$slots["action-extra"]?(I(),F("div",Kme,[le.$slots["action-extra"]?fe(le.$slots,"action-extra",{key:0,selectCurrentDate:Z}):q("",!0)])):q("",!0)],6),!le.autoApply||E(h).keepActionRow?(I(),ne(zpe,ae({key:2,"menu-mount":y.value},s.value,{"calendar-width":p.value,onClosePicker:x[15]||(x[15]=G=>le.$emit("close-picker")),onSelectDate:x[16]||(x[16]=G=>le.$emit("select-date")),onInvalidSelect:x[17]||(x[17]=G=>le.$emit("invalid-select")),onSelectNow:Z}),rr({_:2},[nt(E(P),(G,ce)=>({name:G,fn:j(de=>[fe(le.$slots,G,Nn(lr({...de})))])}))]),1040,["menu-mount","calendar-width"])):q("",!0)],42,Ume)}}}),zme=typeof window<"u"?window:void 0,Lb=()=>{},Gme=t=>Zh()?(Ig(t),!0):!1,Yme=(t,e,n,r)=>{if(!t)return Lb;let i=Lb;const s=Ot(()=>E(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Lb})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return Gme(o),o},qme=(t,e,n,r={})=>{const{window:i=zme,event:s="pointerdown"}=r;return i?Yme(i,s,o=>{const a=ar(t),l=ar(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},Xme=Ce({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Qv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=fa(),o=oe(!1),a=Wu(i,"modelValue"),l=Wu(i,"timezone"),u=oe(null),c=oe(null),d=oe(null),h=oe(!1),f=oe(null),p=oe(!1),m=oe(!1),{setMenuFocused:v,setShiftKey:y}=f3(),{clearArrowNav:b}=_a(),{mapDatesArrToMap:_,validateDate:w,isValidTime:T}=jl(i),{defaultedTransitions:S,defaultedTextInput:O,defaultedInline:R,defaultedConfig:D}=Xn(i),{menuTransition:C,showTransition:M}=Ff(S);jt(()=>{ve(i.modelValue),qn().then(()=>{if(!R.value.enabled){const ge=B(f.value);ge==null||ge.addEventListener("scroll",le),window==null||window.addEventListener("resize",x)}}),R.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",U),window==null||window.addEventListener("keydown",G)});const V=ee(()=>_());Hs(()=>{if(!R.value.enabled){const ge=B(f.value);ge==null||ge.removeEventListener("scroll",le),window==null||window.removeEventListener("resize",x)}window==null||window.removeEventListener("keyup",U),window==null||window.removeEventListener("keydown",G)});const W=ki(s,"all",i.presetDates),L=ki(s,"input");Ot([a,l],()=>{ve(a.value)},{deep:!0});const{openOnTop:A,menuStyle:P,xCorrect:K,setMenuPosition:X,getScrollableParent:B,shadowRender:k}=Npe({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:R,emit:r,props:i,slots:s}),{inputValue:re,internalModelValue:ie,parseExternalModelValue:ve,emitModelValue:ye,formatInputValue:se,checkBeforeEmit:z}=Dpe(r,i,h),Q=ee(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:R.value.enabled,dp__flex_display_with_input:R.value.input})),ue=ee(()=>i.dark?"dp__theme_dark":"dp__theme_light"),Z=ee(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||R.value.enabled})),pe=ee(()=>({class:"dp__outer_menu_wrap"})),_e=ee(()=>R.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),le=()=>{o.value&&(D.value.closeOnScroll?He():X())},x=()=>{o.value&&X()},U=ge=>{ge.key==="Tab"&&!R.value.enabled&&!i.teleport&&D.value.tabOutClosesMenu&&(f.value.contains(document.activeElement)||He()),m.value=ge.shiftKey},G=ge=>{m.value=ge.shiftKey},ce=()=>{!i.disabled&&!i.readonly&&(k(ck,i),X(!1),o.value=!0,o.value&&r("open"),o.value||$e(),ve(i.modelValue))},de=()=>{var ge;re.value="",$e(),(ge=d.value)==null||ge.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),D.value.closeOnClearValue&&He()},Ee=()=>{const ge=ie.value;return!ge||!Array.isArray(ge)&&w(ge)?!0:Array.isArray(ge)?i.multiDates||ge.length===2&&w(ge[0])&&w(ge[1])?!0:i.partialRange&&!i.timePicker?w(ge[0]):!1:!1},De=()=>{z()&&Ee()?(ye(),He()):r("invalid-select",ie.value)},Te=ge=>{Oe(),ye(),D.value.closeOnAutoApply&&!ge&&He()},Oe=()=>{d.value&&O.value.enabled&&d.value.setParsedDate(ie.value)},be=(ge=!1)=>{i.autoApply&&T(ie.value)&&Ee()&&(i.range&&Array.isArray(ie.value)?(i.partialRange||ie.value.length===2)&&Te(ge):Te(ge))},$e=()=>{O.value.enabled||(ie.value=null)},He=()=>{R.value.enabled||(o.value&&(o.value=!1,K.value=!1,v(!1),y(!1),b(),r("closed"),re.value&&ve(a.value)),$e(),r("blur"))},Ge=(ge,ke,Re=!1)=>{if(!ge){ie.value=null;return}const Qe=Array.isArray(ge)?!ge.some(it=>!w(it)):w(ge),We=T(ge);Qe&&We&&(ie.value=ge,ke&&(p.value=Re,De(),r("text-submit")))},rt=()=>{i.autoApply&&T(ie.value)&&ye(),Oe()},ct=()=>o.value?He():ce(),J=ge=>{ie.value=ge},H=()=>{O.value.enabled&&(h.value=!0,se()),r("focus")},Y=()=>{if(O.value.enabled&&(h.value=!1,ve(i.modelValue),p.value)){const ge=dpe(f.value,m.value);ge==null||ge.focus()}r("blur")},te=ge=>{c.value&&c.value.updateMonthYear(0,{month:rk(ge.month),year:rk(ge.year)})},he=ge=>{ve(ge??i.modelValue)},Ve=(ge,ke)=>{var Re;(Re=c.value)==null||Re.switchView(ge,ke)},Xe=ge=>D.value.onClickOutside?D.value.onClickOutside(ge):He();return qme(u,d,()=>Xe(Ee)),e({closeMenu:He,selectDate:De,clearValue:de,openMenu:ce,onScroll:le,formatInputValue:se,updateInternalModelValue:J,setMonthYear:te,parseModel:he,switchView:Ve,toggleMenu:ct}),(ge,ke)=>(I(),F("div",{ref_key:"pickerWrapperRef",ref:f,class:Pe(Q.value),"data-datepicker-instance":""},[$(jpe,ae({ref_key:"inputRef",ref:d,"input-value":E(re),"onUpdate:inputValue":ke[0]||(ke[0]=Re=>hn(re)?re.value=Re:null),"is-menu-open":o.value},ge.$props,{onClear:de,onOpen:ce,onSetInputDate:Ge,onSetEmptyDate:E(ye),onSelectDate:De,onToggle:ct,onClose:He,onFocus:H,onBlur:Y,onRealBlur:ke[1]||(ke[1]=Re=>h.value=!1)}),rr({_:2},[nt(E(L),(Re,Qe)=>({name:Re,fn:j(We=>[fe(ge.$slots,Re,Nn(lr(We)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),$(P1,Nn(lr(Z.value)),{default:j(()=>[$(Xi,{name:E(C)(E(A)),css:E(M)&&!E(R).enabled},{default:j(()=>[o.value?(I(),F("div",ae({key:0,ref_key:"dpWrapMenuRef",ref:u},pe.value,{class:{"dp--menu-wrapper":!E(R).enabled},style:E(R).enabled?void 0:E(P)}),[$(ck,ae({ref_key:"dpMenuRef",ref:c},ge.$props,{"internal-model-value":E(ie),"onUpdate:internalModelValue":ke[2]||(ke[2]=Re=>hn(ie)?ie.value=Re:null),class:{[ue.value]:!0,"dp--menu-wrapper":ge.teleport},"open-on-top":E(A),"arr-map-values":V.value,"no-overlay-focus":_e.value,onClosePicker:He,onSelectDate:De,onAutoApply:be,onTimeUpdate:rt,onFlowStep:ke[3]||(ke[3]=Re=>ge.$emit("flow-step",Re)),onUpdateMonthYear:ke[4]||(ke[4]=Re=>ge.$emit("update-month-year",Re)),onInvalidSelect:ke[5]||(ke[5]=Re=>ge.$emit("invalid-select",E(ie))),onAutoApplyInvalid:ke[6]||(ke[6]=Re=>ge.$emit("invalid-select",Re)),onInvalidFixedRange:ke[7]||(ke[7]=Re=>ge.$emit("invalid-fixed-range",Re)),onRecalculatePosition:E(X),onTooltipOpen:ke[8]||(ke[8]=Re=>ge.$emit("tooltip-open",Re)),onTooltipClose:ke[9]||(ke[9]=Re=>ge.$emit("tooltip-close",Re)),onTimePickerOpen:ke[10]||(ke[10]=Re=>ge.$emit("time-picker-open",Re)),onTimePickerClose:ke[11]||(ke[11]=Re=>ge.$emit("time-picker-close",Re)),onAmPmChange:ke[12]||(ke[12]=Re=>ge.$emit("am-pm-change",Re)),onRangeStart:ke[13]||(ke[13]=Re=>ge.$emit("range-start",Re)),onRangeEnd:ke[14]||(ke[14]=Re=>ge.$emit("range-end",Re)),onDateUpdate:ke[15]||(ke[15]=Re=>ge.$emit("date-update",Re)),onInvalidDate:ke[16]||(ke[16]=Re=>ge.$emit("invalid-date",Re))}),rr({_:2},[nt(E(W),(Re,Qe)=>({name:Re,fn:j(We=>[fe(ge.$slots,Re,Nn(lr({...We})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):q("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),ES=(()=>{const t=Xme;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Qme=Object.freeze(Object.defineProperty({__proto__:null,default:ES},Symbol.toStringTag,{value:"Module"}));Object.entries(Qme).forEach(([t,e])=>{t!=="default"&&(ES[t]=e)});var Mr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function dk(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Jme(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Jme(t,e){if(t){if(typeof t=="string")return hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hk(t,e)}}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b3={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=dk(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=dk(n),d;try{for(c.s();!(d=c.n()).done;){var h=d.value,f=Ie.resolveFieldData(u,h);if(this.filters[i](f,r,s)){o.push(u);break}}}catch(p){c.e(p)}finally{c.f()}}}}catch(p){a.e(p)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Ie.removeAccents(e.toString()).toLocaleLowerCase(r)==Ie.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Ie.removeAccents(e.toString()).toLocaleLowerCase(r)!=Ie.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Ie.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Zme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zme(t,e,n){return e=ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ege(t){var e=tge(t,"string");return Kh(e)=="symbol"?e:String(e)}function tge(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pk={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[Mr.STARTS_WITH,Mr.CONTAINS,Mr.NOT_CONTAINS,Mr.ENDS_WITH,Mr.EQUALS,Mr.NOT_EQUALS],numeric:[Mr.EQUALS,Mr.NOT_EQUALS,Mr.LESS_THAN,Mr.LESS_THAN_OR_EQUAL_TO,Mr.GREATER_THAN,Mr.GREATER_THAN_OR_EQUAL_TO],date:[Mr.DATE_IS,Mr.DATE_IS_NOT,Mr.DATE_BEFORE,Mr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},nge=Symbol();function rge(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var ige={install:function(e,n){var r=n?Fb(Fb({},pk),n):Fb({},pk),i={config:Mn(r),changeTheme:rge};e.config.globalProperties.$primevue=i,e.provide(nge,i)}},w3={name:"BlankIcon",extends:ba},sge=g("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),oge=[sge];function age(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),oge,16)}w3.render=age;var ey={name:"CheckIcon",extends:ba},lge=g("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),uge=[lge];function cge(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),uge,16)}ey.render=cge;var IS={name:"SearchIcon",extends:ba},dge=g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),hge=[dge];function fge(t,e,n,r,i,s){return I(),F("svg",ae({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),hge,16)}IS.render=fge;var _3=wQ(),CS={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=xe.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function pge(t,e,n,r,i,s){return s.inline?fe(t.$slots,"default",{key:0}):i.mounted?(I(),ne(P1,{key:1,to:n.appendTo},[fe(t.$slots,"default")],8,["to"])):q("",!0)}CS.render=pge;var mge=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,mk=sr.extend({name:"virtualscroller",css:mge}),gge={name:"BaseVirtualScroller",extends:Xr,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:mk,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;mk.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){T3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T3(t,e,n){return e=vge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vge(t){var e=yge(t,"string");return zh(e)=="symbol"?e:String(e)}function yge(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OS={name:"VirtualScroller",extends:gge,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){xe.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=xe.getWidth(this.element),this.defaultHeight=xe.getHeight(this.element),this.defaultContentWidth=xe.getWidth(this.content),this.defaultContentHeight=xe.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(O){return O>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,h=d===void 0?0:d,f=this.calculateNumItems(),p=f.numToleratedItems,m=this.getContentPosition(),v=this.itemSize,y=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1?arguments[1]:void 0;return R<=D?0:R},b=function(R,D,C){return R*D+C},_=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:R,top:D,behavior:r})},w=i?{rows:0,cols:0}:0,T=!1,S=!1;i?(w={rows:y(e[0],p[0]),cols:y(e[1],p[1])},_(b(w.cols,v[1],m.left),b(w.rows,v[0],m.top)),S=this.lastScrollPos.top!==c||this.lastScrollPos.left!==h,T=w.rows!==a.rows||w.cols!==a.cols):(w=y(e,p),s?_(b(w,v,m.left),c):_(h,b(w,v,m.top)),S=this.lastScrollPos!==(s?h:c),T=w!==a),this.isRangeChanged=T,S&&(this.first=w)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(v){return v>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:y,top:b,behavior:i})},h=n==="to-start",f=n==="to-end";if(h){if(s)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var p=(c.first-1)*this.itemSize;o?d(p,0):d(0,p)}}else if(f){if(s)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var m=(c.first+1)*this.itemSize;o?d(m,0):d(0,m)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,h){return Math.floor(d/(h||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(h,f){return Math.ceil(h/(f||h))},l=function(h){return Math.ceil(h/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,d,h){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<h?2:3)*h,f)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=ed(ed({},e.spacerStyle),T3({},"".concat(l),(u||[]).length*c+d+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=ed(ed({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(M,V){return M?M>V?M-V:M:0},l=function(M,V){return Math.floor(M/(V||M))},u=function(M,V,W,L,A,P){return M<=A?A:P?W-L-A:V+A-1},c=function(M,V,W,L,A,P,K){return M<=P?0:Math.max(0,K?M<V?W:M-P:M>V?W:M-2*P)},d=function(M,V,W,L,A,P){var K=V+L+2*A;return M>=A&&(K+=A+1),n.getLast(K,P)},h=a(r.scrollTop,o.top),f=a(r.scrollLeft,o.left),p=i?{rows:0,cols:0}:0,m=this.last,v=!1,y=this.lastScrollPos;if(i){var b=this.lastScrollPos.top<=h,_=this.lastScrollPos.left<=f;if(!this.appendOnly||this.appendOnly&&(b||_)){var w={rows:l(h,this.itemSize[0]),cols:l(f,this.itemSize[1])},T={rows:u(w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:u(w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)};p={rows:c(w.rows,T.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],b),cols:c(w.cols,T.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)},m={rows:d(w.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(w.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,y={top:h,left:f}}}else{var S=s?f:h,O=this.lastScrollPos<=S;if(!this.appendOnly||this.appendOnly&&O){var R=l(S,this.itemSize),D=u(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O);p=c(R,D,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O),m=d(R,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=p!==this.first||m!==this.last||this.isRangeChanged,y=S}}return{first:p,last:m,isRangeChanged:v,scrollPos:y}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(xe.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=xe.getWidth(e.content),e.defaultContentHeight=xe.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return ed({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||xe.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Lf}},bge=["tabindex"];function wge(t,e,n,r,i,s){var o=_n("SpinnerIcon");return t.disabled?(I(),F(we,{key:1},[fe(t.$slots,"default"),fe(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(I(),F("div",ae({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[fe(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[g("div",ae({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(I(!0),F(we,null,nt(s.loadedItems,function(a,l){return fe(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(I(),F("div",ae({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):q("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(I(),F("div",ae({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(I(!0),F(we,{key:0},nt(i.loaderArr,function(a,l){return fe(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):q("",!0),fe(t.$slots,"loadingicon",{},function(){return[$(o,ae({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):q("",!0)],16,bge))}OS.render=wge;var _ge={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n=e.instance,r=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!r.editable&&n.label===r.placeholder,"p-dropdown-label-empty":!r.editable&&!n.$slots.value&&(n.label==="p-emptylabel"||n.label.length===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},Tge=sr.extend({name:"dropdown",classes:_ge}),Sge={name:"BaseDropdown",extends:Xr,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Tge,provide:function(){return{$parentInstance:this}}};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function Ege(t){return Age(t)||Oge(t)||Cge(t)||Ige()}function Ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cge(t,e){if(t){if(typeof t=="string")return Zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(t,e)}}function Oge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Age(t){if(Array.isArray(t))return Zw(t)}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){S3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S3(t,e,n){return e=kge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Pge(t,"string");return Gh(e)=="symbol"?e:String(e)}function Pge(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E3={name:"Dropdown",extends:Sge,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||uc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||uc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Uu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ie.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ie.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Ie.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ie.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ie.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ie.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||xe.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Ie.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Ie.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){_3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onDeleteKey:function(e){this.showClear&&(this.updateModel(e,null),e.preventDefault())},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget,i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Uu.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Uu.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new M$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&xe.isVisible(n)&&(this.labelClickListener=function(){xe.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&xe.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ie.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Ie.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Ie.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=b3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(yk(yk({},o),{},S3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",Ege(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Ie.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Ie.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Uv},components:{VirtualScroller:OS,Portal:CS,TimesIcon:Gv,ChevronDownIcon:Vv,SpinnerIcon:Lf,SearchIcon:IS,CheckIcon:ey,BlankIcon:w3}};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){xge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xge(t,e,n){return e=Dge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dge(t){var e=Rge(t,"string");return Yh(e)=="symbol"?e:String(e)}function Rge(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nge=["id"],Mge=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],$ge=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Lge=["value","placeholder","aria-owns","aria-activedescendant"],Fge=["id"],Vge=["id"],Uge=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Bge(t,e,n,r,i,s){var o=_n("SpinnerIcon"),a=_n("CheckIcon"),l=_n("BlankIcon"),u=_n("VirtualScroller"),c=_n("Portal"),d=tf("ripple");return I(),F("div",ae({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(I(),F("input",ae({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},bs(bs({},t.inputProps),t.ptm("input"))),null,16,Mge)):(I(),F("span",ae({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},bs(bs({},t.inputProps),t.ptm("input"))),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[N(Me(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,$ge)),t.showClear&&t.modelValue!=null?fe(t.$slots,"clearicon",{key:2,class:Pe(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(I(),ne(bn(t.clearIcon?"i":"TimesIcon"),ae({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},bs(bs({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):q("",!0),g("div",ae({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:Pe(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(I(),F("span",ae({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(I(),ne(o,ae({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:Pe(t.cx("dropdownIcon"))},function(){return[(I(),ne(bn(t.dropdownIcon?"span":"ChevronDownIcon"),ae({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),$(c,{appendTo:t.appendTo},{default:j(function(){return[$(Xi,ae({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:j(function(){return[i.overlayVisible?(I(),F("div",ae({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},bs(bs({},t.panelProps),t.ptm("panel"))),[g("span",ae({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(I(),F("div",ae({key:0,class:t.cx("header")},t.ptm("header")),[g("div",ae({class:t.cx("filterContainer")},t.ptm("filterContainer")),[g("input",ae({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},bs(bs({},t.filterInputProps),t.ptm("filterInput"))),null,16,Lge),fe(t.$slots,"filtericon",{class:Pe(t.cx("filterIcon"))},function(){return[(I(),ne(bn(t.filterIcon?"span":"SearchIcon"),ae({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),g("span",ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Me(s.filterResultMessageText),17)],16)):q("",!0),g("div",ae({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[$(u,ae({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),rr({content:j(function(h){var f=h.styleClass,p=h.contentRef,m=h.items,v=h.getItemOptions,y=h.contentStyle,b=h.itemSize;return[g("ul",ae({ref:function(w){return s.listRef(w,p)},id:i.id+"_list",class:[t.cx("list"),f],style:y,role:"listbox"},t.ptm("list")),[(I(!0),F(we,null,nt(m,function(_,w){return I(),F(we,{key:s.getOptionRenderKey(_,s.getOptionIndex(w,v))},[s.isOptionGroup(_)?(I(),F("li",ae({key:0,id:i.id+"_"+s.getOptionIndex(w,v),style:{height:b?b+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(w,v)},function(){return[g("span",ae({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),Me(s.getOptionGroupLabel(_.optionGroup)),17)]})],16,Vge)):vi((I(),F("li",ae({key:1,id:i.id+"_"+s.getOptionIndex(w,v),class:t.cx("item",{option:_,focusedOption:s.getOptionIndex(w,v)}),style:{height:b?b+"px":void 0},role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(w,v)),onClick:function(S){return s.onOptionSelect(S,_)},onMousemove:function(S){return s.onOptionMouseMove(S,s.getOptionIndex(w,v))},"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(w,v),"data-p-disabled":s.isOptionDisabled(_)},s.getPTItemOptions(_,v,w,"item")),[t.checkmark?(I(),F(we,{key:0},[s.isSelected(_)?(I(),ne(a,ae({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(I(),ne(l,ae({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):q("",!0),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(w,v)},function(){return[g("span",ae({class:t.cx("itemLabel")},t.ptm("itemLabel")),Me(s.getOptionLabel(_)),17)]})],16,Uge)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(I(),F("li",ae({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"emptyfilter",{},function(){return[N(Me(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(I(),F("li",ae({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[fe(t.$slots,"empty",{},function(){return[N(Me(s.emptyMessageText),1)]})],16)):q("",!0)],16,Fge)]}),_:2},[t.$slots.loader?{name:"loader",fn:j(function(h){var f=h.options;return[fe(t.$slots,"loader",{options:f})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(I(),F("span",ae({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Me(s.emptyMessageText),17)):q("",!0),g("span",ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Me(s.selectedMessageText),17),g("span",ae({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):q("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,Nge)}E3.render=Bge;var jge={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},Hge=sr.extend({name:"inputtext",classes:jge}),Wge={name:"BaseInputText",extends:Xr,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:Hge,provide:function(){return{$parentInstance:this}}},I3={name:"InputText",extends:Wge,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},Kge=["value","aria-invalid"];function zge(t,e,n,r,i,s){return I(),F("input",ae({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,Kge)}I3.render=zge;var Gge={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},Yge=sr.extend({name:"checkbox",classes:Gge}),qge={name:"BaseCheckbox",extends:Xr,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Yge,provide:function(){return{$parentInstance:this}}};function Xge(t){return eve(t)||Zge(t)||Jge(t)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jge(t,e){if(t){if(typeof t=="string")return e1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(t,e)}}function Zge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eve(t){if(Array.isArray(t))return e1(t)}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C3={name:"Checkbox",extends:qge,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Ie.equals(i,n.value)}):r=this.modelValue?[].concat(Xge(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ie.contains(this.value,this.modelValue)}},components:{CheckIcon:ey}},tve=["data-p-highlight","data-p-disabled"],nve=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function rve(t,e,n,r,i,s){var o=_n("CheckIcon");return I(),F("div",ae({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[g("input",ae({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,nve),g("div",ae({class:t.cx("box")},s.getPTOptions("box")),[fe(t.$slots,"icon",{checked:s.checked,class:Pe(t.cx("icon"))},function(){return[s.checked?(I(),ne(o,ae({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):q("",!0)]})],16)],16,tve)}C3.render=rve;var ive={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},sve={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},ove=sr.extend({name:"multiselect",classes:sve,inlineStyles:ive}),ave={name:"BaseMultiSelect",extends:Xr,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:ove,provide:function(){return{$parentInstance:this}}};function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){O3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O3(t,e,n){return e=lve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){var e=uve(t,"string");return qh(e)=="symbol"?e:String(e)}function uve(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tk(t){return fve(t)||hve(t)||dve(t)||cve()}function cve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dve(t,e){if(t){if(typeof t=="string")return t1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t1(t,e)}}function hve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fve(t){if(Array.isArray(t))return t1(t)}function t1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var A3={name:"MultiSelect",extends:ave,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||uc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||uc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Uu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ie.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ie.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?Ie.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ie.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ie.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ie.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Ie.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Ie.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(Tk(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&xe.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){_3.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(0,e.shiftKey?i:0),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,o,this.startRangeIndex),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(e.shiftKey?0:i,i),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Uu.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Uu.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new M$(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Ie.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Ie.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ie.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ie.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Ie.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=b3.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(_k(_k({},o),{},O3({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",Tk(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Ie.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Ie.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Ie.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Ie.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Ie.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Uv},components:{Checkbox:C3,VirtualScroller:OS,Portal:CS,TimesIcon:Gv,SearchIcon:IS,TimesCircleIcon:VT,ChevronDownIcon:Vv,SpinnerIcon:Lf,CheckIcon:ey}};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){n1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n1(t,e,n){return e=pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=mve(t,"string");return Xh(e)=="symbol"?e:String(e)}function mve(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gve=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],vve=["onClick"],yve=["value","placeholder","aria-owns","aria-activedescendant"],bve=["aria-label"],wve=["id"],_ve=["id"],Tve=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Sve(t,e,n,r,i,s){var o=_n("TimesCircleIcon"),a=_n("SpinnerIcon"),l=_n("Checkbox"),u=_n("VirtualScroller"),c=_n("Portal"),d=tf("ripple");return I(),F("div",ae({ref:"container",class:t.cx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[g("div",ae({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[g("input",ae({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Do(Do({},t.inputProps),t.ptm("hiddenInput"))),null,16,gve)],16),g("div",ae({class:t.cx("labelContainer")},t.ptm("labelContainer")),[g("div",ae({class:t.cx("label")},t.ptm("label")),[fe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(I(),F(we,{key:0},[N(Me(s.label||"empty"),1)],64)):t.display==="chip"?(I(),F(we,{key:1},[(I(!0),F(we,null,nt(s.chipSelectedItems,function(h){return I(),F("div",ae({key:s.getLabelByValue(h),class:t.cx("token")},t.ptm("token")),[fe(t.$slots,"chip",{value:h},function(){return[g("span",ae({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),Me(s.getLabelByValue(h)),17)]}),t.disabled?q("",!0):fe(t.$slots,"removetokenicon",{key:0,class:Pe(t.cx("removeTokenIcon")),item:h,onClick:function(p){return s.removeOption(p,h)},removeCallback:function(p){return s.removeOption(p,h)}},function(){return[t.removeTokenIcon?(I(),F("span",ae({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Tt(function(f){return s.removeOption(f,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,vve)):(I(),ne(o,ae({key:1,class:t.cx("removeTokenIcon"),onClick:Tt(function(f){return s.removeOption(f,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(I(),F(we,{key:0},[N(Me(t.placeholder||"empty"),1)],64)):q("",!0)],64)):q("",!0)]})],16)],16),g("div",ae({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?fe(t.$slots,"loadingicon",{key:0,class:Pe(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(I(),F("span",ae({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(I(),ne(a,ae({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):fe(t.$slots,"dropdownicon",{key:1,class:Pe(t.cx("dropdownIcon"))},function(){return[(I(),ne(bn(t.dropdownIcon?"span":"ChevronDownIcon"),ae({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),$(c,{appendTo:t.appendTo},{default:j(function(){return[$(Xi,ae({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:j(function(){return[i.overlayVisible?(I(),F("div",ae({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Do(Do({},t.panelProps),t.ptm("panel"))),[g("span",ae({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),fe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(I(),F("div",ae({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(I(),ne(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:j(function(h){return[t.$slots.headercheckboxicon?(I(),ne(bn(t.$slots.headercheckboxicon),{key:0,checked:h.checked,class:Pe(h.class)},null,8,["checked","class"])):h.checked?(I(),ne(bn(t.checkboxIcon?"span":"CheckIcon"),ae({key:1,class:[h.class,n1({},t.checkboxIcon,h.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):q("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):q("",!0),t.filter?(I(),F("div",ae({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[g("input",ae({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Do(Do({},t.filterInputProps),t.ptm("filterInput"))),null,16,yve),fe(t.$slots,"filtericon",{class:Pe(t.cx("filterIcon"))},function(){return[(I(),ne(bn(t.filterIcon?"span":"SearchIcon"),ae({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):q("",!0),t.filter?(I(),F("span",ae({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Me(s.filterResultMessageText),17)):q("",!0),vi((I(),F("button",ae({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Do(Do({},t.closeButtonProps),t.ptm("closeButton"))),[fe(t.$slots,"closeicon",{class:Pe(t.cx("closeIcon"))},function(){return[(I(),ne(bn(t.closeIcon?"span":"TimesIcon"),ae({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,bve)),[[d]])],16)):q("",!0),g("div",ae({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[$(u,ae({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),rr({content:j(function(h){var f=h.styleClass,p=h.contentRef,m=h.items,v=h.getItemOptions,y=h.contentStyle,b=h.itemSize;return[g("ul",ae({ref:function(w){return s.listRef(w,p)},id:i.id+"_list",class:[t.cx("list"),f],style:y,role:"listbox","aria-multiselectable":"true"},t.ptm("list")),[(I(!0),F(we,null,nt(m,function(_,w){return I(),F(we,{key:s.getOptionRenderKey(_,s.getOptionIndex(w,v))},[s.isOptionGroup(_)?(I(),F("li",ae({key:0,id:i.id+"_"+s.getOptionIndex(w,v),style:{height:b?b+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[fe(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(w,v)},function(){return[N(Me(s.getOptionGroupLabel(_.optionGroup)),1)]})],16,_ve)):vi((I(),F("li",ae({key:1,id:i.id+"_"+s.getOptionIndex(w,v),style:{height:b?b+"px":void 0},class:t.cx("item",{option:_,index:w,getItemOptions:v}),role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(w,v)),onClick:function(S){return s.onOptionSelect(S,_,s.getOptionIndex(w,v),!0)},onMousemove:function(S){return s.onOptionMouseMove(S,s.getOptionIndex(w,v))}},s.getCheckboxPTOptions(_,v,w,"item"),{"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(w,v),"data-p-disabled":s.isOptionDisabled(_)}),[$(l,{modelValue:s.isSelected(_),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(_,v,w,"itemCheckbox")},{icon:j(function(T){return[t.$slots.itemcheckboxicon?(I(),ne(bn(t.$slots.itemcheckboxicon),{key:0,checked:T.checked,class:Pe(T.class)},null,8,["checked","class"])):T.checked?(I(),ne(bn(t.checkboxIcon?"span":"CheckIcon"),ae({key:1,class:[T.class,n1({},t.checkboxIcon,T.checked)]},s.getCheckboxPTOptions(_,v,w,"itemCheckbox.icon")),null,16,["class"])):q("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),fe(t.$slots,"option",{option:_,index:s.getOptionIndex(w,v)},function(){return[g("span",Nn(lr(t.ptm("option"))),Me(s.getOptionLabel(_)),17)]})],16,Tve)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(I(),F("li",ae({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"emptyfilter",{},function(){return[N(Me(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(I(),F("li",ae({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[fe(t.$slots,"empty",{},function(){return[N(Me(s.emptyMessageText),1)]})],16)):q("",!0)],16,wve)]}),_:2},[t.$slots.loader?{name:"loader",fn:j(function(h){var f=h.options;return[fe(t.$slots,"loader",{options:f})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),fe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(I(),F("span",ae({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Me(s.emptyMessageText),17)):q("",!0),g("span",ae({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Me(s.selectedMessageText),17),g("span",ae({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):q("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}A3.render=Sve;var Eve={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},Ive=sr.extend({name:"textarea",classes:Eve}),Cve={name:"BaseTextarea",extends:Xr,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:Ive,provide:function(){return{$parentInstance:this}}},k3={name:"Textarea",extends:Cve,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},Ove=["value","aria-invalid"];function Ave(t,e,n,r,i,s){return I(),F("textarea",ae({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,Ove)}k3.render=Ave;const Qi=cx(tV);Qi.use(rS);Qi.use($X,{firebaseApp:AD,modules:[DX()]});Qi.use(ND);Qi.use(H6);Qi.use(Bne);Qi.use(ige);Qi.component("VueDatePicker",ES);Qi.component("PrimeInputText",I3);Qi.component("PrimeTextArea",k3);Qi.component("PrimeDropdown",E3);Qi.component("PrimeMultiSelect",A3);Qi.mount("#app");
