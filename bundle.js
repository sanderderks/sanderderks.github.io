var Kx=Object.defineProperty;var Yx=(t,e,n)=>e in t?Kx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var cs=(t,e,n)=>(Yx(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const gt={},yl=[],li=()=>{},Qx=()=>!1,Sd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ky=t=>t.startsWith("onUpdate:"),Gt=Object.assign,Yy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Xx=Object.prototype.hasOwnProperty,Rt=(t,e)=>Xx.call(t,e),$e=Array.isArray,_l=t=>au(t)==="[object Map]",Ca=t=>au(t)==="[object Set]",kw=t=>au(t)==="[object Date]",Jx=t=>au(t)==="[object RegExp]",Ze=t=>typeof t=="function",Jt=t=>typeof t=="string",Di=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",Qy=t=>(Ht(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),tA=Object.prototype.toString,au=t=>tA.call(t),Zx=t=>au(t).slice(8,-1),Tp=t=>au(t)==="[object Object]",Xy=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bl=wp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ep=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},eM=/-(\w)/g,_r=Ep(t=>t.replace(eM,(e,n)=>n?n.toUpperCase():"")),tM=/\B([A-Z])/g,Fr=Ep(t=>t.replace(tM,"-$1").toLowerCase()),Ip=Ep(t=>t.charAt(0).toUpperCase()+t.slice(1)),Yh=Ep(t=>t?`on${Ip(t)}`:""),Or=(t,e)=>!Object.is(t,e),wl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},nA=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},mf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},gf=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let Dw;const Sp=()=>Dw||(Dw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),nM="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",rM=wp(nM);function kr(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Jt(r)?aM(r):kr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Jt(t)||Ht(t))return t}const iM=/;(?![^(]*\))/g,sM=/:([^]+)/,oM=/\/\*[^]*?\*\//g;function aM(t){const e={};return t.replace(oM,"").split(iM).forEach(n=>{if(n){const r=n.split(sM);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Jt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(Ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function wn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=tt(e)),n&&(t.style=kr(n)),t}const lM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uM=wp(lM);function rA(t){return!!t||t===""}function cM(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=_o(t[r],e[r]);return n}function _o(t,e){if(t===e)return!0;let n=kw(t),r=kw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Di(t),r=Di(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?cM(t,e):!1;if(n=Ht(t),r=Ht(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!_o(t[o],e[o]))return!1}}return String(t)===String(e)}function Ap(t,e){return t.findIndex(n=>_o(n,e))}const iA=t=>!!(t&&t.__v_isRef===!0),ht=t=>Jt(t)?t:t==null?"":$e(t)||Ht(t)&&(t.toString===tA||!Ze(t.toString))?iA(t)?ht(t.value):JSON.stringify(t,sA,2):String(t),sA=(t,e)=>iA(e)?sA(t,e.value):_l(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[zm(r,s)+" =>"]=i,n),{})}:Ca(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zm(n))}:Di(e)?zm(e):Ht(e)&&!$e(e)&&!Tp(e)?String(e):e,zm=(t,e="")=>{var n;return Di(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cr;class oA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Cr,!e&&Cr&&(this.index=(Cr.scopes||(Cr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Cr;try{return Cr=this,e()}finally{Cr=n}}}on(){Cr=this}off(){Cr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Jy(t){return new oA(t)}function Zy(){return Cr}function aA(t,e=!1){Cr&&Cr.cleanups.push(t)}let Yt;const Gm=new WeakSet;class vf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Cr&&Cr.active&&Cr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gm.has(this)&&(Gm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Nw(this),cA(this);const e=Yt,n=Ai;Yt=this,Ai=!0;try{return this.fn()}finally{dA(this),Yt=e,Ai=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)n_(e);this.deps=this.depsTail=void 0,Nw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sv(this)&&this.run()}get dirty(){return sv(this)}}let lA=0,rc,ic;function uA(t,e=!1){if(t.flags|=8,e){t.next=ic,ic=t;return}t.next=rc,rc=t}function e_(){lA++}function t_(){if(--lA>0)return;if(ic){let e=ic;for(ic=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;rc;){let e=rc;for(rc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function cA(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function dA(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),n_(r),dM(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function sv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(hA(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function hA(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===kc))return;t.globalVersion=kc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!sv(t)){t.flags&=-3;return}const n=Yt,r=Ai;Yt=t,Ai=!0;try{cA(t);const i=t.fn(t._value);(e.version===0||Or(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Yt=n,Ai=r,dA(t),t.flags&=-3}}function n_(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)n_(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function dM(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function Tne(t,e){t.effect instanceof vf&&(t=t.effect.fn);const n=new vf(t);e&&Gt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function Ene(t){t.effect.stop()}let Ai=!0;const fA=[];function Oo(){fA.push(Ai),Ai=!1}function Po(){const t=fA.pop();Ai=t===void 0?!0:t}function Nw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Yt;Yt=void 0;try{e()}finally{Yt=n}}}let kc=0;class hM{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Yt||!Ai||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new hM(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,pA(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=r)}return n}trigger(e){this.version++,kc++,this.notify(e)}notify(e){e_();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{t_()}}}function pA(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)pA(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const yf=new WeakMap,Jo=Symbol(""),ov=Symbol(""),Dc=Symbol("");function cr(t,e,n){if(Ai&&Yt){let r=yf.get(t);r||yf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Cp),i.map=r,i.key=n),i.track()}}function ms(t,e,n,r,i,s){const o=yf.get(t);if(!o){kc++;return}const a=l=>{l&&l.trigger()};if(e_(),e==="clear")o.forEach(a);else{const l=$e(t),u=l&&Xy(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Dc||!Di(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Dc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Jo)),_l(t)&&a(o.get(ov)));break;case"delete":l||(a(o.get(Jo)),_l(t)&&a(o.get(ov)));break;case"set":_l(t)&&a(o.get(Jo));break}}t_()}function fM(t,e){const n=yf.get(t);return n&&n.get(e)}function za(t){const e=mt(t);return e===t?e:(cr(e,"iterate",Dc),ui(t)?e:e.map(dr))}function Op(t){return cr(t=mt(t),"iterate",Dc),t}const pM={__proto__:null,[Symbol.iterator](){return Km(this,Symbol.iterator,dr)},concat(...t){return za(this).concat(...t.map(e=>$e(e)?za(e):e))},entries(){return Km(this,"entries",t=>(t[1]=dr(t[1]),t))},every(t,e){return ds(this,"every",t,e,void 0,arguments)},filter(t,e){return ds(this,"filter",t,e,n=>n.map(dr),arguments)},find(t,e){return ds(this,"find",t,e,dr,arguments)},findIndex(t,e){return ds(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ds(this,"findLast",t,e,dr,arguments)},findLastIndex(t,e){return ds(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ds(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ym(this,"includes",t)},indexOf(...t){return Ym(this,"indexOf",t)},join(t){return za(this).join(t)},lastIndexOf(...t){return Ym(this,"lastIndexOf",t)},map(t,e){return ds(this,"map",t,e,void 0,arguments)},pop(){return Du(this,"pop")},push(...t){return Du(this,"push",t)},reduce(t,...e){return xw(this,"reduce",t,e)},reduceRight(t,...e){return xw(this,"reduceRight",t,e)},shift(){return Du(this,"shift")},some(t,e){return ds(this,"some",t,e,void 0,arguments)},splice(...t){return Du(this,"splice",t)},toReversed(){return za(this).toReversed()},toSorted(t){return za(this).toSorted(t)},toSpliced(...t){return za(this).toSpliced(...t)},unshift(...t){return Du(this,"unshift",t)},values(){return Km(this,"values",dr)}};function Km(t,e,n){const r=Op(t),i=r[e]();return r!==t&&!ui(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const mM=Array.prototype;function ds(t,e,n,r,i,s){const o=Op(t),a=o!==t&&!ui(t),l=o[e];if(l!==mM[e]){const h=l.apply(t,s);return a?dr(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,dr(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function xw(t,e,n,r){const i=Op(t);let s=n;return i!==t&&(ui(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,dr(a),l,t)}),i[e](s,...r)}function Ym(t,e,n){const r=mt(t);cr(r,"iterate",Dc);const i=r[e](...n);return(i===-1||i===!1)&&i_(n[0])?(n[0]=mt(n[0]),r[e](...n)):i}function Du(t,e,n=[]){Oo(),e_();const r=mt(t)[e].apply(t,n);return t_(),Po(),r}const gM=wp("__proto__,__v_isRef,__isVue"),mA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Di));function vM(t){Di(t)||(t=String(t));const e=mt(this);return cr(e,"has",t),e.hasOwnProperty(t)}class gA{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?TA:wA:s?bA:_A).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=pM[n]))return l;if(n==="hasOwnProperty")return vM}const a=Reflect.get(e,n,an(e)?e:r);return(Di(n)?mA.has(n):gM(n))||(i||cr(e,"get",n),s)?a:an(a)?o&&Xy(n)?a:a.value:Ht(a)?i?r_(a):Nr(a):a}}class vA extends gA{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=la(s);if(!ui(r)&&!la(r)&&(s=mt(s),r=mt(r)),!$e(e)&&an(s)&&!an(r))return l?!1:(s.value=r,!0)}const o=$e(e)&&Xy(n)?Number(n)<e.length:Rt(e,n),a=Reflect.set(e,n,r,an(e)?e:i);return e===mt(i)&&(o?Or(r,s)&&ms(e,"set",n,r):ms(e,"add",n,r)),a}deleteProperty(e,n){const r=Rt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ms(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Di(n)||!mA.has(n))&&cr(e,"has",n),r}ownKeys(e){return cr(e,"iterate",$e(e)?"length":Jo),Reflect.ownKeys(e)}}class yA extends gA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const yM=new vA,_M=new yA,bM=new vA(!0),wM=new yA(!0),av=t=>t,mh=t=>Reflect.getPrototypeOf(t);function TM(t,e,n){return function(...r){const i=this.__v_raw,s=mt(i),o=_l(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?av:e?lv:dr;return!e&&cr(s,"iterate",l?ov:Jo),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function gh(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function EM(t,e){const n={get(i){const s=this.__v_raw,o=mt(s),a=mt(i);t||(Or(i,a)&&cr(o,"get",i),cr(o,"get",a));const{has:l}=mh(o),u=e?av:t?lv:dr;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&cr(mt(i),"iterate",Jo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=mt(s),a=mt(i);return t||(Or(i,a)&&cr(o,"has",i),cr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=mt(a),u=e?av:t?lv:dr;return!t&&cr(l,"iterate",Jo),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return Gt(n,t?{add:gh("add"),set:gh("set"),delete:gh("delete"),clear:gh("clear")}:{add(i){!e&&!ui(i)&&!la(i)&&(i=mt(i));const s=mt(this);return mh(s).has.call(s,i)||(s.add(i),ms(s,"add",i,i)),this},set(i,s){!e&&!ui(s)&&!la(s)&&(s=mt(s));const o=mt(this),{has:a,get:l}=mh(o);let u=a.call(o,i);u||(i=mt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Or(s,c)&&ms(o,"set",i,s):ms(o,"add",i,s),this},delete(i){const s=mt(this),{has:o,get:a}=mh(s);let l=o.call(s,i);l||(i=mt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&ms(s,"delete",i,void 0),u},clear(){const i=mt(this),s=i.size!==0,o=i.clear();return s&&ms(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=TM(i,t,e)}),n}function Pp(t,e){const n=EM(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Rt(n,i)&&i in r?n:r,i,s)}const IM={get:Pp(!1,!1)},SM={get:Pp(!1,!0)},AM={get:Pp(!0,!1)},CM={get:Pp(!0,!0)},_A=new WeakMap,bA=new WeakMap,wA=new WeakMap,TA=new WeakMap;function OM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PM(t){return t.__v_skip||!Object.isExtensible(t)?0:OM(Zx(t))}function Nr(t){return la(t)?t:Rp(t,!1,yM,IM,_A)}function EA(t){return Rp(t,!1,bM,SM,bA)}function r_(t){return Rp(t,!0,_M,AM,wA)}function Ine(t){return Rp(t,!0,wM,CM,TA)}function Rp(t,e,n,r,i){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=PM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Yi(t){return la(t)?Yi(t.__v_raw):!!(t&&t.__v_isReactive)}function la(t){return!!(t&&t.__v_isReadonly)}function ui(t){return!!(t&&t.__v_isShallow)}function i_(t){return t?!!t.__v_raw:!1}function mt(t){const e=t&&t.__v_raw;return e?mt(e):t}function s_(t){return!Rt(t,"__v_skip")&&Object.isExtensible(t)&&nA(t,"__v_skip",!0),t}const dr=t=>Ht(t)?Nr(t):t,lv=t=>Ht(t)?r_(t):t;function an(t){return t?t.__v_isRef===!0:!1}function fe(t){return SA(t,!1)}function IA(t){return SA(t,!0)}function SA(t,e){return an(t)?t:new RM(t,e)}class RM{constructor(e,n){this.dep=new Cp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:mt(e),this._value=n?e:dr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ui(e)||la(e);e=r?e:mt(e),Or(e,n)&&(this._rawValue=e,this._value=r?e:dr(e),this.dep.trigger())}}function Sne(t){t.dep&&t.dep.trigger()}function Y(t){return an(t)?t.value:t}function Ane(t){return Ze(t)?t():Y(t)}const kM={get:(t,e,n)=>e==="__v_raw"?t:Y(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function AA(t){return Yi(t)?t:new Proxy(t,kM)}class DM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Cp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function NM(t){return new DM(t)}function xM(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=CA(t,n);return e}class MM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return fM(mt(this._object),this._key)}}class LM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Nc(t,e,n){return an(t)?t:Ze(t)?new LM(t):Ht(t)&&arguments.length>1?CA(t,e,n):fe(t)}function CA(t,e,n){const r=t[e];return an(r)?r:new MM(t,e,n)}class VM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Cp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return uA(this,!0),!0}get value(){const e=this.dep.track();return hA(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function FM(t,e,n=!1){let r,i;return Ze(t)?r=t:(r=t.get,i=t.set),new VM(r,i,n)}const Cne={GET:"get",HAS:"has",ITERATE:"iterate"},One={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},vh={},_f=new WeakMap;let Qs;function Pne(){return Qs}function $M(t,e=!1,n=Qs){if(n){let r=_f.get(n);r||_f.set(n,r=[]),r.push(t)}}function UM(t,e,n=gt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=y=>i?y:ui(y)||i===!1||i===0?gs(y,1):gs(y);let c,h,f,p,g=!1,b=!1;if(an(t)?(h=()=>t.value,g=ui(t)):Yi(t)?(h=()=>u(t),g=!0):$e(t)?(b=!0,g=t.some(y=>Yi(y)||ui(y)),h=()=>t.map(y=>{if(an(y))return y.value;if(Yi(y))return u(y);if(Ze(y))return l?l(y,2):y()})):Ze(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Oo();try{f()}finally{Po()}}const y=Qs;Qs=c;try{return l?l(t,3,[p]):t(p)}finally{Qs=y}}:h=li,e&&i){const y=h,M=i===!0?1/0:i;h=()=>gs(y(),M)}const E=Zy(),k=()=>{c.stop(),E&&E.active&&Yy(E.effects,c)};if(s&&e){const y=e;e=(...M)=>{y(...M),k()}}let P=b?new Array(t.length).fill(vh):vh;const T=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const M=c.run();if(i||g||(b?M.some((L,S)=>Or(L,P[S])):Or(M,P))){f&&f();const L=Qs;Qs=c;try{const S=[M,P===vh?void 0:b&&P[0]===vh?[]:P,p];l?l(e,3,S):e(...S),P=M}finally{Qs=L}}}else c.run()};return a&&a(T),c=new vf(h),c.scheduler=o?()=>o(T,!1):T,p=y=>$M(y,!1,c),f=c.onStop=()=>{const y=_f.get(c);if(y){if(l)l(y,4);else for(const M of y)M();_f.delete(c)}},e?r?T(!0):P=c.run():o?o(T.bind(null,!0),!0):c.run(),k.pause=c.pause.bind(c),k.resume=c.resume.bind(c),k.stop=k,k}function gs(t,e=1/0,n){if(e<=0||!Ht(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))gs(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)gs(t[r],e,n);else if(Ca(t)||_l(t))t.forEach(r=>{gs(r,e,n)});else if(Tp(t)){for(const r in t)gs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&gs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const OA=[];function BM(t){OA.push(t)}function jM(){OA.pop()}function Rne(t,e){}const kne={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},HM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ad(t,e,n,r){try{return r?t(...r):t()}catch(i){lu(i,e,n)}}function Ni(t,e,n,r){if(Ze(t)){const i=Ad(t,e,n,r);return i&&Qy(i)&&i.catch(s=>{lu(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ni(t[s],e,n,r));return i}}function lu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||gt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){Oo(),Ad(s,null,10,[t,l,u]),Po();return}}WM(t,n,i,r,o)}function WM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Pr=[];let Ui=-1;const Tl=[];let Xs=null,el=0;const PA=Promise.resolve();let bf=null;function Hn(t){const e=bf||PA;return t?e.then(this?t.bind(this):t):e}function qM(t){let e=Ui+1,n=Pr.length;for(;e<n;){const r=e+n>>>1,i=Pr[r],s=xc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function o_(t){if(!(t.flags&1)){const e=xc(t),n=Pr[Pr.length-1];!n||!(t.flags&2)&&e>=xc(n)?Pr.push(t):Pr.splice(qM(e),0,t),t.flags|=1,RA()}}function RA(){bf||(bf=PA.then(kA))}function wf(t){$e(t)?Tl.push(...t):Xs&&t.id===-1?Xs.splice(el+1,0,t):t.flags&1||(Tl.push(t),t.flags|=1),RA()}function Mw(t,e,n=Ui+1){for(;n<Pr.length;n++){const r=Pr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Tf(t){if(Tl.length){const e=[...new Set(Tl)].sort((n,r)=>xc(n)-xc(r));if(Tl.length=0,Xs){Xs.push(...e);return}for(Xs=e,el=0;el<Xs.length;el++){const n=Xs[el];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xs=null,el=0}}const xc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function kA(t){try{for(Ui=0;Ui<Pr.length;Ui++){const e=Pr[Ui];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ad(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ui<Pr.length;Ui++){const e=Pr[Ui];e&&(e.flags&=-2)}Ui=-1,Pr.length=0,Tf(),bf=null,(Pr.length||Tl.length)&&kA()}}let tl,yh=[];function DA(t,e){var n,r;tl=t,tl?(tl.enabled=!0,yh.forEach(({event:i,args:s})=>tl.emit(i,...s)),yh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{DA(s,e)}),setTimeout(()=>{tl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,yh=[])},3e3)):yh=[]}let Ln=null,kp=null;function Mc(t){const e=Ln;return Ln=t,kp=t&&t.type.__scopeId||null,e}function Dne(t){kp=t}function Nne(){kp=null}const xne=t=>Qe;function Qe(t,e=Ln,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Yw(-1);const s=Mc(e);let o;try{o=t(...i)}finally{Mc(s),r._d&&Yw(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Zo(t,e){if(Ln===null)return t;const n=Pd(Ln),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=gt]=e[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&gs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ji(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Oo(),Ni(l,n,8,[t.el,a,t,e]),Po())}}const NA=Symbol("_vte"),xA=t=>t.__isTeleport,sc=t=>t&&(t.disabled||t.disabled===""),Lw=t=>t&&(t.defer||t.defer===""),Vw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Fw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,uv=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},MA={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:b,createComment:E}}=u,k=sc(e.props);let{shapeFlag:P,children:T,dynamicChildren:y}=e;if(t==null){const M=e.el=b(""),L=e.anchor=b("");p(M,n,r),p(L,n,r);const S=(w,v)=>{P&16&&(i&&i.isCE&&(i.ce._teleportTarget=w),c(T,w,v,i,s,o,a,l))},I=()=>{const w=e.target=uv(e.props,g),v=VA(w,e,b,p);w&&(o!=="svg"&&Vw(w)?o="svg":o!=="mathml"&&Fw(w)&&(o="mathml"),k||(S(w,v),Qh(e,!1)))};k&&(S(n,L),Qh(e,!0)),Lw(e.props)?Pn(()=>{I(),e.el.__isMounted=!0},s):I()}else{if(Lw(e.props)&&!t.el.__isMounted){Pn(()=>{MA.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,L=e.target=t.target,S=e.targetAnchor=t.targetAnchor,I=sc(t.props),w=I?n:L,v=I?M:S;if(o==="svg"||Vw(L)?o="svg":(o==="mathml"||Fw(L))&&(o="mathml"),y?(f(t.dynamicChildren,y,w,i,s,o,a),v_(t,e,!0)):l||h(t,e,w,v,i,s,o,a,!1),k)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):_h(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=uv(e.props,g);A&&_h(e,A,null,u,0)}else I&&_h(e,L,S,u,1);Qh(e,k)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!sc(f);for(let g=0;g<a.length;g++){const b=a[g];r(b,e,n,p,!!b.dynamicChildren)}}},move:_h,hydrate:zM};function _h(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||sc(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function zM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=uv(e.props,l);if(f){const p=sc(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||VA(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}Qh(e,p)}return e.anchor&&o(e.anchor)}const LA=MA;function Qh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function VA(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[NA]=s,t&&(r(i,t),r(s,t)),s}const Js=Symbol("_leaveCb"),bh=Symbol("_enterCb");function FA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{t.isMounted=!0}),d_(()=>{t.isUnmounting=!0}),t}const ri=[Function,Array],$A={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ri,onEnter:ri,onAfterEnter:ri,onEnterCancelled:ri,onBeforeLeave:ri,onLeave:ri,onAfterLeave:ri,onLeaveCancelled:ri,onBeforeAppear:ri,onAppear:ri,onAfterAppear:ri,onAppearCancelled:ri},UA=t=>{const e=t.subTree;return e.component?UA(e.component):e},GM={name:"BaseTransition",props:$A,setup(t,{slots:e}){const n=ti(),r=FA();return()=>{const i=e.default&&a_(e.default(),!0);if(!i||!i.length)return;const s=BA(i),o=mt(t),{mode:a}=o;if(r.isLeaving)return Qm(s);const l=$w(s);if(!l)return Qm(s);let u=Lc(l,o,r,n,h=>u=h);l.type!==Dn&&bo(l,u);let c=n.subTree&&$w(n.subTree);if(c&&c.type!==Dn&&!_i(l,c)&&UA(n).type!==Dn){let h=Lc(c,o,r,n);if(bo(c,h),a==="out-in"&&l.type!==Dn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},Qm(s);a==="in-out"&&l.type!==Dn?h.delayLeave=(f,p,g)=>{const b=jA(r,c);b[String(c.key)]=c,f[Js]=()=>{p(),f[Js]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function BA(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Dn){e=n;break}}return e}const KM=GM;function jA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Lc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:E,onAppear:k,onAfterAppear:P,onAppearCancelled:T}=e,y=String(t.key),M=jA(n,t),L=(w,v)=>{w&&Ni(w,r,9,v)},S=(w,v)=>{const A=v[1];L(w,v),$e(w)?w.every(C=>C.length<=1)&&A():w.length<=1&&A()},I={mode:o,persisted:a,beforeEnter(w){let v=l;if(!n.isMounted)if(s)v=E||l;else return;w[Js]&&w[Js](!0);const A=M[y];A&&_i(t,A)&&A.el[Js]&&A.el[Js](),L(v,[w])},enter(w){let v=u,A=c,C=h;if(!n.isMounted)if(s)v=k||u,A=P||c,C=T||h;else return;let R=!1;const U=w[bh]=$=>{R||(R=!0,$?L(C,[w]):L(A,[w]),I.delayedLeave&&I.delayedLeave(),w[bh]=void 0)};v?S(v,[w,U]):U()},leave(w,v){const A=String(t.key);if(w[bh]&&w[bh](!0),n.isUnmounting)return v();L(f,[w]);let C=!1;const R=w[Js]=U=>{C||(C=!0,v(),U?L(b,[w]):L(g,[w]),w[Js]=void 0,M[A]===t&&delete M[A])};M[A]=t,p?S(p,[w,R]):R()},clone(w){const v=Lc(w,e,n,r,i);return i&&i(v),v}};return I}function Qm(t){if(Cd(t))return t=Os(t),t.children=null,t}function $w(t){if(!Cd(t))return xA(t.type)&&t.children?BA(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function bo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,bo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function a_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Me?(o.patchFlag&128&&i++,r=r.concat(a_(o.children,e,a))):(e||o.type!==Dn)&&r.push(a!=null?Os(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Kt(t,e){return Ze(t)?Gt({name:t.name},e,{setup:t}):t}function Mne(){const t=ti();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function l_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Lne(t){const e=ti(),n=IA(null);if(e){const i=e.refs===gt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Vc(t,e,n,r,i=!1){if($e(t)){t.forEach((g,b)=>Vc(g,e&&($e(e)?e[b]:e),n,r,i));return}if(lo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Vc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Pd(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===gt?a.refs={}:a.refs,h=a.setupState,f=mt(h),p=h===gt?()=>!1:g=>Rt(f,g);if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,p(u)&&(h[u]=null)):an(u)&&(u.value=null)),Ze(l))Ad(l,a,12,[o,c]);else{const g=Jt(l),b=an(l);if(g||b){const E=()=>{if(t.f){const k=g?p(l)?h[l]:c[l]:l.value;i?$e(k)&&Yy(k,s):$e(k)?k.includes(s)||k.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(E.id=-1,Pn(E,n)):E()}}}let Uw=!1;const Ga=()=>{Uw||(console.error("Hydration completed but contains mismatches."),Uw=!0)},YM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",QM=t=>t.namespaceURI.includes("MathML"),wh=t=>{if(t.nodeType===1){if(YM(t))return"svg";if(QM(t))return"mathml"}},ul=t=>t.nodeType===8;function XM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(T,y)=>{if(!y.hasChildNodes()){n(null,T,y),Tf(),y._vnode=T;return}h(y.firstChild,T,null,null,null),Tf(),y._vnode=T},h=(T,y,M,L,S,I=!1)=>{I=I||!!y.dynamicChildren;const w=ul(T)&&T.data==="[",v=()=>b(T,y,M,L,S,w),{type:A,ref:C,shapeFlag:R,patchFlag:U}=y;let $=T.nodeType;y.el=T,U===-2&&(I=!1,y.dynamicChildren=null);let j=null;switch(A){case ta:$!==3?y.children===""?(l(y.el=i(""),o(T),T),j=T):j=v():(T.data!==y.children&&(Ga(),T.data=y.children),j=s(T));break;case Dn:P(T)?(j=s(T),k(y.el=T.content.firstChild,T,M)):$!==8||w?j=v():j=s(T);break;case Il:if(w&&(T=s(T),$=T.nodeType),$===1||$===3){j=T;const F=!y.children.length;for(let B=0;B<y.staticCount;B++)F&&(y.children+=j.nodeType===1?j.outerHTML:j.data),B===y.staticCount-1&&(y.anchor=j),j=s(j);return w?s(j):j}else v();break;case Me:w?j=g(T,y,M,L,S,I):j=v();break;default:if(R&1)($!==1||y.type.toLowerCase()!==T.tagName.toLowerCase())&&!P(T)?j=v():j=f(T,y,M,L,S,I);else if(R&6){y.slotScopeIds=S;const F=o(T);if(w?j=E(T):ul(T)&&T.data==="teleport start"?j=E(T,T.data,"teleport end"):j=s(T),e(y,F,null,M,L,wh(F),I),lo(y)&&!y.type.__asyncResolved){let B;w?(B=et(Me),B.anchor=j?j.previousSibling:F.lastChild):B=T.nodeType===3?Nn(""):et("div"),B.el=T,y.component.subTree=B}}else R&64?$!==8?j=v():j=y.type.hydrate(T,y,M,L,S,I,t,p):R&128&&(j=y.type.hydrate(T,y,M,L,wh(o(T)),S,I,t,h))}return C!=null&&Vc(C,null,L,y),j},f=(T,y,M,L,S,I)=>{I=I||!!y.dynamicChildren;const{type:w,props:v,patchFlag:A,shapeFlag:C,dirs:R,transition:U}=y,$=w==="input"||w==="option";if($||A!==-1){R&&ji(y,null,M,"created");let j=!1;if(P(T)){j=sC(null,U)&&M&&M.vnode.props&&M.vnode.props.appear;const B=T.content.firstChild;j&&U.beforeEnter(B),k(B,T,M),y.el=T=B}if(C&16&&!(v&&(v.innerHTML||v.textContent))){let B=p(T.firstChild,y,T,M,L,S,I);for(;B;){Th(T,1)||Ga();const N=B;B=B.nextSibling,a(N)}}else if(C&8){let B=y.children;B[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(B=B.slice(1)),T.textContent!==B&&(Th(T,0)||Ga(),T.textContent=y.children)}if(v){if($||!I||A&48){const B=T.tagName.includes("-");for(const N in v)($&&(N.endsWith("value")||N==="indeterminate")||Sd(N)&&!bl(N)||N[0]==="."||B)&&r(T,N,null,v[N],void 0,M)}else if(v.onClick)r(T,"onClick",null,v.onClick,void 0,M);else if(A&4&&Yi(v.style))for(const B in v.style)v.style[B]}let F;(F=v&&v.onVnodeBeforeMount)&&Mr(F,M,y),R&&ji(y,null,M,"beforeMount"),((F=v&&v.onVnodeMounted)||R||j)&&dC(()=>{F&&Mr(F,M,y),j&&U.enter(T),R&&ji(y,null,M,"mounted")},L)}return T.nextSibling},p=(T,y,M,L,S,I,w)=>{w=w||!!y.dynamicChildren;const v=y.children,A=v.length;for(let C=0;C<A;C++){const R=w?v[C]:v[C]=Vr(v[C]),U=R.type===ta;T?(U&&!w&&C+1<A&&Vr(v[C+1]).type===ta&&(l(i(T.data.slice(R.children.length)),M,s(T)),T.data=R.children),T=h(T,R,L,S,I,w)):U&&!R.children?l(R.el=i(""),M):(Th(M,1)||Ga(),n(null,R,M,null,L,S,wh(M),I))}return T},g=(T,y,M,L,S,I)=>{const{slotScopeIds:w}=y;w&&(S=S?S.concat(w):w);const v=o(T),A=p(s(T),y,v,M,L,S,I);return A&&ul(A)&&A.data==="]"?s(y.anchor=A):(Ga(),l(y.anchor=u("]"),v,A),A)},b=(T,y,M,L,S,I)=>{if(Th(T.parentElement,1)||Ga(),y.el=null,I){const A=E(T);for(;;){const C=s(T);if(C&&C!==A)a(C);else break}}const w=s(T),v=o(T);return a(T),n(null,y,v,w,M,L,wh(v),S),M&&(M.vnode.el=y.el,xp(M,y.el)),w},E=(T,y="[",M="]")=>{let L=0;for(;T;)if(T=s(T),T&&ul(T)&&(T.data===y&&L++,T.data===M)){if(L===0)return s(T);L--}return T},k=(T,y,M)=>{const L=y.parentNode;L&&L.replaceChild(T,y);let S=M;for(;S;)S.vnode.el===y&&(S.vnode.el=S.subTree.el=T),S=S.parent},P=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[c,h]}const Bw="data-allow-mismatch",JM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Th(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Bw);)t=t.parentElement;const n=t&&t.getAttribute(Bw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(JM[e])}}const ZM=Sp().requestIdleCallback||(t=>setTimeout(t,1)),eL=Sp().cancelIdleCallback||(t=>clearTimeout(t)),Vne=(t=1e4)=>e=>{const n=ZM(e,{timeout:t});return()=>eL(n)};function tL(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const Fne=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(tL(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},$ne=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},Une=(t=[])=>(e,n)=>{Jt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function nL(t,e){if(ul(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ul(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const lo=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Bne(t){Ze(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((E,k)=>{l(b,()=>E(f()),()=>k(b),h+1)});throw b}).then(b=>g!==u&&u?u:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),c=b,b)))};return Kt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,b,E){const k=s?()=>{const P=s(E,T=>nL(g,T));P&&(b.bum||(b.bum=[])).push(P)}:E;c?k():p().then(()=>!b.isUnmounted&&k())},get __asyncResolved(){return c},setup(){const g=xn;if(l_(g),c)return()=>Xm(c,g);const b=T=>{u=null,lu(T,g,13,!r)};if(a&&g.suspense||Ml)return p().then(T=>()=>Xm(T,g)).catch(T=>(b(T),()=>r?et(r,{error:T}):null));const E=fe(!1),k=fe(),P=fe(!!i);return i&&setTimeout(()=>{P.value=!1},i),o!=null&&setTimeout(()=>{if(!E.value&&!k.value){const T=new Error(`Async component timed out after ${o}ms.`);b(T),k.value=T}},o),p().then(()=>{E.value=!0,g.parent&&Cd(g.parent.vnode)&&g.parent.update()}).catch(T=>{b(T),k.value=T}),()=>{if(E.value&&c)return Xm(c,g);if(k.value&&r)return et(r,{error:k.value});if(n&&!P.value)return et(n)}}})}function Xm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=et(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Cd=t=>t.type.__isKeepAlive,rL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ti(),r=n.ctx;if(!r.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(P,T,y,M,L)=>{const S=P.component;u(P,T,y,0,a),l(S.vnode,P,T,y,S,a,M,P.slotScopeIds,L),Pn(()=>{S.isDeactivated=!1,S.a&&wl(S.a);const I=P.props&&P.props.onVnodeMounted;I&&Mr(I,S.parent,P)},a)},r.deactivate=P=>{const T=P.component;If(T.m),If(T.a),u(P,f,null,1,a),Pn(()=>{T.da&&wl(T.da);const y=P.props&&P.props.onVnodeUnmounted;y&&Mr(y,T.parent,P),T.isDeactivated=!0},a)};function p(P){Jm(P),c(P,n,a,!0)}function g(P){i.forEach((T,y)=>{const M=bv(T.type);M&&!P(M)&&b(y)})}function b(P){const T=i.get(P);T&&(!o||!_i(T,o))?p(T):o&&Jm(o),i.delete(P),s.delete(P)}In(()=>[t.include,t.exclude],([P,T])=>{P&&g(y=>Ku(P,y)),T&&g(y=>!Ku(T,y))},{flush:"post",deep:!0});let E=null;const k=()=>{E!=null&&(Sf(n.subTree.type)?Pn(()=>{i.set(E,Eh(n.subTree))},n.subTree.suspense):i.set(E,Eh(n.subTree)))};return yn(k),c_(k),d_(()=>{i.forEach(P=>{const{subTree:T,suspense:y}=n,M=Eh(T);if(P.type===M.type&&P.key===M.key){Jm(M);const L=M.component.da;L&&Pn(L,y);return}p(P)})}),()=>{if(E=null,!e.default)return o=null;const P=e.default(),T=P[0];if(P.length>1)return o=null,P;if(!wo(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let y=Eh(T);if(y.type===Dn)return o=null,y;const M=y.type,L=bv(lo(y)?y.type.__asyncResolved||{}:M),{include:S,exclude:I,max:w}=t;if(S&&(!L||!Ku(S,L))||I&&L&&Ku(I,L))return y.shapeFlag&=-257,o=y,T;const v=y.key==null?M:y.key,A=i.get(v);return y.el&&(y=Os(y),T.shapeFlag&128&&(T.ssContent=y)),E=v,A?(y.el=A.el,y.component=A.component,y.transition&&bo(y,y.transition),y.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),w&&s.size>parseInt(w,10)&&b(s.values().next().value)),y.shapeFlag|=256,o=y,Sf(T.type)?T:y}}},jne=rL;function Ku(t,e){return $e(t)?t.some(n=>Ku(n,e)):Jt(t)?t.split(",").includes(e):Jx(t)?(t.lastIndex=0,t.test(e)):!1}function iL(t,e){HA(t,"a",e)}function sL(t,e){HA(t,"da",e)}function HA(t,e,n=xn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Dp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Cd(i.parent.vnode)&&oL(r,e,n,i),i=i.parent}}function oL(t,e,n,r){const i=Dp(e,t,r,!0);Oa(()=>{Yy(r[e],i)},n)}function Jm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Eh(t){return t.shapeFlag&128?t.ssContent:t}function Dp(t,e,n=xn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Oo();const a=ca(n),l=Ni(e,n,t,o);return a(),Po(),l});return r?i.unshift(s):i.push(s),s}}const Ms=t=>(e,n=xn)=>{(!Ml||t==="sp")&&Dp(t,(...r)=>e(...r),n)},aL=Ms("bm"),yn=Ms("m"),u_=Ms("bu"),c_=Ms("u"),d_=Ms("bum"),Oa=Ms("um"),lL=Ms("sp"),uL=Ms("rtg"),cL=Ms("rtc");function dL(t,e=xn){Dp("ec",t,e)}const h_="components",hL="directives";function Kr(t,e){return f_(h_,t,!0,e)||t}const WA=Symbol.for("v-ndc");function Gr(t){return Jt(t)?f_(h_,t,!1)||t:t||WA}function qA(t){return f_(hL,t)}function f_(t,e,n=!0,r=!1){const i=Ln||xn;if(i){const s=i.type;if(t===h_){const a=bv(s,!1);if(a&&(a===e||a===_r(e)||a===Ip(_r(e))))return s}const o=jw(i[t]||s[t],e)||jw(i.appContext[t],e);return!o&&r?s:o}}function jw(t,e){return t&&(t[e]||t[_r(e)]||t[Ip(_r(e))])}function Ft(t,e,n,r){let i;const s=n&&n[r],o=$e(t);if(o||Jt(t)){const a=o&&Yi(t);let l=!1;a&&(l=!ui(t),t=Op(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?dr(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Ht(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function tr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(Ln.ce||Ln.parent&&lo(Ln.parent)&&Ln.parent.ce)return e!=="default"&&(n.name=e),q(),qe(Me,null,[et("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),q();const o=s&&p_(s(n)),a=n.key||o&&o.key,l=qe(Me,{key:(a&&!Di(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function p_(t){return t.some(e=>wo(e)?!(e.type===Dn||e.type===Me&&!p_(e.children)):!0)?t:null}function Hne(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Yh(r)]=t[r];return n}const cv=t=>t?gC(t)?Pd(t):cv(t.parent):null,oc=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cv(t.parent),$root:t=>cv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>m_(t),$forceUpdate:t=>t.f||(t.f=()=>{o_(t.update)}),$nextTick:t=>t.n||(t.n=Hn.bind(t.proxy)),$watch:t=>xL.bind(t)}),Zm=(t,e)=>t!==gt&&!t.__isScriptSetup&&Rt(t,e),dv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Zm(r,e))return o[e]=1,r[e];if(i!==gt&&Rt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Rt(u,e))return o[e]=3,s[e];if(n!==gt&&Rt(n,e))return o[e]=4,n[e];hv&&(o[e]=0)}}const c=oc[e];let h,f;if(c)return e==="$attrs"&&cr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==gt&&Rt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Rt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Zm(i,e)?(i[e]=n,!0):r!==gt&&Rt(r,e)?(r[e]=n,!0):Rt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==gt&&Rt(t,o)||Zm(e,o)||(a=s[0])&&Rt(a,o)||Rt(r,o)||Rt(oc,o)||Rt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Rt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},fL=Gt({},dv,{get(t,e){if(e!==Symbol.unscopables)return dv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!rM(e)}});function Wne(){return null}function qne(){return null}function zne(t){}function Gne(t){}function Kne(){return null}function Yne(){}function Qne(t,e){return null}function Pa(){return zA().slots}function Xne(){return zA().attrs}function zA(){const t=ti();return t.setupContext||(t.setupContext=_C(t))}function Fc(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Jne(t,e){const n=Fc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?$e(i)||Ze(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Zne(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):Gt({},Fc(t),Fc(e))}function ere(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function tre(t){const e=ti();let n=t();return vv(),Qy(n)&&(n=n.catch(r=>{throw ca(e),r})),[n,()=>ca(e)]}let hv=!0;function pL(t){const e=m_(t),n=t.proxy,r=t.ctx;hv=!1,e.beforeCreate&&Hw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:b,deactivated:E,beforeDestroy:k,beforeUnmount:P,destroyed:T,unmounted:y,render:M,renderTracked:L,renderTriggered:S,errorCaptured:I,serverPrefetch:w,expose:v,inheritAttrs:A,components:C,directives:R,filters:U}=e;if(u&&mL(u,r,null),o)for(const F in o){const B=o[F];Ze(B)&&(r[F]=B.bind(n))}if(i){const F=i.call(n,n);Ht(F)&&(t.data=Nr(F))}if(hv=!0,s)for(const F in s){const B=s[F],N=Ze(B)?B.bind(n,n):Ze(B.get)?B.get.bind(n,n):li,O=!Ze(B)&&Ze(B.set)?B.set.bind(n):li,G=le({get:N,set:O});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>G.value,set:z=>G.value=z})}if(a)for(const F in a)GA(a[F],r,n,F);if(l){const F=Ze(l)?l.call(n):l;Reflect.ownKeys(F).forEach(B=>{ac(B,F[B])})}c&&Hw(c,t,"c");function j(F,B){$e(B)?B.forEach(N=>F(N.bind(n))):B&&F(B.bind(n))}if(j(aL,h),j(yn,f),j(u_,p),j(c_,g),j(iL,b),j(sL,E),j(dL,I),j(cL,L),j(uL,S),j(d_,P),j(Oa,y),j(lL,w),$e(v))if(v.length){const F=t.exposed||(t.exposed={});v.forEach(B=>{Object.defineProperty(F,B,{get:()=>n[B],set:N=>n[B]=N})})}else t.exposed||(t.exposed={});M&&t.render===li&&(t.render=M),A!=null&&(t.inheritAttrs=A),C&&(t.components=C),R&&(t.directives=R),w&&l_(t)}function mL(t,e,n=li){$e(t)&&(t=fv(t));for(const r in t){const i=t[r];let s;Ht(i)?"default"in i?s=Dr(i.from||r,i.default,!0):s=Dr(i.from||r):s=Dr(i),an(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Hw(t,e,n){Ni($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function GA(t,e,n,r){let i=r.includes(".")?aC(n,r):()=>n[r];if(Jt(t)){const s=e[t];Ze(s)&&In(i,s)}else if(Ze(t))In(i,t.bind(n));else if(Ht(t))if($e(t))t.forEach(s=>GA(s,e,n,r));else{const s=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(s)&&In(i,s,t)}}function m_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Ef(l,u,o,!0)),Ef(l,e,o)),Ht(e)&&s.set(e,l),l}function Ef(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ef(t,s,n,!0),i&&i.forEach(o=>Ef(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=gL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gL={data:Ww,props:qw,emits:qw,methods:Yu,computed:Yu,beforeCreate:Ar,created:Ar,beforeMount:Ar,mounted:Ar,beforeUpdate:Ar,updated:Ar,beforeDestroy:Ar,beforeUnmount:Ar,destroyed:Ar,unmounted:Ar,activated:Ar,deactivated:Ar,errorCaptured:Ar,serverPrefetch:Ar,components:Yu,directives:Yu,watch:yL,provide:Ww,inject:vL};function Ww(t,e){return e?t?function(){return Gt(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function vL(t,e){return Yu(fv(t),fv(e))}function fv(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ar(t,e){return t?[...new Set([].concat(t,e))]:e}function Yu(t,e){return t?Gt(Object.create(null),t,e):e}function qw(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:Gt(Object.create(null),Fc(t),Fc(e??{})):e}function yL(t,e){if(!t)return e;if(!e)return t;const n=Gt(Object.create(null),t);for(const r in e)n[r]=Ar(t[r],e[r]);return n}function KA(){return{app:null,config:{isNativeTag:Qx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _L=0;function bL(t,e){return function(r,i=null){Ze(r)||(r=Gt({},r)),i!=null&&!Ht(i)&&(i=null);const s=KA(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:_L++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:ZL,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ze(c.install)?(o.add(c),c.install(u,...h)):Ze(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||et(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Pd(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ni(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=ea;ea=u;try{return c()}finally{ea=h}}};return u}}let ea=null;function ac(t,e){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[t]=e}}function Dr(t,e,n=!1){const r=xn||Ln;if(r||ea){const i=ea?ea._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}function wL(){return!!(xn||Ln||ea)}const YA={},QA=()=>Object.create(YA),XA=t=>Object.getPrototypeOf(t)===YA;function TL(t,e,n,r=!1){const i={},s=QA();t.propsDefaults=Object.create(null),JA(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:EA(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function EL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=mt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Np(t.emitsOptions,f))continue;const p=e[f];if(l)if(Rt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=_r(f);i[g]=pv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{JA(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!Rt(e,h)&&((c=Fr(h))===h||!Rt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=pv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!Rt(e,h))&&(delete s[h],u=!0)}u&&ms(t.attrs,"set","")}function JA(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bl(l))continue;const u=e[l];let c;i&&Rt(i,c=_r(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Np(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=mt(n),u=a||gt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=pv(i,l,h,u[h],t,!Rt(u,h))}}return o}function pv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Rt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=ca(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Fr(n))&&(r=!0))}return r}const IL=new WeakMap;function ZA(t,e,n=!1){const r=n?IL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ze(t)){const c=h=>{l=!0;const[f,p]=ZA(h,e,!0);Gt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Ht(t)&&r.set(t,yl),yl;if($e(s))for(let c=0;c<s.length;c++){const h=_r(s[c]);zw(h)&&(o[h]=gt)}else if(s)for(const c in s){const h=_r(c);if(zw(h)){const f=s[c],p=o[h]=$e(f)||Ze(f)?{type:f}:Gt({},f),g=p.type;let b=!1,E=!0;if($e(g))for(let k=0;k<g.length;++k){const P=g[k],T=Ze(P)&&P.name;if(T==="Boolean"){b=!0;break}else T==="String"&&(E=!1)}else b=Ze(g)&&g.name==="Boolean";p[0]=b,p[1]=E,(b||Rt(p,"default"))&&a.push(h)}}const u=[o,a];return Ht(t)&&r.set(t,u),u}function zw(t){return t[0]!=="$"&&!bl(t)}const eC=t=>t[0]==="_"||t==="$stable",g_=t=>$e(t)?t.map(Vr):[Vr(t)],SL=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>g_(e(...i)),n);return r._c=!1,r},tC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(eC(i))continue;const s=t[i];if(Ze(s))e[i]=SL(i,s,r);else if(s!=null){const o=g_(s);e[i]=()=>o}}},nC=(t,e)=>{const n=g_(e);t.slots.default=()=>n},rC=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},AL=(t,e,n)=>{const r=t.slots=QA();if(t.vnode.shapeFlag&32){const i=e._;i?(rC(r,e,n),n&&nA(r,"_",i,!0)):tC(e,r)}else e&&nC(t,e)},CL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=gt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:rC(i,e,n):(s=!e.$stable,tC(e,i)),o=e}else e&&(nC(t,e),o={default:1});if(s)for(const a in i)!eC(a)&&o[a]==null&&delete i[a]},Pn=dC;function OL(t){return iC(t)}function PL(t){return iC(t,XM)}function iC(t,e){const n=Sp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=li,insertStaticContent:g}=t,b=(D,V,H,oe=null,se=null,me=null,Se=void 0,Ee=null,Te=!!V.dynamicChildren)=>{if(D===V)return;D&&!_i(D,V)&&(oe=Q(D),z(D,se,me,!0),D=null),V.patchFlag===-2&&(Te=!1,V.dynamicChildren=null);const{type:ge,ref:He,shapeFlag:Ie}=V;switch(ge){case ta:E(D,V,H,oe);break;case Dn:k(D,V,H,oe);break;case Il:D==null&&P(V,H,oe,Se);break;case Me:C(D,V,H,oe,se,me,Se,Ee,Te);break;default:Ie&1?M(D,V,H,oe,se,me,Se,Ee,Te):Ie&6?R(D,V,H,oe,se,me,Se,Ee,Te):(Ie&64||Ie&128)&&ge.process(D,V,H,oe,se,me,Se,Ee,Te,ce)}He!=null&&se&&Vc(He,D&&D.ref,me,V||D,!V)},E=(D,V,H,oe)=>{if(D==null)r(V.el=a(V.children),H,oe);else{const se=V.el=D.el;V.children!==D.children&&u(se,V.children)}},k=(D,V,H,oe)=>{D==null?r(V.el=l(V.children||""),H,oe):V.el=D.el},P=(D,V,H,oe)=>{[D.el,D.anchor]=g(D.children,V,H,oe,D.el,D.anchor)},T=({el:D,anchor:V},H,oe)=>{let se;for(;D&&D!==V;)se=f(D),r(D,H,oe),D=se;r(V,H,oe)},y=({el:D,anchor:V})=>{let H;for(;D&&D!==V;)H=f(D),i(D),D=H;i(V)},M=(D,V,H,oe,se,me,Se,Ee,Te)=>{V.type==="svg"?Se="svg":V.type==="math"&&(Se="mathml"),D==null?L(V,H,oe,se,me,Se,Ee,Te):w(D,V,se,me,Se,Ee,Te)},L=(D,V,H,oe,se,me,Se,Ee)=>{let Te,ge;const{props:He,shapeFlag:Ie,transition:Fe,dirs:Ye}=D;if(Te=D.el=o(D.type,me,He&&He.is,He),Ie&8?c(Te,D.children):Ie&16&&I(D.children,Te,null,oe,se,eg(D,me),Se,Ee),Ye&&ji(D,null,oe,"created"),S(Te,D,D.scopeId,Se,oe),He){for(const K in He)K!=="value"&&!bl(K)&&s(Te,K,null,He[K],me,oe);"value"in He&&s(Te,"value",null,He.value,me),(ge=He.onVnodeBeforeMount)&&Mr(ge,oe,D)}Ye&&ji(D,null,oe,"beforeMount");const Ge=sC(se,Fe);Ge&&Fe.beforeEnter(Te),r(Te,V,H),((ge=He&&He.onVnodeMounted)||Ge||Ye)&&Pn(()=>{ge&&Mr(ge,oe,D),Ge&&Fe.enter(Te),Ye&&ji(D,null,oe,"mounted")},se)},S=(D,V,H,oe,se)=>{if(H&&p(D,H),oe)for(let me=0;me<oe.length;me++)p(D,oe[me]);if(se){let me=se.subTree;if(V===me||Sf(me.type)&&(me.ssContent===V||me.ssFallback===V)){const Se=se.vnode;S(D,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},I=(D,V,H,oe,se,me,Se,Ee,Te=0)=>{for(let ge=Te;ge<D.length;ge++){const He=D[ge]=Ee?Zs(D[ge]):Vr(D[ge]);b(null,He,V,H,oe,se,me,Se,Ee)}},w=(D,V,H,oe,se,me,Se)=>{const Ee=V.el=D.el;let{patchFlag:Te,dynamicChildren:ge,dirs:He}=V;Te|=D.patchFlag&16;const Ie=D.props||gt,Fe=V.props||gt;let Ye;if(H&&$o(H,!1),(Ye=Fe.onVnodeBeforeUpdate)&&Mr(Ye,H,V,D),He&&ji(V,D,H,"beforeUpdate"),H&&$o(H,!0),(Ie.innerHTML&&Fe.innerHTML==null||Ie.textContent&&Fe.textContent==null)&&c(Ee,""),ge?v(D.dynamicChildren,ge,Ee,H,oe,eg(V,se),me):Se||B(D,V,Ee,null,H,oe,eg(V,se),me,!1),Te>0){if(Te&16)A(Ee,Ie,Fe,H,se);else if(Te&2&&Ie.class!==Fe.class&&s(Ee,"class",null,Fe.class,se),Te&4&&s(Ee,"style",Ie.style,Fe.style,se),Te&8){const Ge=V.dynamicProps;for(let K=0;K<Ge.length;K++){const ae=Ge[K],xe=Ie[ae],We=Fe[ae];(We!==xe||ae==="value")&&s(Ee,ae,xe,We,se,H)}}Te&1&&D.children!==V.children&&c(Ee,V.children)}else!Se&&ge==null&&A(Ee,Ie,Fe,H,se);((Ye=Fe.onVnodeUpdated)||He)&&Pn(()=>{Ye&&Mr(Ye,H,V,D),He&&ji(V,D,H,"updated")},oe)},v=(D,V,H,oe,se,me,Se)=>{for(let Ee=0;Ee<V.length;Ee++){const Te=D[Ee],ge=V[Ee],He=Te.el&&(Te.type===Me||!_i(Te,ge)||Te.shapeFlag&70)?h(Te.el):H;b(Te,ge,He,null,oe,se,me,Se,!0)}},A=(D,V,H,oe,se)=>{if(V!==H){if(V!==gt)for(const me in V)!bl(me)&&!(me in H)&&s(D,me,V[me],null,se,oe);for(const me in H){if(bl(me))continue;const Se=H[me],Ee=V[me];Se!==Ee&&me!=="value"&&s(D,me,Ee,Se,se,oe)}"value"in H&&s(D,"value",V.value,H.value,se)}},C=(D,V,H,oe,se,me,Se,Ee,Te)=>{const ge=V.el=D?D.el:a(""),He=V.anchor=D?D.anchor:a("");let{patchFlag:Ie,dynamicChildren:Fe,slotScopeIds:Ye}=V;Ye&&(Ee=Ee?Ee.concat(Ye):Ye),D==null?(r(ge,H,oe),r(He,H,oe),I(V.children||[],H,He,se,me,Se,Ee,Te)):Ie>0&&Ie&64&&Fe&&D.dynamicChildren?(v(D.dynamicChildren,Fe,H,se,me,Se,Ee),(V.key!=null||se&&V===se.subTree)&&v_(D,V,!0)):B(D,V,H,He,se,me,Se,Ee,Te)},R=(D,V,H,oe,se,me,Se,Ee,Te)=>{V.slotScopeIds=Ee,D==null?V.shapeFlag&512?se.ctx.activate(V,H,oe,Se,Te):U(V,H,oe,se,me,Se,Te):$(D,V,Te)},U=(D,V,H,oe,se,me,Se)=>{const Ee=D.component=mC(D,oe,se);if(Cd(D)&&(Ee.ctx.renderer=ce),vC(Ee,!1,Se),Ee.asyncDep){if(se&&se.registerDep(Ee,j,Se),!D.el){const Te=Ee.subTree=et(Dn);k(null,Te,V,H)}}else j(Ee,D,V,H,se,me,Se)},$=(D,V,H)=>{const oe=V.component=D.component;if($L(D,V,H))if(oe.asyncDep&&!oe.asyncResolved){F(oe,V,H);return}else oe.next=V,oe.update();else V.el=D.el,oe.vnode=V},j=(D,V,H,oe,se,me,Se)=>{const Ee=()=>{if(D.isMounted){let{next:Ie,bu:Fe,u:Ye,parent:Ge,vnode:K}=D;{const xt=oC(D);if(xt){Ie&&(Ie.el=K.el,F(D,Ie,Se)),xt.asyncDep.then(()=>{D.isUnmounted||Ee()});return}}let ae=Ie,xe;$o(D,!1),Ie?(Ie.el=K.el,F(D,Ie,Se)):Ie=K,Fe&&wl(Fe),(xe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Mr(xe,Ge,Ie,K),$o(D,!0);const We=Xh(D),dt=D.subTree;D.subTree=We,b(dt,We,h(dt.el),Q(dt),D,se,me),Ie.el=We.el,ae===null&&xp(D,We.el),Ye&&Pn(Ye,se),(xe=Ie.props&&Ie.props.onVnodeUpdated)&&Pn(()=>Mr(xe,Ge,Ie,K),se)}else{let Ie;const{el:Fe,props:Ye}=V,{bm:Ge,m:K,parent:ae,root:xe,type:We}=D,dt=lo(V);if($o(D,!1),Ge&&wl(Ge),!dt&&(Ie=Ye&&Ye.onVnodeBeforeMount)&&Mr(Ie,ae,V),$o(D,!0),Fe&&ne){const xt=()=>{D.subTree=Xh(D),ne(Fe,D.subTree,D,se,null)};dt&&We.__asyncHydrate?We.__asyncHydrate(Fe,D,xt):xt()}else{xe.ce&&xe.ce._injectChildStyle(We);const xt=D.subTree=Xh(D);b(null,xt,H,oe,D,se,me),V.el=xt.el}if(K&&Pn(K,se),!dt&&(Ie=Ye&&Ye.onVnodeMounted)){const xt=V;Pn(()=>Mr(Ie,ae,xt),se)}(V.shapeFlag&256||ae&&lo(ae.vnode)&&ae.vnode.shapeFlag&256)&&D.a&&Pn(D.a,se),D.isMounted=!0,V=H=oe=null}};D.scope.on();const Te=D.effect=new vf(Ee);D.scope.off();const ge=D.update=Te.run.bind(Te),He=D.job=Te.runIfDirty.bind(Te);He.i=D,He.id=D.uid,Te.scheduler=()=>o_(He),$o(D,!0),ge()},F=(D,V,H)=>{V.component=D;const oe=D.vnode.props;D.vnode=V,D.next=null,EL(D,V.props,oe,H),CL(D,V.children,H),Oo(),Mw(D),Po()},B=(D,V,H,oe,se,me,Se,Ee,Te=!1)=>{const ge=D&&D.children,He=D?D.shapeFlag:0,Ie=V.children,{patchFlag:Fe,shapeFlag:Ye}=V;if(Fe>0){if(Fe&128){O(ge,Ie,H,oe,se,me,Se,Ee,Te);return}else if(Fe&256){N(ge,Ie,H,oe,se,me,Se,Ee,Te);return}}Ye&8?(He&16&&W(ge,se,me),Ie!==ge&&c(H,Ie)):He&16?Ye&16?O(ge,Ie,H,oe,se,me,Se,Ee,Te):W(ge,se,me,!0):(He&8&&c(H,""),Ye&16&&I(Ie,H,oe,se,me,Se,Ee,Te))},N=(D,V,H,oe,se,me,Se,Ee,Te)=>{D=D||yl,V=V||yl;const ge=D.length,He=V.length,Ie=Math.min(ge,He);let Fe;for(Fe=0;Fe<Ie;Fe++){const Ye=V[Fe]=Te?Zs(V[Fe]):Vr(V[Fe]);b(D[Fe],Ye,H,null,se,me,Se,Ee,Te)}ge>He?W(D,se,me,!0,!1,Ie):I(V,H,oe,se,me,Se,Ee,Te,Ie)},O=(D,V,H,oe,se,me,Se,Ee,Te)=>{let ge=0;const He=V.length;let Ie=D.length-1,Fe=He-1;for(;ge<=Ie&&ge<=Fe;){const Ye=D[ge],Ge=V[ge]=Te?Zs(V[ge]):Vr(V[ge]);if(_i(Ye,Ge))b(Ye,Ge,H,null,se,me,Se,Ee,Te);else break;ge++}for(;ge<=Ie&&ge<=Fe;){const Ye=D[Ie],Ge=V[Fe]=Te?Zs(V[Fe]):Vr(V[Fe]);if(_i(Ye,Ge))b(Ye,Ge,H,null,se,me,Se,Ee,Te);else break;Ie--,Fe--}if(ge>Ie){if(ge<=Fe){const Ye=Fe+1,Ge=Ye<He?V[Ye].el:oe;for(;ge<=Fe;)b(null,V[ge]=Te?Zs(V[ge]):Vr(V[ge]),H,Ge,se,me,Se,Ee,Te),ge++}}else if(ge>Fe)for(;ge<=Ie;)z(D[ge],se,me,!0),ge++;else{const Ye=ge,Ge=ge,K=new Map;for(ge=Ge;ge<=Fe;ge++){const Be=V[ge]=Te?Zs(V[ge]):Vr(V[ge]);Be.key!=null&&K.set(Be.key,ge)}let ae,xe=0;const We=Fe-Ge+1;let dt=!1,xt=0;const qn=new Array(We);for(ge=0;ge<We;ge++)qn[ge]=0;for(ge=Ye;ge<=Ie;ge++){const Be=D[ge];if(xe>=We){z(Be,se,me,!0);continue}let je;if(Be.key!=null)je=K.get(Be.key);else for(ae=Ge;ae<=Fe;ae++)if(qn[ae-Ge]===0&&_i(Be,V[ae])){je=ae;break}je===void 0?z(Be,se,me,!0):(qn[je-Ge]=ge+1,je>=xt?xt=je:dt=!0,b(Be,V[je],H,null,se,me,Se,Ee,Te),xe++)}const Oe=dt?RL(qn):yl;for(ae=Oe.length-1,ge=We-1;ge>=0;ge--){const Be=Ge+ge,je=V[Be],zn=Be+1<He?V[Be+1].el:oe;qn[ge]===0?b(null,je,H,zn,se,me,Se,Ee,Te):dt&&(ae<0||ge!==Oe[ae]?G(je,H,zn,2):ae--)}}},G=(D,V,H,oe,se=null)=>{const{el:me,type:Se,transition:Ee,children:Te,shapeFlag:ge}=D;if(ge&6){G(D.component.subTree,V,H,oe);return}if(ge&128){D.suspense.move(V,H,oe);return}if(ge&64){Se.move(D,V,H,ce);return}if(Se===Me){r(me,V,H);for(let Ie=0;Ie<Te.length;Ie++)G(Te[Ie],V,H,oe);r(D.anchor,V,H);return}if(Se===Il){T(D,V,H);return}if(oe!==2&&ge&1&&Ee)if(oe===0)Ee.beforeEnter(me),r(me,V,H),Pn(()=>Ee.enter(me),se);else{const{leave:Ie,delayLeave:Fe,afterLeave:Ye}=Ee,Ge=()=>r(me,V,H),K=()=>{Ie(me,()=>{Ge(),Ye&&Ye()})};Fe?Fe(me,Ge,K):K()}else r(me,V,H)},z=(D,V,H,oe=!1,se=!1)=>{const{type:me,props:Se,ref:Ee,children:Te,dynamicChildren:ge,shapeFlag:He,patchFlag:Ie,dirs:Fe,cacheIndex:Ye}=D;if(Ie===-2&&(se=!1),Ee!=null&&Vc(Ee,null,H,D,!0),Ye!=null&&(V.renderCache[Ye]=void 0),He&256){V.ctx.deactivate(D);return}const Ge=He&1&&Fe,K=!lo(D);let ae;if(K&&(ae=Se&&Se.onVnodeBeforeUnmount)&&Mr(ae,V,D),He&6)Z(D.component,H,oe);else{if(He&128){D.suspense.unmount(H,oe);return}Ge&&ji(D,null,V,"beforeUnmount"),He&64?D.type.remove(D,V,H,ce,oe):ge&&!ge.hasOnce&&(me!==Me||Ie>0&&Ie&64)?W(ge,V,H,!1,!0):(me===Me&&Ie&384||!se&&He&16)&&W(Te,V,H),oe&&te(D)}(K&&(ae=Se&&Se.onVnodeUnmounted)||Ge)&&Pn(()=>{ae&&Mr(ae,V,D),Ge&&ji(D,null,V,"unmounted")},H)},te=D=>{const{type:V,el:H,anchor:oe,transition:se}=D;if(V===Me){he(H,oe);return}if(V===Il){y(D);return}const me=()=>{i(H),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(D.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Ee}=se,Te=()=>Se(H,me);Ee?Ee(D.el,me,Te):Te()}else me()},he=(D,V)=>{let H;for(;D!==V;)H=f(D),i(D),D=H;i(V)},Z=(D,V,H)=>{const{bum:oe,scope:se,job:me,subTree:Se,um:Ee,m:Te,a:ge}=D;If(Te),If(ge),oe&&wl(oe),se.stop(),me&&(me.flags|=8,z(Se,D,V,H)),Ee&&Pn(Ee,V),Pn(()=>{D.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},W=(D,V,H,oe=!1,se=!1,me=0)=>{for(let Se=me;Se<D.length;Se++)z(D[Se],V,H,oe,se)},Q=D=>{if(D.shapeFlag&6)return Q(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const V=f(D.anchor||D.el),H=V&&V[NA];return H?f(H):V};let ie=!1;const X=(D,V,H)=>{D==null?V._vnode&&z(V._vnode,null,null,!0):b(V._vnode||null,D,V,null,null,null,H),V._vnode=D,ie||(ie=!0,Mw(),Tf(),ie=!1)},ce={p:b,um:z,m:G,r:te,mt:U,mc:I,pc:B,pbc:v,n:Q,o:t};let be,ne;return e&&([be,ne]=e(ce)),{render:X,hydrate:be,createApp:bL(X,be)}}function eg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $o({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function sC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function v_(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Zs(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&v_(o,a)),a.type===ta&&(a.el=o.el)}}function RL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function oC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:oC(e)}function If(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const kL=Symbol.for("v-scx"),DL=()=>Dr(kL);function nre(t,e){return Od(t,null,e)}function rre(t,e){return Od(t,null,{flush:"post"})}function NL(t,e){return Od(t,null,{flush:"sync"})}function In(t,e,n){return Od(t,e,n)}function Od(t,e,n=gt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Gt({},n),l=e&&r||!e&&s!=="post";let u;if(Ml){if(s==="sync"){const p=DL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=li,p.resume=li,p.pause=li,p}}const c=xn;a.call=(p,g,b)=>Ni(p,c,g,b);let h=!1;s==="post"?a.scheduler=p=>{Pn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():o_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=UM(t,e,a);return Ml&&(u?u.push(f):l&&f()),f}function xL(t,e,n){const r=this.proxy,i=Jt(t)?t.includes(".")?aC(r,t):()=>r[t]:t.bind(r,r);let s;Ze(e)?s=e:(s=e.handler,n=e);const o=ca(this),a=Od(i,s.bind(r),n);return o(),a}function aC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ire(t,e,n=gt){const r=ti(),i=_r(e),s=Fr(e),o=lC(t,i),a=NM((l,u)=>{let c,h=gt,f;return NL(()=>{const p=t[i];Or(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Or(g,c)&&!(h!==gt&&Or(p,h)))return;const b=r.vnode.props;b&&(e in b||i in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${i}`in b||`onUpdate:${s}`in b)||(c=p,u()),r.emit(`update:${e}`,g),Or(p,g)&&Or(p,h)&&!Or(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||gt:a,done:!1}:{done:!0}}}},a}const lC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${_r(e)}Modifiers`]||t[`${Fr(e)}Modifiers`];function ML(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||gt;let i=n;const s=e.startsWith("update:"),o=s&&lC(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Jt(c)?c.trim():c)),o.number&&(i=n.map(mf)));let a,l=r[a=Yh(e)]||r[a=Yh(_r(e))];!l&&s&&(l=r[a=Yh(Fr(e))]),l&&Ni(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ni(u,t,6,i)}}function uC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ze(t)){const l=u=>{const c=uC(u,e,!0);c&&(a=!0,Gt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ht(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):Gt(o,s),Ht(t)&&r.set(t,o),o)}function Np(t,e){return!t||!Sd(e)?!1:(e=e.slice(2).replace(/Once$/,""),Rt(t,e[0].toLowerCase()+e.slice(1))||Rt(t,Fr(e))||Rt(t,e))}function Xh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:b}=t,E=Mc(t);let k,P;try{if(n.shapeFlag&4){const y=i||r,M=y;k=Vr(u.call(M,y,c,h,p,f,g)),P=a}else{const y=e;k=Vr(y.length>1?y(h,{attrs:a,slots:o,emit:l}):y(h,null)),P=e.props?a:VL(a)}}catch(y){lc.length=0,lu(y,t,1),k=et(Dn)}let T=k;if(P&&b!==!1){const y=Object.keys(P),{shapeFlag:M}=T;y.length&&M&7&&(s&&y.some(Ky)&&(P=FL(P,s)),T=Os(T,P,!1,!0))}return n.dirs&&(T=Os(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&bo(T,n.transition),k=T,Mc(E),k}function LL(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(wo(i)){if(i.type!==Dn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const VL=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sd(n))&&((e||(e={}))[n]=t[n]);return e},FL=(t,e)=>{const n={};for(const r in t)(!Ky(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function $L(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Gw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Np(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Gw(r,o,u):!0:!!o;return!1}function Gw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Np(n,s))return!0}return!1}function xp({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Sf=t=>t.__isSuspense;let mv=0;const UL={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)BL(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}jL(t,e,n,r,i,o,a,l,u)}},hydrate:HL,normalize:WL},sre=UL;function $c(t,e){const n=t.props&&t.props[e];Ze(n)&&n()}function BL(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=cC(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?($c(t,"onPending"),$c(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),El(f,t.ssFallback)):f.resolve(!1,!0)}function jL(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:E,isHydrating:k}=h;if(b)h.pendingBranch=f,_i(f,b)?(l(b,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():E&&(k||(l(g,p,n,r,i,null,s,o,a),El(h,p)))):(h.pendingId=mv++,k?(h.isHydrating=!1,h.activeBranch=b):u(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),E?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),El(h,p))):g&&_i(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&_i(f,g))l(g,f,n,r,i,h,s,o,a),El(h,f);else if($c(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=mv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:P,pendingId:T}=h;P>0?setTimeout(()=>{h.pendingId===T&&h.fallback(p)},P):P===0&&h.fallback(p)}}function cC(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:b,remove:E}}=u;let k;const P=qL(t);P&&e&&e.pendingBranch&&(k=e.pendingId,e.deps++);const T=t.props?gf(t.props.timeout):void 0,y=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:mv++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(L=!1,S=!1){const{vnode:I,activeBranch:w,pendingBranch:v,pendingId:A,effects:C,parentComponent:R,container:U}=M;let $=!1;M.isHydrating?M.isHydrating=!1:L||($=w&&v.transition&&v.transition.mode==="out-in",$&&(w.transition.afterLeave=()=>{A===M.pendingId&&(f(v,U,s===y?g(w):s,0),wf(C))}),w&&(b(w.el)===U&&(s=g(w)),p(w,R,M,!0)),$||f(v,U,s,0)),El(M,v),M.pendingBranch=null,M.isInFallback=!1;let j=M.parent,F=!1;for(;j;){if(j.pendingBranch){j.effects.push(...C),F=!0;break}j=j.parent}!F&&!$&&wf(C),M.effects=[],P&&e&&e.pendingBranch&&k===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),$c(I,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:S,activeBranch:I,parentComponent:w,container:v,namespace:A}=M;$c(S,"onFallback");const C=g(I),R=()=>{M.isInFallback&&(h(null,L,v,C,w,null,A,a,l),El(M,L))},U=L.transition&&L.transition.mode==="out-in";U&&(I.transition.afterLeave=R),M.isInFallback=!0,p(I,w,null,!0),U||R()},move(L,S,I){M.activeBranch&&f(M.activeBranch,L,S,I),M.container=L},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(L,S,I){const w=!!M.pendingBranch;w&&M.deps++;const v=L.vnode.el;L.asyncDep.catch(A=>{lu(A,L,0)}).then(A=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:C}=L;yv(L,A,!1),v&&(C.el=v);const R=!v&&L.subTree.el;S(L,C,b(v||L.subTree.el),v?null:g(L.subTree),M,o,I),R&&E(R),xp(L,C.el),w&&--M.deps===0&&M.resolve()})},unmount(L,S){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,S),M.pendingBranch&&p(M.pendingBranch,n,L,S)}};return M}function HL(t,e,n,r,i,s,o,a,l){const u=e.suspense=cC(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function WL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Kw(r?n.default:n),t.ssFallback=r?Kw(n.fallback):et(Dn)}function Kw(t){let e;if(Ze(t)){const n=ua&&t._c;n&&(t._d=!1,q()),t=t(),n&&(t._d=!0,e=gr,hC())}return $e(t)&&(t=LL(t)),t=Vr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function dC(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):wf(t)}function El(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,xp(r,i))}function qL(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Me=Symbol.for("v-fgt"),ta=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),Il=Symbol.for("v-stc"),lc=[];let gr=null;function q(t=!1){lc.push(gr=t?null:[])}function hC(){lc.pop(),gr=lc[lc.length-1]||null}let ua=1;function Yw(t,e=!1){ua+=t,t<0&&gr&&e&&(gr.hasOnce=!0)}function fC(t){return t.dynamicChildren=ua>0?gr||yl:null,hC(),ua>0&&gr&&gr.push(t),t}function ee(t,e,n,r,i,s){return fC(Ae(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return fC(et(t,e,n,r,i,!0))}function wo(t){return t?t.__v_isVNode===!0:!1}function _i(t,e){return t.type===e.type&&t.key===e.key}function ore(t){}const pC=({key:t})=>t??null,Jh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||an(t)||Ze(t)?{i:Ln,r:t,k:e,f:!!n}:t:null);function Ae(t,e=null,n=null,r=0,i=null,s=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pC(e),ref:e&&Jh(e),scopeId:kp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ln};return a?(y_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),ua>0&&!o&&gr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&gr.push(l),l}const et=zL;function zL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===WA)&&(t=Dn),wo(t)){const a=Os(t,e,!0);return n&&y_(a,n),ua>0&&!s&&gr&&(a.shapeFlag&6?gr[gr.indexOf(t)]=a:gr.push(a)),a.patchFlag=-2,a}if(XL(t)&&(t=t.__vccOpts),e){e=er(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=tt(a)),Ht(l)&&(i_(l)&&!$e(l)&&(l=Gt({},l)),e.style=kr(l))}const o=Jt(t)?1:Sf(t)?128:xA(t)?64:Ht(t)?4:Ze(t)?2:0;return Ae(t,e,n,r,i,o,s,!0)}function er(t){return t?i_(t)||XA(t)?Gt({},t):t:null}function Os(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?pe(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&pC(u),ref:e&&e.ref?n&&s?$e(s)?s.concat(Jh(e)):[s,Jh(e)]:Jh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Os(t.ssContent),ssFallback:t.ssFallback&&Os(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&bo(c,l.clone(c)),c}function Nn(t=" ",e=0){return et(ta,null,t,e)}function are(t,e){const n=et(Il,null,t);return n.staticCount=e,n}function de(t="",e=!1){return e?(q(),qe(Dn,null,t)):et(Dn,null,t)}function Vr(t){return t==null||typeof t=="boolean"?et(Dn):$e(t)?et(Me,null,t.slice()):wo(t)?Zs(t):et(ta,null,String(t))}function Zs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Os(t)}function y_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),y_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!XA(e)?e._ctx=Ln:i===3&&Ln&&(Ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:Ln},n=32):(e=String(e),r&64?(n=16,e=[Nn(e)]):n=8);t.children=e,t.shapeFlag|=n}function pe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=kr([e.style,r.style]);else if(Sd(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Mr(t,e,n,r=null){Ni(t,e,7,[n,r])}const GL=KA();let KL=0;function mC(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||GL,s={uid:KL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZA(r,i),emitsOptions:uC(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ML.bind(null,s),t.ce&&t.ce(s),s}let xn=null;const ti=()=>xn||Ln;let Af,gv;{const t=Sp(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Af=e("__VUE_INSTANCE_SETTERS__",n=>xn=n),gv=e("__VUE_SSR_SETTERS__",n=>Ml=n)}const ca=t=>{const e=xn;return Af(t),t.scope.on(),()=>{t.scope.off(),Af(e)}},vv=()=>{xn&&xn.scope.off(),Af(null)};function gC(t){return t.vnode.shapeFlag&4}let Ml=!1;function vC(t,e=!1,n=!1){e&&gv(e);const{props:r,children:i}=t.vnode,s=gC(t);TL(t,r,s,e),AL(t,i,n);const o=s?YL(t,e):void 0;return e&&gv(!1),o}function YL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dv);const{setup:r}=n;if(r){Oo();const i=t.setupContext=r.length>1?_C(t):null,s=ca(t),o=Ad(r,t,0,[t.props,i]),a=Qy(o);if(Po(),s(),(a||t.sp)&&!lo(t)&&l_(t),a){if(o.then(vv,vv),e)return o.then(l=>{yv(t,l,e)}).catch(l=>{lu(l,t,0)});t.asyncDep=o}else yv(t,o,e)}else yC(t,e)}function yv(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=AA(e)),yC(t,n)}let Cf,_v;function lre(t){Cf=t,_v=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,fL))}}const ure=()=>!Cf;function yC(t,e,n){const r=t.type;if(!t.render){if(!e&&Cf&&!r.render){const i=r.template||m_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Gt(Gt({isCustomElement:s,delimiters:a},o),l);r.render=Cf(i,u)}}t.render=r.render||li,_v&&_v(t)}{const i=ca(t);Oo();try{pL(t)}finally{Po(),i()}}}const QL={get(t,e){return cr(t,"get",""),t[e]}};function _C(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,QL),slots:t.slots,emit:t.emit,expose:e}}function Pd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(AA(s_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in oc)return oc[n](t)},has(e,n){return n in e||n in oc}})):t.proxy}function bv(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function XL(t){return Ze(t)&&"__vccOpts"in t}const le=(t,e)=>FM(t,e,Ml);function Ll(t,e,n){const r=arguments.length;return r===2?Ht(e)&&!$e(e)?wo(e)?et(t,null,[e]):et(t,e):et(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&wo(n)&&(n=[n]),et(t,e,n))}function cre(){}function dre(t,e,n,r){const i=n[r];if(i&&JL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function JL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Or(n[r],e[r]))return!1;return ua>0&&gr&&gr.push(t),!0}const ZL="3.5.13",hre=li,fre=HM,pre=tl,mre=DA,e2={createComponentInstance:mC,setupComponent:vC,renderComponentRoot:Xh,setCurrentRenderingInstance:Mc,isVNode:wo,normalizeVNode:Vr,getComponentPublicInstance:Pd,ensureValidVNode:p_,pushWarningContext:BM,popWarningContext:jM},gre=e2,vre=null,yre=null,_re=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wv;const Qw=typeof window<"u"&&window.trustedTypes;if(Qw)try{wv=Qw.createPolicy("vue",{createHTML:t=>t})}catch{}const bC=wv?t=>wv.createHTML(t):t=>t,t2="http://www.w3.org/2000/svg",n2="http://www.w3.org/1998/Math/MathML",ps=typeof document<"u"?document:null,Xw=ps&&ps.createElement("template"),r2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ps.createElementNS(t2,t):e==="mathml"?ps.createElementNS(n2,t):n?ps.createElement(t,{is:n}):ps.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ps.createTextNode(t),createComment:t=>ps.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ps.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Xw.innerHTML=bC(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Xw.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},js="transition",Nu="animation",Vl=Symbol("_vtc"),wC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TC=Gt({},$A,wC),i2=t=>(t.displayName="Transition",t.props=TC,t),Ro=i2((t,{slots:e})=>Ll(KM,EC(t),e)),Uo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},Jw=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function EC(t){const e={};for(const C in t)C in wC||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=s2(i),b=g&&g[0],E=g&&g[1],{onBeforeEnter:k,onEnter:P,onEnterCancelled:T,onLeave:y,onLeaveCancelled:M,onBeforeAppear:L=k,onAppear:S=P,onAppearCancelled:I=T}=e,w=(C,R,U,$)=>{C._enterCancelled=$,Ks(C,R?c:a),Ks(C,R?u:o),U&&U()},v=(C,R)=>{C._isLeaving=!1,Ks(C,h),Ks(C,p),Ks(C,f),R&&R()},A=C=>(R,U)=>{const $=C?S:P,j=()=>w(R,C,U);Uo($,[R,j]),Zw(()=>{Ks(R,C?l:s),$i(R,C?c:a),Jw($)||eT(R,r,b,j)})};return Gt(e,{onBeforeEnter(C){Uo(k,[C]),$i(C,s),$i(C,o)},onBeforeAppear(C){Uo(L,[C]),$i(C,l),$i(C,u)},onEnter:A(!1),onAppear:A(!0),onLeave(C,R){C._isLeaving=!0;const U=()=>v(C,R);$i(C,h),C._enterCancelled?($i(C,f),Tv()):(Tv(),$i(C,f)),Zw(()=>{C._isLeaving&&(Ks(C,h),$i(C,p),Jw(y)||eT(C,r,E,U))}),Uo(y,[C,U])},onEnterCancelled(C){w(C,!1,void 0,!0),Uo(T,[C])},onAppearCancelled(C){w(C,!0,void 0,!0),Uo(I,[C])},onLeaveCancelled(C){v(C),Uo(M,[C])}})}function s2(t){if(t==null)return null;if(Ht(t))return[tg(t.enter),tg(t.leave)];{const e=tg(t);return[e,e]}}function tg(t){return gf(t)}function $i(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vl]||(t[Vl]=new Set)).add(e)}function Ks(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vl];n&&(n.delete(e),n.size||(t[Vl]=void 0))}function Zw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let o2=0;function eT(t,e,n,r){const i=t._endId=++o2,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=IC(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function IC(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${js}Delay`),s=r(`${js}Duration`),o=tT(i,s),a=r(`${Nu}Delay`),l=r(`${Nu}Duration`),u=tT(a,l);let c=null,h=0,f=0;e===js?o>0&&(c=js,h=o,f=s.length):e===Nu?u>0&&(c=Nu,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?js:Nu:null,f=c?c===js?s.length:l.length:0);const p=c===js&&/\b(transform|all)(,|$)/.test(r(`${js}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function tT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>nT(n)+nT(t[r])))}function nT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Tv(){return document.body.offsetHeight}function a2(t,e,n){const r=t[Vl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Of=Symbol("_vod"),SC=Symbol("_vsh"),uc={beforeMount(t,{value:e},{transition:n}){t[Of]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):xu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),xu(t,!0),r.enter(t)):r.leave(t,()=>{xu(t,!1)}):xu(t,e))},beforeUnmount(t,{value:e}){xu(t,e)}};function xu(t,e){t.style.display=e?t[Of]:"none",t[SC]=!e}function l2(){uc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const AC=Symbol("");function bre(t){const e=ti();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Pf(s,i))},r=()=>{const i=t(e.proxy);e.ce?Pf(e.ce,i):Ev(e.subTree,i),n(i)};u_(()=>{wf(r)}),yn(()=>{In(r,li,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Oa(()=>i.disconnect())})}function Ev(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Ev(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Pf(t.el,e);else if(t.type===Me)t.children.forEach(n=>Ev(n,e));else if(t.type===Il){let{el:n,anchor:r}=t;for(;n&&(Pf(n,e),n!==r);)n=n.nextSibling}}function Pf(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[AC]=r}}const u2=/(^|;)\s*display\s*:/;function c2(t,e,n){const r=t.style,i=Jt(n);let s=!1;if(n&&!i){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Zh(r,a,"")}else for(const o in e)n[o]==null&&Zh(r,o,"");for(const o in n)o==="display"&&(s=!0),Zh(r,o,n[o])}else if(i){if(e!==n){const o=r[AC];o&&(n+=";"+o),r.cssText=n,s=u2.test(n)}}else e&&t.removeAttribute("style");Of in t&&(t[Of]=s?r.display:"",t[SC]&&(r.display="none"))}const rT=/\s*!important$/;function Zh(t,e,n){if($e(n))n.forEach(r=>Zh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=d2(t,e);rT.test(n)?t.setProperty(Fr(r),n.replace(rT,""),"important"):t[r]=n}}const iT=["Webkit","Moz","ms"],ng={};function d2(t,e){const n=ng[e];if(n)return n;let r=_r(e);if(r!=="filter"&&r in t)return ng[e]=r;r=Ip(r);for(let i=0;i<iT.length;i++){const s=iT[i]+r;if(s in t)return ng[e]=s}return e}const sT="http://www.w3.org/1999/xlink";function oT(t,e,n,r,i,s=uM(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(sT,e.slice(6,e.length)):t.setAttributeNS(sT,e,n):n==null||s&&!rA(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Di(n)?String(n):n)}function aT(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?bC(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=rA(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function vs(t,e,n,r){t.addEventListener(e,n,r)}function h2(t,e,n,r){t.removeEventListener(e,n,r)}const lT=Symbol("_vei");function f2(t,e,n,r,i=null){const s=t[lT]||(t[lT]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=p2(e);if(r){const u=s[e]=v2(r,i);vs(t,a,u,l)}else o&&(h2(t,a,o,l),s[e]=void 0)}}const uT=/(?:Once|Passive|Capture)$/;function p2(t){let e;if(uT.test(t)){e={};let r;for(;r=t.match(uT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fr(t.slice(2)),e]}let rg=0;const m2=Promise.resolve(),g2=()=>rg||(m2.then(()=>rg=0),rg=Date.now());function v2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ni(y2(r,n.value),e,5,[r])};return n.value=t,n.attached=g2(),n}function y2(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const cT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?a2(t,r,o):e==="style"?c2(t,n,r):Sd(e)?Ky(e)||f2(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):b2(t,e,r,o))?(aT(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&oT(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Jt(r))?aT(t,_r(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),oT(t,e,r,o))};function b2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&cT(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return cT(e)&&Jt(n)?!1:e in t}const dT={};/*! #__NO_SIDE_EFFECTS__ */function w2(t,e,n){const r=Kt(t,e);Tp(r)&&Gt(r,e);class i extends __{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const wre=(t,e)=>w2(t,e,F2),T2=typeof HTMLElement<"u"?HTMLElement:class{};class __ extends T2{constructor(e,n={},r=Sv){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Sv?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof __){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Hn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!$e(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=gf(this._props[l])),(a||(a=Object.create(null)))[_r(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)Rt(this,r)||Object.defineProperty(this,r,{get:()=>Y(n[r])})}_resolveProps(e){const{props:n}=e,r=$e(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(_r))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):dT;const i=_r(e);n&&this._numberProps&&this._numberProps[i]&&(r=gf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===dT?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Fr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Fr(e),n+""):n||this.removeAttribute(Fr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Uc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=et(this._def,Gt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,Tp(o[0])?Gt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Fr(s)!==s&&i(Fr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function E2(t){const e=ti(),n=e&&e.ce;return n||null}function Tre(){const t=E2();return t&&t.shadowRoot}function Ere(t="$style"){{const e=ti();if(!e)return gt;const n=e.type.__cssModules;if(!n)return gt;const r=n[t];return r||gt}}const CC=new WeakMap,OC=new WeakMap,Rf=Symbol("_moveCb"),hT=Symbol("_enterCb"),I2=t=>(delete t.props.mode,t),S2=I2({name:"TransitionGroup",props:Gt({},TC,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ti(),r=FA();let i,s;return c_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!R2(i[0].el,n.vnode.el,o))return;i.forEach(C2),i.forEach(O2);const a=i.filter(P2);Tv(),a.forEach(l=>{const u=l.el,c=u.style;$i(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[Rf]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[Rf]=null,Ks(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=mt(t),a=EC(o);let l=o.tag||Me;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),bo(c,Lc(c,a,r,n)),CC.set(c,c.el.getBoundingClientRect()))}s=e.default?a_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&bo(c,Lc(c,a,r,n))}return et(l,null,s)}}}),A2=S2;function C2(t){const e=t.el;e[Rf]&&e[Rf](),e[hT]&&e[hT]()}function O2(t){OC.set(t,t.el.getBoundingClientRect())}function P2(t){const e=CC.get(t),n=OC.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function R2(t,e,n){const r=t.cloneNode(),i=t[Vl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=IC(r);return s.removeChild(r),o}const To=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>wl(e,n):e};function k2(t){t.target.composing=!0}function fT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ci=Symbol("_assign"),Iv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ci]=To(i);const s=r||i.props&&i.props.type==="number";vs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=mf(a)),t[ci](a)}),n&&vs(t,"change",()=>{t.value=t.value.trim()}),e||(vs(t,"compositionstart",k2),vs(t,"compositionend",fT),vs(t,"change",fT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[ci]=To(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?mf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},PC={deep:!0,created(t,e,n){t[ci]=To(n),vs(t,"change",()=>{const r=t._modelValue,i=Fl(t),s=t.checked,o=t[ci];if($e(r)){const a=Ap(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ca(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(kC(t,s))})},mounted:pT,beforeUpdate(t,e,n){t[ci]=To(n),pT(t,e,n)}};function pT(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if($e(e))i=Ap(e,r.props.value)>-1;else if(Ca(e))i=e.has(r.props.value);else{if(e===n)return;i=_o(e,kC(t,!0))}t.checked!==i&&(t.checked=i)}const RC={created(t,{value:e},n){t.checked=_o(e,n.props.value),t[ci]=To(n),vs(t,"change",()=>{t[ci](Fl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ci]=To(r),e!==n&&(t.checked=_o(e,r.props.value))}},D2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ca(e);vs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?mf(Fl(o)):Fl(o));t[ci](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Hn(()=>{t._assigning=!1})}),t[ci]=To(r)},mounted(t,{value:e}){mT(t,e)},beforeUpdate(t,e,n){t[ci]=To(n)},updated(t,{value:e}){t._assigning||mT(t,e)}};function mT(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!Ca(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Fl(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Ap(e,a)>-1}else o.selected=e.has(a);else if(_o(Fl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Fl(t){return"_value"in t?t._value:t.value}function kC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const N2={created(t,e,n){Ih(t,e,n,null,"created")},mounted(t,e,n){Ih(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Ih(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Ih(t,e,n,r,"updated")}};function DC(t,e){switch(t){case"SELECT":return D2;case"TEXTAREA":return Iv;default:switch(e){case"checkbox":return PC;case"radio":return RC;default:return Iv}}}function Ih(t,e,n,r,i){const o=DC(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function x2(){Iv.getSSRProps=({value:t})=>({value:t}),RC.getSSRProps=({value:t},e)=>{if(e.props&&_o(e.props.value,t))return{checked:!0}},PC.getSSRProps=({value:t},e)=>{if($e(t)){if(e.props&&Ap(t,e.props.value)>-1)return{checked:!0}}else if(Ca(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},N2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=DC(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const M2=["ctrl","shift","alt","meta"],L2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>M2.some(n=>t[`${n}Key`]&&!e.includes(n))},Lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=L2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},V2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Fr(i.key);if(e.some(o=>o===s||V2[o]===s))return t(i)})},NC=Gt({patchProp:_2},r2);let cc,gT=!1;function xC(){return cc||(cc=OL(NC))}function MC(){return cc=gT?cc:PL(NC),gT=!0,cc}const Uc=(...t)=>{xC().render(...t)},Ire=(...t)=>{MC().hydrate(...t)},Sv=(...t)=>{const e=xC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=VC(r);if(!i)return;const s=e._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,LC(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},F2=(...t)=>{const e=MC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=VC(r);if(i)return n(i,!0,LC(i))},e};function LC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function VC(t){return Jt(t)?document.querySelector(t):t}let vT=!1;const Sre=()=>{vT||(vT=!0,x2(),l2())};function $2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const kf=$2();let yT=0;const U2=()=>{const t=yT;return yT+=1,t},FC=()=>(t,e)=>{const n={...t,id:U2(),group:t.group||""};return kf.emit("notify",{notification:n,timeout:e}),()=>kf.emit("close",n.id)},$C="context",Av=Kt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,i=Dr($C),s=Nr({notifications:[],timeouts:{}}),o=le(()=>s.notifications.filter(p=>p.group===i.group)),a=le(()=>i.position==="bottom"?[...o.value]:[...o.value].reverse()),l=(p,g)=>{s.timeouts[p]=window.setTimeout(()=>{g!==-1&&u(p)},Math.max(g||3e3,0))},u=p=>{s.notifications.splice(s.notifications.findIndex(g=>g.id===p),1),clearTimeout(s.timeouts[p])},c=({notification:p,timeout:g})=>{s.notifications.length!==n.maxNotifications&&(s.notifications.push(p),l(p.id,g))},h=p=>{r("close"),u(p)},f=(p,g,b)=>{g?clearTimeout(s.timeouts[p]):l(p,b)};return yn(()=>{kf.on("notify",c),kf.on("close",u)}),(p,g)=>(q(),qe(A2,{"enter-active-class":o.value.length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[_e(p.$slots,"default",{notifications:a.value,close:h,hovering:f})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),_T=Kt({inheritAttrs:!1,__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return ac($C,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:n.group})}});function B2(t){t.config.globalProperties.$notify=FC(),t.component("Notification",Av),t.component("NotificationGroup",_T),t.component("notification",Av),t.component("notificationGroup",_T)}const j2={install:B2},H2=FC(),W2={class:"px-4 py-2 -mx-3"},q2={class:"mx-3"},z2={class:"font-semibold text-white"},G2={class:"text-sm text-gray-100"},ig=Kt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(q(),qe(Y(Av),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(q(!0),ee(Me,null,Ft(r,i=>(q(),ee("div",{key:i.id},[i.type===e.type?(q(),ee("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ae("div",W2,[Ae("div",q2,[Ae("span",z2,ht(i.title),1),Ae("p",G2,ht(i.text),1)])])],2)):de("",!0)]))),128))]),_:1}))}}),K2={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},Y2={class:"w-full max-w-sm"},Q2=Kt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Kr("NotificationGroup",!0);return q(),qe(r,null,{default:Qe(()=>[Ae("div",K2,[Ae("div",Y2,[et(ig,{type:"error",color:"bg-red-800"}),et(ig,{type:"warning",color:"bg-yellow-800"}),et(ig,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const nl=typeof document<"u";function UC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function X2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&UC(t.default)}const Mt=Object.assign;function sg(t,e){const n={};for(const r in e){const i=e[r];n[r]=xi(i)?i.map(t):t(i)}return n}const dc=()=>{},xi=Array.isArray,BC=/#/g,J2=/&/g,Z2=/\//g,eV=/=/g,tV=/\?/g,jC=/\+/g,nV=/%5B/g,rV=/%5D/g,HC=/%5E/g,iV=/%60/g,WC=/%7B/g,sV=/%7C/g,qC=/%7D/g,oV=/%20/g;function b_(t){return encodeURI(""+t).replace(sV,"|").replace(nV,"[").replace(rV,"]")}function aV(t){return b_(t).replace(WC,"{").replace(qC,"}").replace(HC,"^")}function Cv(t){return b_(t).replace(jC,"%2B").replace(oV,"+").replace(BC,"%23").replace(J2,"%26").replace(iV,"`").replace(WC,"{").replace(qC,"}").replace(HC,"^")}function lV(t){return Cv(t).replace(eV,"%3D")}function uV(t){return b_(t).replace(BC,"%23").replace(tV,"%3F")}function cV(t){return t==null?"":uV(t).replace(Z2,"%2F")}function Bc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const dV=/\/$/,hV=t=>t.replace(dV,"");function og(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=gV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Bc(o)}}function fV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function bT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&$l(e.matched[r],n.matched[i])&&zC(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function $l(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function zC(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!mV(t[n],e[n]))return!1;return!0}function mV(t,e){return xi(t)?wT(t,e):xi(e)?wT(e,t):t===e}function wT(t,e){return xi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function gV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Hs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var jc;(function(t){t.pop="pop",t.push="push"})(jc||(jc={}));var hc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(hc||(hc={}));function vV(t){if(!t)if(nl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),hV(t)}const yV=/^[^#]+#/;function _V(t,e){return t.replace(yV,"#")+e}function bV(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Mp=()=>({left:window.scrollX,top:window.scrollY});function wV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=bV(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function TT(t,e){return(history.state?history.state.position-e:-1)+t}const Ov=new Map;function TV(t,e){Ov.set(t,e)}function EV(t){const e=Ov.get(t);return Ov.delete(t),e}let IV=()=>location.protocol+"//"+location.host;function GC(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),bT(l,"")}return bT(n,t)+r+i}function SV(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=GC(t,location),g=n.value,b=e.value;let E=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}E=b?f.position-b.position:0}else r(p);i.forEach(k=>{k(n.value,g,{delta:E,type:jc.pop,direction:E?E>0?hc.forward:hc.back:hc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Mt({},f.state,{scroll:Mp()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function ET(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Mp():null}}function AV(t){const{history:e,location:n}=window,r={value:GC(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:IV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Mt({},e.state,ET(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Mt({},i.value,e.state,{forward:l,scroll:Mp()});s(c.current,c,!0);const h=Mt({},ET(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function CV(t){t=vV(t);const e=AV(t),n=SV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Mt({location:"",base:t,go:r,createHref:_V.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function OV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),CV(t)}function PV(t){return typeof t=="string"||t&&typeof t=="object"}function KC(t){return typeof t=="string"||typeof t=="symbol"}const YC=Symbol("");var IT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(IT||(IT={}));function Ul(t,e){return Mt(new Error,{type:t,[YC]:!0},e)}function hs(t,e){return t instanceof Error&&YC in t&&(e==null||!!(t.type&e))}const ST="[^/]+?",RV={sensitive:!1,strict:!1,start:!0,end:!0},kV=/[.+*?^${}()[\]/\\]/g;function DV(t,e){const n=Mt({},RV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(kV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:b,optional:E,regexp:k}=f;s.push({name:g,repeatable:b,optional:E});const P=k||ST;if(P!==ST){p+=10;try{new RegExp(`(${P})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+y.message)}}let T=b?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(T=E&&u.length<2?`(?:/${T})`:"/"+T),E&&(T+="?"),i+=T,p+=20,E&&(p+=-8),b&&(p+=-20),P===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:b,optional:E}=p,k=g in u?u[g]:"";if(xi(k)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=xi(k)?k.join("/"):k;if(!P)if(E)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=P}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function NV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function QC(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=NV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(AT(r))return 1;if(AT(i))return-1}return i.length-r.length}function AT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xV={type:0,value:""},MV=/[a-zA-Z0-9_]/;function LV(t){if(!t)return[[]];if(t==="/")return[[xV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:MV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function VV(t,e,n){const r=DV(LV(t.path),n),i=Mt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function FV(t,e){const n=[],r=new Map;e=RT({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,b=OT(h);b.aliasOf=p&&p.record;const E=RT(e,h),k=[b];if("alias"in h){const y=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of y)k.push(OT(Mt({},b,{components:p?p.record.components:b.components,path:M,aliasOf:p?p.record:b})))}let P,T;for(const y of k){const{path:M}=y;if(f&&M[0]!=="/"){const L=f.record.path,S=L[L.length-1]==="/"?"":"/";y.path=f.record.path+(M&&S+M)}if(P=VV(y,f,E),p?p.alias.push(P):(T=T||P,T!==P&&T.alias.push(P),g&&h.name&&!PT(P)&&o(h.name)),XC(P)&&l(P),b.children){const L=b.children;for(let S=0;S<L.length;S++)s(L[S],P,p&&p.children[S])}p=p||P}return T?()=>{o(T)}:dc}function o(h){if(KC(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=BV(h,n);n.splice(f,0,h),h.record.name&&!PT(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},b,E;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Ul(1,{location:h});E=p.record.name,g=Mt(CT(f.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&CT(h.params,p.keys.map(T=>T.name))),b=p.stringify(g)}else if(h.path!=null)b=h.path,p=n.find(T=>T.re.test(b)),p&&(g=p.parse(b),E=p.record.name);else{if(p=f.name?r.get(f.name):n.find(T=>T.re.test(f.path)),!p)throw Ul(1,{location:h,currentLocation:f});E=p.record.name,g=Mt({},f.params,h.params),b=p.stringify(g)}const k=[];let P=p;for(;P;)k.unshift(P.record),P=P.parent;return{name:E,path:b,params:g,matched:k,meta:UV(k)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function CT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function OT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$V(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $V(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function PT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function UV(t){return t.reduce((e,n)=>Mt(e,n.meta),{})}function RT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function BV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;QC(t,e[s])<0?r=s:n=s+1}const i=jV(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function jV(t){let e=t;for(;e=e.parent;)if(XC(e)&&QC(t,e)===0)return e}function XC({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function HV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(jC," "),o=s.indexOf("="),a=Bc(o<0?s:s.slice(0,o)),l=o<0?null:Bc(s.slice(o+1));if(a in e){let u=e[a];xi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function kT(t){let e="";for(let n in t){const r=t[n];if(n=lV(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(xi(r)?r.map(s=>s&&Cv(s)):[r&&Cv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function WV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=xi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const qV=Symbol(""),DT=Symbol(""),Lp=Symbol(""),w_=Symbol(""),Pv=Symbol("");function Mu(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function eo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Ul(4,{from:n,to:e})):f instanceof Error?l(f):PV(f)?l(Ul(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function ag(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(UC(l)){const c=(l.__vccOpts||l)[e];c&&s.push(eo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=X2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&eo(p,n,r,o,a,i)()}))}}return s}function NT(t){const e=Dr(Lp),n=Dr(w_),r=le(()=>{const l=Y(t.to);return e.resolve(l)}),i=le(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex($l.bind(null,c));if(f>-1)return f;const p=xT(l[u-2]);return u>1&&xT(c)===p&&h[h.length-1].path!==p?h.findIndex($l.bind(null,l[u-2])):f}),s=le(()=>i.value>-1&&QV(n.params,r.value.params)),o=le(()=>i.value>-1&&i.value===n.matched.length-1&&zC(n.params,r.value.params));function a(l={}){if(YV(l)){const u=e[Y(t.replace)?"replace":"push"](Y(t.to)).catch(dc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function zV(t){return t.length===1?t[0]:t}const GV=Kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:NT,setup(t,{slots:e}){const n=Nr(NT(t)),{options:r}=Dr(Lp),i=le(()=>({[MT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[MT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&zV(e.default(n));return t.custom?s:Ll("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),KV=GV;function YV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function QV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!xi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function xT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const MT=(t,e,n)=>t??e??n,XV=Kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Dr(Pv),i=le(()=>t.route||r.value),s=Dr(DT,0),o=le(()=>{let u=Y(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=le(()=>i.value.matched[o.value]);ac(DT,le(()=>o.value+1)),ac(qV,a),ac(Pv,i);const l=fe();return In(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!$l(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return LT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,E=Ll(f,Mt({},g,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return LT(n.default,{Component:E,route:u})||E}}});function LT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const JC=XV;function JV(t){const e=FV(t.routes,t),n=t.parseQuery||HV,r=t.stringifyQuery||kT,i=t.history,s=Mu(),o=Mu(),a=Mu(),l=IA(Hs);let u=Hs;nl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=sg.bind(null,Q=>""+Q),h=sg.bind(null,cV),f=sg.bind(null,Bc);function p(Q,ie){let X,ce;return KC(Q)?(X=e.getRecordMatcher(Q),ce=ie):ce=Q,e.addRoute(ce,X)}function g(Q){const ie=e.getRecordMatcher(Q);ie&&e.removeRoute(ie)}function b(){return e.getRoutes().map(Q=>Q.record)}function E(Q){return!!e.getRecordMatcher(Q)}function k(Q,ie){if(ie=Mt({},ie||l.value),typeof Q=="string"){const V=og(n,Q,ie.path),H=e.resolve({path:V.path},ie),oe=i.createHref(V.fullPath);return Mt(V,H,{params:f(H.params),hash:Bc(V.hash),redirectedFrom:void 0,href:oe})}let X;if(Q.path!=null)X=Mt({},Q,{path:og(n,Q.path,ie.path).path});else{const V=Mt({},Q.params);for(const H in V)V[H]==null&&delete V[H];X=Mt({},Q,{params:h(V)}),ie.params=h(ie.params)}const ce=e.resolve(X,ie),be=Q.hash||"";ce.params=c(f(ce.params));const ne=fV(r,Mt({},Q,{hash:aV(be),path:ce.path})),D=i.createHref(ne);return Mt({fullPath:ne,hash:be,query:r===kT?WV(Q.query):Q.query||{}},ce,{redirectedFrom:void 0,href:D})}function P(Q){return typeof Q=="string"?og(n,Q,l.value.path):Mt({},Q)}function T(Q,ie){if(u!==Q)return Ul(8,{from:ie,to:Q})}function y(Q){return S(Q)}function M(Q){return y(Mt(P(Q),{replace:!0}))}function L(Q){const ie=Q.matched[Q.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let ce=typeof X=="function"?X(Q):X;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=P(ce):{path:ce},ce.params={}),Mt({query:Q.query,hash:Q.hash,params:ce.path!=null?{}:Q.params},ce)}}function S(Q,ie){const X=u=k(Q),ce=l.value,be=Q.state,ne=Q.force,D=Q.replace===!0,V=L(X);if(V)return S(Mt(P(V),{state:typeof V=="object"?Mt({},be,V.state):be,force:ne,replace:D}),ie||X);const H=X;H.redirectedFrom=ie;let oe;return!ne&&pV(r,ce,X)&&(oe=Ul(16,{to:H,from:ce}),G(ce,ce,!0,!1)),(oe?Promise.resolve(oe):v(H,ce)).catch(se=>hs(se)?hs(se,2)?se:O(se):B(se,H,ce)).then(se=>{if(se){if(hs(se,2))return S(Mt({replace:D},P(se.to),{state:typeof se.to=="object"?Mt({},be,se.to.state):be,force:ne}),ie||H)}else se=C(H,ce,!0,D,be);return A(H,ce,se),se})}function I(Q,ie){const X=T(Q,ie);return X?Promise.reject(X):Promise.resolve()}function w(Q){const ie=he.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(Q):Q()}function v(Q,ie){let X;const[ce,be,ne]=ZV(Q,ie);X=ag(ce.reverse(),"beforeRouteLeave",Q,ie);for(const V of ce)V.leaveGuards.forEach(H=>{X.push(eo(H,Q,ie))});const D=I.bind(null,Q,ie);return X.push(D),W(X).then(()=>{X=[];for(const V of s.list())X.push(eo(V,Q,ie));return X.push(D),W(X)}).then(()=>{X=ag(be,"beforeRouteUpdate",Q,ie);for(const V of be)V.updateGuards.forEach(H=>{X.push(eo(H,Q,ie))});return X.push(D),W(X)}).then(()=>{X=[];for(const V of ne)if(V.beforeEnter)if(xi(V.beforeEnter))for(const H of V.beforeEnter)X.push(eo(H,Q,ie));else X.push(eo(V.beforeEnter,Q,ie));return X.push(D),W(X)}).then(()=>(Q.matched.forEach(V=>V.enterCallbacks={}),X=ag(ne,"beforeRouteEnter",Q,ie,w),X.push(D),W(X))).then(()=>{X=[];for(const V of o.list())X.push(eo(V,Q,ie));return X.push(D),W(X)}).catch(V=>hs(V,8)?V:Promise.reject(V))}function A(Q,ie,X){a.list().forEach(ce=>w(()=>ce(Q,ie,X)))}function C(Q,ie,X,ce,be){const ne=T(Q,ie);if(ne)return ne;const D=ie===Hs,V=nl?history.state:{};X&&(ce||D?i.replace(Q.fullPath,Mt({scroll:D&&V&&V.scroll},be)):i.push(Q.fullPath,be)),l.value=Q,G(Q,ie,X,D),O()}let R;function U(){R||(R=i.listen((Q,ie,X)=>{if(!Z.listening)return;const ce=k(Q),be=L(ce);if(be){S(Mt(be,{replace:!0,force:!0}),ce).catch(dc);return}u=ce;const ne=l.value;nl&&TV(TT(ne.fullPath,X.delta),Mp()),v(ce,ne).catch(D=>hs(D,12)?D:hs(D,2)?(S(Mt(P(D.to),{force:!0}),ce).then(V=>{hs(V,20)&&!X.delta&&X.type===jc.pop&&i.go(-1,!1)}).catch(dc),Promise.reject()):(X.delta&&i.go(-X.delta,!1),B(D,ce,ne))).then(D=>{D=D||C(ce,ne,!1),D&&(X.delta&&!hs(D,8)?i.go(-X.delta,!1):X.type===jc.pop&&hs(D,20)&&i.go(-1,!1)),A(ce,ne,D)}).catch(dc)}))}let $=Mu(),j=Mu(),F;function B(Q,ie,X){O(Q);const ce=j.list();return ce.length?ce.forEach(be=>be(Q,ie,X)):console.error(Q),Promise.reject(Q)}function N(){return F&&l.value!==Hs?Promise.resolve():new Promise((Q,ie)=>{$.add([Q,ie])})}function O(Q){return F||(F=!Q,U(),$.list().forEach(([ie,X])=>Q?X(Q):ie()),$.reset()),Q}function G(Q,ie,X,ce){const{scrollBehavior:be}=t;if(!nl||!be)return Promise.resolve();const ne=!X&&EV(TT(Q.fullPath,0))||(ce||!X)&&history.state&&history.state.scroll||null;return Hn().then(()=>be(Q,ie,ne)).then(D=>D&&wV(D)).catch(D=>B(D,Q,ie))}const z=Q=>i.go(Q);let te;const he=new Set,Z={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:b,resolve:k,options:t,push:y,replace:M,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:N,install(Q){const ie=this;Q.component("RouterLink",KV),Q.component("RouterView",JC),Q.config.globalProperties.$router=ie,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>Y(l)}),nl&&!te&&l.value===Hs&&(te=!0,y(i.location).catch(be=>{}));const X={};for(const be in Hs)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});Q.provide(Lp,ie),Q.provide(w_,EA(X)),Q.provide(Pv,l);const ce=Q.unmount;he.add(Q),Q.unmount=function(){he.delete(Q),he.size<1&&(u=Hs,R&&R(),R=null,l.value=Hs,te=!1,F=!1),ce()}}};function W(Q){return Q.reduce((ie,X)=>ie.then(()=>w(X)),Promise.resolve())}return Z}function ZV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>$l(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>$l(u,l))||i.push(l))}return[n,r,i]}function Are(){return Dr(Lp)}function Cre(t){return Dr(w_)}const eF=Kt({__name:"App",setup(t){return(e,n)=>(q(),ee(Me,null,[et(Y(JC)),et(Q2)],64))}});var VT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re=function(t,e){if(!t)throw uu(e)},uu=function(t){return new Error("Firebase Database ("+ZC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new nF;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tO=function(t){const e=eO(t);return Vp.encodeByteArray(e,!0)},Df=function(t){return tO(t).replace(/\./g,"")},Nf=function(t){try{return Vp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){return nO(void 0,t)}function nO(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iF(n)||(t[n]=nO(t[n],e[n]));return t}function iF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=()=>rO().__FIREBASE_DEFAULTS__,oF=()=>{if(typeof process>"u"||typeof VT>"u")return;const t=VT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nf(t[1]);return e&&JSON.parse(e)},Fp=()=>{try{return sF()||oF()||aF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lF=t=>{var e,n;return(n=(e=Fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iO=t=>{const e=lF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sO=()=>{var t;return(t=Fp())===null||t===void 0?void 0:t.config},uF=t=>{var e;return(e=Fp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Df(JSON.stringify(n)),Df(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function cF(){var t;const e=(t=Fp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hF(){const t=Tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uO(){return ZC.NODE_ADMIN===!0}function fF(){return!cF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $p(){try{return typeof indexedDB=="object"}catch{return!1}}function cO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function pF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mF,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ni(i,a,r)}}function gF(t,e){return t.replace(vF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){return JSON.parse(t)}function Xn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Hc(Nf(s[0])||""),n=Hc(Nf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},yF=function(t){const e=dO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_F=function(t){const e=dO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Rv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Wc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(FT(s)&&FT(o)){if(!Wc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function wF(t,e){const n=new TF(t,e);return n.subscribe.bind(n)}class TF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lg),i.error===void 0&&(i.error=lg),i.complete===void 0&&(i.complete=lg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lg(){}function IF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Re(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Up=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=1e3,OF=2,PF=4*60*60*1e3,RF=.5;function kv(t,e=CF,n=OF){const r=e*Math.pow(n,t),i=Math.round(RF*r*(Math.random()-.5)*2);return Math.min(PF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new da;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NF(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DF(t){return t===jo?void 0:t}function NF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const MF={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},LF=ft.INFO,VF={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},FF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class du{constructor(e){this.name=e,this._logLevel=LF,this._logHandler=FF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const $F=(t,e)=>e.some(n=>t instanceof n);let $T,UT;function UF(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BF(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hO=new WeakMap,Dv=new WeakMap,fO=new WeakMap,ug=new WeakMap,E_=new WeakMap;function jF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(uo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hO.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function HF(t){if(Dv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dv.set(t,e)}let Nv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WF(t){Nv=t(Nv)}function qF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cg(this),e,...n);return fO.set(r,e.sort?e.sort():[e]),uo(r)}:BF().includes(t)?function(...e){return t.apply(cg(this),e),uo(hO.get(this))}:function(...e){return uo(t.apply(cg(this),e))}}function zF(t){return typeof t=="function"?qF(t):(t instanceof IDBTransaction&&HF(t),$F(t,UF())?new Proxy(t,Nv):t)}function uo(t){if(t instanceof IDBRequest)return jF(t);if(ug.has(t))return ug.get(t);const e=zF(t);return e!==t&&(ug.set(t,e),E_.set(e,t)),e}const cg=t=>E_.get(t);function pO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=uo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(uo(o.result),l.oldVersion,l.newVersion,uo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],dg=new Map;function BT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dg.set(e,s),s}WF(t=>({...t,get:(e,n,r)=>BT(e,n)||t.get(e,n,r),has:(e,n)=>!!BT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xv="@firebase/app",jT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new du("@firebase/app"),XF="@firebase/app-compat",JF="@firebase/analytics-compat",ZF="@firebase/analytics",e$="@firebase/app-check-compat",t$="@firebase/app-check",n$="@firebase/auth",r$="@firebase/auth-compat",i$="@firebase/database",s$="@firebase/data-connect",o$="@firebase/database-compat",a$="@firebase/functions",l$="@firebase/functions-compat",u$="@firebase/installations",c$="@firebase/installations-compat",d$="@firebase/messaging",h$="@firebase/messaging-compat",f$="@firebase/performance",p$="@firebase/performance-compat",m$="@firebase/remote-config",g$="@firebase/remote-config-compat",v$="@firebase/storage",y$="@firebase/storage-compat",_$="@firebase/firestore",b$="@firebase/vertexai-preview",w$="@firebase/firestore-compat",T$="firebase",E$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="[DEFAULT]",I$={[xv]:"fire-core",[XF]:"fire-core-compat",[ZF]:"fire-analytics",[JF]:"fire-analytics-compat",[t$]:"fire-app-check",[e$]:"fire-app-check-compat",[n$]:"fire-auth",[r$]:"fire-auth-compat",[i$]:"fire-rtdb",[s$]:"fire-data-connect",[o$]:"fire-rtdb-compat",[a$]:"fire-fn",[l$]:"fire-fn-compat",[u$]:"fire-iid",[c$]:"fire-iid-compat",[d$]:"fire-fcm",[h$]:"fire-fcm-compat",[f$]:"fire-perf",[p$]:"fire-perf-compat",[m$]:"fire-rc",[g$]:"fire-rc-compat",[v$]:"fire-gcs",[y$]:"fire-gcs-compat",[_$]:"fire-fst",[w$]:"fire-fst-compat",[b$]:"fire-vertex","fire-js":"fire-js",[T$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,S$=new Map,Lv=new Map;function HT(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wr(t){const e=t.name;if(Lv.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,t);for(const n of Mf.values())HT(n,t);for(const n of S$.values())HT(n,t);return!0}function Vs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new ko("app","Firebase",A$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=E$;function mO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=sO()),!n)throw co.create("no-options");const s=Mf.get(i);if(s){if(Wc(n,s.options)&&Wc(r,s.config))return s;throw co.create("duplicate-app",{appName:i})}const o=new xF(i);for(const l of Lv.values())o.addComponent(l);const a=new C$(n,r,o);return Mf.set(i,a),a}function Rd(t=Mv){const e=Mf.get(t);if(!e&&t===Mv&&sO())return mO();if(!e)throw co.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let i=(r=I$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(a.join(" "));return}Wr(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="firebase-heartbeat-database",P$=1,qc="firebase-heartbeat-store";let hg=null;function gO(){return hg||(hg=pO(O$,P$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),hg}async function R$(t){try{const n=(await gO()).transaction(qc),r=await n.objectStore(qc).get(vO(t));return await n.done,r}catch(e){if(e instanceof ni)Ps.warn(e.message);else{const n=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function WT(t,e){try{const r=(await gO()).transaction(qc,"readwrite");await r.objectStore(qc).put(e,vO(t)),await r.done}catch(n){if(n instanceof ni)Ps.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function vO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=1024,D$=30*24*60*60*1e3;class N${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=D$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qT(),{heartbeatsToSend:r,unsentEntries:i}=x$(this._heartbeatsCache.heartbeats),s=Df(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ps.warn(n),""}}}function qT(){return new Date().toISOString().substring(0,10)}function x$(t,e=k$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $p()?cO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zT(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){Wr(new xr("platform-logger",e=>new YF(e),"PRIVATE")),Wr(new xr("heartbeat",e=>new N$(e),"PRIVATE")),nr(xv,jT,t),nr(xv,jT,"esm2017"),nr("fire-js","")}L$("");const yO="@firebase/installations",I_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=1e4,bO=`w:${I_}`,wO="FIS_v2",V$="https://firebaseinstallations.googleapis.com/v1",F$=60*60*1e3,$$="installations",U$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ha=new ko($$,U$,B$);function TO(t){return t instanceof ni&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO({projectId:t}){return`${V$}/projects/${t}/installations`}function IO(t){return{token:t.token,requestStatus:2,expiresIn:H$(t.expiresIn),creationTime:Date.now()}}async function SO(t,e){const r=(await e.json()).error;return ha.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function AO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function j$(t,{refreshToken:e}){const n=AO(t);return n.append("Authorization",W$(e)),n}async function CO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function H$(t){return Number(t.replace("s","000"))}function W$(t){return`${wO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EO(t),i=AO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:wO,appId:t.appId,sdkVersion:bO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await CO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:IO(u.authToken)}}else throw await SO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=/^[cdef][\w-]{21}$/,Vv="";function K$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Y$(t);return G$.test(n)?n:Vv}catch{return Vv}}function Y$(t){return z$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new Map;function RO(t,e){const n=Bp(t);kO(n,e),Q$(n,e)}function kO(t,e){const n=PO.get(t);if(n)for(const r of n)r(e)}function Q$(t,e){const n=X$();n&&n.postMessage({key:t,fid:e}),J$()}let Ko=null;function X$(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=t=>{kO(t.data.key,t.data.fid)}),Ko}function J$(){PO.size===0&&Ko&&(Ko.close(),Ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$="firebase-installations-database",eU=1,fa="firebase-installations-store";let fg=null;function S_(){return fg||(fg=pO(Z$,eU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fa)}}})),fg}async function Lf(t,e){const n=Bp(t),i=(await S_()).transaction(fa,"readwrite"),s=i.objectStore(fa),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&RO(t,e.fid),e}async function DO(t){const e=Bp(t),r=(await S_()).transaction(fa,"readwrite");await r.objectStore(fa).delete(e),await r.done}async function jp(t,e){const n=Bp(t),i=(await S_()).transaction(fa,"readwrite"),s=i.objectStore(fa),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&RO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(t){let e;const n=await jp(t.appConfig,r=>{const i=tU(r),s=nU(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Vv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tU(t){const e=t||{fid:K$(),registrationStatus:0};return NO(e)}function nU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ha.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iU(t)}:{installationEntry:e}}async function rU(t,e){try{const n=await q$(t,e);return Lf(t.appConfig,n)}catch(n){throw TO(n)&&n.customData.serverCode===409?await DO(t.appConfig):await Lf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iU(t){let e=await GT(t.appConfig);for(;e.registrationStatus===1;)await OO(100),e=await GT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await A_(t);return r||n}return e}function GT(t){return jp(t,e=>{if(!e)throw ha.create("installation-not-found");return NO(e)})}function NO(t){return sU(t)?{fid:t.fid,registrationStatus:0}:t}function sU(t){return t.registrationStatus===1&&t.registrationTime+_O<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU({appConfig:t,heartbeatServiceProvider:e},n){const r=aU(t,n),i=j$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:bO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await CO(()=>fetch(r,a));if(l.ok){const u=await l.json();return IO(u)}else throw await SO("Generate Auth Token",l)}function aU(t,{fid:e}){return`${EO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_(t,e=!1){let n;const r=await jp(t.appConfig,s=>{if(!xO(s))throw ha.create("not-registered");const o=s.authToken;if(!e&&cU(o))return s;if(o.requestStatus===1)return n=lU(t,e),s;{if(!navigator.onLine)throw ha.create("app-offline");const a=hU(s);return n=uU(t,a),a}});return n?await n:r.authToken}async function lU(t,e){let n=await KT(t.appConfig);for(;n.authToken.requestStatus===1;)await OO(100),n=await KT(t.appConfig);const r=n.authToken;return r.requestStatus===0?C_(t,e):r}function KT(t){return jp(t,e=>{if(!xO(e))throw ha.create("not-registered");const n=e.authToken;return fU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uU(t,e){try{const n=await oU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Lf(t.appConfig,r),n}catch(n){if(TO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await DO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lf(t.appConfig,r)}throw n}}function xO(t){return t!==void 0&&t.registrationStatus===2}function cU(t){return t.requestStatus===2&&!dU(t)}function dU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+F$}function hU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function fU(t){return t.requestStatus===1&&t.requestTime+_O<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t){const e=t,{installationEntry:n,registrationPromise:r}=await A_(e);return r?r.catch(console.error):C_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e=!1){const n=t;return await gU(n),(await C_(n,e)).token}async function gU(t){const{registrationPromise:e}=await A_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){if(!t||!t.options)throw pg("App Configuration");if(!t.name)throw pg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pg(t){return ha.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="installations",yU="installations-internal",_U=t=>{const e=t.getProvider("app").getImmediate(),n=vU(e),r=Vs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bU=t=>{const e=t.getProvider("app").getImmediate(),n=Vs(e,MO).getImmediate();return{getId:()=>pU(n),getToken:i=>mU(n,i)}};function wU(){Wr(new xr(MO,_U,"PUBLIC")),Wr(new xr(yU,bU,"PRIVATE"))}wU();nr(yO,I_);nr(yO,I_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="analytics",TU="firebase_id",EU="origin",IU=60*1e3,SU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",O_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new du("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zr=new ko("analytics","Analytics",AU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){if(!t.startsWith(O_)){const e=Zr.create("invalid-gtag-resource",{gtagURL:t});return jr.warn(e.message),""}return t}function LO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function PU(t,e){const n=OU("firebase-js-sdk-policy",{createScriptURL:CU}),r=document.createElement("script"),i=`${O_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function RU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kU(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await LO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){jr.error(a)}t("config",i,s)}async function DU(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await LO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){jr.error(s)}}function NU(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await DU(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await kU(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){jr.error(a)}}return i}function xU(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=NU(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function MU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(O_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=30,VU=1e3;class FU{constructor(e={},n=VU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const VO=new FU;function $U(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function UU(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$U(r)},s=SU.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function BU(t,e=VO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Zr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new WU;return setTimeout(async()=>{a.abort()},n!==void 0?n:IU),FO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function FO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=VO){var s;const{appId:o,measurementId:a}=t;try{await jU(r,e)}catch(l){if(a)return jr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await UU(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!HU(u)){if(i.deleteThrottleMetadata(o),a)return jr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?kv(n,i.intervalMillis,LU):kv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),jr.debug(`Calling attemptFetch again in ${c} millis`),FO(t,h,r,i)}}function jU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HU(t){if(!(t instanceof ni)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(){if($p())try{await cO()}catch(t){return jr.warn(Zr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return jr.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GU(t,e,n,r,i,s,o){var a;const l=BU(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&jr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>jr.error(p)),e.push(l);const u=zU().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);MU(s)||PU(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[EU]="firebase",f.update=!0,h!=null&&(f[TU]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.app=e}_delete(){return delete fc[this.app.options.appId],Promise.resolve()}}let fc={},YT=[];const QT={};let mg="dataLayer",YU="gtag",XT,$O,JT=!1;function QU(){const t=[];if(aO()&&t.push("This is a browser extension environment."),pF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zr.create("invalid-analytics-context",{errorInfo:e});jr.warn(n.message)}}function XU(t,e,n){QU();const r=t.options.appId;if(!r)throw Zr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zr.create("no-api-key");if(fc[r]!=null)throw Zr.create("already-exists",{id:r});if(!JT){RU(mg);const{wrappedGtag:s,gtagCore:o}=xU(fc,YT,QT,mg,YU);$O=s,XT=o,JT=!0}return fc[r]=GU(t,YT,QT,e,XT,mg,n),new KU(t)}function UO(t=Rd()){t=Dt(t);const e=Vs(t,Vf);return e.isInitialized()?e.getImmediate():JU(t)}function JU(t,e={}){const n=Vs(t,Vf);if(n.isInitialized()){const i=n.getImmediate();if(Wc(e,n.getOptions()))return i;throw Zr.create("already-initialized")}return n.initialize({options:e})}function BO(t,e,n,r){t=Dt(t),qU($O,fc[t.app.options.appId],e,n,r).catch(i=>jr.error(i))}const ZT="@firebase/analytics",eE="0.10.8";function ZU(){Wr(new xr(Vf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return XU(r,i,n)},"PUBLIC")),Wr(new xr("analytics-internal",t,"PRIVATE")),nr(ZT,eE),nr(ZT,eE,"esm2017");function t(e){try{const n=e.getProvider(Vf).getImmediate();return{logEvent:(r,i,s)=>BO(n,r,i,s)}}catch(n){throw Zr.create("interop-component-reg-failed",{reason:n})}}}ZU();var e3="firebase",t3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(e3,t3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map,jO={activated:!1,tokenObservers:[]},n3={initialized:!1,enabled:!1};function Vn(t){return Fv.get(t)||Object.assign({},jO)}function r3(t,e){return Fv.set(t,e),Fv.get(t)}function Hp(){return n3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="https://content-firebaseappcheck.googleapis.com/v1",i3="exchangeRecaptchaV3Token",s3="exchangeDebugToken",tE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},o3=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new da,this.pending.promise.catch(n=>{}),await l3(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new da,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function l3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ur=new ko("appCheck","AppCheck",u3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function P_(t){if(!Vn(t).activated)throw Ur.create("use-before-activation",{appName:t.name})}function WO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Sh(n)+"d:"),r&&(o+=Sh(r)+"h:"),o+=Sh(i)+"m:"+Sh(s)+"s",o}function Sh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw Ur.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw Ur.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw Ur.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function c3(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${HO}/projects/${n}/apps/${r}:${i3}?key=${i}`,body:{recaptcha_v3_token:e}}}function qO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${HO}/projects/${n}/apps/${r}:${s3}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="firebase-app-check-database",h3=1,zc="firebase-app-check-store",zO="debug-token";let Ah=null;function GO(){return Ah||(Ah=new Promise((t,e)=>{try{const n=indexedDB.open(d3,h3);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ur.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(zc,{keyPath:"compositeKey"})}}}catch(n){e(Ur.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Ah)}function f3(t){return YO(QO(t))}function p3(t,e){return KO(QO(t),e)}function m3(t){return KO(zO,t)}function g3(){return YO(zO)}async function KO(t,e){const r=(await GO()).transaction(zc,"readwrite"),s=r.objectStore(zc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Ur.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function YO(t){const n=(await GO()).transaction(zc,"readonly"),i=n.objectStore(zc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Ur.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function QO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new du("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t){if($p()){let e;try{e=await f3(t)}catch(n){Gc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function gg(t,e){return $p()?p3(t,e).catch(n=>{Gc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function y3(){let t;try{t=await g3()}catch{}if(t)return t;{const e=AF();return m3(e).catch(n=>Gc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){return Hp().enabled}async function D_(){const t=Hp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function _3(){const t=rO(),e=Hp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new da;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(y3())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={error:"UNKNOWN_ERROR"};function w3(t){return Vp.encodeString(JSON.stringify(t),!1)}async function $v(t,e=!1){const n=t.app;P_(n);const r=Vn(n);let i=r.token,s;if(i&&!cl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(cl(l)?i=l:await gg(n,void 0))}if(!e&&i&&cl(i))return{token:i.token};let o=!1;if(k_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=R_(qO(n,await D_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await gg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Vn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Gc.warn(l.message):Gc.error(l),s=l}let a;return i?s?cl(i)?a={token:i.token,internalError:s}:a=iE(s):(a={token:i.token},r.token=i,await gg(n,i)):a=iE(s),o&&ZO(n,a),a}async function T3(t){const e=t.app;P_(e);const{provider:n}=Vn(e);if(k_()){const r=await D_(),{token:i}=await R_(qO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function XO(t,e,n,r){const{app:i}=t,s=Vn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&cl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),rE(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>rE(t))}function JO(t,e){const n=Vn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function rE(t){const{app:e}=t,n=Vn(e);let r=n.tokenRefresher;r||(r=E3(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function E3(t){const{app:e}=t;return new a3(async()=>{const n=Vn(e);let r;if(n.token?r=await $v(t,!0):r=await $v(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Vn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},tE.RETRIAL_MIN_WAIT,tE.RETRIAL_MAX_WAIT)}function ZO(t,e){const n=Vn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function cl(t){return t.expireTimeMillis-Date.now()>0}function iE(t){return{token:w3(b3),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Vn(this.app);for(const n of e)JO(this.app,n.next);return Promise.resolve()}}function S3(t,e){return new I3(t,e)}function A3(t){return{getToken:e=>$v(t,e),getLimitedUseToken:()=>T3(t),addTokenListener:e=>XO(t,"INTERNAL",e),removeTokenListener:e=>JO(t.app,e)}}const C3="@firebase/app-check",O3="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="https://www.google.com/recaptcha/api.js";function R3(t,e){const n=new da,r=Vn(t);r.reCAPTCHAState={initialized:n};const i=k3(t),s=nE(!1);return s?sE(t,e,s,i,n):x3(()=>{const o=nE(!1);if(!o)throw new Error("no recaptcha");sE(t,e,o,i,n)}),n.promise}function sE(t,e,n,r,i){n.ready(()=>{N3(t,e,n,r),i.resolve(n)})}function k3(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function D3(t){P_(t);const n=await Vn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Vn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function N3(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Vn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Vn(t).reCAPTCHAState.succeeded=!1}}),s=Vn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function x3(t){const e=document.createElement("script");e.src=P3,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;L3(this._throttleData);const i=await D3(this._app).catch(o=>{throw Ur.create("recaptcha-error")});if(!(!((e=Vn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Ur.create("recaptcha-error");let s;try{s=await R_(c3(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=M3(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Ur.create("throttled",{time:WO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Vs(e,"heartbeat"),R3(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof N_?this._siteKey===e._siteKey:!1}}function M3(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+o3,httpStatus:t};{const n=e?e.backoffCount:0,r=kv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function L3(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Ur.create("throttled",{time:WO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t=Rd(),e){t=Dt(t);const n=Vs(t,"app-check");if(Hp().initialized||_3(),k_()&&D_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Ur.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return F3(t,e.provider,e.isTokenAutoRefreshEnabled),Vn(t).isTokenAutoRefreshEnabled&&XO(r,"INTERNAL",()=>{}),r}function F3(t,e,n){const r=r3(t,Object.assign({},jO));r.activated=!0,r.provider=e,r.cachedTokenPromise=v3(t).then(i=>(i&&cl(i)&&(r.token=i,ZO(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const $3="app-check",oE="app-check-internal";function U3(){Wr(new xr($3,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return S3(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(oE).initialize()})),Wr(new xr(oE,t=>{const e=t.getProvider("app-check").getImmediate();return A3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nr(C3,O3)}U3();var gn=(t=>(t.PROJECTS="projects",t.MENU_ITEMS="menuItems",t.MENU_ITEMS_PRIVATE="menuItemsPrivate",t.BLOG_POSTS="blogPosts",t.BLOG_POSTS_PRIVATE="blogPostsPrivate",t.BLOG_REACTIONS="blogReactions",t.BLOG_REACTIONS_PRIVATE="blogReactionsPrivate",t.PETS="pets",t.USERS="users",t.USERS_PUBLIC="usersPublic",t.USERS_ONLINE="usersOnline",t.FILES="files",t.GAME_DATA="gameData",t.HIGHSCORES="highscores",t.SCORES="scores",t))(gn||{});const B3={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},j3=t=>{V3(t,{provider:new N_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},H3=()=>{const t=mO(B3);return j3(t),UO(t),t},W3=H3();var q3=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let eP;const Wp=t=>eP=t,tP=Symbol();function Uv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var pc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(pc||(pc={}));function z3(){const t=Jy(!0),e=t.run(()=>fe({}));let n=[],r=[];const i=s_({install(s){Wp(i),i._a=s,s.provide(tP,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!q3?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const nP=()=>{};function aE(t,e,n,r=nP){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Zy()&&aA(i),i}function Ka(t,...e){t.slice().forEach(n=>{n(...e)})}const G3=t=>t(),lE=Symbol(),vg=Symbol();function Bv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Uv(i)&&Uv(r)&&t.hasOwnProperty(n)&&!an(r)&&!Yi(r)?t[n]=Bv(i,r):t[n]=r}return t}const K3=Symbol();function Y3(t){return!Uv(t)||!t.hasOwnProperty(K3)}const{assign:Ys}=Object;function Q3(t){return!!(an(t)&&t.effect)}function X3(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=xM(n.state.value[t]);return Ys(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=s_(le(()=>{Wp(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=rP(t,u,e,n,r,!0),l}function rP(t,e,n={},r,i,s){let o;const a=Ys({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),fe({});let b;function E(I){let w;u=c=!1,typeof I=="function"?(I(r.state.value[t]),w={type:pc.patchFunction,storeId:t,events:p}):(Bv(r.state.value[t],I),w={type:pc.patchObject,payload:I,storeId:t,events:p});const v=b=Symbol();Hn().then(()=>{b===v&&(u=!0)}),c=!0,Ka(h,w,r.state.value[t])}const k=s?function(){const{state:w}=n,v=w?w():{};this.$patch(A=>{Ys(A,v)})}:nP;function P(){o.stop(),h=[],f=[],r._s.delete(t)}const T=(I,w="")=>{if(lE in I)return I[vg]=w,I;const v=function(){Wp(r);const A=Array.from(arguments),C=[],R=[];function U(F){C.push(F)}function $(F){R.push(F)}Ka(f,{args:A,name:v[vg],store:M,after:U,onError:$});let j;try{j=I.apply(this&&this.$id===t?this:M,A)}catch(F){throw Ka(R,F),F}return j instanceof Promise?j.then(F=>(Ka(C,F),F)).catch(F=>(Ka(R,F),Promise.reject(F))):(Ka(C,j),j)};return v[lE]=!0,v[vg]=w,v},y={_p:r,$id:t,$onAction:aE.bind(null,f),$patch:E,$reset:k,$subscribe(I,w={}){const v=aE(h,I,w.detached,()=>A()),A=o.run(()=>In(()=>r.state.value[t],C=>{(w.flush==="sync"?c:u)&&I({storeId:t,type:pc.direct,events:p},C)},Ys({},l,w)));return v},$dispose:P},M=Nr(y);r._s.set(t,M);const S=(r._a&&r._a.runWithContext||G3)(()=>r._e.run(()=>(o=Jy()).run(()=>e({action:T}))));for(const I in S){const w=S[I];if(an(w)&&!Q3(w)||Yi(w))s||(g&&Y3(w)&&(an(w)?w.value=g[I]:Bv(w,g[I])),r.state.value[t][I]=w);else if(typeof w=="function"){const v=T(w,I);S[I]=v,a.actions[I]=w}}return Ys(M,S),Ys(mt(M),S),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:I=>{E(w=>{Ys(w,I)})}}),r._p.forEach(I=>{Ys(M,o.run(()=>I({store:M,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),u=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function Ra(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=wL();return a=a||(u?Dr(tP,null):null),a&&Wp(a),a=eP,a._s.has(r)||(s?rP(r,e,i,a):X3(r,i,a)),a._s.get(r)}return o.$id=r,o}function ns(t){{const e=mt(t),n={};for(const r in e){const i=e[r];i.effect?n[r]=le({get:()=>t[r],set(s){t[r]=s}}):(an(i)||Yi(i))&&(n[r]=Nc(t,r))}return n}}const uE=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var J3=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),uE(l,e))}),e.$subscribe(()=>{a.forEach(l=>{uE(l,e)})})}};const iP=z3();iP.use(J3);const Z3="modulepreload",e4=function(t,e){return new URL(t,e).href},cE={},Wn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=e4(o,r),o in cE)return;cE[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Z3,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,sP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function w(){}w.prototype=I.prototype,S.D=I.prototype,S.prototype=new w,S.prototype.constructor=S,S.C=function(v,A,C){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return I.prototype[A].apply(v,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,w){w||(w=0);var v=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)v[A]=I.charCodeAt(w++)|I.charCodeAt(w++)<<8|I.charCodeAt(w++)<<16|I.charCodeAt(w++)<<24;else for(A=0;16>A;++A)v[A]=I[w++]|I[w++]<<8|I[w++]<<16|I[w++]<<24;I=S.g[0],w=S.g[1],A=S.g[2];var C=S.g[3],R=I+(C^w&(A^C))+v[0]+3614090360&4294967295;I=w+(R<<7&4294967295|R>>>25),R=C+(A^I&(w^A))+v[1]+3905402710&4294967295,C=I+(R<<12&4294967295|R>>>20),R=A+(w^C&(I^w))+v[2]+606105819&4294967295,A=C+(R<<17&4294967295|R>>>15),R=w+(I^A&(C^I))+v[3]+3250441966&4294967295,w=A+(R<<22&4294967295|R>>>10),R=I+(C^w&(A^C))+v[4]+4118548399&4294967295,I=w+(R<<7&4294967295|R>>>25),R=C+(A^I&(w^A))+v[5]+1200080426&4294967295,C=I+(R<<12&4294967295|R>>>20),R=A+(w^C&(I^w))+v[6]+2821735955&4294967295,A=C+(R<<17&4294967295|R>>>15),R=w+(I^A&(C^I))+v[7]+4249261313&4294967295,w=A+(R<<22&4294967295|R>>>10),R=I+(C^w&(A^C))+v[8]+1770035416&4294967295,I=w+(R<<7&4294967295|R>>>25),R=C+(A^I&(w^A))+v[9]+2336552879&4294967295,C=I+(R<<12&4294967295|R>>>20),R=A+(w^C&(I^w))+v[10]+4294925233&4294967295,A=C+(R<<17&4294967295|R>>>15),R=w+(I^A&(C^I))+v[11]+2304563134&4294967295,w=A+(R<<22&4294967295|R>>>10),R=I+(C^w&(A^C))+v[12]+1804603682&4294967295,I=w+(R<<7&4294967295|R>>>25),R=C+(A^I&(w^A))+v[13]+4254626195&4294967295,C=I+(R<<12&4294967295|R>>>20),R=A+(w^C&(I^w))+v[14]+2792965006&4294967295,A=C+(R<<17&4294967295|R>>>15),R=w+(I^A&(C^I))+v[15]+1236535329&4294967295,w=A+(R<<22&4294967295|R>>>10),R=I+(A^C&(w^A))+v[1]+4129170786&4294967295,I=w+(R<<5&4294967295|R>>>27),R=C+(w^A&(I^w))+v[6]+3225465664&4294967295,C=I+(R<<9&4294967295|R>>>23),R=A+(I^w&(C^I))+v[11]+643717713&4294967295,A=C+(R<<14&4294967295|R>>>18),R=w+(C^I&(A^C))+v[0]+3921069994&4294967295,w=A+(R<<20&4294967295|R>>>12),R=I+(A^C&(w^A))+v[5]+3593408605&4294967295,I=w+(R<<5&4294967295|R>>>27),R=C+(w^A&(I^w))+v[10]+38016083&4294967295,C=I+(R<<9&4294967295|R>>>23),R=A+(I^w&(C^I))+v[15]+3634488961&4294967295,A=C+(R<<14&4294967295|R>>>18),R=w+(C^I&(A^C))+v[4]+3889429448&4294967295,w=A+(R<<20&4294967295|R>>>12),R=I+(A^C&(w^A))+v[9]+568446438&4294967295,I=w+(R<<5&4294967295|R>>>27),R=C+(w^A&(I^w))+v[14]+3275163606&4294967295,C=I+(R<<9&4294967295|R>>>23),R=A+(I^w&(C^I))+v[3]+4107603335&4294967295,A=C+(R<<14&4294967295|R>>>18),R=w+(C^I&(A^C))+v[8]+1163531501&4294967295,w=A+(R<<20&4294967295|R>>>12),R=I+(A^C&(w^A))+v[13]+2850285829&4294967295,I=w+(R<<5&4294967295|R>>>27),R=C+(w^A&(I^w))+v[2]+4243563512&4294967295,C=I+(R<<9&4294967295|R>>>23),R=A+(I^w&(C^I))+v[7]+1735328473&4294967295,A=C+(R<<14&4294967295|R>>>18),R=w+(C^I&(A^C))+v[12]+2368359562&4294967295,w=A+(R<<20&4294967295|R>>>12),R=I+(w^A^C)+v[5]+4294588738&4294967295,I=w+(R<<4&4294967295|R>>>28),R=C+(I^w^A)+v[8]+2272392833&4294967295,C=I+(R<<11&4294967295|R>>>21),R=A+(C^I^w)+v[11]+1839030562&4294967295,A=C+(R<<16&4294967295|R>>>16),R=w+(A^C^I)+v[14]+4259657740&4294967295,w=A+(R<<23&4294967295|R>>>9),R=I+(w^A^C)+v[1]+2763975236&4294967295,I=w+(R<<4&4294967295|R>>>28),R=C+(I^w^A)+v[4]+1272893353&4294967295,C=I+(R<<11&4294967295|R>>>21),R=A+(C^I^w)+v[7]+4139469664&4294967295,A=C+(R<<16&4294967295|R>>>16),R=w+(A^C^I)+v[10]+3200236656&4294967295,w=A+(R<<23&4294967295|R>>>9),R=I+(w^A^C)+v[13]+681279174&4294967295,I=w+(R<<4&4294967295|R>>>28),R=C+(I^w^A)+v[0]+3936430074&4294967295,C=I+(R<<11&4294967295|R>>>21),R=A+(C^I^w)+v[3]+3572445317&4294967295,A=C+(R<<16&4294967295|R>>>16),R=w+(A^C^I)+v[6]+76029189&4294967295,w=A+(R<<23&4294967295|R>>>9),R=I+(w^A^C)+v[9]+3654602809&4294967295,I=w+(R<<4&4294967295|R>>>28),R=C+(I^w^A)+v[12]+3873151461&4294967295,C=I+(R<<11&4294967295|R>>>21),R=A+(C^I^w)+v[15]+530742520&4294967295,A=C+(R<<16&4294967295|R>>>16),R=w+(A^C^I)+v[2]+3299628645&4294967295,w=A+(R<<23&4294967295|R>>>9),R=I+(A^(w|~C))+v[0]+4096336452&4294967295,I=w+(R<<6&4294967295|R>>>26),R=C+(w^(I|~A))+v[7]+1126891415&4294967295,C=I+(R<<10&4294967295|R>>>22),R=A+(I^(C|~w))+v[14]+2878612391&4294967295,A=C+(R<<15&4294967295|R>>>17),R=w+(C^(A|~I))+v[5]+4237533241&4294967295,w=A+(R<<21&4294967295|R>>>11),R=I+(A^(w|~C))+v[12]+1700485571&4294967295,I=w+(R<<6&4294967295|R>>>26),R=C+(w^(I|~A))+v[3]+2399980690&4294967295,C=I+(R<<10&4294967295|R>>>22),R=A+(I^(C|~w))+v[10]+4293915773&4294967295,A=C+(R<<15&4294967295|R>>>17),R=w+(C^(A|~I))+v[1]+2240044497&4294967295,w=A+(R<<21&4294967295|R>>>11),R=I+(A^(w|~C))+v[8]+1873313359&4294967295,I=w+(R<<6&4294967295|R>>>26),R=C+(w^(I|~A))+v[15]+4264355552&4294967295,C=I+(R<<10&4294967295|R>>>22),R=A+(I^(C|~w))+v[6]+2734768916&4294967295,A=C+(R<<15&4294967295|R>>>17),R=w+(C^(A|~I))+v[13]+1309151649&4294967295,w=A+(R<<21&4294967295|R>>>11),R=I+(A^(w|~C))+v[4]+4149444226&4294967295,I=w+(R<<6&4294967295|R>>>26),R=C+(w^(I|~A))+v[11]+3174756917&4294967295,C=I+(R<<10&4294967295|R>>>22),R=A+(I^(C|~w))+v[2]+718787259&4294967295,A=C+(R<<15&4294967295|R>>>17),R=w+(C^(A|~I))+v[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+C&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var w=I-this.blockSize,v=this.B,A=this.h,C=0;C<I;){if(A==0)for(;C<=w;)i(this,S,C),C+=this.blockSize;if(typeof S=="string"){for(;C<I;)if(v[A++]=S.charCodeAt(C++),A==this.blockSize){i(this,v),A=0;break}}else for(;C<I;)if(v[A++]=S[C++],A==this.blockSize){i(this,v),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var w=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=w&255,w/=256;for(this.u(S),S=Array(16),I=w=0;4>I;++I)for(var v=0;32>v;v+=8)S[w++]=this.g[I]>>>v&255;return S};function s(S,I){var w=a;return Object.prototype.hasOwnProperty.call(w,S)?w[S]:w[S]=I(S)}function o(S,I){this.h=I;for(var w=[],v=!0,A=S.length-1;0<=A;A--){var C=S[A]|0;v&&C==I||(w[A]=C,v=!1)}this.g=w}var a={};function l(S){return-128<=S&&128>S?s(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(u(-S));for(var I=[],w=1,v=0;S>=w;v++)I[v]=S/w|0,w*=4294967296;return new o(I,0)}function c(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return E(c(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(I,8)),v=h,A=0;A<S.length;A+=8){var C=Math.min(8,S.length-A),R=parseInt(S.substring(A,A+C),I);8>C?(C=u(Math.pow(I,C)),v=v.j(C).add(u(R))):(v=v.j(w),v=v.add(u(R)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-E(this).m();for(var S=0,I=1,w=0;w<this.g.length;w++){var v=this.i(w);S+=(0<=v?v:4294967296+v)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(b(this))return"-"+E(this).toString(S);for(var I=u(Math.pow(S,6)),w=this,v="";;){var A=y(w,I).g;w=k(w,A.j(I));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(S);if(w=A,g(w))return C+v;for(;6>C.length;)C="0"+C;v=C+v}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=k(this,S),b(S)?-1:g(S)?0:1};function E(S){for(var I=S.g.length,w=[],v=0;v<I;v++)w[v]=~S.g[v];return new o(w,~S.h).add(f)}t.abs=function(){return b(this)?E(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),w=[],v=0,A=0;A<=I;A++){var C=v+(this.i(A)&65535)+(S.i(A)&65535),R=(C>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);v=R>>>16,C&=65535,R&=65535,w[A]=R<<16|C}return new o(w,w[w.length-1]&-2147483648?-1:0)};function k(S,I){return S.add(E(I))}t.j=function(S){if(g(this)||g(S))return h;if(b(this))return b(S)?E(this).j(E(S)):E(E(this).j(S));if(b(S))return E(this.j(E(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,w=[],v=0;v<2*I;v++)w[v]=0;for(v=0;v<this.g.length;v++)for(var A=0;A<S.g.length;A++){var C=this.i(v)>>>16,R=this.i(v)&65535,U=S.i(A)>>>16,$=S.i(A)&65535;w[2*v+2*A]+=R*$,P(w,2*v+2*A),w[2*v+2*A+1]+=C*$,P(w,2*v+2*A+1),w[2*v+2*A+1]+=R*U,P(w,2*v+2*A+1),w[2*v+2*A+2]+=C*U,P(w,2*v+2*A+2)}for(v=0;v<I;v++)w[v]=w[2*v+1]<<16|w[2*v];for(v=I;v<2*I;v++)w[v]=0;return new o(w,0)};function P(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function T(S,I){this.g=S,this.h=I}function y(S,I){if(g(I))throw Error("division by zero");if(g(S))return new T(h,h);if(b(S))return I=y(E(S),I),new T(E(I.g),E(I.h));if(b(I))return I=y(S,E(I)),new T(E(I.g),I.h);if(30<S.g.length){if(b(S)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var w=f,v=I;0>=v.l(S);)w=M(w),v=M(v);var A=L(w,1),C=L(v,1);for(v=L(v,2),w=L(w,2);!g(v);){var R=C.add(v);0>=R.l(S)&&(A=A.add(w),C=R),v=L(v,1),w=L(w,1)}return I=k(S,A.j(I)),new T(A,I)}for(A=h;0<=S.l(I);){for(w=Math.max(1,Math.floor(S.m()/I.m())),v=Math.ceil(Math.log(w)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),C=u(w),R=C.j(I);b(R)||0<R.l(S);)w-=v,C=u(w),R=C.j(I);g(C)&&(C=f),A=A.add(C),S=k(S,R)}return new T(A,S)}t.A=function(S){return y(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),w=[],v=0;v<I;v++)w[v]=this.i(v)&S.i(v);return new o(w,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),w=[],v=0;v<I;v++)w[v]=this.i(v)|S.i(v);return new o(w,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),w=[],v=0;v<I;v++)w[v]=this.i(v)^S.i(v);return new o(w,this.h^S.h)};function M(S){for(var I=S.g.length+1,w=[],v=0;v<I;v++)w[v]=S.i(v)<<1|S.i(v-1)>>>31;return new o(w,S.h)}function L(S,I){var w=I>>5;I%=32;for(var v=S.g.length-w,A=[],C=0;C<v;C++)A[C]=0<I?S.i(C+w)>>>I|S.i(C+w+1)<<32-I:S.i(C+w);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,na=o}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oP,Ju,aP,ef,jv,lP,uP,cP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,_){return d==Array.prototype||d==Object.prototype||(d[m]=_.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var m=0;m<d.length;++m){var _=d[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var _=r;d=d.split(".");for(var x=0;x<d.length-1;x++){var J=d[x];if(!(J in _))break e;_=_[J]}d=d[d.length-1],x=_[d],m=m(x),m!=x&&m!=null&&e(_,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var _=0,x=!1,J={next:function(){if(!x&&_<d.length){var re=_++;return{value:m(re,d[re]),done:!1}}return x=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,_){return d.call.apply(d.bind,arguments)}function h(d,m,_){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,x),d.apply(m,J)}}return function(){return d.apply(m,arguments)}}function f(d,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function g(d,m){function _(){}_.prototype=m.prototype,d.aa=m.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(x,J,re){for(var Ce=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)Ce[Wt-2]=arguments[Wt];return m.prototype[J].apply(x,Ce)}}function b(d){const m=d.length;if(0<m){const _=Array(m);for(let x=0;x<m;x++)_[x]=d[x];return _}return[]}function E(d,m){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(l(x)){const J=d.length||0,re=x.length||0;d.length=J+re;for(let Ce=0;Ce<re;Ce++)d[J+Ce]=x[Ce]}else d.push(x)}}class k{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function y(d){return y[" "](d),d}y[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(d,m,_){for(const x in d)m.call(_,d[x],x,d)}function S(d,m){for(const _ in d)m.call(void 0,d[_],_,d)}function I(d){const m={};for(const _ in d)m[_]=d[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let _,x;for(let J=1;J<arguments.length;J++){x=arguments[J];for(_ in x)d[_]=x[_];for(let re=0;re<w.length;re++)_=w[re],Object.prototype.hasOwnProperty.call(x,_)&&(d[_]=x[_])}}function A(d){var m=1;d=d.split(":");const _=[];for(;0<m&&d.length;)_.push(d.shift()),m--;return d.length&&_.push(d.join(":")),_}function C(d){a.setTimeout(()=>{throw d},0)}function R(){var d=N;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class U{constructor(){this.h=this.g=null}add(m,_){const x=$.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var $=new k(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let F,B=!1,N=new U,O=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(G)}};var G=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(_){C(_)}var m=$;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}B=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return d}();function Z(d,m){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(M){e:{try{y(m.nodeName);var J=!0;break e}catch{}J=!1}J||(m=null)}}else _=="mouseover"?m=d.fromElement:_=="mouseout"&&(m=d.toElement);this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:W[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}g(Z,te);var W={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function X(d,m,_,x,J){this.listener=d,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=J,this.key=++ie,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,_,x,J){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var Ce=D(d,m,x,J);return-1<Ce?(m=d[Ce],_||(m.fa=!1)):(m=new X(m,this.src,re,!!x,J),m.fa=_,d.push(m)),m};function ne(d,m){var _=m.type;if(_ in d.g){var x=d.g[_],J=Array.prototype.indexOf.call(x,m,void 0),re;(re=0<=J)&&Array.prototype.splice.call(x,J,1),re&&(ce(m),d.g[_].length==0&&(delete d.g[_],d.h--))}}function D(d,m,_,x){for(var J=0;J<d.length;++J){var re=d[J];if(!re.da&&re.listener==m&&re.capture==!!_&&re.ha==x)return J}return-1}var V="closure_lm_"+(1e6*Math.random()|0),H={};function oe(d,m,_,x,J){if(x&&x.once)return Se(d,m,_,x,J);if(Array.isArray(m)){for(var re=0;re<m.length;re++)oe(d,m[re],_,x,J);return null}return _=Ye(_),d&&d[Q]?d.K(m,_,u(x)?!!x.capture:!!x,J):se(d,m,_,!1,x,J)}function se(d,m,_,x,J,re){if(!m)throw Error("Invalid event type");var Ce=u(J)?!!J.capture:!!J,Wt=Ie(d);if(Wt||(d[V]=Wt=new be(d)),_=Wt.add(m,_,x,Ce,re),_.proxy)return _;if(x=me(),_.proxy=x,x.src=d,x.listener=_,d.addEventListener)he||(J=Ce),J===void 0&&(J=!1),d.addEventListener(m.toString(),x,J);else if(d.attachEvent)d.attachEvent(ge(m.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function me(){function d(_){return m.call(d.src,d.listener,_)}const m=He;return d}function Se(d,m,_,x,J){if(Array.isArray(m)){for(var re=0;re<m.length;re++)Se(d,m[re],_,x,J);return null}return _=Ye(_),d&&d[Q]?d.L(m,_,u(x)?!!x.capture:!!x,J):se(d,m,_,!0,x,J)}function Ee(d,m,_,x,J){if(Array.isArray(m))for(var re=0;re<m.length;re++)Ee(d,m[re],_,x,J);else x=u(x)?!!x.capture:!!x,_=Ye(_),d&&d[Q]?(d=d.i,m=String(m).toString(),m in d.g&&(re=d.g[m],_=D(re,_,x,J),-1<_&&(ce(re[_]),Array.prototype.splice.call(re,_,1),re.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=D(m,_,x,J)),(_=-1<d?m[d]:null)&&Te(_))}function Te(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Q])ne(m.i,d);else{var _=d.type,x=d.proxy;m.removeEventListener?m.removeEventListener(_,x,d.capture):m.detachEvent?m.detachEvent(ge(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=Ie(m))?(ne(_,d),_.h==0&&(_.src=null,m[V]=null)):ce(d)}}}function ge(d){return d in H?H[d]:H[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new Z(m,this);var _=d.listener,x=d.ha||d.src;d.fa&&Te(d),d=_.call(x,m)}return d}function Ie(d){return d=d[V],d instanceof be?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(m){return d.handleEvent(m)}),d[Fe])}function Ge(){z.call(this),this.i=new be(this),this.M=this,this.F=null}g(Ge,z),Ge.prototype[Q]=!0,Ge.prototype.removeEventListener=function(d,m,_,x){Ee(this,d,m,_,x)};function K(d,m){var _,x=d.F;if(x)for(_=[];x;x=x.F)_.push(x);if(d=d.M,x=m.type||m,typeof m=="string")m=new te(m,d);else if(m instanceof te)m.target=m.target||d;else{var J=m;m=new te(x,d),v(m,J)}if(J=!0,_)for(var re=_.length-1;0<=re;re--){var Ce=m.g=_[re];J=ae(Ce,x,!0,m)&&J}if(Ce=m.g=d,J=ae(Ce,x,!0,m)&&J,J=ae(Ce,x,!1,m)&&J,_)for(re=0;re<_.length;re++)Ce=m.g=_[re],J=ae(Ce,x,!1,m)&&J}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var _=d.g[m],x=0;x<_.length;x++)ce(_[x]);delete d.g[m],d.h--}}this.F=null},Ge.prototype.K=function(d,m,_,x){return this.i.add(String(d),m,!1,_,x)},Ge.prototype.L=function(d,m,_,x){return this.i.add(String(d),m,!0,_,x)};function ae(d,m,_,x){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var J=!0,re=0;re<m.length;++re){var Ce=m[re];if(Ce&&!Ce.da&&Ce.capture==_){var Wt=Ce.listener,Gn=Ce.ha||Ce.src;Ce.fa&&ne(d.i,Ce),J=Wt.call(Gn,x)!==!1&&J}}return J&&!x.defaultPrevented}function xe(d,m,_){if(typeof d=="function")_&&(d=f(d,_));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=xe(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class dt extends z{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(d){z.call(this),this.h=d,this.g={}}g(xt,z);var qn=[];function Oe(d){L(d.g,function(m,_){this.g.hasOwnProperty(_)&&Te(m)},d),d.g={}}xt.prototype.N=function(){xt.aa.N.call(this),Oe(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,zn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function qr(){}qr.prototype.h=null;function Ba(d){return d.h||(d.h=d.i())}function Bb(){}var bu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dm(){te.call(this,"d")}g(Dm,te);function Nm(){te.call(this,"c")}g(Nm,te);var Mo={},jb=null;function eh(){return jb=jb||new Ge}Mo.La="serverreachability";function Hb(d){te.call(this,Mo.La,d)}g(Hb,te);function wu(d){const m=eh();K(m,new Hb(m))}Mo.STAT_EVENT="statevent";function Wb(d,m){te.call(this,Mo.STAT_EVENT,d),this.stat=m}g(Wb,te);function Er(d){const m=eh();K(m,new Wb(m,d))}Mo.Ma="timingevent";function qb(d,m){te.call(this,Mo.Ma,d),this.size=m}g(qb,te);function Tu(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Eu(){this.g=!0}Eu.prototype.xa=function(){this.g=!1};function Sx(d,m,_,x,J,re){d.info(function(){if(d.g)if(re)for(var Ce="",Wt=re.split("&"),Gn=0;Gn<Wt.length;Gn++){var At=Wt[Gn].split("=");if(1<At.length){var sr=At[0];At=At[1];var or=sr.split("_");Ce=2<=or.length&&or[1]=="type"?Ce+(sr+"="+At+"&"):Ce+(sr+"=redacted&")}}else Ce=null;else Ce=re;return"XMLHTTP REQ ("+x+") [attempt "+J+"]: "+m+`
`+_+`
`+Ce})}function Ax(d,m,_,x,J,re,Ce){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+J+"]: "+m+`
`+_+`
`+re+" "+Ce})}function ja(d,m,_,x){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ox(d,_)+(x?" "+x:"")})}function Cx(d,m){d.info(function(){return"TIMEOUT: "+m})}Eu.prototype.info=function(){};function Ox(d,m){if(!d.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var x=_[d];if(!(2>x.length)){var J=x[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var Ce=1;Ce<J.length;Ce++)J[Ce]=""}}}}return Be(_)}catch{return m}}var th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xm;function nh(){}g(nh,qr),nh.prototype.g=function(){return new XMLHttpRequest},nh.prototype.i=function(){return{}},xm=new nh;function $s(d,m,_,x){this.j=d,this.i=m,this.l=_,this.R=x||1,this.U=new xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gb}function Gb(){this.i=null,this.g="",this.h=!1}var Kb={},Mm={};function Lm(d,m,_){d.L=1,d.v=oh(ls(m)),d.m=_,d.P=!0,Yb(d,null)}function Yb(d,m){d.F=Date.now(),rh(d),d.A=ls(d.v);var _=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),uw(_.i,"t",x),d.C=0,_=d.j.J,d.h=new Gb,d.g=Cw(d.j,_?m:null,!d.m),0<d.O&&(d.M=new dt(f(d.Y,d,d.g),d.O)),m=d.U,_=d.g,x=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(qn[0]=J.toString()),J=qn);for(var re=0;re<J.length;re++){var Ce=oe(_,J[re],x||m.handleEvent,!1,m.h||m);if(!Ce)break;m.g[Ce.key]=Ce}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),wu(),Sx(d.i,d.u,d.A,d.l,d.R,d.m)}$s.prototype.ca=function(d){d=d.target;const m=this.M;m&&us(d)==3?m.j():this.Y(d)},$s.prototype.Y=function(d){try{if(d==this.g)e:{const or=us(this.g);var m=this.g.Ba();const qa=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||gw(this.g)))){this.J||or!=4||m==7||(m==8||0>=qa?wu(3):wu(2)),Vm(this);var _=this.g.Z();this.X=_;t:if(Qb(this)){var x=gw(this.g);d="";var J=x.length,re=us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),Iu(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(m=0;m<J;m++)this.h.h=!0,d+=this.h.i.decode(x[m],{stream:!(re&&m==J-1)});x.length=0,this.h.g+=d,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=_==200,Ax(this.i,this.u,this.A,this.l,this.R,or,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Gn=this.g;if((Wt=Gn.g?Gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Wt)){var At=Wt;break t}}At=null}if(_=At)ja(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fm(this,_);else{this.o=!1,this.s=3,Er(12),Lo(this),Iu(this);break e}}if(this.P){_=!0;let gi;for(;!this.J&&this.C<Ce.length;)if(gi=Px(this,Ce),gi==Mm){or==4&&(this.s=4,Er(14),_=!1),ja(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==Kb){this.s=4,Er(15),ja(this.i,this.l,Ce,"[Invalid Chunk]"),_=!1;break}else ja(this.i,this.l,gi,null),Fm(this,gi);if(Qb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||Ce.length!=0||this.h.h||(this.s=1,Er(16),_=!1),this.o=this.o&&_,!_)ja(this.i,this.l,Ce,"[Invalid Chunked Response]"),Lo(this),Iu(this);else if(0<Ce.length&&!this.W){this.W=!0;var sr=this.j;sr.g==this&&sr.ba&&!sr.M&&(sr.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),Wm(sr),sr.M=!0,Er(11))}}else ja(this.i,this.l,Ce,null),Fm(this,Ce);or==4&&Lo(this),this.o&&!this.J&&(or==4?Ew(this.j,this):(this.o=!1,rh(this)))}else zx(this.g),_==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Er(12)):(this.s=0,Er(13)),Lo(this),Iu(this)}}}catch{}finally{}};function Qb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Px(d,m){var _=d.C,x=m.indexOf(`
`,_);return x==-1?Mm:(_=Number(m.substring(_,x)),isNaN(_)?Kb:(x+=1,x+_>m.length?Mm:(m=m.slice(x,x+_),d.C=x+_,m)))}$s.prototype.cancel=function(){this.J=!0,Lo(this)};function rh(d){d.S=Date.now()+d.I,Xb(d,d.I)}function Xb(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Tu(f(d.ba,d),m)}function Vm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}$s.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Cx(this.i,this.A),this.L!=2&&(wu(),Er(17)),Lo(this),this.s=2,Iu(this)):Xb(this,this.S-d)};function Iu(d){d.j.G==0||d.J||Ew(d.j,d)}function Lo(d){Vm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Fm(d,m){try{var _=d.j;if(_.G!=0&&(_.g==d||$m(_.h,d))){if(!d.K&&$m(_.h,d)&&_.G==3){try{var x=_.Da.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var J=x;if(J[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)hh(_),ch(_);else break e;Hm(_),Er(18)}}else _.za=J[1],0<_.za-_.T&&37500>J[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tu(f(_.Za,_),6e3));if(1>=ew(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fo(_,11)}else if((d.K||_.g==d)&&hh(_),!P(m))for(J=_.Da.g.parse(m),m=0;m<J.length;m++){let At=J[m];if(_.T=At[0],At=At[1],_.G==2)if(At[0]=="c"){_.K=At[1],_.ia=At[2];const sr=At[3];sr!=null&&(_.la=sr,_.j.info("VER="+_.la));const or=At[4];or!=null&&(_.Aa=or,_.j.info("SVER="+_.Aa));const qa=At[5];qa!=null&&typeof qa=="number"&&0<qa&&(x=1.5*qa,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const gi=d.g;if(gi){const ph=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var re=x.h;re.g||ph.indexOf("spdy")==-1&&ph.indexOf("quic")==-1&&ph.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Um(re,re.h),re.h=null))}if(x.D){const qm=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(x.ya=qm,Zt(x.I,x.D,qm))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var Ce=d;if(x.qa=Aw(x,x.J?x.ia:null,x.W),Ce.K){tw(x.h,Ce);var Wt=Ce,Gn=x.L;Gn&&(Wt.I=Gn),Wt.B&&(Vm(Wt),rh(Wt)),x.g=Ce}else ww(x);0<_.i.length&&dh(_)}else At[0]!="stop"&&At[0]!="close"||Fo(_,7);else _.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Fo(_,7):jm(_):At[0]!="noop"&&_.l&&_.l.ta(At),_.v=0)}}wu(4)}catch{}}var Rx=class{constructor(d,m){this.g=d,this.map=m}};function Jb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ew(d){return d.h?1:d.g?d.g.size:0}function $m(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Um(d,m){d.g?d.g.add(m):d.h=m}function tw(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Jb.prototype.cancel=function(){if(this.i=nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function nw(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const _ of d.g.values())m=m.concat(_.D);return m}return b(d.i)}function kx(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],_=d.length,x=0;x<_;x++)m.push(d[x]);return m}m=[],_=0;for(x in d)m[_++]=d[x];return m}function Dx(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var _=0;_<d;_++)m.push(_);return m}m=[],_=0;for(const x in d)m[_++]=x;return m}}}function rw(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var _=Dx(d),x=kx(d),J=x.length,re=0;re<J;re++)m.call(void 0,x[re],_&&_[re],d)}var iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nx(d,m){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var x=d[_].indexOf("="),J=null;if(0<=x){var re=d[_].substring(0,x);J=d[_].substring(x+1)}else re=d[_];m(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Vo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Vo){this.h=d.h,ih(this,d.j),this.o=d.o,this.g=d.g,sh(this,d.s),this.l=d.l;var m=d.i,_=new Cu;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),sw(this,_),this.m=d.m}else d&&(m=String(d).match(iw))?(this.h=!1,ih(this,m[1]||"",!0),this.o=Su(m[2]||""),this.g=Su(m[3]||"",!0),sh(this,m[4]),this.l=Su(m[5]||"",!0),sw(this,m[6]||"",!0),this.m=Su(m[7]||"")):(this.h=!1,this.i=new Cu(null,this.h))}Vo.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Au(m,ow,!0),":");var _=this.g;return(_||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Au(m,ow,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(Au(_,_.charAt(0)=="/"?Lx:Mx,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Au(_,Fx)),d.join("")};function ls(d){return new Vo(d)}function ih(d,m,_){d.j=_?Su(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function sh(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function sw(d,m,_){m instanceof Cu?(d.i=m,$x(d.i,d.h)):(_||(m=Au(m,Vx)),d.i=new Cu(m,d.h))}function Zt(d,m,_){d.i.set(m,_)}function oh(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Su(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Au(d,m,_){return typeof d=="string"?(d=encodeURI(d).replace(m,xx),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xx(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ow=/[#\/\?@]/g,Mx=/[#\?:]/g,Lx=/[#\?]/g,Vx=/[#\?@]/g,Fx=/#/g;function Cu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Us(d){d.g||(d.g=new Map,d.h=0,d.i&&Nx(d.i,function(m,_){d.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Cu.prototype,t.add=function(d,m){Us(this),this.i=null,d=Ha(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(m),this.h+=1,this};function aw(d,m){Us(d),m=Ha(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function lw(d,m){return Us(d),m=Ha(d,m),d.g.has(m)}t.forEach=function(d,m){Us(this),this.g.forEach(function(_,x){_.forEach(function(J){d.call(m,J,x,this)},this)},this)},t.na=function(){Us(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let x=0;x<m.length;x++){const J=d[x];for(let re=0;re<J.length;re++)_.push(m[x])}return _},t.V=function(d){Us(this);let m=[];if(typeof d=="string")lw(this,d)&&(m=m.concat(this.g.get(Ha(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)m=m.concat(d[_])}return m},t.set=function(d,m){return Us(this),this.i=null,d=Ha(this,d),lw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function uw(d,m,_){aw(d,m),0<_.length&&(d.i=null,d.g.set(Ha(d,m),b(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var x=m[_];const re=encodeURIComponent(String(x)),Ce=this.V(x);for(x=0;x<Ce.length;x++){var J=re;Ce[x]!==""&&(J+="="+encodeURIComponent(String(Ce[x]))),d.push(J)}}return this.i=d.join("&")};function Ha(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function $x(d,m){m&&!d.j&&(Us(d),d.i=null,d.g.forEach(function(_,x){var J=x.toLowerCase();x!=J&&(aw(this,x),uw(this,J,_))},d)),d.j=m}function Ux(d,m){const _=new Eu;if(a.Image){const x=new Image;x.onload=p(Bs,_,"TestLoadImage: loaded",!0,m,x),x.onerror=p(Bs,_,"TestLoadImage: error",!1,m,x),x.onabort=p(Bs,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=p(Bs,_,"TestLoadImage: timeout",!1,m,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else m(!1)}function Bx(d,m){const _=new Eu,x=new AbortController,J=setTimeout(()=>{x.abort(),Bs(_,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:x.signal}).then(re=>{clearTimeout(J),re.ok?Bs(_,"TestPingServer: ok",!0,m):Bs(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(J),Bs(_,"TestPingServer: error",!1,m)})}function Bs(d,m,_,x,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),x(_)}catch{}}function jx(){this.g=new zn}function Hx(d,m,_){const x=_||"";try{rw(d,function(J,re){let Ce=J;u(J)&&(Ce=Be(J)),m.push(x+re+"="+encodeURIComponent(Ce))})}catch(J){throw m.push(x+"type="+encodeURIComponent("_badmap")),J}}function ah(d){this.l=d.Ub||null,this.j=d.eb||!1}g(ah,qr),ah.prototype.g=function(){return new lh(this.l,this.j)},ah.prototype.i=function(d){return function(){return d}}({});function lh(d,m){Ge.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(lh,Ge),t=lh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Pu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ou(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Pu(this)),this.g&&(this.readyState=3,Pu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cw(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cw(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Ou(this):Pu(this),this.readyState==3&&cw(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ou(this))},t.Qa=function(d){this.g&&(this.response=d,Ou(this))},t.ga=function(){this.g&&Ou(this)};function Ou(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Pu(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=m.next();return d.join(`\r
`)};function Pu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function dw(d){let m="";return L(d,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function Bm(d,m,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=dw(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Zt(d,m,_))}function pn(d){Ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pn,Ge);var Wx=/^https?$/i,qx=["POST","PUT"];t=pn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xm.g(),this.v=this.o?Ba(this.o):Ba(xm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(re){hw(this,re);return}if(d=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var J in x)_.set(J,x[J]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const re of x.keys())_.set(re,x.get(re));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(re=>re.toLowerCase()=="content-type"),J=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qx,m,void 0))||x||J||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Ce]of _)this.g.setRequestHeader(re,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mw(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){hw(this,re)}};function hw(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,fw(d),uh(d)}function fw(d){d.A||(d.A=!0,K(d,"complete"),K(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,K(this,"complete"),K(this,"abort"),uh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uh(this,!0)),pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pw(this):this.bb())},t.bb=function(){pw(this)};function pw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||us(d)!=4||d.Z()!=2)){if(d.u&&us(d)==4)xe(d.Ea,0,d);else if(K(d,"readystatechange"),us(d)==4){d.h=!1;try{const Ce=d.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var x;if(x=Ce===0){var J=String(d.D).match(iw)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),x=!Wx.test(J?J.toLowerCase():"")}_=x}if(_)K(d,"complete"),K(d,"success");else{d.m=6;try{var re=2<us(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",fw(d)}}finally{uh(d)}}}}function uh(d,m){if(d.g){mw(d);const _=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||K(d,"ready");try{_.onreadystatechange=x}catch{}}}function mw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function us(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function gw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zx(d){const m={};d=(d.g&&2<=us(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(P(d[x]))continue;var _=A(d[x]);const J=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const re=m[J]||[];m[J]=re,re.push(_)}S(m,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ru(d,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||m}function vw(d){this.Aa=0,this.i=[],this.j=new Eu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ru("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ru("baseRetryDelayMs",5e3,d),this.cb=Ru("retryDelaySeedMs",1e4,d),this.Wa=Ru("forwardChannelMaxRetries",2,d),this.wa=Ru("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Jb(d&&d.concurrentRequestLimit),this.Da=new jx,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vw.prototype,t.la=8,t.G=1,t.connect=function(d,m,_,x){Er(0),this.W=d,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Aw(this,null,this.W),dh(this)};function jm(d){if(yw(d),d.G==3){var m=d.U++,_=ls(d.I);if(Zt(_,"SID",d.K),Zt(_,"RID",m),Zt(_,"TYPE","terminate"),ku(d,_),m=new $s(d,d.j,m),m.L=2,m.v=oh(ls(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=Cw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),rh(m)}Sw(d)}function ch(d){d.g&&(Wm(d),d.g.cancel(),d.g=null)}function yw(d){ch(d),d.u&&(a.clearTimeout(d.u),d.u=null),hh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function dh(d){if(!Zb(d.h)&&!d.s){d.s=!0;var m=d.Ga;F||O(),B||(F(),B=!0),N.add(m,d),d.B=0}}function Gx(d,m){return ew(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Tu(f(d.Ga,d,m),Iw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new $s(this,this.j,d);let re=this.o;if(this.S&&(re?(re=I(re),v(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=bw(this,J,m),_=ls(this.I),Zt(_,"RID",d),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),ku(this,_),re&&(this.O?m="headers="+encodeURIComponent(String(dw(re)))+"&"+m:this.m&&Bm(_,this.m,re)),Um(this.h,J),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",m),Zt(_,"SID","null"),J.T=!0,Lm(J,_,null)):Lm(J,_,m),this.G=2}}else this.G==3&&(d?_w(this,d):this.i.length==0||Zb(this.h)||_w(this))};function _w(d,m){var _;m?_=m.l:_=d.U++;const x=ls(d.I);Zt(x,"SID",d.K),Zt(x,"RID",_),Zt(x,"AID",d.T),ku(d,x),d.m&&d.o&&Bm(x,d.m,d.o),_=new $s(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),m&&(d.i=m.D.concat(d.i)),m=bw(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Um(d.h,_),Lm(_,x,m)}function ku(d,m){d.H&&L(d.H,function(_,x){Zt(m,x,_)}),d.l&&rw({},function(_,x){Zt(m,x,_)})}function bw(d,m,_){_=Math.min(d.i.length,_);var x=d.l?f(d.l.Na,d.l,d):null;e:{var J=d.i;let re=-1;for(;;){const Ce=["count="+_];re==-1?0<_?(re=J[0].g,Ce.push("ofs="+re)):re=0:Ce.push("ofs="+re);let Wt=!0;for(let Gn=0;Gn<_;Gn++){let At=J[Gn].g;const sr=J[Gn].map;if(At-=re,0>At)re=Math.max(0,J[Gn].g-100),Wt=!1;else try{Hx(sr,Ce,"req"+At+"_")}catch{x&&x(sr)}}if(Wt){x=Ce.join("&");break e}}}return d=d.i.splice(0,_),m.D=d,x}function ww(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;F||O(),B||(F(),B=!0),N.add(m,d),d.v=0}}function Hm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Tu(f(d.Fa,d),Iw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Tu(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Er(10),ch(this),Tw(this))};function Wm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Tw(d){d.g=new $s(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=ls(d.qa);Zt(m,"RID","rpc"),Zt(m,"SID",d.K),Zt(m,"AID",d.T),Zt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(m,"TO",d.ja),Zt(m,"TYPE","xmlhttp"),ku(d,m),d.m&&d.o&&Bm(m,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=oh(ls(m)),_.m=null,_.P=!0,Yb(_,d)}t.Za=function(){this.C!=null&&(this.C=null,ch(this),Hm(this),Er(19))};function hh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Ew(d,m){var _=null;if(d.g==m){hh(d),Wm(d),d.g=null;var x=2}else if($m(d.h,m))_=m.D,tw(d.h,m),x=1;else return;if(d.G!=0){if(m.o)if(x==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var J=d.B;x=eh(),K(x,new qb(x,_)),dh(d)}else ww(d);else if(J=m.s,J==3||J==0&&0<m.X||!(x==1&&Gx(d,m)||x==2&&Hm(d)))switch(_&&0<_.length&&(m=d.h,m.i=m.i.concat(_)),J){case 1:Fo(d,5);break;case 4:Fo(d,10);break;case 3:Fo(d,6);break;default:Fo(d,2)}}}function Iw(d,m){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*m}function Fo(d,m){if(d.j.info("Error code "+m),m==2){var _=f(d.fb,d),x=d.Xa;const J=!x;x=new Vo(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ih(x,"https"),oh(x),J?Ux(x.toString(),_):Bx(x.toString(),_)}else Er(2);d.G=0,d.l&&d.l.sa(m),Sw(d),yw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Er(2)):(this.j.info("Failed to ping google.com"),Er(1))};function Sw(d){if(d.G=0,d.ka=[],d.l){const m=nw(d.h);(m.length!=0||d.i.length!=0)&&(E(d.ka,m),E(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function Aw(d,m,_){var x=_ instanceof Vo?ls(_):new Vo(_);if(x.g!="")m&&(x.g=m+"."+x.g),sh(x,x.s);else{var J=a.location;x=J.protocol,m=m?m+"."+J.hostname:J.hostname,J=+J.port;var re=new Vo(null);x&&ih(re,x),m&&(re.g=m),J&&sh(re,J),_&&(re.l=_),x=re}return _=d.D,m=d.ya,_&&m&&Zt(x,_,m),Zt(x,"VER",d.la),ku(d,x),x}function Cw(d,m,_){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new pn(new ah({eb:_})):new pn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ow(){}t=Ow.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fh(){}fh.prototype.g=function(d,m){return new zr(d,m)};function zr(d,m){Ge.call(this),this.g=new vw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!P(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Wa(this)}g(zr,Ge),zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zr.prototype.close=function(){jm(this.g)},zr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Be(d),d=_);m.i.push(new Rx(m.Ya++,d)),m.G==3&&dh(m)},zr.prototype.N=function(){this.g.l=null,delete this.j,jm(this.g),delete this.g,zr.aa.N.call(this)};function Pw(d){Dm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const _ in m){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Pw,Dm);function Rw(){Nm.call(this),this.status=1}g(Rw,Nm);function Wa(d){this.g=d}g(Wa,Ow),Wa.prototype.ua=function(){K(this.g,"a")},Wa.prototype.ta=function(d){K(this.g,new Pw(d))},Wa.prototype.sa=function(d){K(this.g,new Rw)},Wa.prototype.ra=function(){K(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,zr.prototype.send=zr.prototype.o,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,cP=function(){return new fh},uP=function(){return eh()},lP=Mo,jv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},th.NO_ERROR=0,th.TIMEOUT=8,th.HTTP_ERROR=6,ef=th,zb.COMPLETE="complete",aP=zb,Bb.EventType=bu,bu.OPEN="a",bu.CLOSE="b",bu.ERROR="c",bu.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Ju=Bb,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,oP=pn}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ur=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new du("@firebase/firestore");function Lu(){return pa.logLevel}function Ue(t,...e){if(pa.logLevel<=ft.DEBUG){const n=e.map(x_);pa.debug(`Firestore (${hu}): ${t}`,...n)}}function Rs(t,...e){if(pa.logLevel<=ft.ERROR){const n=e.map(x_);pa.error(`Firestore (${hu}): ${t}`,...n)}}function jl(t,...e){if(pa.logLevel<=ft.WARN){const n=e.map(x_);pa.warn(`Firestore (${hu}): ${t}`,...n)}}function x_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: `+t;throw Rs(e),new Error(e)}function Bt(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ur.UNAUTHENTICATED))}shutdown(){}}class n4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r4{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ss,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ss)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string"),new dP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new ur(e)}}class i4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class s4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bt(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt(typeof n.token=="string"),this.R=n.token,new o4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function Hl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Ut(0,0))}static max(){return new st(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends Kc{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const u4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Kc{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return u4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Qt.fromString(e))}static fromName(e){return new Ke(Qt.fromString(e).popFirst(5))}static empty(){return new Ke(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Qt(e.slice()))}}function c4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new Eo(i,Ke.empty(),e)}function d4(t){return new Eo(t.readTime,t.key,-1)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(st.min(),Ke.empty(),-1)}static max(){return new Eo(st.max(),Ke.empty(),-1)}}function h4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==f4)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ve((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function m4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}M_.oe=-1;function qp(t){return t==null}function Ff(t){return t===0&&1/t==-1/0}function g4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class Hv{constructor(e,n){this.comparator=e,this.root=n||ho.EMPTY}insert(e,n){return new Hv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ho.BLACK,null,null))}remove(e){return new Hv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ho.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}},Oh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ho=class fs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fs.RED,this.left=i??fs.EMPTY,this.right=s??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new fs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1;ho.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ho(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new rr(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pP("Invalid base64 string: "+s):s}}(e);return new ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const v4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(t){if(Bt(!!t),typeof t=="string"){let e=0;const n=v4.exec(t);if(Bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ma(t){return typeof t=="string"?ir.fromBase64String(t):ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function L_(t){const e=t.mapValue.fields.__previous_value__;return zp(e)?L_(e):e}function Yc(t){const e=Io(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zp(t)?4:b4(t)?9007199254740991:_4(t)?10:11:rt()}function rs(t,e){if(t===e)return!0;const n=ga(t);if(n!==ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Io(i.timestampValue),a=Io(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ma(i.bytesValue).isEqual(ma(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return bn(i.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return bn(i.integerValue)===bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=bn(i.doubleValue),a=bn(s.doubleValue);return o===a?Ff(o)===Ff(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fE(o)!==fE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!rs(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function Xc(t,e){return(t.values||[]).find(n=>rs(n,e))!==void 0}function Wl(t,e){if(t===e)return 0;const n=ga(t),r=ga(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=bn(s.integerValue||s.doubleValue),l=bn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mE(t.timestampValue,e.timestampValue);case 4:return mE(Yc(t),Yc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ma(s),l=ma(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(bn(s.latitude),bn(o.latitude));return a!==0?a:Ot(bn(s.longitude),bn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:gE(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ph.mapValue&&o===Ph.mapValue)return 0;if(s===Ph.mapValue)return 1;if(o===Ph.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Wl(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function mE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=Io(t),r=Io(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function gE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wl(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function ql(t){return Wv(t)}function Wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ma(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Wv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function $f(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qv(t){return!!t&&"integerValue"in t}function V_(t){return!!t&&"arrayValue"in t}function vE(t){return!!t&&"nullValue"in t}function yE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tf(t){return!!t&&"mapValue"in t}function _4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ka(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=Jn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ka(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $r(mc(this.value))}}function mP(t){const e=[];return ka(t.fields,(n,r)=>{const i=new Jn([n]);if(tf(r)){const s=mP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hr(e,0,st.min(),st.min(),st.min(),$r.empty(),0)}static newFoundDocument(e,n,r,i){return new hr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new hr(e,2,n,st.min(),st.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,st.min(),st.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.position=e,this.inclusive=n}}function _E(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ke.comparator(Ke.fromName(o.referenceValue),n.key):r=Wl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function w4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{}class Cn extends gP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E4(e,n,r):n==="array-contains"?new A4(e,r):n==="in"?new C4(e,r):n==="not-in"?new O4(e,r):n==="array-contains-any"?new P4(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new I4(e,r):new S4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wl(n,this.value)):n!==null&&ga(this.value)===ga(n)&&this.matchesComparison(Wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends gP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mi(e,n)}matches(e){return vP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vP(t){return t.op==="and"}function yP(t){return T4(t)&&vP(t)}function T4(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function zv(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(yP(t))return t.filters.map(e=>zv(e)).join(",");{const e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function _P(t,e){return t instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.field.isEqual(i.field)&&rs(r.value,i.value)}(t,e):t instanceof Mi?function(r,i){return i instanceof Mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&_P(o,i.filters[a]),!0):!1}(t,e):void rt()}function bP(t){return t instanceof Cn?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof Mi?function(n){return n.op.toString()+" {"+n.getFilters().map(bP).join(" ,")+"}"}(t):"Filter"}class E4 extends Cn{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class I4 extends Cn{constructor(e,n){super(e,"in",n),this.keys=wP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S4 extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=wP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class A4 extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return V_(n)&&Xc(n.arrayValue,this.value)}}class C4 extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class O4 extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class P4 extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!V_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function wE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new R4(t,e,n,r,i,s,o)}function F_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ql(r)).join(",")),e.ue=n}return e.ue}function $_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_P(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bE(t.startAt,e.startAt)&&bE(t.endAt,e.endAt)}function Gv(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function k4(t,e,n,r,i,s,o,a){return new Da(t,e,n,r,i,s,o,a)}function Gp(t){return new Da(t)}function TE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U_(t){return t.collectionGroup!==null}function Sl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(Jn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Jc(s,r))}),n.has(Jn.keyField().canonicalString())||e.ce.push(new Jc(Jn.keyField(),r))}return e.ce}function Qi(t){const e=ot(t);return e.le||(e.le=D4(e,Sl(t))),e.le}function D4(t,e){if(t.limitType==="F")return wE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Jc(i.field,s)});const n=t.endAt?new zl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zl(t.startAt.position,t.startAt.inclusive):null;return wE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kv(t,e){const n=t.filters.concat([e]);return new Da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uf(t,e,n){return new Da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kp(t,e){return $_(Qi(t),Qi(e))&&t.limitType===e.limitType}function TP(t){return`${F_(Qi(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bP(i)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ql(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ql(i)).join(",")),`Target(${r})`}(Qi(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Sl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=_E(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Sl(r),i)||r.endAt&&!function(o,a,l){const u=_E(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Sl(r),i))}(t,e)}function N4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EP(t){return(e,n)=>{let r=!1;for(const i of Sl(t)){const s=x4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function x4(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Wl(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new On(Ke.comparator);function ks(){return M4}const IP=new On(Ke.comparator);function Zu(...t){let e=IP;for(const n of t)e=e.insert(n.key,n);return e}function SP(t){let e=IP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return gc()}function AP(){return gc()}function gc(){return new fu(t=>t.toString(),(t,e)=>t.isEqual(e))}const L4=new On(Ke.comparator),V4=new rr(Ke.comparator);function pt(...t){let e=V4;for(const n of t)e=e.add(n);return e}const F4=new rr(Ot);function $4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function CP(t){return{integerValue:""+t}}function U4(t,e){return g4(e)?CP(e):B_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function B4(t,e,n){return t instanceof Bf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zp(s)&&(s=L_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zc?PP(t,e):t instanceof ed?RP(t,e):function(i,s){const o=OP(i,s),a=EE(o)+EE(i.Pe);return qv(o)&&qv(i.Pe)?CP(a):B_(i.serializer,a)}(t,e)}function j4(t,e,n){return t instanceof Zc?PP(t,e):t instanceof ed?RP(t,e):n}function OP(t,e){return t instanceof jf?function(r){return qv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Bf extends Qp{}class Zc extends Qp{constructor(e){super(),this.elements=e}}function PP(t,e){const n=kP(e);for(const r of t.elements)n.some(i=>rs(i,r))||n.push(r);return{arrayValue:{values:n}}}class ed extends Qp{constructor(e){super(),this.elements=e}}function RP(t,e){let n=kP(e);for(const r of t.elements)n=n.filter(i=>!rs(i,r));return{arrayValue:{values:n}}}class jf extends Qp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function EE(t){return bn(t.integerValue||t.doubleValue)}function kP(t){return V_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zc&&i instanceof Zc||r instanceof ed&&i instanceof ed?Hl(r.elements,i.elements,rs):r instanceof jf&&i instanceof jf?rs(r.Pe,i.Pe):r instanceof Bf&&i instanceof Bf}(t.transform,e.transform)}class W4{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function DP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j_(t.key,di.none()):new Nd(t.key,t.data,di.none());{const n=t.data,r=$r.empty();let i=new rr(Jn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new No(t.key,r,new Yr(i.toArray()),di.none())}}function q4(t,e,n){t instanceof Nd?function(i,s,o){const a=i.value.clone(),l=SE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof No?function(i,s,o){if(!nf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=SE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(NP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vc(t,e,n,r){return t instanceof Nd?function(s,o,a,l){if(!nf(s.precondition,o))return a;const u=s.value.clone(),c=AE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(s,o,a,l){if(!nf(s.precondition,o))return a;const u=AE(s.fieldTransforms,l,o),c=o.data;return c.setAll(NP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return nf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OP(r.transform,i||null);s!=null&&(n===null&&(n=$r.empty()),n.set(r.field,s))}return n||null}function IE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hl(r,i,(s,o)=>H4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nd extends Xp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class No extends Xp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SE(t,e,n){const r=new Map;Bt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,j4(o,a,n[i]))}return r}function AE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,B4(s,o,e))}return r}class j_ extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G4 extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=DP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(n,r)=>IE(n,r))&&Hl(this.baseMutations,e.baseMutations,(n,r)=>IE(n,r))}}class H_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bt(e.mutations.length===r.length);let i=function(){return L4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new H_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,bt;function X4(t){switch(t){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function xP(t){if(t===void 0)return Rs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case An.OK:return ue.OK;case An.CANCELLED:return ue.CANCELLED;case An.UNKNOWN:return ue.UNKNOWN;case An.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case An.INTERNAL:return ue.INTERNAL;case An.UNAVAILABLE:return ue.UNAVAILABLE;case An.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case An.NOT_FOUND:return ue.NOT_FOUND;case An.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case An.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case An.ABORTED:return ue.ABORTED;case An.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case An.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case An.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(bt=An||(An={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new na([4294967295,4294967295],0);function CE(t){const e=J4().encode(t),n=new sP;return n.update(e),new Uint8Array(n.digest())}function OE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new na([n,r],0),new na([i,s],0)]}class W_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=na.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(na.fromNumber(r)));return i.compare(Z4)===1&&(i=new na([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=CE(e),[r,i]=OE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new W_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=CE(e),[r,i]=OE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(st.min(),i,new On(Ot),ks(),pt())}}class xd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xd(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class MP{constructor(e,n){this.targetId=e,this.me=n}}class LP{constructor(e,n,r=ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PE{constructor(){this.fe=0,this.ge=kE(),this.pe=ir.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pt(),n=pt(),r=pt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new xd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=kE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class e6{constructor(e){this.Le=e,this.Be=new Map,this.ke=ks(),this.qe=RE(),this.Qe=new On(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Gv(s))if(r===0){const o=new Ke(s.path);this.Ue(n,o,hr.newNoDocument(o,st.min()))}else Bt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ma(r).toUint8Array()}catch(l){if(l instanceof pP)return jl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new W_(o,i,s)}catch(l){return jl(l instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Gv(a.target)){const l=new Ke(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,hr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jp(e,n,this.Qe,this.ke,r);return this.ke=ks(),this.qe=RE(),this.Qe=new On(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new PE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new PE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function RE(){return new On(Ke.comparator)}function kE(){return new On(Ke.comparator)}const t6={asc:"ASCENDING",desc:"DESCENDING"},n6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r6={and:"AND",or:"OR"};class i6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yv(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function Hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s6(t,e){return Hf(t,e.toTimestamp())}function Xi(t){return Bt(!!t),st.fromTimestamp(function(n){const r=Io(n);return new Ut(r.seconds,r.nanos)}(t))}function q_(t,e){return Qv(t,e).canonicalString()}function Qv(t,e){const n=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FP(t){const e=Qt.fromString(t);return Bt(HP(e)),e}function Xv(t,e){return q_(t.databaseId,e.path)}function yg(t,e){const n=FP(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(UP(n))}function $P(t,e){return q_(t.databaseId,e)}function o6(t){const e=FP(t);return e.length===4?Qt.emptyPath():UP(e)}function Jv(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UP(t){return Bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DE(t,e,n){return{name:Xv(t,e),fields:n.value.mapValue.fields}}function a6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Bt(c===void 0||typeof c=="string"),ir.fromBase64String(c||"")):(Bt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ir.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ue.UNKNOWN:xP(u.code);return new Pe(c,u.message||"")}(o);n=new LP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yg(t,r.document.name),s=Xi(r.document.updateTime),o=r.document.createTime?Xi(r.document.createTime):st.min(),a=new $r({mapValue:{fields:r.document.fields}}),l=hr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new rf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yg(t,r.document),s=r.readTime?Xi(r.readTime):st.min(),o=hr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yg(t,r.document),s=r.removedTargetIds||[];n=new rf([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Q4(i,s),a=r.targetId;n=new MP(a,o)}}return n}function l6(t,e){let n;if(e instanceof Nd)n={update:DE(t,e.key,e.value)};else if(e instanceof j_)n={delete:Xv(t,e.key)};else if(e instanceof No)n={update:DE(t,e.key,e.data),updateMask:v6(e.fieldMask)};else{if(!(e instanceof G4))return rt();n={verify:Xv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Bf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ed)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:s6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function u6(t,e){return t&&t.length>0?(Bt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Xi(i.updateTime):Xi(s);return o.isEqual(st.min())&&(o=Xi(s)),new W4(o,i.transformResults||[])}(n,e))):[]}function c6(t,e){return{documents:[$P(t,e.path)]}}function d6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$P(t,i);const s=function(u){if(u.length!==0)return jP(Mi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:il(f.field),direction:p6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Yv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function h6(t){let e=o6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=BP(h);return f instanceof Mi&&yP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Jc(sl(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,qp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new zl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new zl(p,f)}(n.endAt)),k4(e,i,o,s,a,"F",l,u)}function f6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sl(n.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sl(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sl(n.unaryFilter.field);return Cn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sl(n.unaryFilter.field);return Cn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return Cn.create(sl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mi.create(n.compositeFilter.filters.map(r=>BP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function p6(t){return t6[t]}function m6(t){return n6[t]}function g6(t){return r6[t]}function il(t){return{fieldPath:t.canonicalString()}}function sl(t){return Jn.fromServerFormat(t.fieldPath)}function jP(t){return t instanceof Cn?function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:m6(n.op),value:n.value}}}(t):t instanceof Mi?function(n){const r=n.getFilters().map(i=>jP(i));return r.length===1?r[0]:{compositeFilter:{op:g6(n.op),filters:r}}}(t):rt()}function v6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i,s=st.min(),o=st.min(),a=ir.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.ct=e}}function _6(t){const e=h6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.un=new w6}addToCollectionParentIndex(e,n){return this.un.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Eo.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class w6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(Qt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gl(0)}static kn(){return new Gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.changes=new fu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vc(r.mutation,i,Yr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){const i=Yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ks();const o=gc(),a=function(){return gc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof No)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),vc(c.mutation,u,c.mutation.getFieldMask(),Ut.now())):o.set(u.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new E6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gc();let i=new On((o,a)=>o-a),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Yr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||pt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=AP();c.forEach(f=>{if(!s.has(f)){const p=DP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(Yo());let a=-1,l=s;return o.next(u=>ve.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ve.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pt())).next(c=>({batchId:a,changes:SP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next(r=>{let i=Zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Zu();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,l=>{const u=function(h,f){return new Da(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,hr.newInvalidDocument(c)))});let a=Zu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&vc(c.mutation,u,Yr.empty(),Ut.now()),Yp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ve.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xi(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_6(i.bundledQuery),readTime:Xi(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.overlays=new On(Ke.comparator),this.Ir=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return ve.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Yo(),s=n.length+1,o=new Ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Yo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Yo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ve.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y4(n,r));let s=this.Ir.get(n);s===void 0&&(s=pt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.sessionToken=ir.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.Tr=new rr(Un.Er),this.dr=new rr(Un.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Un(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Un(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ke(new Qt([])),r=new Un(n,e),i=new Un(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ke(new Qt([])),r=new Un(n,e),i=new Un(n,e+1);let s=pt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Un(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ke.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rr(Un.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),i=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Ot);return n.forEach(i=>{const s=new Un(i,0),o=new Un(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ve.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ke.isDocumentKey(s)||(s=s.child(""));const o=new Un(new Ke(s),0);let a=new rr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ve.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ve.forEach(n.mutations,i=>{const s=new Un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Un(n,0),i=this.br.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.Mr=e,this.docs=function(){return new On(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=ks();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ks();const o=n.path,a=new Ke(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||h4(d4(c),r)<=0||(i.has(c.key)||Yp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new R6(this)}getSize(e){return ve.resolve(this.size)}}class R6 extends T6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.persistence=e,this.Nr=new fu(n=>F_(n),$_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new z_,this.targetCount=0,this.kr=Gl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Kn(n),ve.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new M_(0),this.Kr=!1,this.Kr=!0,this.$r=new C6,this.referenceDelegate=e(this),this.Ur=new k6(this),this.indexManager=new b6,this.remoteDocumentCache=function(i){return new P6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new y6(n),this.Gr=new S6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new O6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new N6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ve.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class N6 extends p4{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Jr=new z_,this.Yr=null}static Zr(e){return new G_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,r=>{const i=Ke.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ve.or([()=>ve.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pt(),i=pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new K_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fF()?8:m4(Tr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new x6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Lu()<=ft.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(Lu()<=ft.DEBUG&&Ue("QueryEngine","Query:",rl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Lu()<=ft.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ve.resolve())}Yi(e,n){if(TE(n))return ve.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uf(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Uf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return TE(n)||i.isEqual(st.min())?ve.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ve.resolve(null):(Lu()<=ft.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rl(n)),this.rs(e,o,n,c4(i,-1)).next(a=>a))})}ts(e,n){let r=new rr(EP(e));return n.forEach((i,s)=>{Yp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Lu()<=ft.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",rl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Eo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Ot),this._s=new fu(s=>F_(s),$_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function V6(t,e,n,r){return new L6(t,e,n,r)}async function WP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function F6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ve.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(b=>{const E=u.docVersions.get(g);Bt(E!==null),b.version.compareTo(E)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qP(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(ir.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(b,E,k){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=ks(),u=pt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(U6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function U6(t,e,n){let r=pt(),i=pt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ks();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function B6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new oo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Zv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Dd(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function NE(t,e,n){const r=ot(t);let i=st.min(),s=pt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?ve.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Qi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:pt())).next(a=>(H6(r,N4(e),a),{documents:a,Ts:s})))}function H6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class xE{constructor(){this.activeTargetIds=$4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W6{constructor(){this.so=new xE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new xE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function _g(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class K6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=_g(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw jl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=z6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=_g();return new Promise((o,a)=>{const l=new oP;l.setWithCredentials(!0),l.listenOnce(aP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ef.NO_ERROR:const c=l.getResponseJson();Ue(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ef.TIMEOUT:Ue(ar,`RPC '${e}' ${s} timed out`),a(new Pe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const h=l.getStatus();if(Ue(ar,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(E){const k=E.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(k)>=0?k:ue.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(ar,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=_g(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cP(),a=uP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(ar,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new G6({Io:E=>{p?Ue(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(Ue(ar,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(ar,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),b=(E,k,P)=>{E.listen(k,T=>{try{P(T)}catch(y){setTimeout(()=>{throw y},0)}})};return b(h,Ju.EventType.OPEN,()=>{p||(Ue(ar,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),b(h,Ju.EventType.CLOSE,()=>{p||(p=!0,Ue(ar,`RPC '${e}' stream ${i} transport closed`),g.So())}),b(h,Ju.EventType.ERROR,E=>{p||(p=!0,jl(ar,`RPC '${e}' stream ${i} transport errored:`,E),g.So(new Pe(ue.UNAVAILABLE,"The operation could not be completed")))}),b(h,Ju.EventType.MESSAGE,E=>{var k;if(!p){const P=E.data[0];Bt(!!P);const T=P,y=T.error||((k=T[0])===null||k===void 0?void 0:k.error);if(y){Ue(ar,`RPC '${e}' stream ${i} received error:`,y);const M=y.status;let L=function(w){const v=An[w];if(v!==void 0)return xP(v)}(M),S=y.message;L===void 0&&(L=ue.INTERNAL,S="Unknown error status: "+M+" with message "+y.message),p=!0,g.So(new Pe(L,S)),h.close()}else Ue(ar,`RPC '${e}' stream ${i} received:`,P),g.bo(P)}}),b(a,lP.STAT_EVENT,E=>{E.stat===jv.PROXY?Ue(ar,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===jv.NOPROXY&&Ue(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return new i6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Rs(n.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y6 extends GP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=a6(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Xi(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Jv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Gv(l)?{documents:c6(s,l)}:{query:d6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VP(s,o.resumeToken);const u=Yv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=Hf(s,o.snapshotVersion.toTimestamp());const u=Yv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=f6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Jv(this.serializer),n.removeTarget=e,this.a_(n)}}class Q6 extends GP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=u6(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Jv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>l6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Qv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ue.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Qv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ue.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class J6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rs(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Na(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await Md(u),u.q_.set("Unknown"),u.L_.delete(4),await em(u)}(this))})}),this.q_=new J6(r,i)}}async function em(t){if(Na(t))for(const e of t.B_)await e(!0)}async function Md(t){for(const e of t.B_)await e(!1)}function KP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),J_(n)?X_(n):pu(n).r_()&&Q_(n,e))}function Y_(t,e){const n=ot(t),r=pu(n);n.N_.delete(e),r.r_()&&YP(n,e),n.N_.size===0&&(r.r_()?r.o_():Na(n)&&n.q_.set("Unknown"))}function Q_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(t).A_(e)}function YP(t,e){t.Q_.xe(e),pu(t).R_(e)}function X_(t){t.Q_=new e6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.q_.v_()}function J_(t){return Na(t)&&!pu(t).n_()&&t.N_.size>0}function Na(t){return ot(t).L_.size===0}function QP(t){t.Q_=void 0}async function eB(t){t.q_.set("Online")}async function tB(t){t.N_.forEach((e,n)=>{Q_(t,e)})}async function nB(t,e){QP(t),J_(t)?(t.q_.M_(e),X_(t)):t.q_.set("Unknown")}async function rB(t,e,n){if(t.q_.set("Online"),e instanceof LP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wf(t,r)}else if(e instanceof rf?t.Q_.Ke(e):e instanceof MP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await qP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(ir.EMPTY_BYTE_STRING,c.snapshotVersion)),YP(s,l);const h=new oo(c.target,l,u,c.sequenceNumber);Q_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Wf(t,r)}}async function Wf(t,e,n){if(!Dd(e))throw e;t.L_.add(1),await Md(t),t.q_.set("Offline"),n||(n=()=>qP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await em(t)})}function XP(t,e){return e().catch(n=>Wf(t,n,e))}async function tm(t){const e=ot(t),n=So(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iB(e);)try{const i=await B6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,sB(e,i)}catch(i){await Wf(e,i)}JP(e)&&ZP(e)}function iB(t){return Na(t)&&t.O_.length<10}function sB(t,e){t.O_.push(e);const n=So(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JP(t){return Na(t)&&!So(t).n_()&&t.O_.length>0}function ZP(t){So(t).start()}async function oB(t){So(t).p_()}async function aB(t){const e=So(t);for(const n of t.O_)e.m_(n.mutations)}async function lB(t,e,n){const r=t.O_.shift(),i=H_.from(r,e,n);await XP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tm(t)}async function uB(t,e){e&&So(t).V_&&await async function(r,i){if(function(o){return X4(o)&&o!==ue.ABORTED}(i.code)){const s=r.O_.shift();So(r).s_(),await XP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tm(r)}}(t,e),JP(t)&&ZP(t)}async function LE(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Na(n);n.L_.add(3),await Md(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await em(n)}async function cB(t,e){const n=ot(t);e?(n.L_.delete(2),await em(n)):e||(n.L_.add(2),await Md(n),n.q_.set("Unknown"))}function pu(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new Y6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:eB.bind(null,t),Ro:tB.bind(null,t),mo:nB.bind(null,t),d_:rB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),J_(t)?X_(t):t.q_.set("Unknown")):(await t.K_.stop(),QP(t))})),t.K_}function So(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new Q6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:oB.bind(null,t),mo:uB.bind(null,t),f_:aB.bind(null,t),g_:lB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tm(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Z_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e0(t,e){if(Rs("AsyncQueue",`${e}: ${t}`),Dd(t))return new Pe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=Zu(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Al(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.W_=new On(Ke.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kl(e,n,Al.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class hB{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=FE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(ue.ABORTED,"Firestore shutting down"))}}function FE(){return new fu(t=>TP(t),Kp)}async function t0(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new dB,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=e0(o,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&r0(n)}async function n0(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fB(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&r0(n)}function pB(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function r0(t){t.Y_.forEach(e=>{e.next()})}var ey,$E;($E=ey||(ey={})).ea="default",$E.Cache="cache";class i0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.key=e}}class tR{constructor(e){this.key=e}}class mB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pt(),this.mutatedKeys=pt(),this.Aa=EP(e),this.Ra=new Al(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new VE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Yp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?g!==b&&(r.track({type:3,doc:p}),E=!0):this.ga(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return b(p)-b(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Kl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new VE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new tR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new eR(r))}),n}ba(e){this.Ta=e.Ts,this.da=pt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vB{constructor(e){this.key=e,this.va=!1}}class yB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fu(a=>TP(a),Kp),this.Ma=new Map,this.xa=new Set,this.Oa=new On(Ke.comparator),this.Na=new Map,this.La=new z_,this.Ba={},this.ka=new Map,this.qa=Gl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _B(t,e,n=!0){const r=aR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await nR(r,e,n,!0),i}async function bB(t,e){const n=aR(t);await nR(n,e,!0,!1)}async function nR(t,e,n,r){const i=await j6(t.localStore,Qi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await wB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KP(t.remoteStore,i),a}async function wB(t,e,n,r,i){t.Ka=(h,f,p)=>async function(b,E,k,P){let T=E.view.ma(k);T.ns&&(T=await NE(b.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,T)));const y=P&&P.targetChanges.get(E.targetId),M=P&&P.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(T,b.isPrimaryClient,y,M);return BE(b,E.targetId,L.wa),L.snapshot}(t,h,f,p);const s=await NE(t.localStore,e,!0),o=new mB(e,s.Ts),a=o.ma(s.documents),l=xd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);BE(t,n,u.wa);const c=new gB(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function TB(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Kp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Y_(r.remoteStore,i.targetId),ty(r,i.targetId)}).catch(kd)):(ty(r,i.targetId),await Zv(r.localStore,i.targetId,!0))}async function EB(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Y_(n.remoteStore,r.targetId))}async function IB(t,e,n){const r=kB(t);try{const i=await function(o,a){const l=ot(o),u=Ut.now(),c=a.reduce((p,g)=>p.add(g.key),pt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ks(),b=pt();return l.cs.getEntries(p,c).next(E=>{g=E,g.forEach((k,P)=>{P.isValidDocument()||(b=b.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(E=>{h=E;const k=[];for(const P of a){const T=z4(P,h.get(P.key).overlayedDocument);T!=null&&k.push(new No(P.key,T,mP(T.value.mapValue),di.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,k,a)}).next(E=>{f=E;const k=E.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,E.batchId,k)})}).then(()=>({batchId:f.batchId,changes:SP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ld(r,i.changes),await tm(r.remoteStore)}catch(i){const s=e0(i,"Failed to persist write");n.reject(s)}}async function rR(t,e){const n=ot(t);try{const r=await $6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Bt(o.va):i.removedDocuments.size>0&&(Bt(o.va),o.va=!1))}),await Ld(n,r,e)}catch(r){await kd(r)}}function UE(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&r0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SB(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(Ke.comparator);o=o.insert(s,hr.newNoDocument(s,st.min()));const a=pt().add(s),l=new Jp(st.min(),new Map,new On(Ot),o,a);await rR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),s0(r)}else await Zv(r.localStore,e,!1).then(()=>ty(r,e,n)).catch(kd)}async function AB(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await F6(n.localStore,e);sR(n,r,null),iR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ld(n,i)}catch(i){await kd(i)}}async function CB(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Bt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);sR(r,e,n),iR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ld(r,i)}catch(i){await kd(i)}}function iR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function sR(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||oR(t,r)})}function oR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Y_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),s0(t))}function BE(t,e,n){for(const r of n)r instanceof eR?(t.La.addReference(r.key,e),OB(t,r)):r instanceof tR?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||oR(t,r.key)):rt()}function OB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),s0(t))}function s0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ke(Qt.fromString(e)),r=t.qa.next();t.Na.set(r,new vB(n)),t.Oa=t.Oa.insert(n,r),KP(t.remoteStore,new oo(Qi(Gp(n.path)),r,"TargetPurposeLimboResolution",M_.oe))}}async function Ld(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=K_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(u,f=>ve.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ve.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Dd(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,b)}}}(r.localStore,s))}async function PB(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await WP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ue.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ld(n,r.hs)}}function RB(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return pt().add(r.key);{let i=pt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function aR(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SB.bind(null,e),e.Ca.d_=fB.bind(null,e.eventManager),e.Ca.$a=pB.bind(null,e.eventManager),e}function kB(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CB.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return V6(this.persistence,new M6,e.initialUser,this.serializer)}Ga(e){return new D6(G_.Zr,this.serializer)}Wa(e){return new W6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class ny{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PB.bind(null,this.syncEngine),await cB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hB}()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),r=function(s){return new K6(s)}(e.databaseInfo);return function(s,o,a,l){return new X6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Z6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>UE(this.syncEngine,n,0),function(){return ME.D()?new ME:new q6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new yB(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Md(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ny.provider={build:()=>new ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=hP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=e0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wg(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NB(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LE(e.remoteStore,i)),t._onlineComponents=e}async function NB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await wg(t,new qf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await wg(t,new qf);return t._offlineComponents}async function lR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await jE(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await jE(t,new ny))),t._onlineComponents}function xB(t){return lR(t).then(e=>e.syncEngine)}async function zf(t){const e=await lR(t),n=e.eventManager;return n.onListen=_B.bind(null,e.syncEngine),n.onUnlisten=TB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EB.bind(null,e.syncEngine),n}function MB(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new o0({next:f=>{c.Za(),o.enqueueAndForget(()=>n0(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new i0(Gp(a.path),c,{includeMetadataChanges:!0,_a:!0});return t0(s,h)}(await zf(t),t.asyncQueue,e,n,r)),r.promise}function LB(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new o0({next:f=>{c.Za(),o.enqueueAndForget(()=>n0(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new i0(a,c,{includeMetadataChanges:!0,_a:!0});return t0(s,h)}(await zf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,n){if(!n)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VB(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WE(t){if(!Ke.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qE(t){if(Ke.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function Hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new Pe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function FB(t,e){if(e<=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t4;switch(r.type){case"firstParty":return new s4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HE.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),HE.delete(n),r.terminate())}(this),Promise.resolve()}}function $B(t,e,n,r={}){var i;const s=(t=Hr(t,rm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ur.MOCK_USER;else{a=oO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ur(u)}t._authCredentials=new n4(new dP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}}class fo extends is{constructor(e,n,r){super(e,n,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new Ke(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function mr(t,e,...n){if(t=Dt(t),cR("collection","path",e),t instanceof rm){const r=Qt.fromString(e,...n);return qE(r),new fo(t,null,r)}{if(!(t instanceof br||t instanceof fo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return qE(r),new fo(t.firestore,null,r)}}function ct(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=hP.newId()),cR("doc","path",e),t instanceof rm){const r=Qt.fromString(e,...n);return WE(r),new br(t,null,new Ke(r))}{if(!(t instanceof br||t instanceof fo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return WE(r),new br(t.firestore,t instanceof fo?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zP(this,"async_queue_retry"),this.Vu=()=>{const r=bg();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ss;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Dd(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Z_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function KE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ds extends rm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GE(e),this._firestoreClient=void 0,await e}}}function UB(t,e){const n=typeof t=="object"?t:Rd(),r=typeof t=="string"?t:e||"(default)",i=Vs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iO("firestore");s&&$B(i,...s)}return i}function im(t){if(t._terminated)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BB(t),t._firestoreClient}function BB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new y4(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new DB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yl(ir.fromBase64String(e))}catch(n){throw new Pe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yl(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=/^__.*__$/;class HB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nd(e,this.data,n,this.fieldTransforms)}}class dR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new No(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class c0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new c0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hR(this.Cu)&&jB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class WB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}Qu(e,n,r,i=!1){return new c0({Cu:e,methodName:n,qu:r,path:Jn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vd(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new WB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fR(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);d0("Data must be an object, but it was:",o,r);const a=mR(r,o);let l,u;if(s.merge)l=new Yr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=ry(e,h,n);if(!o.contains(f))throw new Pe(ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);vR(c,f)||c.push(f)}l=new Yr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new HB(new $r(a),l,u)}class om extends a0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function qB(t,e,n,r){const i=t.Qu(1,e,n);d0("Data must be an object, but it was:",i,r);const s=[],o=$r.empty();ka(r,(l,u)=>{const c=h0(e,l,n);u=Dt(u);const h=i.Nu(c);if(u instanceof om)s.push(c);else{const f=Fd(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Yr(s);return new dR(o,a,i.fieldTransforms)}function zB(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[ry(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ry(e,s[f])),l.push(s[f+1]);const u=[],c=$r.empty();for(let f=a.length-1;f>=0;--f)if(!vR(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const b=o.Nu(p);if(g instanceof om)u.push(p);else{const E=Fd(g,b);E!=null&&(u.push(p),c.set(p,E))}}const h=new Yr(u);return new dR(c,h,o.fieldTransforms)}function pR(t,e,n,r=!1){return Fd(n,t.Qu(r?4:3,e))}function Fd(t,e){if(gR(t=Dt(t)))return d0("Unsupported field value:",e,t),mR(t,e);if(t instanceof a0)return function(r,i){if(!hR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Fd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ut.fromDate(r);return{timestampValue:Hf(i.serializer,s)}}if(r instanceof Ut){const s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(i.serializer,s)}}if(r instanceof l0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yl)return{bytesValue:VP(i.serializer,r._byteString)};if(r instanceof br){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof u0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return B_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${nm(r)}`)}(t,e)}function mR(t,e){const n={};return fP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(t,(r,i)=>{const s=Fd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof l0||t instanceof Yl||t instanceof br||t instanceof a0||t instanceof u0)}function d0(t,e,n){if(!gR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ry(t,e,n){if((e=Dt(e))instanceof sm)return e._internalPath;if(typeof e=="string")return h0(t,e);throw Gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const GB=new RegExp("[~\\*/\\[\\]]");function h0(t,e,n){if(e.search(GB)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(ue.INVALID_ARGUMENT,a+t+l)}function vR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KB extends f0{data(){return super.data()}}function am(t,e){return typeof e=="string"?h0(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p0{}class lm extends p0{}function YB(t,e,...n){let r=[];e instanceof p0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof g0).length,a=s.filter(l=>l instanceof um).length;if(o>1||o>0&&a>0)throw new Pe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class um extends lm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=this._parse(e);return _R(e._query,n),new is(e.firestore,e.converter,Kv(e._query,n))}_parse(e){const n=Vd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){XE(h,c);const p=[];for(const g of h)p.push(QE(l,s,g));f={arrayValue:{values:p}}}else f=QE(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||XE(h,c),f=pR(a,o,h,c==="in"||c==="not-in");return Cn.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function m0(t,e,n){const r=e,i=am("where",t);return um._create(i,r,n)}class g0 extends p0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)_R(o,l),o=Kv(o,l)}(e._query,n),new is(e.firestore,e.converter,Kv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class v0 extends lm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new v0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(s,o)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Da(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YE(t,e="asc"){const n=e,r=am("orderBy",t);return v0._create(r,n)}class y0 extends lm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new y0(e,n,r)}_apply(e){return new is(e.firestore,e.converter,Uf(e._query,this._limit,this._limitType))}}function QB(t){return FB("limit",t),y0._create("limit",t,"F")}class _0 extends lm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _0(e,n,r)}_apply(e){const n=JB(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,function(i,s){return new Da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function XB(...t){return _0._create("startAfter",t,!1)}function JB(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof f0)return function(s,o,a,l,u){if(!l)throw new Pe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of Sl(s))if(h.field.isKeyField())c.push($f(o,l.key));else{const f=l.data.field(h.field);if(zp(f))throw new Pe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new zl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Vd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const b=c[g];if(f[g].field.isKeyField()){if(typeof b!="string")throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!U_(o)&&b.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const E=o.path.child(Qt.fromString(b));if(!Ke.isDocumentKey(E))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const k=new Ke(E);p.push($f(a,k))}else{const E=pR(l,u,b);p.push(E)}}return new zl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function QE(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U_(e)&&n.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qt.fromString(n));if(!Ke.isDocumentKey(r))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $f(t,new Ke(r))}if(n instanceof br)return $f(t,n._key);throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function XE(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _R(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZB{convertValue(e,n="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ka(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>bn(o.doubleValue));return new u0(s)}convertGeoPoint(e){return new l0(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=L_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=Io(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qt.fromString(e);Bt(HP(r));const i=new Qc(r.get(1),r.get(3)),s=new Ke(r.popFirst(5));return i.isEqual(n)||Rs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wR extends f0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sf extends wR{data(e={}){return super.data(e)}}class TR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sf(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new sf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new sf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:e9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function e9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){t=Hr(t,br);const e=Hr(t.firestore,Ds);return MB(im(e),t._key).then(n=>IR(e,t,n))}class b0 extends ZB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,n)}}function t9(t){t=Hr(t,is);const e=Hr(t.firestore,Ds),n=im(e),r=new b0(e);return yR(t._query),LB(n,t._query).then(i=>new TR(e,r,t,i))}function n9(t,e,n){t=Hr(t,br);const r=Hr(t.firestore,Ds),i=bR(t.converter,e,n);return cm(r,[fR(Vd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,di.none())])}function r9(t,e,n,...r){t=Hr(t,br);const i=Hr(t.firestore,Ds),s=Vd(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof sm?zB(s,"updateDoc",t._key,e,n,r):qB(s,"updateDoc",t._key,e),cm(i,[o.toMutation(t._key,di.exists(!0))])}function i9(t){return cm(Hr(t.firestore,Ds),[new j_(t._key,di.none())])}function s9(t,e){const n=Hr(t.firestore,Ds),r=ct(t),i=bR(t.converter,e);return cm(n,[fR(Vd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function Nre(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||KE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(KE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof br)u=Hr(t.firestore,Ds),c=Gp(t._key.path),l={next:h=>{e[o]&&e[o](IR(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Hr(t,is);u=Hr(h.firestore,Ds),c=h._query;const f=new b0(u);l={next:p=>{e[o]&&e[o](new TR(u,f,h,p))},error:e[o+1],complete:e[o+2]},yR(t._query)}return function(f,p,g,b){const E=new o0(b),k=new i0(p,E,g);return f.asyncQueue.enqueueAndForget(async()=>t0(await zf(f),k)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>n0(await zf(f),k))}}(im(u),c,a,l)}function cm(t,e){return function(r,i){const s=new Ss;return r.asyncQueue.enqueueAndForget(async()=>IB(await xB(r),i,s)),s.promise}(im(t),e)}function IR(t,e,n){const r=n.docs.get(e._key),i=new b0(t);return new wR(t,i,e._key,r,new tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){hu=i})(Do),Wr(new xr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ds(new r4(r.getProvider("auth-internal")),new a4(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nr(hE,"4.7.3",e),nr(hE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebasestorage.googleapis.com",AR="storageBucket",o9=2*60*1e3,a9=10*60*1e3,l9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends ni{constructor(e,n,r=0){super(Tg(e),`Firebase Storage: ${n} (${Tg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function Tg(t){return"storage/"+t}function w0(){const t="An unknown error occurred, please check the error payload for server response.";return new fn(ln.UNKNOWN,t)}function u9(t){return new fn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function c9(t){return new fn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(ln.UNAUTHENTICATED,t)}function h9(){return new fn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f9(t){return new fn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function CR(){return new fn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OR(){return new fn(ln.CANCELED,"User canceled the upload/download.")}function p9(t){return new fn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function m9(t){return new fn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g9(){return new fn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AR+"' property when initializing the app?")}function PR(){return new fn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v9(){return new fn(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y9(){return new fn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _9(t){return new fn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iy(t){return new fn(ln.INVALID_ARGUMENT,t)}function RR(){return new fn(ln.APP_DELETED,"The Firebase app was deleted.")}function b9(t){return new fn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yc(t,e){return new fn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vu(t){throw new fn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qr.makeFromUrl(e,n)}catch{return new Qr(e,"")}if(r.path==="")return r;throw m9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},b=n===SR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",k=new RegExp(`^https?://${b}/${i}/${E}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<T.length;y++){const M=T[y],L=M.regex.exec(e);if(L){const S=L[M.indices.bucket];let I=L[M.indices.path];I||(I=""),r=new Qr(S,I),M.postModify(r);break}}if(r==null)throw p9(e);return r}}class w9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...k){if(u){f();return}if(E){f(),c.call(null,E,...k);return}if(l()||o){f(),c.call(null,E,...k);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function b(E){g||(g=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function E9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){return t!==void 0}function S9(t){return typeof t=="function"}function A9(t){return typeof t=="object"&&!Array.isArray(t)}function dm(t){return typeof t=="string"||t instanceof String}function JE(t){return T0()&&t instanceof Blob}function T0(){return typeof Blob<"u"}function ZE(t,e,n,r){if(r<e)throw iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function kR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ra;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ra||(ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ra.NO_ERROR,l=s.getStatus();if(!a||DR(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===ra.ABORT;r(!1,new kh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());I9(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=w0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?RR():OR();o(l)}else{const l=CR();o(l)}};this.canceled_?n(!1,new kh(!1,null,!0)):this.backoffId_=T9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function O9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function k9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function D9(t,e,n,r,i,s,o=!0){const a=kR(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return R9(u,e),O9(u,n),P9(u,s),k9(u,r),new C9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x9(...t){const e=N9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(T0())return new Blob(t);throw new fn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function M9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){if(typeof atob>"u")throw _9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Eg{constructor(e,n){this.data=e,this.contentType=n||null}}function V9(t,e){switch(t){case zi.RAW:return new Eg(NR(e));case zi.BASE64:case zi.BASE64URL:return new Eg(xR(t,e));case zi.DATA_URL:return new Eg($9(e),U9(e))}throw w0()}function NR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function F9(t){let e;try{e=decodeURIComponent(t)}catch{throw yc(zi.DATA_URL,"Malformed data URL.")}return NR(e)}function xR(t,e){switch(t){case zi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw yc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case zi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw yc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=L9(e)}catch(i){throw i.message.includes("polyfill")?i:yc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class MR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yc(zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=B9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $9(t){const e=new MR(t);return e.base64?xR(zi.BASE64,e.rest):F9(e.rest)}function U9(t){return new MR(t).contentType}function B9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){let r=0,i="";JE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(JE(this.data_)){const r=this.data_,i=M9(r,e,n);return i===null?null:new to(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new to(r,!0)}}static getBlob(...e){if(T0()){const n=e.map(r=>r instanceof to?r.data_:r);return new to(x9.apply(null,n))}else{const n=e.map(o=>dm(o)?V9(zi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new to(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){let e;try{e=JSON.parse(t)}catch{return null}return A9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return e}class Ir{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||W9}}let Dh=null;function q9(t){return!dm(t)||t.length<2?t:VR(t)}function FR(){if(Dh)return Dh;const t=[];t.push(new Ir("bucket")),t.push(new Ir("generation")),t.push(new Ir("metageneration")),t.push(new Ir("name","fullPath",!0));function e(s,o){return q9(o)}const n=new Ir("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ir("size");return i.xform=r,t.push(i),t.push(new Ir("timeCreated")),t.push(new Ir("updated")),t.push(new Ir("md5Hash",null,!0)),t.push(new Ir("cacheControl",null,!0)),t.push(new Ir("contentDisposition",null,!0)),t.push(new Ir("contentEncoding",null,!0)),t.push(new Ir("contentLanguage",null,!0)),t.push(new Ir("contentType",null,!0)),t.push(new Ir("metadata","customMetadata",!0)),Dh=t,Dh}function z9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function G9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return z9(r,t),r}function $R(t,e,n){const r=LR(e);return r===null?null:G9(t,r,n)}function K9(t,e,n,r){const i=LR(e);if(i===null||!dm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=mu(f,n,r),g=kR({alt:"media",token:u});return p+g})[0]}function UR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class xa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){if(!t)throw w0()}function E0(t,e){function n(r,i){const s=$R(t,i,e);return As(s!==null),s}return n}function Y9(t,e){function n(r,i){const s=$R(t,i,e);return As(s!==null),K9(s,i,t.host,t._protocol)}return n}function $d(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=h9():i=d9():n.getStatus()===402?i=c9(t.bucket):n.getStatus()===403?i=f9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function I0(t){const e=$d(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=u9(t.path)),s.serverResponse=i.serverResponse,s}return n}function Q9(t,e,n){const r=e.fullServerUrl(),i=mu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xa(i,s,E0(t,n),o);return a.errorHandler=I0(e),a}function X9(t,e,n){const r=e.fullServerUrl(),i=mu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xa(i,s,Y9(t,n),o);return a.errorHandler=I0(e),a}function J9(t,e){const n=e.fullServerUrl(),r=mu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new xa(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=I0(e),a}function Z9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function BR(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Z9(null,e)),r}function e5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let y=0;y<2;y++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=BR(e,r,i),c=UR(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=to.getBlob(h,r,f);if(p===null)throw PR();const g={name:u.fullPath},b=mu(s,t.host,t._protocol),E="POST",k=t.maxUploadRetryTime,P=new xa(b,E,E0(t,n),k);return P.urlParams=g,P.headers=o,P.body=p.uploadData(),P.errorHandler=$d(e),P}class Kf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function S0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{As(!1)}return As(!!n&&(e||["active"]).indexOf(n)!==-1),n}function t5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=BR(e,r,i),a={name:o.fullPath},l=mu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=UR(o,n),f=t.maxUploadRetryTime;function p(b){S0(b);let E;try{E=b.getResponseHeader("X-Goog-Upload-URL")}catch{As(!1)}return As(dm(E)),E}const g=new xa(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=$d(e),g}function n5(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=S0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{As(!1)}h||As(!1);const f=Number(h);return As(!isNaN(f)),new Kf(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new xa(n,o,s,a);return l.headers=i,l.errorHandler=$d(e),l}const e1=256*1024;function r5(t,e,n,r,i,s,o,a){const l=new Kf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw v9();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},b=r.slice(h,f);if(b===null)throw PR();function E(y,M){const L=S0(y,["active","final"]),S=l.current+c,I=r.size();let w;return L==="final"?w=E0(e,s)(y,M):w=null,new Kf(S,I,L==="final",w)}const k="POST",P=e.maxUploadRetryTime,T=new xa(n,k,E,P);return T.headers=g,T.body=b.uploadData(),T.progressCallback=a||null,T.errorHandler=$d(t),T}const Lr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ig(t){switch(t){case"running":case"pausing":case"canceling":return Lr.RUNNING;case"paused":return Lr.PAUSED;case"success":return Lr.SUCCESS;case"canceled":return Lr.CANCELED;case"error":return Lr.ERROR;default:return Lr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r){if(S9(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class s5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Vu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class o5 extends s5{initXhr(){this.xhr_.responseType="text"}}function zo(){return new o5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=FR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(DR(i.status,[]))if(s)i=CR();else{this.sleepTime=Math.max(this.sleepTime*2,l9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=t5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=n5(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,zo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=e1*this._chunkMultiplier,n=new Kf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=r5(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,zo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){e1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Q9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,zo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=e5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=OR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ig(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new i5(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ig(this._state)){case Lr.SUCCESS:Ya(this._resolve.bind(null,this.snapshot))();break;case Lr.CANCELED:case Lr.ERROR:const n=this._reject;Ya(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ig(this._state)){case Lr.RUNNING:case Lr.PAUSED:e.next&&Ya(e.next.bind(e,this.snapshot))();break;case Lr.SUCCESS:e.complete&&Ya(e.complete.bind(e))();break;case Lr.CANCELED:case Lr.ERROR:e.error&&Ya(e.error.bind(e,this._error))();break;default:e.error&&Ya(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new va(e,n)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VR(this._location.path)}get storage(){return this._service}get parent(){const e=j9(this._location.path);if(e===null)return null;const n=new Qr(this._location.bucket,e);return new va(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b9(e)}}function l5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new a5(t,new to(e),n)}function u5(t){t._throwIfRoot("getDownloadURL");const e=X9(t.storage,t._location,FR());return t.storage.makeRequestWithTokens(e,zo).then(n=>{if(n===null)throw y9();return n})}function c5(t){t._throwIfRoot("deleteObject");const e=J9(t.storage,t._location);return t.storage.makeRequestWithTokens(e,zo)}function d5(t,e){const n=H9(t._location.path,e),r=new Qr(t._location.bucket,n);return new va(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){return/^[A-Za-z]+:\/\//.test(t)}function f5(t,e){return new va(t,e)}function jR(t,e){if(t instanceof A0){const n=t;if(n._bucket==null)throw g9();const r=new va(n,n._bucket);return e!=null?jR(r,e):r}else return e!==void 0?d5(t,e):t}function p5(t,e){if(e&&h5(e)){if(t instanceof A0)return f5(t,e);throw iy("To use ref(service, url), the first argument must be a Storage instance.")}else return jR(t,e)}function t1(t,e){const n=e==null?void 0:e[AR];return n==null?null:Qr.makeFromBucketSpec(n,t)}function m5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:oO(i,t.app.options.projectId))}class A0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=SR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o9,this._maxUploadRetryTime=a9,this._requests=new Set,i!=null?this._bucket=Qr.makeFromBucketSpec(i,this._host):this._bucket=t1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=t1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new va(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new w9(RR());{const o=D9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const n1="@firebase/storage",r1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="storage";function g5(t,e,n){return t=Dt(t),l5(t,e,n)}function xre(t){return t=Dt(t),u5(t)}function v5(t){return t=Dt(t),c5(t)}function y5(t,e){return t=Dt(t),p5(t,e)}function _5(t=Rd(),e){t=Dt(t);const r=Vs(t,HR).getImmediate({identifier:e}),i=iO("storage");return i&&b5(r,...i),r}function b5(t,e,n,r={}){m5(t,e,n,r)}function w5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new A0(n,r,i,e,Do)}function T5(){Wr(new xr(HR,w5,"PUBLIC").setMultipleInstances(!0)),nr(n1,r1,""),nr(n1,r1,"esm2017")}T5();let Nh;const E5=new Uint8Array(16);function I5(){if(!Nh&&(Nh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nh(E5)}const Yn=[];for(let t=0;t<256;++t)Yn.push((t+256).toString(16).slice(1));function S5(t,e=0){return Yn[t[e+0]]+Yn[t[e+1]]+Yn[t[e+2]]+Yn[t[e+3]]+"-"+Yn[t[e+4]]+Yn[t[e+5]]+"-"+Yn[t[e+6]]+Yn[t[e+7]]+"-"+Yn[t[e+8]]+Yn[t[e+9]]+"-"+Yn[t[e+10]]+Yn[t[e+11]]+Yn[t[e+12]]+Yn[t[e+13]]+Yn[t[e+14]]+Yn[t[e+15]]}const A5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i1={randomUUID:A5};function C5(t,e,n){if(i1.randomUUID&&!e&&!t)return i1.randomUUID();t=t||{};const r=t.random||(t.rng||I5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return S5(r)}const Qn=class Qn{constructor(e,n,r={},i,s){cs(this,"errorCode");this.errorCode=s,Qn.log(r.debug,n),r.route&&ZD.push({name:r.route}),H2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};cs(Qn,"success",(e,n={})=>new Qn("Success",e,n)),cs(Qn,"update",(e,n={})=>new Qn("Warning",e,n,"Update")),cs(Qn,"warning",(e,n={})=>new Qn("Warning",e,n)),cs(Qn,"error",(e,n={})=>new Qn("Error",e,n)),cs(Qn,"generalError",(e,n,r)=>new Qn("Error",(n==null?void 0:n.message)||WR,{debug:e},void 0,r)),cs(Qn,"firebaseError",(e,n)=>{Qn.log(e,n);let r;return n instanceof ni&&Object.keys(xh).includes(n.code)?(r=n.code,n.message=xh[r]):n instanceof Error&&Object.keys(xh).includes(n.name)?(r=n.name,n.message=xh[r]):n.message=void 0,Qn.generalError(e,n,r)}),cs(Qn,"log",(e,n)=>{e&&console.log(n)});let ke=Qn;const WR="Something went wrong";var qR=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_INVALID_CREDENTIAL="auth/invalid-credential",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(qR||{});const s1=t=>Object.values(qR).includes(t),xh={"":WR,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/invalid-credential":"Invalid credentials","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};function C0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O5=zR,GR=new ko("auth","Firebase",zR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new du("@firebase/auth");function P5(t,...e){Yf.logLevel<=ft.WARN&&Yf.warn(`Auth (${Do}): ${t}`,...e)}function of(t,...e){Yf.logLevel<=ft.ERROR&&Yf.error(`Auth (${Do}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,...e){throw O0(t,...e)}function Ji(t,...e){return O0(t,...e)}function KR(t,e,n){const r=Object.assign(Object.assign({},O5()),{[e]:n});return new ko("auth","Firebase",r).create(e,{appName:t.name})}function Zi(t){return KR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GR.create(t,...e)}function Je(t,e,...n){if(!t)throw O0(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function Ns(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function R5(){return o1()==="http:"||o1()==="https:"}function o1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R5()||aO()||"connection"in navigator)?navigator.onLine:!0}function D5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=T_()||lO()}get(){return k5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Ud(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ss(t,e,n,r,i={}){return QR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return dF()||(u.referrerPolicy="no-referrer"),YR.fetch()(XR(t,t.config.apiHost,n,a),u)})}async function QR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N5),e);try{const i=new L5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KR(t,c,u);Li(t,c)}}catch(i){if(i instanceof ni)throw i;Li(t,"network-request-failed",{message:String(i)})}}async function Bd(t,e,n,r,i={}){const s=await ss(t,e,n,r,i);return"mfaPendingCredential"in s&&Li(t,"multi-factor-auth-required",{_serverResponse:s}),s}function XR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?P0(t.config,i):`${t.config.apiScheme}://${i}`}function M5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ji(this.auth,"network-request-failed")),x5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ji(t,e,r);return i.customData._tokenResponse=n,i}function a1(t){return t!==void 0&&t.enterprise!==void 0}class V5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function F5(t,e){return ss(t,"GET","/v2/recaptchaConfig",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return ss(t,"POST","/v1/accounts:delete",e)}async function JR(t,e){return ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U5(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=R0(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_c(Sg(i.auth_time)),issuedAtTime:_c(Sg(i.iat)),expirationTime:_c(Sg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sg(t){return Number(t)*1e3}function R0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nf(n);return i?JSON.parse(i):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function l1(t){const e=R0(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&B5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ql(t,JR(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZR(s.providerUserInfo):[],a=W5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function H5(t){const e=Dt(t);await Qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZR(t){return t.map(e=>{var{providerId:n}=e,r=C0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){const n=await QR(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=XR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z5(t,e){return ss(t,"POST","/v2/accounts:revokeToken",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=l1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await q5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cl;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=C0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U5(this,e)}reload(){return H5(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Ql(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:y,isAnonymous:M,providerData:L,stsTokenManager:S}=n;Je(T&&S,e,"internal-error");const I=Cl.fromJSON(this.name,S);Je(typeof T=="string",e,"internal-error"),Ws(h,e.name),Ws(f,e.name),Je(typeof y=="boolean",e,"internal-error"),Je(typeof M=="boolean",e,"internal-error"),Ws(p,e.name),Ws(g,e.name),Ws(b,e.name),Ws(E,e.name),Ws(k,e.name),Ws(P,e.name);const w=new bs({uid:T,auth:e,email:f,emailVerified:y,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:I,createdAt:k,lastLoginAt:P});return L&&Array.isArray(L)&&(w.providerData=L.map(v=>Object.assign({},v))),E&&(w._redirectEventId=E),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cl;i.updateFromServerResponse(n);const s=new bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ZR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Cl;a.updateFromIdToken(r);const l=new bs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function ws(t){Ns(t instanceof Function,"Expected a class definition");let e=u1.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ek.type="NONE";const c1=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,s),this.fullPersistenceKey=af("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ol(ws(c1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ws(c1);const o=af(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=bs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ol(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ol(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ik(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ok(e))return"Blackberry";if(ak(e))return"Webos";if(nk(e))return"Safari";if((e.includes("chrome/")||rk(e))&&!e.includes("edge/"))return"Chrome";if(sk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tk(t=Tr()){return/firefox\//i.test(t)}function nk(t=Tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rk(t=Tr()){return/crios\//i.test(t)}function ik(t=Tr()){return/iemobile/i.test(t)}function sk(t=Tr()){return/android/i.test(t)}function ok(t=Tr()){return/blackberry/i.test(t)}function ak(t=Tr()){return/webos/i.test(t)}function k0(t=Tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G5(t=Tr()){var e;return k0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K5(){return hF()&&document.documentMode===10}function lk(t=Tr()){return k0(t)||sk(t)||ak(t)||ok(t)||/windows phone/i.test(t)||ik(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e=[]){let n;switch(t){case"Browser":n=d1(Tr());break;case"Worker":n=`${d1(Tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e={}){return ss(t,"GET","/v2/passwordPolicy",Fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=6;class J5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:X5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h1(this),this.idTokenSubscription=new h1(this),this.beforeStateQueue=new Y5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await JR(this,{idToken:e}),r=await bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(Zi(this));const n=e?Dt(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q5(this),n=new J5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ko("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&P5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ma(t){return Dt(t)}class h1{constructor(e){this.auth=e,this.observer=null,this.addObserver=wF(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ej(t){hm=t}function ck(t){return hm.loadJS(t)}function tj(){return hm.recaptchaEnterpriseScript}function nj(){return hm.gapiScript}function rj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ij="recaptcha-enterprise",sj="NO_RECAPTCHA";class oj{constructor(e){this.type=ij,this.auth=Ma(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{F5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new V5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;a1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(sj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&a1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tj();l.length!==0&&(l+=a),ck(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function f1(t,e,n,r=!1){const i=new oj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await f1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await f1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e){const n=Vs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wc(s,e??{}))return i;Li(i,"already-initialized")}return n.initialize({options:e})}function lj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function uj(t,e){return ss(t,"POST","/v1/accounts:update",e)}async function cj(t,e){return ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e){return Bd(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}async function hj(t,e){return ss(t,"POST","/v1/accounts:sendOobCode",Fs(t,e))}async function fj(t,e){return hj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function mj(t,e){return Bd(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends D0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,n,"signInWithPassword",dj);case"emailLink":return pj(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,r,"signUpPassword",cj);case"emailLink":return mj(e,{idToken:n,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e){return Bd(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="http://localhost";class ya extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=C0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ya(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:gj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yj(t){const e=Qu(Xu(t)).link,n=e?Qu(Xu(e)).deep_link_id:null,r=Qu(Xu(t)).deep_link_id;return(r?Qu(Xu(r)).link:null)||r||n||e||t}class N0{constructor(e){var n,r,i,s,o,a;const l=Qu(Xu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=vj((i=l.mode)!==null&&i!==void 0?i:null);Je(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=yj(e);try{return new N0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N0.parseLink(n);return Je(r,"argument-error"),td._fromEmailAndCode(e,r.code,r.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends dk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends jd{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends jd{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends jd{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return Bd(t,"POST","/v1/accounts:signUp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bs._fromIdTokenResponse(e,r,i),o=p1(r);return new _a({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=p1(r);return new _a({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function p1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jf(e,n,r,i)}}function hk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jf._fromErrorAndOperation(t,s,e,r):s})}async function bj(t,e,n=!1){const r=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e,n=!1){const{auth:r}=t;if(Ei(r.app))return Promise.reject(Zi(r));const i="reauthenticate";try{const s=await Ql(t,hk(r,i,e,t),n);Je(s.idToken,r,"internal-error");const o=R0(s.idToken);Je(o,r,"internal-error");const{sub:a}=o;return Je(t.uid===a,r,"user-mismatch"),_a._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Li(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e,n=!1){if(Ei(t.app))return Promise.reject(Zi(t));const r="signIn",i=await hk(t,r,e),s=await _a._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function wj(t,e){return pk(Ma(t),e)}async function m1(t,e){return fk(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t,e,n){var r;Je(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(t){const e=Ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ej(t,e,n){const r=Ma(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Tj(r,i,n),await Xf(r,i,"getOobCode",fj)}async function Ij(t,e,n){if(Ei(t.app))return Promise.reject(Zi(t));const r=Ma(t),o=await Xf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_j).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mk(t),l}),a=await _a._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Sj(t,e,n){return Ei(t.app)?Promise.reject(Zi(t)):wj(Dt(t),Ao.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mk(t),r})}function Aj(t,e){const n=Dt(t);return Ei(n.auth.app)?Promise.reject(Zi(n.auth)):gk(n,e,null)}function Cj(t,e){return gk(Dt(t),null,e)}async function gk(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ql(t,uj(r,s));await t._updateTokensIfNecessary(o,!0)}function Oj(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Pj(t){return Dt(t).signOut()}async function Rj(t){return Dt(t).delete()}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=1e3,Dj=10;class yk extends vk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);K5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Dj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yk.type="LOCAL";const Nj=yk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k extends vk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_k.type="SESSION";const bk=_k;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await xj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=x0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return window}function Lj(t){es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function Vj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $j(){return wk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="firebaseLocalStorageDb",Uj=1,ep="firebaseLocalStorage",Ek="fbase_key";class Hd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([ep],e?"readwrite":"readonly").objectStore(ep)}function Bj(){const t=indexedDB.deleteDatabase(Tk);return new Hd(t).toPromise()}function ay(){const t=indexedDB.open(Tk,Uj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ep,{keyPath:Ek})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ep)?e(r):(r.close(),await Bj(),e(await ay()))})})}async function g1(t,e,n){const r=pm(t,!0).put({[Ek]:e,value:n});return new Hd(r).toPromise()}async function jj(t,e){const n=pm(t,!1).get(e),r=await new Hd(n).toPromise();return r===void 0?null:r.value}function v1(t,e){const n=pm(t,!0).delete(e);return new Hd(n).toPromise()}const Hj=800,Wj=3;class Ik{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Wj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance($j()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Vj(),!this.activeServiceWorker)return;this.sender=new Mj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ay();return await g1(e,Zf,"1"),await v1(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pm(i,!1).getAll();return new Hd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ik.type="LOCAL";const qj=Ik;new Ud(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t,e){return e?ws(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends D0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gj(t){return pk(t.auth,new M0(t),t.bypassAuthState)}function Kj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),fk(n,new M0(t),t.bypassAuthState)}async function Yj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),bj(n,new M0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gj;case"linkViaPopup":case"linkViaRedirect":return Yj;case"reauthViaPopup":case"reauthViaRedirect":return Kj;default:Li(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new Ud(2e3,1e4);class dl extends Sk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qj.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="pendingRedirect",lf=new Map;class Jj extends Sk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const r=await Zj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zj(t,e){const n=nH(e),r=tH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eH(t,e){lf.set(t._key(),e)}function tH(t){return ws(t._redirectPersistence)}function nH(t){return af(Xj,t.config.apiKey,t.name)}async function rH(t,e,n=!1){if(Ei(t.app))return Promise.reject(Zi(t));const r=Ma(t),i=zj(r,e),o=await new Jj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH=10*60*1e3;class sH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ak(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ji(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iH&&this.cachedEventUids.clear(),this.cachedEventUids.has(y1(e))}saveEventToCache(e){this.cachedEventUids.add(y1(e)),this.lastProcessedEventTime=Date.now()}}function y1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ak({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ak(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aH(t,e={}){return ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uH=/^https?/;async function cH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aH(t);for(const n of e)try{if(dH(n))return}catch{}Li(t,"unauthorized-domain")}function dH(t){const e=sy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uH.test(n))return!1;if(lH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new Ud(3e4,6e4);function _1(){const t=es().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fH(t){return new Promise((e,n)=>{var r,i,s;function o(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),n(Ji(t,"network-request-failed"))},timeout:hH.get()})}if(!((i=(r=es().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=es().gapi)===null||s===void 0)&&s.load)o();else{const a=rj("iframefcb");return es()[a]=()=>{gapi.load?o():n(Ji(t,"network-request-failed"))},ck(`${nj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uf=null,e})}let uf=null;function pH(t){return uf=uf||fH(t),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=new Ud(5e3,15e3),gH="__/auth/iframe",vH="emulator/auth/iframe",yH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_H=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bH(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P0(e,vH):`https://${t.config.authDomain}/${gH}`,r={apiKey:e.apiKey,appName:t.name,v:Do},i=_H.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cu(r).slice(1)}`}async function wH(t){const e=await pH(t),n=es().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:bH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ji(t,"network-request-failed"),a=es().setTimeout(()=>{s(o)},mH.get());function l(){es().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EH=500,IH=600,SH="_blank",AH="http://localhost";class b1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CH(t,e,n,r=EH,i=IH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},TH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Tr().toLowerCase();n&&(a=rk(u)?SH:n),tk(u)&&(e=e||AH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(G5(u)&&a!=="_self")return OH(e||"",a),new b1(null);const h=window.open(e||"",a,c);Je(h,t,"popup-blocked");try{h.focus()}catch{}return new b1(h)}function OH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="__/auth/handler",RH="emulator/auth/handler",kH=encodeURIComponent("fac");async function w1(t,e,n,r,i,s){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Do,eventId:i};if(e instanceof dk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof jd){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${kH}=${encodeURIComponent(l)}`:"";return`${DH(t)}?${cu(a).slice(1)}${u}`}function DH({config:t}){return t.emulator?P0(t,RH):`https://${t.authDomain}/${PH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="webStorageSupport";class NH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bk,this._completeRedirectFn=rH,this._overrideRedirectResult=eH}async _openPopup(e,n,r,i){var s;Ns((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await w1(e,n,r,sy(),i);return CH(e,o,x0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await w1(e,n,r,sy(),i);return Lj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wH(e),r=new sH(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ag,{type:Ag},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ag];o!==void 0&&n(!!o),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lk()||nk()||k0()}}const xH=NH;var T1="@firebase/auth",E1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VH(t){Wr(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uk(t)},u=new Z5(r,i,s,l);return lj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wr(new xr("auth-internal",e=>{const n=Ma(e.getProvider("auth").getImmediate());return(r=>new MH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(T1,E1,LH(t)),nr(T1,E1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=5*60;uF("authIdTokenMaxAge");function $H(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ej({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ji("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$H().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VH("Browser");const Ck=Symbol("firebaseApp");function L0(t){return ti()&&Dr(Ck,null)||Rd(t)}const UH=typeof window<"u",Lh=new WeakMap;function BH(t,e){if(!Lh.has(t)){const n=Jy(!0);Lh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Lh.delete(t)}}return Lh.get(t)}const Ok=new WeakMap;function Pk(t){return Ok.get(L0(t))}const Vh=new WeakMap;function Rk(t){const e=L0(t);if(!Vh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Vh.set(e,s),n(s.value)}];Vh.set(e,i)}return Vh.get(e)}function kk(t){const e=Rk(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function jH(t,e){Oj(e,n=>{const r=Rk();t.value=n,Array.isArray(r)&&r[1](t)})}var I1={};const S1="@firebase/database",A1="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dk="";function HH(t){Dk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Hc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ls(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new WH(e)}}catch{}return new qH},Qo=Nk("localStorage"),ly=Nk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new du("@firebase/database"),zH=function(){let t=1;return function(){return t++}}(),xk=function(t){const e=SF(t),n=new bF;n.update(e);const r=n.digest();return Vp.encodeByteArray(r)},Wd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Wd.apply(null,r):typeof r=="object"?e+=Xn(r):e+=r,e+=" "}return e};let ia=null,C1=!0;const GH=function(t,e){Re(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Rl.logLevel=ft.VERBOSE,ia=Rl.log.bind(Rl),e&&ly.set("logging_enabled",!0)):typeof t=="function"?ia=t:(ia=null,ly.remove("logging_enabled"))},fr=function(...t){if(C1===!0&&(C1=!1,ia===null&&ly.get("logging_enabled")===!0&&GH(!0)),ia){const e=Wd.apply(null,t);ia(e)}},qd=function(t){return function(...e){fr(t,...e)}},uy=function(...t){const e="FIREBASE INTERNAL ERROR: "+Wd(...t);Rl.error(e)},ba=function(...t){const e=`FIREBASE FATAL ERROR: ${Wd(...t)}`;throw Rl.error(e),new Error(e)},ei=function(...t){const e="FIREBASE WARNING: "+Wd(...t);Rl.warn(e)},KH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Mk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xl="[MIN_NAME]",wa="[MAX_NAME]",gu=function(t,e){if(t===e)return 0;if(t===Xl||e===wa)return-1;if(e===Xl||t===wa)return 1;{const n=O1(t),r=O1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},QH=function(t,e){return t===e?0:t<e?-1:1},Fu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xn(e))},V0=function(t){if(typeof t!="object"||t===null)return Xn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Xn(e[r]),n+=":",n+=V0(t[e[r]]);return n+="}",n},Lk=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function hi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Vk=function(t){Re(!Mk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},XH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},ZH=new RegExp("^-?(0*)\\d{1,10}$"),eW=-2147483648,tW=2147483647,O1=function(t){if(ZH.test(t)){const e=Number(t);if(e>=eW&&e<=tW)return e}return null},zd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ei("Exception was thrown by user callback.",n),e},Math.floor(0))}},nW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ei(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ei(e)}}class cy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="5",Fk="v",$k="s",Uk="r",Bk="f",jk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hk="ls",Wk="p",dy="ac",qk="websocket",zk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function oW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Gk(t,e,n){Re(typeof e=="string","typeof type must == string"),Re(typeof n=="object","typeof params must == object");let r;if(e===qk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===zk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);oW(t)&&(n.ns=t.namespace);const i=[];return hi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.counters_={}}incrementCounter(e,n=1){Ls(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return rF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg={},Og={};function $0(t){const e=t.toString();return Cg[e]||(Cg[e]=new aW),Cg[e]}function lW(t,e){const n=t.toString();return Og[n]||(Og[n]=e()),Og[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="start",cW="close",dW="pLPCommand",hW="pRTLPCB",Kk="id",Yk="pw",Qk="ser",fW="cb",pW="seg",mW="ts",gW="d",vW="dframe",Xk=1870,Jk=30,yW=Xk-Jk,_W=25e3,bW=3e4;class hl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qd(e),this.stats_=$0(n),this.urlFn=l=>(this.appCheckToken&&(l[dy]=this.appCheckToken),Gk(n,zk,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new uW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bW)),YH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new U0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===P1)this.id=a,this.password=l;else if(o===cW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[P1]="t",r[Qk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[fW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Fk]=F0,this.transportSessionId&&(r[$k]=this.transportSessionId),this.lastSessionId&&(r[Hk]=this.lastSessionId),this.applicationId&&(r[Wk]=this.applicationId),this.appCheckToken&&(r[dy]=this.appCheckToken),typeof location<"u"&&location.hostname&&jk.test(location.hostname)&&(r[Uk]=Bk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hl.forceAllow_=!0}static forceDisallow(){hl.forceDisallow_=!0}static isAvailable(){return hl.forceAllow_?!0:!hl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XH()&&!JH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tO(n),i=Lk(r,yW);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[vW]="t",r[Kk]=e,r[Yk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class U0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zH(),window[dW+this.uniqueCallbackIdentifier]=e,window[hW+this.uniqueCallbackIdentifier]=n,this.myIFrame=U0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){fr("frame writing exception"),a.stack&&fr(a.stack),fr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Kk]=this.myID,e[Yk]=this.myPW,e[Qk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Jk+r.length<=Xk;){const o=this.pendingSegs.shift();r=r+"&"+pW+i+"="+o.seg+"&"+mW+i+"="+o.ts+"&"+gW+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(_W)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=16384,TW=45e3;let tp=null;typeof MozWebSocket<"u"?tp=MozWebSocket:typeof WebSocket<"u"&&(tp=WebSocket);class bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qd(this.connId),this.stats_=$0(n),this.connURL=bi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Fk]=F0,typeof location<"u"&&location.hostname&&jk.test(location.hostname)&&(o[Uk]=Bk),n&&(o[$k]=n),r&&(o[Hk]=r),i&&(o[dy]=i),s&&(o[Wk]=s),Gk(e,qk,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qo.set("previous_websocket_failure",!0);try{let r;uO(),this.mySock=new tp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&tp!==null&&!bi.forceDisallow_}static previouslyFailed(){return Qo.isInMemoryStorage||Qo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Hc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Re(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Xn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Lk(n,wW);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(TW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[hl,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=bi&&bi.isAvailable();let r=n&&!bi.previouslyFailed();if(e.webSocketOnly&&(n||ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bi];else{const i=this.transports_=[];for(const s of nd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);nd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=6e4,IW=5e3,SW=10*1024,AW=100*1024,Pg="t",R1="d",CW="s",k1="r",OW="e",D1="o",N1="a",x1="n",M1="p",PW="h";class RW{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qd("c:"+this.id+":"),this.transportManager_=new nd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=bc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>AW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pg in e){const n=e[Pg];n===N1?this.upgradeIfSecondaryHealthy_():n===k1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===D1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fu("t",e),r=Fu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:M1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:N1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:x1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fu("t",e),r=Fu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fu(Pg,e);if(R1 in e){const r=e[R1];if(n===PW){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===x1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CW?this.onConnectionShutdown_(r):n===k1?this.onReset_(r):n===OW?uy("Server Error: "+r):n===D1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),F0!==r&&ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),bc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(EW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(IW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:M1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.allowedEvents_=e,this.listeners_={},Re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Re(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends eD{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!T_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new np}getInitialEvent(e){return Re(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=32,V1=768;class un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function jt(){return new un("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Co(t){return t.pieces_.length-t.pieceNum_}function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function tD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function nD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new un(e,0)}function jn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new un(n,0)}function vt(t){return t.pieceNum_>=t.pieces_.length}function ai(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return ai(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function iD(t,e){if(Co(t)!==Co(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ii(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Co(t)>Co(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class DW{constructor(e,n){this.errorPrefix_=n,this.parts_=nD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Up(this.parts_[r]);sD(this)}}function NW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Up(e),sD(t)}function xW(t){const e=t.parts_.pop();t.byteLength_-=Up(e),t.parts_.length>0&&(t.byteLength_-=1)}function sD(t){if(t.byteLength_>V1)throw new Error(t.errorPrefix_+"has a key path longer than "+V1+" bytes ("+t.byteLength_+").");if(t.parts_.length>L1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+L1+") or object contains a cycle "+Ho(t))}function Ho(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends eD{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new B0}getInitialEvent(e){return Re(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=1e3,MW=60*5*1e3,F1=30*1e3,LW=1.3,VW=3e4,FW="server_kill",$1=3;class Cs extends Zk{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cs.nextPersistentConnectionId_++,this.log_=qd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$u,this.maxReconnectDelay_=MW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!uO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");B0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&np.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Xn(s)),Re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new da,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Re(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Cs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ls(e,"w")){const r=Bl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_F(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=F1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=yF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):uy("Unrecognized action received from server: "+Xn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$u,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$u,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VW&&(this.reconnectDelay_=$u),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Cs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){Re(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?fr("getToken() completed but was canceled"):(fr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new RW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ei(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(FW)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ei(h),l())}}}interrupt(e){fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Rv(this.interruptReasons_)&&(this.reconnectDelay_=$u,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>V0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){fr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$1&&(this.reconnectDelay_=F1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){fr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Dk.replace(/\./g,"-")]=1,T_()?e["framework.cordova"]=1:lO()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=np.getInstance().currentlyOnline();return Rv(this.interruptReasons_)&&e}}Cs.nextPersistentConnectionId_=0;Cs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Xl,e),i=new Tt(Xl,n);return this.compare(r,i)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh;class oD extends mm{static get __EMPTY_NODE(){return Fh}static set __EMPTY_NODE(e){Fh=e}compare(e,n){return gu(e.name,n.name)}isDefinedOn(e){throw uu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(wa,Fh)}makePost(e,n){return Re(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,Fh)}toString(){return".key"}}const kl=new oD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bn.RED,this.left=i??Br.EMPTY_NODE,this.right=s??Br.EMPTY_NODE}copy(e,n,r,i,s){return new Bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Br.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Br.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bn.RED=!0;Bn.BLACK=!1;class $W{copy(e,n,r,i,s){return this}insert(e,n,r){return new Bn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Br{constructor(e,n=Br.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Br(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Br(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $h(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $h(this.root_,null,this.comparator_,!0,e)}}Br.EMPTY_NODE=new $W;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e){return gu(t.name,e.name)}function j0(t,e){return gu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy;function BW(t){hy=t}const aD=function(t){return typeof t=="number"?"number:"+Vk(t):"string:"+t},lD=function(t){if(t.isLeafNode()){const e=t.val();Re(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ls(e,".sv"),"Priority must be a string or number.")}else Re(t===hy||t.isEmpty(),"priority of unexpected type.");Re(t===hy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U1;class $n{constructor(e,n=$n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Re(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lD(this.priorityNode_)}static set __childrenNodeConstructor(e){U1=e}static get __childrenNodeConstructor(){return U1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vt(e)?this:wt(e)===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Re(r!==".priority"||Co(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$n.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+aD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Vk(this.value_):e+=this.value_,this.lazyHash_=xk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $n.__childrenNodeConstructor?-1:(Re(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$n.VALUE_TYPE_ORDER.indexOf(n),s=$n.VALUE_TYPE_ORDER.indexOf(r);return Re(i>=0,"Unknown leaf type: "+n),Re(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$n.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uD,cD;function jW(t){uD=t}function HW(t){cD=t}class WW extends mm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?gu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(wa,new $n("[PRIORITY-POST]",cD))}makePost(e,n){const r=uD(e);return new Tt(n,new $n("[PRIORITY-POST]",r))}toString(){return".priority"}}const vr=new WW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=Math.log(2);class zW{constructor(e){const n=s=>parseInt(Math.log(s)/qW,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Bn(f,h.node,Bn.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),b=i(p+1,u);return h=t[p],f=n?n(h):h,new Bn(f,h.node,Bn.BLACK,g,b)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,b){const E=h-g,k=h;h-=g;const P=i(E+1,k),T=t[E],y=n?n(T):T;p(new Bn(y,T.node,b,null,P))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const b=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));b?f(E,Bn.BLACK):(f(E,Bn.BLACK),f(E,Bn.RED))}return c},o=new zW(t.length),a=s(o);return new Br(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg;const Qa={};class Ts{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Re(Qa&&vr,"ChildrenNode.ts has not been loaded"),Rg=Rg||new Ts({".priority":Qa},{".priority":vr}),Rg}get(e){const n=Bl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Br?n:null}hasIndex(e){return Ls(this.indexSet_,e.toString())}addIndex(e,n){Re(e!==kl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=rp(r,e.getCompare()):a=Qa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Ts(c,u)}addToIndexes(e,n){const r=xf(this.indexes_,(i,s)=>{const o=Bl(this.indexSet_,s);if(Re(o,"Missing index implementation for "+s),i===Qa)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Tt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),rp(a,o.getCompare())}else return Qa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Tt(e.name,a))),l.insert(e,e.node)}});return new Ts(r,this.indexSet_)}removeFromIndexes(e,n){const r=xf(this.indexes_,i=>{if(i===Qa)return i;{const s=n.get(e.name);return s?i.remove(new Tt(e.name,s)):i}});return new Ts(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lD(this.priorityNode_),this.children_.isEmpty()&&Re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Uu||(Uu=new Vt(new Br(j0),null,Ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Uu:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Re(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Uu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{Re(wt(e)!==".priority"||Co(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(vr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+aD(this.getPriority().val())+":"),this.forEachChild(vr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":xk(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gd?-1:0}withIndex(e){if(e===kl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===kl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(vr),i=n.getIterator(vr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===kl?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GW extends Vt{constructor(){super(new Br(j0),Vt.EMPTY_NODE,Ts.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const Gd=new GW;Object.defineProperties(Tt,{MIN:{value:new Tt(Xl,Vt.EMPTY_NODE)},MAX:{value:new Tt(wa,Gd)}});oD.__EMPTY_NODE=Vt.EMPTY_NODE;$n.__childrenNodeConstructor=Vt;BW(Gd);HW(Gd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=!0;function pr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Re(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $n(n,pr(e))}if(!(t instanceof Array)&&KW){const n=[];let r=!1;if(hi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=pr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Tt(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=rp(n,UW,o=>o.name,j0);if(r){const o=rp(n,vr.getCompare());return new Vt(s,pr(e),new Ts({".priority":o},{".priority":vr}))}else return new Vt(s,pr(e),Ts.Default)}else{let n=Vt.EMPTY_NODE;return hi(t,(r,i)=>{if(Ls(t,r)&&r.substring(0,1)!=="."){const s=pr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(pr(e))}}jW(pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW extends mm{constructor(e){super(),this.indexPath_=e,Re(!vt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?gu(e.name,n.name):s}makePost(e,n){const r=pr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,Gd);return new Tt(wa,e)}toString(){return nD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW extends mm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?gu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=pr(e);return new Tt(n,r)}toString(){return".value"}}const XW=new QW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){return{type:"value",snapshotNode:t}}function ZW(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function e7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function B1(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function t7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xl}hasEnd(){return this.endSet_}getIndexEndValue(){return Re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vr}copy(){const e=new H0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function j1(t){const e={};if(t.isDefault())return e;let n;if(t.index_===vr?n="$priority":t.index_===XW?n="$value":t.index_===kl?n="$key":(Re(t.index_ instanceof YW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function H1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==vr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Zk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=qd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ip.getListenId_(e,r),a={};this.listens_[o]=a;const l=j1(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Bl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=ip.getListenId_(e,n);delete this.listens_[r]}get(e){const n=j1(e._queryParams),r=e._path.toString(),i=new da;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Hc(a.responseText)}catch{ei("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ei("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return{value:null,children:new Map}}function dD(t,e,n){if(vt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,sp());const i=t.children.get(r);e=sn(e),dD(i,e,n)}}function fy(t,e,n){t.value!==null?n(e,t.value):r7(t,(r,i)=>{const s=new un(e.toString()+"/"+r);fy(i,s,n)})}function r7(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&hi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=10*1e3,s7=30*1e3,o7=5*60*1e3;class a7{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new i7(e);const r=W1+(s7-W1)*Math.random();bc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;hi(e,(i,s)=>{s>0&&Ls(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),bc(this.reportStats_.bind(this),Math.floor(Math.random()*2*o7))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gi||(Gi={}));function hD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gi.ACK_USER_WRITE,this.source=hD()}operationForChild(e){if(vt(this.path)){if(this.affectedTree.value!=null)return Re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new un(e));return new op(jt(),n,this.revert)}}else return Re(wt(this.path)===e,"operationForChild called for unrelated child."),new op(sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gi.OVERWRITE}operationForChild(e){return vt(this.path)?new Ta(this.source,jt(),this.snap.getImmediateChild(e)):new Ta(this.source,sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gi.MERGE}operationForChild(e){if(vt(this.path)){const n=this.children.subtree(new un(e));return n.isEmpty()?null:n.value?new Ta(this.source,jt(),n.value):new rd(this.source,jt(),n)}else return Re(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rd(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function l7(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(t7(o.childName,o.snapshotNode))}),Bu(t,i,"child_removed",e,r,n),Bu(t,i,"child_added",e,r,n),Bu(t,i,"child_moved",s,r,n),Bu(t,i,"child_changed",e,r,n),Bu(t,i,"value",e,r,n),i}function Bu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>c7(t,a,l)),o.forEach(a=>{const l=u7(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function u7(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function c7(t,e,n){if(e.childName==null||n.childName==null)throw uu("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e){return{eventCache:t,serverCache:e}}function wc(t,e,n,r){return mD(new W0(e,n,r),t.serverCache)}function gD(t,e,n,r){return mD(t.eventCache,new W0(e,n,r))}function py(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ea(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg;const d7=()=>(kg||(kg=new Br(QH)),kg);class rn{constructor(e,n=d7()){this.value=e,this.children=n}static fromObject(e){let n=new rn(null);return hi(e,(r,i)=>{n=n.set(new un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:jt(),value:this.value};if(vt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sn(e),n);return s!=null?{path:jn(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,n){if(vt(e))return new rn(n,this.children);{const r=wt(e),s=(this.children.get(r)||new rn(null)).set(sn(e),n),o=this.children.insert(r,s);return new rn(this.value,o)}}remove(e){if(vt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(sn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rn(null):new rn(this.value,s)}else return this}}get(e){if(vt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(vt(e))return n;{const r=wt(e),s=(this.children.get(r)||new rn(null)).setTree(sn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rn(this.value,o)}}fold(e){return this.fold_(jt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(jn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,jt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(vt(e))return null;{const s=wt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),jn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,jt(),n)}foreachOnPath_(e,n,r){if(vt(e))return this;{this.value&&r(n,this.value);const i=wt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),jn(n,i),r):new rn(null)}}foreach(e){this.foreach_(jt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(jn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.writeTree_=e}static empty(){return new Ci(new rn(null))}}function Tc(t,e,n){if(vt(e))return new Ci(new rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=ai(i,e);return s=s.updateChild(o,n),new Ci(t.writeTree_.set(i,s))}else{const i=new rn(n),s=t.writeTree_.setTree(e,i);return new Ci(s)}}}function q1(t,e,n){let r=t;return hi(n,(i,s)=>{r=Tc(r,jn(e,i),s)}),r}function z1(t,e){if(vt(e))return Ci.empty();{const n=t.writeTree_.setTree(e,new rn(null));return new Ci(n)}}function my(t,e){return La(t,e)!=null}function La(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ai(n.path,e)):null}function G1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(vr,(r,i)=>{e.push(new Tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Tt(r,i.value))}),e}function po(t,e){if(vt(e))return t;{const n=La(t,e);return n!=null?new Ci(new rn(n)):new Ci(t.writeTree_.subtree(e))}}function gy(t){return t.writeTree_.isEmpty()}function Jl(t,e){return vD(jt(),t.writeTree_,e)}function vD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Re(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=vD(jn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(jn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){return ED(e,t)}function h7(t,e,n,r,i){Re(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Tc(t.visibleWrites,e,n)),t.lastWriteId=r}function f7(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function p7(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Re(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&m7(a,r.path)?i=!1:Ii(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return g7(t),!0;if(r.snap)t.visibleWrites=z1(t.visibleWrites,r.path);else{const a=r.children;hi(a,l=>{t.visibleWrites=z1(t.visibleWrites,jn(r.path,l))})}return!0}else return!1}function m7(t,e){if(t.snap)return Ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ii(jn(t.path,n),e))return!0;return!1}function g7(t){t.visibleWrites=_D(t.allWrites,v7,jt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function v7(t){return t.visible}function _D(t,e,n){let r=Ci.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ii(n,o)?(a=ai(n,o),r=Tc(r,a,s.snap)):Ii(o,n)&&(a=ai(o,n),r=Tc(r,jt(),s.snap.getChild(a)));else if(s.children){if(Ii(n,o))a=ai(n,o),r=q1(r,a,s.children);else if(Ii(o,n))if(a=ai(o,n),vt(a))r=q1(r,jt(),s.children);else{const l=Bl(s.children,wt(a));if(l){const u=l.getChild(sn(a));r=Tc(r,jt(),u)}}}else throw uu("WriteRecord should have .snap or .children")}}return r}function bD(t,e,n,r,i){if(!r&&!i){const s=La(t.visibleWrites,e);if(s!=null)return s;{const o=po(t.visibleWrites,e);if(gy(o))return n;if(n==null&&!my(o,jt()))return null;{const a=n||Vt.EMPTY_NODE;return Jl(o,a)}}}else{const s=po(t.visibleWrites,e);if(!i&&gy(s))return n;if(!i&&n==null&&!my(s,jt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ii(u.path,e)||Ii(e,u.path))},a=_D(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return Jl(a,l)}}}function y7(t,e,n){let r=Vt.EMPTY_NODE;const i=La(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=po(t.visibleWrites,e);return n.forEachChild(vr,(o,a)=>{const l=Jl(po(s,new un(o)),a);r=r.updateImmediateChild(o,l)}),G1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=po(t.visibleWrites,e);return G1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function _7(t,e,n,r,i){Re(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=jn(e,n);if(my(t.visibleWrites,s))return null;{const o=po(t.visibleWrites,s);return gy(o)?i.getChild(n):Jl(o,i.getChild(n))}}function b7(t,e,n,r){const i=jn(e,n),s=La(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=po(t.visibleWrites,i);return Jl(o,r.getNode().getImmediateChild(n))}else return null}function w7(t,e){return La(t.visibleWrites,e)}function T7(t,e,n,r,i,s,o){let a;const l=po(t.visibleWrites,e),u=La(l,jt());if(u!=null)a=u;else if(n!=null)a=Jl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function E7(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function vy(t,e,n,r){return bD(t.writeTree,t.treePath,e,n,r)}function wD(t,e){return y7(t.writeTree,t.treePath,e)}function K1(t,e,n,r){return _7(t.writeTree,t.treePath,e,n,r)}function ap(t,e){return w7(t.writeTree,jn(t.treePath,e))}function I7(t,e,n,r,i,s){return T7(t.writeTree,t.treePath,e,n,r,i,s)}function q0(t,e,n){return b7(t.writeTree,t.treePath,e,n)}function TD(t,e){return ED(jn(t.treePath,e),t.writeTree)}function ED(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Re(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Re(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,B1(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,e7(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ZW(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,B1(r,e.snapshotNode,i.oldSnap));else throw uu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ID=new A7;class z0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new W0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ea(this.viewCache_),s=I7(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function C7(t,e){Re(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Re(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function O7(t,e,n,r,i){const s=new S7;let o,a;if(n.type===Gi.OVERWRITE){const u=n;u.source.fromUser?o=yy(t,e,u.path,u.snap,r,i,s):(Re(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!vt(u.path),o=lp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Gi.MERGE){const u=n;u.source.fromUser?o=R7(t,e,u.path,u.children,r,i,s):(Re(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=_y(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Gi.ACK_USER_WRITE){const u=n;u.revert?o=N7(t,e,u.path,r,i,s):o=k7(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Gi.LISTEN_COMPLETE)o=D7(t,e,n.path,r,s);else throw uu("Unknown operation type: "+n.type);const l=s.getChanges();return P7(e,o,l),{viewCache:o,changes:l}}function P7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=py(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(JW(py(e)))}}function SD(t,e,n,r,i,s){const o=e.eventCache;if(ap(r,n)!=null)return e;{let a,l;if(vt(n))if(Re(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ea(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,h=wD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=vy(r,Ea(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=wt(n);if(u===".priority"){Re(Co(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=K1(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=sn(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=K1(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=q0(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return wc(e,a,o.isFullyInitialized()||vt(n),t.filter.filtersNodes())}}function lp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(vt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&Co(n)>1)return e;const g=sn(n),E=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),p,E,g,ID,null)}const h=gD(e,u,l.isFullyInitialized()||vt(n),c.filtersNodes()),f=new z0(i,h,s);return SD(t,h,n,i,f,a)}function yy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new z0(i,e,s);if(vt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=wc(e,u,!0,t.filter.filtersNodes());else{const h=wt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=wc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=sn(n),p=a.getNode().getImmediateChild(h);let g;if(vt(f))g=r;else{const b=c.getCompleteChild(h);b!=null?tD(f)===".priority"&&b.getChild(rD(f)).isEmpty()?g=b:g=b.updateChild(f,r):g=Vt.EMPTY_NODE}if(p.equals(g))l=e;else{const b=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=wc(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Y1(t,e){return t.eventCache.isCompleteForChild(e)}function R7(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=jn(n,l);Y1(e,wt(c))&&(a=yy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=jn(n,l);Y1(e,wt(c))||(a=yy(t,a,c,u,i,s,o))}),a}function Q1(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _y(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;vt(n)?u=r:u=new rn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=Q1(t,p,f);l=lp(t,l,new un(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),b=Q1(t,g,f);l=lp(t,l,new un(h),b,i,s,o,a)}}),l}function k7(t,e,n,r,i,s,o){if(ap(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(vt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return lp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(vt(n)){let u=new rn(null);return l.getNode().forEachChild(kl,(c,h)=>{u=u.set(new un(c),h)}),_y(t,e,n,u,i,s,a,o)}else return e}else{let u=new rn(null);return r.foreach((c,h)=>{const f=jn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),_y(t,e,n,u,i,s,a,o)}}function D7(t,e,n,r,i){const s=e.serverCache,o=gD(e,s.getNode(),s.isFullyInitialized()||vt(n),s.isFiltered());return SD(t,o,n,r,ID,i)}function N7(t,e,n,r,i,s){let o;if(ap(r,n)!=null)return e;{const a=new z0(r,e,i),l=e.eventCache.getNode();let u;if(vt(n)||wt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=vy(r,Ea(e));else{const h=e.serverCache.getNode();Re(h instanceof Vt,"serverChildren would be complete if leaf node"),c=wD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=wt(n);let h=q0(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,sn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,sn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=vy(r,Ea(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ap(r,jt())!=null,wc(e,u,o,t.filter.filtersNodes())}}function x7(t,e){const n=Ea(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!vt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function X1(t,e,n,r){e.type===Gi.MERGE&&e.source.queryId!==null&&(Re(Ea(t.viewCache_),"We should always have a full cache before handling merges"),Re(py(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=O7(t.processor_,i,e,n,r);return C7(t.processor_,s.viewCache),Re(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,M7(t,s.changes,s.viewCache.eventCache.getNode(),null)}function M7(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return l7(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J1;function L7(t){Re(!J1,"__referenceConstructor has already been defined"),J1=t}function G0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Re(s!=null,"SyncTree gave us an op for an invalid query."),X1(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(X1(o,e,n,r));return s}}function K0(t,e){let n=null;for(const r of t.views.values())n=n||x7(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z1;function V7(t){Re(!Z1,"__referenceConstructor has already been defined"),Z1=t}class eI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=E7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F7(t,e,n,r,i){return h7(t.pendingWriteTree_,e,n,r,i),i?vm(t,new Ta(hD(),e,n)):[]}function fl(t,e,n=!1){const r=f7(t.pendingWriteTree_,e);if(p7(t.pendingWriteTree_,e)){let s=new rn(null);return r.snap!=null?s=s.set(jt(),!0):hi(r.children,o=>{s=s.set(new un(o),!0)}),vm(t,new op(r.path,s,n))}else return[]}function gm(t,e,n){return vm(t,new Ta(fD(),e,n))}function $7(t,e,n){const r=rn.fromObject(n);return vm(t,new rd(fD(),e,r))}function U7(t,e,n,r){const i=PD(t,r);if(i!=null){const s=RD(i),o=s.path,a=s.queryId,l=ai(o,e),u=new Ta(pD(a),l,n);return kD(t,o,u)}else return[]}function B7(t,e,n,r){const i=PD(t,r);if(i){const s=RD(i),o=s.path,a=s.queryId,l=ai(o,e),u=rn.fromObject(n),c=new rd(pD(a),l,u);return kD(t,o,c)}else return[]}function AD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ai(o,e),u=K0(a,l);if(u)return u});return bD(i,e,s,n,!0)}function vm(t,e){return CD(e,t.syncPointTree_,null,yD(t.pendingWriteTree_,jt()))}function CD(t,e,n,r){if(vt(t.path))return OD(t,e,n,r);{const i=e.get(jt());n==null&&i!=null&&(n=K0(i,jt()));let s=[];const o=wt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=TD(r,o);s=s.concat(CD(a,l,u,c))}return i&&(s=s.concat(G0(i,t,r,n))),s}}function OD(t,e,n,r){const i=e.get(jt());n==null&&i!=null&&(n=K0(i,jt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=TD(r,o),c=t.operationForChild(o);c&&(s=s.concat(OD(c,a,l,u)))}),i&&(s=s.concat(G0(i,t,r,n))),s}function PD(t,e){return t.tagToQueryMap.get(e)}function RD(t){const e=t.indexOf("$");return Re(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function kD(t,e,n){const r=t.syncPointTree_.get(e);Re(r,"Missing sync point for query tag that we're tracking");const i=yD(t.pendingWriteTree_,e);return G0(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Y0(n)}node(){return this.node_}}class Q0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=jn(this.path_,e);return new Q0(this.syncTree_,n)}node(){return AD(this.syncTree_,this.path_)}}const j7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},tI=function(t,e,n){if(!t||typeof t!="object")return t;if(Re(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return H7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return W7(t[".sv"],e);Re(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},H7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Re(!1,"Unexpected server value: "+t)}},W7=function(t,e,n){t.hasOwnProperty("increment")||Re(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Re(!1,"Unexpected increment value: "+r);const i=e.node();if(Re(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},q7=function(t,e,n,r){return X0(e,new Q0(n,t),r)},z7=function(t,e,n){return X0(t,new Y0(e),n)};function X0(t,e,n){const r=t.getPriority().val(),i=tI(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=tI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $n(a,pr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $n(i))),o.forEachChild(vr,(a,l)=>{const u=X0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Z0(t,e){let n=e instanceof un?e:new un(e),r=t,i=wt(n);for(;i!==null;){const s=Bl(r.node.children,i)||{children:{},childCount:0};r=new J0(i,r,s),n=sn(n),i=wt(n)}return r}function vu(t){return t.node.value}function DD(t,e){t.node.value=e,by(t)}function ND(t){return t.node.childCount>0}function G7(t){return vu(t)===void 0&&!ND(t)}function ym(t,e){hi(t.node.children,(n,r)=>{e(new J0(n,t,r))})}function xD(t,e,n,r){n&&!r&&e(t),ym(t,i=>{xD(i,e,!0,r)}),n&&r&&e(t)}function K7(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Kd(t){return new un(t.parent===null?t.name:Kd(t.parent)+"/"+t.name)}function by(t){t.parent!==null&&Y7(t.parent,t.name,t)}function Y7(t,e,n){const r=G7(n),i=Ls(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,by(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,by(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=/[\[\].#$\/\u0000-\u001F\u007F]/,X7=/[\[\].#$\u0000-\u001F\u007F]/,Dg=10*1024*1024,MD=function(t){return typeof t=="string"&&t.length!==0&&!Q7.test(t)},J7=function(t){return typeof t=="string"&&t.length!==0&&!X7.test(t)},Z7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),J7(t)},LD=function(t,e,n){const r=n instanceof un?new DW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ho(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ho(r)+" with contents = "+e.toString());if(Mk(e))throw new Error(t+"contains "+e.toString()+" "+Ho(r));if(typeof e=="string"&&e.length>Dg/3&&Up(e)>Dg)throw new Error(t+"contains a string greater than "+Dg+" utf8 bytes "+Ho(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(hi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!MD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ho(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);NW(r,o),LD(t,a,r),xW(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ho(r)+" in addition to actual children.")}},e8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!MD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Z7(n))throw new Error(IF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function n8(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!iD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Va(t,e,n){n8(t,n),r8(t,r=>Ii(r,e)||Ii(e,r))}function r8(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(i8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function i8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ia&&fr("event: "+n.toString()),zd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="repo_interrupt",o8=25;class a8{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sp(),this.transactionQueueTree_=new J0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function l8(t,e,n){if(t.stats_=$0(t.repoInfo_),t.forceRestClient_||nW())t.server_=new ip(t.repoInfo_,(r,i,s,o)=>{nI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cs(t.repoInfo_,e,(r,i,s,o)=>{nI(t,r,i,s,o)},r=>{rI(t,r)},r=>{c8(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=lW(t.repoInfo_,()=>new a7(t.stats_,t.server_)),t.infoData_=new n7,t.infoSyncTree_=new eI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),eb(t,"connected",!1),t.serverSyncTree_=new eI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Va(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function u8(t){const n=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function VD(t){return j7({timestamp:u8(t)})}function nI(t,e,n,r,i){t.dataUpdateCount++;const s=new un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xf(n,u=>pr(u));o=B7(t.serverSyncTree_,s,l,i)}else{const l=pr(n);o=U7(t.serverSyncTree_,s,l,i)}else if(r){const l=xf(n,u=>pr(u));o=$7(t.serverSyncTree_,s,l)}else{const l=pr(n);o=gm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=nb(t,s)),Va(t.eventQueue_,a,o)}function rI(t,e){eb(t,"connected",e),e===!1&&h8(t)}function c8(t,e){hi(e,(n,r)=>{eb(t,n,r)})}function eb(t,e,n){const r=new un("/.info/"+e),i=pr(n);t.infoData_.updateSnapshot(r,i);const s=gm(t.infoSyncTree_,r,i);Va(t.eventQueue_,r,s)}function d8(t){return t.nextWriteId_++}function h8(t){FD(t,"onDisconnectEvents");const e=VD(t),n=sp();fy(t.onDisconnect_,jt(),(i,s)=>{const o=q7(i,s,t.serverSyncTree_,e);dD(n,i,o)});let r=[];fy(n,jt(),(i,s)=>{r=r.concat(gm(t.serverSyncTree_,i,s));const o=g8(t,i);nb(t,o)}),t.onDisconnect_=sp(),Va(t.eventQueue_,jt(),r)}function f8(t){t.persistentConnection_&&t.persistentConnection_.interrupt(s8)}function FD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fr(n,...e)}function $D(t,e,n){return AD(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function tb(t,e=t.transactionQueueTree_){if(e||_m(t,e),vu(e)){const n=BD(t,e);Re(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&p8(t,Kd(e),n)}else ND(e)&&ym(e,n=>{tb(t,n)})}function p8(t,e,n){const r=n.map(u=>u.currentWriteId),i=$D(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Re(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=ai(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{FD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(fl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();_m(t,Z0(t.transactionQueueTree_,e)),tb(t,t.transactionQueueTree_),Va(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)zd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ei("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}nb(t,e)}},o)}function nb(t,e){const n=UD(t,e),r=Kd(n),i=BD(t,n);return m8(t,i,r),r}function m8(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=ai(n,l.path);let c=!1,h;if(Re(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(fl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=o8)c=!0,h="maxretry",i=i.concat(fl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=$D(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){LD("transaction failed: Data returned ",p,l.path);let g=pr(p);typeof p=="object"&&p!=null&&Ls(p,".priority")||(g=g.updatePriority(f.getPriority()));const E=l.currentWriteId,k=VD(t),P=z7(g,f,k);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=P,l.currentWriteId=d8(t),o.splice(o.indexOf(E),1),i=i.concat(F7(t.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(fl(t.serverSyncTree_,E,!0))}else c=!0,h="nodata",i=i.concat(fl(t.serverSyncTree_,l.currentWriteId,!0))}Va(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}_m(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)zd(r[a]);tb(t,t.transactionQueueTree_)}function UD(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&vu(r)===void 0;)r=Z0(r,n),e=sn(e),n=wt(e);return r}function BD(t,e){const n=[];return jD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function jD(t,e,n){const r=vu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ym(e,i=>{jD(t,i,n)})}function _m(t,e){const n=vu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,DD(e,n.length>0?n:void 0)}ym(e,r=>{_m(t,r)})}function g8(t,e){const n=Kd(UD(t,e)),r=Z0(t.transactionQueueTree_,e);return K7(r,i=>{Ng(t,i)}),Ng(t,r),xD(r,i=>{Ng(t,i)}),n}function Ng(t,e){const n=vu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Re(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Re(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(fl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?DD(e,void 0):n.length=s+1,Va(t.eventQueue_,Kd(e),i);for(let o=0;o<r.length;o++)zd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function y8(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ei(`Invalid query segment '${n}' in query '${t}'`)}return e}const iI=function(t,e){const n=_8(t),r=n.namespace;n.domain==="firebase.com"&&ba(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ba("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||KH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sW(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new un(n.pathString)}},_8=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=v8(t.substring(c,h)));const f=y8(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return vt(this._path)?null:tD(this._path)}get ref(){return new yu(this._repo,this._path)}get _queryIdentifier(){const e=H1(this._queryParams),n=V0(e);return n==="{}"?"default":n}get _queryObject(){return H1(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof rb))return!1;const n=this._repo===e._repo,r=iD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+kW(this._path)}}class yu extends rb{constructor(e,n){super(e,n,new H0,!1)}get parent(){const e=rD(this._path);return e===null?null:new yu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}L7(yu);V7(yu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="FIREBASE_DATABASE_EMULATOR_HOST",wy={};let w8=!1;function T8(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ba("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=iI(s,i),a=o.repoInfo,l,u;typeof process<"u"&&I1&&(u=I1[b8]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=iI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new cy(cy.OWNER):new iW(t.name,t.options,e);e8("Invalid Firebase Database URL",o),vt(o.path)||ba("Database URL must point to the root of a Firebase Database (not including a child path).");const h=I8(a,t,c,new rW(t.name,n));return new S8(h,t)}function E8(t,e){const n=wy[e];(!n||n[t.key]!==t)&&ba(`Database ${e}(${t.repoInfo_}) has already been deleted.`),f8(t),delete n[t.key]}function I8(t,e,n,r){let i=wy[e.name];i||(i={},wy[e.name]=i);let s=i[t.toURLString()];return s&&ba("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new a8(t,w8,n,r),i[t.toURLString()]=s,s}class S8{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(l8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yu(this._repo,jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(E8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ba("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){HH(Do),Wr(new xr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return T8(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),nr(S1,A1,t),nr(S1,A1,"esm2017")}Cs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};A8();function Yd(t){return UB(L0(t))}function C8(t){return O8({initialUser:t,dependencies:{popupRedirectResolver:xH,persistence:[qj,Nj,bk]}})}const HD=Symbol("VueFireAuth");function O8({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=P8(n,r,e,t);jH(i,s)}}function P8(t,e,n,r,i=aj(t,r)){const s=BH(t,e).run(()=>fe(n));return Ok.set(t,s),e.provide(HD,i),[s,i]}function R8(t){return UH?Dr(HD):null}function k8(t,{firebaseApp:e,modules:n=[]}){t.provide(Ck,e);for(const r of n)r(e,t)}var Rn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.PET_OVERVIEW="pets",t.PET_DETAILS="pet-details",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.TOOLS="tools",t.GAMES="games",t.NOT_FOUND="notfound",t))(Rn||{}),ol=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t.GAMES_PATIENCE="patience",t.HANGMAN="guess",t.TOOLS_CAT_CALC="cat-calc",t))(ol||{}),kn=(t=>(t.NL="nl",t.EN="en",t))(kn||{});const Es=t=>{const{language:e}=os(),n=D8[t];return typeof n=="string"?n:n[e]},Mre=(t,e)=>{const{language:n}=os();return n==="nl"?t:e},Lre=t=>{const{language:e}=os();return typeof t=="string"?t:t[e]??t.nl??"undefined"},D8={WEBSITE_RIGHTS:{nl:"Alle rechten voorbehouden.",en:"All rights reserved."},PROFILE_ROLE:"Full-Stack Developer",PROFILE_SERVICE:"Software Development",PROFILE_LOCATION_COUNTRY:{nl:"Nederland",en:"The Netherlands"},PROFILE_LOCATION_CITY:"Nijmegen",NAVIGATION_WELCOME_1:{nl:"Welkom",en:"Welcome"},NAVIGATION_WELCOME_2:{nl:"Op mijn portfolio en blog website!",en:"To my personal portfolio and blog website!"},NAVIGATION_WELCOME_GUEST:{nl:"Welkom op mijn portfolio en blog website!",en:"Welcome to my portfolio and blog website!"},NAVIGATION_MENU:"Menu",NAVIGATION_BUTTON_LOGIN:{nl:"Inloggen",en:"Login"},NAVIGATION_BUTTON_LOGOUT:{nl:"Uitloggen",en:"Logout"},NAVIGATION_BUTTON_DASHBOARD:"Dashboard",DASHBOARD_DESCRIPTION:{nl:"Je kunt dit account gebruiken voor interactie met mijn blogs en meer!",en:"You can use this account for interaction with my blog posts and more!"},DASHBOARD_INPUT_ACCOUNT_TYPE:{nl:"Soort Account",en:"Account Type"},DASHBOARD_INPUT_FIRST_NAME:{nl:"Voornaam",en:"First Name"},DASHBOARD_INPUT_LAST_NAME:{nl:"Achternaam",en:"Last Name"},DASHBOARD_INPUT_USERNAME:{nl:"Openbare Gebruikersnaam",en:"Public Username"},DASHBOARD_INPUT_EMAIL:"E-mail",DASHBOARD_INPUT_PASSWORD_CURRENT:{nl:"Huidig Wachtwoord",en:"Current Password"},DASHBOARD_INPUT_PASSWORD_NEW:{nl:"Nieuw Wachtwoord",en:"New Password"},DASHBOARD_INPUT_PASSWORD_NEW_REPEAT:{nl:"Herhaal Nieuw Wachtwoord",en:"Repeat New Password"},DASHBOARD_INPUT_AVATAR:{nl:"Openbare Profielfoto",en:"Public Avatar"},DASHBOARD_BUTTON_DELETE_ACCOUNT:{nl:"Account verwijderen",en:"Delete account"},DASHBOARD_BUTTON_PROFILE:{nl:"Bekijk je profiel",en:"View your profile"},DASHBOARD_BUTTON_PETS:{nl:"Bekijk je huisdieren",en:"View your pets"},DASHBOARD_DIALOG_DELETE_ACCOUNT_TITLE:{nl:"Account Verwijderen",en:"Delete Account"},DASHBOARD_DIALOG_DELETE_ACCOUNT_DESCRIPTION_1:{nl:"Weet je zeker dat je je account wilt verwijderen?",en:"Are you sure you want to delete your account?"},DASHBOARD_DIALOG_DELETE_ACCOUNT_DESCRIPTION_2:{nl:"Deze actie kan niet ongedaan worden gemaakt.",en:"This cannot be undone."},DASHBOARD_BUTTON_SAVE_DETAILS:"Details",DASHBOARD_BUTTON_SAVE_PUBLIC_PROFILE:{nl:"Openbaar Profiel",en:"Public Profile"},DASHBOARD_BUTTON_SAVE_EMAIL:"E-mail",DASHBOARD_BUTTON_SAVE_PASSWORD:{nl:"Wachtwoord",en:"Password"},PROFILE_FIELD_DISPLAYNAME:{nl:"Gebruikersnaam",en:"Displayname"},PROFILE_FIELD_LAST_LOGIN:{nl:"Laatste login",en:"Last login"},PROFILE_FIELD_LAST_SEEN:{nl:"Laatst gezien",en:"Last seen"},PROFILE_FIELD_CREATED_AT:{nl:"Aangemaakt op",en:"Created at"},PROFILE_FIELD_PRIVATE:{nl:"zichtbaar voor jou",en:"only visible to you"},PRIVACY_1:{nl:"Je accountgegevens worden beheerd door Google Firebase.",en:"Your login info and data are managed by Google Firebase."},PRIVACY_2:{nl:"Al jouw data (behalve je wachtwoord) is zichtbaar voor de website eigenaar.",en:"All data you share (except for your password) is visible to the site admin."},PRIVACY_3:{nl:"Niemand anders kan jouw data bekijken, behalve wanneer het bij je openbare profiel hoort.",en:"Nobody else can view your personal data, unless it belongs to your Public Profile."},PRIVACY_4:{nl:"Je profielfoto is altijd openbaar.",en:"Your profile picure is always public."},PRIVACY_5:{nl:"Ingelogde gebruikers kunnen zien dat je online bent.",en:"Authenticated users can see when you're online."},PRIVACY_6:{nl:"Je kunt je data gemakkelijk verwijderen in je Dashboard.",en:"Your data can be easily deleted in your Dashboard."},BLOG_OVERVIEW_DESCRIPTION_1:{nl:"Je openbare gebruikersnaam is",en:"Your public username is"},BLOG_OVERVIEW_DESCRIPTION_1_GUEST:{nl:"Welkom in mijn blog!",en:"Welcome to my blog!"},BLOG_OVERVIEW_DESCRIPTION_2:{nl:"Je kunt deze aanpassen in je Dashboard.",en:"You can change this in your Dashboard."},BLOG_OVERVIEW_DESCRIPTION_2_GUEST:{nl:"<strong>Log in</strong> om te reageren op mijn blog posts.",en:"Please <strong>login</strong> to reply on my blog posts."},BLOG_OVERVIEW_DESCRIPTION_3:{nl:"Op dit moment zijn maximaal 20 reacties toegestaan. Je kunt je reacties ook verwijderen.",en:"Currently 20 reactions per post are allowed. You can also delete your comments."},BLOG_OVERVIEW_LATEST_TITLE:{nl:"Laatste blogpost",en:"Latest blogpost"},BLOG_OVERVIEW_BUTTON_PUBLIC:{nl:"Openbare Posts",en:"Public Posts"},BLOG_OVERVIEW_BUTTON_PRIVATE:{nl:"Priv Posts",en:"Private Posts"},BLOG_OVERVIEW_BUTTON_CREATE:{nl:"Nieuwe Post",en:"New Post"},BLOG_OVERVIEW_BUTTON_LOAD_MORE:{nl:"Laad meer posts",en:"Load more posts"},BLOG_DETAILS_BACK:{nl:"Terug naar alle posts",en:"Back to other posts"},GAMES_OVERVIEW_TITLE:{nl:"Speel mijn spellen!",en:"Play my games!"},GAMES_OVERVIEW_WELCOME_TITLE:{nl:"Welkom op de Spellenpagina.",en:"Welcome to the Games Overview."},GAMES_OVERVIEW_WELCOME_SUBTITLE:{nl:"Kies een spel:",en:"Choose a game:"},GAMES_GAME_TEASER:{nl:"Speel nu! Met of zonder account.",en:"Play now! With OR without an account."},GAMES_GAME_TEASER_SHORT:{nl:"Speel nu!",en:"Play now!"},GAMES_GAME_YAHTZEE_TITLE:"Yahtzee",GAMES_GAME_RAINWORMS_TITLE:{nl:"Regenwormen",en:"Rainworms"},GAMES_GAME_PATIENCE_TITLE:"Patience",GAMES_GAME_HANGMAN_TITLE:{nl:"Galgje",en:"Hangman"},PETS_OVERVIEW_ALL_TITLE:{nl:"Alle Huisdieren",en:"All Pets"},PETS_OVERVIEW_MINE_TITLE:{nl:"Mijn Huisdieren",en:"My Pets"},PETS_OVERVIEW_ALL_SUBTITLE:{nl:"Kijk eens naar al deze huisdieren!",en:"Check out all these pets!"},PETS_OVERVIEW_MINE_SUBTITLE:{nl:"Welkom in jouw huisdieren overzicht!",en:"Welcome to your Pet Overview!"},PETS_OVERVIEW_ALL_BUTTON:{nl:"Bekijk alle huisdieren",en:"View all pets"},PETS_OVERVIEW_MINE_BUTTON:{nl:"Bekijk mijn huisdieren",en:"View my pets"},PETS_OVERVIEW_MINE_BUTTON_ADD:{nl:"Huisdier Toevoegen",en:"Add Pet"},PETS_OVERVIEW_ALL_NONE:{nl:"Je hebt nog geen huisdieren.",en:"There aren't any pets yet."},PETS_OVERVIEW_MINE_NONE:{nl:"Je hebt nog geen huisdieren.",en:"You don't have any pets yet."},PETS_DIALOG_TITLE_ADD:{nl:"Huisdier Toevoegen",en:"Add Pet"},PETS_DIALOG_TITLE_EDIT:{nl:"Huisdier Bewerken",en:"Update Pet"},PETS_DIALOG_SUBTITLE_ADD:{nl:"Houd er rekening mee dat huisdier data zichtbaar is voor alle ingelogde gebruikers.",en:"Keep in mind that pet data is visible to all authenticated users."},PETS_DIALOG_SUBTITLE_EDIT:{nl:"Houd er rekening mee dat huisdier data zichtbaar is voor alle ingelogde gebruikers.",en:"Keep in mind that pet data is visible to all authenticated users."},PETS_DIALOG_DELETE_TITLE:{nl:"Huisdier Verwijderen",en:"Delete Pet"},PETS_DIALOG_DELETE_SUBTITLE:{nl:"Weet je zeker dat je je huisdier wilt verwijderen?",en:"Are you sure you want to delete your pet?"},PETS_PET_TYPE_CAT:{nl:"Kat",en:"Cat"},PETS_PET_TYPE_DOG:{nl:"Hond",en:"Dog"},PETS_PET_TYPE_OTHER:{nl:"Overige",en:"Other"},PETS_PET_OWNER:{nl:"Eigenaar",en:"Owner"},PETS_PET_STATISTICS:{nl:"Statistieken",en:"Statistics"},PETS_PET_LIFE_STAGE:{nl:"Levensstadium",en:"Life stage"},PETS_PET_REQUIRED_ENERGY:{nl:"Benodigde energie per dag",en:"Required energy per day"},PETS_PET_REQUIRED_FOOD:{nl:"Benodigd droogvoer per dag",en:"Required dry food per day"},PETS_PET_FIELD_SECTION_DETAILS:{nl:"Details",en:"Details"},PETS_PET_FIELD_SECTION_HEALTH:{nl:"Gezondheid",en:"Health"},PETS_PET_FIELD_SECTION_WEIGHT_LOG:{nl:"Gewicht Logboek",en:"Weight Log"},PETS_PET_FIELD_NAME:{nl:"Naam",en:"Name"},PETS_PET_FIELD_DATE_OF_BIRTH:{nl:"Geboortedatum",en:"Date of birth"},PETS_PET_FIELD_TYPE:{nl:"Soort",en:"Type"},PETS_PET_FIELD_BREED:{nl:"Ras",en:"Breed"},PETS_PET_FIELD_BREEDSIZE:{nl:"Grootte",en:"Size"},PETS_PET_FIELD_GENDER:{nl:"Geslacht",en:"Gender"},PETS_PET_FIELD_WEIGHT:{nl:"Gewicht",en:"Weight"},PETS_PET_FIELD_INSIDE_CAT:{nl:"Binnenkat",en:"Inside cat"},PETS_PET_FIELD_CASTRATED:{nl:"Gecastreerd of Gesteriliseerd",en:"Castrated or Sterilized"},PETS_PET_FIELD_LAST_VET_VISIT:{nl:"Laatste dierenarts bezoek",en:"Last vet visit"},PETS_PET_FIELD_NEXT_VET_VISIT:{nl:"Volgende dierenarts bezoek",en:"Next vet visit"},PETS_PET_FIELD_LAST_VACCINATION:{nl:"Laatste vaccinatie",en:"Last vaccination"},PETS_PET_FIELD_NEXT_VACCINATION:{nl:"Volgende vaccinatie",en:"Next vaccination"},PETS_PET_FIELD_LAST_DEWORMING:{nl:"Laatste ontworming",en:"Last deworming"},PETS_PET_FIELD_NEXT_DEWORMING:{nl:"Volgende ontworming",en:"Next deworming"},PETS_PET_FIELD_WEIGHT_LOG_DATE:{nl:"Datum",en:"Date"},PETS_PET_FIELD_WEIGHT_LOG_ADD:{nl:"Log toevoegen",en:"Add Log"},PETS_PET_FIELD_AVATAR:{nl:"Profielfoto",en:"Avatar"},PETS_CAT_LIFE_STAGE_KITTEN:{nl:"Kitten",en:"Kitten"},PETS_DOG_LIFE_STAGE_PUPPY:{nl:"Puppy",en:"Puppy"},PETS_PET_LIFE_STAGE_JUNIOR:{nl:"Junior",en:"Junior"},PETS_PET_LIFE_STAGE_ADULT:{nl:"Volwassen",en:"Volwassen"},PETS_PET_LIFE_STAGE_MATURE:{nl:"Volgroeid",en:"Mature"},PETS_PET_LIFE_STAGE_SENIOR:{nl:"Senior",en:"Senior"},PETS_PET_LIFE_STAGE_GERIATRIC:{nl:"Geriatrisch",en:"Geriatric"},PETS_PET_BACK:{nl:"Terug naar alle huisdieren",en:"Back to all pets"},GAMES_PLAY_AGAIN:{nl:"Speel Opnieuw",en:"Play Again"},GAMES_VIEW_HIGHSCORES:{nl:"Bekijk Highscores",en:"View Highscores"},GAMES_VIEW_SCORE:{nl:"Bekijk Jouw Score",en:"View Your Score"},GAMES_LEADERBOARD_ADD:{nl:"Toevoegen aan Scorebord",en:"Add To Leaderboard"},GAMES_DIFFICULTY:{nl:"Moeilijkheid",en:"Difficulty"},TOOLS_TOOL_BACK:{nl:"Terug naar alle Tools",en:"Back to Tools Overview"},GENERAL_YES:{nl:"Ja",en:"Yes"},GENERAL_NO:{nl:"Nee",en:"No"},GENERAL_DIALOG_CONFIRM:{nl:"Opslaan",en:"Confirm"},GENERAL_DIALOG_SAVE:{nl:"Opslaan",en:"Save"},GENERAL_DIALOG_CREATE:{nl:"Aanmaken",en:"Create"},GENERAL_DIALOG_UPDATE:{nl:"Aanpassen",en:"Update"},GENERAL_LOADING:{nl:"Laden",en:"Loading"},GENERAL_BACK:{nl:"Terug",en:"Back"},GENERAL_GO_BACK:{nl:"Ga Terug",en:"Go Back"},GENERAL_EDIT:{nl:"Bewerken",en:"Edit"},GENERAL_DELETE:{nl:"Verwijderen",en:"Delete"},GENERAL_NOTHING:{nl:"Niets om te tonen.",en:"Nothing to show yet."},GENERAL_NOTHING_CHANGED:{nl:"Niets veranderd",en:"Nothing changed"},GENERAL_TIME_MONTHS:{nl:"Maanden",en:"Months"},GENERAL_TIME_YEARS_HALF:{nl:"Halve jaren",en:"Half Years"},GENERAL_TIME_YEARS:{nl:"Jaren",en:"Years"},GENERAL_TIME_YEARS_SINGLE:{nl:"Jaar",en:"Years"},GENERAL_GENDER_MALE:{nl:"Mannelijk",en:"Male"},GENERAL_GENDER_FEMALE:{nl:"Vrouwelijk",en:"Female"},GENERAL_SIZE_SMALL:{nl:"Klein",en:"Small"},GENERAL_SIZE_MEDIUM:{nl:"Medium",en:"Medium"},GENERAL_SIZE_LARGE:{nl:"Groot",en:"Large"},GENERAL_SIZE_GIANT:{nl:"Gigantisch",en:"Giant"},GENERAL_UPDATED:{nl:"aangepast",en:"updated"},GENERAL_PREVIOUS:{nl:"Vorige",en:"Previous"},GENERAL_NEXT:{nl:"Volgende",en:"Next"}},os=Ra("settingsStore",()=>{const t=fe(!0),e=fe(!1),n=fe(kn.NL);return{isOnline:t,debug:e,language:n,toggleLanguage:()=>{n.value===kn.NL?n.value=kn.EN:n.value=kn.NL}}},{persist:{enabled:!0}}),sI={visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},oI={isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},WD=Ra("blogPostStore",()=>{const t=Yd(),e=os(),{debug:n}=ns(e),r={blogPosts:F=>mr(t,F?gn.BLOG_POSTS_PRIVATE:gn.BLOG_POSTS),blogPostsPrivate:mr(t,gn.BLOG_POSTS_PRIVATE),blogReactions:F=>mr(t,F?gn.BLOG_REACTIONS_PRIVATE:gn.BLOG_REACTIONS),files:mr(t,gn.FILES),usersPublic:mr(t,gn.USERS_PUBLIC)},i=Nr({...sI}),s=Nr({...oI}),o=le(()=>[...i.data.public,...i.data.private]),a=le(()=>i.data[i.visibility]),l=le(()=>i.previousData[i.visibility]),u=le(()=>i.isLoading.public.fetch||i.isLoading.private.fetch),c=le(()=>i.isLoading.public.mutation||i.isLoading.private.mutation),h=le(()=>i.isDatabaseCreationActive||i.isDatabaseMutationActive||i.isDatabaseDeletionActive||s.isDatabaseCreationActive||s.isDatabaseDeletionActive),f=()=>{Object.assign(i,sI),Object.assign(s,oI)},p=async(F,B={})=>{const N=B.visibility??i.visibility;B.loadingIndicator!==!1&&(i.isLoading[N].fetch=!0);try{const G=i.data[N][i.data[N].length-1],z=[YE("datePinned","desc"),YE("date","desc")];a.value.length||(i.isLastPage=!1),B.amount?B.loadingIndicator!==!1&&(i.data[N]=[]):G&&z.push(XB(G.datePinned,new Date(G.date))),z.push(QB(B.amount||3));var O=[];N==="private"&&F?O=await Oi(r.blogPostsPrivate,[m0("allowedUserIds","array-contains",ct(t,r.usersPublic.id,F).id),...z]):N==="public"&&(O=await Oi(r.blogPosts(!1),z));const te=await Promise.all(O.map(async he=>await Bi.mapIncoming(he)));if(B.amount)i.data[N]=te;else for(const he of te)i.data[N].push(he);te.length<3&&(i.isLastPage=!0)}catch(G){ke.firebaseError(n.value,G)}finally{i.isLoading[N].fetch=!1}},g=async(F,B,N={})=>{console.log("attempt to fetch single");const O=(B==null?void 0:B.visibility)??"public";N.loadingIndicator!==!1&&(i.isLoading[O].fetch=!0);try{var G=await wi(ct(r.blogPosts(!!(B!=null&&B.isPrivate)),F));return G||(G=await wi(ct(r.blogPostsPrivate,F))),G?(i.data.single=await Bi.mapIncoming(G),i.data.single):null}catch(z){return ke.firebaseError(n.value,z).errorCode??null}finally{i.isLoading[O].fetch=!1}},b=()=>{i.previousData.single=i.data.single,i.previousData[i.visibility]=a.value},E=(F,B)=>{const N=s.unread.length;if(F){let O;if(B?O=i.data.single:O=a.value.find(G=>G.id===F.id),O&&O.reactions.length!==F.reactions.length){const G=O.reactions.filter(z=>!F.reactions.some(te=>te.id===z.id));for(const z of G)s.unread.every(te=>te.id!==z.id)&&s.unread.push(z)}}B&&(N!==s.unread.length&&ke.update("There are unread comments on this page"),b())},k=()=>{const F=s.unread.length;if(l.value.length)for(const B of l.value)E(B);F!==s.unread.length&&ke.update("There are unread comments on this page"),b()},P=async(F,B,N,O={includeTime:!1,fetch:!0})=>{const G=Bo(B);i.isLoading[G.visibility].mutation=!0,i.isDatabaseCreationActive=!0;try{return await mo(ct(t,r.blogPosts(G.isPrivate).id,F),{...B,date:O!=null&&O.includeTime?Ut.fromDate(B.date):Ut.now(),dateUpdated:O!=null&&O.includeTime&&B.dateUpdated?Ut.fromDate(B.dateUpdated):null,countdown:B.countdown?Ut.fromDate(B.countdown):null,timer:B.timer?Ut.fromDate(B.timer):null}),i.visibility=G.visibility,O!=null&&O.fetch&&p(N,{amount:a.value.length+1}),ke.success("Successfully created Post"),!0}catch(z){return ke.firebaseError(n.value,z),!1}finally{b(),i.isLoading[G.visibility].mutation=!1,i.isDatabaseCreationActive=!1}},T=async(F,B,N,O)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[N.visibility].mutation=!0;const G=r.blogPosts(N.isPrivate).id;let z="";if(Bi.Content.instanceOf(B)&&(await si(ct(t,G,F),{...Bi.Content.convert(B),dateUpdated:Ut.now()}),z="content"),Bi.Styling.instanceOf(B)&&(await si(ct(t,G,F),{...Bi.Styling.convert(B)}),z="styling"),Bi.Settings.instanceOf(B)&&(await si(ct(t,G,F),{...Bi.Settings.convert(B)}),z="settings"),z==="content"||z==="styling"){let te=await g(F,N);s1(te)&&(te=null),i.data[N.visibility]=i.data[N.visibility].map(he=>he.id===(te==null?void 0:te.id)?te:he)}else p(O,{amount:i.data[N.visibility].length});return z}catch(G){ke.firebaseError(n.value,G)}finally{b(),i.isLoading[N.visibility].mutation=!1,i.isDatabaseMutationActive=!1}},y=async(F,B,N,O,G)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[O].mutation=!0;const z=o.value.find(te=>te.id===F);if(await M(F,{includeFiles:!1,includeReactions:!1}),z&&await P(F,B,G,{includeTime:!0,fetch:!1})){let te;do i.data[O]=[],await p(G,{visibility:O}),te=o.value.find(he=>he.id===F);while(!te);if(i.visibility=O,te){for(const he of N)await S(he.id,z,{mutatePost:!1,fetch:!1})||ke.error("Failed to delete old Reaction",{debug:n.value}),await L(te,up.convert(he),{includeTime:!0,fetch:!1})||ke.error("Failed to re-create Reaction",{debug:n.value});for(const he of w(z)){const Z=lI(he);await U(Z.name,te)||ke.error("Failed to move Image",{debug:n.value})}return p(G,{amount:a.value.length}),!0}else return ke.error("Failed to re-create Post",{debug:n.value}),!1}else return ke.error("Failed to re-create Post",{debug:n.value}),!1}catch(z){return ke.firebaseError(n.value,z),!1}finally{b(),i.isLoading[O].mutation=!1,i.isDatabaseMutationActive=!1}},M=async(F,B={includeFiles:!0,includeReactions:!0})=>{try{i.isDatabaseDeletionActive=!0;const N=o.value.find(O=>O.id===F);if(N){B.includeReactions&&await I(N),B.includeFiles&&await j(N);const O=Bo(N);return await Xo(ct(t,r.blogPosts(O.isPrivate).id,F)),i.data[O.visibility]=i.data[O.visibility].filter(G=>G.id!==F),ke.success("Successfully deleted Post"),!0}return!1}catch(N){return ke.firebaseError(n.value,N),!1}finally{b(),i.isDatabaseDeletionActive=!1}},L=async(F,B,N={includeTime:!1,fetch:!0})=>{try{s.isDatabaseCreationActive=!0;const O=Bo(F),G=ct(t,r.blogPosts(O.isPrivate).id,F.id),z=await wi(G);if(z){const te=await $8(r.blogReactions(O.isPrivate),{user:ct(t,r.usersPublic.id,B.userId),message:B.message,date:N!=null&&N.includeTime?Ut.fromDate(B.date):Ut.now(),post:G});if(await si(ct(t,r.blogPosts(O.isPrivate).id,z.id),{reactions:[...z.reactions??[],te]}),N!=null&&N.fetch){let he=await g(z.id,O,{loadingIndicator:!1});s1(he)&&(he=null),i.data[O.visibility]=i.data[O.visibility].map(Z=>Z.id===z.id?he??Z:Z)}return ke.success("Successfully created Reaction"),!0}return!1}catch(O){return ke.firebaseError(n.value,O),!1}finally{b(),s.isDatabaseCreationActive=!1}},S=async(F,B,N={mutatePost:!0,fetch:!0})=>{var O;try{s.isDatabaseDeletionActive=!0;const G=Bo(B);if(N.mutatePost){const z=ct(t,r.blogPosts(G.isPrivate).id,B.id),te=await wi(z);te&&await si(z,{reactions:((O=te.reactions)==null?void 0:O.filter(he=>he.id!==F))??[]})}return await Xo(ct(t,r.blogReactions(G.isPrivate).id,F)),N!=null&&N.fetch&&(B.reactions=B.reactions.filter(z=>z.id!==F),i.data[G.visibility]=i.data[G.visibility].map(z=>z.id===B.id?B:z)),ke.success("Successfully deleted Reaction"),!0}catch(G){return ke.firebaseError(n.value,G),!1}finally{b(),s.isDatabaseDeletionActive=!1}},I=async F=>{try{s.isDatabaseDeletionActive=!0;const B=Bo(F),N=(F==null?void 0:F.reactions)??[];for(const O of N)await Xo(ct(t,r.blogReactions(B.isPrivate).id,O.id));return N.length&&ke.success(`Successfully deleted ${N.length} Reaction${N.length!==1?"s":""}`),!0}catch(B){return ke.firebaseError(n.value,B),!1}finally{b(),s.isDatabaseDeletionActive=!1}},w=(F,B)=>{var O,G;const N=[];if(F.coverImageUrl&&(!B||!B.coverImageUrl)&&N.push(F.coverImageUrl),F.sections.length)for(const[z,te]of F.sections.entries()){const he=(G=(O=B==null?void 0:B.sections)==null?void 0:O[z])==null?void 0:G.coverImageUrl,Z=te.coverImageUrl;Z&&(!B||!he)&&N.push(Z)}return N},v=async F=>{try{return await wi(ct(t,r.files.path,F))}catch(B){return ke.firebaseError(n.value,B),null}},A=async(F,B,N,O,G,z,te)=>await R(F.name,O,G,z,te)&&await C(F,B,N),C=async(F,B,N)=>{try{const O=g5(F,B);return O.on("state_changed",G=>{const z=G.bytesTransferred/G.totalBytes*100;N(z)}),await O,ke.success("Successfully uploaded File"),!0}catch(O){return ke.firebaseError(n.value,O),!1}},R=async(F,B,N,O,G)=>{try{let z;if(G){const te=Bo(G);z=ct(t,r.blogPosts(te.isPrivate).id,G.id)}return await mo(ct(t,r.files.path,F),{name:B,owner:N,post:z??null,public:O??!1}),!0}catch(z){return ke.firebaseError(n.value,z),!1}},U=async(F,B)=>{try{let N;if(B){const O=Bo(B);N=ct(t,r.blogPosts(O.isPrivate).id,B.id)}return await si(ct(t,r.files.path,F),{post:N??null}),!0}catch(N){return ke.firebaseError(n.value,N),!1}},$=async(F,B=!1)=>{try{return await Xo(ct(t,r.files.path,F.name)),await v5(F),B||ke.success("Successfully deleted File"),!0}catch(N){return ke.firebaseError(n.value,N),!1}},j=async(F,B)=>{try{const N=w(F,B);for(const O of N)await $(lI(O),!0);return N.length&&ke.success(`Successfully deleted ${N.length} File${N.length!==1?"s":""}`),!0}catch(N){return ke.firebaseError(n.value,N),!1}};return{collections:r,blogPosts:i,blogReactions:s,allBlogPosts:o,visibleBlogPosts:a,previousVisibleBlogPosts:l,isBlogPostsFetchLoading:u,isBlogPostsMutationLoading:c,isBlogPostDatabaseActionActive:h,$reset:f,fetchBlogPosts:p,fetchBlogPost:g,setPreviousBlogPosts:b,checkBlogPostForUnreadReactions:E,checkBlogPostsForUnreadReactions:k,createBlogPost:P,updateBlogPost:T,toggleBlogPostVisibility:y,deleteBlogPost:M,createBlogReaction:L,deleteBlogReaction:S,deleteBlogReactionsOfBlogPost:I,getFilesOfPost:w,fetchFileInfo:v,uploadFile:A,createFile:C,createFileInfo:R,updateFileInfo:U,deleteFile:$,deleteFilesOfBlogPost:j}},{persist:{enabled:!0}}),qD=Ra("userStore",()=>{const t=Yd(),e=os(),{debug:n}=ns(e),r=Pk(),i={users:mr(t,gn.USERS),usersPublic:mr(t,gn.USERS_PUBLIC),usersOnline:mr(t,gn.USERS_ONLINE)},s=fe(null),o=fe(null),a=fe([]),l=fe([]),u=fe([]),c=fe([]),h=fe(!1),f=le(()=>E(o.value,s.value,u.value.find(U=>{var $;return U.id===(($=s.value)==null?void 0:$.id)}))),p=le(()=>u.value.filter(U=>ob(new Date(U.lastOnline))<=60));In(()=>[l.value,a.value,u.value],()=>{c.value=l.value.map(U=>{if(f.value&&f.value.id===U.id)return f.value;const $=a.value.find(F=>F.id===U.id),j=u.value.find(F=>F.id===U.id);return E(U,$,j)}).filter(U=>U!==null).sort((U,$)=>{try{const j=U.lastOnline?new Date(U.lastOnline).getTime():0;return($.lastOnline?new Date($.lastOnline).getTime():0)-j}catch{return 0}})});const g=()=>{a.value=[],l.value=[],u.value=[]},b=()=>{s.value=null,o.value=null},E=(U,$,j)=>U?{...$,...U??{displayName:"Anonymous"},lastOnline:(j==null?void 0:j.lastOnline)??null}:null,k=async()=>{if(!r.value)return;o.value=await wi(ct(t,i.usersPublic.id,r.value.uid));const U=await wi(ct(t,i.users.id,r.value.uid));U!=null&&(s.value=await Ic.mapIncoming(U))},P=async()=>{try{const U=await Oi(i.users);a.value=await Promise.all(U.map(async $=>await Ic.mapIncoming($)))}catch(U){return ke.firebaseError(n.value,U),null}},T=async()=>{try{l.value=await Oi(i.usersPublic)}catch(U){return ke.firebaseError(n.value,U),null}},y=async U=>{try{return await wi(ct(t,i.usersPublic.id,U))}catch($){return ke.firebaseError(n.value,$),null}};return{currentUser:s,publicUser:o,combinedUser:f,users:a,publicUsers:l,onlineUsersInfo:u,onlineUsers:p,combinedUsers:c,isMutationLoading:h,$reset:g,$resetCurrentUser:b,fetchUser:k,fetchUsers:P,fetchPublicUsers:T,fetchPublicUser:y,allowedPublicUsers:async U=>{try{return(await Promise.all(U.map(async j=>{const F=await y(j);return F?{...F,displayName:F.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},fetchOnlineUsers:async()=>{try{const U=await Oi(i.usersOnline);u.value=await Promise.all(U.map(Ey.mapIncoming))}catch{return null}},createUser:async(U,$)=>{try{h.value=!0,await mo(ct(t,i.users.id,U),{firstName:$,createdAt:new Date})}catch(j){ke.firebaseError(n.value,j)}finally{h.value=!1}},updateUser:async U=>{try{if(!r.value)return;h.value=!0,s.value&&(Ec(Ic.convert(s.value),U)?ke.warning("Nothing changed in your details"):(await si(ct(t,i.users.id,r.value.uid),{firstName:U.firstName,lastName:U.lastName}),await k(),ke.success("Successfully updated your profile")))}catch($){ke.firebaseError(n.value,$)}finally{h.value=!1}},updateUserLastLogin:async()=>{try{if(!r.value)return;await si(ct(t,i.users.id,r.value.uid),{lastLogin:new Date})}catch(U){ke.firebaseError(n.value,U)}},updatePublicUser:async U=>{try{h.value=!0,r.value&&o.value?Ec(o.value,U)?ke.warning("Nothing changed in your public profile"):(await si(ct(t,i.usersPublic.id,o.value.id),{displayName:U.displayName,avatar:U.avatar}),await k(),ke.success("Successfully updated your public profile")):r.value?(await mo(ct(t,i.usersPublic.id,r.value.uid),{displayName:U.displayName,avatar:U.avatar}),await k(),ke.success("Successfully updated your public profile")):ke.firebaseError(n.value)}catch($){ke.firebaseError(n.value,$)}finally{h.value=!1}},updateOnlineUser:async()=>{try{if(!r.value)return;const U=ct(t,i.usersOnline.id,r.value.uid);(await ER(U)).exists()?await si(U,{lastOnline:Ut.now()}):await mo(U,{lastOnline:Ut.now()})}catch{return null}},deleteOnlineUser:async()=>{r.value&&await Xo(ct(t,i.usersOnline.id,r.value.uid))},deleteUser:async()=>{r.value&&await Xo(ct(t,i.users.id,r.value.uid))}}},{persist:{enabled:!0}}),N8=Ra("petStore",()=>{const t=Yd(),e=id(),n=os(),{firebaseUser:r}=ns(e),{debug:i}=ns(n),s={pets:mr(t,gn.PETS)},o=fe([]),a=fe(!1),l=fe(!1),u=le(()=>o.value.filter(E=>{var k;return E.userId===((k=r.value)==null?void 0:k.uid)})),c=le(()=>o.value.filter(E=>{var k;return E.userId!==((k=r.value)==null?void 0:k.uid)})),h=le(()=>a.value?o.value:u.value),f=()=>{o.value=[]},p=async(E=!1)=>{var P;const k=(P=r.value)==null?void 0:P.uid;if(k){const T=await Oi(mr(t,gn.PETS),E?void 0:[m0("userId","==",k)]);o.value=await Promise.all(T.map(async y=>await Iy.mapIncoming(y)))}};return{pets:o,viewAllPets:a,isMutationLoading:l,myPets:u,notMyPets:c,visiblePets:h,$reset:f,fetchPets:p,mutatePet:async(E,k)=>{if(r.value)try{if(l.value=!0,r.value){const P={userId:r.value.uid,name:E.name,avatar:E.avatar,dateOfBirth:E.dateOfBirth,type:E.type,breed:E.breed,breedSize:E.breedSize,gender:E.gender,weight:E.weight,insideCat:E.insideCat,castrated:E.castrated,dewormingDate:E.dewormingDate,vetDate:E.vetDate,lastVaccinationDate:E.lastVaccinationDate,nextVaccinationDate:E.nextVaccinationDate,weightLog:E.weightLog};k?(await si(ct(s.pets,k),P),ke.success("Successfully updated your Pet")):(await mo(ct(s.pets),P),ke.success("Successfully updated your Pet")),await p()}}catch(P){ke.firebaseError(i.value,P)}finally{l.value=!1}},deletePet:async E=>{try{l.value=!0;const k=o.value.find(P=>P.id===E);k&&(await Xo(ct(s.pets,E)),o.value=o.value.filter(P=>P.id!==k.id),ke.success("Successfully deleted your Pet"))}catch(k){ke.firebaseError(i.value,k)}finally{l.value=!1}}}},{persist:{enabled:!0}}),ib=Ra("mainStore",()=>{const t=Yd(),e=id(),n=qD(),r=N8(),i=WD(),s=os(),{debug:o,isOnline:a}=ns(s),{isLoggedIn:l}=ns(e),{fetchPublicUsers:u,fetchUsers:c}=n,{fetchBlogPosts:h}=i,{fetchPets:f}=r,p={projects:mr(t,gn.PROJECTS),menuItems:C=>mr(t,C?gn.MENU_ITEMS_PRIVATE:gn.MENU_ITEMS),menuItemsPrivate:mr(t,gn.MENU_ITEMS_PRIVATE),usersPublic:mr(t,gn.USERS_PUBLIC)},g=fe(cI),b=fe(q8),E=fe(!1),k=fe(null),P=fe(null),T=le(()=>b.value.filter(C=>!C.loading)),y=le(()=>g.value.filter(C=>!C.loading)),M=le(()=>g.value.filter(C=>!C.invisible&&(!C.authenticated||l.value))),L=()=>{g.value=cI},S=()=>{L(),n.$reset(),i.$reset(),r.$reset()},I=async(C,R)=>{try{E.value||(E.value=!0,console.log("attempt to fetch all"),(o.value||a.value&&(!y.value.length||R))&&(console.log("fetch all"),S(),await Promise.all([A(C),w(),h(C),u(),f(!0)]),e.isOwner&&await c()))}catch(U){ke.firebaseError(o.value,U)}finally{E.value=!1}},w=async()=>{try{const C=await Promise.all((await Oi(p.projects)).map(async R=>({...R,technologies:await Promise.all(R.technologies.map(async U=>await wi(U)))})));b.value=C.length?uI(C):b.value}catch(C){ke.firebaseError(o.value,C)}},v=(C,R)=>{const U=b.value.splice(C,1)[0];b.value.splice(R,0,U)},A=async C=>{try{let R=await Oi(p.menuItems());if(C)try{R=R.concat(await Oi(p.menuItemsPrivate,[m0("allowedUserIds","array-contains",ct(t,p.usersPublic.id,C).id)]))}catch{}return g.value=R.length?uI(R):g.value,g.value}catch(R){ke.firebaseError(o.value,R)}};return{menuItems:g,projects:b,isFetchAllLoading:E,routeLoading:k,routeLoadingId:P,filteredProjects:T,filteredMenuItems:y,visibleMenuItems:M,fetchAll:I,fetchProjects:w,moveProject:v,fetchMenuItems:A}},{persist:{enabled:!0}}),id=Ra("authStore",()=>{const t=R8(),e=ib(),n=qD(),r=WD(),i=os(),s=Pk(),{$resetCurrentUser:o,fetchUser:a,createUser:l,updateUserLastLogin:u,updatePublicUser:c,deleteOnlineUser:h,deleteUser:f}=n,{debug:p}=ns(i);t.onAuthStateChanged(async v=>{await P(),o(),a(),e.filteredMenuItems.length,r.$patch({blogPosts:{...r.blogPosts,data:{...r.blogPosts.data,private:[]}}}),e.fetchAll(v==null?void 0:v.uid,!0)});const g=fe(!1),b=fe(!1),E=le(()=>!!s.value),k=le(()=>{var v;return((v=s.value)==null?void 0:v.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}),P=async()=>{s.value=await kk()};return{firebaseUser:s,isLoggedIn:E,isLoginLoading:g,isLogoutLoading:b,isOwner:k,login:async(v,A)=>{try{g.value=!0;const{user:C}=await Sj(t,v,A);await P(),await u(),await a(),e.fetchAll(C.uid,!0),ke.success("Successfully logged in",{route:Rn.DASHBOARD})}catch(C){ke.firebaseError(p.value,C)}finally{g.value=!1}},register:async(v,A,C)=>{try{g.value=!0;const{user:R}=await Ij(t,v,A);await l(R.uid,C),await P(),await c({displayName:"Anonymous",avatar:""}),await a(),ke.success("Successfully created your account",{route:Rn.DASHBOARD})}catch(R){ke.firebaseError(p.value,R)}finally{g.value=!1}},updateMail:async(v,A)=>{try{if(g.value=!0,s.value&&s.value.email){const C=Ao.credential(s.value.email,A);await m1(s.value,C),await P(),await Aj(s.value,v),ke.success("Successfully changed your e-mail")}}catch(C){ke.firebaseError(p.value,C)}finally{g.value=!1}},updatePassword:async(v,A)=>{try{if(g.value=!0,s.value&&s.value.email){const C=Ao.credential(s.value.email,A);await m1(s.value,C),await Cj(s.value,v),ke.success("Successfully changed your password")}}catch(C){ke.firebaseError(p.value,C)}finally{g.value=!1}},resetPassword:async v=>{try{await Ej(t,v),ke.success("Successfully requested password reset")}catch(A){ke.firebaseError(!1,A)}},updateUserLastLogin:u,logout:async()=>{try{b.value=!0,await Pj(t),e.fetchAll(void 0,!0),ke.success("Successfully logged out",{route:Rn.HOME})}catch(v){ke.firebaseError(p.value,v)}finally{b.value=!1}},deleteAccount:async()=>{try{b.value=!0,s.value&&(await h(),await f(),await Rj(s.value),ke.success("Successfully deleted your account",{route:Rn.HOME}))}catch(v){ke.firebaseError(p.value,v)}finally{b.value=!1}}}},{persist:{enabled:!0}});var x8=(t=>(t.YAHTZEE="yahtzee",t.RAINWORMS="rainworms",t.PATIENCE="patience",t.GUESS_THE_WORD="guess",t))(x8||{});const Uh=()=>({gameData:{highscores:[],scores:[]},previousPersonalBest:null,previousHighscorePosition:null}),aI=()=>({yahtzee:Uh(),rainworms:Uh(),patience:Uh(),guess:Uh()}),M8=Ra("gameStore",()=>{const t=Yd(),e=id(),{firebaseUser:n}=ns(e),r=fe(null),i=fe(!0),s=fe(1.5),o=fe(!1),a=Nr(aI()),l={highscores:y=>mr(t,gn.GAME_DATA,y,gn.HIGHSCORES),scores:y=>mr(t,gn.GAME_DATA,y,gn.SCORES)},u=le(()=>{var L,S;const y=(L=n.value)==null?void 0:L.uid;return!y||!r.value?0:((S=a[r.value].gameData.highscores.find(I=>I.id===y))==null?void 0:S.score)??0}),c=le(()=>{var S;const y=(S=n.value)==null?void 0:S.uid;return!y||!r.value?0:a[r.value].gameData.highscores.findIndex(I=>I.id===y)+1}),h=y=>{r.value=y},f=()=>{Object.assign(a,aI())},p=(y=!1)=>{if(n.value&&r.value){const M=a[r.value];(!y||M.previousPersonalBest===null)&&(M.previousPersonalBest=u.value),(!y||M.previousHighscorePosition===null)&&(M.previousHighscorePosition=c.value)}},g=async()=>{await b(),await E()},b=async()=>{try{if(!r.value)return;o.value=!0;const y=await Oi(l.highscores(r.value));a[r.value].gameData.highscores=await Promise.all(y.map(cp.Highscore.mapIncoming)),T("highscores"),p(!0)}catch(y){ke.firebaseError(!0,y)}finally{o.value=!1}},E=async()=>{try{if(!r.value)return;o.value=!0;const y=await Oi(l.scores(r.value));a[r.value].gameData.scores=await Promise.all(y.map(cp.Highscore.mapIncoming)),T("scores")}catch(y){ke.firebaseError(!0,y)}finally{o.value=!1}},k=async y=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L||!r.value)return!1;if(y.score){await P(y),await b();const S=a[r.value].gameData,I=S.highscores.find(w=>w.id===L);if(!I||I.score<y.score){p();const w={score:y.score,userId:L,date:new Date,bonus:(y==null?void 0:y.bonus)??null,turns:(y==null?void 0:y.turns)??null,time:(y==null?void 0:y.time)??null,penalty:(y==null?void 0:y.penalty)??null,difficulty:(y==null?void 0:y.difficulty)??null},v={id:L,...w},A=ct(l.highscores(r.value),L);if(I){try{await si(A,w)}catch(C){console.log(C)}Object.assign(I,v)}else await mo(A,w),S.highscores.push({...v,date:w.date.toString()});return T("highscores"),!0}}return!1}catch(L){return ke.firebaseError(!0,L),!1}},P=async y=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L||!r.value)return!1;const S=a[r.value].gameData,I={score:y.score,userId:L,date:new Date,bonus:(y==null?void 0:y.bonus)??null,turns:(y==null?void 0:y.turns)??null,time:(y==null?void 0:y.time)??null,penalty:(y==null?void 0:y.penalty)??null,difficulty:(y==null?void 0:y.difficulty)??null},w=ct(l.scores(r.value));return await mo(w,I),S.scores.push({id:w.id,...I,date:I.date.toString()}),T("scores"),!0}catch(L){return ke.firebaseError(!0,L),!1}},T=y=>{r.value&&a[r.value].gameData[y].sort((M,L)=>L.score-M.score)};return{gameId:r,useAudio:i,diceRollSpeed:s,fetchLoading:o,allGameData:a,personalBest:u,highscorePosition:c,$init:h,$reset:f,setPreviousHighscores:p,fetchGameData:g,fetchHighscores:b,fetchScores:E,updateHighscores:k,sortHighscores:T}},{persist:{enabled:!0}}),L8=1e3,V8=L8*60,F8=V8*60,sb=F8*24,Ty=sb*365,zD=async t=>{const e=await ER(t),n=e.data();return n?{id:e.id,...n}:null},Oi=async(t,e)=>{const n=await t9(e?YB(t,...e):t);return Promise.all(n.docs.map(r=>zD(r.ref)))},wi=zD,$8=s9,mo=n9,si=r9,Xo=i9,lI=t=>y5(_5(),t),uI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),Vre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},Ec=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!Ec(a,o[l])||o.some((u,c)=>!Ec(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!Ec(r,i))return!1}else if(r!==i)return!1}return!0},ob=t=>Math.round((Date.now()-t.getTime())/1e3),Fre=t=>U8(new Date(t)),GD={month:"long",day:"numeric"},KD={year:"numeric",month:"long",day:"numeric"},U8=t=>new Date().getTime()-t.getTime()>0?B8(t):j8(t),B8=t=>{const{language:e}=ns(os());try{const n=ob(t);if(n<30)return e.value===kn.NL?"Nu":"Now";if(n<60)return e.value===kn.NL?`${n} second${n!==1?"en":"e"} geleden`:`${n} second${n!==1?"s":""} ago`;if(n<60*60){const r=Math.floor(n/60);return e.value===kn.NL?`${r} ${r!==1?"minuten":"minuut"} geleden`:`${r} minute${r!==1?"s":""} ago`}else if(n<60*60*24){const r=Math.floor(n/3600);return e.value===kn.NL?`${r} uur geleden`:`${r} hour${r!==1?"s":""} ago`}else{if(n<60*60*24*2)return e.value===kn.NL?"Gisteren":"Yesterday";{const r=new Date,o=(r.getTime()-t.getTime())%Ty/sb,a=e.value===kn.NL?"nl-NL":"en-GB",l=t.toLocaleDateString(a,t.getFullYear()>=r.getFullYear()?GD:KD);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(a,u)}else return l}}}catch{return e.value===kn.NL?"Onbekend":"Unknown"}},j8=t=>{const{language:e}=ns(os());try{const n=ob(t)*-1;if(n<30)return e.value===kn.NL?"Nu":"Now";if(n<60)return e.value===kn.NL?`Over ${n} second${n!==1?"en":"e"}`:`In ${n} second${n!==1?"s":""}`;if(n<60*60){const r=Math.floor(n/60);return e.value===kn.NL?`Over ${r} ${r!==1?"minuten":"minuut"}`:`In ${r} minute${r!==1?"s":""}`}else if(n<60*60*24){const r=Math.floor(n/3600);return e.value===kn.NL?`Over ${r} uur`:`In ${r} hour${r!==1?"s":""}`}else{if(n<60*60*24*2)return e.value===kn.NL?"Morgen":"Tomorrow";{const r=new Date,i=t.getTime()-r.getTime(),s=i/Ty,a=i%Ty/sb,l=e.value===kn.NL?"nl-NL":"en-GB",u=t.toLocaleDateString(l,s<=1?GD:KD);if(a<=7){const c={weekday:"long"};return t.toLocaleDateString(l,c)}else return u}}}catch{return e.value===kn.NL?"Onbekend":"Unknown"}},$re=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},Ure=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},Bre=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Bo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},jre=t=>Array.isArray(t)?t:[t],Hre=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Wre=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),qre=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},zre=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},H8=()=>C5(),Gre=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},Kre=t=>{let e=t.length;for(;e!=0;){let n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}},Yre={value:new Audio("/sounds/applause-and-cheer.mp3"),startTime:0},YD={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},QD={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};YD.value.preload="auto";QD.value.preload="auto";const Qre=t=>{const{useAudio:e}=M8();if(!e)return;[YD,QD].forEach(r=>{r.value!==t.value&&(r.value.pause(),r.value.currentTime=r.startTime)}),t.value.currentTime=t.startTime,t.value.play()},W8="Sander Derks",q8=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],cI=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],Xre=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Bi;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",date:e.date.toDate().toString(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate().toString())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate().toString())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await wi(l)))??[])).map(async l=>up.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??H8(),subTitle:l.subTitle??"",alignment:l.alignment??"center",tableAlignment:l.tableAlignment??"left",countdown:((u=l.countdown)==null?void 0:u.toDate().toString())??null,timer:((c=l.timer)==null?void 0:c.toDate().toString())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??"",openByDefault:l.openByDefault??!1}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate().toString())??null,timer:((a=e.timer)==null?void 0:a.toDate().toString())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",sections:e.sections.map(n=>({...n,countdown:n.countdown?new Date(n.countdown):null,timer:n.timer?new Date(n.timer):null}))??[],date:new Date(e.date),dateUpdated:e.dateUpdated?new Date(e.dateUpdated):null,datePinned:e.datePinned?new Date(e.datePinned):null,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown?new Date(e.countdown):null,timer:e.timer?new Date(e.timer):null,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,tableAlignment:n.tableAlignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","tableAlignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Bi||(Bi={}));var up;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await wi(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate().toString()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:new Date(e.date)})})(up||(up={}));var Ic;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate().toString(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate().toString()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(Ic||(Ic={}));var dI;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(dI||(dI={}));var Ey;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate().toString()})})(Ey||(Ey={}));const Jre=()=>[{label:Es("PETS_PET_TYPE_CAT"),value:"cat"},{label:Es("PETS_PET_TYPE_DOG"),value:"dog"},{label:Es("PETS_PET_TYPE_OTHER"),value:"other"}],Zre=()=>[{label:Es("GENERAL_GENDER_MALE"),value:"male"},{label:Es("GENERAL_GENDER_FEMALE"),value:"female"}],eie=()=>[{label:Es("GENERAL_SIZE_SMALL"),value:"small"},{label:Es("GENERAL_SIZE_MEDIUM"),value:"medium"},{label:Es("GENERAL_SIZE_LARGE"),value:"large"},{label:Es("GENERAL_SIZE_GIANT"),value:"giant"}];var Iy;(t=>{t.convert=e=>({userId:e.userId,name:e.name,avatar:e.avatar??null,dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth):null,type:e.type??null,breed:e.breed??null,breedSize:e.breedSize??null,gender:e.gender??null,weight:e.weight??null,insideCat:e.insideCat??null,castrated:e.castrated??!1,dewormingDate:e.dewormingDate?new Date(e.dewormingDate):null,vetDate:e.vetDate?new Date(e.vetDate):null,lastVaccinationDate:e.lastVaccinationDate?new Date(e.lastVaccinationDate):null,nextVaccinationDate:e.nextVaccinationDate?new Date(e.nextVaccinationDate):null,weightLog:e.weightLog?e.weightLog.map(n=>({...n,date:new Date(n.date)})):[]}),t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,dateOfBirth:((n=e.dateOfBirth)==null?void 0:n.toDate().toString())??null,dewormingDate:((r=e.dewormingDate)==null?void 0:r.toDate().toString())??null,vetDate:((i=e.vetDate)==null?void 0:i.toDate().toString())??null,lastVaccinationDate:((s=e.lastVaccinationDate)==null?void 0:s.toDate().toString())??null,nextVaccinationDate:((o=e.nextVaccinationDate)==null?void 0:o.toDate().toString())??null,weightLog:((a=e.weightLog)==null?void 0:a.map(l=>({...l,date:l.date.toDate().toString()})))??[]}}})(Iy||(Iy={}));var cp;(t=>{t.mapIncoming=async n=>({...n,highscores:await Promise.all(n.highscores.map(e.mapIncoming)),scores:await Promise.all(n.scores.map(e.mapIncoming))});let e;(n=>{n.mapIncoming=async r=>{var i;return{...r,userId:r.userId??null,date:((i=r.date)==null?void 0:i.toDate().toString())??new Date().toString(),bonus:r.bonus??null,turns:r.turns??null,time:r.time??null,penalty:r.penalty??null,difficulty:r.difficulty??null}}})(e=t.Highscore||(t.Highscore={}))})(cp||(cp={}));const XD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],tie=t=>XD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),nie=XD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),rie=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],hI=()=>Wn(()=>import("./assets/c-Blog-BgdSUHO5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url),z8=()=>Wn(()=>import("./assets/c-Tools-cT8tNekM.js"),__vite__mapDeps([18,2,3,4]),import.meta.url),G8=()=>Wn(()=>import("./assets/c-CatCalc-w8NVq_Hq.js"),__vite__mapDeps([19,2,17,9,8,20]),import.meta.url),K8=()=>Wn(()=>import("./assets/c-CustomVoting-cgYNy5r_.js"),__vite__mapDeps([21,2,3,4,10,11,12,22]),import.meta.url),Y8=()=>Wn(()=>import("./assets/c-Dashboard-h8r1RD7G.js"),__vite__mapDeps([23,2,1,24,8,9,15,3,4]),import.meta.url),Q8=()=>Wn(()=>import("./assets/c-Home-Dy90k4hL.js"),__vite__mapDeps([25,3,2,4,26,27,28,5,6,7,8,9,10,11,12]),import.meta.url),X8=()=>Wn(()=>import("./assets/c-Login-z40Dzrqy.js"),__vite__mapDeps([29,2,24,8,9,3,4]),import.meta.url),J8=()=>Wn(()=>import("./assets/c-NotFound-DqBr9HRU.js"),__vite__mapDeps([30,2,3,4]),import.meta.url),Z8=()=>Wn(()=>import("./assets/c-Pet-gHiD4dGd.js"),__vite__mapDeps([31,2,6,7,1,3,4,20,32,13,14,15,8,9,17,10,16,33]),import.meta.url),eq=()=>Wn(()=>import("./assets/c-Pets-BdRVU1uo.js"),__vite__mapDeps([34,2,3,4,32,1,13,14,15,8,9,17,10,16]),import.meta.url),tq=()=>Wn(()=>import("./assets/c-User-C2EButy5.js"),__vite__mapDeps([35,2,3,4,36]),import.meta.url),nq=()=>Wn(()=>import("./assets/c-Users-B4tqfiL6.js"),__vite__mapDeps([37,2,3,4]),import.meta.url),rq=()=>Wn(()=>import("./assets/c-Register-DYYECs3y.js"),__vite__mapDeps([38,2,24,8,9,3,4]),import.meta.url),iq=()=>Wn(()=>import("./assets/c-Games-D5KVp2K8.js"),__vite__mapDeps([39,2,3,4,40,1,17,9,26,27,28]),import.meta.url),sq=()=>Wn(()=>import("./assets/c-Yahtzee-CyCIVprv.js"),__vite__mapDeps([41,2,28,42,4,43,40,1,17,9,44]),import.meta.url),oq=()=>Wn(()=>import("./assets/c-Rainworms-_avAyYeA.js"),__vite__mapDeps([45,2,42,4,43,40,1,17,9,27]),import.meta.url),aq=()=>Wn(()=>import("./assets/c-Patience-BGrLRDG7.js"),__vite__mapDeps([46,2,40,1,17,9,42,4,43,26,16,47]),import.meta.url),lq=()=>Wn(()=>import("./assets/c-Guess-bNSyZMIC.js"),__vite__mapDeps([48,2,17,9,40,1,42,4,43]),import.meta.url),uq={HOME:{path:"/",meta:{title:"Home"},component:Q8,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Qd.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:X8,beforeEnter:(t,e,n)=>{id().isLoggedIn?n({name:Rn.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:rq,beforeEnter:(t,e,n)=>{id().isLoggedIn?n({name:Rn.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:Y8},PET_OVERVIEW:{path:"/pets",meta:{title:"Pets"},component:eq},PET_DETAILS:{path:"/pets/:petId",meta:{title:"Pet"},component:Z8},USER_OVERVIEW:{path:"/users",meta:{title:"Users"},component:nq},USER_DETAILS:{path:"/users/:userId",meta:{title:"User"},component:tq},BLOG:{path:"/blog",meta:{title:"Blog"},component:hI},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:hI},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:K8},TOOLS:{path:"/tools",meta:{title:"Tools"},component:z8,children:[{name:ol.TOOLS_CAT_CALC,path:"/tools/cat-calc",meta:{title:"CatCalc"},component:G8}]},GAMES:{path:"/games",meta:{title:"Games"},component:iq,children:[{name:ol.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:sq},{name:ol.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:oq},{name:ol.GAMES_PATIENCE,path:"/games/patience",meta:{title:"Patience"},component:aq},{name:ol.HANGMAN,path:"/games/guess",meta:{title:"Hangman"},component:lq}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:J8}},JD=Object.entries(uq).map(([t,e])=>({...e,name:Rn[t]})),Qd=JV({history:OV(),routes:JD,scrollBehavior(t,e,n){return n||((t.name===Rn.LOGIN||t.name===Rn.REGISTER)&&(e.name===Rn.LOGIN||e.name===Rn.REGISTER)?!1:{top:0})}}),fI=W8;Qd.beforeEach(async(t,e,n)=>{var r,i,s;if(t===e)n();else if(!t.name)n({name:Rn.NOT_FOUND});else{const o=t.name,a=ib();if(a.routeLoading=o,a.routeLoadingId=((r=t.params.postId)==null?void 0:r.toString())||((i=t.params.userId)==null?void 0:i.toString())||((s=t.params.petId)==null?void 0:s.toString())||null,[Rn.HOME,Rn.LOGIN,Rn.REGISTER,Rn.DASHBOARD,Rn.NOT_FOUND].includes(o))n();else{const u=await kk(),c=await a.fetchMenuItems(u==null?void 0:u.uid);(c==null?void 0:c.some(f=>f.authenticated&&!u?!1:f.route?o===f.route||JD.some(p=>{var g;return(g=p.children)==null?void 0:g.some(b=>b.name===o)}):f.url?t.path.startsWith(f.url):!1))?n():n({name:Rn.NOT_FOUND})}}});Qd.afterEach(()=>{const t=ib();t.routeLoading=null});Qd.beforeResolve(t=>{document.title=fI+" | "+t.meta.title||fI;const e=UO();BO(e,"screen_view",{screen_name:t.path})});const ZD=Qd;function fi(t){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(t)}function Xe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||fi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ys(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Pi(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function eN(t,e){if(Ve(2,arguments),!e||fi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=ze(t),c=r||n?Pi(u,r+n*12):u,h=s||i?ys(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,b=new Date(h.getTime()+g);return b}function cq(t,e){Ve(2,arguments);var n=ze(t).getTime(),r=Xe(e);return new Date(n+r)}var dq={};function as(){return dq}function Ia(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=as(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function dp(t){return Ve(1,arguments),Ia(t,{weekStartsOn:1})}function hq(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=dp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=dp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function fq(t){Ve(1,arguments);var e=hq(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=dp(n);return r}function hp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function pI(t){Ve(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var pq=864e5;function mq(t,e){Ve(2,arguments);var n=pI(t),r=pI(e),i=n.getTime()-hp(n),s=r.getTime()-hp(r);return Math.round((i-s)/pq)}function gq(t,e){Ve(2,arguments);var n=Xe(e),r=n*3;return Pi(t,r)}function ab(t,e){Ve(2,arguments);var n=Xe(e);return Pi(t,n*12)}var lb=6e4,ub=36e5,vq=1e3;function tN(t){return Ve(1,arguments),t instanceof Date||fi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Sc(t){if(Ve(1,arguments),!tN(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function mI(t){Ve(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function nN(t,e){var n;Ve(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function sd(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function yq(t){Ve(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=sd(n),o=sd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=gq(l,1);return a}function _q(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function bq(t){Ve(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function wq(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=as(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function gI(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function rN(t,e){Ve(2,arguments);var n=Xe(e);return cq(t,-n)}var Tq=864e5;function Eq(t){Ve(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Tq)+1}function Zl(t){Ve(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function iN(t){Ve(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Zl(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Zl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Iq(t){Ve(1,arguments);var e=iN(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Zl(n);return r}var Sq=6048e5;function sN(t){Ve(1,arguments);var e=ze(t),n=Zl(e).getTime()-Iq(e).getTime();return Math.round(n/Sq)+1}function Sa(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=as(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function cb(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=as(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var b=Sa(g,e),E=new Date(0);E.setUTCFullYear(h,0,p),E.setUTCHours(0,0,0,0);var k=Sa(E,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=k.getTime()?h:h-1}function Aq(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=as(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=cb(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=Sa(p,e);return g}var Cq=6048e5;function oN(t,e){Ve(1,arguments);var n=ze(t),r=Sa(n,e).getTime()-Aq(n,e).getTime();return Math.round(r/Cq)+1}function $t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Oq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return $t(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$t(r+1,2)},d:function(e,n){return $t(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $t(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $t(e.getUTCHours(),n.length)},m:function(e,n){return $t(e.getUTCMinutes(),n.length)},s:function(e,n){return $t(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return $t(s,n.length)}};const qs=Oq;var Xa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return qs.y(e,n)},Y:function(e,n,r,i){var s=cb(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return $t(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):$t(o,n.length)},R:function(e,n){var r=iN(e);return $t(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $t(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return $t(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return $t(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return qs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return $t(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=oN(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,n.length)},I:function(e,n,r){var i=sN(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):$t(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):qs.d(e,n)},D:function(e,n,r){var i=Eq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):$t(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return $t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return $t(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return $t(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Xa.noon:i===0?s=Xa.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Xa.evening:i>=12?s=Xa.afternoon:i>=4?s=Xa.morning:s=Xa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return qs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):qs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):qs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):qs.s(e,n)},S:function(e,n){return qs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return yI(o);case"XXXX":case"XX":return Wo(o);case"XXXXX":case"XXX":default:return Wo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return yI(o);case"xxxx":case"xx":return Wo(o);case"xxxxx":case"xxx":default:return Wo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+vI(o,":");case"OOOO":default:return"GMT"+Wo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+vI(o,":");case"zzzz":default:return"GMT"+Wo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return $t(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return $t(o,n.length)}};function vI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+$t(s,2)}function yI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$t(Math.abs(t)/60,2)}return Wo(t,e)}function Wo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=$t(Math.floor(i/60),2),o=$t(i%60,2);return r+s+n+o}var _I=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},aN=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Rq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return _I(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",_I(i,n)).replace("{{time}}",aN(s,n))},Sy={p:aN,P:Rq},kq=["D","DD"],Dq=["YY","YYYY"];function lN(t){return kq.indexOf(t)!==-1}function uN(t){return Dq.indexOf(t)!==-1}function fp(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Nq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xq=function(e,n,r){var i,s=Nq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Mq=xq;function xg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Lq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$q={date:xg({formats:Lq,defaultWidth:"full"}),time:xg({formats:Vq,defaultWidth:"full"}),dateTime:xg({formats:Fq,defaultWidth:"full"})};const Uq=$q;var Bq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jq=function(e,n,r,i){return Bq[e]};const Hq=jq;function ju(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Wq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xq={ordinalNumber:Qq,era:ju({values:Wq,defaultWidth:"wide"}),quarter:ju({values:qq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ju({values:zq,defaultWidth:"wide"}),day:ju({values:Gq,defaultWidth:"wide"}),dayPeriod:ju({values:Kq,defaultWidth:"wide",formattingValues:Yq,defaultFormattingWidth:"wide"})};const Jq=Xq;function Hu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?ez(a,function(h){return h.test(o)}):Zq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Zq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function ez(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function tz(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var nz=/^(\d+)(th|st|nd|rd)?/i,rz=/\d+/i,iz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sz={any:[/^b/i,/^(a|c)/i]},oz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},az={any:[/1/i,/2/i,/3/i,/4/i]},lz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pz={ordinalNumber:tz({matchPattern:nz,parsePattern:rz,valueCallback:function(e){return parseInt(e,10)}}),era:Hu({matchPatterns:iz,defaultMatchWidth:"wide",parsePatterns:sz,defaultParseWidth:"any"}),quarter:Hu({matchPatterns:oz,defaultMatchWidth:"wide",parsePatterns:az,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Hu({matchPatterns:lz,defaultMatchWidth:"wide",parsePatterns:uz,defaultParseWidth:"any"}),day:Hu({matchPatterns:cz,defaultMatchWidth:"wide",parsePatterns:dz,defaultParseWidth:"any"}),dayPeriod:Hu({matchPatterns:hz,defaultMatchWidth:"any",parsePatterns:fz,defaultParseWidth:"any"})};const mz=pz;var gz={code:"en-US",formatDistance:Mq,formatLong:Uq,formatRelative:Hq,localize:Jq,match:mz,options:{weekStartsOn:0,firstWeekContainsDate:1}};const cN=gz;var vz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_z=/^'([^]*?)'?$/,bz=/''/g,wz=/[a-zA-Z]/;function go(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,b,E,k,P,T,y;Ve(2,arguments);var M=String(e),L=as(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:cN,I=Xe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=Xe((p=(g=(b=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(k=n.locale)===null||k===void 0||(P=k.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&b!==void 0?b:L.weekStartsOn)!==null&&g!==void 0?g:(T=L.locale)===null||T===void 0||(y=T.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!Sc(v))throw new RangeError("Invalid time value");var A=hp(v),C=rN(v,A),R={firstWeekContainsDate:I,weekStartsOn:w,locale:S,_originalDate:v},U=M.match(yz).map(function($){var j=$[0];if(j==="p"||j==="P"){var F=Sy[j];return F($,S.formatLong)}return $}).join("").match(vz).map(function($){if($==="''")return"'";var j=$[0];if(j==="'")return Tz($);var F=Pq[j];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&uN($)&&fp($,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&lN($)&&fp($,e,String(t)),F(C,$,S.localize,R);if(j.match(wz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return $}).join("");return U}function Tz(t){var e=t.match(_z);return e?e[1].replace(bz,"'"):t}function Ez(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Iz(t){Ve(1,arguments);var e=ze(t),n=e.getDay();return n}function Sz(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Ri(t){Ve(1,arguments);var e=ze(t),n=e.getHours();return n}var Az=6048e5;function Cz(t){Ve(1,arguments);var e=ze(t),n=dp(e).getTime()-fq(e).getTime();return Math.round(n/Az)+1}function ts(t){Ve(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Et(t){Ve(1,arguments);var e=ze(t),n=e.getMonth();return n}function eu(t){Ve(1,arguments);var e=ze(t),n=e.getSeconds();return n}function Oz(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getFullYear(),f=as(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var b=Ia(g,e),E=new Date(0);E.setFullYear(h,0,p),E.setHours(0,0,0,0);var k=Ia(E,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=k.getTime()?h:h-1}function Pz(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=as(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Oz(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=Ia(p,e);return g}var Rz=6048e5;function kz(t,e){Ve(1,arguments);var n=ze(t),r=Ia(n,e).getTime()-Pz(n,e).getTime();return Math.round(r/Rz)+1}function ut(t){return Ve(1,arguments),ze(t).getFullYear()}function od(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function ad(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function pl(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function bI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Dz(t,e){if(t){if(typeof t=="string")return bI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bI(t,e):void 0}}function wI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Dz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ay(t,e)}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pp(t)}function dN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dN=function(){return!!t})()}function Nz(t,e){if(e&&(fi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(t)}function St(t){var e=dN();return function(){var n,r=pp(t);if(e){var i=pp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nz(this,n)}}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){if(fi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hN(t){var e=xz(t,"string");return fi(e)=="symbol"?e:e+""}function TI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hN(r.key),r)}}function _t(t,e,n){return e&&TI(t.prototype,e),n&&TI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function De(t,e,n){return(e=hN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mz=10,fN=function(){function t(){yt(this,t),De(this,"priority",void 0),De(this,"subPriority",0)}return _t(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Lz=function(t){It(n,t);var e=St(n);function n(r,i,s,o,a){var l;return yt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return _t(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(fN),Vz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",Mz),De(Le(r),"subPriority",-1),r}return _t(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(fN),Nt=function(){function t(){yt(this,t),De(this,"incompatibleTokens",void 0),De(this,"priority",void 0),De(this,"subPriority",void 0)}return _t(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Lz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Fz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",140),De(Le(r),"incompatibleTokens",["R","u","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Tn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function En(t,e){return t&&{value:e(t.value),rest:t.rest}}function hn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function qi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*ub+s*lb+o*vq),rest:e.slice(n[0].length)}}function pN(t){return hn(Tn.anyDigitsSigned,t)}function vn(t,e){switch(t){case 1:return hn(Tn.singleDigit,e);case 2:return hn(Tn.twoDigits,e);case 3:return hn(Tn.threeDigits,e);case 4:return hn(Tn.fourDigits,e);default:return hn(new RegExp("^\\d{1,"+t+"}"),e)}}function mp(t,e){switch(t){case 1:return hn(Tn.singleDigitSigned,e);case 2:return hn(Tn.twoDigitsSigned,e);case 3:return hn(Tn.threeDigitsSigned,e);case 4:return hn(Tn.fourDigitsSigned,e);default:return hn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function db(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function mN(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function gN(t){return t%400===0||t%4===0&&t%100!==0}var $z=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return En(vn(4,i),a);case"yo":return En(o.ordinalNumber(i,{unit:"year"}),a);default:return En(vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=mN(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Uz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return En(vn(4,i),a);case"Yo":return En(o.ordinalNumber(i,{unit:"year"}),a);default:return En(vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=cb(i,a);if(o.isTwoDigitYear){var u=mN(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Sa(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Sa(i,a)}}]),n}(Nt),Bz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return mp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Zl(a)}}]),n}(Nt),jz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return mp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Hz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",120),De(Le(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return vn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Wz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",120),De(Le(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return vn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),qz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),De(Le(r),"priority",110),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return En(hn(Tn.month,i),a);case"MM":return En(vn(2,i),a);case"Mo":return En(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),zz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",110),De(Le(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return En(hn(Tn.month,i),a);case"LL":return En(vn(2,i),a);case"Lo":return En(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt);function Gz(t,e,n){Ve(2,arguments);var r=ze(t),i=Xe(e),s=oN(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Kz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",100),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return hn(Tn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Sa(Gz(i,o,a),a)}}]),n}(Nt);function Yz(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=sN(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Qz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",100),De(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return hn(Tn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Zl(Yz(i,o))}}]),n}(Nt),Xz=[31,28,31,30,31,30,31,31,30,31,30,31],Jz=[31,29,31,30,31,30,31,31,30,31,30,31],Zz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"subPriority",1),De(Le(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return hn(Tn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=gN(o),l=i.getUTCMonth();return a?s>=1&&s<=Jz[l]:s>=1&&s<=Xz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),eG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"subpriority",1),De(Le(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return hn(Tn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=gN(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Nt);function hb(t,e,n){var r,i,s,o,a,l,u,c;Ve(2,arguments);var h=as(),f=Xe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Xe(e),b=p.getUTCDay(),E=g%7,k=(E+7)%7,P=(k<f?7:0)+g-b;return p.setUTCDate(p.getUTCDate()+P),p}var tG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=hb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),nG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return En(vn(s.length,i),l);case"eo":return En(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=hb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),rG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return En(vn(s.length,i),l);case"co":return En(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=hb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Nt);function iG(t,e){Ve(2,arguments);var n=Xe(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var sG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return vn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return En(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return En(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return En(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return En(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=iG(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),oG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(db(o),0,0,0),i}}]),n}(Nt),aG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(db(o),0,0,0),i}}]),n}(Nt),lG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["a","b","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(db(o),0,0,0),i}}]),n}(Nt),uG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return hn(Tn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Nt),cG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return hn(Tn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Nt),dG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return hn(Tn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Nt),hG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return hn(Tn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Nt),fG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",60),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return hn(Tn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Nt),pG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",50),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return hn(Tn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Nt),mG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",30),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return En(vn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Nt),gG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",10),De(Le(r),"incompatibleTokens",["t","T","x"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"X":return qi(Wi.basicOptionalMinutes,i);case"XX":return qi(Wi.basic,i);case"XXXX":return qi(Wi.basicOptionalSeconds,i);case"XXXXX":return qi(Wi.extendedOptionalSeconds,i);case"XXX":default:return qi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Nt),vG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",10),De(Le(r),"incompatibleTokens",["t","T","X"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"x":return qi(Wi.basicOptionalMinutes,i);case"xx":return qi(Wi.basic,i);case"xxxx":return qi(Wi.basicOptionalSeconds,i);case"xxxxx":return qi(Wi.extendedOptionalSeconds,i);case"xxx":default:return qi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Nt),yG=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",40),De(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return pN(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Nt),_G=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",20),De(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return pN(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Nt),bG={G:new Fz,y:new $z,Y:new Uz,R:new Bz,u:new jz,Q:new Hz,q:new Wz,M:new qz,L:new zz,w:new Kz,I:new Qz,d:new Zz,D:new eG,E:new tG,e:new nG,c:new rG,i:new sG,a:new oG,b:new aG,B:new lG,h:new uG,H:new cG,K:new dG,k:new hG,m:new fG,s:new pG,S:new mG,X:new gG,x:new vG,t:new yG,T:new _G},wG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EG=/^'([^]*?)'?$/,IG=/''/g,SG=/\S/,AG=/[a-zA-Z]/;function Cy(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,b,E,k,P,T,y,M;Ve(3,arguments);var L=String(t),S=String(e),I=as(),w=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:I.locale)!==null&&i!==void 0?i:cN;if(!w.match)throw new RangeError("locale must contain match property");var v=Xe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:I.firstWeekContainsDate)!==null&&a!==void 0?a:(f=I.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Xe((g=(b=(E=(k=r==null?void 0:r.weekStartsOn)!==null&&k!==void 0?k:r==null||(P=r.locale)===null||P===void 0||(T=P.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&E!==void 0?E:I.weekStartsOn)!==null&&b!==void 0?b:(y=I.locale)===null||y===void 0||(M=y.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return L===""?ze(n):new Date(NaN);var C={firstWeekContainsDate:v,weekStartsOn:A,locale:w},R=[new Vz],U=S.match(TG).map(function(ie){var X=ie[0];if(X in Sy){var ce=Sy[X];return ce(ie,w.formatLong)}return ie}).join("").match(wG),$=[],j=wI(U),F;try{var B=function(){var X=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&uN(X)&&fp(X,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&lN(X)&&fp(X,S,t);var ce=X[0],be=bG[ce];if(be){var ne=be.incompatibleTokens;if(Array.isArray(ne)){var D=$.find(function(H){return ne.includes(H.token)||H.token===ce});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));$.push({token:ce,fullToken:X});var V=be.run(L,X,w.match,C);if(!V)return{v:new Date(NaN)};R.push(V.setter),L=V.rest}else{if(ce.match(AG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");if(X==="''"?X="'":ce==="'"&&(X=CG(X)),L.indexOf(X)===0)L=L.slice(X.length);else return{v:new Date(NaN)}}};for(j.s();!(F=j.n()).done;){var N=B();if(fi(N)==="object")return N.v}}catch(ie){j.e(ie)}finally{j.f()}if(L.length>0&&SG.test(L))return new Date(NaN);var O=R.map(function(ie){return ie.priority}).sort(function(ie,X){return X-ie}).filter(function(ie,X,ce){return ce.indexOf(ie)===X}).map(function(ie){return R.filter(function(X){return X.priority===ie}).sort(function(X,ce){return ce.subPriority-X.subPriority})}).map(function(ie){return ie[0]}),G=ze(n);if(isNaN(G.getTime()))return new Date(NaN);var z=rN(G,hp(G)),te={},he=wI(O),Z;try{for(he.s();!(Z=he.n()).done;){var W=Z.value;if(!W.validate(z,C))return new Date(NaN);var Q=W.set(z,te,C);Array.isArray(Q)?(z=Q[0],Ez(te,Q[1])):z=Q}}catch(ie){he.e(ie)}finally{he.f()}return z}function CG(t){return t.match(EG)[1].replace(IG,"'")}function EI(t,e){Ve(2,arguments);var n=sd(t),r=sd(e);return n.getTime()===r.getTime()}function OG(t,e){Ve(2,arguments);var n=Xe(e);return ys(t,-n)}function PG(t,e){var n;Ve(1,arguments);var r=Xe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=NG(t),s;if(i.date){var o=xG(i.date,r);s=MG(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=LG(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=VG(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Bh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},RG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,DG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NG(t){var e={},n=t.split(Bh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Bh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Bh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Bh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function xG(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function MG(t,e){if(e===null)return new Date(NaN);var n=t.match(RG);if(!n)return new Date(NaN);var r=!!n[4],i=Wu(n[1]),s=Wu(n[2])-1,o=Wu(n[3]),a=Wu(n[4]),l=Wu(n[5])-1;if(r)return jG(e,a,l)?FG(e,a,l):new Date(NaN);var u=new Date(0);return!UG(e,s,o)||!BG(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Wu(t){return t?parseInt(t):1}function LG(t){var e=t.match(kG);if(!e)return NaN;var n=Mg(e[1]),r=Mg(e[2]),i=Mg(e[3]);return HG(n,r,i)?n*ub+r*lb+i*1e3:NaN}function Mg(t){return t&&parseFloat(t.replace(",","."))||0}function VG(t){if(t==="Z")return 0;var e=t.match(DG);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return WG(r,i)?n*(r*ub+i*lb):NaN}function FG(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var $G=[31,null,31,30,31,30,31,31,30,31,30,31];function vN(t){return t%400===0||t%4===0&&t%100!==0}function UG(t,e,n){return e>=0&&e<=11&&n>=1&&n<=($G[e]||(vN(t)?29:28))}function BG(t,e){return e>=1&&e<=(vN(t)?366:365)}function jG(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function HG(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function WG(t,e){return e>=0&&e<=59}function yN(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Sz(o);return n.setMonth(r,Math.min(s,a)),n}function on(t,e){if(Ve(2,arguments),fi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=yN(n,e.month)),e.date!=null&&n.setDate(Xe(e.date)),e.hours!=null&&n.setHours(Xe(e.hours)),e.minutes!=null&&n.setMinutes(Xe(e.minutes)),e.seconds!=null&&n.setSeconds(Xe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Xe(e.milliseconds)),n)}function _N(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setHours(r),n}function fb(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMilliseconds(r),n}function bN(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMinutes(r),n}function pb(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setSeconds(r),n}function Ki(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function tu(t,e){Ve(2,arguments);var n=Xe(e);return Pi(t,-n)}function qG(t,e){if(Ve(2,arguments),!e||fi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=tu(t,r+n*12),c=OG(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function wN(t,e){Ve(2,arguments);var n=Xe(e);return ab(t,-n)}function _u(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ae("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}_u.compatConfig={MODE:3};function TN(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ae("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}TN.compatConfig={MODE:3};function mb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}mb.compatConfig={MODE:3};function gb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}gb.compatConfig={MODE:3};function vb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ae("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}vb.compatConfig={MODE:3};function yb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}yb.compatConfig={MODE:3};function _b(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}_b.compatConfig={MODE:3};function bb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EN={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(EN);var zG=EN.exports,Oy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Oy,Oy.exports);var GG=Oy.exports;const KG=bb(GG);var Py={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Py,Py.exports);var YG=Py.exports;const II=bb(YG);function QG(t,e){var n=eK(e);return n.formatToParts?JG(n,t):ZG(n,t)}var XG={year:0,month:1,day:2,hour:3,minute:4,second:5};function JG(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=XG[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function ZG(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Lg={};function eK(t){if(!Lg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";Lg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Lg[t]}function wb(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var SI=36e5,tK=6e4,Vg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Tb(t,e,n){var r,i;if(t===""||(r=Vg.timezoneZ.exec(t),r))return 0;var s;if(r=Vg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),AI(s)?-(s*SI):NaN;if(r=Vg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return AI(s,o)?(i=Math.abs(s)*SI+o*tK,s>0?-i:i):NaN}if(iK(t)){e=new Date(e||Date.now());var a=n?e:nK(e),l=Ry(a,t),u=n?l:rK(e,l,t);return-u}return NaN}function nK(t){return wb(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Ry(t,e){var n=QG(t,e),r=wb(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function rK(t,e,n){var r=t.getTime(),i=r-e,s=Ry(new Date(i),n);if(e===s)return e;i-=s-e;var o=Ry(new Date(i),n);return s===o?s:Math.max(s,o)}function AI(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var CI={};function iK(t){if(CI[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),CI[t]=!0,!0}catch{return!1}}var IN=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Fg=36e5,OI=6e4,sK=2,Rr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:IN};function ky(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?sK:KG(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=oK(t),s=aK(i.date,r),o=s.year,a=s.restDateString,l=lK(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=uK(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=Tb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=II(new Date(u+c)),h=II(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function oK(t){var e={},n=Rr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Rr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Rr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function aK(t,e){var n=Rr.YYY[e],r=Rr.YYYYY[e],i;if(i=Rr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Rr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function lK(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Rr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,RI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Rr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return hK(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Rr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return RI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Rr.Www.exec(t),n)return s=parseInt(n[1],10)-1,kI(e,s)?PI(e,s):new Date(NaN);if(n=Rr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return kI(e,s,l)?PI(e,s,l):new Date(NaN)}return null}function uK(t){var e,n,r;if(e=Rr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),$g(n)?n%24*Fg:NaN;if(e=Rr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),$g(n,r)?n%24*Fg+r*OI:NaN;if(e=Rr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return $g(n,r,i)?n%24*Fg+r*OI+i*1e3:NaN}return null}function PI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var cK=[31,28,31,30,31,30,31,31,30,31,30,31],dK=[31,29,31,30,31,30,31,31,30,31,30,31];function SN(t){return t%400===0||t%4===0&&t%100!==0}function RI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=SN(t);if(r&&n>dK[e]||!r&&n>cK[e])return!1}return!0}function hK(t,e){if(e<1)return!1;var n=SN(t);return!(n&&e>366||!n&&e>365)}function kI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function $g(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Dy={exports:{}},Ny={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Ny,Ny.exports);var fK=Ny.exports;(function(t,e){var n=zG.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(fK);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Dy,Dy.exports);var pK=Dy.exports;const mK=bb(pK);function gK(t,e,n){var r=ky(t,n),i=Tb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function vK(t,e,n){if(typeof t=="string"&&!t.match(IN)){var r=mK(n);return r.timeZone=e,ky(t,r)}var i=ky(t,n),s=wb(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=Tb(e,new Date(s));return new Date(s+o)}function DI(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function yK(t){return e=>go(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const _K=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(yK(t))}catch{i=r.map(DI(e))}else i=r.map(DI(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},Eb=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},AN=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=go(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},bK=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Mn=t=>{const e=Y(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},wK=t=>Object.assign({type:"dot"},t),CN=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,gp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Fn=t=>t,NI=t=>t===0?t:!t||isNaN(+t)?null:+t,xI=t=>t===null,TK=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},EK=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},ld=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},nu=(t,e)=>EK(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),vo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},IK=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function SK(t,e){let n=[...document.querySelectorAll(IK())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const AK=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},MI=(t,e,n,r,i)=>{const s=Cy(t,e.slice(0,t.length),new Date);return Sc(s)&&tN(s)?r||i?s:on(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},CK=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return MI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=MI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ye=t=>t?new Date(t):new Date,OK=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},wr=t=>{let e=ye(JSON.parse(JSON.stringify(t)));return e=_N(e,0),e=bN(e,0),e=pb(e,0),e=fb(e,0),e},yo=(t,e,n,r)=>{let i=t?ye(t):ye();return(e||e===0)&&(i=_N(i,+e)),(n||n===0)&&(i=bN(i,+n)),(r||r===0)&&(i=pb(i,+r)),fb(i,0)},Zn=(t,e)=>!t||!e?!1:ad(wr(t),wr(e)),kt=(t,e)=>!t||!e?!1:pl(wr(t),wr(e)),yr=(t,e)=>!t||!e?!1:od(wr(t),wr(e)),bm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?yr(n,t[0])&&Zn(n,t[1]):t!=null&&t[0]&&e?yr(n,t[0])&&Zn(n,e)||Zn(n,t[0])&&yr(n,e):!1,Ti=t=>{const e=on(new Date(t),{date:1});return wr(e)},Ug=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},sa=t=>({hours:Ri(t),minutes:ts(t),seconds:eu(t)}),ON=(t,e)=>{if(e){const n=ut(ye(e));if(n>t)return 12;if(n===t)return Et(ye(e))}},PN=(t,e)=>{if(e){const n=ut(ye(e));return n<t?-1:n===t?Et(ye(e)):void 0}},ru=t=>{if(t)return ut(ye(t))},ki=(t,e)=>e?gK(t,e):t,RN=(t,e)=>e?vK(t,e):t,PK=t=>t instanceof Date?t:PG(t),kN=(t,e)=>{const n=yr(t,e)?e:t,r=yr(e,t)?e:t;return nN({start:n,end:r})},RK=t=>{const e=Pi(t,1);return{month:Et(e),year:ut(e)}},cf=(t,e,n)=>{const r=Ia(ki(t,e),{weekStartsOn:+n}),i=wq(ki(t,e),{weekStartsOn:+n});return[r,i]},DN=(t,e)=>{const n={hours:Ri(ye()),minutes:ts(ye()),seconds:e?eu(ye()):0};return Object.assign(n,t)},ao=(t,e,n)=>[on(ye(t),{date:1}),on(ye(),{month:e,year:n,date:1})],Is=(t,e,n)=>{let r=t?ye(t):ye();return(e||e===0)&&(r=yN(r,e)),n&&(r=Ki(r,n)),r},NN=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Pi(t,1):tu(t,1),o=[Et(s),ut(s)];return i?!DK(...o,e):!kK(...o,n)},kK=(t,e,n)=>Zn(...ao(n,t,e))||kt(...ao(n,t,e)),DK=(t,e,n)=>yr(...ao(n,t,e))||kt(...ao(n,t,e)),xN=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${go(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?go(t[1],s,a):""}`:go(t,s,a)},Ja=t=>{if(t)return null;throw new Error(gp.prop("partial-range"))},jh=(t,e)=>{if(e)return t();throw new Error(gp.prop("range"))},xy=t=>Array.isArray(t)?Sc(t[0])&&(t[1]?Sc(t[1]):!0):t?Sc(t):!1,NK=(t,e)=>on(e??ye(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Bg=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?ad(t,e):od(t,e),s={seconds:0,milliseconds:0};return i||pl(on(t,s),on(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},jg=(t,e,n)=>t?NK(t,e):ye(n??e),LI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=jg(t,r[0],e),a=jg(t,r[1],e);return Bg(r[0],o,n,!!e)&&Bg(r[1],a,n,!!e)&&i}const s=jg(t,r,e);return Bg(r,s,n,!!e)&&i},Hg=t=>on(ye(),sa(t)),xK=(t,e)=>Array.isArray(t)?t.map(n=>ye(n)).filter(n=>ut(ye(n))===e).map(n=>Et(n)):[],MN=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),Ib=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),qu=Nr({menuFocused:!1,shiftKeyInMenu:!1}),LN=()=>{const t=n=>{qu.menuFocused=n},e=n=>{qu.shiftKeyInMenu!==n&&(qu.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:qu.shiftKeyInMenu,menuFocused:qu.menuFocused})),setMenuFocused:t,setShiftKey:e}},en=Nr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Wg=fe(null),Hh=fe(!1),qg=fe(!1),zg=fe(!1),Gg=fe(!1),Sr=fe(0),Kn=fe(0),xo=()=>{const t=le(()=>Hh.value?[...en.selectionGrid,en.actionRow].filter(h=>h.length):qg.value?[...en.timePicker[0],...en.timePicker[1],Gg.value?[]:[Wg.value],en.actionRow].filter(h=>h.length):zg.value?[...en.monthPicker,en.actionRow]:[en.monthYear,...en.calendar,en.time,en.actionRow].filter(h=>h.length)),e=h=>{Sr.value=h?Sr.value+1:Sr.value-1;let f=null;t.value[Kn.value]&&(f=t.value[Kn.value][Sr.value]),f||(Sr.value=h?Sr.value-1:Sr.value+1)},n=h=>{Kn.value===0&&!h||Kn.value===t.value.length&&h||(Kn.value=h?Kn.value+1:Kn.value-1,t.value[Kn.value]?t.value[Kn.value]&&!t.value[Kn.value][Sr.value]&&Sr.value!==0&&(Sr.value=t.value[Kn.value].length-1):Kn.value=h?Kn.value-1:Kn.value+1)},r=h=>{let f=null;t.value[Kn.value]&&(f=t.value[Kn.value][Sr.value]),f?f.focus({preventScroll:!Hh.value}):Sr.value=h?Sr.value-1:Sr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{en[f]=h},u=(h,f)=>{en[f]=h},c=()=>{Sr.value=0,Kn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Wg.value=h},setSelectionGrid:h=>{Hh.value=h,c(),h||(en.selectionGrid=[])},setTimePicker:(h,f=!1)=>{qg.value=h,Gg.value=f,c(),h||(en.timePicker[0]=[],en.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{en.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{en.monthYear=[],en.calendar=[],en.time=[],en.actionRow=[],en.selectionGrid=[],en.timePicker[0]=[],en.timePicker[1]=[],Hh.value=!1,qg.value=!1,Gg.value=!1,zg.value=!1,c(),Wg.value=null},setMonthPicker:h=>{zg.value=h,c()},refSets:en}},VI=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),MK=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),FI=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,LK=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:FI(!1)};const r=e?t:{},i=e?r.count??!0:t,s=FI(i);return Object.assign(n,r,{count:s})},VK=(t,e,n)=>t||(typeof n=="string"?n:e),FK=t=>typeof t=="boolean"?t?VI({}):!1:VI(t),$K=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},UK=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),BK=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),jK=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},HK=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),WK=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ye(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},qK=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Sn=t=>{const e=()=>{const k=t.enableSeconds?":ss":"";return t.is24?`HH:mm${k}`:`hh:mm${k} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=k=>DN(k,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>LK(t.multiCalendars)),o=le(()=>i()),a=le(()=>MK(t.ariaLabels)),l=le(()=>UK(t.filters)),u=le(()=>FK(t.transitions)),c=le(()=>BK(t.actionRow)),h=le(()=>VK(t.previewFormat,t.format,n())),f=le(()=>$K(t.textInput)),p=le(()=>jK(t.inline)),g=le(()=>HK(t.config)),b=le(()=>WK(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),E=le(()=>qK(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:b,defaultedWeekNumbers:E,getDefaultPattern:n,getDefaultStartTime:i}},zK=(t,e,n)=>{const r=fe(),{defaultedTextInput:i,getDefaultPattern:s}=Sn(e),o=fe(""),a=Nc(e,"format");In(r,()=>{t("internal-model-change",r.value)}),In(a,()=>{U()});const l=O=>RN(O,e.timezone),u=O=>ki(O,e.timezone),c=(O,G,z=!1)=>xN(O,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,G??s(),z),h=O=>O?e.modelType?j(O):{hours:Ri(O),minutes:ts(O),seconds:e.enableSeconds?eu(O):0}:null,f=O=>e.modelType?j(O):{month:Et(O),year:ut(O)},p=O=>Array.isArray(O)?e.multiDates?O.map(G=>g(G,Ki(ye(),G))):jh(()=>[Ki(ye(),O[0]),O[1]?Ki(ye(),O[1]):Ja(e.partialRange)],e.range):Ki(ye(),+O),g=(O,G)=>(typeof O=="string"||typeof O=="number")&&e.modelType?$(O):G,b=O=>Array.isArray(O)?[g(O[0],yo(null,+O[0].hours,+O[0].minutes,O[0].seconds)),g(O[1],yo(null,+O[1].hours,+O[1].minutes,O[1].seconds))]:g(O,yo(null,O.hours,O.minutes,O.seconds)),E=O=>Array.isArray(O)?e.multiDates?O.map(G=>g(G,Is(null,+G.month,+G.year))):jh(()=>[g(O[0],Is(null,+O[0].month,+O[0].year)),g(O[1],O[1]?Is(null,+O[1].month,+O[1].year):Ja(e.partialRange))],e.range):g(O,Is(null,+O.month,+O.year)),k=O=>{if(Array.isArray(O))return O.map(G=>$(G));throw new Error(gp.dateArr("multi-dates"))},P=O=>{if(Array.isArray(O))return[ye(O[0]),ye(O[1])];throw new Error(gp.dateArr("week-picker"))},T=O=>e.modelAuto?Array.isArray(O)?[$(O[0]),$(O[1])]:e.autoApply?[$(O)]:[$(O),null]:Array.isArray(O)?jh(()=>[$(O[0]),O[1]?$(O[1]):Ja(e.partialRange)],e.range):$(O),y=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Ja(e.partialRange))},M=()=>{const O=r.value;return[j(O[0]),O[1]?j(O[1]):Ja(e.partialRange)]},L=()=>r.value[1]?M():j(Fn(r.value[0])),S=()=>(r.value||[]).map(O=>j(O)),I=()=>(y(),e.modelAuto?L():e.multiDates?S():Array.isArray(r.value)?jh(()=>M(),e.range):j(Fn(r.value))),w=O=>!O||Array.isArray(O)&&!O.length?null:e.timePicker?b(Fn(O)):e.monthPicker?E(Fn(O)):e.yearPicker?p(Fn(O)):e.multiDates?k(Fn(O)):e.weekPicker?P(Fn(O)):T(Fn(O)),v=O=>{const G=w(O);xy(Fn(G))?(r.value=Fn(G),U()):(r.value=null,o.value="")},A=()=>{const O=G=>go(G,i.value.format);return`${O(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?O(r.value[1]):""}`},C=()=>n.value&&r.value?Array.isArray(r.value)?A():go(r.value,i.value.format):c(r.value),R=()=>r.value?e.multiDates?r.value.map(O=>c(O)).join("; "):i.value.enabled&&typeof i.value.format=="string"?C():c(r.value):"",U=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=R():o.value=e.format(r.value)},$=O=>{if(e.utc){const G=new Date(O);return e.utc==="preserve"?new Date(G.getTime()+G.getTimezoneOffset()*6e4):G}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(O)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Cy(O,s(),new Date):u(Cy(O,e.modelType,new Date)):u(new Date(O))},j=O=>O?e.utc?OK(O,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(O):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(O)):c(l(O),e.modelType,!0):l(O):"",F=(O,G=!1)=>{if(t("update:model-value",O),e.emitTimezone&&G){const z=Array.isArray(O)?O.map(te=>ki(Fn(te)),e.emitTimezone):ki(Fn(O),e.emitTimezone);t("update:model-timezone-value",z)}},B=O=>Array.isArray(r.value)?e.multiDates?r.value.map(G=>O(G)):[O(r.value[0]),r.value[1]?O(r.value[1]):Ja(e.partialRange)]:O(Fn(r.value)),N=O=>F(Fn(B(O)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:U,emitModelValue:()=>(U(),e.monthPicker?N(f):e.timePicker?N(h):e.yearPicker?N(ut):e.weekPicker?F(r.value.map(O=>j(O)),!0):F(I(),!0))}},GK=(t,e)=>{const{defaultedFilters:n}=Sn(t),{validateMonthYearInRange:r}=Fa(t),i=(u,c)=>{let h=u;return n.value.months.includes(Et(h))?(h=c?Pi(u,1):tu(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ut(h))?(h=c?ab(u,1):wN(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=on(new Date,{month:t.month,year:t.year});let f=u?Pi(h,1):tu(h,1);t.disableYearSelect&&(f=Ki(f,t.year));let p=Et(f),g=ut(f);n.value.months.includes(p)&&(f=i(f,u),p=Et(f),g=ut(f)),n.value.years.includes(g)&&(f=s(f,u),g=ut(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=le(()=>u=>NN(on(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var al=(t=>(t.center="center",t.left="left",t.right="right",t))(al||{}),vi=(t=>(t.month="month",t.year="year",t))(vi||{}),qo=(t=>(t.top="top",t.bottom="bottom",t))(qo||{}),oa=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(oa||{}),Hi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Hi||{});const KK=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=fe({}),u=fe(!1),c=fe({top:"0",left:"0"}),h=fe(!1),f=Nc(o,"teleportCenter");In(f,()=>{c.value=JSON.parse(JSON.stringify({})),y()});const p=$=>{if(o.teleport){const j=$.getBoundingClientRect();return{left:j.left+window.scrollX,top:j.top+window.scrollY}}return{top:0,left:0}},g=($,j)=>{c.value.left=`${$+j-l.value.width}px`},b=$=>{c.value.left=`${$}px`},E=($,j)=>{o.position===al.left&&b($),o.position===al.right&&g($,j),o.position===al.center&&(c.value.left=`${$+j/2-l.value.width/2}px`)},k=$=>{const{width:j,height:F}=$.getBoundingClientRect(),{top:B,left:N}=o.altPosition?o.altPosition($):p($);return{top:+B,left:+N,width:j,height:F}},P=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},T=()=>{const $=Mn(n),{top:j,left:F,transform:B}=o.altPosition($);c.value={top:`${j}px`,left:`${F}px`,transform:B??""}},y=($=!0)=>{var j;if(!i.value.enabled){if(f.value)return P();if(o.altPosition!==null)return T();if($){const F=o.teleport?(j=e.value)==null?void 0:j.$el:t.value;F&&(l.value=F.getBoundingClientRect()),s("recalculate-position")}return A()}},M=({inputEl:$,left:j,width:F})=>{window.screen.width>768&&!u.value&&E(j,F),I($)},L=$=>{const{top:j,left:F,height:B,width:N}=k($);c.value.top=`${B+j+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${F+N/2-l.value.width/2}px`),M({inputEl:$,left:F,width:N})},S=$=>{const{top:j,left:F,width:B}=k($);c.value.top=`${j-+o.offset-l.value.height}px`,h.value=!0,M({inputEl:$,left:F,width:B})},I=$=>{if(o.autoPosition){const{left:j,width:F}=k($),{left:B,right:N}=l.value;if(!u.value){if(Math.abs(B)!==Math.abs(N)){if(B<=0)return u.value=!0,b(j);if(N>=document.documentElement.clientWidth)return u.value=!0,g(j,F)}return E(j,F)}}},w=()=>{const $=Mn(n);if($){const{height:j}=l.value,{top:F,height:B}=$.getBoundingClientRect(),N=window.innerHeight-F-B,O=F;return j<=N?qo.bottom:j>N&&j<=O?qo.top:N>=O?qo.bottom:qo.top}return qo.bottom},v=$=>w()===qo.bottom?L($):S($),A=()=>{const $=Mn(n);if($)return o.autoPosition?v($):L($)},C=function($){if($){const j=$.scrollHeight>$.clientHeight,F=window.getComputedStyle($).overflowY.indexOf("hidden")!==-1;return j&&!F}return!0},R=function($){return!$||$===document.body||$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:C($)?$:R($.parentNode)},U=$=>{if($)switch(o.position){case al.left:return{left:0,transform:"translateX(0)"};case al.right:return{left:`${$.width}px`,transform:"translateX(-100%)"};default:return{left:`${$.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:y,getScrollableParent:R,shadowRender:($,j)=>{var F,B,N;const O=document.createElement("div"),G=(F=Mn(n))==null?void 0:F.getBoundingClientRect();O.setAttribute("id","dp--temp-container");const z=(B=r.value)!=null&&B.clientWidth?r.value:document.body;z.append(O);const te=U(G),he=Ll($,{...j,shadow:!0,style:{opacity:0,position:"absolute",...te}},Object.fromEntries(Object.keys(a).filter(Z=>["right-sidebar","left-sidebar"].includes(Z)).map(Z=>[Z,a[Z]])));Uc(he,O),l.value=(N=he.el)==null?void 0:N.getBoundingClientRect(),Uc(null,O),z.removeChild(O)}}},zs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],YK=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],QK={all:()=>zs,monthYear:()=>zs.filter(t=>t.use.includes("month-year")),input:()=>YK,timePicker:()=>zs.filter(t=>t.use.includes("time")),action:()=>zs.filter(t=>t.use.includes("action")),calendar:()=>zs.filter(t=>t.use.includes("calendar")),menu:()=>zs.filter(t=>t.use.includes("menu")),shared:()=>zs.filter(t=>t.use.includes("shared")),yearMode:()=>zs.filter(t=>t.use.includes("year-mode"))},Xr=(t,e,n)=>{const r=[];return QK[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Xd=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Jd=(t,e)=>{const n=ye(ki(new Date,t.timezone)),r=fe([{month:Et(n),year:ut(n)}]),i=Nr({hours:t.range?[Ri(n),Ri(n)]:Ri(n),minutes:t.range?[ts(n),ts(n)]:ts(n),seconds:t.range?[0,0]:0}),s=le({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=le(()=>l=>r.value[l]?r.value[l].month:0),a=le(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},XK=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Sn(e),{isDisabled:i,matchDate:s}=Fa(e),o=fe(null),a=fe(ye(ki(new Date,e.timezone))),l=N=>{!N.current&&e.hideOffsetDates||(o.value=N.value)},u=()=>{o.value=null},c=N=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?N?yr(o.value,t.value[0]):Zn(o.value,t.value[0]):!0,h=(N,O)=>{const G=()=>t.value?O?t.value[0]||null:t.value[1]:null,z=t.value&&Array.isArray(t.value)?G():null;return kt(ye(N.value),z)},f=N=>{const O=Array.isArray(t.value)?t.value[0]:null;return N?!Zn(o.value??null,O):!0},p=(N,O=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!N.current?!1:kt(ye(N.value),t.value[O?0:1]):e.range?h(N,O)&&f(O)||kt(N.value,Array.isArray(t.value)?t.value[0]:null)&&c(O):!1,g=(N,O,G)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?N?!1:G?yr(t.value[0],O.value):Zn(t.value[0],O.value):!1,b=N=>!t.value||e.hideOffsetDates&&!N.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?kt(N.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(O=>kt(O,N.value)):kt(N.value,t.value?t.value:a.value),E=N=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!N.current)return!1;const O=ys(o.value,+e.autoRange),G=cf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?kt(G[1],ye(N.value)):kt(O,ye(N.value))}return!1}return!1},k=N=>{if(e.autoRange||e.weekPicker){if(o.value){const O=ys(o.value,+e.autoRange);if(e.hideOffsetDates&&!N.current)return!1;const G=cf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?yr(N.value,G[0])&&Zn(N.value,G[1]):yr(N.value,o.value)&&Zn(N.value,O)}return!1}return!1},P=N=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!N.current)return!1;const O=cf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?kt(O[0],N.value):kt(o.value,N.value)}return!1}return!1},T=N=>bm(t.value,o.value,N.value),y=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?CN(e.internalModelValue):!0,L=N=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const O=e.range?!p(N)&&!p(N,!1):!0;return!i(N.value)&&!b(N)&&!(!N.current&&e.hideOffsetDates)&&O},S=N=>e.range?e.modelAuto?y()&&b(N):!1:b(N),I=N=>{var O;return r.value?typeof r.value=="function"?r.value(N.value):s(N.value,(O=e.arrMapValues)!=null&&O.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},w=N=>{const O=i(N.value);return O&&(typeof r.value=="function"?!r.value(N.value,O):!r.value.options.highlightDisabled)},v=N=>{var O;return typeof r.value=="function"?r.value(N.value):(O=r.value.weekdays)==null?void 0:O.includes(N.value.getDay())},A=N=>(e.range||e.weekPicker)&&(!(n.value.count>0)||N.current)&&M()&&!(!N.current&&e.hideOffsetDates)&&!b(N)?T(N):!1,C=N=>{const{isRangeStart:O,isRangeEnd:G}=$(N),z=e.range?O||G:!1;return{dp__cell_offset:!N.current,dp__pointer:!e.disabled&&!(!N.current&&e.hideOffsetDates)&&!i(N.value),dp__cell_disabled:i(N.value),dp__cell_highlight:!w(N)&&(I(N)||v(N))&&!S(N)&&!z&&!P(N)&&!(A(N)&&e.weekPicker)&&!G,dp__cell_highlight_active:!w(N)&&(I(N)||v(N))&&S(N),dp__today:!e.noToday&&kt(N.value,a.value)&&N.current}},R=N=>({dp__active_date:S(N),dp__date_hover:L(N)}),U=N=>({...j(N),...F(N),dp__range_between_week:A(N)&&e.weekPicker}),$=N=>{const O=n.value.count>0?N.current&&p(N)&&M():p(N)&&M(),G=n.value.count>0?N.current&&p(N,!1)&&M():p(N,!1)&&M();return{isRangeStart:O,isRangeEnd:G}},j=N=>{const{isRangeStart:O,isRangeEnd:G}=$(N);return{dp__range_start:O,dp__range_end:G,dp__range_between:A(N)&&!e.weekPicker,dp__date_hover_start:g(L(N),N,!0),dp__date_hover_end:g(L(N),N,!1)}},F=N=>({...j(N),dp__cell_auto_range:k(N),dp__cell_auto_range_start:P(N),dp__cell_auto_range_end:E(N)}),B=N=>e.range?e.autoRange?F(N):e.modelAuto?{...R(N),...j(N)}:j(N):e.weekPicker?U(N):R(N);return{setHoverDate:l,clearHoverDate:u,getDayClassData:N=>e.hideOffsetDates&&!N.current?{}:{...C(N),...B(N),[e.dayClass?e.dayClass(N.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Fa=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Sn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const A=wr(s(ye(v))).toISOString(),[C]=A.split("T");return C},s=v=>t.utc==="preserve"?RN(v,r()):ki(v,r()),o=v=>{var A;const C=t.maxDate?yr(v,s(ye(t.maxDate))):!1,R=t.minDate?Zn(v,s(ye(t.minDate))):!1,U=c(s(v),(A=t.arrMapValues)!=null&&A.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),$=e.value.months.map(O=>+O).includes(Et(v)),j=t.disabledWeekDays.length?t.disabledWeekDays.some(O=>+O===Iz(v)):!1,F=f(v),B=ut(v),N=B<+t.yearRange[0]||B>+t.yearRange[1];return!(C||R||U||$||N||j||F)},a=(v,A)=>Zn(...ao(t.minDate,v,A))||kt(...ao(t.minDate,v,A)),l=(v,A)=>yr(...ao(t.maxDate,v,A))||kt(...ao(t.maxDate,v,A)),u=(v,A,C)=>{let R=!1;return t.maxDate&&C&&l(v,A)&&(R=!0),t.minDate&&!C&&a(v,A)&&(R=!0),R},c=(v,A)=>v?A instanceof Map?!!A.get(i(v)):Array.isArray(A)?A.some(C=>kt(s(ye(C)),v)):A?A(ye(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,A,C,R)=>{let U=!1;return R?t.minDate&&t.maxDate?U=u(v,A,C):(t.minDate&&a(v,A)||t.maxDate&&l(v,A))&&(U=!0):U=!0,U},f=v=>{var A,C,R,U,$;return Array.isArray(t.allowedDates)&&!((A=t.allowedDates)!=null&&A.length)?!0:(C=t.arrMapValues)!=null&&C.allowedDates?!c(v,(R=t.arrMapValues)==null?void 0:R.allowedDates):(U=t.allowedDates)!=null&&U.length?!(($=t.allowedDates)!=null&&$.some(j=>kt(wr(j),s(wr(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!nN({start:v[0],end:v[1]}).some(A=>p(A)):!0,b=(v,A,C=0)=>{if(Array.isArray(A)&&A[C]){const R=mq(v,A[C]),U=kN(A[C],v),$=U.length===1?0:U.filter(F=>p(F)).length,j=Math.abs(R)-$;if(t.minRange&&t.maxRange)return j>=+t.minRange&&j<=+t.maxRange;if(t.minRange)return j>=+t.minRange;if(t.maxRange)return j<=+t.maxRange}return!0},E=v=>new Map(v.map(A=>[i(A),!0])),k=v=>Array.isArray(v)&&v.length>0,P=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return k(t.allowedDates)&&(v.allowedDates=E(t.allowedDates)),typeof n.value!="function"&&k(n.value.dates)&&(v.highlightedDates=E(n.value.dates)),k(t.disabledDates)&&(v.disabledDates=E(t.disabledDates)),v},T=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,y=v=>Array.isArray(v)?[v[0]?Hg(v[0]):null,v[1]?Hg(v[1]):null]:Hg(v),M=(v,A,C)=>v.find(R=>+R.hours===Ri(A)&&R.minutes==="*"?!0:+R.minutes===ts(A)&&+R.hours===Ri(A))&&C,L=(v,A,C)=>{const[R,U]=v,[$,j]=A;return!M(R,$,C)&&!M(U,j,C)&&C},S=(v,A)=>{const C=Array.isArray(A)?A:[A];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,C,v):!C.some(R=>M(t.disabledTimes,R,v)):v},I=(v,A)=>{const C=Array.isArray(A)?[sa(A[0]),A[1]?sa(A[1]):void 0]:sa(A),R=!t.disabledTimes(C);return v&&R},w=(v,A)=>t.disabledTimes?Array.isArray(t.disabledTimes)?S(A,v):I(A,v):A;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:b,matchDate:c,mapDatesArrToMap:P,isValidTime:v=>{let A=!0;if(!v||T())return!0;const C=!t.minDate&&!t.maxDate?y(v):v;return(t.maxTime||t.maxDate)&&(A=LI(t.maxTime,t.maxDate,"max",Fn(C),A)),(t.minTime||t.minDate)&&(A=LI(t.minTime,t.minDate,"min",Fn(C),A)),w(v,A)}}},wm=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},JK=(t,e,n)=>{const r=fe(0),i=Nr({[oa.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[oa.calendar]:!1,[oa.header]:!1}),s=le(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Hi.month,"toggleMonthPicker",!0),u(Hi.year,"toggleYearPicker",!0),u(Hi.calendar,"toggleTimePicker",!1,!0),u(Hi.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Hi.hours||h===Hi.minutes||h===Hi.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Tm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Vi={...Tm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},ZK={key:1,class:"dp__input_wrap"},eY=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],tY={key:2,class:"dp__clear_icon"},nY=Kt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Tm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Sn(i),{checkMinMaxRange:h}=Fa(i),f=fe(),p=fe(null),g=fe(!1),b=fe(!1),E=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),k=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},P=U=>{const $=c();return CK(U,s.value.format??u(),$??DN({},i.enableSeconds),i.inputValue,b.value)},T=U=>{const{rangeSeparator:$}=s.value,[j,F]=U.split(`${$}`);if(j){const B=P(j.trim()),N=F?P(F.trim()):null,O=B&&N?[B,N]:[B];h(N,O,0)&&(f.value=B?O:null)}},y=()=>{b.value=!0},M=U=>{if(i.range)T(U);else if(i.multiDates){const $=U.split(";");f.value=$.map(j=>P(j.trim())).filter(j=>j)}else f.value=P(U)},L=U=>{var $;const j=typeof U=="string"?U:($=U.target)==null?void 0:$.value;j!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M(j),r("set-input-date",f.value)):k(),b.value=!1,r("update:input-value",j)},S=U=>{s.value.enabled?(M(U.target.value),s.value.enterSubmit&&xy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(U)},I=U=>{s.value.enabled&&s.value.tabSubmit&&M(U.target.value),s.value.tabSubmit&&xy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},w=()=>{var U;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((U=p.value)==null||U.select())},v=U=>{U.preventDefault(),vo(U,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},A=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},C=U=>{vo(U,l.value,!0),r("clear")},R=U=>{if(!s.value.enabled){if(U.code==="Tab")return;U.preventDefault()}};return e({focusInput:()=>{var U;(U=p.value)==null||U.focus({preventScroll:!0})},setParsedDate:U=>{f.value=U}}),(U,$)=>{var j;return q(),ee("div",{onClick:v},[U.$slots.trigger&&!U.$slots["dp-input"]&&!Y(a).enabled?_e(U.$slots,"trigger",{key:0}):de("",!0),!U.$slots.trigger&&(!Y(a).enabled||Y(a).input)?(q(),ee("div",ZK,[U.$slots["dp-input"]&&!U.$slots.trigger&&!Y(a).enabled?_e(U.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:S,onTab:I,onClear:C,onBlur:A,onKeypress:R,onPaste:y,openMenu:()=>U.$emit("open"),closeMenu:()=>U.$emit("close"),toggleMenu:()=>U.$emit("toggle")}):de("",!0),U.$slots["dp-input"]?de("",!0):(q(),ee("input",{key:1,id:U.uid?`dp-input-${U.uid}`:void 0,ref_key:"inputRef",ref:p,name:U.name,class:tt(E.value),inputmode:Y(s).enabled?"text":"none",placeholder:U.placeholder,disabled:U.disabled,readonly:U.readonly,required:U.required,value:t.inputValue,autocomplete:U.autocomplete,"aria-label":(j=Y(o))==null?void 0:j.input,"aria-disabled":U.disabled||void 0,"aria-invalid":U.state===!1?!0:void 0,onInput:L,onKeydown:[at(S,["enter"]),at(I,["tab"]),R],onBlur:A,onFocus:w,onKeypress:R,onPaste:y},null,42,eY)),Ae("div",{onClick:$[2]||($[2]=F=>r("toggle"))},[U.$slots["input-icon"]&&!U.hideInputIcon?(q(),ee("span",{key:0,class:"dp__input_icon",onClick:$[0]||($[0]=F=>r("toggle"))},[_e(U.$slots,"input-icon")])):de("",!0),!U.$slots["input-icon"]&&!U.hideInputIcon&&!U.$slots["dp-input"]?(q(),qe(Y(_u),{key:1,class:"dp__input_icon dp__input_icons",onClick:$[1]||($[1]=F=>r("toggle"))})):de("",!0)]),U.$slots["clear-icon"]&&t.inputValue&&U.clearable&&!U.disabled&&!U.readonly?(q(),ee("span",tY,[_e(U.$slots,"clear-icon",{clear:C})])):de("",!0),U.clearable&&!U.$slots["clear-icon"]&&t.inputValue&&!U.disabled&&!U.readonly?(q(),qe(Y(TN),{key:3,class:"dp__clear_icon dp__input_icons",onClick:$[3]||($[3]=Lt(F=>C(F),["prevent"]))})):de("",!0)])):de("",!0)])}}}),rY=["title"],iY={class:"dp__action_buttons"},sY=["disabled"],oY=Kt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Vi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Sn(r),{isValidTime:c}=Fa(r),{buildMatrix:h}=xo(),f=fe(null),p=fe(null);yn(()=>{r.arrowNavigation&&h([Mn(f),Mn(p)],"actionRow")});const g=le(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),b=le(()=>!E.value||!k.value||!g.value),E=le(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),k=le(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!I(v)).length:I(r.internalModelValue):!0),P=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Fn(r.internalModelValue))},T=()=>{const v=r.internalModelValue;return o.value.count>0?`${y(v[0])} - ${y(v[1])}`:[y(v[0]),y(v[1])]},y=v=>xN(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?T():r.multiDates?r.internalModelValue.map(v=>`${y(v)}`):r.modelAuto?`${y(r.internalModelValue[0])}`:`${y(r.internalModelValue[0])} -`:y(r.internalModelValue):P()),L=()=>r.multiDates?"; ":" - ",S=le(()=>Array.isArray(M.value)?M.value.join(L()):M.value),I=v=>{if(!r.monthPicker)return!0;let A=!0;const C=ye(Ti(v));if(r.minDate&&r.maxDate){const R=ye(Ti(r.minDate)),U=ye(Ti(r.maxDate));return yr(C,R)&&Zn(C,U)||kt(C,R)||kt(C,U)}if(r.minDate){const R=ye(Ti(r.minDate));A=yr(C,R)||kt(C,R)}if(r.maxDate){const R=ye(Ti(r.maxDate));A=Zn(C,R)||kt(C,R)}return A},w=()=>{E.value&&k.value&&g.value?n("select-date"):n("invalid-select")};return(v,A)=>(q(),ee("div",{class:"dp__action_row",style:kr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?_e(v.$slots,"action-row",wn(pe({key:0},{internalModelValue:v.internalModelValue,disabled:b.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(q(),ee(Me,{key:1},[Y(i).showPreview?(q(),ee("div",{key:0,class:"dp__selection_preview",title:S.value},[v.$slots["action-preview"]?_e(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-preview"]?de("",!0):(q(),ee(Me,{key:1},[Nn(ht(S.value),1)],64))],8,rY)):de("",!0),Ae("div",iY,[v.$slots["action-buttons"]?_e(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-buttons"]?de("",!0):(q(),ee(Me,{key:1},[!Y(l).enabled&&Y(i).showCancel?(q(),ee("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[0]||(A[0]=C=>v.$emit("close-picker")),onKeydown:[A[1]||(A[1]=at(C=>v.$emit("close-picker"),["enter"])),A[2]||(A[2]=at(C=>v.$emit("close-picker"),["space"]))]},ht(v.cancelText),545)):de("",!0),Y(i).showNow?(q(),ee("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[3]||(A[3]=C=>v.$emit("select-now")),onKeydown:[A[4]||(A[4]=at(C=>v.$emit("select-now"),["enter"])),A[5]||(A[5]=at(C=>v.$emit("select-now"),["space"]))]},ht(v.nowButtonLabel),545)):de("",!0),Y(i).showSelect?(q(),ee("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:b.value,onKeydown:[at(w,["enter"]),at(w,["space"])],onClick:w},ht(v.selectText),41,sY)):de("",!0)],64))])],64))],4))}}),aY=["onKeydown"],lY={class:"dp__selection_grid_header"},uY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],cY=["aria-label"],Zd=Kt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=xo(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Sn(a),{hideNavigationButtons:h}=wm(),f=fe(!1),p=fe(null),g=fe(null),b=fe([]),E=fe(),k=fe(null),P=fe(0),T=fe(null);u_(()=>{p.value=null}),yn(()=>{Hn().then(()=>A()),a.noOverlayFocus||M(),y(!0)}),Oa(()=>y(!1));const y=N=>{var O;a.arrowNavigation&&((O=a.headerRefs)!=null&&O.length?s(N):r(N))},M=()=>{var N;const O=Mn(g);O&&(u.value.enabled||(p.value?(N=p.value)==null||N.focus({preventScroll:!0}):O.focus({preventScroll:!0})),f.value=O.clientHeight<O.scrollHeight)},L=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),S=le(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),I=le(()=>({dp__overlay_col:!0})),w=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=le(()=>{var N,O;return{dp__overlay_container:!0,dp__container_flex:((N=a.items)==null?void 0:N.length)<=6,dp__container_block:((O=a.items)==null?void 0:O.length)>6}});In(()=>a.items,()=>A(),{deep:!0});const A=()=>{Hn().then(()=>{const N=Mn(p),O=Mn(g),G=Mn(k),z=Mn(T),te=G?G.getBoundingClientRect().height:0;O&&(O.getBoundingClientRect().height?P.value=O.getBoundingClientRect().height-te:P.value=c.value.modeHeight-te),N&&z&&(z.scrollTop=N.offsetTop-z.offsetTop-(P.value/2-N.getBoundingClientRect().height)-te)})},C=N=>{N.disabled||o("selected",N.value)},R=()=>{o("toggle"),o("reset-flow")},U=()=>{a.escClose&&R()},$=(N,O,G,z)=>{N&&((O.active||O.value===a.focusValue)&&(p.value=N),a.arrowNavigation&&(Array.isArray(b.value[G])?b.value[G][z]=N:b.value[G]=[N],j()))},j=()=>{var N,O;const G=(N=a.headerRefs)!=null&&N.length?[a.headerRefs].concat(b.value):b.value.concat([a.skipButtonRef?[]:[k.value]]);i(Fn(G),(O=a.headerRefs)!=null&&O.length?"monthPicker":"selectionGrid")},F=N=>{a.arrowNavigation||vo(N,c.value,!0)},B=N=>{E.value=N,o("hover-value",N)};return e({focusGrid:M}),(N,O)=>{var G;return q(),ee("div",{ref_key:"gridWrapRef",ref:g,class:tt(L.value),style:kr(S.value),role:"dialog",tabindex:"0",onKeydown:[at(Lt(U,["prevent"]),["esc"]),O[0]||(O[0]=at(Lt(z=>F(z),["prevent"]),["left"])),O[1]||(O[1]=at(Lt(z=>F(z),["prevent"]),["up"])),O[2]||(O[2]=at(Lt(z=>F(z),["prevent"]),["down"])),O[3]||(O[3]=at(Lt(z=>F(z),["prevent"]),["right"]))]},[Ae("div",{ref_key:"containerRef",ref:T,class:tt(v.value),role:"grid",style:kr({height:`${P.value}px`})},[Ae("div",lY,[_e(N.$slots,"header")]),N.$slots.overlay?_e(N.$slots,"overlay",{key:0}):(q(!0),ee(Me,{key:1},Ft(N.items,(z,te)=>(q(),ee("div",{key:te,class:tt(["dp__overlay_row",{dp__flex_row:N.items.length>=3}]),role:"row"},[(q(!0),ee(Me,null,Ft(z,(he,Z)=>(q(),ee("div",{key:he.value,ref_for:!0,ref:W=>$(W,he,te,Z),role:"gridcell",class:tt(I.value),"aria-selected":he.active,"aria-disabled":he.disabled||void 0,tabindex:"0",onClick:W=>C(he),onKeydown:[at(Lt(W=>C(he),["prevent"]),["enter"]),at(Lt(W=>C(he),["prevent"]),["space"])],onMouseover:W=>B(he.value)},[Ae("div",{class:tt(he.className)},[N.$slots.item?_e(N.$slots,"item",{key:0,item:he}):de("",!0),N.$slots.item?de("",!0):(q(),ee(Me,{key:1},[Nn(ht(he.text),1)],64))],2)],42,uY))),128))],2))),128))],6),N.$slots["button-icon"]?Zo((q(),ee("button",{key:0,ref_key:"toggleButton",ref:k,type:"button","aria-label":(G=Y(l))==null?void 0:G.toggleOverlay,class:tt(w.value),tabindex:"0",onClick:R,onKeydown:[at(R,["enter"]),at(R,["tab"])]},[_e(N.$slots,"button-icon")],42,cY)),[[uc,!Y(h)(N.hideNavigation,N.type)]]):de("",!0)],46,aY)}}}),Em=Kt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(q(),ee("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(q(!0),ee(Me,null,Ft(n.value,(o,a)=>(q(),ee("div",{key:o,class:tt(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),dY=["aria-label","aria-disabled"],Ac=Kt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=fe(null);return yn(()=>n("set-ref",r)),(i,s)=>(q(),ee("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Lt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Lt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ae("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,dY))}}),hY={class:"dp--year-mode-picker"},fY=["aria-label"],VN=Kt({__name:"YearModePicker",props:{...Vi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=wm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Sn(r),{showTransition:c,transitionName:h}=Xd(u),f=(b=!1,E)=>{n("toggle-year-picker",{flow:b,show:E})},p=b=>{n("year-select",b)},g=(b=!1)=>{n("handle-year",b)};return(b,E)=>{var k,P,T;return q(),ee("div",hY,[Y(s)(Y(a),t.instance)?(q(),qe(Ac,{key:0,ref:"mpPrevIconRef","aria-label":(k=Y(l))==null?void 0:k.prevYear,disabled:t.isDisabled(!1),onActivate:E[0]||(E[0]=y=>g(!1))},{default:Qe(()=>[b.$slots["arrow-left"]?_e(b.$slots,"arrow-left",{key:0}):de("",!0),b.$slots["arrow-left"]?de("",!0):(q(),qe(Y(mb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ae("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(P=Y(l))==null?void 0:P.openYearsOverlay,onClick:E[1]||(E[1]=()=>f(!1)),onKeydown:E[2]||(E[2]=at(()=>f(!1),["enter"]))},[b.$slots.year?_e(b.$slots,"year",{key:0,year:t.year}):de("",!0),b.$slots.year?de("",!0):(q(),ee(Me,{key:1},[Nn(ht(t.year),1)],64))],40,fY),Y(i)(Y(a),t.instance)?(q(),qe(Ac,{key:1,ref:"mpNextIconRef","aria-label":(T=Y(l))==null?void 0:T.nextYear,disabled:t.isDisabled(!0),onActivate:E[3]||(E[3]=y=>g(!0))},{default:Qe(()=>[b.$slots["arrow-right"]?_e(b.$slots,"arrow-right",{key:0}):de("",!0),b.$slots["arrow-right"]?de("",!0):(q(),qe(Y(gb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),et(Ro,{name:Y(h)(t.showYearPicker),css:Y(c)},{default:Qe(()=>[t.showYearPicker?(q(),qe(Zd,{key:0,items:t.items,"text-input":b.textInput,"esc-close":b.escClose,config:b.config,"is-last":b.autoApply&&!Y(o).keepActionRow,"hide-navigation":b.hideNavigation,type:"year",onToggle:f,onSelected:E[4]||(E[4]=y=>p(y))},tr({"button-icon":Qe(()=>[b.$slots["calendar-icon"]?_e(b.$slots,"calendar-icon",{key:0}):de("",!0),b.$slots["calendar-icon"]?de("",!0):(q(),qe(Y(_u),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:y})=>[_e(b.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):de("",!0)]),_:3},8,["name","css"])])}}}),Sb=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>kt(t,r))){const r=e.value.filter(i=>!kt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Ab=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Zn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Im=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},FN=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>ki(ye(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=ki(ye(t.value),t.timezone))},$N=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=le(()=>Eb(i.yearRange,i.reverseYears)),u=fe([!1]),c=le(()=>(y,M)=>{const L=on(Ti(new Date),{month:o.value(y),year:s.value(y)});return NN(L,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),h=()=>{for(let y=0;y<t.value.count;y++)if(y===0)n.value[y]=n.value[0];else{const M=on(ye(),n.value[y-1]);n.value[y]={month:Et(M),year:ut(ab(M,1))}}},f=y=>{if(!y)return h();const M=on(ye(),n.value[y]);return n.value[0].year=ut(wN(M,t.value.count-1)),h()},p=y=>i.focusStartDate?y[0]:y[1]?y[1]:y[0],g=()=>{if(r.value){const y=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Et(y),year:ut(y)}}};yn(()=>{g(),t.value.count&&h()});const b=(y,M)=>{n.value[M].year=y,t.value.count&&!t.value.solo&&f(M)},E=le(()=>y=>nu(l.value,M=>{const L=s.value(y)===M.value,S=ld(M.value,ru(i.minDate),ru(i.maxDate)),I=Ib(e.value,M.value);return{active:L,disabled:S,highlighted:I}})),k=(y,M)=>{b(y,M),T(M)},P=(y,M=!1)=>{if(!c.value(y,M)){const L=M?s.value(y)+1:s.value(y)-1;b(L,y)}},T=(y,M=!1,L)=>{M||a("reset-flow"),L!==void 0?u.value[y]=L:u.value[y]=!u.value[y],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:E,showYearPicker:u,selectYear:b,toggleYearPicker:T,handleYearSelect:k,handleYear:P}},pY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Sn(t),{modelValue:a,year:l,month:u,calendars:c}=Jd(t,e),h=le(()=>AN(t.formatLocale,t.locale,t.monthNameFormat)),f=fe(null),{selectYear:p,groupedYears:g,showYearPicker:b,toggleYearPicker:E,handleYearSelect:k,handleYear:P,isDisabled:T}=$N({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});yn(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ut(ye(t.startDate)),0)});const y=F=>F?{month:Et(F),year:ut(F)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(F=>y(F)):y(a.value):y(),L=(F,B)=>{const N=c.value[F],O=M();return Array.isArray(O)?O.some(G=>G.year===(N==null?void 0:N.year)&&G.month===B):(N==null?void 0:N.year)===O.year&&B===O.month},S=(F,B,N)=>{var O,G;const z=M();return Array.isArray(z)?l.value(B)===((O=z[N])==null?void 0:O.year)&&F===((G=z[N])==null?void 0:G.month):!1},I=(F,B)=>{if(t.range){const N=M();if(Array.isArray(a.value)&&Array.isArray(N)){const O=S(F,B,0)||S(F,B,1),G=Is(Ti(ye()),F,l.value(B));return bm(a.value,f.value,G)&&!O}return!1}return!1},w=le(()=>F=>nu(h.value,B=>{const N=L(F,B.value),O=ld(B.value,ON(l.value(F),t.minDate),PN(l.value(F),t.maxDate))||xK(t.disabledDates,l.value(F)).includes(B.value),G=I(B.value,F),z=MN(o.value,B.value,l.value(F));return{active:N,disabled:O,isBetween:G,highlighted:z}})),v=(F,B)=>Is(Ti(ye()),F,l.value(B)),A=(F,B)=>{const N=a.value?a.value:Ti(new Date);a.value=Is(N,F,l.value(B)),e("auto-apply")},C=(F,B)=>{const N=Ab(a,v(F,B),e);Im(N,e,t.autoApply,t.modelAuto)},R=(F,B)=>{Sb(v(F,B),a,t.multiDatesLimit),e("auto-apply",!0)},U=(F,B)=>(c.value[B].month=F,j(B,c.value[B].year,F),t.multiDates?R(F,B):t.range?C(F,B):A(F,B)),$=(F,B)=>{p(F,B),j(B,F,null)},j=(F,B,N)=>{let O=N;if(!O&&O!==0){const G=M();O=Array.isArray(G)?G[F].month:G.month}e("update-month-year",{instance:F,year:B,month:O})};return{groupedMonths:w,groupedYears:g,year:l,isDisabled:T,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:b,modelValue:a,presetDate:(F,B)=>{FN({value:F,modelValue:a,range:t.range,timezone:B?void 0:t.timezone}),e("auto-apply")},setHoverDate:(F,B)=>{f.value=v(F,B)},selectMonth:U,selectYear:$,toggleYearPicker:E,handleYearSelect:k,handleYear:P,getModelMonthYear:M}},mY=Kt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Vi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Pa(),s=Xr(i,"yearMode"),o=t;yn(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:b,setHoverDate:E,selectMonth:k,selectYear:P,toggleYearPicker:T,handleYearSelect:y,handleYear:M,getModelMonthYear:L}=pY(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:L,selectMonth:k,selectYear:P,handleYear:M}),presetDate:b,toggleYearPicker:S=>T(0,S)}),(S,I)=>(q(),qe(Em,{"multi-calendars":Y(h).count,stretch:""},{default:Qe(({instance:w})=>[S.$slots["month-year"]?_e(S.$slots,"month-year",wn(pe({key:0},{year:Y(u),months:Y(a)(w),years:Y(l)(w),selectMonth:Y(k),selectYear:Y(P),instance:w}))):(q(),qe(Zd,{key:1,items:Y(a)(w),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!Y(f).keepActionRow,"esc-close":S.escClose,height:Y(f).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:v=>Y(k)(v,w),onHoverValue:v=>Y(E)(v,w)},{header:Qe(()=>[et(VN,pe(S.$props,{items:Y(l)(w),instance:w,"show-year-picker":Y(p)[w],year:Y(u)(w),"is-disabled":v=>Y(c)(w,v),onHandleYear:v=>Y(M)(w,v),onYearSelect:v=>Y(y)(v,w),onToggleYearPicker:v=>Y(T)(w,v==null?void 0:v.flow,v==null?void 0:v.show)}),tr({_:2},[Ft(Y(s),(v,A)=>({name:v,fn:Qe(C=>[_e(S.$slots,v,wn(er(C)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),gY=(t,e)=>{const{modelValue:n}=Jd(t,e),r=fe(null),{defaultedHighlight:i,defaultedFilters:s}=Sn(t),o=fe();yn(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ut(ye(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ut(f)===h):n.value?ut(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?bm(n.value,r.value,c(h)):!1,u=le(()=>nu(Eb(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=ld(h.value,ru(t.minDate),ru(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,b=Ib(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:b}})),c=h=>Ki(Ti(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=Ki(Ti(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ut(p))).includes(h)?n.value=n.value.filter(p=>ut(p)!==h):n.value.push(Ki(wr(ye()),h))):n.value=[Ki(wr(ye()),h)],e("auto-apply",!0);if(t.range){const p=Ab(n,c(h),e);return Im(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},vY=Kt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Vi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=gY(i,r),{defaultedConfig:c}=Sn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(q(),ee("div",null,[h.$slots["month-year"]?_e(h.$slots,"month-year",wn(pe({key:0},{years:Y(s),selectYear:Y(l)}))):(q(),qe(Zd,{key:1,items:Y(s),"is-last":h.autoApply&&!Y(c).keepActionRow,height:Y(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":Y(a),type:"year","use-relative":"",onSelected:Y(l),onHoverValue:Y(u)},tr({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[_e(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),yY={key:0,class:"dp__time_input"},_Y=["aria-label","onKeydown","onClick"],bY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),wY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),TY=["aria-label","disabled","onKeydown","onClick"],EY=["aria-label","onKeydown","onClick"],IY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),SY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),AY={key:0},CY=["aria-label","onKeydown"],OY=Kt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Vi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=xo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Sn(i),{transitionName:h,showTransition:f}=Xd(l),p=Nr({hours:!1,minutes:!1,seconds:!1}),g=fe("AM"),b=fe(null),E=fe([]);yn(()=>{r("mounted")});const k=W=>on(new Date,{hours:W.hours,minutes:W.minutes,seconds:i.enableSeconds?W.seconds:0,milliseconds:0}),P=le(()=>W=>U(W,i[W])||y(W,i[W])),T=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),y=(W,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(W,Q):!1,M=(W,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ie=Q?+i[`${W}Increment`]:-+i[`${W}Increment`],X=i[W]+ie;return!i.validateTime(W,X)}return!1},L=le(()=>W=>!j(+i[W]+ +i[`${W}Increment`],W)||M(W,!0)),S=le(()=>W=>!j(+i[W]-+i[`${W}Increment`],W)||M(W,!1)),I=(W,Q)=>eN(on(ye(),W),Q),w=(W,Q)=>qG(on(ye(),W),Q),v=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),A=le(()=>{const W=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?W.concat([{type:"",separator:!0},{type:"seconds"}]):W}),C=le(()=>A.value.filter(W=>!W.separator)),R=le(()=>W=>{if(W==="hours"){const Q=G(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[W]<10?`0${i[W]}`:`${i[W]}`,value:i[W]}}),U=(W,Q)=>{var ie;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,W==="hours"?Q:void 0);return X[W]?!!((ie=X[W])!=null&&ie.includes(Q)):!0},$=W=>{const Q=i.is24?24:12,ie=W==="hours"?Q:60,X=+i[`${W}GridIncrement`],ce=W==="hours"&&!i.is24?X:0,be=[];for(let ne=ce;ne<ie;ne+=X)be.push({value:ne,text:ne<10?`0${ne}`:`${ne}`});return W==="hours"&&!i.is24&&be.push({value:0,text:"12"}),nu(be,ne=>({active:!1,disabled:u.value.times[W].includes(ne.value)||!j(ne.value,W)||U(W,ne.value)||y(W,ne.value)}))},j=(W,Q)=>{const ie=i.minTime?k(Ug(i.minTime)):null,X=i.maxTime?k(Ug(i.maxTime)):null,ce=k(Ug(T.value,Q,W));return ie&&X?(ad(ce,X)||pl(ce,X))&&(od(ce,ie)||pl(ce,ie)):ie?od(ce,ie)||pl(ce,ie):X?ad(ce,X)||pl(ce,X):!0},F=W=>i[`no${W[0].toUpperCase()+W.slice(1)}Overlay`],B=W=>{F(W)||(p[W]=!p[W],p[W]||r("overlay-closed"))},N=W=>W==="hours"?Ri:W==="minutes"?ts:eu,O=(W,Q=!0)=>{const ie=Q?I:w,X=Q?+i[`${W}Increment`]:-+i[`${W}Increment`];j(+i[W]+X,W)&&r(`update:${W}`,N(W)(ie({[W]:+i[W]},{[W]:+i[`${W}Increment`]})))},G=W=>i.is24?W:(W>=12?g.value="PM":g.value="AM",bK(W)),z=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},te=W=>{p[W]=!0},he=(W,Q,ie)=>{if(W&&i.arrowNavigation){Array.isArray(E.value[Q])?E.value[Q][ie]=W:E.value[Q]=[W];const X=E.value.reduce((ce,be)=>be.map((ne,D)=>[...ce[D]||[],be[D]]),[]);o(i.closeTimePickerBtn),b.value&&(X[1]=X[1].concat(b.value)),s(X,i.order)}},Z=(W,Q)=>(B(W),W==="hours"&&!i.is24?r(`update:${W}`,g.value==="PM"?Q+12:Q):r(`update:${W}`,Q));return e({openChildCmp:te}),(W,Q)=>{var ie;return W.disabled?de("",!0):(q(),ee("div",yY,[(q(!0),ee(Me,null,Ft(A.value,(X,ce)=>{var be,ne,D;return q(),ee("div",{key:ce,class:tt(v.value)},[X.separator?(q(),ee(Me,{key:0},[Nn(" : ")],64)):(q(),ee(Me,{key:1},[Ae("button",{ref_for:!0,ref:V=>he(V,ce,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_top:W.timePickerInline,dp__inc_dec_button_disabled:L.value(X.type)}),"aria-label":(be=Y(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type),["prevent"]),["enter"]),at(Lt(V=>O(X.type),["prevent"]),["space"])],onClick:V=>O(X.type)},[i.timePickerInline?(q(),ee(Me,{key:1},[bY,wY],64)):(q(),ee(Me,{key:0},[W.$slots["arrow-up"]?_e(W.$slots,"arrow-up",{key:0}):de("",!0),W.$slots["arrow-up"]?de("",!0):(q(),qe(Y(yb),{key:1}))],64))],42,_Y),Ae("button",{ref_for:!0,ref:V=>he(V,ce,1),type:"button","aria-label":(ne=Y(a))==null?void 0:ne.openTpOverlay(X.type),class:tt({dp__time_display:!0,dp__time_display_block:!W.timePickerInline,dp__time_display_inline:W.timePickerInline,"dp--time-invalid":P.value(X.type),"dp--time-overlay-btn":!P.value(X.type)}),disabled:F(X.type),tabindex:"0",onKeydown:[at(Lt(V=>B(X.type),["prevent"]),["enter"]),at(Lt(V=>B(X.type),["prevent"]),["space"])],onClick:V=>B(X.type)},[W.$slots[X.type]?_e(W.$slots,X.type,{key:0,text:R.value(X.type).text,value:R.value(X.type).value}):de("",!0),W.$slots[X.type]?de("",!0):(q(),ee(Me,{key:1},[Nn(ht(R.value(X.type).text),1)],64))],42,TY),Ae("button",{ref_for:!0,ref:V=>he(V,ce,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_bottom:W.timePickerInline,dp__inc_dec_button_disabled:S.value(X.type)}),"aria-label":(D=Y(a))==null?void 0:D.decrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type,!1),["prevent"]),["enter"]),at(Lt(V=>O(X.type,!1),["prevent"]),["space"])],onClick:V=>O(X.type,!1)},[i.timePickerInline?(q(),ee(Me,{key:1},[IY,SY],64)):(q(),ee(Me,{key:0},[W.$slots["arrow-down"]?_e(W.$slots,"arrow-down",{key:0}):de("",!0),W.$slots["arrow-down"]?de("",!0):(q(),qe(Y(_b),{key:1}))],64))],42,EY)],64))],2)}),128)),W.is24?de("",!0):(q(),ee("div",AY,[W.$slots["am-pm-button"]?_e(W.$slots,"am-pm-button",{key:0,toggle:z,value:g.value}):de("",!0),W.$slots["am-pm-button"]?de("",!0):(q(),ee("button",{key:1,ref_key:"amPmButton",ref:b,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=Y(a))==null?void 0:ie.amPmButton,tabindex:"0",onClick:z,onKeydown:[at(Lt(z,["prevent"]),["enter"]),at(Lt(z,["prevent"]),["space"])]},ht(g.value),41,CY))])),(q(!0),ee(Me,null,Ft(C.value,(X,ce)=>(q(),qe(Ro,{key:ce,name:Y(h)(p[X.type]),css:Y(f)},{default:Qe(()=>[p[X.type]?(q(),qe(Zd,{key:0,items:$(X.type),"is-last":W.autoApply&&!Y(c).keepActionRow,"esc-close":W.escClose,type:X.type,"text-input":W.textInput,config:W.config,"arrow-navigation":W.arrowNavigation,onSelected:be=>Z(X.type,be),onToggle:be=>B(X.type),onResetFlow:Q[0]||(Q[0]=be=>W.$emit("reset-flow"))},tr({"button-icon":Qe(()=>[W.$slots["clock-icon"]?_e(W.$slots,"clock-icon",{key:0}):de("",!0),W.$slots["clock-icon"]?de("",!0):(q(),qe(Gr(W.timePickerInline?Y(_u):Y(vb)),{key:1}))]),_:2},[W.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:be})=>[_e(W.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),PY={class:"dp--tp-wrap"},RY=["aria-label","tabindex"],kY=["tabindex"],DY=["aria-label"],UN=Kt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Vi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=xo(),a=Pa(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=Sn(i),{transitionName:f,showTransition:p}=Xd(l),{hideNavigationButtons:g}=wm(),b=fe(null),E=fe(null),k=fe([]),P=fe(null);yn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Mn(b.value)],"time"):o(!0,i.timePicker)});const T=le(()=>i.range&&i.modelAuto?CN(i.internalModelValue):!0),y=fe(!1),M=$=>({hours:Array.isArray(i.hours)?i.hours[$]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[$]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[$]:i.seconds}),L=le(()=>{const $=[];if(i.range)for(let j=0;j<2;j++)$.push(M(j));else $.push(M(0));return $}),S=($,j=!1,F="")=>{j||r("reset-flow"),y.value=$,r($?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o($),Hn(()=>{F!==""&&k.value[0]&&k.value[0].openChildCmp(F)})},I=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),w=Xr(a,"timePicker"),v=($,j,F)=>i.range?j===0?[$,L.value[1][F]]:[L.value[0][F],$]:$,A=$=>{r("update:hours",$)},C=$=>{r("update:minutes",$)},R=$=>{r("update:seconds",$)},U=()=>{if(P.value&&!c.value.enabled&&!i.noOverlayFocus){const $=TK(P.value);$&&$.focus({preventScroll:!0})}};return e({toggleTimePicker:S}),($,j)=>{var F;return q(),ee("div",PY,[!$.timePicker&&!$.timePickerInline?Zo((q(),ee("button",{key:0,ref_key:"openTimePickerBtn",ref:b,type:"button",class:tt(I.value),"aria-label":(F=Y(u))==null?void 0:F.openTimePicker,tabindex:$.noOverlayFocus?void 0:0,onKeydown:[j[0]||(j[0]=at(B=>S(!0),["enter"])),j[1]||(j[1]=at(B=>S(!0),["space"]))],onClick:j[2]||(j[2]=B=>S(!0))},[$.$slots["clock-icon"]?_e($.$slots,"clock-icon",{key:0}):de("",!0),$.$slots["clock-icon"]?de("",!0):(q(),qe(Y(vb),{key:1}))],42,RY)),[[uc,!Y(g)($.hideNavigation,"time")]]):de("",!0),et(Ro,{name:Y(f)(y.value),css:Y(p)&&!$.timePickerInline},{default:Qe(()=>{var B;return[y.value||$.timePicker||$.timePickerInline?(q(),ee("div",{key:0,ref_key:"overlayRef",ref:P,class:tt({dp__overlay:!$.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!$.timePickerInline,"dp--overlay-relative":i.timePicker}),style:kr($.timePicker?{height:`${Y(h).modeHeight}px`}:void 0),tabindex:$.timePickerInline?void 0:0},[Ae("div",{class:tt($.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[$.$slots["time-picker-overlay"]?_e($.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:A,setMinutes:C,setSeconds:R}):de("",!0),$.$slots["time-picker-overlay"]?de("",!0):(q(),ee("div",{key:1,class:tt($.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(q(!0),ee(Me,null,Ft(L.value,(N,O)=>Zo((q(),qe(OY,pe({key:O},{...$.$props,order:O,hours:N.hours,minutes:N.minutes,seconds:N.seconds,closeTimePickerBtn:E.value,disabledTimesConfig:t.disabledTimesConfig,disabled:O===0?$.fixedStart:$.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:k,"validate-time":(G,z)=>t.validateTime(G,v(z,O,G)),"onUpdate:hours":G=>A(v(G,O,"hours")),"onUpdate:minutes":G=>C(v(G,O,"minutes")),"onUpdate:seconds":G=>R(v(G,O,"seconds")),onMounted:U,onOverlayClosed:U,onAmPmChange:j[3]||(j[3]=G=>$.$emit("am-pm-change",G))}),tr({_:2},[Ft(Y(w),(G,z)=>({name:G,fn:Qe(te=>[_e($.$slots,G,wn(er(te)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[uc,O===0?!0:T.value]])),128))],2)),!$.timePicker&&!$.timePickerInline?Zo((q(),ee("button",{key:2,ref_key:"closeTimePickerBtn",ref:E,type:"button",class:tt(I.value),"aria-label":(B=Y(u))==null?void 0:B.closeTimePicker,tabindex:"0",onKeydown:[j[4]||(j[4]=at(N=>S(!1),["enter"])),j[5]||(j[5]=at(N=>S(!1),["space"]))],onClick:j[6]||(j[6]=N=>S(!1))},[$.$slots["calendar-icon"]?_e($.$slots,"calendar-icon",{key:0}):de("",!0),$.$slots["calendar-icon"]?de("",!0):(q(),qe(Y(_u),{key:1}))],42,DY)),[[uc,!Y(g)($.hideNavigation,"time")]]):de("",!0)],2)],14,kY)):de("",!0)]}),_:3},8,["name","css"])])}}}),BN=(t,e,n,r)=>{const i=(k,P)=>Array.isArray(e[k])?e[k][P]:e[k],s=k=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[k]:e.seconds:0,o=(k,P)=>k?P!==void 0?yo(k,i("hours",P),i("minutes",P),s(P)):yo(k,e.hours,e.minutes,s()):pb(ye(),s(P)),a=(k,P)=>{e[k]=P},l=(k,P)=>{const T=Object.fromEntries(Object.keys(e).map(y=>y===k?[y,P]:[y,e[y]].slice()));if(t.range&&!t.disableTimeRangeValidation){const y=L=>n.value?yo(n.value[L],T.hours[L],T.minutes[L],T.seconds[L]):null,M=L=>fb(n.value[L],0);return!(kt(y(0),y(1))&&(od(y(0),M(1))||ad(y(1),M(0))))}return!0},u=(k,P)=>{l(k,P)&&(a(k,P),r&&r())},c=k=>{u("hours",k)},h=k=>{u("minutes",k)},f=k=>{u("seconds",k)},p=(k,P,T,y)=>{P&&c(k),!P&&!T&&h(k),T&&f(k),n.value&&y(n.value)},g=k=>{if(k){const P=Array.isArray(k),T=P?[+k[0].hours,+k[1].hours]:+k.hours,y=P?[+k[0].minutes,+k[1].minutes]:+k.minutes,M=P?[+k[0].seconds,+k[1].seconds]:+k.seconds;a("hours",T),a("minutes",y),t.enableSeconds&&a("seconds",M)}},b=(k,P)=>{const T={hours:Array.isArray(e.hours)?e.hours[k]:e.hours,disabledArr:[]};return(P||P===0)&&(T.hours=P),Array.isArray(t.disabledTimes)&&(T.disabledArr=t.range&&Array.isArray(t.disabledTimes[k])?t.disabledTimes[k]:t.disabledTimes),T},E=le(()=>(k,P)=>{var T;if(Array.isArray(t.disabledTimes)){const{disabledArr:y,hours:M}=b(k,P),L=y.filter(S=>+S.hours===M);return((T=L[0])==null?void 0:T.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(S=>+S.minutes))??[],seconds:(L==null?void 0:L.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:E}},NY=(t,e)=>{const{modelValue:n,time:r}=Jd(t,e),{defaultedStartTime:i}=Sn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=BN(t,r,n),h=P=>{const{hours:T,minutes:y,seconds:M}=P;return{hours:+T,minutes:+y,seconds:M?+M:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=h(t.startTime[0]),y=h(t.startTime[1]);return[on(ye(),T),on(ye(),y)]}const P=h(t.startTime);return on(ye(),P)}return t.range?[null,null]:null},p=()=>{if(t.range){const[P,T]=f();n.value=[o(P,0),o(T,1)]}else n.value=o(f())},g=P=>Array.isArray(P)?[sa(ye(P[0])),sa(ye(P[1]))]:[sa(P??ye())],b=(P,T,y)=>{a("hours",P),a("minutes",T),a("seconds",t.enableSeconds?y:0)},E=()=>{const[P,T]=g(n.value);return t.range?b([P.hours,T.hours],[P.minutes,T.minutes],[P.seconds,T.minutes]):b(P.hours,P.minutes,P.seconds)};yn(()=>{if(!t.shadow)return l(i.value),n.value?E():p()});const k=()=>{Array.isArray(n.value)?n.value=n.value.map((P,T)=>P&&o(P,T)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(P,T=!0,y=!1)=>{s(P,T,y,k)},validateTime:c}},xY=Kt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Vi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Pa(),o=Xr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=NY(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(q(),qe(Em,{"multi-calendars":0,stretch:""},{default:Qe(()=>[et(UN,pe(f.$props,{hours:Y(a).hours,minutes:Y(a).minutes,seconds:Y(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":Y(u),"validate-time":Y(h),"onUpdate:hours":p[0]||(p[0]=g=>Y(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>Y(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>Y(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),tr({_:2},[Ft(Y(o),(g,b)=>({name:g,fn:Qe(E=>[_e(f.$slots,g,wn(er(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),MY={class:"dp__month_year_row"},LY=["aria-label","onClick","onKeydown"],VY=Kt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Vi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Sn(i),{transitionName:h,showTransition:f}=Xd(s),{buildMatrix:p}=xo(),{handleMonthYearChange:g,isDisabled:b,updateMonthYear:E}=GK(i,r),{showLeftIcon:k,showRightIcon:P}=wm(),T=fe(!1),y=fe(!1),M=fe([null,null,null,null]);yn(()=>{r("mount")});const L=O=>({get:()=>i[O],set:G=>{const z=O===vi.month?vi.year:vi.month;r("update-month-year",{[O]:G,[z]:i[z]}),O===vi.month?U(!0):$(!0)}}),S=le(L(vi.month)),I=le(L(vi.year)),w=le(()=>O=>({month:i.month,year:i.year,items:O===vi.month?i.months:i.years,instance:i.instance,updateMonthYear:E,toggle:O===vi.month?U:$})),v=le(()=>i.months.find(G=>G.value===i.month)||{text:"",value:0}),A=le(()=>nu(i.months,O=>{const G=i.month===O.value,z=ld(O.value,ON(i.year,i.minDate),PN(i.year,i.maxDate))||l.value.months.includes(O.value),te=MN(c.value,O.value,i.year);return{active:G,disabled:z,highlighted:te}})),C=le(()=>nu(i.years,O=>{const G=i.year===O.value,z=ld(O.value,ru(i.minDate),ru(i.maxDate))||l.value.years.includes(O.value),te=Ib(c.value,O.value);return{active:G,disabled:z,highlighted:te}})),R=(O,G)=>{G!==void 0?O.value=G:O.value=!O.value,O.value||r("overlay-closed")},U=(O=!1,G)=>{j(O),R(T,G)},$=(O=!1,G)=>{j(O),R(y,G)},j=O=>{O||r("reset-flow")},F=(O,G)=>{i.arrowNavigation&&(M.value[G]=Mn(O),p(M.value,"monthYear"))},B=le(()=>{var O,G;return[{type:vi.month,index:1,toggle:U,modelValue:S.value,updateModelValue:z=>S.value=z,text:v.value.text,showSelectionGrid:T.value,items:A.value,ariaLabel:(O=o.value)==null?void 0:O.openMonthsOverlay},{type:vi.year,index:2,toggle:$,modelValue:I.value,updateModelValue:z=>I.value=z,text:i.year,showSelectionGrid:y.value,items:C.value,ariaLabel:(G=o.value)==null?void 0:G.openYearsOverlay}]}),N=le(()=>i.disableYearSelect?[B.value[0]]:i.yearFirst?[...B.value].reverse():B.value);return e({toggleMonthPicker:U,toggleYearPicker:$,handleMonthYearChange:g}),(O,G)=>{var z,te,he;return q(),ee("div",MY,[O.$slots["month-year"]?_e(O.$slots,"month-year",wn(pe({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:Y(E),handleMonthYearChange:Y(g),instance:t.instance}))):(q(),ee(Me,{key:1},[Y(k)(Y(a),t.instance)&&!O.vertical?(q(),qe(Ac,{key:0,"aria-label":(z=Y(o))==null?void 0:z.prevMonth,disabled:Y(b)(!1),onActivate:G[0]||(G[0]=Z=>Y(g)(!1,!0)),onSetRef:G[1]||(G[1]=Z=>F(Z,0))},{default:Qe(()=>[O.$slots["arrow-left"]?_e(O.$slots,"arrow-left",{key:0}):de("",!0),O.$slots["arrow-left"]?de("",!0):(q(),qe(Y(mb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ae("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:O.disableYearSelect}])},[(q(!0),ee(Me,null,Ft(N.value,(Z,W)=>(q(),ee(Me,{key:Z.type},[Ae("button",{ref_for:!0,ref:Q=>F(Q,W+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Z.ariaLabel,onClick:Z.toggle,onKeydown:[at(Lt(Z.toggle,["prevent"]),["enter"]),at(Lt(Z.toggle,["prevent"]),["space"])]},[O.$slots[Z.type]?_e(O.$slots,Z.type,{key:0,text:Z.text,value:i[Z.type]}):de("",!0),O.$slots[Z.type]?de("",!0):(q(),ee(Me,{key:1},[Nn(ht(Z.text),1)],64))],40,LY),et(Ro,{name:Y(h)(Z.showSelectionGrid),css:Y(f)},{default:Qe(()=>[Z.showSelectionGrid?(q(),qe(Zd,{key:0,items:Z.items,"arrow-navigation":O.arrowNavigation,"hide-navigation":O.hideNavigation,"is-last":O.autoApply&&!Y(u).keepActionRow,"skip-button-ref":!1,config:O.config,type:Z.type,"header-refs":[],"esc-close":O.escClose,"text-input":O.textInput,onSelected:Z.updateModelValue,onToggle:Z.toggle},tr({"button-icon":Qe(()=>[O.$slots["calendar-icon"]?_e(O.$slots,"calendar-icon",{key:0}):de("",!0),O.$slots["calendar-icon"]?de("",!0):(q(),qe(Y(_u),{key:1}))]),_:2},[O.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:Qe(({item:Q})=>[_e(O.$slots,`${Z.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,O.$slots[`${Z.type}-overlay`]?{name:"overlay",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay`,wn(er(w.value(Z.type))))]),key:"1"}:void 0,O.$slots[`${Z.type}-overlay-header`]?{name:"header",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay-header`,{toggle:Z.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Y(k)(Y(a),t.instance)&&O.vertical?(q(),qe(Ac,{key:1,"aria-label":(te=Y(o))==null?void 0:te.prevMonth,disabled:Y(b)(!1),onActivate:G[2]||(G[2]=Z=>Y(g)(!1,!0))},{default:Qe(()=>[O.$slots["arrow-up"]?_e(O.$slots,"arrow-up",{key:0}):de("",!0),O.$slots["arrow-up"]?de("",!0):(q(),qe(Y(yb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Y(P)(Y(a),t.instance)?(q(),qe(Ac,{key:2,ref:"rightIcon",disabled:Y(b)(!0),"aria-label":(he=Y(o))==null?void 0:he.nextMonth,onActivate:G[3]||(G[3]=Z=>Y(g)(!0,!0)),onSetRef:G[4]||(G[4]=Z=>F(Z,O.disableYearSelect?2:3))},{default:Qe(()=>[O.$slots[O.vertical?"arrow-down":"arrow-right"]?_e(O.$slots,O.vertical?"arrow-down":"arrow-right",{key:0}):de("",!0),O.$slots[O.vertical?"arrow-down":"arrow-right"]?de("",!0):(q(),qe(Gr(O.vertical?Y(_b):Y(gb)),{key:1}))]),_:3},8,["disabled","aria-label"])):de("",!0)],64))])}}}),FY=["aria-label"],$Y={class:"dp__calendar_header",role:"row"},UY={key:0,class:"dp__calendar_header_item",role:"gridcell"},BY=Ae("div",{class:"dp__calendar_header_separator"},null,-1),jY=["aria-label"],HY={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},WY={class:"dp__cell_inner"},qY=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],zY=Kt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Vi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=xo(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Sn(i),h=fe(null),f=fe({bottom:"",left:"",transform:""}),p=fe([]),g=fe(null),b=fe(!0),E=fe(""),k=fe({startX:0,endX:0,startY:0,endY:0}),P=fe([]),T=fe({left:"50%"}),y=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):_K(i.formatLocale,i.locale,+i.weekStart));yn(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",$,{passive:!1}),g.value.addEventListener("touchend",j,{passive:!1}),g.value.addEventListener("touchmove",F,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",O,{passive:!1})});const L=Z=>Z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",S=(Z,W)=>{if(i.transitions){const Q=wr(Is(ye(),i.month,i.year));E.value=yr(wr(Is(ye(),Z,W)),Q)?o.value[L(!0)]:o.value[L(!1)],b.value=!1,Hn(()=>{b.value=!0})}},I=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),w=le(()=>Z=>{const W=wK(Z);return{dp__marker_dot:W.type==="dot",dp__marker_line:W.type==="line"}}),v=le(()=>Z=>kt(Z,h.value)),A=le(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),C=le(()=>Z=>i.hideOffsetDates?Z.current:!0),R=async(Z,W,Q)=>{var ie,X;if(r("set-hover-date",Z),(X=(ie=Z.marker)==null?void 0:ie.tooltip)!=null&&X.length){const ce=Mn(p.value[W][Q]);if(ce){const{width:be,height:ne}=ce.getBoundingClientRect();h.value=Z.value;let D={left:`${be/2}px`},V=-50;if(await Hn(),P.value[0]){const{left:H,width:oe}=P.value[0].getBoundingClientRect();H<0&&(D={left:"0"},V=0,T.value.left=`${be/2}px`),window.innerWidth<H+oe&&(D={right:"0"},V=0,T.value.left=`${oe-be/2}px`)}f.value={bottom:`${ne}px`,...D,transform:`translateX(${V}%)`},r("tooltip-open",Z.marker)}}},U=Z=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Z.marker))},$=Z=>{k.value.startX=Z.changedTouches[0].screenX,k.value.startY=Z.changedTouches[0].screenY},j=Z=>{k.value.endX=Z.changedTouches[0].screenX,k.value.endY=Z.changedTouches[0].screenY,B()},F=Z=>{i.vertical&&!i.inline&&Z.preventDefault()},B=()=>{const Z=i.vertical?"Y":"X";Math.abs(k.value[`start${Z}`]-k.value[`end${Z}`])>10&&r("handle-swipe",k.value[`start${Z}`]>k.value[`end${Z}`]?"right":"left")},N=(Z,W,Q)=>{Z&&(Array.isArray(p.value[W])?p.value[W][Q]=Z:p.value[W]=[Z]),i.arrowNavigation&&s(p.value,"calendar")},O=Z=>{i.monthChangeOnScroll&&(Z.preventDefault(),r("handle-scroll",Z))},G=Z=>c.value.type==="local"?kz(Z.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Cz(Z.value):typeof c.value.type=="function"?c.value.type(Z.value):"",z=Z=>{const W=Z[0];return c.value.hideOnOffsetDates?Z.some(Q=>Q.current)?G(W):"":G(W)},te=(Z,W)=>{vo(Z,a.value),r("select-date",W)},he=Z=>{vo(Z,a.value)};return e({triggerTransition:S}),(Z,W)=>{var Q;return q(),ee("div",{class:tt(A.value)},[Ae("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(I.value),"aria-label":(Q=Y(l))==null?void 0:Q.calendarWrap},[(q(),ee(Me,{key:0},[Ae("div",$Y,[Z.weekNumbers?(q(),ee("div",UY,ht(Z.weekNumName),1)):de("",!0),(q(!0),ee(Me,null,Ft(M.value,(ie,X)=>(q(),ee("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[Z.$slots["calendar-header"]?_e(Z.$slots,"calendar-header",{key:0,day:ie,index:X}):de("",!0),Z.$slots["calendar-header"]?de("",!0):(q(),ee(Me,{key:1},[Nn(ht(ie),1)],64))]))),128))]),BY,et(Ro,{name:E.value,css:!!Z.transitions},{default:Qe(()=>{var ie;return[b.value?(q(),ee("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ie=Y(l))==null?void 0:ie.calendarDays)||void 0},[(q(!0),ee(Me,null,Ft(y.value,(X,ce)=>(q(),ee("div",{key:ce,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(q(),ee("div",HY,[Ae("div",WY,ht(z(X.days)),1)])):de("",!0),(q(!0),ee(Me,null,Ft(X.days,(be,ne)=>{var D,V,H;return q(),ee("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:oe=>N(oe,ce,ne),key:ne+ce,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(V=(D=Y(l))==null?void 0:D.day)==null?void 0:V.call(D,be),tabindex:"0",onClick:Lt(oe=>te(oe,be),["prevent"]),onKeydown:[at(oe=>Z.$emit("select-date",be),["enter"]),at(oe=>Z.$emit("handle-space",be),["space"])],onMouseenter:oe=>R(be,ce,ne),onMouseleave:oe=>U(be)},[Ae("div",{class:tt(["dp__cell_inner",be.classData])},[Z.$slots.day&&C.value(be)?_e(Z.$slots,"day",{key:0,day:+be.text,date:be.value}):de("",!0),Z.$slots.day?de("",!0):(q(),ee(Me,{key:1},[Nn(ht(be.text),1)],64)),be.marker&&C.value(be)?(q(),ee(Me,{key:2},[Z.$slots.marker?_e(Z.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(q(),ee("div",{key:1,class:tt(w.value(be.marker)),style:kr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):de("",!0),v.value(be.value)?(q(),ee("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:P,class:"dp__marker_tooltip",style:kr(f.value)},[(H=be.marker)!=null&&H.tooltip?(q(),ee("div",{key:0,class:"dp__tooltip_content",onClick:he},[(q(!0),ee(Me,null,Ft(be.marker.tooltip,(oe,se)=>(q(),ee("div",{key:se,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?_e(Z.$slots,"marker-tooltip",{key:0,tooltip:oe,day:be.value}):de("",!0),Z.$slots["marker-tooltip"]?de("",!0):(q(),ee(Me,{key:1},[Ae("div",{class:"dp__tooltip_mark",style:kr(oe.color?{backgroundColor:oe.color}:{})},null,4),Ae("div",null,ht(oe.text),1)],64))]))),128)),Ae("div",{class:"dp__arrow_bottom_tp",style:kr(T.value)},null,4)])):de("",!0)],4)):de("",!0)],2)],40,qY)}),128))]))),128))],8,jY)):de("",!0)]}),_:3},8,["name","css"])],64))],10,FY)],2)}}}),$I=t=>Array.isArray(t),GY=(t,e,n,r)=>{const i=fe([]),{modelValue:s,calendars:o,time:a}=Jd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Sn(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=Fa(t),{updateTimeValues:g,getSetDateTime:b,setTime:E,assignStartTime:k,validateTime:P,disabledTimesConfig:T}=BN(t,a,s,r),y=le(()=>K=>o.value[K]?o.value[K].month:0),M=le(()=>K=>o.value[K]?o.value[K].year:0),L=(K,ae,xe)=>{var We,dt;o.value[K]||(o.value[K]={month:0,year:0}),o.value[K].month=xI(ae)?(We=o.value[K])==null?void 0:We.month:ae,o.value[K].year=xI(xe)?(dt=o.value[K])==null?void 0:dt.year:xe},S=()=>{t.autoApply&&e("select-date")};In(s,(K,ae)=>{JSON.stringify(K)!==JSON.stringify(ae)&&v()}),yn(()=>{t.shadow||(s.value||(O(),u.value&&k(u.value)),v(!0),t.focusStartDate&&t.startDate&&O())});const I=le(()=>{var K;return(K=t.flow)!=null&&K.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),w=()=>{t.autoApply&&I.value&&e("auto-apply",t.partialFlow)},v=(K=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,j(K)):C(s.value,K);if(l.value.count&&K&&!t.startDate)return A(ye(),K)},A=(K,ae=!1)=>{if((!l.value.count||!l.value.static||ae)&&L(0,Et(K),ut(K)),l.value.count&&(!l.value.solo||!s.value))for(let xe=1;xe<l.value.count;xe++){const We=on(ye(),{month:y.value(xe-1),year:M.value(xe-1)}),dt=eN(We,{months:1});o.value[xe]={month:Et(dt),year:ut(dt)}}},C=(K,ae)=>{A(K),E("hours",Ri(K)),E("minutes",ts(K)),E("seconds",eu(K)),l.value.count&&ae&&N()},R=K=>{if(l.value.count){if(l.value.solo)return 0;const ae=Et(K[0]),xe=Et(K[1]);return Math.abs(xe-ae)<l.value.count?0:1}return 1},U=(K,ae)=>{K[1]&&t.showLastInRange?A(K[R(K)],ae):A(K[0],ae);const xe=(We,dt)=>[We(K[0]),K[1]?We(K[1]):a[dt][1]];E("hours",xe(Ri,"hours")),E("minutes",xe(ts,"minutes")),E("seconds",xe(eu,"seconds"))},$=(K,ae)=>{if((t.range||t.weekPicker)&&!t.multiDates)return U(K,ae);if(t.multiDates&&ae){const xe=K[K.length-1];return C(xe,ae)}},j=K=>{const ae=s.value;$(ae,K),l.value.count&&l.value.solo&&N()},F=(K,ae)=>{const xe=on(ye(),{month:y.value(ae),year:M.value(ae)}),We=K<0?Pi(xe,1):tu(xe,1);c(Et(We),ut(We),K<0,t.preventMinMaxNavigation)&&(L(ae,Et(We),ut(We)),e("update-month-year",{instance:ae,month:Et(We),year:ut(We)}),l.value.count&&!l.value.solo&&B(ae),n())},B=K=>{for(let ae=K-1;ae>=0;ae--){const xe=tu(on(ye(),{month:y.value(ae+1),year:M.value(ae+1)}),1);L(ae,Et(xe),ut(xe))}for(let ae=K+1;ae<=l.value.count-1;ae++){const xe=Pi(on(ye(),{month:y.value(ae-1),year:M.value(ae-1)}),1);L(ae,Et(xe),ut(xe))}},N=()=>{if(Array.isArray(s.value)&&s.value.length===2){const K=ye(ye(s.value[1]?s.value[1]:Pi(s.value[0],1))),[ae,xe]=[Et(s.value[0]),ut(s.value[0])],[We,dt]=[Et(s.value[1]),ut(s.value[1])];(ae!==We||ae===We&&xe!==dt)&&l.value.solo&&L(1,Et(K),ut(K))}else s.value&&!Array.isArray(s.value)&&(L(0,Et(s.value),ut(s.value)),A(ye()))},O=()=>{t.startDate&&(L(0,Et(ye(t.startDate)),ut(ye(t.startDate))),l.value.count&&B(0))},G=AK((K,ae)=>{t.monthChangeOnScroll&&F(t.monthChangeOnScroll!=="inverse"?-K.deltaY:K.deltaY,ae)},50),z=(K,ae,xe=!1)=>{t.monthChangeOnArrows&&t.vertical===xe&&te(K,ae)},te=(K,ae)=>{F(K==="right"?-1:1,ae)},he=K=>t.markers.find(ae=>kt(PK(K.value),ki(ye(ae.date),t.timezone))),Z=(K,ae)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[K==0,!0];case"fair":return[K==0||ae>K,!0];case"append":return[!1,!1];default:return[!1,!1]}},W=(K,ae,xe,We)=>{if(t.sixWeeks&&K.length<6){const dt=6-K.length,xt=(ae.getDay()+7-We)%7,qn=6-(xe.getDay()+7-We)%7,[Oe,Be]=Z(xt,qn);for(let je=1;je<=dt;je++)if(Be?!!(je%2)==Oe:Oe){const zn=K[0].days[0],qr=Q(ys(zn.value,-7),Et(ae));K.unshift({days:qr})}else{const zn=K[K.length-1],qr=zn.days[zn.days.length-1],Ba=Q(ys(qr.value,1),Et(ae));K.push({days:Ba})}}return K},Q=(K,ae)=>{const xe=ye(K),We=[];for(let dt=0;dt<7;dt++){const xt=ys(xe,dt),qn=Et(xt)!==ae;We.push({text:t.hideOffsetDates&&qn?"":xt.getDate(),value:xt,current:!qn,classData:{}})}return We},ie=(K,ae)=>{const xe=[],We=new Date(ae,K),dt=new Date(ae,K+1,0),xt=t.weekStart,qn=Ia(We,{weekStartsOn:xt}),Oe=Be=>{const je=Q(Be,K);if(xe.push({days:je}),!xe[xe.length-1].days.some(zn=>kt(wr(zn.value),wr(dt)))){const zn=ys(Be,7);Oe(zn)}};return Oe(qn),W(xe,We,dt,xt)},X=K=>(s.value=cf(ye(K.value),t.timezone,t.weekStart),e("date-update",K.value),w()),ce=K=>{const ae=yo(ye(K.value),a.hours,a.minutes,me());e("date-update",ae),t.multiDates?Sb(ae,s,t.multiDatesLimit):s.value=ae,r(),Hn().then(()=>{w()})},be=K=>t.noDisabledRange?kN(i.value[0],K).some(ae=>h(ae)):!1,ne=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(K,ae)=>{const xe=[ye(K.value),ys(ye(K.value),+t.autoRange)];f(xe)?(ae&&V(K.value),i.value=xe):e("invalid-date",K.value)},V=K=>{const ae=Et(ye(K)),xe=ut(ye(K));if(L(0,ae,xe),l.value.count>0)for(let We=1;We<l.value.count;We++){const dt=RK(on(ye(K),{year:y.value(We-1),month:M.value(We-1)}));L(We,dt.month,dt.year)}},H=K=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(yr(K,s.value[0])||kt(K,s.value[0]))?[s.value[0],K]:t.fixedEnd&&(Zn(K,s.value[1])||kt(K,s.value[1]))?[K,s.value[1]]:(e("invalid-fixed-range",K),s.value):[],oe=K=>{if(be(K.value)||!p(K.value,s.value,t.fixedStart?0:1))return e("invalid-date",K.value);i.value=H(ye(K.value))},se=(K,ae)=>{if(ne(),t.autoRange)return D(K,ae);if(t.fixedStart||t.fixedEnd)return oe(K);i.value[0]?p(ye(K.value),s.value)&&!be(K.value)?Zn(ye(K.value),ye(i.value[0]))?(i.value.unshift(ye(K.value)),e("range-end",i.value[0])):(i.value[1]=ye(K.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",K.value),e("invalid-date",K.value)):(i.value[0]=ye(K.value),e("range-start",i.value[0]))},me=(K=!0)=>t.enableSeconds?Array.isArray(a.seconds)?K?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=K=>{i.value[K]=yo(i.value[K],a.hours[K],a.minutes[K],me(K!==1))},Ee=()=>{var K,ae;i.value[0]&&i.value[1]&&+((K=i.value)==null?void 0:K[0])>+((ae=i.value)==null?void 0:ae[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Te=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),Im(i.value,e,t.autoApply,t.modelAuto))},ge=(K,ae=!1)=>{if(h(K.value)||!K.current&&t.hideOffsetDates)return e("invalid-date",K.value);if(t.weekPicker)return X(K);if(!t.range)return ce(K);$I(a.hours)&&$I(a.minutes)&&!t.multiDates&&(se(K,ae),Te())},He=(K,ae)=>{var xe;L(K,ae.month,ae.year),l.value.count&&!l.value.solo&&B(K),e("update-month-year",{instance:K,month:ae.month,year:ae.year}),n(l.value.solo?K:void 0);const We=(xe=t.flow)!=null&&xe.length?t.flow[t.flowStep]:void 0;!ae.fromNav&&(We===Hi.month||We===Hi.year)&&r()},Ie=(K,ae)=>{FN({value:K,modelValue:s,range:t.range,timezone:ae?void 0:t.timezone}),S(),t.multiCalendars&&Hn().then(()=>v(!0))},Fe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Zn(ye(),s.value[0])?[ye(),s.value[0]]:[s.value[0],ye()]:s.value=[ye()]:s.value=ye(),S()},Ye=()=>{if(Array.isArray(s.value))if(t.multiDates){const K=Ge();s.value[s.value.length-1]=b(K)}else s.value=s.value.map((K,ae)=>K&&b(K,ae));else s.value=b(s.value);e("time-update")},Ge=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:y,year:M,time:a,disabledTimesConfig:T,validateTime:P,getCalendarDays:ie,getMarker:he,handleScroll:G,handleSwipe:te,handleArrow:z,selectDate:ge,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Fe,updateTime:(K,ae=!0,xe=!1)=>{g(K,ae,xe,Ye)}}},KY={key:0},YY=Kt({__name:"DatePicker",props:{...Vi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:b,handleSwipe:E,selectDate:k,updateMonthYear:P,presetDate:T,selectCurrentDate:y,updateTime:M}=GY(i,r,N,O),L=Pa(),{setHoverDate:S,getDayClassData:I,clearHoverDate:w}=XK(l,i),{defaultedMultiCalendars:v}=Sn(i),A=fe([]),C=fe([]),R=fe(null),U=Xr(L,"calendar"),$=Xr(L,"monthYear"),j=Xr(L,"timePicker"),F=z=>{i.shadow||r("mount",z)};In(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const B=le(()=>z=>f(o.value(z),a.value(z)).map(te=>({...te,days:te.days.map(he=>(he.marker=p(he),he.classData=I(he),he))})));function N(z){var te;z||z===0?(te=C.value[z])==null||te.triggerTransition(o.value(z),a.value(z)):C.value.forEach((he,Z)=>he.triggerTransition(o.value(Z),a.value(Z)))}function O(){r("update-flow-step")}const G=(z,te=!1)=>{k(z,te),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:w,presetDate:T,selectCurrentDate:y,toggleMonthPicker:(z,te,he=0)=>{var Z;(Z=A.value[he])==null||Z.toggleMonthPicker(z,te)},toggleYearPicker:(z,te,he=0)=>{var Z;(Z=A.value[he])==null||Z.toggleYearPicker(z,te)},toggleTimePicker:(z,te,he)=>{var Z;(Z=R.value)==null||Z.toggleTimePicker(z,te,he)},handleArrow:g,updateMonthYear:P,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:P,selectDate:k,presetDate:T})}),(z,te)=>(q(),ee(Me,null,[et(Em,{"multi-calendars":Y(v).count},{default:Qe(({instance:he,index:Z})=>[z.disableMonthYearSelect?de("",!0):(q(),qe(VY,pe({key:0,ref:W=>{W&&(A.value[Z]=W)},months:Y(AN)(z.formatLocale,z.locale,z.monthNameFormat),years:Y(Eb)(z.yearRange,z.reverseYears),month:Y(o)(he),year:Y(a)(he),instance:he},z.$props,{onMount:te[0]||(te[0]=W=>F(Y(oa).header)),onResetFlow:te[1]||(te[1]=W=>z.$emit("reset-flow")),onUpdateMonthYear:W=>Y(P)(he,W),onOverlayClosed:te[2]||(te[2]=W=>z.$emit("focus-menu"))}),tr({_:2},[Ft(Y($),(W,Q)=>({name:W,fn:Qe(ie=>[_e(z.$slots,W,wn(er(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),et(zY,pe({ref:W=>{W&&(C.value[Z]=W)},"mapped-dates":B.value(he),month:Y(o)(he),year:Y(a)(he),instance:he},z.$props,{onSelectDate:W=>Y(k)(W,he!==1),onHandleSpace:W=>G(W,he!==1),onSetHoverDate:te[3]||(te[3]=W=>Y(S)(W)),onHandleScroll:W=>Y(b)(W,he),onHandleSwipe:W=>Y(E)(W,he),onMount:te[4]||(te[4]=W=>F(Y(oa).calendar)),onResetFlow:te[5]||(te[5]=W=>z.$emit("reset-flow")),onTooltipOpen:te[6]||(te[6]=W=>z.$emit("tooltip-open",W)),onTooltipClose:te[7]||(te[7]=W=>z.$emit("tooltip-close",W))}),tr({_:2},[Ft(Y(U),(W,Q)=>({name:W,fn:Qe(ie=>[_e(z.$slots,W,wn(er({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),z.enableTimePicker?(q(),ee("div",KY,[z.$slots["time-picker"]?_e(z.$slots,"time-picker",wn(pe({key:0},{time:Y(u),updateTime:Y(M)}))):(q(),qe(UN,pe({key:1,ref_key:"timePickerRef",ref:R},z.$props,{hours:Y(u).hours,minutes:Y(u).minutes,seconds:Y(u).seconds,"internal-model-value":z.internalModelValue,"disabled-times-config":Y(c),"validate-time":Y(h),onMount:te[8]||(te[8]=he=>F(Y(oa).timePicker)),"onUpdate:hours":te[9]||(te[9]=he=>Y(M)(he)),"onUpdate:minutes":te[10]||(te[10]=he=>Y(M)(he,!1)),"onUpdate:seconds":te[11]||(te[11]=he=>Y(M)(he,!1,!0)),onResetFlow:te[12]||(te[12]=he=>z.$emit("reset-flow")),onOverlayClosed:te[13]||(te[13]=he=>z.$emit("time-picker-close")),onOverlayOpened:te[14]||(te[14]=he=>z.$emit("time-picker-open",he)),onAmPmChange:te[15]||(te[15]=he=>z.$emit("am-pm-change",he))}),tr({_:2},[Ft(Y(j),(he,Z)=>({name:he,fn:Qe(W=>[_e(z.$slots,he,wn(er(W)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):de("",!0)],64))}}),QY=(t,e)=>{const n=fe(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Sn(t),{modelValue:o,year:a,month:l,calendars:u}=Jd(t,e),{isDisabled:c}=Fa(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:b,handleYearSelect:E,handleYear:k}=$N({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),P=(w,v)=>[w,v].map(A=>go(A,"MMMM",{locale:t.formatLocale})).join("-"),T=le(()=>w=>o.value?Array.isArray(o.value)?o.value.some(v=>EI(w,v)):EI(o.value,w):!1),y=w=>{if(t.range){if(Array.isArray(o.value)){const v=kt(w,o.value[0])||kt(w,o.value[1]);return bm(o.value,n.value,w)&&!v}return!1}return!1},M=le(()=>w=>{const v=on(new Date,{year:a.value(w)});return yq({start:bq(v),end:_q(v)}).map(A=>{const C=sd(A),R=gI(A),U=c(A),$=y(C),j=typeof s.value=="function"?s.value({quarter:mI(C),year:ut(C)}):!!s.value.quarters.find(F=>F.quarter===mI(C)&&F.year===ut(C));return{text:P(C,R),value:C,active:T.value(C),highlighted:j,disabled:U,isBetween:$}})}),L=w=>{Sb(w,o,t.multiDatesLimit),e("auto-apply",!0)},S=w=>{const v=Ab(o,w,e);Im(v,e,t.autoApply,t.modelAuto)},I=w=>{o.value=w,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:w=>{n.value=w},selectYear:h,selectQuarter:(w,v,A)=>{if(!A)return u.value[v].month=Et(gI(w)),t.multiDates?L(w):t.range?S(w):I(w)},toggleYearPicker:b,handleYearSelect:E,handleYear:k}},XY={class:"dp--quarter-items"},JY=["disabled","onClick","onMouseover"],ZY=Kt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Vi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Pa(),o=Xr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:b,selectQuarter:E,toggleYearPicker:k,handleYearSelect:P,handleYear:T}=QY(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:E,handleYearSelect:P,handleYear:T})}),(y,M)=>(q(),qe(Em,{"multi-calendars":Y(a).count,stretch:""},{default:Qe(({instance:L})=>[Ae("div",{class:"dp-quarter-picker-wrap",style:kr({minHeight:`${Y(l).modeHeight}px`})},[Ae("div",null,[et(VN,pe(y.$props,{items:Y(u)(L),instance:L,"show-year-picker":Y(g)[L],year:Y(c)(L),"is-disabled":S=>Y(h)(L,S),onHandleYear:S=>Y(T)(L,S),onYearSelect:S=>Y(P)(S,L),onToggleYearPicker:S=>Y(k)(L,S==null?void 0:S.flow,S==null?void 0:S.show)}),tr({_:2},[Ft(Y(o),(S,I)=>({name:S,fn:Qe(w=>[_e(y.$slots,S,wn(er(w)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ae("div",XY,[(q(!0),ee(Me,null,Ft(Y(f)(L),(S,I)=>(q(),ee("div",{key:I},[Ae("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),disabled:S.disabled,onClick:w=>Y(E)(S.value,L,S.disabled),onMouseover:w=>Y(b)(S.value)},[y.$slots.quarter?_e(y.$slots,"quarter",{key:0,value:S.value,text:S.text}):(q(),ee(Me,{key:1},[Nn(ht(S.text),1)],64))],42,JY)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),eQ=["id"],tQ={key:0,class:"dp__sidebar_left"},nQ={key:1,class:"dp--preset-dates"},rQ=["onClick","onKeydown"],iQ={key:2,class:"dp__sidebar_right"},sQ={key:3,class:"dp__action_extra"},UI=Kt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Tm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=le(()=>{const{openOnTop:ne,...D}=i;return{...D,flowStep:I.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=LN(),u=Pa(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=Sn(i),p=fe(null),g=fe(0),b=fe(null),E=fe(null),k=fe(!1),P=fe(null);yn(()=>{if(!i.shadow){k.value=!0,T(),window.addEventListener("resize",T);const ne=Mn(b);if(ne&&!c.value.enabled&&!h.value.enabled&&(o(!0),R()),ne){const D=V=>{f.value.allowPreventDefault&&V.preventDefault(),vo(V,f.value,!0)};ne.addEventListener("pointerdown",D),ne.addEventListener("mousedown",D)}}}),Oa(()=>{window.removeEventListener("resize",T)});const T=()=>{const ne=Mn(E);ne&&(g.value=ne.getBoundingClientRect().width)},{arrowRight:y,arrowLeft:M,arrowDown:L,arrowUp:S}=xo(),{flowStep:I,updateFlowStep:w,childMount:v,resetFlow:A}=JK(i,r,P),C=le(()=>i.monthPicker?mY:i.yearPicker?vY:i.timePicker?xY:i.quarterPicker?ZY:YY),R=()=>{const ne=Mn(b);ne&&ne.focus({preventScroll:!0})},U=le(()=>{var ne;return((ne=P.value)==null?void 0:ne.getSidebarProps())||{}}),$=()=>{i.openOnTop&&r("recalculate-position")},j=Xr(u,"action"),F=le(()=>i.monthPicker||i.yearPicker?Xr(u,"monthYear"):i.timePicker?Xr(u,"timePicker"):Xr(u,"shared")),B=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),N=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),O=le(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),G=ne=>{vo(ne,f.value,!0)},z=()=>{i.escClose&&r("close-picker")},te=ne=>{if(i.arrowNavigation){if(ne==="up")return S();if(ne==="down")return L();if(ne==="left")return M();if(ne==="right")return y()}else ne==="left"||ne==="up"?ie("handleArrow","left",0,ne==="up"):ie("handleArrow","right",0,ne==="down")},he=ne=>{a(ne.shiftKey),!i.disableMonthYearSelect&&ne.code==="Tab"&&ne.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(ne.preventDefault(),vo(ne,f.value,!0),r("close-picker"))},Z=()=>{R(),r("time-picker-close")},W=ne=>{var D,V,H;(D=P.value)==null||D.toggleTimePicker(!1,!1),(V=P.value)==null||V.toggleMonthPicker(!1,!1,ne),(H=P.value)==null||H.toggleYearPicker(!1,!1,ne)},Q=(ne,D=0)=>{var V,H,oe;return ne==="month"?(V=P.value)==null?void 0:V.toggleMonthPicker(!1,!0,D):ne==="year"?(H=P.value)==null?void 0:H.toggleYearPicker(!1,!0,D):ne==="time"?(oe=P.value)==null?void 0:oe.toggleTimePicker(!0,!1):W(D)},ie=(ne,...D)=>{var V,H;(V=P.value)!=null&&V[ne]&&((H=P.value)==null||H[ne](...D))},X=()=>{ie("selectCurrentDate")},ce=(ne,D)=>{ie("presetDate",ne,D)},be=()=>{ie("clearHoverDate")};return e({updateMonthYear:(ne,D)=>{ie("updateMonthYear",ne,D)},switchView:Q}),(ne,D)=>{var V;return q(),ee("div",{id:ne.uid?`dp-menu-${ne.uid}`:void 0,ref_key:"dpMenuRef",ref:b,tabindex:"0",role:"dialog",class:tt(O.value),onMouseleave:be,onClick:G,onKeydown:[at(z,["esc"]),D[18]||(D[18]=at(Lt(H=>te("left"),["prevent"]),["left"])),D[19]||(D[19]=at(Lt(H=>te("up"),["prevent"]),["up"])),D[20]||(D[20]=at(Lt(H=>te("down"),["prevent"]),["down"])),D[21]||(D[21]=at(Lt(H=>te("right"),["prevent"]),["right"])),he]},[(ne.disabled||ne.readonly)&&Y(h).enabled?(q(),ee("div",{key:0,class:tt(N.value)},null,2)):de("",!0),!Y(h).enabled&&!ne.teleportCenter?(q(),ee("div",{key:1,class:tt(B.value)},null,2)):de("",!0),Ae("div",{ref_key:"innerMenuRef",ref:E,class:tt({dp__menu_content_wrapper:((V=ne.presetDates)==null?void 0:V.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"]}),style:kr({"--dp-menu-width":`${g.value}px`})},[ne.$slots["left-sidebar"]?(q(),ee("div",tQ,[_e(ne.$slots,"left-sidebar",wn(er(U.value)))])):de("",!0),ne.presetDates.length?(q(),ee("div",nQ,[(q(!0),ee(Me,null,Ft(ne.presetDates,(H,oe)=>(q(),ee(Me,{key:oe},[H.slot?_e(ne.$slots,H.slot,{key:0,presetDate:ce,label:H.label,value:H.value}):(q(),ee("button",{key:1,type:"button",style:kr(H.style||{}),class:"dp__btn dp--preset-range",onClick:Lt(se=>ce(H.value,H.noTz),["prevent"]),onKeydown:[at(Lt(se=>ce(H.value,H.noTz),["prevent"]),["enter"]),at(Lt(se=>ce(H.value,H.noTz),["prevent"]),["space"])]},ht(H.label),45,rQ))],64))),128))])):de("",!0),Ae("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(q(),qe(Gr(C.value),pe({ref_key:"dynCmpRef",ref:P},s.value,{"flow-step":Y(I),onMount:Y(v),onUpdateFlowStep:Y(w),onResetFlow:Y(A),onFocusMenu:R,onSelectDate:D[0]||(D[0]=H=>ne.$emit("select-date")),onDateUpdate:D[1]||(D[1]=H=>ne.$emit("date-update",H)),onTooltipOpen:D[2]||(D[2]=H=>ne.$emit("tooltip-open",H)),onTooltipClose:D[3]||(D[3]=H=>ne.$emit("tooltip-close",H)),onAutoApply:D[4]||(D[4]=H=>ne.$emit("auto-apply",H)),onRangeStart:D[5]||(D[5]=H=>ne.$emit("range-start",H)),onRangeEnd:D[6]||(D[6]=H=>ne.$emit("range-end",H)),onInvalidFixedRange:D[7]||(D[7]=H=>ne.$emit("invalid-fixed-range",H)),onTimeUpdate:D[8]||(D[8]=H=>ne.$emit("time-update")),onAmPmChange:D[9]||(D[9]=H=>ne.$emit("am-pm-change",H)),onTimePickerOpen:D[10]||(D[10]=H=>ne.$emit("time-picker-open",H)),onTimePickerClose:Z,onRecalculatePosition:$,onUpdateMonthYear:D[11]||(D[11]=H=>ne.$emit("update-month-year",H)),onAutoApplyInvalid:D[12]||(D[12]=H=>ne.$emit("auto-apply-invalid",H)),onInvalidDate:D[13]||(D[13]=H=>ne.$emit("invalid-date",H)),"onUpdate:internalModelValue":D[14]||(D[14]=H=>ne.$emit("update:internal-model-value",H))}),tr({_:2},[Ft(F.value,(H,oe)=>({name:H,fn:Qe(se=>[_e(ne.$slots,H,wn(er({...se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ne.$slots["right-sidebar"]?(q(),ee("div",iQ,[_e(ne.$slots,"right-sidebar",wn(er(U.value)))])):de("",!0),ne.$slots["action-extra"]?(q(),ee("div",sQ,[ne.$slots["action-extra"]?_e(ne.$slots,"action-extra",{key:0,selectCurrentDate:X}):de("",!0)])):de("",!0)],6),!ne.autoApply||Y(f).keepActionRow?(q(),qe(oY,pe({key:2,"menu-mount":k.value},s.value,{"calendar-width":g.value,onClosePicker:D[15]||(D[15]=H=>ne.$emit("close-picker")),onSelectDate:D[16]||(D[16]=H=>ne.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=H=>ne.$emit("invalid-select")),onSelectNow:X}),tr({_:2},[Ft(Y(j),(H,oe)=>({name:H,fn:Qe(se=>[_e(ne.$slots,H,wn(er({...se})))])}))]),1040,["menu-mount","calendar-width"])):de("",!0)],42,eQ)}}}),oQ=typeof window<"u"?window:void 0,Kg=()=>{},aQ=t=>Zy()?(aA(t),!0):!1,lQ=(t,e,n,r)=>{if(!t)return Kg;let i=Kg;const s=In(()=>Y(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Kg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return aQ(o),o},uQ=(t,e,n,r={})=>{const{window:i=oQ,event:s="pointerdown"}=r;return i?lQ(i,s,o=>{const a=Mn(t),l=Mn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},cQ=Kt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Tm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Pa(),o=fe(!1),a=Nc(i,"modelValue"),l=Nc(i,"timezone"),u=fe(null),c=fe(null),h=fe(null),f=fe(!1),p=fe(null),g=fe(!1),b=fe(!1),{setMenuFocused:E,setShiftKey:k}=LN(),{clearArrowNav:P}=xo(),{mapDatesArrToMap:T,validateDate:y,isValidTime:M}=Fa(i),{defaultedTransitions:L,defaultedTextInput:S,defaultedInline:I,defaultedConfig:w}=Sn(i),{menuTransition:v,showTransition:A}=Xd(L);yn(()=>{te(i.modelValue),Hn().then(()=>{if(!I.value.enabled){const Oe=N(p.value);Oe==null||Oe.addEventListener("scroll",ne),window==null||window.addEventListener("resize",D)}}),I.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",V),window==null||window.addEventListener("keydown",H)});const C=le(()=>T());Oa(()=>{if(!I.value.enabled){const Oe=N(p.value);Oe==null||Oe.removeEventListener("scroll",ne),window==null||window.removeEventListener("resize",D)}window==null||window.removeEventListener("keyup",V),window==null||window.removeEventListener("keydown",H)});const R=Xr(s,"all",i.presetDates),U=Xr(s,"input");In([a,l],()=>{te(a.value)},{deep:!0});const{openOnTop:$,menuStyle:j,xCorrect:F,setMenuPosition:B,getScrollableParent:N,shadowRender:O}=KK({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:I,emit:r,props:i,slots:s}),{inputValue:G,internalModelValue:z,parseExternalModelValue:te,emitModelValue:he,formatInputValue:Z,checkBeforeEmit:W}=zK(r,i,f),Q=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:I.value.enabled,dp__flex_display_with_input:I.value.input})),ie=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=le(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||I.value.enabled})),ce=le(()=>({class:"dp__outer_menu_wrap"})),be=le(()=>I.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ne=()=>{o.value&&(w.value.closeOnScroll?Ie():B())},D=()=>{o.value&&B()},V=Oe=>{Oe.key==="Tab"&&!I.value.enabled&&!i.teleport&&w.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),b.value=Oe.shiftKey},H=Oe=>{b.value=Oe.shiftKey},oe=()=>{!i.disabled&&!i.readonly&&(O(UI,i),B(!1),o.value=!0,o.value&&r("open"),o.value||He(),te(i.modelValue))},se=()=>{var Oe;G.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),w.value.closeOnClearValue&&Ie()},me=()=>{const Oe=z.value;return!Oe||!Array.isArray(Oe)&&y(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&y(Oe[0])&&y(Oe[1])?!0:i.partialRange&&!i.timePicker?y(Oe[0]):!1:!1},Se=()=>{W()&&me()?(he(),Ie()):r("invalid-select",z.value)},Ee=Oe=>{Te(),he(),w.value.closeOnAutoApply&&!Oe&&Ie()},Te=()=>{h.value&&S.value.enabled&&h.value.setParsedDate(z.value)},ge=(Oe=!1)=>{i.autoApply&&M(z.value)&&me()&&(i.range&&Array.isArray(z.value)?(i.partialRange||z.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{S.value.enabled||(z.value=null)},Ie=()=>{I.value.enabled||(o.value&&(o.value=!1,F.value=!1,E(!1),k(!1),P(),r("closed"),G.value&&te(a.value)),He(),r("blur"))},Fe=(Oe,Be,je=!1)=>{if(!Oe){z.value=null;return}const zn=Array.isArray(Oe)?!Oe.some(Ba=>!y(Ba)):y(Oe),qr=M(Oe);zn&&qr&&(z.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ye=()=>{i.autoApply&&M(z.value)&&he(),Te()},Ge=()=>o.value?Ie():oe(),K=Oe=>{z.value=Oe},ae=()=>{S.value.enabled&&(f.value=!0,Z()),r("focus")},xe=()=>{if(S.value.enabled&&(f.value=!1,te(i.modelValue),g.value)){const Oe=SK(p.value,b.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:NI(Oe.month),year:NI(Oe.year)})},dt=Oe=>{te(Oe??i.modelValue)},xt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},qn=Oe=>w.value.onClickOutside?w.value.onClickOutside(Oe):Ie();return uQ(u,h,()=>qn(me)),e({closeMenu:Ie,selectDate:Se,clearValue:se,openMenu:oe,onScroll:ne,formatInputValue:Z,updateInternalModelValue:K,setMonthYear:We,parseModel:dt,switchView:xt,toggleMenu:Ge}),(Oe,Be)=>(q(),ee("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(Q.value),"data-datepicker-instance":""},[et(nY,pe({ref_key:"inputRef",ref:h,"input-value":Y(G),"onUpdate:inputValue":Be[0]||(Be[0]=je=>an(G)?G.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:se,onOpen:oe,onSetInputDate:Fe,onSetEmptyDate:Y(he),onSelectDate:Se,onToggle:Ge,onClose:Ie,onFocus:ae,onBlur:xe,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),tr({_:2},[Ft(Y(U),(je,zn)=>({name:je,fn:Qe(qr=>[_e(Oe.$slots,je,wn(er(qr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),et(LA,wn(er(X.value)),{default:Qe(()=>[et(Ro,{name:Y(v)(Y($)),css:Y(A)&&!Y(I).enabled},{default:Qe(()=>[o.value?(q(),ee("div",pe({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!Y(I).enabled},style:Y(I).enabled?void 0:Y(j)}),[et(UI,pe({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":Y(z),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>an(z)?z.value=je:null),class:{[ie.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":Y($),"arr-map-values":C.value,"no-overlay-focus":be.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:ge,onTimeUpdate:Ye,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",Y(z))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:Y(B),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),tr({_:2},[Ft(Y(R),(je,zn)=>({name:je,fn:Qe(qr=>[_e(Oe.$slots,je,wn(er({...qr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):de("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),Cb=(()=>{const t=cQ;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),dQ=Object.freeze(Object.defineProperty({__proto__:null,default:Cb},Symbol.toStringTag,{value:"Module"}));Object.entries(dQ).forEach(([t,e])=>{t!=="default"&&(Cb[t]=e)});function Yg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ob(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function hQ(t){return mQ(t)||pQ(t)||Ob(t)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mQ(t){if(Array.isArray(t))return My(t)}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Qg(t,e){return yQ(t)||vQ(t,e)||Ob(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ob(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function yQ(t){if(Array.isArray(t))return t}var Ne={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Qg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Cc(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(b){var E=Qg(b,2),k=E[0],P=E[1];return o==="style"&&(P||P===0)?"".concat(k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?k:void 0});h=g.length?h.concat(g.filter(function(b){return!!b})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=Qg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?hQ(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,b="top";u.top+a+s>f.height?(p=u.top+c-s,b="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=b,r&&(e.style.marginTop=b==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(E){try{var k=window.getComputedStyle(E,null);return i.test(k.getPropertyValue("overflow"))||i.test(k.getPropertyValue("overflowX"))||i.test(k.getPropertyValue("overflowY"))}catch{return!1}},o=Yg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Yg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(b){h.e(b)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(b){o.e(b)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Cc(HTMLElement))==="object"?e instanceof HTMLElement:e&&Cc(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Yg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wQ(r.key),r)}}function bQ(t,e,n){return e&&BI(t.prototype,e),n&&BI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wQ(t){var e=TQ(t,"string");return ud(e)=="symbol"?e:String(e)}function TQ(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jN=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};_Q(this,t),this.element=e,this.listener=n}return bQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=Ne.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function EQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function jI(t,e){return AQ(t)||SQ(t,e)||Pb(t,e)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function AQ(t){if(Array.isArray(t))return t}function HI(t){return PQ(t)||OQ(t)||Pb(t)||CQ()}function CQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PQ(t){if(Array.isArray(t))return Ly(t)}function Xg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Pb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Pb(t,e){if(t){if(typeof t=="string")return Ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(t,e)}}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var we={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Oc(e)=="object"&&Oc(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=Xg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=Xg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=Xg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Oc(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=HI(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(HI(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=jI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=jI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},WI=0;function vp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return WI++,"".concat(t).concat(WI)}function RQ(t){return xQ(t)||NQ(t)||DQ(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function NQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xQ(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return RQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Dl=MQ(),lr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function qI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=LQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function LQ(t,e){if(t){if(typeof t=="string")return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(t,e)}}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var HN={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=qI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=qI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=we.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)==we.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)!=we.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(we.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){VQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VQ(t,e,n){return e=FQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=$Q(t,"string");return cd(e)=="symbol"?e:String(e)}function $Q(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[lr.STARTS_WITH,lr.CONTAINS,lr.NOT_CONTAINS,lr.ENDS_WITH,lr.EQUALS,lr.NOT_EQUALS],numeric:[lr.EQUALS,lr.NOT_EQUALS,lr.LESS_THAN,lr.LESS_THAN_OR_EQUAL_TO,lr.GREATER_THAN,lr.GREATER_THAN_OR_EQUAL_TO],date:[lr.DATE_IS,lr.DATE_IS_NOT,lr.DATE_BEFORE,lr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},UQ=Symbol();function BQ(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var jQ={install:function(e,n){var r=n?Jg(Jg({},KI),n):Jg({},KI),i={config:Nr(r),changeTheme:BQ};e.config.globalProperties.$primevue=i,e.provide(UQ,i)}};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return e=WQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=qQ(t,"string");return dd(e)=="symbol"?e:String(e)}function qQ(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ti()?yn(t):e?t():Hn(t)}var GQ=0;function WN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=fe(!1),r=fe(t),i=fe(null),s=Ne.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++GQ):f,g=e.id,b=g===void 0?void 0:g,E=e.media,k=E===void 0?void 0:E,P=e.nonce,T=P===void 0?void 0:P,y=e.props,M=y===void 0?{}:y,L=function(){},S=function(v){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var C=QI(QI({},M),A),R=C.name||p,U=C.id||b,$=C.nonce||T;i.value=a.querySelector('style[data-primevue-style-id="'.concat(R,'"]'))||a.getElementById(U)||a.createElement("style"),i.value.isConnected||(r.value=v||t,Ne.setAttributes(i.value,{type:"text/css",id:U,media:k,nonce:$}),a.head.appendChild(i.value),Ne.setAttribute(i.value,"data-primevue-style-id",p),Ne.setAttributes(i.value,C)),!n.value&&(L=In(r,function(j){i.value.textContent=j},{immediate:!0}),n.value=!0)}},I=function(){!a||!n.value||(L(),Ne.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&zQ(S),{id:b,name:p,css:r,unload:I,load:S,isLoaded:r_(n)}}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function KQ(t,e){return JQ(t)||XQ(t,e)||QQ(t,e)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QQ(t,e){if(t){if(typeof t=="string")return XI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(t,e)}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function JQ(t){if(Array.isArray(t))return t}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){ZQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZQ(t,e,n){return e=eX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eX(t){var e=tX(t,"string");return hd(e)=="symbol"?e:String(e)}function tX(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nX=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,rX={},iX={},pi={name:"base",css:nX,classes:rX,inlineStyles:iX,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?WN(this.css,Zg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=KQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Zg(Zg({},this),{},{css:void 0},e)}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){oX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oX(t,e,n){return e=aX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aX(t){var e=lX(t,"string");return fd(e)=="symbol"?e:String(e)}function lX(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ev=pi.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return WN(e,sX({name:"global"},n))}});function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function uX(t){return GN(t)||cX(t)||zN(t)||qN()}function cX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wh(t,e){return GN(t)||dX(t,e)||zN(t,e)||qN()}function qN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zN(t,e){if(t){if(typeof t=="string")return eS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(t,e)}}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function GN(t){if(Array.isArray(t))return t}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){df(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function df(t,e,n){return e=hX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=fX(t,"string");return pd(e)=="symbol"?e:String(e)}function fX(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $a={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;ev.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var b=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,E=b?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,k=b?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=k||E)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;pi.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);we.isNotEmpty(n)&&ev.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?this._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,tn(tn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):tn(tn(tn({},f),p),g):tn(tn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return pe(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&we.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&tn(tn({},r==="root"&&tn(df({},"".concat(i,"name"),we.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&df({},"".concat(i,"extend"),we.toFlatCase(this.$.type.name)))),{},df({},"".concat(i,"section"),we.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return we.isString(e)||we.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=we.toFlatCase(r),f=we.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(b){return n(b,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:we.isString(p)?p:we.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):tn(tn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,tn(tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pe(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,tn(tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,tn(tn({},this.$params),r)),s=this._getOptionValue(ev.inlineStyles,e,tn(tn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return we.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,tn({},n.$params))||we.getItemValue(r,tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return tn(tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Wh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Wh(n,2),i=r[0],s=r[1],o=i.split(":"),a=uX(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Wh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Wh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},pX=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,mX=pi.extend({name:"baseicon",css:pX});function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){gX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gX(t,e,n){return e=vX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vX(t){var e=yX(t,"string");return md(e)=="symbol"?e:String(e)}function yX(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ua={name:"BaseIcon",extends:$a,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:mX,methods:{pti:function(){var e=we.isEmpty(this.label);return rS(rS({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},KN={name:"BlankIcon",extends:Ua},_X=Ae("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),bX=[_X];function wX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),bX,16)}KN.render=wX;var Sm={name:"CheckIcon",extends:Ua},TX=Ae("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),EX=[TX];function IX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),EX,16)}Sm.render=IX;var Rb={name:"ChevronDownIcon",extends:Ua},SX=Ae("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),AX=[SX];function CX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),AX,16)}Rb.render=CX;var kb={name:"SearchIcon",extends:Ua},OX=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),PX=[OX];function RX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),PX,16)}kb.render=RX;var Am={name:"SpinnerIcon",extends:Ua},kX=Ae("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),DX=[kX];function NX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),DX,16)}Am.render=NX;var Db={name:"TimesIcon",extends:Ua},xX=Ae("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),MX=[xX];function LX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),MX,16)}Db.render=LX;var YN=EQ(),Nb={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=Ne.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function VX(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(q(),qe(LA,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):de("",!0)}Nb.render=VX;function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function iS(t,e){return BX(t)||UX(t,e)||$X(t,e)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $X(t,e){if(t){if(typeof t=="string")return sS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sS(t,e)}}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function BX(t){if(Array.isArray(t))return t}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){Fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fy(t,e,n){return e=jX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=HX(t,"string");return gd(e)=="symbol"?e:String(e)}function HX(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ct={_getMeta:function(){return[we.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],we.getItemValue(we.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?Ct._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var P=Ct._getOptionValue.apply(Ct,arguments);return we.isString(P)||we.isArray(P)?{class:P}:P},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?Ct._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,b=Ct._usePT(r,Ct._getPT(i,r.$name),l,s,cn(cn({},o),{},{global:g||{}})),E=Ct._getPTDatasets(r,s);return h||!h&&b?p?Ct._mergeProps(r,p,g,b,E):cn(cn(cn({},g),b),E):cn(cn({},b),E)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return cn(cn({},n==="root"&&Fy({},"".concat(r,"name"),we.toFlatCase(e.$name))),{},Fy({},"".concat(r,"section"),we.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=we.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(E){return r(E,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:we.isString(g)?g:we.isString(p)?p:c||!c&&g?f?Ct._mergeProps(e,f,p,g):cn(cn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Ct._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(we.toCapitalCase(n)),c=Ct._getConfig(i,s),h=r==null?void 0:r.$instance,f=Ct._usePT(h,Ct._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Ct._getOptionValue,"hooks.".concat(u)),p=Ct._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Ct._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=Ct._getConfig(a,l),p=o._$instances[e]||{},g=we.isEmpty(p)?cn(cn({},n),n==null?void 0:n.methods):{};o._$instances[e]=cn(cn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:cn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return Ct._getPT(f==null?void 0:f.pt,void 0,function(E){var k;return E==null||(k=E.directives)===null||k===void 0?void 0:k[e]})},isUnstyled:function(){var E,k;return((E=o.$instance)===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.unstyled)!==void 0?(k=o.$instance)===null||k===void 0||(k=k.$binding)===null||k===void 0||(k=k.value)===null||k===void 0?void 0:k.unstyled:f==null?void 0:f.unstyled},ptm:function(){var E,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ct._getPTValue(o.$instance,(E=o.$instance)===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.pt,k,cn({},P))},ptmo:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ct._getPTValue(o.$instance,E,k,P,!1)},cx:function(){var E,k,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(E=o.$instance)!==null&&E!==void 0&&E.isUnstyled()?void 0:Ct._getOptionValue((k=o.$instance)===null||k===void 0||(k=k.$style)===null||k===void 0?void 0:k.classes,P,cn({},T))},sx:function(){var E,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P?Ct._getOptionValue((E=o.$instance)===null||E===void 0||(E=E.$style)===null||E===void 0?void 0:E.inlineStyles,k,cn({},T)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,Ct._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);pi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);pi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Ct._getMeta.apply(Ct,arguments),n=iS(e,2),r=n[0],i=n[1];return cn({extend:function(){var o=Ct._getMeta.apply(Ct,arguments),a=iS(o,2),l=a[0],u=a[1];return Ct.extend(l,cn(cn(cn({},i),i==null?void 0:i.methods),u))}},Ct._extend(r,i))}},WX={root:"p-ink"},qX=pi.extend({name:"ripple",classes:WX}),zX=Ct.extend({style:qX});function GX(t){return XX(t)||QX(t)||YX(t)||KX()}function KX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(t,e){if(t){if(typeof t=="string")return $y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(t,e)}}function QX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XX(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var QN=zX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=Ne.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&Ne.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!Ne.getHeight(i)&&!Ne.getWidth(i)){var s=Math.max(Ne.getOuterWidth(r),Ne.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=Ne.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-Ne.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-Ne.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&Ne.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&Ne.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Ne.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?GX(e.children).find(function(n){return Ne.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),JX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,aS=pi.extend({name:"virtualscroller",css:JX}),ZX={name:"BaseVirtualScroller",extends:$a,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:aS,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;aS.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){XN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XN(t,e,n){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=tJ(t,"string");return vd(e)=="symbol"?e:String(e)}function tJ(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xb={name:"VirtualScroller",extends:ZX,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Ne.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Ne.getWidth(this.element),this.defaultHeight=Ne.getHeight(this.element),this.defaultContentWidth=Ne.getWidth(this.content),this.defaultContentHeight=Ne.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(S){return S>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,b=this.getContentPosition(),E=this.itemSize,k=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1?arguments[1]:void 0;return I<=w?0:I},P=function(I,w,v){return I*w+v},T=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:I,top:w,behavior:r})},y=i?{rows:0,cols:0}:0,M=!1,L=!1;i?(y={rows:k(e[0],g[0]),cols:k(e[1],g[1])},T(P(y.cols,E[1],b.left),P(y.rows,E[0],b.top)),L=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,M=y.rows!==a.rows||y.cols!==a.cols):(y=k(e,g),s?T(P(y,E,b.left),c):T(f,P(y,E,b.top)),L=this.lastScrollPos!==(s?f:c),M=y!==a),this.isRangeChanged=M,L&&(this.first=y)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(E){return E>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:k,top:P,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var b=(c.first+1)*this.itemSize;o?h(b,0):h(0,b)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[Ne.getWidth(e.element),Ne.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=zu(zu({},e.spacerStyle),XN({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=zu(zu({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(A,C){return A?A>C?A-C:A:0},l=function(A,C){return Math.floor(A/(C||A))},u=function(A,C,R,U,$,j){return A<=$?$:j?R-U-$:C+$-1},c=function(A,C,R,U,$,j,F){return A<=j?0:Math.max(0,F?A<C?R:A-j:A>C?R:A-2*j)},h=function(A,C,R,U,$,j){var F=C+U+2*$;return A>=$&&(F+=$+1),n.getLast(F,j)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,b=this.last,E=!1,k=this.lastScrollPos;if(i){var P=this.lastScrollPos.top<=f,T=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(P||T)){var y={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(y.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:u(y.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)};g={rows:c(y.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:c(y.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)},b={rows:h(y.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(y.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},E=g.rows!==this.first.rows||b.rows!==this.last.rows||g.cols!==this.first.cols||b.cols!==this.last.cols||this.isRangeChanged,k={top:f,left:p}}}else{var L=s?p:f,S=this.lastScrollPos<=L;if(!this.appendOnly||this.appendOnly&&S){var I=l(L,this.itemSize),w=u(I,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S);g=c(I,w,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S),b=h(I,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),E=g!==this.first||b!==this.last||this.isRangeChanged,k=L}}return{first:g,last:b,isRangeChanged:E,scrollPos:k}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Ne.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[Ne.getWidth(e.element),Ne.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=Ne.getWidth(e.content),e.defaultContentHeight=Ne.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return zu({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||Ne.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Am}},nJ=["tabindex"];function rJ(t,e,n,r,i,s){var o=Kr("SpinnerIcon");return t.disabled?(q(),ee(Me,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(q(),ee("div",pe({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ae("div",pe({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(q(!0),ee(Me,null,Ft(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(q(),ee("div",pe({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):de("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(q(),ee("div",pe({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(q(!0),ee(Me,{key:0},Ft(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):de("",!0),_e(t.$slots,"loadingicon",{},function(){return[et(o,pe({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):de("",!0)],16,nJ))}xb.render=rJ;var iJ={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},sJ=pi.extend({name:"dropdown",classes:iJ}),oJ={name:"BaseDropdown",extends:$a,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:sJ,provide:function(){return{$parentInstance:this}}};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function aJ(t){return dJ(t)||cJ(t)||uJ(t)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(t,e){if(t){if(typeof t=="string")return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}}function cJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dJ(t){if(Array.isArray(t))return Uy(t)}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){JN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JN(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=fJ(t,"string");return yd(e)=="symbol"?e:String(e)}function fJ(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZN={name:"Dropdown",extends:oJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||vp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||vp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Dl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Ne.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Ne.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||Ne.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&we.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ne.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ne.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ne.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ne.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){YN.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Ne.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Dl.set("overlay",e,this.$primevue.config.zIndex.overlay),Ne.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Ne.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Dl.clear(e)},alignOverlay:function(){this.appendTo==="self"?Ne.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Ne.getOuterWidth(this.$el)+"px",Ne.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new jN(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Ne.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&Ne.isVisible(n)&&(this.labelClickListener=function(){Ne.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&Ne.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return Ne.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&we.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Ne.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=HN.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(cS(cS({},o),{},JN({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",aJ(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:QN},components:{VirtualScroller:xb,Portal:Nb,TimesIcon:Db,ChevronDownIcon:Rb,SpinnerIcon:Am,SearchIcon:kb,CheckIcon:Sm,BlankIcon:KN}};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){pJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pJ(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=gJ(t,"string");return _d(e)=="symbol"?e:String(e)}function gJ(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vJ=["id"],yJ=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],_J=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],bJ=["value","placeholder","aria-owns","aria-activedescendant"],wJ=["id","aria-label"],TJ=["id"],EJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function IJ(t,e,n,r,i,s){var o=Kr("SpinnerIcon"),a=Kr("CheckIcon"),l=Kr("BlankIcon"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=qA("ripple");return q(),ee("div",pe({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(q(),ee("input",pe({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Fi(Fi({},t.inputProps),t.ptm("input"))),null,16,yJ)):(q(),ee("span",pe({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Fi(Fi({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Nn(ht(s.label==="p-emptylabel"?"":s.label||"empty"),1)]})],16,_J)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(q(),qe(Gr(t.clearIcon?"i":"TimesIcon"),pe({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Fi(Fi({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):de("",!0),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(q(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(q(),qe(o,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(q(),qe(Gr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(Ro,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(q(),ee("div",pe({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Fi(Fi({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(q(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[Ae("div",pe({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Fi(Fi({},t.filterInputProps),t.ptm("filterInput"))),null,16,bJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(q(),qe(Gr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)],16)):de("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),tr({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,E=f.getItemOptions,k=f.contentStyle,P=f.itemSize;return[Ae("ul",pe({ref:function(y){return s.listRef(y,g)},id:i.id+"_list",class:[t.cx("list"),p],style:k,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(q(!0),ee(Me,null,Ft(b,function(T,y){return q(),ee(Me,{key:s.getOptionRenderKey(T,s.getOptionIndex(y,E))},[s.isOptionGroup(T)?(q(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(y,E)},function(){return[Ae("span",pe({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),ht(s.getOptionGroupLabel(T.optionGroup)),17)]})],16,TJ)):Zo((q(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(y,E),class:t.cx("item",{option:T,focusedOption:s.getOptionIndex(y,E)}),style:{height:P?P+"px":void 0},role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(y,E)),onClick:function(L){return s.onOptionSelect(L,T)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(y,E))},"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(y,E),"data-p-disabled":s.isOptionDisabled(T)},s.getPTItemOptions(T,E,y,"item")),[t.checkmark?(q(),ee(Me,{key:0},[s.isSelected(T)?(q(),qe(a,pe({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(q(),qe(l,pe({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):de("",!0),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(y,E)},function(){return[Ae("span",pe({class:t.cx("itemLabel")},t.ptm("itemLabel")),ht(s.getOptionLabel(T)),17)]})],16,EJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(q(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[Nn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(q(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[Nn(ht(s.emptyMessageText),1)]})],16)):de("",!0)],16,wJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(q(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):de("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,vJ)}ZN.render=IJ;var SJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},AJ=pi.extend({name:"inputtext",classes:SJ}),CJ={name:"BaseInputText",extends:$a,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:AJ,provide:function(){return{$parentInstance:this}}},ex={name:"InputText",extends:CJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},OJ=["value","aria-invalid"];function PJ(t,e,n,r,i,s){return q(),ee("input",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,OJ)}ex.render=PJ;var RJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},kJ=pi.extend({name:"checkbox",classes:RJ}),DJ={name:"BaseCheckbox",extends:$a,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:kJ,provide:function(){return{$parentInstance:this}}};function NJ(t){return VJ(t)||LJ(t)||MJ(t)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(t,e){if(t){if(typeof t=="string")return By(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return By(t,e)}}function LJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VJ(t){if(Array.isArray(t))return By(t)}function By(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tx={name:"Checkbox",extends:DJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!we.equals(i,n.value)}):r=this.modelValue?[].concat(NJ(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:we.contains(this.value,this.modelValue)}},components:{CheckIcon:Sm}},FJ=["data-p-highlight","data-p-disabled"],$J=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function UJ(t,e,n,r,i,s){var o=Kr("CheckIcon");return q(),ee("div",pe({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ae("input",pe({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,$J),Ae("div",pe({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(q(),qe(o,pe({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):de("",!0)]})],16)],16,FJ)}tx.render=UJ;var nx={name:"TimesCircleIcon",extends:Ua},BJ=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),jJ=[BJ];function HJ(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),jJ,16)}nx.render=HJ;var WJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},qJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},zJ=pi.extend({name:"multiselect",classes:qJ,inlineStyles:WJ}),GJ={name:"BaseMultiSelect",extends:$a,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:zJ,provide:function(){return{$parentInstance:this}}};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rx(t,e,n){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=YJ(t,"string");return bd(e)=="symbol"?e:String(e)}function YJ(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pS(t){return ZJ(t)||JJ(t)||XJ(t)||QJ()}function QJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(t,e){if(t){if(typeof t=="string")return jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jy(t,e)}}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZJ(t){if(Array.isArray(t))return jy(t)}function jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ix={name:"MultiSelect",extends:GJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||vp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||vp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Dl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&Ne.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Ne.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ne.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ne.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ne.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ne.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!we.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(pS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&Ne.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){YN.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Ne.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Dl.set("overlay",e,this.$primevue.config.zIndex.overlay),Ne.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Ne.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Dl.clear(e)},alignOverlay:function(){this.appendTo==="self"?Ne.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Ne.getOuterWidth(this.$el)+"px",Ne.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new jN(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Ne.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&we.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!we.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return Ne.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return we.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?we.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Ne.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=HN.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(fS(fS({},o),{},rx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",pS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:we.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:QN},components:{Checkbox:tx,VirtualScroller:xb,Portal:Nb,TimesIcon:Db,SearchIcon:kb,TimesCircleIcon:nx,ChevronDownIcon:Rb,SpinnerIcon:Am,CheckIcon:Sm}};function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function mS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(n),!0).forEach(function(r){Hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hy(t,e,n){return e=eZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eZ(t){var e=tZ(t,"string");return wd(e)=="symbol"?e:String(e)}function tZ(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nZ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],rZ=["onClick"],iZ=["value","placeholder","aria-owns","aria-activedescendant"],sZ=["aria-label"],oZ=["id","aria-label"],aZ=["id"],lZ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function uZ(t,e,n,r,i,s){var o=Kr("TimesCircleIcon"),a=Kr("SpinnerIcon"),l=Kr("Checkbox"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=qA("ripple");return q(),ee("div",pe({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ae("div",pe({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ae("input",pe({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Gs(Gs({},t.inputProps),t.ptm("hiddenInput"))),null,16,nZ)],16),Ae("div",pe({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ae("div",pe({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(q(),ee(Me,{key:0},[Nn(ht(s.label||"empty"),1)],64)):t.display==="chip"?(q(),ee(Me,{key:1},[(q(!0),ee(Me,null,Ft(s.chipSelectedItems,function(f){return q(),ee("div",pe({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:f},function(){return[Ae("span",pe({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),ht(s.getLabelByValue(f)),17)]}),t.disabled?de("",!0):_e(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(q(),ee("span",pe({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,rZ)):(q(),qe(o,pe({key:1,class:t.cx("removeTokenIcon"),onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(q(),ee(Me,{key:0},[Nn(ht(t.placeholder||"empty"),1)],64)):de("",!0)],64)):de("",!0)]})],16)],16),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(q(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(q(),qe(a,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(q(),qe(Gr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(Ro,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(q(),ee("div",pe({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Gs(Gs({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(q(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(q(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(q(),qe(Gr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(q(),qe(Gr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[f.class,Hy({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):de("",!0),t.filter?(q(),ee("div",pe({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Gs(Gs({},t.filterInputProps),t.ptm("filterInput"))),null,16,iZ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(q(),qe(Gr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):de("",!0),t.filter?(q(),ee("span",pe({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)):de("",!0),Zo((q(),ee("button",pe({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Gs(Gs({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(q(),qe(Gr(t.closeIcon?"span":"TimesIcon"),pe({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,sZ)),[[h]])],16)):de("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),tr({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,E=f.getItemOptions,k=f.contentStyle,P=f.itemSize;return[Ae("ul",pe({ref:function(y){return s.listRef(y,g)},id:i.id+"_list",class:[t.cx("list"),p],style:k,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(q(!0),ee(Me,null,Ft(b,function(T,y){return q(),ee(Me,{key:s.getOptionRenderKey(T,s.getOptionIndex(y,E))},[s.isOptionGroup(T)?(q(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(y,E)},function(){return[Nn(ht(s.getOptionGroupLabel(T.optionGroup)),1)]})],16,aZ)):Zo((q(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("item",{option:T,index:y,getItemOptions:E}),role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(y,E)),onClick:function(L){return s.onOptionSelect(L,T,s.getOptionIndex(y,E),!0)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(y,E))}},s.getCheckboxPTOptions(T,E,y,"item"),{"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(y,E),"data-p-disabled":s.isOptionDisabled(T)}),[et(l,{modelValue:s.isSelected(T),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(T,E,y,"itemCheckbox")},{icon:Qe(function(M){return[t.$slots.itemcheckboxicon?(q(),qe(Gr(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:tt(M.class)},null,8,["checked","class"])):M.checked?(q(),qe(Gr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[M.class,Hy({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(T,E,y,"itemCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(y,E)},function(){return[Ae("span",wn(er(t.ptm("option"))),ht(s.getOptionLabel(T)),17)]})],16,lZ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(q(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[Nn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(q(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[Nn(ht(s.emptyMessageText),1)]})],16)):de("",!0)],16,oZ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(q(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):de("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}ix.render=uZ;var cZ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},dZ=pi.extend({name:"textarea",classes:cZ}),hZ={name:"BaseTextarea",extends:$a,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:dZ,provide:function(){return{$parentInstance:this}}},sx={name:"Textarea",extends:hZ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},fZ=["value","aria-invalid"];function pZ(t,e,n,r,i,s){return q(),ee("textarea",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,fZ)}sx.render=pZ;/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function mZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ox(r.key),r)}}function gZ(t,e,n){return e&&gS(t.prototype,e),n&&gS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vZ(t,e,n){return(e=ox(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(n),!0).forEach(function(r){vZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ox(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}var yS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},_Z='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Cm=typeof window<"u"&&typeof window.document<"u",xs=Cm?window:{},Nl=Cm&&xs.document.documentElement?"ontouchstart"in xs.document.documentElement:!1,Lb=Cm?"PointerEvent"in xs:!1,lt="viewer",hf="move",ax="switch",nc="zoom",qh="".concat(lt,"-active"),bZ="".concat(lt,"-close"),ff="".concat(lt,"-fade"),qy="".concat(lt,"-fixed"),wZ="".concat(lt,"-fullscreen"),_S="".concat(lt,"-fullscreen-exit"),Go="".concat(lt,"-hide"),TZ="".concat(lt,"-hide-md-down"),EZ="".concat(lt,"-hide-sm-down"),IZ="".concat(lt,"-hide-xs-down"),ii="".concat(lt,"-in"),Pc="".concat(lt,"-invisible"),xl="".concat(lt,"-loading"),SZ="".concat(lt,"-move"),bS="".concat(lt,"-open"),Za="".concat(lt,"-show"),mn="".concat(lt,"-transition"),iu="click",zy="dblclick",wS="dragstart",TS="focusin",ES="keydown",oi="load",aa="error",AZ=Nl?"touchend touchcancel":"mouseup",CZ=Nl?"touchmove":"mousemove",OZ=Nl?"touchstart":"mousedown",IS=Lb?"pointerdown":OZ,SS=Lb?"pointermove":CZ,AS=Lb?"pointerup pointercancel":AZ,CS="resize",yi="transitionend",OS="wheel",PS="ready",RS="show",kS="shown",DS="hide",NS="hidden",xS="view",Td="viewed",MS="move",LS="moved",VS="rotate",FS="rotated",$S="scale",US="scaled",BS="zoom",jS="zoomed",HS="play",WS="stop",yp="".concat(lt,"Action"),Vb=/\s\s*/,zh=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Ed(t){return typeof t=="string"}var PZ=Number.isNaN||xs.isNaN;function dn(t){return typeof t=="number"&&!PZ(t)}function ml(t){return typeof t>"u"}function su(t){return Wy(t)==="object"&&t!==null}var RZ=Object.prototype.hasOwnProperty;function gl(t){if(!su(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&RZ.call(n,"isPrototypeOf")}catch{return!1}}function qt(t){return typeof t=="function"}function Xt(t,e){if(t&&qt(e))if(Array.isArray(t)||dn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else su(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Jr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return su(e)&&r.length>0&&r.forEach(function(s){su(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},kZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Si(t,e){var n=t.style;Xt(e,function(r,i){kZ.test(i)&&dn(r)&&(r+="px"),n[i]=r})}function DZ(t){return Ed(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function ll(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(n){Pt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Id(t,e,n){if(e){if(dn(t.length)){Xt(t,function(r){Id(r,e,n)});return}n?nt(t,e):Pt(t,e)}}var NZ=/([a-z\d])([A-Z])/g;function Fb(t){return t.replace(NZ,"$1-$2").toLowerCase()}function vl(t,e){return su(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Fb(e)))}function Gy(t,e,n){su(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Fb(e)),n)}var lx=function(){var t=!1;if(Cm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});xs.addEventListener("test",n,r),xs.removeEventListener("test",n,r)}return t}();function zt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Vb).forEach(function(s){if(!lx){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Vb).forEach(function(s){if(r.once&&!lx){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function _n(t,e,n,r){var i;return qt(Event)&&qt(CustomEvent)?i=new CustomEvent(e,Mb({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function xZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function pf(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];dn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),dn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),dn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),dn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),dn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function MZ(t){return Ed(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var tv=xs.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(xs.navigator.userAgent);function ux(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!tv)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),tv||i.removeChild(r)},Xt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,tv||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Gh(t){switch(t){case 2:return IZ;case 3:return EZ;case 4:return TZ;default:return""}}function LZ(t){var e=Mb({},t),n=[];return Xt(t,function(r,i){delete e[i],Xt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Kh(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:Mb({timeStamp:Date.now(),startX:n,startY:r},i)}function VZ(t){var e=0,n=0,r=0;return Xt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var FZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Jr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Si(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Xt(this.images,function(o,a){var l=o.src,u=o.alt||MZ(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Xt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Xt(s,function(o){var a=o.firstElementChild,l,u;Gy(a,"filled",!0),r.loading&&nt(o,xl),it(a,oi,l=function(h){zt(a,aa,u),r.loading&&Pt(o,xl),e.loadImage(h)},{once:!0}),it(a,aa,u=function(){zt(a,oi,l),r.loading&&Pt(o,xl)},{once:!0})}),r.transition&&it(n,Td,function(){nt(i,mn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Si(this.list,Jr({width:o*this.length-i},pf({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Pt(e,mn),Si(e,pf({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=ux(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),b=a,E=l;n.imageInitializing=!1,l*p>a?E=a/p:b=l*p,g=dn(g)?g:.9,b=Math.min(b*g,h),E=Math.min(E*g,f);var k=(a-b)/2,P=(l-E)/2,T={left:k,top:P,x:k,y:P,width:b,height:E,oldRatio:1,ratio:b/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},y=Jr({},T);r.rotatable&&(T.rotate=u.rotate||0,y.rotate=0),r.scalable&&(T.scaleX=u.scaleX||1,T.scaleY=u.scaleY||1,y.scaleX=1,y.scaleY=1),n.imageData=T,n.initialImageData=y,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Si(r,Jr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},pf(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&ll(r,mn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){zt(r,yi,s)}},it(r,yi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},$Z={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,iu,this.onClick=this.click.bind(this)),it(n,wS,this.onDragStart=this.dragstart.bind(this)),it(r,IS,this.onPointerDown=this.pointerdown.bind(this)),it(i,SS,this.onPointerMove=this.pointermove.bind(this)),it(i,AS,this.onPointerUp=this.pointerup.bind(this)),it(i,ES,this.onKeyDown=this.keydown.bind(this)),it(window,CS,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,OS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,zy,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;zt(n,iu,this.onClick),zt(n,wS,this.onDragStart),zt(r,IS,this.onPointerDown),zt(i,SS,this.onPointerMove),zt(i,AS,this.onPointerUp),zt(i,ES,this.onKeyDown),zt(window,CS,this.onResize),e.zoomable&&e.zoomOnWheel&&zt(n,OS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&zt(r,zy,this.onDblclick)}},UZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=vl(i,yp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=vl(i,yp)),Nl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(vl(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Nl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Pt(i,Pc),r.loading&&Pt(this.canvas,xl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Id(i,SZ,r.movable),Id(i,mn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,qt(r.viewed)&&it(n,Td,r.viewed,{once:!0}),_n(n,Td,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!vl(n,"filled");ux(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Si(n,Jr({width:c,height:h},pf({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(dn(i)&&i!==1||dn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(a){r[a.identifier]=Kh(a)}):r[e.pointerId||0]=Kh(e);var o=n.movable?hf:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=nc:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=ax),n.transition&&(o===hf||o===nc)&&Pt(this.image,mn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(i){Jr(n[i.identifier]||{},Kh(i,!0))}):Jr(n[e.pointerId||0]||{},Kh(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Xt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===hf||i===nc)&&nt(this.image,mn),this.action=!1,Nl&&i!==nc&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){_n(n.image,zy,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){_n(n.canvas,iu,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Xt(this.player.getElementsByTagName("img"),function(n){it(n,oi,e.loadImage.bind(e),{once:!0}),_n(n,oi)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},BZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(qt(r.show)&&it(n,RS,r.show,{once:!0}),_n(n,RS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Pt(i,Go),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){zt(i,yi,s),Pt(i,ii)}},nt(i,mn),i.initialOffsetWidth=i.offsetWidth,it(i,yi,s,{once:!0}),nt(i,ii)}else nt(i,ii),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(qt(i.hide)&&it(r,DS,i.hide,{once:!0}),_n(r,DS)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Pt(s,ii),e.hidden()};if(i.transition&&!n){var l=function(h){h&&h.target===s&&(zt(s,yi,l),e.hidden())},u=function(){ll(s,mn)?(it(s,yi,l),Pt(s,ii)):a()};this.transitioning={abort:function(){e.viewed&&ll(o,mn)?zt(o,yi,u):ll(s,mn)&&zt(s,yi,l)}},this.viewed&&ll(o,mn)?(it(o,yi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=vl(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Xt(i.inheritedAttributes,function(E){var k=l.getAttribute(E);k!==null&&h.setAttribute(E,k)}),h.src=u,h.alt=c,qt(i.view)&&it(r,xS,i.view,{once:!0}),_n(r,xS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,qh),f.removeAttribute("aria-selected")),nt(a,qh),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Pc),i.loading&&nt(o,xl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var k=e.imageData,P=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=DZ(qt(P)?P.call(e,h,k):"".concat(c," (").concat(k.naturalWidth,"  ").concat(k.naturalHeight,")"))},g,b;return it(r,Td,p,{once:!0}),this.viewing={abort:function(){zt(r,Td,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",zt(h,oi,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,oi,g=function(){zt(h,aa,b),e.load()},{once:!0}),it(h,aa,b=function(){zt(h,oi,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Pt(h,Pc),i.loading&&Pt(e.canvas,xl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Pt(h,Pc),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(ml(e)?e:r.x+Number(e),ml(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(dn(e)?c=!0:e=l,dn(r)?c=!0:r=u,c){if(qt(o.move)&&it(s,MS,o.move,{once:!0}),_n(s,MS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,qt(o.moved)&&it(s,LS,o.moved,{once:!0}),_n(s,LS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),dn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(qt(i.rotate)&&it(r,VS,i.rotate,{once:!0}),_n(r,VS,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,qt(i.rotated)&&it(r,FS,i.rotated,{once:!0}),_n(r,FS,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(dn(e)?u=!0:e=a,dn(r)?u=!0:r=l,u){if(qt(s.scale)&&it(i,$S,s.scale,{once:!0}),_n(i,$S,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,qt(s.scaled)&&it(i,US,s.scaled,{once:!0}),_n(i,US,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,b=c.naturalWidth,E=c.naturalHeight;if(e=Math.max(0,e),dn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var k=Math.max(.01,l.minZoomRatio),P=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,k),P)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var T=b*e,y=E*e,M=T-p,L=y-g,S=c.ratio;if(qt(l.zoom)&&it(a,BS,l.zoom,{once:!0}),_n(a,BS,{ratio:e,oldRatio:S,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var I=xZ(this.viewer),w=u&&Object.keys(u).length>0?VZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((w.pageX-I.left-h)/p),c.y-=L*((w.pageY-I.top-f)/g)}else gl(i)&&dn(i.x)&&dn(i.y)?(c.x-=M*((i.x-h)/p),c.y-=L*((i.y-f)/g)):(c.x-=M/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=T,c.height=y,c.oldRatio=S,c.ratio=e,this.renderImage(function(){n.zooming=!1,qt(l.zoomed)&&it(a,jS,l.zoomed,{once:!0}),_n(a,jS,{ratio:e,oldRatio:S,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(qt(i.play)&&it(r,HS,i.play,{once:!0}),_n(r,HS)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,Za),Xt(this.items,function(f,p){var g=f.querySelector("img"),b=document.createElement("img");b.src=vl(g,"originalUrl"),b.alt=g.getAttribute("alt"),b.referrerPolicy=g.referrerPolicy,l+=1,nt(b,ff),Id(b,mn,i.transition),ll(f,qh)&&(nt(b,ii),u=p),a.push(b),it(b,oi,o,{once:!0}),s.appendChild(b)}),dn(i.interval)&&i.interval>0){var c=function(){clearTimeout(e.playing.timeout),Pt(a[u],ii),u-=1,u=u>=0?u:l-1,nt(a[u],ii),e.playing.timeout=setTimeout(c,i.interval)},h=function(){clearTimeout(e.playing.timeout),Pt(a[u],ii),u+=1,u=u<l?u:0,nt(a[u],ii),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(qt(r.stop)&&it(n,WS,r.stop,{once:!0}),_n(n,WS)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Xt(i.getElementsByTagName("img"),function(s){zt(s,oi,e.onLoadWhenPlay)}),Pt(i,Za),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,_S),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),nt(r,qy),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Si(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Jr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Pt(this.button,_S),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Pt(r,qy),Si(r,{zIndex:n.zIndexInline}),this.viewerData=Jr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&_n(r,yi),nt(r,Za),nt(r,ff),nt(r,mn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ii)):(nt(r,Za),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,yi,function(){Pt(r,Za),Pt(r,ff),Pt(r,mn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Pt(r,ii),e.fading=!0):(Pt(r,Za),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Jr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Xt(i?[n]:n.querySelectorAll("img"),function(u){qt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Xt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Si(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,qh),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[lt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||zt(e,iu,this.onStart),e[lt]=void 0,this):this}},jZ={getImageURL:function(e){var n=this.options.url;return Ed(n)?n=e.getAttribute(n):qt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,TS,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(zt(document,TS,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,bS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Pt(e,bS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),qt(n.shown)&&it(e,kS,n.shown,{once:!0}),_n(e,kS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,Go),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(qt(n.hidden)&&it(e,NS,n.hidden,{once:!0}),_n(e,NS,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?gl(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case hf:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case nc:this.zoom(LZ(r),!1,null,e);break;case ax:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Xt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},HZ=xs.Viewer,WZ=function(t){return function(){return t+=1,t}}(-1),ou=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Jr({},yS,gl(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=WZ(),this.init()}return gZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[lt]){r[lt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Xt(s?[r]:r.querySelectorAll("img"),function(u){qt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),ml(document.createElement(lt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Xt(o,function(c){c.complete||(zt(c,oi,l),zt(c,aa,l))})}},Xt(o,function(u){if(u.complete)l();else{var c,h;it(u,oi,c=function(){zt(u,aa,h),l()},{once:!0}),it(u,aa,h=function(){zt(u,oi,c),l()},{once:!0})}})}else it(r,iu,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!qt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=_Z;var o=s.querySelector(".".concat(lt,"-container")),a=o.querySelector(".".concat(lt,"-title")),l=o.querySelector(".".concat(lt,"-toolbar")),u=o.querySelector(".".concat(lt,"-navbar")),c=o.querySelector(".".concat(lt,"-button")),h=o.querySelector(".".concat(lt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(lt,"-footer")),this.tooltipBox=o.querySelector(".".concat(lt,"-tooltip")),this.player=o.querySelector(".".concat(lt,"-player")),this.list=o.querySelector(".".concat(lt,"-list")),o.id="".concat(lt).concat(this.id),a.id="".concat(lt,"Title").concat(this.id),nt(a,r.title?Gh(Array.isArray(r.title)?r.title[0]:r.title):Go),nt(u,r.navbar?Gh(r.navbar):Go),Id(c,Go,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(lt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Gy(h,yp,"hide")),Ed(r.className)&&r.className&&r.className.split(Vb).forEach(function(T){nt(o,T)}),r.toolbar){var f=document.createElement("ul"),p=gl(r.toolbar),g=zh.slice(0,3),b=zh.slice(7,9),E=zh.slice(9);p||nt(l,Gh(r.toolbar)),Xt(p?r.toolbar:zh,function(T,y){var M=p&&gl(T),L=p?Fb(y):T,S=M&&!ml(T.show)?T.show:T;if(!(!S||!r.zoomable&&g.indexOf(L)!==-1||!r.rotatable&&b.indexOf(L)!==-1||!r.scalable&&E.indexOf(L)!==-1)){var I=M&&!ml(T.size)?T.size:T,w=M&&!ml(T.click)?T.click:T,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(lt,"-").concat(L)),qt(w)||Gy(v,yp,L),dn(S)&&nt(v,Gh(S)),["small","large"].indexOf(I)!==-1?nt(v,"".concat(lt,"-").concat(I)):L==="play"&&nt(v,"".concat(lt,"-large")),qt(w)&&it(v,iu,w),f.appendChild(v)}}),l.appendChild(f)}else nt(l,Go);if(!r.rotatable){var k=l.querySelectorAll('li[class*="rotate"]');nt(k,Pc),Xt(k,function(T){l.appendChild(T)})}if(r.inline)nt(c,wZ),Si(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Si(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,bZ),nt(o,qy),nt(o,ff),nt(o,Go),Si(o,{zIndex:r.zIndex});var P=r.container;Ed(P)&&(P=n.ownerDocument.querySelector(P)),P||(P=this.body),P.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,qt(r.ready)&&it(n,PS,r.ready,{once:!0}),_n(n,PS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=HZ,t}},{key:"setDefaults",value:function(n){Jr(yS,gl(n)&&n)}}])}();Jr(ou.prototype,FZ,$Z,UZ,BZ,jZ);var qZ=typeof global=="object"&&global&&global.Object===Object&&global;const cx=qZ;var zZ=typeof self=="object"&&self&&self.Object===Object&&self,GZ=cx||zZ||Function("return this")();const Om=GZ;var KZ=Om.Symbol;const _p=KZ;var dx=Object.prototype,YZ=dx.hasOwnProperty,QZ=dx.toString,Gu=_p?_p.toStringTag:void 0;function XZ(t){var e=YZ.call(t,Gu),n=t[Gu];try{t[Gu]=void 0;var r=!0}catch{}var i=QZ.call(t);return r&&(e?t[Gu]=n:delete t[Gu]),i}var JZ=Object.prototype,ZZ=JZ.toString;function eee(t){return ZZ.call(t)}var tee="[object Null]",nee="[object Undefined]",qS=_p?_p.toStringTag:void 0;function Pm(t){return t==null?t===void 0?nee:tee:qS&&qS in Object(t)?XZ(t):eee(t)}function Rm(t){return t!=null&&typeof t=="object"}var ree="[object Symbol]";function iee(t){return typeof t=="symbol"||Rm(t)&&Pm(t)==ree}var see=Array.isArray;const oee=see;var aee=/\s/;function lee(t){for(var e=t.length;e--&&aee.test(t.charAt(e)););return e}var uee=/^\s+/;function cee(t){return t&&t.slice(0,lee(t)+1).replace(uee,"")}function Aa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zS=NaN,dee=/^[-+]0x[0-9a-f]+$/i,hee=/^0b[01]+$/i,fee=/^0o[0-7]+$/i,pee=parseInt;function GS(t){if(typeof t=="number")return t;if(iee(t))return zS;if(Aa(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Aa(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cee(t);var n=hee.test(t);return n||fee.test(t)?pee(t.slice(2),n?2:8):dee.test(t)?zS:+t}function hx(t){return t}var mee="[object AsyncFunction]",gee="[object Function]",vee="[object GeneratorFunction]",yee="[object Proxy]";function fx(t){if(!Aa(t))return!1;var e=Pm(t);return e==gee||e==vee||e==mee||e==yee}var _ee=Om["__core-js_shared__"];const nv=_ee;var KS=function(){var t=/[^.]+$/.exec(nv&&nv.keys&&nv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bee(t){return!!KS&&KS in t}var wee=Function.prototype,Tee=wee.toString;function Eee(t){if(t!=null){try{return Tee.call(t)}catch{}try{return t+""}catch{}}return""}var Iee=/[\\^$.*+?()[\]{}|]/g,See=/^\[object .+?Constructor\]$/,Aee=Function.prototype,Cee=Object.prototype,Oee=Aee.toString,Pee=Cee.hasOwnProperty,Ree=RegExp("^"+Oee.call(Pee).replace(Iee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kee(t){if(!Aa(t)||bee(t))return!1;var e=fx(t)?Ree:See;return e.test(Eee(t))}function Dee(t,e){return t==null?void 0:t[e]}function Nee(t,e){var n=Dee(t,e);return kee(n)?n:void 0}function xee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Mee=800,Lee=16,Vee=Date.now;function Fee(t){var e=0,n=0;return function(){var r=Vee(),i=Lee-(r-n);if(n=r,i>0){if(++e>=Mee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function $ee(t){return function(){return t}}var Uee=function(){try{var t=Nee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bp=Uee;var Bee=bp?function(t,e){return bp(t,"toString",{configurable:!0,enumerable:!1,value:$ee(e),writable:!0})}:hx;const jee=Bee;var Hee=Fee(jee);const Wee=Hee;var qee=9007199254740991,zee=/^(?:0|[1-9]\d*)$/;function px(t,e){var n=typeof t;return e=e??qee,!!e&&(n=="number"||n!="symbol"&&zee.test(t))&&t>-1&&t%1==0&&t<e}function mx(t,e,n){e=="__proto__"&&bp?bp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $b(t,e){return t===e||t!==t&&e!==e}var Gee=Object.prototype,Kee=Gee.hasOwnProperty;function gx(t,e,n){var r=t[e];(!(Kee.call(t,e)&&$b(r,n))||n===void 0&&!(e in t))&&mx(t,e,n)}function Yee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?mx(n,a,l):gx(n,a,l)}return n}var YS=Math.max;function Qee(t,e,n){return e=YS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=YS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),xee(t,this,a)}}function vx(t,e){return Wee(Qee(t,e,hx),t+"")}var Xee=9007199254740991;function yx(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xee}function km(t){return t!=null&&yx(t.length)&&!fx(t)}function _x(t,e,n){if(!Aa(n))return!1;var r=typeof e;return(r=="number"?km(n)&&px(e,n.length):r=="string"&&e in n)?$b(n[e],t):!1}function Jee(t){return vx(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&_x(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Zee=Object.prototype;function Ub(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Zee;return t===n}function ete(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var tte="[object Arguments]";function QS(t){return Rm(t)&&Pm(t)==tte}var bx=Object.prototype,nte=bx.hasOwnProperty,rte=bx.propertyIsEnumerable,ite=QS(function(){return arguments}())?QS:function(t){return Rm(t)&&nte.call(t,"callee")&&!rte.call(t,"callee")};const ste=ite;function ote(){return!1}var wx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XS=wx&&typeof module=="object"&&module&&!module.nodeType&&module,ate=XS&&XS.exports===wx,JS=ate?Om.Buffer:void 0,lte=JS?JS.isBuffer:void 0,ute=lte||ote;const cte=ute;var dte="[object Arguments]",hte="[object Array]",fte="[object Boolean]",pte="[object Date]",mte="[object Error]",gte="[object Function]",vte="[object Map]",yte="[object Number]",_te="[object Object]",bte="[object RegExp]",wte="[object Set]",Tte="[object String]",Ete="[object WeakMap]",Ite="[object ArrayBuffer]",Ste="[object DataView]",Ate="[object Float32Array]",Cte="[object Float64Array]",Ote="[object Int8Array]",Pte="[object Int16Array]",Rte="[object Int32Array]",kte="[object Uint8Array]",Dte="[object Uint8ClampedArray]",Nte="[object Uint16Array]",xte="[object Uint32Array]",nn={};nn[Ate]=nn[Cte]=nn[Ote]=nn[Pte]=nn[Rte]=nn[kte]=nn[Dte]=nn[Nte]=nn[xte]=!0;nn[dte]=nn[hte]=nn[Ite]=nn[fte]=nn[Ste]=nn[pte]=nn[mte]=nn[gte]=nn[vte]=nn[yte]=nn[_te]=nn[bte]=nn[wte]=nn[Tte]=nn[Ete]=!1;function Mte(t){return Rm(t)&&yx(t.length)&&!!nn[Pm(t)]}function Lte(t){return function(e){return t(e)}}var Tx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rc=Tx&&typeof module=="object"&&module&&!module.nodeType&&module,Vte=Rc&&Rc.exports===Tx,rv=Vte&&cx.process,Fte=function(){try{var t=Rc&&Rc.require&&Rc.require("util").types;return t||rv&&rv.binding&&rv.binding("util")}catch{}}();const ZS=Fte;var eA=ZS&&ZS.isTypedArray,$te=eA?Lte(eA):Mte;const Ute=$te;var Bte=Object.prototype,jte=Bte.hasOwnProperty;function Ex(t,e){var n=oee(t),r=!n&&ste(t),i=!n&&!r&&cte(t),s=!n&&!r&&!i&&Ute(t),o=n||r||i||s,a=o?ete(t.length,String):[],l=a.length;for(var u in t)(e||jte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||px(u,l)))&&a.push(u);return a}function Hte(t,e){return function(n){return t(e(n))}}var Wte=Hte(Object.keys,Object);const qte=Wte;var zte=Object.prototype,Gte=zte.hasOwnProperty;function Kte(t){if(!Ub(t))return qte(t);var e=[];for(var n in Object(t))Gte.call(t,n)&&n!="constructor"&&e.push(n);return e}function Yte(t){return km(t)?Ex(t):Kte(t)}var Qte=Object.prototype,Xte=Qte.hasOwnProperty,Jte=Jee(function(t,e){if(Ub(e)||km(e)){Yee(e,Yte(e),t);return}for(var n in e)Xte.call(e,n)&&gx(t,n,e[n])});const Zte=Jte;function ene(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tne=Object.prototype,nne=tne.hasOwnProperty;function rne(t){if(!Aa(t))return ene(t);var e=Ub(t),n=[];for(var r in t)r=="constructor"&&(e||!nne.call(t,r))||n.push(r);return n}function ine(t){return km(t)?Ex(t,!0):rne(t)}var sne=function(){return Om.Date.now()};const iv=sne;var one="Expected a function",ane=Math.max,lne=Math.min;function une(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(one);e=GS(e)||0,Aa(n)&&(c=!!n.leading,h="maxWait"in n,s=h?ane(GS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(L){var S=r,I=i;return r=i=void 0,u=L,o=t.apply(I,S),o}function g(L){return u=L,a=setTimeout(k,e),c?p(L):o}function b(L){var S=L-l,I=L-u,w=e-S;return h?lne(w,s-I):w}function E(L){var S=L-l,I=L-u;return l===void 0||S>=e||S<0||h&&I>=s}function k(){var L=iv();if(E(L))return P(L);a=setTimeout(k,b(L))}function P(L){return a=void 0,f&&r?p(L):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function y(){return a===void 0?o:P(iv())}function M(){var L=iv(),S=E(L);if(r=arguments,i=this,l=L,S){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(k,e),p(l)}return a===void 0&&(a=setTimeout(k,e)),o}return M.cancel=T,M.flush=y,M}var Ix=Object.prototype,cne=Ix.hasOwnProperty,dne=vx(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&_x(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=ine(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||$b(c,Ix[u])&&!cne.call(t,u))&&(t[u]=s[u])}return t});const hne=dne,fne=({images:t=[],options:e})=>{e=Zte(e,{inline:!1});const n=document.createElement("div"),r=Ll("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Ll("img",typeof a=="string"?{src:a}:a)));Uc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new ou(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Uc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},pne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await Hn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new ou(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const b=new g(k=>{k.forEach(P=>{u(`Viewer mutation:${P.type}`),f(c,h,p,!0)})}),E={attributes:!0,childList:!0,characterData:!0,subtree:!0};b.observe(c,E),c.__viewerMutationObserver=b,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=In(()=>h.value,(g,b)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=une(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},mne=Kt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=fe();function i(){n=new ou(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return In(()=>t.images,()=>{Hn(()=>{l()})},u),In(()=>t.trigger,()=>{Hn(()=>{l()})},u),In(()=>t.options,()=>{Hn(()=>{o()})},u),yn(()=>i()),Oa(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),gne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},vne={ref:"root"};function yne(t,e,n,r,i,s){return q(),ee("div",vne,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const _ne=gne(mne,[["render",yne]]),bne={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&ou.setDefaults(r),t.config.globalProperties[`$${e}Api`]=fne,t.component(e,hne(_ne,{name:e})),t.directive(e,pne({name:e,debug:n}))},setDefaults(t){ou.setDefaults(t)}},mi=Sv(eF);mi.use(ZD);mi.use(k8,{firebaseApp:W3,modules:[C8()]});mi.use(iP);mi.use(j2);mi.use(bne);mi.use(jQ);mi.component("VueDatePicker",Cb);mi.component("PrimeInputText",ex);mi.component("PrimeTextArea",sx);mi.component("PrimeDropdown",ZN);mi.component("PrimeMultiSelect",ix);mi.mount("#app");export{tie as $,_e as A,pi as B,qD as C,Fre as D,Qe as E,qR as F,tt as G,Nn as H,Bi as I,ht as J,ZD as K,uq as L,ke as M,In as N,$re as O,Ft as P,Ne as Q,Rn as R,wn as S,er as T,qre as U,zre as V,at as W,Xre as X,Ure as Y,H8 as Z,Wn as _,Nr as a,$A as a$,XD as a0,rie as a1,nie as a2,Wre as a3,Bo as a4,ol as a5,JC as a6,are as a7,Kr as a8,os as a9,Jre as aA,eie as aB,Zre as aC,U8 as aD,Ty as aE,sb as aF,F8 as aG,V8 as aH,L8 as aI,Iy as aJ,lI as aK,xre as aL,Ua as aM,vp as aN,Rb as aO,QN as aP,Ro as aQ,Mre as aR,W8 as aS,M8 as aT,x8 as aU,Qre as aV,Yre as aW,Gre as aX,QD as aY,YD as aZ,KM as a_,Ic as aa,dI as ab,kn as ac,nre as ad,Lt as ae,an as af,kr as ag,Lre as ah,Hn as ai,Vre as aj,aL as ak,ct as al,YB as am,m0 as an,Nre as ao,Oa as ap,tr as aq,Zo as ar,uc as as,Hre as at,nx as au,Gr as av,_ne as aw,Ane as ax,N8 as ay,Lne as az,Ec as b,Jne as b$,Dn as b0,_re as b1,oA as b2,kne as b3,fre as b4,jne as b5,vf as b6,Il as b7,sre as b8,LA as b9,Kne as bA,pre as bB,Tne as bC,Jy as bD,ti as bE,Zy as bF,Pne as bG,a_ as bH,Ll as bI,lu as bJ,wL as bK,Ire as bL,Vne as bM,Une as bN,$ne as bO,Fne as bP,cre as bQ,Sre as bR,Dr as bS,JL as bT,i_ as bU,Yi as bV,la as bW,ure as bX,ui as bY,wo as bZ,s_ as b_,ta as ba,Cne as bb,A2 as bc,One as bd,__ as be,Rne as bf,Ni as bg,Ad as bh,_r as bi,Ip as bj,Os as bk,yre as bl,Sv as bm,PL as bn,ere as bo,OL as bp,F2 as bq,NM as br,Bne as bs,w2 as bt,qne as bu,zne as bv,Yne as bw,Gne as bx,Wne as by,wre as bz,le as c,jre as c$,Zne as c0,iL as c1,d_ as c2,u_ as c3,sL as c4,dL as c5,cL as c6,uL as c7,aA as c8,lL as c9,xM as cA,ore as cB,Sne as cC,Xne as cD,Ere as cE,bre as cF,E2 as cG,Mne as cH,ire as cI,DL as cJ,Tre as cK,Pa as cL,FA as cM,PC as cN,N2 as cO,RC as cP,D2 as cQ,Iv as cR,ZL as cS,hre as cT,rre as cU,NL as cV,tre as cW,Qne as cX,dre as cY,xne as cZ,Kre as c_,c_ as ca,$M as cb,Nne as cc,ac as cd,AA as ce,Dne as cf,wf as cg,r_ as ch,lre as ci,Uc as cj,qA as ck,vre as cl,Lc as cm,Yw as cn,mre as co,bo as cp,EA as cq,Ine as cr,IA as cs,kL as ct,gre as cu,Ene as cv,Yh as cw,Hne as cx,mt as cy,Nc as cz,Ra as d,Bre as d0,JD as d1,we as d2,Am as d3,Kt as e,Are as f,ib as g,id as h,WD as i,s1 as j,Y as k,q as l,ee as m,et as n,yn as o,Es as p,Ae as q,fe as r,ns as s,qe as t,Cre as u,C5 as v,de as w,Me as x,$a as y,pe as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/c-Blog-BgdSUHO5.js","./assets/c-SwitchField.vue_vue_type_script_setup_true_lang-E4RvhRYK.js","./assets/c-Bubble.vue_vue_type_script_setup_true_lang-BKzNF-TX.js","./assets/c-Page.vue_vue_type_script_setup_true_lang-DsrPRCzi.js","./assets/c-_plugin-vue_export-helper-DlAUqK2U.js","./assets/c-BlogPost.vue_vue_type_script_setup_true_lang-nKh5hTHz.js","./assets/c-Countdown.vue_vue_type_script_setup_true_lang-liM5Fw9D.js","./bundle12.css","./assets/c-TextField.vue_vue_type_script_setup_true_lang-iG9TY5KO.js","./assets/c-validation-CO90d-7g.js","./assets/c-accordiontab.esm-BILpUr6U.js","./assets/c-Image.vue_vue_type_script_setup_true_lang-CPURrayJ.js","./bundle10.css","./assets/c-DateField-DwZc4feZ.js","./bundle13.css","./assets/c-FileUpload.vue_vue_type_script_setup_true_lang-CVHL9AZd.js","./assets/c-vuedraggable.umd-CDu6AEqu.js","./assets/c-SelectField.vue_vue_type_script_setup_true_lang-DIXoT02e.js","./assets/c-Tools-cT8tNekM.js","./assets/c-CatCalc-w8NVq_Hq.js","./assets/c-useCatCalc-CUvFbYKT.js","./assets/c-CustomVoting-cgYNy5r_.js","./bundle9.css","./assets/c-Dashboard-h8r1RD7G.js","./assets/c-PasswordField.vue_vue_type_script_setup_true_lang-kFpu4XJV.js","./assets/c-Home-Dy90k4hL.js","./assets/c-Spades-D2IXKTy-.js","./assets/c-Worm-7aG8Dkqg.js","./assets/c-Dice6.vue_vue_type_script_setup_true_lang-uF3qKazL.js","./assets/c-Login-z40Dzrqy.js","./assets/c-NotFound-DqBr9HRU.js","./assets/c-Pet-gHiD4dGd.js","./assets/c-PetDialog.vue_vue_type_script_setup_true_lang-Bc4iKM9v.js","./bundle11.css","./assets/c-Pets-BdRVU1uo.js","./assets/c-User-C2EButy5.js","./bundle14.css","./assets/c-Users-B4tqfiL6.js","./assets/c-Register-DYYECs3y.js","./assets/c-Games-D5KVp2K8.js","./assets/c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-CvGBIJb-.js","./assets/c-Yahtzee-CyCIVprv.js","./assets/c-useScoreInfo-Q9B7Ayww.js","./bundle17.css","./bundle15.css","./assets/c-Rainworms-_avAyYeA.js","./assets/c-Patience-BGrLRDG7.js","./bundle16.css","./assets/c-Guess-bNSyZMIC.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
