var WN=Object.defineProperty;var qN=(t,e,n)=>e in t?WN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var os=(t,e,n)=>(qN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function gp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const mt={},cl=[],ai=()=>{},zN=()=>!1,wd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Wy=t=>t.startsWith("onUpdate:"),zt=Object.assign,qy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},KN=Object.prototype.hasOwnProperty,kt=(t,e)=>KN.call(t,e),$e=Array.isArray,dl=t=>tu(t)==="[object Map]",wa=t=>tu(t)==="[object Set]",Sw=t=>tu(t)==="[object Date]",YN=t=>tu(t)==="[object RegExp]",Ze=t=>typeof t=="function",Jt=t=>typeof t=="string",ki=t=>typeof t=="symbol",jt=t=>t!==null&&typeof t=="object",zy=t=>(jt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),JS=Object.prototype.toString,tu=t=>JS.call(t),GN=t=>tu(t).slice(8,-1),vp=t=>tu(t)==="[object Object]",Ky=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hl=gp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},QN=/-(\w)/g,vr=yp(t=>t.replace(QN,(e,n)=>n?n.toUpperCase():"")),XN=/\B([A-Z])/g,Lr=yp(t=>t.replace(XN,"-$1").toLowerCase()),_p=yp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wh=yp(t=>t?`on${_p(t)}`:""),Cr=(t,e)=>!Object.is(t,e),fl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ZS=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},df=t=>{const e=parseFloat(t);return isNaN(e)?t:e},hf=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let Cw;const bp=()=>Cw||(Cw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),JN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",ZN=gp(JN);function Pr(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Jt(r)?rM(r):Pr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Jt(t)||jt(t))return t}const eM=/;(?![^(]*\))/g,tM=/:([^]+)/,nM=/\/\*[^]*?\*\//g;function rM(t){const e={};return t.replace(nM,"").split(eM).forEach(n=>{if(n){const r=n.split(tM);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Jt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(jt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function bn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=tt(e)),n&&(t.style=Pr(n)),t}const iM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sM=gp(iM);function eC(t){return!!t||t===""}function oM(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=po(t[r],e[r]);return n}function po(t,e){if(t===e)return!0;let n=Sw(t),r=Sw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ki(t),r=ki(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?oM(t,e):!1;if(n=jt(t),r=jt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!po(t[o],e[o]))return!1}}return String(t)===String(e)}function wp(t,e){return t.findIndex(n=>po(n,e))}const tC=t=>!!(t&&t.__v_isRef===!0),dt=t=>Jt(t)?t:t==null?"":$e(t)||jt(t)&&(t.toString===JS||!Ze(t.toString))?tC(t)?dt(t.value):JSON.stringify(t,nC,2):String(t),nC=(t,e)=>tC(e)?nC(t,e.value):dl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Bm(r,s)+" =>"]=i,n),{})}:wa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bm(n))}:ki(e)?Bm(e):jt(e)&&!$e(e)&&!vp(e)?String(e):e,Bm=(t,e="")=>{var n;return ki(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sr;class rC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Sr,!e&&Sr&&(this.index=(Sr.scopes||(Sr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Sr;try{return Sr=this,e()}finally{Sr=n}}}on(){Sr=this}off(){Sr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Yy(t){return new rC(t)}function Gy(){return Sr}function iC(t,e=!1){Sr&&Sr.cleanups.push(t)}let Yt;const jm=new WeakSet;class ff{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Sr&&Sr.active&&Sr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jm.has(this)&&(jm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||oC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Aw(this),aC(this);const e=Yt,n=Si;Yt=this,Si=!0;try{return this.fn()}finally{lC(this),Yt=e,Si=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Jy(e);this.deps=this.depsTail=void 0,Aw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tv(this)&&this.run()}get dirty(){return tv(this)}}let sC=0,Zu,ec;function oC(t,e=!1){if(t.flags|=8,e){t.next=ec,ec=t;return}t.next=Zu,Zu=t}function Qy(){sC++}function Xy(){if(--sC>0)return;if(ec){let e=ec;for(ec=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Zu;){let e=Zu;for(Zu=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function aC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function lC(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Jy(r),aM(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function tv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(uC(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function uC(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ac))return;t.globalVersion=Ac;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!tv(t)){t.flags&=-3;return}const n=Yt,r=Si;Yt=t,Si=!0;try{aC(t);const i=t.fn(t._value);(e.version===0||Cr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Yt=n,Si=r,lC(t),t.flags&=-3}}function Jy(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Jy(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function aM(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function lne(t,e){t.effect instanceof ff&&(t=t.effect.fn);const n=new ff(t);e&&zt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function une(t){t.effect.stop()}let Si=!0;const cC=[];function Eo(){cC.push(Si),Si=!1}function Io(){const t=cC.pop();Si=t===void 0?!0:t}function Aw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Yt;Yt=void 0;try{e()}finally{Yt=n}}}let Ac=0;class lM{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Tp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Yt||!Si||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new lM(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,dC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=r)}return n}trigger(e){this.version++,Ac++,this.notify(e)}notify(e){Qy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xy()}}}function dC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)dC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const pf=new WeakMap,zo=Symbol(""),nv=Symbol(""),Oc=Symbol("");function lr(t,e,n){if(Si&&Yt){let r=pf.get(t);r||pf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Tp),i.map=r,i.key=n),i.track()}}function ds(t,e,n,r,i,s){const o=pf.get(t);if(!o){Ac++;return}const a=l=>{l&&l.trigger()};if(Qy(),e==="clear")o.forEach(a);else{const l=$e(t),u=l&&Ky(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Oc||!ki(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Oc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(zo)),dl(t)&&a(o.get(nv)));break;case"delete":l||(a(o.get(zo)),dl(t)&&a(o.get(nv)));break;case"set":dl(t)&&a(o.get(zo));break}}Xy()}function uM(t,e){const n=pf.get(t);return n&&n.get(e)}function $a(t){const e=pt(t);return e===t?e:(lr(e,"iterate",Oc),li(t)?e:e.map(ur))}function Ep(t){return lr(t=pt(t),"iterate",Oc),t}const cM={__proto__:null,[Symbol.iterator](){return Hm(this,Symbol.iterator,ur)},concat(...t){return $a(this).concat(...t.map(e=>$e(e)?$a(e):e))},entries(){return Hm(this,"entries",t=>(t[1]=ur(t[1]),t))},every(t,e){return as(this,"every",t,e,void 0,arguments)},filter(t,e){return as(this,"filter",t,e,n=>n.map(ur),arguments)},find(t,e){return as(this,"find",t,e,ur,arguments)},findIndex(t,e){return as(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return as(this,"findLast",t,e,ur,arguments)},findLastIndex(t,e){return as(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return as(this,"forEach",t,e,void 0,arguments)},includes(...t){return Wm(this,"includes",t)},indexOf(...t){return Wm(this,"indexOf",t)},join(t){return $a(this).join(t)},lastIndexOf(...t){return Wm(this,"lastIndexOf",t)},map(t,e){return as(this,"map",t,e,void 0,arguments)},pop(){return Au(this,"pop")},push(...t){return Au(this,"push",t)},reduce(t,...e){return Ow(this,"reduce",t,e)},reduceRight(t,...e){return Ow(this,"reduceRight",t,e)},shift(){return Au(this,"shift")},some(t,e){return as(this,"some",t,e,void 0,arguments)},splice(...t){return Au(this,"splice",t)},toReversed(){return $a(this).toReversed()},toSorted(t){return $a(this).toSorted(t)},toSpliced(...t){return $a(this).toSpliced(...t)},unshift(...t){return Au(this,"unshift",t)},values(){return Hm(this,"values",ur)}};function Hm(t,e,n){const r=Ep(t),i=r[e]();return r!==t&&!li(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const dM=Array.prototype;function as(t,e,n,r,i,s){const o=Ep(t),a=o!==t&&!li(t),l=o[e];if(l!==dM[e]){const h=l.apply(t,s);return a?ur(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,ur(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function Ow(t,e,n,r){const i=Ep(t);let s=n;return i!==t&&(li(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,ur(a),l,t)}),i[e](s,...r)}function Wm(t,e,n){const r=pt(t);lr(r,"iterate",Oc);const i=r[e](...n);return(i===-1||i===!1)&&e_(n[0])?(n[0]=pt(n[0]),r[e](...n)):i}function Au(t,e,n=[]){Eo(),Qy();const r=pt(t)[e].apply(t,n);return Xy(),Io(),r}const hM=gp("__proto__,__v_isRef,__isVue"),hC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ki));function fM(t){ki(t)||(t=String(t));const e=pt(this);return lr(e,"has",t),e.hasOwnProperty(t)}class fC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?_C:yC:s?vC:gC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=cM[n]))return l;if(n==="hasOwnProperty")return fM}const a=Reflect.get(e,n,an(e)?e:r);return(ki(n)?hC.has(n):hM(n))||(i||lr(e,"get",n),s)?a:an(a)?o&&Ky(n)?a:a.value:jt(a)?i?Zy(a):Rr(a):a}}class pC extends fC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=na(s);if(!li(r)&&!na(r)&&(s=pt(s),r=pt(r)),!$e(e)&&an(s)&&!an(r))return l?!1:(s.value=r,!0)}const o=$e(e)&&Ky(n)?Number(n)<e.length:kt(e,n),a=Reflect.set(e,n,r,an(e)?e:i);return e===pt(i)&&(o?Cr(r,s)&&ds(e,"set",n,r):ds(e,"add",n,r)),a}deleteProperty(e,n){const r=kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ds(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ki(n)||!hC.has(n))&&lr(e,"has",n),r}ownKeys(e){return lr(e,"iterate",$e(e)?"length":zo),Reflect.ownKeys(e)}}class mC extends fC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const pM=new pC,mM=new mC,gM=new pC(!0),vM=new mC(!0),rv=t=>t,dh=t=>Reflect.getPrototypeOf(t);function yM(t,e,n){return function(...r){const i=this.__v_raw,s=pt(i),o=dl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?rv:e?iv:ur;return!e&&lr(s,"iterate",l?nv:zo),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function hh(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _M(t,e){const n={get(i){const s=this.__v_raw,o=pt(s),a=pt(i);t||(Cr(i,a)&&lr(o,"get",i),lr(o,"get",a));const{has:l}=dh(o),u=e?rv:t?iv:ur;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&lr(pt(i),"iterate",zo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=pt(s),a=pt(i);return t||(Cr(i,a)&&lr(o,"has",i),lr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=pt(a),u=e?rv:t?iv:ur;return!t&&lr(l,"iterate",zo),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return zt(n,t?{add:hh("add"),set:hh("set"),delete:hh("delete"),clear:hh("clear")}:{add(i){!e&&!li(i)&&!na(i)&&(i=pt(i));const s=pt(this);return dh(s).has.call(s,i)||(s.add(i),ds(s,"add",i,i)),this},set(i,s){!e&&!li(s)&&!na(s)&&(s=pt(s));const o=pt(this),{has:a,get:l}=dh(o);let u=a.call(o,i);u||(i=pt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Cr(s,c)&&ds(o,"set",i,s):ds(o,"add",i,s),this},delete(i){const s=pt(this),{has:o,get:a}=dh(s);let l=o.call(s,i);l||(i=pt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&ds(s,"delete",i,void 0),u},clear(){const i=pt(this),s=i.size!==0,o=i.clear();return s&&ds(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=yM(i,t,e)}),n}function Ip(t,e){const n=_M(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kt(n,i)&&i in r?n:r,i,s)}const bM={get:Ip(!1,!1)},wM={get:Ip(!1,!0)},TM={get:Ip(!0,!1)},EM={get:Ip(!0,!0)},gC=new WeakMap,vC=new WeakMap,yC=new WeakMap,_C=new WeakMap;function IM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function SM(t){return t.__v_skip||!Object.isExtensible(t)?0:IM(GN(t))}function Rr(t){return na(t)?t:Sp(t,!1,pM,bM,gC)}function bC(t){return Sp(t,!1,gM,wM,vC)}function Zy(t){return Sp(t,!0,mM,TM,yC)}function cne(t){return Sp(t,!0,vM,EM,_C)}function Sp(t,e,n,r,i){if(!jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=SM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ki(t){return na(t)?Ki(t.__v_raw):!!(t&&t.__v_isReactive)}function na(t){return!!(t&&t.__v_isReadonly)}function li(t){return!!(t&&t.__v_isShallow)}function e_(t){return t?!!t.__v_raw:!1}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function t_(t){return!kt(t,"__v_skip")&&Object.isExtensible(t)&&ZS(t,"__v_skip",!0),t}const ur=t=>jt(t)?Rr(t):t,iv=t=>jt(t)?Zy(t):t;function an(t){return t?t.__v_isRef===!0:!1}function fe(t){return TC(t,!1)}function wC(t){return TC(t,!0)}function TC(t,e){return an(t)?t:new CM(t,e)}class CM{constructor(e,n){this.dep=new Tp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pt(e),this._value=n?e:ur(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||li(e)||na(e);e=r?e:pt(e),Cr(e,n)&&(this._rawValue=e,this._value=r?e:ur(e),this.dep.trigger())}}function dne(t){t.dep&&t.dep.trigger()}function G(t){return an(t)?t.value:t}function hne(t){return Ze(t)?t():G(t)}const AM={get:(t,e,n)=>e==="__v_raw"?t:G(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function EC(t){return Ki(t)?t:new Proxy(t,AM)}class OM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Tp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function PM(t){return new OM(t)}function kM(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=IC(t,n);return e}class RM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return uM(pt(this._object),this._key)}}class DM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Pc(t,e,n){return an(t)?t:Ze(t)?new DM(t):jt(t)&&arguments.length>1?IC(t,e,n):fe(t)}function IC(t,e,n){const r=t[e];return an(r)?r:new RM(t,e,n)}class xM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Tp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ac-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return oC(this,!0),!0}get value(){const e=this.dep.track();return uC(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function NM(t,e,n=!1){let r,i;return Ze(t)?r=t:(r=t.get,i=t.set),new xM(r,i,n)}const fne={GET:"get",HAS:"has",ITERATE:"iterate"},pne={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},fh={},mf=new WeakMap;let zs;function mne(){return zs}function MM(t,e=!1,n=zs){if(n){let r=mf.get(n);r||mf.set(n,r=[]),r.push(t)}}function LM(t,e,n=mt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=S=>i?S:li(S)||i===!1||i===0?hs(S,1):hs(S);let c,h,f,p,g=!1,y=!1;if(an(t)?(h=()=>t.value,g=li(t)):Ki(t)?(h=()=>u(t),g=!0):$e(t)?(y=!0,g=t.some(S=>Ki(S)||li(S)),h=()=>t.map(S=>{if(an(S))return S.value;if(Ki(S))return u(S);if(Ze(S))return l?l(S,2):S()})):Ze(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Eo();try{f()}finally{Io()}}const S=zs;zs=c;try{return l?l(t,3,[p]):t(p)}finally{zs=S}}:h=ai,e&&i){const S=h,M=i===!0?1/0:i;h=()=>hs(S(),M)}const C=Gy(),R=()=>{c.stop(),C&&C.active&&qy(C.effects,c)};if(s&&e){const S=e;e=(...M)=>{S(...M),R()}}let k=y?new Array(t.length).fill(fh):fh;const w=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const M=c.run();if(i||g||(y?M.some((L,I)=>Cr(L,k[I])):Cr(M,k))){f&&f();const L=zs;zs=c;try{const I=[M,k===fh?void 0:y&&k[0]===fh?[]:k,p];l?l(e,3,I):e(...I),k=M}finally{zs=L}}}else c.run()};return a&&a(w),c=new ff(h),c.scheduler=o?()=>o(w,!1):w,p=S=>MM(S,!1,c),f=c.onStop=()=>{const S=mf.get(c);if(S){if(l)l(S,4);else for(const M of S)M();mf.delete(c)}},e?r?w(!0):k=c.run():o?o(w.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function hs(t,e=1/0,n){if(e<=0||!jt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))hs(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)hs(t[r],e,n);else if(wa(t)||dl(t))t.forEach(r=>{hs(r,e,n)});else if(vp(t)){for(const r in t)hs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&hs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const SC=[];function VM(t){SC.push(t)}function FM(){SC.pop()}function gne(t,e){}const vne={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},$M={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Td(t,e,n,r){try{return r?t(...r):t()}catch(i){nu(i,e,n)}}function Ri(t,e,n,r){if(Ze(t)){const i=Td(t,e,n,r);return i&&zy(i)&&i.catch(s=>{nu(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ri(t[s],e,n,r));return i}}function nu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||mt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){Eo(),Td(s,null,10,[t,l,u]),Io();return}}UM(t,n,i,r,o)}function UM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ar=[];let Fi=-1;const pl=[];let Ks=null,Ka=0;const CC=Promise.resolve();let gf=null;function jn(t){const e=gf||CC;return t?e.then(this?t.bind(this):t):e}function BM(t){let e=Fi+1,n=Ar.length;for(;e<n;){const r=e+n>>>1,i=Ar[r],s=kc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function n_(t){if(!(t.flags&1)){const e=kc(t),n=Ar[Ar.length-1];!n||!(t.flags&2)&&e>=kc(n)?Ar.push(t):Ar.splice(BM(e),0,t),t.flags|=1,AC()}}function AC(){gf||(gf=CC.then(OC))}function vf(t){$e(t)?pl.push(...t):Ks&&t.id===-1?Ks.splice(Ka+1,0,t):t.flags&1||(pl.push(t),t.flags|=1),AC()}function Pw(t,e,n=Fi+1){for(;n<Ar.length;n++){const r=Ar[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ar.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function yf(t){if(pl.length){const e=[...new Set(pl)].sort((n,r)=>kc(n)-kc(r));if(pl.length=0,Ks){Ks.push(...e);return}for(Ks=e,Ka=0;Ka<Ks.length;Ka++){const n=Ks[Ka];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,Ka=0}}const kc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function OC(t){try{for(Fi=0;Fi<Ar.length;Fi++){const e=Ar[Fi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Td(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fi<Ar.length;Fi++){const e=Ar[Fi];e&&(e.flags&=-2)}Fi=-1,Ar.length=0,yf(),gf=null,(Ar.length||pl.length)&&OC()}}let Ya,ph=[];function PC(t,e){var n,r;Ya=t,Ya?(Ya.enabled=!0,ph.forEach(({event:i,args:s})=>Ya.emit(i,...s)),ph=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{PC(s,e)}),setTimeout(()=>{Ya||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ph=[])},3e3)):ph=[]}let Mn=null,Cp=null;function Rc(t){const e=Mn;return Mn=t,Cp=t&&t.type.__scopeId||null,e}function yne(t){Cp=t}function _ne(){Cp=null}const bne=t=>Qe;function Qe(t,e=Mn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Hw(-1);const s=Rc(e);let o;try{o=t(...i)}finally{Rc(s),r._d&&Hw(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ko(t,e){if(Mn===null)return t;const n=Sd(Mn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=mt]=e[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&hs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ui(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Eo(),Ri(l,n,8,[t.el,a,t,e]),Io())}}const kC=Symbol("_vte"),RC=t=>t.__isTeleport,tc=t=>t&&(t.disabled||t.disabled===""),kw=t=>t&&(t.defer||t.defer===""),Rw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Dw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,sv=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},DC={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:y,createComment:C}}=u,R=tc(e.props);let{shapeFlag:k,children:w,dynamicChildren:S}=e;if(t==null){const M=e.el=y(""),L=e.anchor=y("");p(M,n,r),p(L,n,r);const I=(_,v)=>{k&16&&(i&&i.isCE&&(i.ce._teleportTarget=_),c(w,_,v,i,s,o,a,l))},E=()=>{const _=e.target=sv(e.props,g),v=NC(_,e,y,p);_&&(o!=="svg"&&Rw(_)?o="svg":o!=="mathml"&&Dw(_)&&(o="mathml"),R||(I(_,v),qh(e,!1)))};R&&(I(n,L),qh(e,!0)),kw(e.props)?Pn(()=>{E(),e.el.__isMounted=!0},s):E()}else{if(kw(e.props)&&!t.el.__isMounted){Pn(()=>{DC.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,L=e.target=t.target,I=e.targetAnchor=t.targetAnchor,E=tc(t.props),_=E?n:L,v=E?M:I;if(o==="svg"||Rw(L)?o="svg":(o==="mathml"||Dw(L))&&(o="mathml"),S?(f(t.dynamicChildren,S,_,i,s,o,a),f_(t,e,!0)):l||h(t,e,_,v,i,s,o,a,!1),R)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):mh(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const T=e.target=sv(e.props,g);T&&mh(e,T,null,u,0)}else E&&mh(e,L,I,u,1);qh(e,R)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!tc(f);for(let g=0;g<a.length;g++){const y=a[g];r(y,e,n,p,!!y.dynamicChildren)}}},move:mh,hydrate:jM};function mh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||tc(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function jM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=sv(e.props,l);if(f){const p=tc(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let y=g;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}y=o(y)}e.targetAnchor||NC(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}qh(e,p)}return e.anchor&&o(e.anchor)}const xC=DC;function qh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function NC(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[kC]=s,t&&(r(i,t),r(s,t)),s}const Ys=Symbol("_leaveCb"),gh=Symbol("_enterCb");function MC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vn(()=>{t.isMounted=!0}),a_(()=>{t.isUnmounting=!0}),t}const ni=[Function,Array],LC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},VC=t=>{const e=t.subTree;return e.component?VC(e.component):e},HM={name:"BaseTransition",props:LC,setup(t,{slots:e}){const n=ei(),r=MC();return()=>{const i=e.default&&r_(e.default(),!0);if(!i||!i.length)return;const s=FC(i),o=pt(t),{mode:a}=o;if(r.isLeaving)return qm(s);const l=xw(s);if(!l)return qm(s);let u=Dc(l,o,r,n,h=>u=h);l.type!==Rn&&mo(l,u);let c=n.subTree&&xw(n.subTree);if(c&&c.type!==Rn&&!_i(l,c)&&VC(n).type!==Rn){let h=Dc(c,o,r,n);if(mo(c,h),a==="out-in"&&l.type!==Rn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},qm(s);a==="in-out"&&l.type!==Rn?h.delayLeave=(f,p,g)=>{const y=$C(r,c);y[String(c.key)]=c,f[Ys]=()=>{p(),f[Ys]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function FC(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Rn){e=n;break}}return e}const WM=HM;function $C(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Dc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:C,onAppear:R,onAfterAppear:k,onAppearCancelled:w}=e,S=String(t.key),M=$C(n,t),L=(_,v)=>{_&&Ri(_,r,9,v)},I=(_,v)=>{const T=v[1];L(_,v),$e(_)?_.every(A=>A.length<=1)&&T():_.length<=1&&T()},E={mode:o,persisted:a,beforeEnter(_){let v=l;if(!n.isMounted)if(s)v=C||l;else return;_[Ys]&&_[Ys](!0);const T=M[S];T&&_i(t,T)&&T.el[Ys]&&T.el[Ys](),L(v,[_])},enter(_){let v=u,T=c,A=h;if(!n.isMounted)if(s)v=R||u,T=k||c,A=w||h;else return;let P=!1;const q=_[gh]=$=>{P||(P=!0,$?L(A,[_]):L(T,[_]),E.delayedLeave&&E.delayedLeave(),_[gh]=void 0)};v?I(v,[_,q]):q()},leave(_,v){const T=String(t.key);if(_[gh]&&_[gh](!0),n.isUnmounting)return v();L(f,[_]);let A=!1;const P=_[Ys]=q=>{A||(A=!0,v(),q?L(y,[_]):L(g,[_]),_[Ys]=void 0,M[T]===t&&delete M[T])};M[T]=t,p?I(p,[_,P]):P()},clone(_){const v=Dc(_,e,n,r,i);return i&&i(v),v}};return E}function qm(t){if(Ed(t))return t=Is(t),t.children=null,t}function xw(t){if(!Ed(t))return RC(t.type)&&t.children?FC(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function mo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,mo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function r_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ne?(o.patchFlag&128&&i++,r=r.concat(r_(o.children,e,a))):(e||o.type!==Rn)&&r.push(a!=null?Is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Kt(t,e){return Ze(t)?zt({name:t.name},e,{setup:t}):t}function wne(){const t=ei();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function i_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Tne(t){const e=ei(),n=wC(null);if(e){const i=e.refs===mt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function xc(t,e,n,r,i=!1){if($e(t)){t.forEach((g,y)=>xc(g,e&&($e(e)?e[y]:e),n,r,i));return}if(io(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&xc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Sd(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===mt?a.refs={}:a.refs,h=a.setupState,f=pt(h),p=h===mt?()=>!1:g=>kt(f,g);if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,p(u)&&(h[u]=null)):an(u)&&(u.value=null)),Ze(l))Td(l,a,12,[o,c]);else{const g=Jt(l),y=an(l);if(g||y){const C=()=>{if(t.f){const R=g?p(l)?h[l]:c[l]:l.value;i?$e(R)&&qy(R,s):$e(R)?R.includes(s)||R.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):y&&(l.value=o,t.k&&(c[t.k]=o))};o?(C.id=-1,Pn(C,n)):C()}}}let Nw=!1;const Ua=()=>{Nw||(console.error("Hydration completed but contains mismatches."),Nw=!0)},qM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",zM=t=>t.namespaceURI.includes("MathML"),vh=t=>{if(t.nodeType===1){if(qM(t))return"svg";if(zM(t))return"mathml"}},tl=t=>t.nodeType===8;function KM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(w,S)=>{if(!S.hasChildNodes()){n(null,w,S),yf(),S._vnode=w;return}h(S.firstChild,w,null,null,null),yf(),S._vnode=w},h=(w,S,M,L,I,E=!1)=>{E=E||!!S.dynamicChildren;const _=tl(w)&&w.data==="[",v=()=>y(w,S,M,L,I,_),{type:T,ref:A,shapeFlag:P,patchFlag:q}=S;let $=w.nodeType;S.el=w,q===-2&&(E=!1,S.dynamicChildren=null);let j=null;switch(T){case Go:$!==3?S.children===""?(l(S.el=i(""),o(w),w),j=w):j=v():(w.data!==S.children&&(Ua(),w.data=S.children),j=s(w));break;case Rn:k(w)?(j=s(w),R(S.el=w.content.firstChild,w,M)):$!==8||_?j=v():j=s(w);break;case gl:if(_&&(w=s(w),$=w.nodeType),$===1||$===3){j=w;const F=!S.children.length;for(let U=0;U<S.staticCount;U++)F&&(S.children+=j.nodeType===1?j.outerHTML:j.data),U===S.staticCount-1&&(S.anchor=j),j=s(j);return _?s(j):j}else v();break;case Ne:_?j=g(w,S,M,L,I,E):j=v();break;default:if(P&1)($!==1||S.type.toLowerCase()!==w.tagName.toLowerCase())&&!k(w)?j=v():j=f(w,S,M,L,I,E);else if(P&6){S.slotScopeIds=I;const F=o(w);if(_?j=C(w):tl(w)&&w.data==="teleport start"?j=C(w,w.data,"teleport end"):j=s(w),e(S,F,null,M,L,vh(F),E),io(S)&&!S.type.__asyncResolved){let U;_?(U=et(Ne),U.anchor=j?j.previousSibling:F.lastChild):U=w.nodeType===3?Dn(""):et("div"),U.el=w,S.component.subTree=U}}else P&64?$!==8?j=v():j=S.type.hydrate(w,S,M,L,I,E,t,p):P&128&&(j=S.type.hydrate(w,S,M,L,vh(o(w)),I,E,t,h))}return A!=null&&xc(A,null,L,S),j},f=(w,S,M,L,I,E)=>{E=E||!!S.dynamicChildren;const{type:_,props:v,patchFlag:T,shapeFlag:A,dirs:P,transition:q}=S,$=_==="input"||_==="option";if($||T!==-1){P&&Ui(S,null,M,"created");let j=!1;if(k(w)){j=nA(null,q)&&M&&M.vnode.props&&M.vnode.props.appear;const U=w.content.firstChild;j&&q.beforeEnter(U),R(U,w,M),S.el=w=U}if(A&16&&!(v&&(v.innerHTML||v.textContent))){let U=p(w.firstChild,S,w,M,L,I,E);for(;U;){yh(w,1)||Ua();const x=U;U=U.nextSibling,a(x)}}else if(A&8){let U=S.children;U[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(U=U.slice(1)),w.textContent!==U&&(yh(w,0)||Ua(),w.textContent=S.children)}if(v){if($||!E||T&48){const U=w.tagName.includes("-");for(const x in v)($&&(x.endsWith("value")||x==="indeterminate")||wd(x)&&!hl(x)||x[0]==="."||U)&&r(w,x,null,v[x],void 0,M)}else if(v.onClick)r(w,"onClick",null,v.onClick,void 0,M);else if(T&4&&Ki(v.style))for(const U in v.style)v.style[U]}let F;(F=v&&v.onVnodeBeforeMount)&&xr(F,M,S),P&&Ui(S,null,M,"beforeMount"),((F=v&&v.onVnodeMounted)||P||j)&&lA(()=>{F&&xr(F,M,S),j&&q.enter(w),P&&Ui(S,null,M,"mounted")},L)}return w.nextSibling},p=(w,S,M,L,I,E,_)=>{_=_||!!S.dynamicChildren;const v=S.children,T=v.length;for(let A=0;A<T;A++){const P=_?v[A]:v[A]=Mr(v[A]),q=P.type===Go;w?(q&&!_&&A+1<T&&Mr(v[A+1]).type===Go&&(l(i(w.data.slice(P.children.length)),M,s(w)),w.data=P.children),w=h(w,P,L,I,E,_)):q&&!P.children?l(P.el=i(""),M):(yh(M,1)||Ua(),n(null,P,M,null,L,I,vh(M),E))}return w},g=(w,S,M,L,I,E)=>{const{slotScopeIds:_}=S;_&&(I=I?I.concat(_):_);const v=o(w),T=p(s(w),S,v,M,L,I,E);return T&&tl(T)&&T.data==="]"?s(S.anchor=T):(Ua(),l(S.anchor=u("]"),v,T),T)},y=(w,S,M,L,I,E)=>{if(yh(w.parentElement,1)||Ua(),S.el=null,E){const T=C(w);for(;;){const A=s(w);if(A&&A!==T)a(A);else break}}const _=s(w),v=o(w);return a(w),n(null,S,v,_,M,L,vh(v),I),M&&(M.vnode.el=S.el,Pp(M,S.el)),_},C=(w,S="[",M="]")=>{let L=0;for(;w;)if(w=s(w),w&&tl(w)&&(w.data===S&&L++,w.data===M)){if(L===0)return s(w);L--}return w},R=(w,S,M)=>{const L=S.parentNode;L&&L.replaceChild(w,S);let I=M;for(;I;)I.vnode.el===S&&(I.vnode.el=I.subTree.el=w),I=I.parent},k=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[c,h]}const Mw="data-allow-mismatch",YM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function yh(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Mw);)t=t.parentElement;const n=t&&t.getAttribute(Mw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(YM[e])}}const GM=bp().requestIdleCallback||(t=>setTimeout(t,1)),QM=bp().cancelIdleCallback||(t=>clearTimeout(t)),Ene=(t=1e4)=>e=>{const n=GM(e,{timeout:t});return()=>QM(n)};function XM(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const Ine=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(XM(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},Sne=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},Cne=(t=[])=>(e,n)=>{Jt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function JM(t,e){if(tl(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(tl(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const io=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Ane(t){Ze(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((C,R)=>{l(y,()=>C(f()),()=>R(y),h+1)});throw y}).then(y=>g!==u&&u?u:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),c=y,y)))};return Kt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,y,C){const R=s?()=>{const k=s(C,w=>JM(g,w));k&&(y.bum||(y.bum=[])).push(k)}:C;c?R():p().then(()=>!y.isUnmounted&&R())},get __asyncResolved(){return c},setup(){const g=xn;if(i_(g),c)return()=>zm(c,g);const y=w=>{u=null,nu(w,g,13,!r)};if(a&&g.suspense||Al)return p().then(w=>()=>zm(w,g)).catch(w=>(y(w),()=>r?et(r,{error:w}):null));const C=fe(!1),R=fe(),k=fe(!!i);return i&&setTimeout(()=>{k.value=!1},i),o!=null&&setTimeout(()=>{if(!C.value&&!R.value){const w=new Error(`Async component timed out after ${o}ms.`);y(w),R.value=w}},o),p().then(()=>{C.value=!0,g.parent&&Ed(g.parent.vnode)&&g.parent.update()}).catch(w=>{y(w),R.value=w}),()=>{if(C.value&&c)return zm(c,g);if(R.value&&r)return et(r,{error:R.value});if(n&&!k.value)return et(n)}}})}function zm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=et(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Ed=t=>t.type.__isKeepAlive,ZM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ei(),r=n.ctx;if(!r.renderer)return()=>{const k=e.default&&e.default();return k&&k.length===1?k[0]:k};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(k,w,S,M,L)=>{const I=k.component;u(k,w,S,0,a),l(I.vnode,k,w,S,I,a,M,k.slotScopeIds,L),Pn(()=>{I.isDeactivated=!1,I.a&&fl(I.a);const E=k.props&&k.props.onVnodeMounted;E&&xr(E,I.parent,k)},a)},r.deactivate=k=>{const w=k.component;bf(w.m),bf(w.a),u(k,f,null,1,a),Pn(()=>{w.da&&fl(w.da);const S=k.props&&k.props.onVnodeUnmounted;S&&xr(S,w.parent,k),w.isDeactivated=!0},a)};function p(k){Km(k),c(k,n,a,!0)}function g(k){i.forEach((w,S)=>{const M=gv(w.type);M&&!k(M)&&y(S)})}function y(k){const w=i.get(k);w&&(!o||!_i(w,o))?p(w):o&&Km(o),i.delete(k),s.delete(k)}En(()=>[t.include,t.exclude],([k,w])=>{k&&g(S=>Hu(k,S)),w&&g(S=>!Hu(w,S))},{flush:"post",deep:!0});let C=null;const R=()=>{C!=null&&(wf(n.subTree.type)?Pn(()=>{i.set(C,_h(n.subTree))},n.subTree.suspense):i.set(C,_h(n.subTree)))};return vn(R),o_(R),a_(()=>{i.forEach(k=>{const{subTree:w,suspense:S}=n,M=_h(w);if(k.type===M.type&&k.key===M.key){Km(M);const L=M.component.da;L&&Pn(L,S);return}p(k)})}),()=>{if(C=null,!e.default)return o=null;const k=e.default(),w=k[0];if(k.length>1)return o=null,k;if(!go(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let S=_h(w);if(S.type===Rn)return o=null,S;const M=S.type,L=gv(io(S)?S.type.__asyncResolved||{}:M),{include:I,exclude:E,max:_}=t;if(I&&(!L||!Hu(I,L))||E&&L&&Hu(E,L))return S.shapeFlag&=-257,o=S,w;const v=S.key==null?M:S.key,T=i.get(v);return S.el&&(S=Is(S),w.shapeFlag&128&&(w.ssContent=S)),C=v,T?(S.el=T.el,S.component=T.component,S.transition&&mo(S,S.transition),S.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),_&&s.size>parseInt(_,10)&&y(s.values().next().value)),S.shapeFlag|=256,o=S,wf(w.type)?w:S}}},One=ZM;function Hu(t,e){return $e(t)?t.some(n=>Hu(n,e)):Jt(t)?t.split(",").includes(e):YN(t)?(t.lastIndex=0,t.test(e)):!1}function eL(t,e){UC(t,"a",e)}function tL(t,e){UC(t,"da",e)}function UC(t,e,n=xn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ap(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Ed(i.parent.vnode)&&nL(r,e,n,i),i=i.parent}}function nL(t,e,n,r){const i=Ap(e,t,r,!0);Ta(()=>{qy(r[e],i)},n)}function Km(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function _h(t){return t.shapeFlag&128?t.ssContent:t}function Ap(t,e,n=xn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Eo();const a=ia(n),l=Ri(e,n,t,o);return a(),Io(),l});return r?i.unshift(s):i.push(s),s}}const Rs=t=>(e,n=xn)=>{(!Al||t==="sp")&&Ap(t,(...r)=>e(...r),n)},rL=Rs("bm"),vn=Rs("m"),s_=Rs("bu"),o_=Rs("u"),a_=Rs("bum"),Ta=Rs("um"),iL=Rs("sp"),sL=Rs("rtg"),oL=Rs("rtc");function aL(t,e=xn){Ap("ec",t,e)}const l_="components",lL="directives";function Kr(t,e){return u_(l_,t,!0,e)||t}const BC=Symbol.for("v-ndc");function zr(t){return Jt(t)?u_(l_,t,!1)||t:t||BC}function jC(t){return u_(lL,t)}function u_(t,e,n=!0,r=!1){const i=Mn||xn;if(i){const s=i.type;if(t===l_){const a=gv(s,!1);if(a&&(a===e||a===vr(e)||a===_p(vr(e))))return s}const o=Lw(i[t]||s[t],e)||Lw(i.appContext[t],e);return!o&&r?s:o}}function Lw(t,e){return t&&(t[e]||t[vr(e)]||t[_p(vr(e))])}function Ft(t,e,n,r){let i;const s=n&&n[r],o=$e(t);if(o||Jt(t)){const a=o&&Ki(t);let l=!1;a&&(l=!li(t),t=Ep(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?ur(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(jt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function Zn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(Mn.ce||Mn.parent&&io(Mn.parent)&&Mn.parent.ce)return e!=="default"&&(n.name=e),W(),qe(Ne,null,[et("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),W();const o=s&&c_(s(n)),a=n.key||o&&o.key,l=qe(Ne,{key:(a&&!ki(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function c_(t){return t.some(e=>go(e)?!(e.type===Rn||e.type===Ne&&!c_(e.children)):!0)?t:null}function Pne(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Wh(r)]=t[r];return n}const ov=t=>t?fA(t)?Sd(t):ov(t.parent):null,nc=zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ov(t.parent),$root:t=>ov(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>d_(t),$forceUpdate:t=>t.f||(t.f=()=>{n_(t.update)}),$nextTick:t=>t.n||(t.n=jn.bind(t.proxy)),$watch:t=>kL.bind(t)}),Ym=(t,e)=>t!==mt&&!t.__isScriptSetup&&kt(t,e),av={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Ym(r,e))return o[e]=1,r[e];if(i!==mt&&kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&kt(u,e))return o[e]=3,s[e];if(n!==mt&&kt(n,e))return o[e]=4,n[e];lv&&(o[e]=0)}}const c=nc[e];let h,f;if(c)return e==="$attrs"&&lr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==mt&&kt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,kt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Ym(i,e)?(i[e]=n,!0):r!==mt&&kt(r,e)?(r[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==mt&&kt(t,o)||Ym(e,o)||(a=s[0])&&kt(a,o)||kt(r,o)||kt(nc,o)||kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},uL=zt({},av,{get(t,e){if(e!==Symbol.unscopables)return av.get(t,e,t)},has(t,e){return e[0]!=="_"&&!ZN(e)}});function kne(){return null}function Rne(){return null}function Dne(t){}function xne(t){}function Nne(){return null}function Mne(){}function Lne(t,e){return null}function Ea(){return HC().slots}function Vne(){return HC().attrs}function HC(){const t=ei();return t.setupContext||(t.setupContext=gA(t))}function Nc(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Fne(t,e){const n=Nc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?$e(i)||Ze(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function $ne(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):zt({},Nc(t),Nc(e))}function Une(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Bne(t){const e=ei();let n=t();return fv(),zy(n)&&(n=n.catch(r=>{throw ia(e),r})),[n,()=>ia(e)]}let lv=!0;function cL(t){const e=d_(t),n=t.proxy,r=t.ctx;lv=!1,e.beforeCreate&&Vw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:y,deactivated:C,beforeDestroy:R,beforeUnmount:k,destroyed:w,unmounted:S,render:M,renderTracked:L,renderTriggered:I,errorCaptured:E,serverPrefetch:_,expose:v,inheritAttrs:T,components:A,directives:P,filters:q}=e;if(u&&dL(u,r,null),o)for(const F in o){const U=o[F];Ze(U)&&(r[F]=U.bind(n))}if(i){const F=i.call(n,n);jt(F)&&(t.data=Rr(F))}if(lv=!0,s)for(const F in s){const U=s[F],x=Ze(U)?U.bind(n,n):Ze(U.get)?U.get.bind(n,n):ai,O=!Ze(U)&&Ze(U.set)?U.set.bind(n):ai,z=le({get:x,set:O});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>z.value,set:K=>z.value=K})}if(a)for(const F in a)WC(a[F],r,n,F);if(l){const F=Ze(l)?l.call(n):l;Reflect.ownKeys(F).forEach(U=>{rc(U,F[U])})}c&&Vw(c,t,"c");function j(F,U){$e(U)?U.forEach(x=>F(x.bind(n))):U&&F(U.bind(n))}if(j(rL,h),j(vn,f),j(s_,p),j(o_,g),j(eL,y),j(tL,C),j(aL,E),j(oL,L),j(sL,I),j(a_,k),j(Ta,S),j(iL,_),$e(v))if(v.length){const F=t.exposed||(t.exposed={});v.forEach(U=>{Object.defineProperty(F,U,{get:()=>n[U],set:x=>n[U]=x})})}else t.exposed||(t.exposed={});M&&t.render===ai&&(t.render=M),T!=null&&(t.inheritAttrs=T),A&&(t.components=A),P&&(t.directives=P),_&&i_(t)}function dL(t,e,n=ai){$e(t)&&(t=uv(t));for(const r in t){const i=t[r];let s;jt(i)?"default"in i?s=kr(i.from||r,i.default,!0):s=kr(i.from||r):s=kr(i),an(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Vw(t,e,n){Ri($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function WC(t,e,n,r){let i=r.includes(".")?iA(n,r):()=>n[r];if(Jt(t)){const s=e[t];Ze(s)&&En(i,s)}else if(Ze(t))En(i,t.bind(n));else if(jt(t))if($e(t))t.forEach(s=>WC(s,e,n,r));else{const s=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(s)&&En(i,s,t)}}function d_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>_f(l,u,o,!0)),_f(l,e,o)),jt(e)&&s.set(e,l),l}function _f(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&_f(t,s,n,!0),i&&i.forEach(o=>_f(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=hL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const hL={data:Fw,props:$w,emits:$w,methods:Wu,computed:Wu,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:Wu,directives:Wu,watch:pL,provide:Fw,inject:fL};function Fw(t,e){return e?t?function(){return zt(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function fL(t,e){return Wu(uv(t),uv(e))}function uv(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ir(t,e){return t?[...new Set([].concat(t,e))]:e}function Wu(t,e){return t?zt(Object.create(null),t,e):e}function $w(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:zt(Object.create(null),Nc(t),Nc(e??{})):e}function pL(t,e){if(!t)return e;if(!e)return t;const n=zt(Object.create(null),t);for(const r in e)n[r]=Ir(t[r],e[r]);return n}function qC(){return{app:null,config:{isNativeTag:zN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mL=0;function gL(t,e){return function(r,i=null){Ze(r)||(r=zt({},r)),i!=null&&!jt(i)&&(i=null);const s=qC(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:mL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:GL,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ze(c.install)?(o.add(c),c.install(u,...h)):Ze(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||et(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Sd(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ri(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Yo;Yo=u;try{return c()}finally{Yo=h}}};return u}}let Yo=null;function rc(t,e){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[t]=e}}function kr(t,e,n=!1){const r=xn||Mn;if(r||Yo){const i=Yo?Yo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}function vL(){return!!(xn||Mn||Yo)}const zC={},KC=()=>Object.create(zC),YC=t=>Object.getPrototypeOf(t)===zC;function yL(t,e,n,r=!1){const i={},s=KC();t.propsDefaults=Object.create(null),GC(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:bC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function _L(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Op(t.emitsOptions,f))continue;const p=e[f];if(l)if(kt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=vr(f);i[g]=cv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{GC(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!kt(e,h)&&((c=Lr(h))===h||!kt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=cv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!kt(e,h))&&(delete s[h],u=!0)}u&&ds(t.attrs,"set","")}function GC(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(hl(l))continue;const u=e[l];let c;i&&kt(i,c=vr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Op(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pt(n),u=a||mt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=cv(i,l,h,u[h],t,!kt(u,h))}}return o}function cv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=ia(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Lr(n))&&(r=!0))}return r}const bL=new WeakMap;function QC(t,e,n=!1){const r=n?bL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ze(t)){const c=h=>{l=!0;const[f,p]=QC(h,e,!0);zt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return jt(t)&&r.set(t,cl),cl;if($e(s))for(let c=0;c<s.length;c++){const h=vr(s[c]);Uw(h)&&(o[h]=mt)}else if(s)for(const c in s){const h=vr(c);if(Uw(h)){const f=s[c],p=o[h]=$e(f)||Ze(f)?{type:f}:zt({},f),g=p.type;let y=!1,C=!0;if($e(g))for(let R=0;R<g.length;++R){const k=g[R],w=Ze(k)&&k.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(C=!1)}else y=Ze(g)&&g.name==="Boolean";p[0]=y,p[1]=C,(y||kt(p,"default"))&&a.push(h)}}const u=[o,a];return jt(t)&&r.set(t,u),u}function Uw(t){return t[0]!=="$"&&!hl(t)}const XC=t=>t[0]==="_"||t==="$stable",h_=t=>$e(t)?t.map(Mr):[Mr(t)],wL=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>h_(e(...i)),n);return r._c=!1,r},JC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(XC(i))continue;const s=t[i];if(Ze(s))e[i]=wL(i,s,r);else if(s!=null){const o=h_(s);e[i]=()=>o}}},ZC=(t,e)=>{const n=h_(e);t.slots.default=()=>n},eA=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},TL=(t,e,n)=>{const r=t.slots=KC();if(t.vnode.shapeFlag&32){const i=e._;i?(eA(r,e,n),n&&ZS(r,"_",i,!0)):JC(e,r)}else e&&ZC(t,e)},EL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=mt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:eA(i,e,n):(s=!e.$stable,JC(e,i)),o=e}else e&&(ZC(t,e),o={default:1});if(s)for(const a in i)!XC(a)&&o[a]==null&&delete i[a]},Pn=lA;function IL(t){return tA(t)}function SL(t){return tA(t,KM)}function tA(t,e){const n=bp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=ai,insertStaticContent:g}=t,y=(D,V,B,oe=null,se=null,me=null,Se=void 0,Ee=null,Te=!!V.dynamicChildren)=>{if(D===V)return;D&&!_i(D,V)&&(oe=Q(D),K(D,se,me,!0),D=null),V.patchFlag===-2&&(Te=!1,V.dynamicChildren=null);const{type:ge,ref:He,shapeFlag:Ie}=V;switch(ge){case Go:C(D,V,B,oe);break;case Rn:R(D,V,B,oe);break;case gl:D==null&&k(V,B,oe,Se);break;case Ne:A(D,V,B,oe,se,me,Se,Ee,Te);break;default:Ie&1?M(D,V,B,oe,se,me,Se,Ee,Te):Ie&6?P(D,V,B,oe,se,me,Se,Ee,Te):(Ie&64||Ie&128)&&ge.process(D,V,B,oe,se,me,Se,Ee,Te,ce)}He!=null&&se&&xc(He,D&&D.ref,me,V||D,!V)},C=(D,V,B,oe)=>{if(D==null)r(V.el=a(V.children),B,oe);else{const se=V.el=D.el;V.children!==D.children&&u(se,V.children)}},R=(D,V,B,oe)=>{D==null?r(V.el=l(V.children||""),B,oe):V.el=D.el},k=(D,V,B,oe)=>{[D.el,D.anchor]=g(D.children,V,B,oe,D.el,D.anchor)},w=({el:D,anchor:V},B,oe)=>{let se;for(;D&&D!==V;)se=f(D),r(D,B,oe),D=se;r(V,B,oe)},S=({el:D,anchor:V})=>{let B;for(;D&&D!==V;)B=f(D),i(D),D=B;i(V)},M=(D,V,B,oe,se,me,Se,Ee,Te)=>{V.type==="svg"?Se="svg":V.type==="math"&&(Se="mathml"),D==null?L(V,B,oe,se,me,Se,Ee,Te):_(D,V,se,me,Se,Ee,Te)},L=(D,V,B,oe,se,me,Se,Ee)=>{let Te,ge;const{props:He,shapeFlag:Ie,transition:Fe,dirs:Ge}=D;if(Te=D.el=o(D.type,me,He&&He.is,He),Ie&8?c(Te,D.children):Ie&16&&E(D.children,Te,null,oe,se,Gm(D,me),Se,Ee),Ge&&Ui(D,null,oe,"created"),I(Te,D,D.scopeId,Se,oe),He){for(const Y in He)Y!=="value"&&!hl(Y)&&s(Te,Y,null,He[Y],me,oe);"value"in He&&s(Te,"value",null,He.value,me),(ge=He.onVnodeBeforeMount)&&xr(ge,oe,D)}Ge&&Ui(D,null,oe,"beforeMount");const Ke=nA(se,Fe);Ke&&Fe.beforeEnter(Te),r(Te,V,B),((ge=He&&He.onVnodeMounted)||Ke||Ge)&&Pn(()=>{ge&&xr(ge,oe,D),Ke&&Fe.enter(Te),Ge&&Ui(D,null,oe,"mounted")},se)},I=(D,V,B,oe,se)=>{if(B&&p(D,B),oe)for(let me=0;me<oe.length;me++)p(D,oe[me]);if(se){let me=se.subTree;if(V===me||wf(me.type)&&(me.ssContent===V||me.ssFallback===V)){const Se=se.vnode;I(D,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},E=(D,V,B,oe,se,me,Se,Ee,Te=0)=>{for(let ge=Te;ge<D.length;ge++){const He=D[ge]=Ee?Gs(D[ge]):Mr(D[ge]);y(null,He,V,B,oe,se,me,Se,Ee)}},_=(D,V,B,oe,se,me,Se)=>{const Ee=V.el=D.el;let{patchFlag:Te,dynamicChildren:ge,dirs:He}=V;Te|=D.patchFlag&16;const Ie=D.props||mt,Fe=V.props||mt;let Ge;if(B&&No(B,!1),(Ge=Fe.onVnodeBeforeUpdate)&&xr(Ge,B,V,D),He&&Ui(V,D,B,"beforeUpdate"),B&&No(B,!0),(Ie.innerHTML&&Fe.innerHTML==null||Ie.textContent&&Fe.textContent==null)&&c(Ee,""),ge?v(D.dynamicChildren,ge,Ee,B,oe,Gm(V,se),me):Se||U(D,V,Ee,null,B,oe,Gm(V,se),me,!1),Te>0){if(Te&16)T(Ee,Ie,Fe,B,se);else if(Te&2&&Ie.class!==Fe.class&&s(Ee,"class",null,Fe.class,se),Te&4&&s(Ee,"style",Ie.style,Fe.style,se),Te&8){const Ke=V.dynamicProps;for(let Y=0;Y<Ke.length;Y++){const ae=Ke[Y],xe=Ie[ae],We=Fe[ae];(We!==xe||ae==="value")&&s(Ee,ae,xe,We,se,B)}}Te&1&&D.children!==V.children&&c(Ee,V.children)}else!Se&&ge==null&&T(Ee,Ie,Fe,B,se);((Ge=Fe.onVnodeUpdated)||He)&&Pn(()=>{Ge&&xr(Ge,B,V,D),He&&Ui(V,D,B,"updated")},oe)},v=(D,V,B,oe,se,me,Se)=>{for(let Ee=0;Ee<V.length;Ee++){const Te=D[Ee],ge=V[Ee],He=Te.el&&(Te.type===Ne||!_i(Te,ge)||Te.shapeFlag&70)?h(Te.el):B;y(Te,ge,He,null,oe,se,me,Se,!0)}},T=(D,V,B,oe,se)=>{if(V!==B){if(V!==mt)for(const me in V)!hl(me)&&!(me in B)&&s(D,me,V[me],null,se,oe);for(const me in B){if(hl(me))continue;const Se=B[me],Ee=V[me];Se!==Ee&&me!=="value"&&s(D,me,Ee,Se,se,oe)}"value"in B&&s(D,"value",V.value,B.value,se)}},A=(D,V,B,oe,se,me,Se,Ee,Te)=>{const ge=V.el=D?D.el:a(""),He=V.anchor=D?D.anchor:a("");let{patchFlag:Ie,dynamicChildren:Fe,slotScopeIds:Ge}=V;Ge&&(Ee=Ee?Ee.concat(Ge):Ge),D==null?(r(ge,B,oe),r(He,B,oe),E(V.children||[],B,He,se,me,Se,Ee,Te)):Ie>0&&Ie&64&&Fe&&D.dynamicChildren?(v(D.dynamicChildren,Fe,B,se,me,Se,Ee),(V.key!=null||se&&V===se.subTree)&&f_(D,V,!0)):U(D,V,B,He,se,me,Se,Ee,Te)},P=(D,V,B,oe,se,me,Se,Ee,Te)=>{V.slotScopeIds=Ee,D==null?V.shapeFlag&512?se.ctx.activate(V,B,oe,Se,Te):q(V,B,oe,se,me,Se,Te):$(D,V,Te)},q=(D,V,B,oe,se,me,Se)=>{const Ee=D.component=hA(D,oe,se);if(Ed(D)&&(Ee.ctx.renderer=ce),pA(Ee,!1,Se),Ee.asyncDep){if(se&&se.registerDep(Ee,j,Se),!D.el){const Te=Ee.subTree=et(Rn);R(null,Te,V,B)}}else j(Ee,D,V,B,se,me,Se)},$=(D,V,B)=>{const oe=V.component=D.component;if(ML(D,V,B))if(oe.asyncDep&&!oe.asyncResolved){F(oe,V,B);return}else oe.next=V,oe.update();else V.el=D.el,oe.vnode=V},j=(D,V,B,oe,se,me,Se)=>{const Ee=()=>{if(D.isMounted){let{next:Ie,bu:Fe,u:Ge,parent:Ke,vnode:Y}=D;{const Nt=rA(D);if(Nt){Ie&&(Ie.el=Y.el,F(D,Ie,Se)),Nt.asyncDep.then(()=>{D.isUnmounted||Ee()});return}}let ae=Ie,xe;No(D,!1),Ie?(Ie.el=Y.el,F(D,Ie,Se)):Ie=Y,Fe&&fl(Fe),(xe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&xr(xe,Ke,Ie,Y),No(D,!0);const We=zh(D),ct=D.subTree;D.subTree=We,y(ct,We,h(ct.el),Q(ct),D,se,me),Ie.el=We.el,ae===null&&Pp(D,We.el),Ge&&Pn(Ge,se),(xe=Ie.props&&Ie.props.onVnodeUpdated)&&Pn(()=>xr(xe,Ke,Ie,Y),se)}else{let Ie;const{el:Fe,props:Ge}=V,{bm:Ke,m:Y,parent:ae,root:xe,type:We}=D,ct=io(V);if(No(D,!1),Ke&&fl(Ke),!ct&&(Ie=Ge&&Ge.onVnodeBeforeMount)&&xr(Ie,ae,V),No(D,!0),Fe&&ne){const Nt=()=>{D.subTree=zh(D),ne(Fe,D.subTree,D,se,null)};ct&&We.__asyncHydrate?We.__asyncHydrate(Fe,D,Nt):Nt()}else{xe.ce&&xe.ce._injectChildStyle(We);const Nt=D.subTree=zh(D);y(null,Nt,B,oe,D,se,me),V.el=Nt.el}if(Y&&Pn(Y,se),!ct&&(Ie=Ge&&Ge.onVnodeMounted)){const Nt=V;Pn(()=>xr(Ie,ae,Nt),se)}(V.shapeFlag&256||ae&&io(ae.vnode)&&ae.vnode.shapeFlag&256)&&D.a&&Pn(D.a,se),D.isMounted=!0,V=B=oe=null}};D.scope.on();const Te=D.effect=new ff(Ee);D.scope.off();const ge=D.update=Te.run.bind(Te),He=D.job=Te.runIfDirty.bind(Te);He.i=D,He.id=D.uid,Te.scheduler=()=>n_(He),No(D,!0),ge()},F=(D,V,B)=>{V.component=D;const oe=D.vnode.props;D.vnode=V,D.next=null,_L(D,V.props,oe,B),EL(D,V.children,B),Eo(),Pw(D),Io()},U=(D,V,B,oe,se,me,Se,Ee,Te=!1)=>{const ge=D&&D.children,He=D?D.shapeFlag:0,Ie=V.children,{patchFlag:Fe,shapeFlag:Ge}=V;if(Fe>0){if(Fe&128){O(ge,Ie,B,oe,se,me,Se,Ee,Te);return}else if(Fe&256){x(ge,Ie,B,oe,se,me,Se,Ee,Te);return}}Ge&8?(He&16&&H(ge,se,me),Ie!==ge&&c(B,Ie)):He&16?Ge&16?O(ge,Ie,B,oe,se,me,Se,Ee,Te):H(ge,se,me,!0):(He&8&&c(B,""),Ge&16&&E(Ie,B,oe,se,me,Se,Ee,Te))},x=(D,V,B,oe,se,me,Se,Ee,Te)=>{D=D||cl,V=V||cl;const ge=D.length,He=V.length,Ie=Math.min(ge,He);let Fe;for(Fe=0;Fe<Ie;Fe++){const Ge=V[Fe]=Te?Gs(V[Fe]):Mr(V[Fe]);y(D[Fe],Ge,B,null,se,me,Se,Ee,Te)}ge>He?H(D,se,me,!0,!1,Ie):E(V,B,oe,se,me,Se,Ee,Te,Ie)},O=(D,V,B,oe,se,me,Se,Ee,Te)=>{let ge=0;const He=V.length;let Ie=D.length-1,Fe=He-1;for(;ge<=Ie&&ge<=Fe;){const Ge=D[ge],Ke=V[ge]=Te?Gs(V[ge]):Mr(V[ge]);if(_i(Ge,Ke))y(Ge,Ke,B,null,se,me,Se,Ee,Te);else break;ge++}for(;ge<=Ie&&ge<=Fe;){const Ge=D[Ie],Ke=V[Fe]=Te?Gs(V[Fe]):Mr(V[Fe]);if(_i(Ge,Ke))y(Ge,Ke,B,null,se,me,Se,Ee,Te);else break;Ie--,Fe--}if(ge>Ie){if(ge<=Fe){const Ge=Fe+1,Ke=Ge<He?V[Ge].el:oe;for(;ge<=Fe;)y(null,V[ge]=Te?Gs(V[ge]):Mr(V[ge]),B,Ke,se,me,Se,Ee,Te),ge++}}else if(ge>Fe)for(;ge<=Ie;)K(D[ge],se,me,!0),ge++;else{const Ge=ge,Ke=ge,Y=new Map;for(ge=Ke;ge<=Fe;ge++){const Be=V[ge]=Te?Gs(V[ge]):Mr(V[ge]);Be.key!=null&&Y.set(Be.key,ge)}let ae,xe=0;const We=Fe-Ke+1;let ct=!1,Nt=0;const Hn=new Array(We);for(ge=0;ge<We;ge++)Hn[ge]=0;for(ge=Ge;ge<=Ie;ge++){const Be=D[ge];if(xe>=We){K(Be,se,me,!0);continue}let je;if(Be.key!=null)je=Y.get(Be.key);else for(ae=Ke;ae<=Fe;ae++)if(Hn[ae-Ke]===0&&_i(Be,V[ae])){je=ae;break}je===void 0?K(Be,se,me,!0):(Hn[je-Ke]=ge+1,je>=Nt?Nt=je:ct=!0,y(Be,V[je],B,null,se,me,Se,Ee,Te),xe++)}const Oe=ct?CL(Hn):cl;for(ae=Oe.length-1,ge=We-1;ge>=0;ge--){const Be=Ke+ge,je=V[Be],Wn=Be+1<He?V[Be+1].el:oe;Hn[ge]===0?y(null,je,B,Wn,se,me,Se,Ee,Te):ct&&(ae<0||ge!==Oe[ae]?z(je,B,Wn,2):ae--)}}},z=(D,V,B,oe,se=null)=>{const{el:me,type:Se,transition:Ee,children:Te,shapeFlag:ge}=D;if(ge&6){z(D.component.subTree,V,B,oe);return}if(ge&128){D.suspense.move(V,B,oe);return}if(ge&64){Se.move(D,V,B,ce);return}if(Se===Ne){r(me,V,B);for(let Ie=0;Ie<Te.length;Ie++)z(Te[Ie],V,B,oe);r(D.anchor,V,B);return}if(Se===gl){w(D,V,B);return}if(oe!==2&&ge&1&&Ee)if(oe===0)Ee.beforeEnter(me),r(me,V,B),Pn(()=>Ee.enter(me),se);else{const{leave:Ie,delayLeave:Fe,afterLeave:Ge}=Ee,Ke=()=>r(me,V,B),Y=()=>{Ie(me,()=>{Ke(),Ge&&Ge()})};Fe?Fe(me,Ke,Y):Y()}else r(me,V,B)},K=(D,V,B,oe=!1,se=!1)=>{const{type:me,props:Se,ref:Ee,children:Te,dynamicChildren:ge,shapeFlag:He,patchFlag:Ie,dirs:Fe,cacheIndex:Ge}=D;if(Ie===-2&&(se=!1),Ee!=null&&xc(Ee,null,B,D,!0),Ge!=null&&(V.renderCache[Ge]=void 0),He&256){V.ctx.deactivate(D);return}const Ke=He&1&&Fe,Y=!io(D);let ae;if(Y&&(ae=Se&&Se.onVnodeBeforeUnmount)&&xr(ae,V,D),He&6)Z(D.component,B,oe);else{if(He&128){D.suspense.unmount(B,oe);return}Ke&&Ui(D,null,V,"beforeUnmount"),He&64?D.type.remove(D,V,B,ce,oe):ge&&!ge.hasOnce&&(me!==Ne||Ie>0&&Ie&64)?H(ge,V,B,!1,!0):(me===Ne&&Ie&384||!se&&He&16)&&H(Te,V,B),oe&&te(D)}(Y&&(ae=Se&&Se.onVnodeUnmounted)||Ke)&&Pn(()=>{ae&&xr(ae,V,D),Ke&&Ui(D,null,V,"unmounted")},B)},te=D=>{const{type:V,el:B,anchor:oe,transition:se}=D;if(V===Ne){he(B,oe);return}if(V===gl){S(D);return}const me=()=>{i(B),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(D.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Ee}=se,Te=()=>Se(B,me);Ee?Ee(D.el,me,Te):Te()}else me()},he=(D,V)=>{let B;for(;D!==V;)B=f(D),i(D),D=B;i(V)},Z=(D,V,B)=>{const{bum:oe,scope:se,job:me,subTree:Se,um:Ee,m:Te,a:ge}=D;bf(Te),bf(ge),oe&&fl(oe),se.stop(),me&&(me.flags|=8,K(Se,D,V,B)),Ee&&Pn(Ee,V),Pn(()=>{D.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},H=(D,V,B,oe=!1,se=!1,me=0)=>{for(let Se=me;Se<D.length;Se++)K(D[Se],V,B,oe,se)},Q=D=>{if(D.shapeFlag&6)return Q(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const V=f(D.anchor||D.el),B=V&&V[kC];return B?f(B):V};let ie=!1;const X=(D,V,B)=>{D==null?V._vnode&&K(V._vnode,null,null,!0):y(V._vnode||null,D,V,null,null,null,B),V._vnode=D,ie||(ie=!0,Pw(),yf(),ie=!1)},ce={p:y,um:K,m:z,r:te,mt:q,mc:E,pc:U,pbc:v,n:Q,o:t};let be,ne;return e&&([be,ne]=e(ce)),{render:X,hydrate:be,createApp:gL(X,be)}}function Gm({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function No({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function nA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function f_(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Gs(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&f_(o,a)),a.type===Go&&(a.el=o.el)}}function CL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function rA(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:rA(e)}function bf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const AL=Symbol.for("v-scx"),OL=()=>kr(AL);function jne(t,e){return Id(t,null,e)}function Hne(t,e){return Id(t,null,{flush:"post"})}function PL(t,e){return Id(t,null,{flush:"sync"})}function En(t,e,n){return Id(t,e,n)}function Id(t,e,n=mt){const{immediate:r,deep:i,flush:s,once:o}=n,a=zt({},n),l=e&&r||!e&&s!=="post";let u;if(Al){if(s==="sync"){const p=OL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ai,p.resume=ai,p.pause=ai,p}}const c=xn;a.call=(p,g,y)=>Ri(p,c,g,y);let h=!1;s==="post"?a.scheduler=p=>{Pn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():n_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=LM(t,e,a);return Al&&(u?u.push(f):l&&f()),f}function kL(t,e,n){const r=this.proxy,i=Jt(t)?t.includes(".")?iA(r,t):()=>r[t]:t.bind(r,r);let s;Ze(e)?s=e:(s=e.handler,n=e);const o=ia(this),a=Id(i,s.bind(r),n);return o(),a}function iA(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Wne(t,e,n=mt){const r=ei(),i=vr(e),s=Lr(e),o=sA(t,i),a=PM((l,u)=>{let c,h=mt,f;return PL(()=>{const p=t[i];Cr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Cr(g,c)&&!(h!==mt&&Cr(p,h)))return;const y=r.vnode.props;y&&(e in y||i in y||s in y)&&(`onUpdate:${e}`in y||`onUpdate:${i}`in y||`onUpdate:${s}`in y)||(c=p,u()),r.emit(`update:${e}`,g),Cr(p,g)&&Cr(p,h)&&!Cr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||mt:a,done:!1}:{done:!0}}}},a}const sA=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${vr(e)}Modifiers`]||t[`${Lr(e)}Modifiers`];function RL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||mt;let i=n;const s=e.startsWith("update:"),o=s&&sA(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Jt(c)?c.trim():c)),o.number&&(i=n.map(df)));let a,l=r[a=Wh(e)]||r[a=Wh(vr(e))];!l&&s&&(l=r[a=Wh(Lr(e))]),l&&Ri(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ri(u,t,6,i)}}function oA(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ze(t)){const l=u=>{const c=oA(u,e,!0);c&&(a=!0,zt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(jt(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):zt(o,s),jt(t)&&r.set(t,o),o)}function Op(t,e){return!t||!wd(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,Lr(e))||kt(t,e))}function zh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:y}=t,C=Rc(t);let R,k;try{if(n.shapeFlag&4){const S=i||r,M=S;R=Mr(u.call(M,S,c,h,p,f,g)),k=a}else{const S=e;R=Mr(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),k=e.props?a:xL(a)}}catch(S){ic.length=0,nu(S,t,1),R=et(Rn)}let w=R;if(k&&y!==!1){const S=Object.keys(k),{shapeFlag:M}=w;S.length&&M&7&&(s&&S.some(Wy)&&(k=NL(k,s)),w=Is(w,k,!1,!0))}return n.dirs&&(w=Is(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&mo(w,n.transition),R=w,Rc(C),R}function DL(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(go(i)){if(i.type!==Rn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const xL=t=>{let e;for(const n in t)(n==="class"||n==="style"||wd(n))&&((e||(e={}))[n]=t[n]);return e},NL=(t,e)=>{const n={};for(const r in t)(!Wy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function ML(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Bw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Op(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Bw(r,o,u):!0:!!o;return!1}function Bw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Op(n,s))return!0}return!1}function Pp({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const wf=t=>t.__isSuspense;let dv=0;const LL={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)VL(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}FL(t,e,n,r,i,o,a,l,u)}},hydrate:$L,normalize:UL},qne=LL;function Mc(t,e){const n=t.props&&t.props[e];Ze(n)&&n()}function VL(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=aA(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Mc(t,"onPending"),Mc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),ml(f,t.ssFallback)):f.resolve(!1,!0)}function FL(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:y,isInFallback:C,isHydrating:R}=h;if(y)h.pendingBranch=f,_i(f,y)?(l(y,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():C&&(R||(l(g,p,n,r,i,null,s,o,a),ml(h,p)))):(h.pendingId=dv++,R?(h.isHydrating=!1,h.activeBranch=y):u(y,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),C?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),ml(h,p))):g&&_i(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&_i(f,g))l(g,f,n,r,i,h,s,o,a),ml(h,f);else if(Mc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=dv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:k,pendingId:w}=h;k>0?setTimeout(()=>{h.pendingId===w&&h.fallback(p)},k):k===0&&h.fallback(p)}}function aA(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:y,remove:C}}=u;let R;const k=BL(t);k&&e&&e.pendingBranch&&(R=e.pendingId,e.deps++);const w=t.props?hf(t.props.timeout):void 0,S=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:dv++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(L=!1,I=!1){const{vnode:E,activeBranch:_,pendingBranch:v,pendingId:T,effects:A,parentComponent:P,container:q}=M;let $=!1;M.isHydrating?M.isHydrating=!1:L||($=_&&v.transition&&v.transition.mode==="out-in",$&&(_.transition.afterLeave=()=>{T===M.pendingId&&(f(v,q,s===S?g(_):s,0),vf(A))}),_&&(y(_.el)===q&&(s=g(_)),p(_,P,M,!0)),$||f(v,q,s,0)),ml(M,v),M.pendingBranch=null,M.isInFallback=!1;let j=M.parent,F=!1;for(;j;){if(j.pendingBranch){j.effects.push(...A),F=!0;break}j=j.parent}!F&&!$&&vf(A),M.effects=[],k&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),Mc(E,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:I,activeBranch:E,parentComponent:_,container:v,namespace:T}=M;Mc(I,"onFallback");const A=g(E),P=()=>{M.isInFallback&&(h(null,L,v,A,_,null,T,a,l),ml(M,L))},q=L.transition&&L.transition.mode==="out-in";q&&(E.transition.afterLeave=P),M.isInFallback=!0,p(E,_,null,!0),q||P()},move(L,I,E){M.activeBranch&&f(M.activeBranch,L,I,E),M.container=L},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(L,I,E){const _=!!M.pendingBranch;_&&M.deps++;const v=L.vnode.el;L.asyncDep.catch(T=>{nu(T,L,0)}).then(T=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:A}=L;pv(L,T,!1),v&&(A.el=v);const P=!v&&L.subTree.el;I(L,A,y(v||L.subTree.el),v?null:g(L.subTree),M,o,E),P&&C(P),Pp(L,A.el),_&&--M.deps===0&&M.resolve()})},unmount(L,I){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,I),M.pendingBranch&&p(M.pendingBranch,n,L,I)}};return M}function $L(t,e,n,r,i,s,o,a,l){const u=e.suspense=aA(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function UL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=jw(r?n.default:n),t.ssFallback=r?jw(n.fallback):et(Rn)}function jw(t){let e;if(Ze(t)){const n=ra&&t._c;n&&(t._d=!1,W()),t=t(),n&&(t._d=!0,e=pr,uA())}return $e(t)&&(t=DL(t)),t=Mr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function lA(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):vf(t)}function ml(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Pp(r,i))}function BL(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ne=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),Rn=Symbol.for("v-cmt"),gl=Symbol.for("v-stc"),ic=[];let pr=null;function W(t=!1){ic.push(pr=t?null:[])}function uA(){ic.pop(),pr=ic[ic.length-1]||null}let ra=1;function Hw(t,e=!1){ra+=t,t<0&&pr&&e&&(pr.hasOnce=!0)}function cA(t){return t.dynamicChildren=ra>0?pr||cl:null,uA(),ra>0&&pr&&pr.push(t),t}function ee(t,e,n,r,i,s){return cA(Ce(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return cA(et(t,e,n,r,i,!0))}function go(t){return t?t.__v_isVNode===!0:!1}function _i(t,e){return t.type===e.type&&t.key===e.key}function zne(t){}const dA=({key:t})=>t??null,Kh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||an(t)||Ze(t)?{i:Mn,r:t,k:e,f:!!n}:t:null);function Ce(t,e=null,n=null,r=0,i=null,s=t===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dA(e),ref:e&&Kh(e),scopeId:Cp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Mn};return a?(p_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),ra>0&&!o&&pr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&pr.push(l),l}const et=jL;function jL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===BC)&&(t=Rn),go(t)){const a=Is(t,e,!0);return n&&p_(a,n),ra>0&&!s&&pr&&(a.shapeFlag&6?pr[pr.indexOf(t)]=a:pr.push(a)),a.patchFlag=-2,a}if(KL(t)&&(t=t.__vccOpts),e){e=Jn(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=tt(a)),jt(l)&&(e_(l)&&!$e(l)&&(l=zt({},l)),e.style=Pr(l))}const o=Jt(t)?1:wf(t)?128:RC(t)?64:jt(t)?4:Ze(t)?2:0;return Ce(t,e,n,r,i,o,s,!0)}function Jn(t){return t?e_(t)||YC(t)?zt({},t):t:null}function Is(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?pe(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&dA(u),ref:e&&e.ref?n&&s?$e(s)?s.concat(Kh(e)):[s,Kh(e)]:Kh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&mo(c,l.clone(c)),c}function Dn(t=" ",e=0){return et(Go,null,t,e)}function Kne(t,e){const n=et(gl,null,t);return n.staticCount=e,n}function de(t="",e=!1){return e?(W(),qe(Rn,null,t)):et(Rn,null,t)}function Mr(t){return t==null||typeof t=="boolean"?et(Rn):$e(t)?et(Ne,null,t.slice()):go(t)?Gs(t):et(Go,null,String(t))}function Gs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function p_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),p_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!YC(e)?e._ctx=Mn:i===3&&Mn&&(Mn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:Mn},n=32):(e=String(e),r&64?(n=16,e=[Dn(e)]):n=8);t.children=e,t.shapeFlag|=n}function pe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=Pr([e.style,r.style]);else if(wd(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function xr(t,e,n,r=null){Ri(t,e,7,[n,r])}const HL=qC();let WL=0;function hA(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||HL,s={uid:WL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:QC(r,i),emitsOptions:oA(r,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=RL.bind(null,s),t.ce&&t.ce(s),s}let xn=null;const ei=()=>xn||Mn;let Tf,hv;{const t=bp(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Tf=e("__VUE_INSTANCE_SETTERS__",n=>xn=n),hv=e("__VUE_SSR_SETTERS__",n=>Al=n)}const ia=t=>{const e=xn;return Tf(t),t.scope.on(),()=>{t.scope.off(),Tf(e)}},fv=()=>{xn&&xn.scope.off(),Tf(null)};function fA(t){return t.vnode.shapeFlag&4}let Al=!1;function pA(t,e=!1,n=!1){e&&hv(e);const{props:r,children:i}=t.vnode,s=fA(t);yL(t,r,s,e),TL(t,i,n);const o=s?qL(t,e):void 0;return e&&hv(!1),o}function qL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,av);const{setup:r}=n;if(r){Eo();const i=t.setupContext=r.length>1?gA(t):null,s=ia(t),o=Td(r,t,0,[t.props,i]),a=zy(o);if(Io(),s(),(a||t.sp)&&!io(t)&&i_(t),a){if(o.then(fv,fv),e)return o.then(l=>{pv(t,l,e)}).catch(l=>{nu(l,t,0)});t.asyncDep=o}else pv(t,o,e)}else mA(t,e)}function pv(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:jt(e)&&(t.setupState=EC(e)),mA(t,n)}let Ef,mv;function Yne(t){Ef=t,mv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,uL))}}const Gne=()=>!Ef;function mA(t,e,n){const r=t.type;if(!t.render){if(!e&&Ef&&!r.render){const i=r.template||d_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=zt(zt({isCustomElement:s,delimiters:a},o),l);r.render=Ef(i,u)}}t.render=r.render||ai,mv&&mv(t)}{const i=ia(t);Eo();try{cL(t)}finally{Io(),i()}}}const zL={get(t,e){return lr(t,"get",""),t[e]}};function gA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,zL),slots:t.slots,emit:t.emit,expose:e}}function Sd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(EC(t_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in nc)return nc[n](t)},has(e,n){return n in e||n in nc}})):t.proxy}function gv(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function KL(t){return Ze(t)&&"__vccOpts"in t}const le=(t,e)=>NM(t,e,Al);function Ol(t,e,n){const r=arguments.length;return r===2?jt(e)&&!$e(e)?go(e)?et(t,null,[e]):et(t,e):et(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&go(n)&&(n=[n]),et(t,e,n))}function Qne(){}function Xne(t,e,n,r){const i=n[r];if(i&&YL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function YL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Cr(n[r],e[r]))return!1;return ra>0&&pr&&pr.push(t),!0}const GL="3.5.13",Jne=ai,Zne=$M,ere=Ya,tre=PC,QL={createComponentInstance:hA,setupComponent:pA,renderComponentRoot:zh,setCurrentRenderingInstance:Rc,isVNode:go,normalizeVNode:Mr,getComponentPublicInstance:Sd,ensureValidVNode:c_,pushWarningContext:VM,popWarningContext:FM},nre=QL,rre=null,ire=null,sre=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vv;const Ww=typeof window<"u"&&window.trustedTypes;if(Ww)try{vv=Ww.createPolicy("vue",{createHTML:t=>t})}catch{}const vA=vv?t=>vv.createHTML(t):t=>t,XL="http://www.w3.org/2000/svg",JL="http://www.w3.org/1998/Math/MathML",cs=typeof document<"u"?document:null,qw=cs&&cs.createElement("template"),ZL={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?cs.createElementNS(XL,t):e==="mathml"?cs.createElementNS(JL,t):n?cs.createElement(t,{is:n}):cs.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>cs.createTextNode(t),createComment:t=>cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{qw.innerHTML=vA(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=qw.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fs="transition",Ou="animation",Pl=Symbol("_vtc"),yA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_A=zt({},LC,yA),e2=t=>(t.displayName="Transition",t.props=_A,t),So=e2((t,{slots:e})=>Ol(WM,bA(t),e)),Mo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},zw=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function bA(t){const e={};for(const A in t)A in yA||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=t2(i),y=g&&g[0],C=g&&g[1],{onBeforeEnter:R,onEnter:k,onEnterCancelled:w,onLeave:S,onLeaveCancelled:M,onBeforeAppear:L=R,onAppear:I=k,onAppearCancelled:E=w}=e,_=(A,P,q,$)=>{A._enterCancelled=$,Ws(A,P?c:a),Ws(A,P?u:o),q&&q()},v=(A,P)=>{A._isLeaving=!1,Ws(A,h),Ws(A,p),Ws(A,f),P&&P()},T=A=>(P,q)=>{const $=A?I:k,j=()=>_(P,A,q);Mo($,[P,j]),Kw(()=>{Ws(P,A?l:s),Vi(P,A?c:a),zw($)||Yw(P,r,y,j)})};return zt(e,{onBeforeEnter(A){Mo(R,[A]),Vi(A,s),Vi(A,o)},onBeforeAppear(A){Mo(L,[A]),Vi(A,l),Vi(A,u)},onEnter:T(!1),onAppear:T(!0),onLeave(A,P){A._isLeaving=!0;const q=()=>v(A,P);Vi(A,h),A._enterCancelled?(Vi(A,f),yv()):(yv(),Vi(A,f)),Kw(()=>{A._isLeaving&&(Ws(A,h),Vi(A,p),zw(S)||Yw(A,r,C,q))}),Mo(S,[A,q])},onEnterCancelled(A){_(A,!1,void 0,!0),Mo(w,[A])},onAppearCancelled(A){_(A,!0,void 0,!0),Mo(E,[A])},onLeaveCancelled(A){v(A),Mo(M,[A])}})}function t2(t){if(t==null)return null;if(jt(t))return[Qm(t.enter),Qm(t.leave)];{const e=Qm(t);return[e,e]}}function Qm(t){return hf(t)}function Vi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Pl]||(t[Pl]=new Set)).add(e)}function Ws(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Pl];n&&(n.delete(e),n.size||(t[Pl]=void 0))}function Kw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let n2=0;function Yw(t,e,n,r){const i=t._endId=++n2,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=wA(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function wA(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${Fs}Delay`),s=r(`${Fs}Duration`),o=Gw(i,s),a=r(`${Ou}Delay`),l=r(`${Ou}Duration`),u=Gw(a,l);let c=null,h=0,f=0;e===Fs?o>0&&(c=Fs,h=o,f=s.length):e===Ou?u>0&&(c=Ou,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Fs:Ou:null,f=c?c===Fs?s.length:l.length:0);const p=c===Fs&&/\b(transform|all)(,|$)/.test(r(`${Fs}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function Gw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Qw(n)+Qw(t[r])))}function Qw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function yv(){return document.body.offsetHeight}function r2(t,e,n){const r=t[Pl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const If=Symbol("_vod"),TA=Symbol("_vsh"),sc={beforeMount(t,{value:e},{transition:n}){t[If]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Pu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Pu(t,!0),r.enter(t)):r.leave(t,()=>{Pu(t,!1)}):Pu(t,e))},beforeUnmount(t,{value:e}){Pu(t,e)}};function Pu(t,e){t.style.display=e?t[If]:"none",t[TA]=!e}function i2(){sc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const EA=Symbol("");function ore(t){const e=ei();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Sf(s,i))},r=()=>{const i=t(e.proxy);e.ce?Sf(e.ce,i):_v(e.subTree,i),n(i)};s_(()=>{vf(r)}),vn(()=>{En(r,ai,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Ta(()=>i.disconnect())})}function _v(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{_v(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Sf(t.el,e);else if(t.type===Ne)t.children.forEach(n=>_v(n,e));else if(t.type===gl){let{el:n,anchor:r}=t;for(;n&&(Sf(n,e),n!==r);)n=n.nextSibling}}function Sf(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[EA]=r}}const s2=/(^|;)\s*display\s*:/;function o2(t,e,n){const r=t.style,i=Jt(n);let s=!1;if(n&&!i){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Yh(r,a,"")}else for(const o in e)n[o]==null&&Yh(r,o,"");for(const o in n)o==="display"&&(s=!0),Yh(r,o,n[o])}else if(i){if(e!==n){const o=r[EA];o&&(n+=";"+o),r.cssText=n,s=s2.test(n)}}else e&&t.removeAttribute("style");If in t&&(t[If]=s?r.display:"",t[TA]&&(r.display="none"))}const Xw=/\s*!important$/;function Yh(t,e,n){if($e(n))n.forEach(r=>Yh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=a2(t,e);Xw.test(n)?t.setProperty(Lr(r),n.replace(Xw,""),"important"):t[r]=n}}const Jw=["Webkit","Moz","ms"],Xm={};function a2(t,e){const n=Xm[e];if(n)return n;let r=vr(e);if(r!=="filter"&&r in t)return Xm[e]=r;r=_p(r);for(let i=0;i<Jw.length;i++){const s=Jw[i]+r;if(s in t)return Xm[e]=s}return e}const Zw="http://www.w3.org/1999/xlink";function eT(t,e,n,r,i,s=sM(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Zw,e.slice(6,e.length)):t.setAttributeNS(Zw,e,n):n==null||s&&!eC(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ki(n)?String(n):n)}function tT(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?vA(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=eC(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function fs(t,e,n,r){t.addEventListener(e,n,r)}function l2(t,e,n,r){t.removeEventListener(e,n,r)}const nT=Symbol("_vei");function u2(t,e,n,r,i=null){const s=t[nT]||(t[nT]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=c2(e);if(r){const u=s[e]=f2(r,i);fs(t,a,u,l)}else o&&(l2(t,a,o,l),s[e]=void 0)}}const rT=/(?:Once|Passive|Capture)$/;function c2(t){let e;if(rT.test(t)){e={};let r;for(;r=t.match(rT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lr(t.slice(2)),e]}let Jm=0;const d2=Promise.resolve(),h2=()=>Jm||(d2.then(()=>Jm=0),Jm=Date.now());function f2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ri(p2(r,n.value),e,5,[r])};return n.value=t,n.attached=h2(),n}function p2(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const iT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,m2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?r2(t,r,o):e==="style"?o2(t,n,r):wd(e)?Wy(e)||u2(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):g2(t,e,r,o))?(tT(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&eT(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Jt(r))?tT(t,vr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),eT(t,e,r,o))};function g2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&iT(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return iT(e)&&Jt(n)?!1:e in t}const sT={};/*! #__NO_SIDE_EFFECTS__ */function v2(t,e,n){const r=Kt(t,e);vp(r)&&zt(r,e);class i extends m_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const are=(t,e)=>v2(t,e,N2),y2=typeof HTMLElement<"u"?HTMLElement:class{};class m_ extends y2{constructor(e,n={},r=wv){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==wv?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof m_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,jn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!$e(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=hf(this._props[l])),(a||(a=Object.create(null)))[vr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)kt(this,r)||Object.defineProperty(this,r,{get:()=>G(n[r])})}_resolveProps(e){const{props:n}=e,r=$e(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(vr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):sT;const i=vr(e);n&&this._numberProps&&this._numberProps[i]&&(r=hf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===sT?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Lr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Lr(e),n+""):n||this.removeAttribute(Lr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Lc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=et(this._def,zt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,vp(o[0])?zt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Lr(s)!==s&&i(Lr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function _2(t){const e=ei(),n=e&&e.ce;return n||null}function lre(){const t=_2();return t&&t.shadowRoot}function ure(t="$style"){{const e=ei();if(!e)return mt;const n=e.type.__cssModules;if(!n)return mt;const r=n[t];return r||mt}}const IA=new WeakMap,SA=new WeakMap,Cf=Symbol("_moveCb"),oT=Symbol("_enterCb"),b2=t=>(delete t.props.mode,t),w2=b2({name:"TransitionGroup",props:zt({},_A,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ei(),r=MC();let i,s;return o_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!C2(i[0].el,n.vnode.el,o))return;i.forEach(E2),i.forEach(I2);const a=i.filter(S2);yv(),a.forEach(l=>{const u=l.el,c=u.style;Vi(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[Cf]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[Cf]=null,Ws(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=pt(t),a=bA(o);let l=o.tag||Ne;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),mo(c,Dc(c,a,r,n)),IA.set(c,c.el.getBoundingClientRect()))}s=e.default?r_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&mo(c,Dc(c,a,r,n))}return et(l,null,s)}}}),T2=w2;function E2(t){const e=t.el;e[Cf]&&e[Cf](),e[oT]&&e[oT]()}function I2(t){SA.set(t,t.el.getBoundingClientRect())}function S2(t){const e=IA.get(t),n=SA.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function C2(t,e,n){const r=t.cloneNode(),i=t[Pl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=wA(r);return s.removeChild(r),o}const vo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>fl(e,n):e};function A2(t){t.target.composing=!0}function aT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ui=Symbol("_assign"),bv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ui]=vo(i);const s=r||i.props&&i.props.type==="number";fs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=df(a)),t[ui](a)}),n&&fs(t,"change",()=>{t.value=t.value.trim()}),e||(fs(t,"compositionstart",A2),fs(t,"compositionend",aT),fs(t,"change",aT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[ui]=vo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?df(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},CA={deep:!0,created(t,e,n){t[ui]=vo(n),fs(t,"change",()=>{const r=t._modelValue,i=kl(t),s=t.checked,o=t[ui];if($e(r)){const a=wp(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(wa(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(OA(t,s))})},mounted:lT,beforeUpdate(t,e,n){t[ui]=vo(n),lT(t,e,n)}};function lT(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if($e(e))i=wp(e,r.props.value)>-1;else if(wa(e))i=e.has(r.props.value);else{if(e===n)return;i=po(e,OA(t,!0))}t.checked!==i&&(t.checked=i)}const AA={created(t,{value:e},n){t.checked=po(e,n.props.value),t[ui]=vo(n),fs(t,"change",()=>{t[ui](kl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ui]=vo(r),e!==n&&(t.checked=po(e,r.props.value))}},O2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=wa(e);fs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?df(kl(o)):kl(o));t[ui](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,jn(()=>{t._assigning=!1})}),t[ui]=vo(r)},mounted(t,{value:e}){uT(t,e)},beforeUpdate(t,e,n){t[ui]=vo(n)},updated(t,{value:e}){t._assigning||uT(t,e)}};function uT(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!wa(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=kl(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=wp(e,a)>-1}else o.selected=e.has(a);else if(po(kl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function kl(t){return"_value"in t?t._value:t.value}function OA(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const P2={created(t,e,n){bh(t,e,n,null,"created")},mounted(t,e,n){bh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){bh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){bh(t,e,n,r,"updated")}};function PA(t,e){switch(t){case"SELECT":return O2;case"TEXTAREA":return bv;default:switch(e){case"checkbox":return CA;case"radio":return AA;default:return bv}}}function bh(t,e,n,r,i){const o=PA(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function k2(){bv.getSSRProps=({value:t})=>({value:t}),AA.getSSRProps=({value:t},e)=>{if(e.props&&po(e.props.value,t))return{checked:!0}},CA.getSSRProps=({value:t},e)=>{if($e(t)){if(e.props&&wp(t,e.props.value)>-1)return{checked:!0}}else if(wa(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},P2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=PA(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const R2=["ctrl","shift","alt","meta"],D2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>R2.some(n=>t[`${n}Key`]&&!e.includes(n))},Lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=D2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},x2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Lr(i.key);if(e.some(o=>o===s||x2[o]===s))return t(i)})},kA=zt({patchProp:m2},ZL);let oc,cT=!1;function RA(){return oc||(oc=IL(kA))}function DA(){return oc=cT?oc:SL(kA),cT=!0,oc}const Lc=(...t)=>{RA().render(...t)},cre=(...t)=>{DA().hydrate(...t)},wv=(...t)=>{const e=RA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=NA(r);if(!i)return;const s=e._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,xA(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},N2=(...t)=>{const e=DA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=NA(r);if(i)return n(i,!0,xA(i))},e};function xA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function NA(t){return Jt(t)?document.querySelector(t):t}let dT=!1;const dre=()=>{dT||(dT=!0,k2(),i2())};function M2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Af=M2();let hT=0;const L2=()=>{const t=hT;return hT+=1,t},MA=()=>(t,e)=>{const n={...t,id:L2(),group:t.group||""};return Af.emit("notify",{notification:n,timeout:e}),()=>Af.emit("close",n.id)},LA="context",Tv=Kt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,i=kr(LA),s=Rr({notifications:[],timeouts:{}}),o=le(()=>s.notifications.filter(p=>p.group===i.group)),a=le(()=>i.position==="bottom"?[...o.value]:[...o.value].reverse()),l=(p,g)=>{s.timeouts[p]=window.setTimeout(()=>{g!==-1&&u(p)},Math.max(g||3e3,0))},u=p=>{s.notifications.splice(s.notifications.findIndex(g=>g.id===p),1),clearTimeout(s.timeouts[p])},c=({notification:p,timeout:g})=>{s.notifications.length!==n.maxNotifications&&(s.notifications.push(p),l(p.id,g))},h=p=>{r("close"),u(p)},f=(p,g,y)=>{g?clearTimeout(s.timeouts[p]):l(p,y)};return vn(()=>{Af.on("notify",c),Af.on("close",u)}),(p,g)=>(W(),qe(T2,{"enter-active-class":o.value.length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[_e(p.$slots,"default",{notifications:a.value,close:h,hovering:f})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),fT=Kt({inheritAttrs:!1,__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return rc(LA,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:n.group})}});function V2(t){t.config.globalProperties.$notify=MA(),t.component("Notification",Tv),t.component("NotificationGroup",fT),t.component("notification",Tv),t.component("notificationGroup",fT)}const F2={install:V2},$2=MA(),U2={class:"px-4 py-2 -mx-3"},B2={class:"mx-3"},j2={class:"font-semibold text-white"},H2={class:"text-sm text-gray-100"},Zm=Kt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(W(),qe(G(Tv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(W(!0),ee(Ne,null,Ft(r,i=>(W(),ee("div",{key:i.id},[i.type===e.type?(W(),ee("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ce("div",U2,[Ce("div",B2,[Ce("span",j2,dt(i.title),1),Ce("p",H2,dt(i.text),1)])])],2)):de("",!0)]))),128))]),_:1}))}}),W2={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},q2={class:"w-full max-w-sm"},z2=Kt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Kr("NotificationGroup",!0);return W(),qe(r,null,{default:Qe(()=>[Ce("div",W2,[Ce("div",q2,[et(Zm,{type:"error",color:"bg-red-800"}),et(Zm,{type:"warning",color:"bg-yellow-800"}),et(Zm,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ga=typeof document<"u";function VA(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function K2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&VA(t.default)}const Mt=Object.assign;function eg(t,e){const n={};for(const r in e){const i=e[r];n[r]=Di(i)?i.map(t):t(i)}return n}const ac=()=>{},Di=Array.isArray,FA=/#/g,Y2=/&/g,G2=/\//g,Q2=/=/g,X2=/\?/g,$A=/\+/g,J2=/%5B/g,Z2=/%5D/g,UA=/%5E/g,eV=/%60/g,BA=/%7B/g,tV=/%7C/g,jA=/%7D/g,nV=/%20/g;function g_(t){return encodeURI(""+t).replace(tV,"|").replace(J2,"[").replace(Z2,"]")}function rV(t){return g_(t).replace(BA,"{").replace(jA,"}").replace(UA,"^")}function Ev(t){return g_(t).replace($A,"%2B").replace(nV,"+").replace(FA,"%23").replace(Y2,"%26").replace(eV,"`").replace(BA,"{").replace(jA,"}").replace(UA,"^")}function iV(t){return Ev(t).replace(Q2,"%3D")}function sV(t){return g_(t).replace(FA,"%23").replace(X2,"%3F")}function oV(t){return t==null?"":sV(t).replace(G2,"%2F")}function Vc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const aV=/\/$/,lV=t=>t.replace(aV,"");function tg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=hV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Vc(o)}}function uV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function pT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function cV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Rl(e.matched[r],n.matched[i])&&HA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Rl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function HA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!dV(t[n],e[n]))return!1;return!0}function dV(t,e){return Di(t)?mT(t,e):Di(e)?mT(e,t):t===e}function mT(t,e){return Di(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function hV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fc;(function(t){t.pop="pop",t.push="push"})(Fc||(Fc={}));var lc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(lc||(lc={}));function fV(t){if(!t)if(Ga){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),lV(t)}const pV=/^[^#]+#/;function mV(t,e){return t.replace(pV,"#")+e}function gV(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const kp=()=>({left:window.scrollX,top:window.scrollY});function vV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=gV(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gT(t,e){return(history.state?history.state.position-e:-1)+t}const Iv=new Map;function yV(t,e){Iv.set(t,e)}function _V(t){const e=Iv.get(t);return Iv.delete(t),e}let bV=()=>location.protocol+"//"+location.host;function WA(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),pT(l,"")}return pT(n,t)+r+i}function wV(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=WA(t,location),g=n.value,y=e.value;let C=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}C=y?f.position-y.position:0}else r(p);i.forEach(R=>{R(n.value,g,{delta:C,type:Fc.pop,direction:C?C>0?lc.forward:lc.back:lc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Mt({},f.state,{scroll:kp()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function vT(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?kp():null}}function TV(t){const{history:e,location:n}=window,r={value:WA(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:bV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Mt({},e.state,vT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Mt({},i.value,e.state,{forward:l,scroll:kp()});s(c.current,c,!0);const h=Mt({},vT(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function EV(t){t=fV(t);const e=TV(t),n=wV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Mt({location:"",base:t,go:r,createHref:mV.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function IV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),EV(t)}function SV(t){return typeof t=="string"||t&&typeof t=="object"}function qA(t){return typeof t=="string"||typeof t=="symbol"}const zA=Symbol("");var yT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(yT||(yT={}));function Dl(t,e){return Mt(new Error,{type:t,[zA]:!0},e)}function ls(t,e){return t instanceof Error&&zA in t&&(e==null||!!(t.type&e))}const _T="[^/]+?",CV={sensitive:!1,strict:!1,start:!0,end:!0},AV=/[.+*?^${}()[\]/\\]/g;function OV(t,e){const n=Mt({},CV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(AV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:y,optional:C,regexp:R}=f;s.push({name:g,repeatable:y,optional:C});const k=R||_T;if(k!==_T){p+=10;try{new RegExp(`(${k})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${k}): `+S.message)}}let w=y?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(w=C&&u.length<2?`(?:/${w})`:"/"+w),C&&(w+="?"),i+=w,p+=20,C&&(p+=-8),y&&(p+=-20),k===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:y,optional:C}=p,R=g in u?u[g]:"";if(Di(R)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const k=Di(R)?R.join("/"):R;if(!k)if(C)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=k}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function PV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function KA(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=PV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(bT(r))return 1;if(bT(i))return-1}return i.length-r.length}function bT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const kV={type:0,value:""},RV=/[a-zA-Z0-9_]/;function DV(t){if(!t)return[[]];if(t==="/")return[[kV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:RV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function xV(t,e,n){const r=OV(DV(t.path),n),i=Mt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function NV(t,e){const n=[],r=new Map;e=IT({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,y=TT(h);y.aliasOf=p&&p.record;const C=IT(e,h),R=[y];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of S)R.push(TT(Mt({},y,{components:p?p.record.components:y.components,path:M,aliasOf:p?p.record:y})))}let k,w;for(const S of R){const{path:M}=S;if(f&&M[0]!=="/"){const L=f.record.path,I=L[L.length-1]==="/"?"":"/";S.path=f.record.path+(M&&I+M)}if(k=xV(S,f,C),p?p.alias.push(k):(w=w||k,w!==k&&w.alias.push(k),g&&h.name&&!ET(k)&&o(h.name)),YA(k)&&l(k),y.children){const L=y.children;for(let I=0;I<L.length;I++)s(L[I],k,p&&p.children[I])}p=p||k}return w?()=>{o(w)}:ac}function o(h){if(qA(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=VV(h,n);n.splice(f,0,h),h.record.name&&!ET(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},y,C;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Dl(1,{location:h});C=p.record.name,g=Mt(wT(f.params,p.keys.filter(w=>!w.optional).concat(p.parent?p.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&wT(h.params,p.keys.map(w=>w.name))),y=p.stringify(g)}else if(h.path!=null)y=h.path,p=n.find(w=>w.re.test(y)),p&&(g=p.parse(y),C=p.record.name);else{if(p=f.name?r.get(f.name):n.find(w=>w.re.test(f.path)),!p)throw Dl(1,{location:h,currentLocation:f});C=p.record.name,g=Mt({},f.params,h.params),y=p.stringify(g)}const R=[];let k=p;for(;k;)R.unshift(k.record),k=k.parent;return{name:C,path:y,params:g,matched:R,meta:LV(R)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function wT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function TT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:MV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function MV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ET(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function LV(t){return t.reduce((e,n)=>Mt(e,n.meta),{})}function IT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function VV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;KA(t,e[s])<0?r=s:n=s+1}const i=FV(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function FV(t){let e=t;for(;e=e.parent;)if(YA(e)&&KA(t,e)===0)return e}function YA({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function $V(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace($A," "),o=s.indexOf("="),a=Vc(o<0?s:s.slice(0,o)),l=o<0?null:Vc(s.slice(o+1));if(a in e){let u=e[a];Di(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function ST(t){let e="";for(let n in t){const r=t[n];if(n=iV(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Di(r)?r.map(s=>s&&Ev(s)):[r&&Ev(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function UV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Di(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const BV=Symbol(""),CT=Symbol(""),Rp=Symbol(""),v_=Symbol(""),Sv=Symbol("");function ku(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Dl(4,{from:n,to:e})):f instanceof Error?l(f):SV(f)?l(Dl(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function ng(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(VA(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Qs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=K2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Qs(p,n,r,o,a,i)()}))}}return s}function AT(t){const e=kr(Rp),n=kr(v_),r=le(()=>{const l=G(t.to);return e.resolve(l)}),i=le(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Rl.bind(null,c));if(f>-1)return f;const p=OT(l[u-2]);return u>1&&OT(c)===p&&h[h.length-1].path!==p?h.findIndex(Rl.bind(null,l[u-2])):f}),s=le(()=>i.value>-1&&zV(n.params,r.value.params)),o=le(()=>i.value>-1&&i.value===n.matched.length-1&&HA(n.params,r.value.params));function a(l={}){if(qV(l)){const u=e[G(t.replace)?"replace":"push"](G(t.to)).catch(ac);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function jV(t){return t.length===1?t[0]:t}const HV=Kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:AT,setup(t,{slots:e}){const n=Rr(AT(t)),{options:r}=kr(Rp),i=le(()=>({[PT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[PT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&jV(e.default(n));return t.custom?s:Ol("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),WV=HV;function qV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Di(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function OT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const PT=(t,e,n)=>t??e??n,KV=Kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=kr(Sv),i=le(()=>t.route||r.value),s=kr(CT,0),o=le(()=>{let u=G(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=le(()=>i.value.matched[o.value]);rc(CT,le(()=>o.value+1)),rc(BV,a),rc(Sv,i);const l=fe();return En(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Rl(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return kT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,C=Ol(f,Mt({},g,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return kT(n.default,{Component:C,route:u})||C}}});function kT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const GA=KV;function YV(t){const e=NV(t.routes,t),n=t.parseQuery||$V,r=t.stringifyQuery||ST,i=t.history,s=ku(),o=ku(),a=ku(),l=wC($s);let u=$s;Ga&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=eg.bind(null,Q=>""+Q),h=eg.bind(null,oV),f=eg.bind(null,Vc);function p(Q,ie){let X,ce;return qA(Q)?(X=e.getRecordMatcher(Q),ce=ie):ce=Q,e.addRoute(ce,X)}function g(Q){const ie=e.getRecordMatcher(Q);ie&&e.removeRoute(ie)}function y(){return e.getRoutes().map(Q=>Q.record)}function C(Q){return!!e.getRecordMatcher(Q)}function R(Q,ie){if(ie=Mt({},ie||l.value),typeof Q=="string"){const V=tg(n,Q,ie.path),B=e.resolve({path:V.path},ie),oe=i.createHref(V.fullPath);return Mt(V,B,{params:f(B.params),hash:Vc(V.hash),redirectedFrom:void 0,href:oe})}let X;if(Q.path!=null)X=Mt({},Q,{path:tg(n,Q.path,ie.path).path});else{const V=Mt({},Q.params);for(const B in V)V[B]==null&&delete V[B];X=Mt({},Q,{params:h(V)}),ie.params=h(ie.params)}const ce=e.resolve(X,ie),be=Q.hash||"";ce.params=c(f(ce.params));const ne=uV(r,Mt({},Q,{hash:rV(be),path:ce.path})),D=i.createHref(ne);return Mt({fullPath:ne,hash:be,query:r===ST?UV(Q.query):Q.query||{}},ce,{redirectedFrom:void 0,href:D})}function k(Q){return typeof Q=="string"?tg(n,Q,l.value.path):Mt({},Q)}function w(Q,ie){if(u!==Q)return Dl(8,{from:ie,to:Q})}function S(Q){return I(Q)}function M(Q){return S(Mt(k(Q),{replace:!0}))}function L(Q){const ie=Q.matched[Q.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let ce=typeof X=="function"?X(Q):X;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=k(ce):{path:ce},ce.params={}),Mt({query:Q.query,hash:Q.hash,params:ce.path!=null?{}:Q.params},ce)}}function I(Q,ie){const X=u=R(Q),ce=l.value,be=Q.state,ne=Q.force,D=Q.replace===!0,V=L(X);if(V)return I(Mt(k(V),{state:typeof V=="object"?Mt({},be,V.state):be,force:ne,replace:D}),ie||X);const B=X;B.redirectedFrom=ie;let oe;return!ne&&cV(r,ce,X)&&(oe=Dl(16,{to:B,from:ce}),z(ce,ce,!0,!1)),(oe?Promise.resolve(oe):v(B,ce)).catch(se=>ls(se)?ls(se,2)?se:O(se):U(se,B,ce)).then(se=>{if(se){if(ls(se,2))return I(Mt({replace:D},k(se.to),{state:typeof se.to=="object"?Mt({},be,se.to.state):be,force:ne}),ie||B)}else se=A(B,ce,!0,D,be);return T(B,ce,se),se})}function E(Q,ie){const X=w(Q,ie);return X?Promise.reject(X):Promise.resolve()}function _(Q){const ie=he.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(Q):Q()}function v(Q,ie){let X;const[ce,be,ne]=GV(Q,ie);X=ng(ce.reverse(),"beforeRouteLeave",Q,ie);for(const V of ce)V.leaveGuards.forEach(B=>{X.push(Qs(B,Q,ie))});const D=E.bind(null,Q,ie);return X.push(D),H(X).then(()=>{X=[];for(const V of s.list())X.push(Qs(V,Q,ie));return X.push(D),H(X)}).then(()=>{X=ng(be,"beforeRouteUpdate",Q,ie);for(const V of be)V.updateGuards.forEach(B=>{X.push(Qs(B,Q,ie))});return X.push(D),H(X)}).then(()=>{X=[];for(const V of ne)if(V.beforeEnter)if(Di(V.beforeEnter))for(const B of V.beforeEnter)X.push(Qs(B,Q,ie));else X.push(Qs(V.beforeEnter,Q,ie));return X.push(D),H(X)}).then(()=>(Q.matched.forEach(V=>V.enterCallbacks={}),X=ng(ne,"beforeRouteEnter",Q,ie,_),X.push(D),H(X))).then(()=>{X=[];for(const V of o.list())X.push(Qs(V,Q,ie));return X.push(D),H(X)}).catch(V=>ls(V,8)?V:Promise.reject(V))}function T(Q,ie,X){a.list().forEach(ce=>_(()=>ce(Q,ie,X)))}function A(Q,ie,X,ce,be){const ne=w(Q,ie);if(ne)return ne;const D=ie===$s,V=Ga?history.state:{};X&&(ce||D?i.replace(Q.fullPath,Mt({scroll:D&&V&&V.scroll},be)):i.push(Q.fullPath,be)),l.value=Q,z(Q,ie,X,D),O()}let P;function q(){P||(P=i.listen((Q,ie,X)=>{if(!Z.listening)return;const ce=R(Q),be=L(ce);if(be){I(Mt(be,{replace:!0,force:!0}),ce).catch(ac);return}u=ce;const ne=l.value;Ga&&yV(gT(ne.fullPath,X.delta),kp()),v(ce,ne).catch(D=>ls(D,12)?D:ls(D,2)?(I(Mt(k(D.to),{force:!0}),ce).then(V=>{ls(V,20)&&!X.delta&&X.type===Fc.pop&&i.go(-1,!1)}).catch(ac),Promise.reject()):(X.delta&&i.go(-X.delta,!1),U(D,ce,ne))).then(D=>{D=D||A(ce,ne,!1),D&&(X.delta&&!ls(D,8)?i.go(-X.delta,!1):X.type===Fc.pop&&ls(D,20)&&i.go(-1,!1)),T(ce,ne,D)}).catch(ac)}))}let $=ku(),j=ku(),F;function U(Q,ie,X){O(Q);const ce=j.list();return ce.length?ce.forEach(be=>be(Q,ie,X)):console.error(Q),Promise.reject(Q)}function x(){return F&&l.value!==$s?Promise.resolve():new Promise((Q,ie)=>{$.add([Q,ie])})}function O(Q){return F||(F=!Q,q(),$.list().forEach(([ie,X])=>Q?X(Q):ie()),$.reset()),Q}function z(Q,ie,X,ce){const{scrollBehavior:be}=t;if(!Ga||!be)return Promise.resolve();const ne=!X&&_V(gT(Q.fullPath,0))||(ce||!X)&&history.state&&history.state.scroll||null;return jn().then(()=>be(Q,ie,ne)).then(D=>D&&vV(D)).catch(D=>U(D,Q,ie))}const K=Q=>i.go(Q);let te;const he=new Set,Z={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:y,resolve:R,options:t,push:S,replace:M,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:x,install(Q){const ie=this;Q.component("RouterLink",WV),Q.component("RouterView",GA),Q.config.globalProperties.$router=ie,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>G(l)}),Ga&&!te&&l.value===$s&&(te=!0,S(i.location).catch(be=>{}));const X={};for(const be in $s)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});Q.provide(Rp,ie),Q.provide(v_,bC(X)),Q.provide(Sv,l);const ce=Q.unmount;he.add(Q),Q.unmount=function(){he.delete(Q),he.size<1&&(u=$s,P&&P(),P=null,l.value=$s,te=!1,F=!1),ce()}}};function H(Q){return Q.reduce((ie,X)=>ie.then(()=>_(X)),Promise.resolve())}return Z}function GV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Rl(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Rl(u,l))||i.push(l))}return[n,r,i]}function hre(){return kr(Rp)}function fre(t){return kr(v_)}const QV=Kt({__name:"App",setup(t){return(e,n)=>(W(),ee(Ne,null,[et(G(GA)),et(z2)],64))}});var RT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw ru(e)},ru=function(t){return new Error("Firebase Database ("+QA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new JV;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(t){const e=XA(t);return Dp.encodeByteArray(e,!0)},Of=function(t){return JA(t).replace(/\./g,"")},Pf=function(t){try{return Dp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return ZA(void 0,t)}function ZA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!eF(n)||(t[n]=ZA(t[n],e[n]));return t}function eF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=()=>eO().__FIREBASE_DEFAULTS__,nF=()=>{if(typeof process>"u"||typeof RT>"u")return;const t=RT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pf(t[1]);return e&&JSON.parse(e)},xp=()=>{try{return tF()||nF()||rF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iF=t=>{var e,n;return(n=(e=xp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tO=t=>{const e=iF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nO=()=>{var t;return(t=xp())===null||t===void 0?void 0:t.config},sF=t=>{var e;return(e=xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Of(JSON.stringify(n)),Of(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function oF(){var t;const e=(t=xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lF(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oO(){return QA.NODE_ADMIN===!0}function uF(){return!oF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Np(){try{return typeof indexedDB=="object"}catch{return!1}}function aO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function cF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dF,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ti(i,a,r)}}function hF(t,e){return t.replace(fF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return JSON.parse(t)}function Gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=$c(Pf(s[0])||""),n=$c(Pf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},pF=function(t){const e=lO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mF=function(t){const e=lO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Cv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(DT(s)&&DT(o)){if(!Uc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function vF(t,e){const n=new yF(t,e);return n.subscribe.bind(n)}class yF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_F(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rg),i.error===void 0&&(i.error=rg),i.complete===void 0&&(i.complete=rg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _F(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}function bF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=1e3,IF=2,SF=4*60*60*1e3,CF=.5;function Av(t,e=EF,n=IF){const r=e*Math.pow(n,t),i=Math.round(CF*r*(Math.random()-.5)*2);return Math.min(SF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PF(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OF(t){return t===Vo?void 0:t}function PF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const RF={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},DF=ht.INFO,xF={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},NF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class su{constructor(e){this.name=e,this._logLevel=DF,this._logHandler=NF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const MF=(t,e)=>e.some(n=>t instanceof n);let xT,NT;function LF(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VF(){return NT||(NT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uO=new WeakMap,Ov=new WeakMap,cO=new WeakMap,ig=new WeakMap,__=new WeakMap;function FF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(so(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uO.set(n,t)}).catch(()=>{}),__.set(e,t),e}function $F(t){if(Ov.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ov.set(t,e)}let Pv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ov.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UF(t){Pv=t(Pv)}function BF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sg(this),e,...n);return cO.set(r,e.sort?e.sort():[e]),so(r)}:VF().includes(t)?function(...e){return t.apply(sg(this),e),so(uO.get(this))}:function(...e){return so(t.apply(sg(this),e))}}function jF(t){return typeof t=="function"?BF(t):(t instanceof IDBTransaction&&$F(t),MF(t,LF())?new Proxy(t,Pv):t)}function so(t){if(t instanceof IDBRequest)return FF(t);if(ig.has(t))return ig.get(t);const e=jF(t);return e!==t&&(ig.set(t,e),__.set(e,t)),e}const sg=t=>__.get(t);function dO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=so(o);return r&&o.addEventListener("upgradeneeded",l=>{r(so(o.result),l.oldVersion,l.newVersion,so(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const HF=["get","getKey","getAll","getAllKeys","count"],WF=["put","add","delete","clear"],og=new Map;function MT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(og.get(e))return og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return og.set(e,s),s}UF(t=>({...t,get:(e,n,r)=>MT(e,n)||t.get(e,n,r),has:(e,n)=>!!MT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kv="@firebase/app",LT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new su("@firebase/app"),KF="@firebase/app-compat",YF="@firebase/analytics-compat",GF="@firebase/analytics",QF="@firebase/app-check-compat",XF="@firebase/app-check",JF="@firebase/auth",ZF="@firebase/auth-compat",e$="@firebase/database",t$="@firebase/data-connect",n$="@firebase/database-compat",r$="@firebase/functions",i$="@firebase/functions-compat",s$="@firebase/installations",o$="@firebase/installations-compat",a$="@firebase/messaging",l$="@firebase/messaging-compat",u$="@firebase/performance",c$="@firebase/performance-compat",d$="@firebase/remote-config",h$="@firebase/remote-config-compat",f$="@firebase/storage",p$="@firebase/storage-compat",m$="@firebase/firestore",g$="@firebase/vertexai-preview",v$="@firebase/firestore-compat",y$="firebase",_$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="[DEFAULT]",b$={[kv]:"fire-core",[KF]:"fire-core-compat",[GF]:"fire-analytics",[YF]:"fire-analytics-compat",[XF]:"fire-app-check",[QF]:"fire-app-check-compat",[JF]:"fire-auth",[ZF]:"fire-auth-compat",[e$]:"fire-rtdb",[t$]:"fire-data-connect",[n$]:"fire-rtdb-compat",[r$]:"fire-fn",[i$]:"fire-fn-compat",[s$]:"fire-iid",[o$]:"fire-iid-compat",[a$]:"fire-fcm",[l$]:"fire-fcm-compat",[u$]:"fire-perf",[c$]:"fire-perf-compat",[d$]:"fire-rc",[h$]:"fire-rc-compat",[f$]:"fire-gcs",[p$]:"fire-gcs-compat",[m$]:"fire-fst",[v$]:"fire-fst-compat",[g$]:"fire-vertex","fire-js":"fire-js",[y$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,w$=new Map,Dv=new Map;function VT(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){const e=t.name;if(Dv.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Dv.set(e,t);for(const n of Rf.values())VT(n,t);for(const n of w$.values())VT(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Co("app","Firebase",T$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=_$;function hO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=nO()),!n)throw oo.create("no-options");const s=Rf.get(i);if(s){if(Uc(n,s.options)&&Uc(r,s.config))return s;throw oo.create("duplicate-app",{appName:i})}const o=new kF(i);for(const l of Dv.values())o.addComponent(l);const a=new E$(n,r,o);return Rf.set(i,a),a}function Cd(t=Rv){const e=Rf.get(t);if(!e&&t===Rv&&nO())return hO();if(!e)throw oo.create("no-app",{appName:t});return e}function er(t,e,n){var r;let i=(r=b$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(a.join(" "));return}jr(new Dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="firebase-heartbeat-database",S$=1,Bc="firebase-heartbeat-store";let ag=null;function fO(){return ag||(ag=dO(I$,S$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),ag}async function C$(t){try{const n=(await fO()).transaction(Bc),r=await n.objectStore(Bc).get(pO(t));return await n.done,r}catch(e){if(e instanceof ti)Ss.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function FT(t,e){try{const r=(await fO()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,pO(t)),await r.done}catch(n){if(n instanceof ti)Ss.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function pO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=1024,O$=30*24*60*60*1e3;class P${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$T();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=O$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$T(),{heartbeatsToSend:r,unsentEntries:i}=k$(this._heartbeatsCache.heartbeats),s=Of(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ss.warn(n),""}}}function $T(){return new Date().toISOString().substring(0,10)}function k$(t,e=A$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Np()?aO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function UT(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){jr(new Dr("platform-logger",e=>new qF(e),"PRIVATE")),jr(new Dr("heartbeat",e=>new P$(e),"PRIVATE")),er(kv,LT,t),er(kv,LT,"esm2017"),er("fire-js","")}D$("");const mO="@firebase/installations",b_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=1e4,vO=`w:${b_}`,yO="FIS_v2",x$="https://firebaseinstallations.googleapis.com/v1",N$=60*60*1e3,M$="installations",L$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new Co(M$,L$,V$);function _O(t){return t instanceof ti&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO({projectId:t}){return`${x$}/projects/${t}/installations`}function wO(t){return{token:t.token,requestStatus:2,expiresIn:$$(t.expiresIn),creationTime:Date.now()}}async function TO(t,e){const r=(await e.json()).error;return oa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function F$(t,{refreshToken:e}){const n=EO(t);return n.append("Authorization",U$(e)),n}async function IO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $$(t){return Number(t.replace("s","000"))}function U$(t){return`${yO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bO(t),i=EO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:yO,appId:t.appId,sdkVersion:vO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await IO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:wO(u.authToken)}}else throw await TO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=/^[cdef][\w-]{21}$/,xv="";function W$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=q$(t);return H$.test(n)?n:xv}catch{return xv}}function q$(t){return j$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new Map;function AO(t,e){const n=Lp(t);OO(n,e),z$(n,e)}function OO(t,e){const n=CO.get(t);if(n)for(const r of n)r(e)}function z$(t,e){const n=K$();n&&n.postMessage({key:t,fid:e}),Y$()}let Ho=null;function K$(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{OO(t.data.key,t.data.fid)}),Ho}function Y$(){CO.size===0&&Ho&&(Ho.close(),Ho=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$="firebase-installations-database",Q$=1,aa="firebase-installations-store";let lg=null;function w_(){return lg||(lg=dO(G$,Q$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(aa)}}})),lg}async function Df(t,e){const n=Lp(t),i=(await w_()).transaction(aa,"readwrite"),s=i.objectStore(aa),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&AO(t,e.fid),e}async function PO(t){const e=Lp(t),r=(await w_()).transaction(aa,"readwrite");await r.objectStore(aa).delete(e),await r.done}async function Vp(t,e){const n=Lp(t),i=(await w_()).transaction(aa,"readwrite"),s=i.objectStore(aa),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&AO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(t){let e;const n=await Vp(t.appConfig,r=>{const i=X$(r),s=J$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===xv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function X$(t){const e=t||{fid:W$(),registrationStatus:0};return kO(e)}function J$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Z$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:e3(t)}:{installationEntry:e}}async function Z$(t,e){try{const n=await B$(t,e);return Df(t.appConfig,n)}catch(n){throw _O(n)&&n.customData.serverCode===409?await PO(t.appConfig):await Df(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function e3(t){let e=await BT(t.appConfig);for(;e.registrationStatus===1;)await SO(100),e=await BT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await T_(t);return r||n}return e}function BT(t){return Vp(t,e=>{if(!e)throw oa.create("installation-not-found");return kO(e)})}function kO(t){return t3(t)?{fid:t.fid,registrationStatus:0}:t}function t3(t){return t.registrationStatus===1&&t.registrationTime+gO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3({appConfig:t,heartbeatServiceProvider:e},n){const r=r3(t,n),i=F$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:vO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await IO(()=>fetch(r,a));if(l.ok){const u=await l.json();return wO(u)}else throw await TO("Generate Auth Token",l)}function r3(t,{fid:e}){return`${bO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E_(t,e=!1){let n;const r=await Vp(t.appConfig,s=>{if(!RO(s))throw oa.create("not-registered");const o=s.authToken;if(!e&&o3(o))return s;if(o.requestStatus===1)return n=i3(t,e),s;{if(!navigator.onLine)throw oa.create("app-offline");const a=l3(s);return n=s3(t,a),a}});return n?await n:r.authToken}async function i3(t,e){let n=await jT(t.appConfig);for(;n.authToken.requestStatus===1;)await SO(100),n=await jT(t.appConfig);const r=n.authToken;return r.requestStatus===0?E_(t,e):r}function jT(t){return Vp(t,e=>{if(!RO(e))throw oa.create("not-registered");const n=e.authToken;return u3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function s3(t,e){try{const n=await n3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Df(t.appConfig,r),n}catch(n){if(_O(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await PO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Df(t.appConfig,r)}throw n}}function RO(t){return t!==void 0&&t.registrationStatus===2}function o3(t){return t.requestStatus===2&&!a3(t)}function a3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+N$}function l3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function u3(t){return t.requestStatus===1&&t.requestTime+gO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t){const e=t,{installationEntry:n,registrationPromise:r}=await T_(e);return r?r.catch(console.error):E_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e=!1){const n=t;return await h3(n),(await E_(n,e)).token}async function h3(t){const{registrationPromise:e}=await T_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){if(!t||!t.options)throw ug("App Configuration");if(!t.name)throw ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ug(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ug(t){return oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="installations",p3="installations-internal",m3=t=>{const e=t.getProvider("app").getImmediate(),n=f3(e),r=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},g3=t=>{const e=t.getProvider("app").getImmediate(),n=xs(e,DO).getImmediate();return{getId:()=>c3(n),getToken:i=>d3(n,i)}};function v3(){jr(new Dr(DO,m3,"PUBLIC")),jr(new Dr(p3,g3,"PRIVATE"))}v3();er(mO,b_);er(mO,b_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="analytics",y3="firebase_id",_3="origin",b3=60*1e3,w3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",I_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new su("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jr=new Co("analytics","Analytics",T3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){if(!t.startsWith(I_)){const e=Jr.create("invalid-gtag-resource",{gtagURL:t});return Ur.warn(e.message),""}return t}function xO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function I3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function S3(t,e){const n=I3("firebase-js-sdk-policy",{createScriptURL:E3}),r=document.createElement("script"),i=`${I_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function C3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function A3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await xO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ur.error(a)}t("config",i,s)}async function O3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await xO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ur.error(s)}}function P3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await O3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await A3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ur.error(a)}}return i}function k3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=P3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function R3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(I_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=30,x3=1e3;class N3{constructor(e={},n=x3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const NO=new N3;function M3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function L3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:M3(r)},s=w3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function V3(t,e=NO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new U3;return setTimeout(async()=>{a.abort()},n!==void 0?n:b3),MO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function MO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=NO){var s;const{appId:o,measurementId:a}=t;try{await F3(r,e)}catch(l){if(a)return Ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await L3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!$3(u)){if(i.deleteThrottleMetadata(o),a)return Ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Av(n,i.intervalMillis,D3):Av(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Ur.debug(`Calling attemptFetch again in ${c} millis`),MO(t,h,r,i)}}function F3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $3(t){if(!(t instanceof ti)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class U3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function B3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(){if(Np())try{await aO()}catch(t){return Ur.warn(Jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ur.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function H3(t,e,n,r,i,s,o){var a;const l=V3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ur.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ur.error(p)),e.push(l);const u=j3().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);R3(s)||S3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[_3]="firebase",f.update=!0,h!=null&&(f[y3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.app=e}_delete(){return delete uc[this.app.options.appId],Promise.resolve()}}let uc={},HT=[];const WT={};let cg="dataLayer",q3="gtag",qT,LO,zT=!1;function z3(){const t=[];if(iO()&&t.push("This is a browser extension environment."),cF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jr.create("invalid-analytics-context",{errorInfo:e});Ur.warn(n.message)}}function K3(t,e,n){z3();const r=t.options.appId;if(!r)throw Jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jr.create("no-api-key");if(uc[r]!=null)throw Jr.create("already-exists",{id:r});if(!zT){C3(cg);const{wrappedGtag:s,gtagCore:o}=k3(uc,HT,WT,cg,q3);LO=s,qT=o,zT=!0}return uc[r]=H3(t,HT,WT,e,qT,cg,n),new W3(t)}function VO(t=Cd()){t=Dt(t);const e=xs(t,xf);return e.isInitialized()?e.getImmediate():Y3(t)}function Y3(t,e={}){const n=xs(t,xf);if(n.isInitialized()){const i=n.getImmediate();if(Uc(e,n.getOptions()))return i;throw Jr.create("already-initialized")}return n.initialize({options:e})}function FO(t,e,n,r){t=Dt(t),B3(LO,uc[t.app.options.appId],e,n,r).catch(i=>Ur.error(i))}const KT="@firebase/analytics",YT="0.10.8";function G3(){jr(new Dr(xf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return K3(r,i,n)},"PUBLIC")),jr(new Dr("analytics-internal",t,"PRIVATE")),er(KT,YT),er(KT,YT,"esm2017");function t(e){try{const n=e.getProvider(xf).getImmediate();return{logEvent:(r,i,s)=>FO(n,r,i,s)}}catch(n){throw Jr.create("interop-component-reg-failed",{reason:n})}}}G3();var Q3="firebase",X3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(Q3,X3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map,$O={activated:!1,tokenObservers:[]},J3={initialized:!1,enabled:!1};function Ln(t){return Nv.get(t)||Object.assign({},$O)}function Z3(t,e){return Nv.set(t,e),Nv.get(t)}function Fp(){return J3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="https://content-firebaseappcheck.googleapis.com/v1",e4="exchangeRecaptchaV3Token",t4="exchangeDebugToken",GT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},n4=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new sa,this.pending.promise.catch(n=>{}),await i4(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new sa,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function i4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Fr=new Co("appCheck","AppCheck",s4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function S_(t){if(!Ln(t).activated)throw Fr.create("use-before-activation",{appName:t.name})}function BO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=wh(n)+"d:"),r&&(o+=wh(r)+"h:"),o+=wh(i)+"m:"+wh(s)+"s",o}function wh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw Fr.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw Fr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw Fr.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function o4(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${UO}/projects/${n}/apps/${r}:${e4}?key=${i}`,body:{recaptcha_v3_token:e}}}function jO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${UO}/projects/${n}/apps/${r}:${t4}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="firebase-app-check-database",l4=1,jc="firebase-app-check-store",HO="debug-token";let Th=null;function WO(){return Th||(Th=new Promise((t,e)=>{try{const n=indexedDB.open(a4,l4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Fr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(jc,{keyPath:"compositeKey"})}}}catch(n){e(Fr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Th)}function u4(t){return zO(KO(t))}function c4(t,e){return qO(KO(t),e)}function d4(t){return qO(HO,t)}function h4(){return zO(HO)}async function qO(t,e){const r=(await WO()).transaction(jc,"readwrite"),s=r.objectStore(jc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Fr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function zO(t){const n=(await WO()).transaction(jc,"readonly"),i=n.objectStore(jc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Fr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function KO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new su("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t){if(Np()){let e;try{e=await u4(t)}catch(n){Hc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function dg(t,e){return Np()?c4(t,e).catch(n=>{Hc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function p4(){let t;try{t=await h4()}catch{}if(t)return t;{const e=TF();return d4(e).catch(n=>Hc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){return Fp().enabled}async function O_(){const t=Fp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function m4(){const t=eO(),e=Fp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new sa;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(p4())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={error:"UNKNOWN_ERROR"};function v4(t){return Dp.encodeString(JSON.stringify(t),!1)}async function Mv(t,e=!1){const n=t.app;S_(n);const r=Ln(n);let i=r.token,s;if(i&&!nl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(nl(l)?i=l:await dg(n,void 0))}if(!e&&i&&nl(i))return{token:i.token};let o=!1;if(A_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=C_(jO(n,await O_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await dg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Ln(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Hc.warn(l.message):Hc.error(l),s=l}let a;return i?s?nl(i)?a={token:i.token,internalError:s}:a=JT(s):(a={token:i.token},r.token=i,await dg(n,i)):a=JT(s),o&&QO(n,a),a}async function y4(t){const e=t.app;S_(e);const{provider:n}=Ln(e);if(A_()){const r=await O_(),{token:i}=await C_(jO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function YO(t,e,n,r){const{app:i}=t,s=Ln(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&nl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),XT(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XT(t))}function GO(t,e){const n=Ln(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XT(t){const{app:e}=t,n=Ln(e);let r=n.tokenRefresher;r||(r=_4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _4(t){const{app:e}=t;return new r4(async()=>{const n=Ln(e);let r;if(n.token?r=await Mv(t,!0):r=await Mv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Ln(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},GT.RETRIAL_MIN_WAIT,GT.RETRIAL_MAX_WAIT)}function QO(t,e){const n=Ln(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nl(t){return t.expireTimeMillis-Date.now()>0}function JT(t){return{token:v4(g4),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ln(this.app);for(const n of e)GO(this.app,n.next);return Promise.resolve()}}function w4(t,e){return new b4(t,e)}function T4(t){return{getToken:e=>Mv(t,e),getLimitedUseToken:()=>y4(t),addTokenListener:e=>YO(t,"INTERNAL",e),removeTokenListener:e=>GO(t.app,e)}}const E4="@firebase/app-check",I4="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="https://www.google.com/recaptcha/api.js";function C4(t,e){const n=new sa,r=Ln(t);r.reCAPTCHAState={initialized:n};const i=A4(t),s=QT(!1);return s?ZT(t,e,s,i,n):k4(()=>{const o=QT(!1);if(!o)throw new Error("no recaptcha");ZT(t,e,o,i,n)}),n.promise}function ZT(t,e,n,r,i){n.ready(()=>{P4(t,e,n,r),i.resolve(n)})}function A4(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function O4(t){S_(t);const n=await Ln(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Ln(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function P4(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Ln(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ln(t).reCAPTCHAState.succeeded=!1}}),s=Ln(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function k4(t){const e=document.createElement("script");e.src=S4,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;D4(this._throttleData);const i=await O4(this._app).catch(o=>{throw Fr.create("recaptcha-error")});if(!(!((e=Ln(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Fr.create("recaptcha-error");let s;try{s=await C_(o4(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=R4(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Fr.create("throttled",{time:BO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=xs(e,"heartbeat"),C4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof P_?this._siteKey===e._siteKey:!1}}function R4(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+n4,httpStatus:t};{const n=e?e.backoffCount:0,r=Av(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function D4(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Fr.create("throttled",{time:BO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t=Cd(),e){t=Dt(t);const n=xs(t,"app-check");if(Fp().initialized||m4(),A_()&&O_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Fr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return N4(t,e.provider,e.isTokenAutoRefreshEnabled),Ln(t).isTokenAutoRefreshEnabled&&YO(r,"INTERNAL",()=>{}),r}function N4(t,e,n){const r=Z3(t,Object.assign({},$O));r.activated=!0,r.provider=e,r.cachedTokenPromise=f4(t).then(i=>(i&&nl(i)&&(r.token=i,QO(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const M4="app-check",e1="app-check-internal";function L4(){jr(new Dr(M4,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return w4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(e1).initialize()})),jr(new Dr(e1,t=>{const e=t.getProvider("app-check").getImmediate();return T4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),er(E4,I4)}L4();var Cn=(t=>(t.CONTENT="content",t.PROJECTS="projects",t.MENU_ITEMS="menuItems",t.MENU_ITEMS_PRIVATE="menuItemsPrivate",t.BLOG_POSTS="blogPosts",t.BLOG_POSTS_PRIVATE="blogPostsPrivate",t.BLOG_REACTIONS="blogReactions",t.BLOG_REACTIONS_PRIVATE="blogReactionsPrivate",t.USERS="users",t.USERS_PUBLIC="usersPublic",t.USERS_ONLINE="usersOnline",t.FILES="files",t.GAME_DATA="gameData",t.HIGHSCORES="highscores",t))(Cn||{});const V4={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},F4=t=>{x4(t,{provider:new P_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},$4=()=>{const t=hO(V4);return F4(t),VO(t),t},U4=$4();var B4=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let XO;const $p=t=>XO=t,JO=Symbol();function Lv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var cc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(cc||(cc={}));function j4(){const t=Yy(!0),e=t.run(()=>fe({}));let n=[],r=[];const i=t_({install(s){$p(i),i._a=s,s.provide(JO,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!B4?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ZO=()=>{};function t1(t,e,n,r=ZO){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Gy()&&iC(i),i}function Ba(t,...e){t.slice().forEach(n=>{n(...e)})}const H4=t=>t(),n1=Symbol(),hg=Symbol();function Vv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Lv(i)&&Lv(r)&&t.hasOwnProperty(n)&&!an(r)&&!Ki(r)?t[n]=Vv(i,r):t[n]=r}return t}const W4=Symbol();function q4(t){return!Lv(t)||!t.hasOwnProperty(W4)}const{assign:qs}=Object;function z4(t){return!!(an(t)&&t.effect)}function K4(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=kM(n.state.value[t]);return qs(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=t_(le(()=>{$p(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=eP(t,u,e,n,r,!0),l}function eP(t,e,n={},r,i,s){let o;const a=qs({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),fe({});let y;function C(E){let _;u=c=!1,typeof E=="function"?(E(r.state.value[t]),_={type:cc.patchFunction,storeId:t,events:p}):(Vv(r.state.value[t],E),_={type:cc.patchObject,payload:E,storeId:t,events:p});const v=y=Symbol();jn().then(()=>{y===v&&(u=!0)}),c=!0,Ba(h,_,r.state.value[t])}const R=s?function(){const{state:_}=n,v=_?_():{};this.$patch(T=>{qs(T,v)})}:ZO;function k(){o.stop(),h=[],f=[],r._s.delete(t)}const w=(E,_="")=>{if(n1 in E)return E[hg]=_,E;const v=function(){$p(r);const T=Array.from(arguments),A=[],P=[];function q(F){A.push(F)}function $(F){P.push(F)}Ba(f,{args:T,name:v[hg],store:M,after:q,onError:$});let j;try{j=E.apply(this&&this.$id===t?this:M,T)}catch(F){throw Ba(P,F),F}return j instanceof Promise?j.then(F=>(Ba(A,F),F)).catch(F=>(Ba(P,F),Promise.reject(F))):(Ba(A,j),j)};return v[n1]=!0,v[hg]=_,v},S={_p:r,$id:t,$onAction:t1.bind(null,f),$patch:C,$reset:R,$subscribe(E,_={}){const v=t1(h,E,_.detached,()=>T()),T=o.run(()=>En(()=>r.state.value[t],A=>{(_.flush==="sync"?c:u)&&E({storeId:t,type:cc.direct,events:p},A)},qs({},l,_)));return v},$dispose:k},M=Rr(S);r._s.set(t,M);const I=(r._a&&r._a.runWithContext||H4)(()=>r._e.run(()=>(o=Yy()).run(()=>e({action:w}))));for(const E in I){const _=I[E];if(an(_)&&!z4(_)||Ki(_))s||(g&&q4(_)&&(an(_)?_.value=g[E]:Vv(_,g[E])),r.state.value[t][E]=_);else if(typeof _=="function"){const v=w(_,E);I[E]=v,a.actions[E]=_}}return qs(M,I),qs(pt(M),I),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:E=>{C(_=>{qs(_,E)})}}),r._p.forEach(E=>{qs(M,o.run(()=>E({store:M,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),u=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function ou(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=vL();return a=a||(u?kr(JO,null):null),a&&$p(a),a=XO,a._s.has(r)||(s?eP(r,e,i,a):K4(r,i,a)),a._s.get(r)}return o.$id=r,o}function Wc(t){{const e=pt(t),n={};for(const r in e){const i=e[r];i.effect?n[r]=le({get:()=>t[r],set(s){t[r]=s}}):(an(i)||Ki(i))&&(n[r]=Pc(t,r))}return n}}const r1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var Y4=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),r1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{r1(l,e)})})}};const tP=j4();tP.use(Y4);const G4="modulepreload",Q4=function(t,e){return new URL(t,e).href},i1={},Hr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=Q4(o,r),o in i1)return;i1[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":G4,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,nP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function _(){}_.prototype=E.prototype,I.D=E.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(v,T,A){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return E.prototype[T].apply(v,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,_){_||(_=0);var v=Array(16);if(typeof E=="string")for(var T=0;16>T;++T)v[T]=E.charCodeAt(_++)|E.charCodeAt(_++)<<8|E.charCodeAt(_++)<<16|E.charCodeAt(_++)<<24;else for(T=0;16>T;++T)v[T]=E[_++]|E[_++]<<8|E[_++]<<16|E[_++]<<24;E=I.g[0],_=I.g[1],T=I.g[2];var A=I.g[3],P=E+(A^_&(T^A))+v[0]+3614090360&4294967295;E=_+(P<<7&4294967295|P>>>25),P=A+(T^E&(_^T))+v[1]+3905402710&4294967295,A=E+(P<<12&4294967295|P>>>20),P=T+(_^A&(E^_))+v[2]+606105819&4294967295,T=A+(P<<17&4294967295|P>>>15),P=_+(E^T&(A^E))+v[3]+3250441966&4294967295,_=T+(P<<22&4294967295|P>>>10),P=E+(A^_&(T^A))+v[4]+4118548399&4294967295,E=_+(P<<7&4294967295|P>>>25),P=A+(T^E&(_^T))+v[5]+1200080426&4294967295,A=E+(P<<12&4294967295|P>>>20),P=T+(_^A&(E^_))+v[6]+2821735955&4294967295,T=A+(P<<17&4294967295|P>>>15),P=_+(E^T&(A^E))+v[7]+4249261313&4294967295,_=T+(P<<22&4294967295|P>>>10),P=E+(A^_&(T^A))+v[8]+1770035416&4294967295,E=_+(P<<7&4294967295|P>>>25),P=A+(T^E&(_^T))+v[9]+2336552879&4294967295,A=E+(P<<12&4294967295|P>>>20),P=T+(_^A&(E^_))+v[10]+4294925233&4294967295,T=A+(P<<17&4294967295|P>>>15),P=_+(E^T&(A^E))+v[11]+2304563134&4294967295,_=T+(P<<22&4294967295|P>>>10),P=E+(A^_&(T^A))+v[12]+1804603682&4294967295,E=_+(P<<7&4294967295|P>>>25),P=A+(T^E&(_^T))+v[13]+4254626195&4294967295,A=E+(P<<12&4294967295|P>>>20),P=T+(_^A&(E^_))+v[14]+2792965006&4294967295,T=A+(P<<17&4294967295|P>>>15),P=_+(E^T&(A^E))+v[15]+1236535329&4294967295,_=T+(P<<22&4294967295|P>>>10),P=E+(T^A&(_^T))+v[1]+4129170786&4294967295,E=_+(P<<5&4294967295|P>>>27),P=A+(_^T&(E^_))+v[6]+3225465664&4294967295,A=E+(P<<9&4294967295|P>>>23),P=T+(E^_&(A^E))+v[11]+643717713&4294967295,T=A+(P<<14&4294967295|P>>>18),P=_+(A^E&(T^A))+v[0]+3921069994&4294967295,_=T+(P<<20&4294967295|P>>>12),P=E+(T^A&(_^T))+v[5]+3593408605&4294967295,E=_+(P<<5&4294967295|P>>>27),P=A+(_^T&(E^_))+v[10]+38016083&4294967295,A=E+(P<<9&4294967295|P>>>23),P=T+(E^_&(A^E))+v[15]+3634488961&4294967295,T=A+(P<<14&4294967295|P>>>18),P=_+(A^E&(T^A))+v[4]+3889429448&4294967295,_=T+(P<<20&4294967295|P>>>12),P=E+(T^A&(_^T))+v[9]+568446438&4294967295,E=_+(P<<5&4294967295|P>>>27),P=A+(_^T&(E^_))+v[14]+3275163606&4294967295,A=E+(P<<9&4294967295|P>>>23),P=T+(E^_&(A^E))+v[3]+4107603335&4294967295,T=A+(P<<14&4294967295|P>>>18),P=_+(A^E&(T^A))+v[8]+1163531501&4294967295,_=T+(P<<20&4294967295|P>>>12),P=E+(T^A&(_^T))+v[13]+2850285829&4294967295,E=_+(P<<5&4294967295|P>>>27),P=A+(_^T&(E^_))+v[2]+4243563512&4294967295,A=E+(P<<9&4294967295|P>>>23),P=T+(E^_&(A^E))+v[7]+1735328473&4294967295,T=A+(P<<14&4294967295|P>>>18),P=_+(A^E&(T^A))+v[12]+2368359562&4294967295,_=T+(P<<20&4294967295|P>>>12),P=E+(_^T^A)+v[5]+4294588738&4294967295,E=_+(P<<4&4294967295|P>>>28),P=A+(E^_^T)+v[8]+2272392833&4294967295,A=E+(P<<11&4294967295|P>>>21),P=T+(A^E^_)+v[11]+1839030562&4294967295,T=A+(P<<16&4294967295|P>>>16),P=_+(T^A^E)+v[14]+4259657740&4294967295,_=T+(P<<23&4294967295|P>>>9),P=E+(_^T^A)+v[1]+2763975236&4294967295,E=_+(P<<4&4294967295|P>>>28),P=A+(E^_^T)+v[4]+1272893353&4294967295,A=E+(P<<11&4294967295|P>>>21),P=T+(A^E^_)+v[7]+4139469664&4294967295,T=A+(P<<16&4294967295|P>>>16),P=_+(T^A^E)+v[10]+3200236656&4294967295,_=T+(P<<23&4294967295|P>>>9),P=E+(_^T^A)+v[13]+681279174&4294967295,E=_+(P<<4&4294967295|P>>>28),P=A+(E^_^T)+v[0]+3936430074&4294967295,A=E+(P<<11&4294967295|P>>>21),P=T+(A^E^_)+v[3]+3572445317&4294967295,T=A+(P<<16&4294967295|P>>>16),P=_+(T^A^E)+v[6]+76029189&4294967295,_=T+(P<<23&4294967295|P>>>9),P=E+(_^T^A)+v[9]+3654602809&4294967295,E=_+(P<<4&4294967295|P>>>28),P=A+(E^_^T)+v[12]+3873151461&4294967295,A=E+(P<<11&4294967295|P>>>21),P=T+(A^E^_)+v[15]+530742520&4294967295,T=A+(P<<16&4294967295|P>>>16),P=_+(T^A^E)+v[2]+3299628645&4294967295,_=T+(P<<23&4294967295|P>>>9),P=E+(T^(_|~A))+v[0]+4096336452&4294967295,E=_+(P<<6&4294967295|P>>>26),P=A+(_^(E|~T))+v[7]+1126891415&4294967295,A=E+(P<<10&4294967295|P>>>22),P=T+(E^(A|~_))+v[14]+2878612391&4294967295,T=A+(P<<15&4294967295|P>>>17),P=_+(A^(T|~E))+v[5]+4237533241&4294967295,_=T+(P<<21&4294967295|P>>>11),P=E+(T^(_|~A))+v[12]+1700485571&4294967295,E=_+(P<<6&4294967295|P>>>26),P=A+(_^(E|~T))+v[3]+2399980690&4294967295,A=E+(P<<10&4294967295|P>>>22),P=T+(E^(A|~_))+v[10]+4293915773&4294967295,T=A+(P<<15&4294967295|P>>>17),P=_+(A^(T|~E))+v[1]+2240044497&4294967295,_=T+(P<<21&4294967295|P>>>11),P=E+(T^(_|~A))+v[8]+1873313359&4294967295,E=_+(P<<6&4294967295|P>>>26),P=A+(_^(E|~T))+v[15]+4264355552&4294967295,A=E+(P<<10&4294967295|P>>>22),P=T+(E^(A|~_))+v[6]+2734768916&4294967295,T=A+(P<<15&4294967295|P>>>17),P=_+(A^(T|~E))+v[13]+1309151649&4294967295,_=T+(P<<21&4294967295|P>>>11),P=E+(T^(_|~A))+v[4]+4149444226&4294967295,E=_+(P<<6&4294967295|P>>>26),P=A+(_^(E|~T))+v[11]+3174756917&4294967295,A=E+(P<<10&4294967295|P>>>22),P=T+(E^(A|~_))+v[2]+718787259&4294967295,T=A+(P<<15&4294967295|P>>>17),P=_+(A^(T|~E))+v[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(T+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+A&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var _=E-this.blockSize,v=this.B,T=this.h,A=0;A<E;){if(T==0)for(;A<=_;)i(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<E;)if(v[T++]=I.charCodeAt(A++),T==this.blockSize){i(this,v),T=0;break}}else for(;A<E;)if(v[T++]=I[A++],T==this.blockSize){i(this,v),T=0;break}}this.h=T,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var _=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=_&255,_/=256;for(this.u(I),I=Array(16),E=_=0;4>E;++E)for(var v=0;32>v;v+=8)I[_++]=this.g[E]>>>v&255;return I};function s(I,E){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=E(I)}function o(I,E){this.h=E;for(var _=[],v=!0,T=I.length-1;0<=T;T--){var A=I[T]|0;v&&A==E||(_[T]=A,v=!1)}this.g=_}var a={};function l(I){return-128<=I&&128>I?s(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return C(u(-I));for(var E=[],_=1,v=0;I>=_;v++)E[v]=I/_|0,_*=4294967296;return new o(E,0)}function c(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return C(c(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(E,8)),v=h,T=0;T<I.length;T+=8){var A=Math.min(8,I.length-T),P=parseInt(I.substring(T,T+A),E);8>A?(A=u(Math.pow(E,A)),v=v.j(A).add(u(P))):(v=v.j(_),v=v.add(u(P)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-C(this).m();for(var I=0,E=1,_=0;_<this.g.length;_++){var v=this.i(_);I+=(0<=v?v:4294967296+v)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(y(this))return"-"+C(this).toString(I);for(var E=u(Math.pow(I,6)),_=this,v="";;){var T=S(_,E).g;_=R(_,T.j(E));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=T,g(_))return A+v;for(;6>A.length;)A="0"+A;v=A+v}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=R(this,I),y(I)?-1:g(I)?0:1};function C(I){for(var E=I.g.length,_=[],v=0;v<E;v++)_[v]=~I.g[v];return new o(_,~I.h).add(f)}t.abs=function(){return y(this)?C(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),_=[],v=0,T=0;T<=E;T++){var A=v+(this.i(T)&65535)+(I.i(T)&65535),P=(A>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);v=P>>>16,A&=65535,P&=65535,_[T]=P<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function R(I,E){return I.add(C(E))}t.j=function(I){if(g(this)||g(I))return h;if(y(this))return y(I)?C(this).j(C(I)):C(C(this).j(I));if(y(I))return C(this.j(C(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,_=[],v=0;v<2*E;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var T=0;T<I.g.length;T++){var A=this.i(v)>>>16,P=this.i(v)&65535,q=I.i(T)>>>16,$=I.i(T)&65535;_[2*v+2*T]+=P*$,k(_,2*v+2*T),_[2*v+2*T+1]+=A*$,k(_,2*v+2*T+1),_[2*v+2*T+1]+=P*q,k(_,2*v+2*T+1),_[2*v+2*T+2]+=A*q,k(_,2*v+2*T+2)}for(v=0;v<E;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=E;v<2*E;v++)_[v]=0;return new o(_,0)};function k(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function w(I,E){this.g=I,this.h=E}function S(I,E){if(g(E))throw Error("division by zero");if(g(I))return new w(h,h);if(y(I))return E=S(C(I),E),new w(C(E.g),C(E.h));if(y(E))return E=S(I,C(E)),new w(C(E.g),E.h);if(30<I.g.length){if(y(I)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var _=f,v=E;0>=v.l(I);)_=M(_),v=M(v);var T=L(_,1),A=L(v,1);for(v=L(v,2),_=L(_,2);!g(v);){var P=A.add(v);0>=P.l(I)&&(T=T.add(_),A=P),v=L(v,1),_=L(_,1)}return E=R(I,T.j(E)),new w(T,E)}for(T=h;0<=I.l(E);){for(_=Math.max(1,Math.floor(I.m()/E.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),A=u(_),P=A.j(E);y(P)||0<P.l(I);)_-=v,A=u(_),P=A.j(E);g(A)&&(A=f),T=T.add(A),I=R(I,P)}return new w(T,I)}t.A=function(I){return S(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),_=[],v=0;v<E;v++)_[v]=this.i(v)&I.i(v);return new o(_,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),_=[],v=0;v<E;v++)_[v]=this.i(v)|I.i(v);return new o(_,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),_=[],v=0;v<E;v++)_[v]=this.i(v)^I.i(v);return new o(_,this.h^I.h)};function M(I){for(var E=I.g.length+1,_=[],v=0;v<E;v++)_[v]=I.i(v)<<1|I.i(v-1)>>>31;return new o(_,I.h)}function L(I,E){var _=E>>5;E%=32;for(var v=I.g.length-_,T=[],A=0;A<v;A++)T[A]=0<E?I.i(A+_)>>>E|I.i(A+_+1)<<32-E:I.i(A+_);return new o(T,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Qo=o}).apply(typeof s1<"u"?s1:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rP,Ku,iP,Gh,Fv,sP,oP,aP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,b){return d==Array.prototype||d==Object.prototype||(d[m]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var m=0;m<d.length;++m){var b=d[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var b=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in b))break e;b=b[J]}d=d[d.length-1],N=b[d],m=m(N),m!=N&&m!=null&&e(b,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var b=0,N=!1,J={next:function(){if(!N&&b<d.length){var re=b++;return{value:m(re,d[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,b){return d.call.apply(d.bind,arguments)}function h(d,m,b){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),d.apply(m,J)}}return function(){return d.apply(m,arguments)}}function f(d,m,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function g(d,m){function b(){}b.prototype=m.prototype,d.aa=m.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(N,J,re){for(var Ae=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Ae[Ht-2]=arguments[Ht];return m.prototype[J].apply(N,Ae)}}function y(d){const m=d.length;if(0<m){const b=Array(m);for(let N=0;N<m;N++)b[N]=d[N];return b}return[]}function C(d,m){for(let b=1;b<arguments.length;b++){const N=arguments[b];if(l(N)){const J=d.length||0,re=N.length||0;d.length=J+re;for(let Ae=0;Ae<re;Ae++)d[J+Ae]=N[Ae]}else d.push(N)}}class R{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function L(d,m,b){for(const N in d)m.call(b,d[N],N,d)}function I(d,m){for(const b in d)m.call(void 0,d[b],b,d)}function E(d){const m={};for(const b in d)m[b]=d[b];return m}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let b,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(b in N)d[b]=N[b];for(let re=0;re<_.length;re++)b=_[re],Object.prototype.hasOwnProperty.call(N,b)&&(d[b]=N[b])}}function T(d){var m=1;d=d.split(":");const b=[];for(;0<m&&d.length;)b.push(d.shift()),m--;return d.length&&b.push(d.join(":")),b}function A(d){a.setTimeout(()=>{throw d},0)}function P(){var d=x;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,b){const N=$.get();N.set(m,b),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new R(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,x=new q,O=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(z)}};var z=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(b){A(b)}var m=$;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}U=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};a.addEventListener("test",b,m),a.removeEventListener("test",b,m)}catch{}return d}();function Z(d,m){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(M){e:{try{S(m.nodeName);var J=!0;break e}catch{}J=!1}J||(m=null)}}else b=="mouseover"?m=d.fromElement:b=="mouseout"&&(m=d.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:H[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}g(Z,te);var H={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function X(d,m,b,N,J){this.listener=d,this.proxy=null,this.src=m,this.type=b,this.capture=!!N,this.ha=J,this.key=++ie,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,b,N,J){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var Ae=D(d,m,N,J);return-1<Ae?(m=d[Ae],b||(m.fa=!1)):(m=new X(m,this.src,re,!!N,J),m.fa=b,d.push(m)),m};function ne(d,m){var b=m.type;if(b in d.g){var N=d.g[b],J=Array.prototype.indexOf.call(N,m,void 0),re;(re=0<=J)&&Array.prototype.splice.call(N,J,1),re&&(ce(m),d.g[b].length==0&&(delete d.g[b],d.h--))}}function D(d,m,b,N){for(var J=0;J<d.length;++J){var re=d[J];if(!re.da&&re.listener==m&&re.capture==!!b&&re.ha==N)return J}return-1}var V="closure_lm_"+(1e6*Math.random()|0),B={};function oe(d,m,b,N,J){if(N&&N.once)return Se(d,m,b,N,J);if(Array.isArray(m)){for(var re=0;re<m.length;re++)oe(d,m[re],b,N,J);return null}return b=Ge(b),d&&d[Q]?d.K(m,b,u(N)?!!N.capture:!!N,J):se(d,m,b,!1,N,J)}function se(d,m,b,N,J,re){if(!m)throw Error("Invalid event type");var Ae=u(J)?!!J.capture:!!J,Ht=Ie(d);if(Ht||(d[V]=Ht=new be(d)),b=Ht.add(m,b,N,Ae,re),b.proxy)return b;if(N=me(),b.proxy=N,N.src=d,N.listener=b,d.addEventListener)he||(J=Ae),J===void 0&&(J=!1),d.addEventListener(m.toString(),N,J);else if(d.attachEvent)d.attachEvent(ge(m.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function me(){function d(b){return m.call(d.src,d.listener,b)}const m=He;return d}function Se(d,m,b,N,J){if(Array.isArray(m)){for(var re=0;re<m.length;re++)Se(d,m[re],b,N,J);return null}return b=Ge(b),d&&d[Q]?d.L(m,b,u(N)?!!N.capture:!!N,J):se(d,m,b,!0,N,J)}function Ee(d,m,b,N,J){if(Array.isArray(m))for(var re=0;re<m.length;re++)Ee(d,m[re],b,N,J);else N=u(N)?!!N.capture:!!N,b=Ge(b),d&&d[Q]?(d=d.i,m=String(m).toString(),m in d.g&&(re=d.g[m],b=D(re,b,N,J),-1<b&&(ce(re[b]),Array.prototype.splice.call(re,b,1),re.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=D(m,b,N,J)),(b=-1<d?m[d]:null)&&Te(b))}function Te(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Q])ne(m.i,d);else{var b=d.type,N=d.proxy;m.removeEventListener?m.removeEventListener(b,N,d.capture):m.detachEvent?m.detachEvent(ge(b),N):m.addListener&&m.removeListener&&m.removeListener(N),(b=Ie(m))?(ne(b,d),b.h==0&&(b.src=null,m[V]=null)):ce(d)}}}function ge(d){return d in B?B[d]:B[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new Z(m,this);var b=d.listener,N=d.ha||d.src;d.fa&&Te(d),d=b.call(N,m)}return d}function Ie(d){return d=d[V],d instanceof be?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(m){return d.handleEvent(m)}),d[Fe])}function Ke(){K.call(this),this.i=new be(this),this.M=this,this.F=null}g(Ke,K),Ke.prototype[Q]=!0,Ke.prototype.removeEventListener=function(d,m,b,N){Ee(this,d,m,b,N)};function Y(d,m){var b,N=d.F;if(N)for(b=[];N;N=N.F)b.push(N);if(d=d.M,N=m.type||m,typeof m=="string")m=new te(m,d);else if(m instanceof te)m.target=m.target||d;else{var J=m;m=new te(N,d),v(m,J)}if(J=!0,b)for(var re=b.length-1;0<=re;re--){var Ae=m.g=b[re];J=ae(Ae,N,!0,m)&&J}if(Ae=m.g=d,J=ae(Ae,N,!0,m)&&J,J=ae(Ae,N,!1,m)&&J,b)for(re=0;re<b.length;re++)Ae=m.g=b[re],J=ae(Ae,N,!1,m)&&J}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var b=d.g[m],N=0;N<b.length;N++)ce(b[N]);delete d.g[m],d.h--}}this.F=null},Ke.prototype.K=function(d,m,b,N){return this.i.add(String(d),m,!1,b,N)},Ke.prototype.L=function(d,m,b,N){return this.i.add(String(d),m,!0,b,N)};function ae(d,m,b,N){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var J=!0,re=0;re<m.length;++re){var Ae=m[re];if(Ae&&!Ae.da&&Ae.capture==b){var Ht=Ae.listener,qn=Ae.ha||Ae.src;Ae.fa&&ne(d.i,Ae),J=Ht.call(qn,N)!==!1&&J}}return J&&!N.defaultPrevented}function xe(d,m,b){if(typeof d=="function")b&&(d=f(d,b));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=xe(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class ct extends K{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(d){K.call(this),this.h=d,this.g={}}g(Nt,K);var Hn=[];function Oe(d){L(d.g,function(m,b){this.g.hasOwnProperty(b)&&Te(m)},d),d.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),Oe(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,Wn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Wr(){}Wr.prototype.h=null;function Na(d){return d.h||(d.h=d.i())}function Mb(){}var mu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Am(){te.call(this,"d")}g(Am,te);function Om(){te.call(this,"c")}g(Om,te);var ko={},Lb=null;function Qd(){return Lb=Lb||new Ke}ko.La="serverreachability";function Vb(d){te.call(this,ko.La,d)}g(Vb,te);function gu(d){const m=Qd();Y(m,new Vb(m))}ko.STAT_EVENT="statevent";function Fb(d,m){te.call(this,ko.STAT_EVENT,d),this.stat=m}g(Fb,te);function wr(d){const m=Qd();Y(m,new Fb(m,d))}ko.Ma="timingevent";function $b(d,m){te.call(this,ko.Ma,d),this.size=m}g($b,te);function vu(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function yu(){this.g=!0}yu.prototype.xa=function(){this.g=!1};function wN(d,m,b,N,J,re){d.info(function(){if(d.g)if(re)for(var Ae="",Ht=re.split("&"),qn=0;qn<Ht.length;qn++){var Ct=Ht[qn].split("=");if(1<Ct.length){var rr=Ct[0];Ct=Ct[1];var ir=rr.split("_");Ae=2<=ir.length&&ir[1]=="type"?Ae+(rr+"="+Ct+"&"):Ae+(rr+"=redacted&")}}else Ae=null;else Ae=re;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+m+`
`+b+`
`+Ae})}function TN(d,m,b,N,J,re,Ae){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+m+`
`+b+`
`+re+" "+Ae})}function Ma(d,m,b,N){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+IN(d,b)+(N?" "+N:"")})}function EN(d,m){d.info(function(){return"TIMEOUT: "+m})}yu.prototype.info=function(){};function IN(d,m){if(!d.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var N=b[d];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var Ae=1;Ae<J.length;Ae++)J[Ae]=""}}}}return Be(b)}catch{return m}}var Xd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ub={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pm;function Jd(){}g(Jd,Wr),Jd.prototype.g=function(){return new XMLHttpRequest},Jd.prototype.i=function(){return{}},Pm=new Jd;function Ms(d,m,b,N){this.j=d,this.i=m,this.l=b,this.R=N||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bb}function Bb(){this.i=null,this.g="",this.h=!1}var jb={},km={};function Rm(d,m,b){d.L=1,d.v=nh(is(m)),d.m=b,d.P=!0,Hb(d,null)}function Hb(d,m){d.F=Date.now(),Zd(d),d.A=is(d.v);var b=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),rw(b.i,"t",N),d.C=0,b=d.j.J,d.h=new Bb,d.g=ww(d.j,b?m:null,!d.m),0<d.O&&(d.M=new ct(f(d.Y,d,d.g),d.O)),m=d.U,b=d.g,N=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Hn[0]=J.toString()),J=Hn);for(var re=0;re<J.length;re++){var Ae=oe(b,J[re],N||m.handleEvent,!1,m.h||m);if(!Ae)break;m.g[Ae.key]=Ae}m=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),gu(),wN(d.i,d.u,d.A,d.l,d.R,d.m)}Ms.prototype.ca=function(d){d=d.target;const m=this.M;m&&ss(d)==3?m.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const ir=ss(this.g);var m=this.g.Ba();const Fa=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||cw(this.g)))){this.J||ir!=4||m==7||(m==8||0>=Fa?gu(3):gu(2)),Dm(this);var b=this.g.Z();this.X=b;t:if(Wb(this)){var N=cw(this.g);d="";var J=N.length,re=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),_u(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<J;m++)this.h.h=!0,d+=this.h.i.decode(N[m],{stream:!(re&&m==J-1)});N.length=0,this.h.g+=d,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=b==200,TN(this.i,this.u,this.A,this.l,this.R,ir,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,qn=this.g;if((Ht=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ht)){var Ct=Ht;break t}}Ct=null}if(b=Ct)Ma(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xm(this,b);else{this.o=!1,this.s=3,wr(12),Ro(this),_u(this);break e}}if(this.P){b=!0;let mi;for(;!this.J&&this.C<Ae.length;)if(mi=SN(this,Ae),mi==km){ir==4&&(this.s=4,wr(14),b=!1),Ma(this.i,this.l,null,"[Incomplete Response]");break}else if(mi==jb){this.s=4,wr(15),Ma(this.i,this.l,Ae,"[Invalid Chunk]"),b=!1;break}else Ma(this.i,this.l,mi,null),xm(this,mi);if(Wb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||Ae.length!=0||this.h.h||(this.s=1,wr(16),b=!1),this.o=this.o&&b,!b)Ma(this.i,this.l,Ae,"[Invalid Chunked Response]"),Ro(this),_u(this);else if(0<Ae.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),$m(rr),rr.M=!0,wr(11))}}else Ma(this.i,this.l,Ae,null),xm(this,Ae);ir==4&&Ro(this),this.o&&!this.J&&(ir==4?vw(this.j,this):(this.o=!1,Zd(this)))}else jN(this.g),b==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,wr(12)):(this.s=0,wr(13)),Ro(this),_u(this)}}}catch{}finally{}};function Wb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function SN(d,m){var b=d.C,N=m.indexOf(`
`,b);return N==-1?km:(b=Number(m.substring(b,N)),isNaN(b)?jb:(N+=1,N+b>m.length?km:(m=m.slice(N,N+b),d.C=N+b,m)))}Ms.prototype.cancel=function(){this.J=!0,Ro(this)};function Zd(d){d.S=Date.now()+d.I,qb(d,d.I)}function qb(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=vu(f(d.ba,d),m)}function Dm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ms.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(EN(this.i,this.A),this.L!=2&&(gu(),wr(17)),Ro(this),this.s=2,_u(this)):qb(this,this.S-d)};function _u(d){d.j.G==0||d.J||vw(d.j,d)}function Ro(d){Dm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function xm(d,m){try{var b=d.j;if(b.G!=0&&(b.g==d||Nm(b.h,d))){if(!d.K&&Nm(b.h,d)&&b.G==3){try{var N=b.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)lh(b),oh(b);else break e;Fm(b),wr(18)}}else b.za=J[1],0<b.za-b.T&&37500>J[2]&&b.F&&b.v==0&&!b.C&&(b.C=vu(f(b.Za,b),6e3));if(1>=Yb(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else xo(b,11)}else if((d.K||b.g==d)&&lh(b),!k(m))for(J=b.Da.g.parse(m),m=0;m<J.length;m++){let Ct=J[m];if(b.T=Ct[0],Ct=Ct[1],b.G==2)if(Ct[0]=="c"){b.K=Ct[1],b.ia=Ct[2];const rr=Ct[3];rr!=null&&(b.la=rr,b.j.info("VER="+b.la));const ir=Ct[4];ir!=null&&(b.Aa=ir,b.j.info("SVER="+b.Aa));const Fa=Ct[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(N=1.5*Fa,b.L=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const mi=d.g;if(mi){const ch=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ch){var re=N.h;re.g||ch.indexOf("spdy")==-1&&ch.indexOf("quic")==-1&&ch.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Mm(re,re.h),re.h=null))}if(N.D){const Um=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Um&&(N.ya=Um,Zt(N.I,N.D,Um))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),N=b;var Ae=d;if(N.qa=bw(N,N.J?N.ia:null,N.W),Ae.K){Gb(N.h,Ae);var Ht=Ae,qn=N.L;qn&&(Ht.I=qn),Ht.B&&(Dm(Ht),Zd(Ht)),N.g=Ae}else mw(N);0<b.i.length&&ah(b)}else Ct[0]!="stop"&&Ct[0]!="close"||xo(b,7);else b.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?xo(b,7):Vm(b):Ct[0]!="noop"&&b.l&&b.l.ta(Ct),b.v=0)}}gu(4)}catch{}}var CN=class{constructor(d,m){this.g=d,this.map=m}};function zb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Yb(d){return d.h?1:d.g?d.g.size:0}function Nm(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Mm(d,m){d.g?d.g.add(m):d.h=m}function Gb(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}zb.prototype.cancel=function(){if(this.i=Qb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Qb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const b of d.g.values())m=m.concat(b.D);return m}return y(d.i)}function AN(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],b=d.length,N=0;N<b;N++)m.push(d[N]);return m}m=[],b=0;for(N in d)m[b++]=d[N];return m}function ON(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var b=0;b<d;b++)m.push(b);return m}m=[],b=0;for(const N in d)m[b++]=N;return m}}}function Xb(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var b=ON(d),N=AN(d),J=N.length,re=0;re<J;re++)m.call(void 0,N[re],b&&b[re],d)}var Jb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PN(d,m){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var N=d[b].indexOf("="),J=null;if(0<=N){var re=d[b].substring(0,N);J=d[b].substring(N+1)}else re=d[b];m(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Do(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Do){this.h=d.h,eh(this,d.j),this.o=d.o,this.g=d.g,th(this,d.s),this.l=d.l;var m=d.i,b=new Tu;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),Zb(this,b),this.m=d.m}else d&&(m=String(d).match(Jb))?(this.h=!1,eh(this,m[1]||"",!0),this.o=bu(m[2]||""),this.g=bu(m[3]||"",!0),th(this,m[4]),this.l=bu(m[5]||"",!0),Zb(this,m[6]||"",!0),this.m=bu(m[7]||"")):(this.h=!1,this.i=new Tu(null,this.h))}Do.prototype.toString=function(){var d=[],m=this.j;m&&d.push(wu(m,ew,!0),":");var b=this.g;return(b||m=="file")&&(d.push("//"),(m=this.o)&&d.push(wu(m,ew,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(wu(b,b.charAt(0)=="/"?DN:RN,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",wu(b,NN)),d.join("")};function is(d){return new Do(d)}function eh(d,m,b){d.j=b?bu(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function th(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Zb(d,m,b){m instanceof Tu?(d.i=m,MN(d.i,d.h)):(b||(m=wu(m,xN)),d.i=new Tu(m,d.h))}function Zt(d,m,b){d.i.set(m,b)}function nh(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function bu(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function wu(d,m,b){return typeof d=="string"?(d=encodeURI(d).replace(m,kN),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kN(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ew=/[#\/\?@]/g,RN=/[#\?:]/g,DN=/[#\?]/g,xN=/[#\?@]/g,NN=/#/g;function Tu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ls(d){d.g||(d.g=new Map,d.h=0,d.i&&PN(d.i,function(m,b){d.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}t=Tu.prototype,t.add=function(d,m){Ls(this),this.i=null,d=La(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(m),this.h+=1,this};function tw(d,m){Ls(d),m=La(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function nw(d,m){return Ls(d),m=La(d,m),d.g.has(m)}t.forEach=function(d,m){Ls(this),this.g.forEach(function(b,N){b.forEach(function(J){d.call(m,J,N,this)},this)},this)},t.na=function(){Ls(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let N=0;N<m.length;N++){const J=d[N];for(let re=0;re<J.length;re++)b.push(m[N])}return b},t.V=function(d){Ls(this);let m=[];if(typeof d=="string")nw(this,d)&&(m=m.concat(this.g.get(La(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)m=m.concat(d[b])}return m},t.set=function(d,m){return Ls(this),this.i=null,d=La(this,d),nw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function rw(d,m,b){tw(d,m),0<b.length&&(d.i=null,d.g.set(La(d,m),y(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var N=m[b];const re=encodeURIComponent(String(N)),Ae=this.V(N);for(N=0;N<Ae.length;N++){var J=re;Ae[N]!==""&&(J+="="+encodeURIComponent(String(Ae[N]))),d.push(J)}}return this.i=d.join("&")};function La(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function MN(d,m){m&&!d.j&&(Ls(d),d.i=null,d.g.forEach(function(b,N){var J=N.toLowerCase();N!=J&&(tw(this,N),rw(this,J,b))},d)),d.j=m}function LN(d,m){const b=new yu;if(a.Image){const N=new Image;N.onload=p(Vs,b,"TestLoadImage: loaded",!0,m,N),N.onerror=p(Vs,b,"TestLoadImage: error",!1,m,N),N.onabort=p(Vs,b,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(Vs,b,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else m(!1)}function VN(d,m){const b=new yu,N=new AbortController,J=setTimeout(()=>{N.abort(),Vs(b,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:N.signal}).then(re=>{clearTimeout(J),re.ok?Vs(b,"TestPingServer: ok",!0,m):Vs(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(J),Vs(b,"TestPingServer: error",!1,m)})}function Vs(d,m,b,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(b)}catch{}}function FN(){this.g=new Wn}function $N(d,m,b){const N=b||"";try{Xb(d,function(J,re){let Ae=J;u(J)&&(Ae=Be(J)),m.push(N+re+"="+encodeURIComponent(Ae))})}catch(J){throw m.push(N+"type="+encodeURIComponent("_badmap")),J}}function rh(d){this.l=d.Ub||null,this.j=d.eb||!1}g(rh,Wr),rh.prototype.g=function(){return new ih(this.l,this.j)},rh.prototype.i=function(d){return function(){return d}}({});function ih(d,m){Ke.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(ih,Ke),t=ih.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Iu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Iu(this)),this.g&&(this.readyState=3,Iu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iw(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function iw(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Eu(this):Iu(this),this.readyState==3&&iw(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Eu(this))},t.Qa=function(d){this.g&&(this.response=d,Eu(this))},t.ga=function(){this.g&&Eu(this)};function Eu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Iu(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=m.next();return d.join(`\r
`)};function Iu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function sw(d){let m="";return L(d,function(b,N){m+=N,m+=":",m+=b,m+=`\r
`}),m}function Lm(d,m,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=sw(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):Zt(d,m,b))}function pn(d){Ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pn,Ke);var UN=/^https?$/i,BN=["POST","PUT"];t=pn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pm.g(),this.v=this.o?Na(this.o):Na(Pm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(re){ow(this,re);return}if(d=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)b.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())b.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(re=>re.toLowerCase()=="content-type"),J=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BN,m,void 0))||N||J||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Ae]of b)this.g.setRequestHeader(re,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uw(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){ow(this,re)}};function ow(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,aw(d),sh(d)}function aw(d){d.A||(d.A=!0,Y(d,"complete"),Y(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Y(this,"complete"),Y(this,"abort"),sh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sh(this,!0)),pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lw(this):this.bb())},t.bb=function(){lw(this)};function lw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ss(d)!=4||d.Z()!=2)){if(d.u&&ss(d)==4)xe(d.Ea,0,d);else if(Y(d,"readystatechange"),ss(d)==4){d.h=!1;try{const Ae=d.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var N;if(N=Ae===0){var J=String(d.D).match(Jb)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),N=!UN.test(J?J.toLowerCase():"")}b=N}if(b)Y(d,"complete"),Y(d,"success");else{d.m=6;try{var re=2<ss(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",aw(d)}}finally{sh(d)}}}}function sh(d,m){if(d.g){uw(d);const b=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Y(d,"ready");try{b.onreadystatechange=N}catch{}}}function uw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function cw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function jN(d){const m={};d=(d.g&&2<=ss(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(k(d[N]))continue;var b=T(d[N]);const J=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const re=m[J]||[];m[J]=re,re.push(b)}I(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Su(d,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||m}function dw(d){this.Aa=0,this.i=[],this.j=new yu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Su("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Su("baseRetryDelayMs",5e3,d),this.cb=Su("retryDelaySeedMs",1e4,d),this.Wa=Su("forwardChannelMaxRetries",2,d),this.wa=Su("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new zb(d&&d.concurrentRequestLimit),this.Da=new FN,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dw.prototype,t.la=8,t.G=1,t.connect=function(d,m,b,N){wr(0),this.W=d,this.H=m||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.I=bw(this,null,this.W),ah(this)};function Vm(d){if(hw(d),d.G==3){var m=d.U++,b=is(d.I);if(Zt(b,"SID",d.K),Zt(b,"RID",m),Zt(b,"TYPE","terminate"),Cu(d,b),m=new Ms(d,d.j,m),m.L=2,m.v=nh(is(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=m.v,b=!0),b||(m.g=ww(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zd(m)}_w(d)}function oh(d){d.g&&($m(d),d.g.cancel(),d.g=null)}function hw(d){oh(d),d.u&&(a.clearTimeout(d.u),d.u=null),lh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ah(d){if(!Kb(d.h)&&!d.s){d.s=!0;var m=d.Ga;F||O(),U||(F(),U=!0),x.add(m,d),d.B=0}}function HN(d,m){return Yb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=vu(f(d.Ga,d,m),yw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Ms(this,this.j,d);let re=this.o;if(this.S&&(re?(re=E(re),v(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=pw(this,J,m),b=is(this.I),Zt(b,"RID",d),Zt(b,"CVER",22),this.D&&Zt(b,"X-HTTP-Session-Id",this.D),Cu(this,b),re&&(this.O?m="headers="+encodeURIComponent(String(sw(re)))+"&"+m:this.m&&Lm(b,this.m,re)),Mm(this.h,J),this.Ua&&Zt(b,"TYPE","init"),this.P?(Zt(b,"$req",m),Zt(b,"SID","null"),J.T=!0,Rm(J,b,null)):Rm(J,b,m),this.G=2}}else this.G==3&&(d?fw(this,d):this.i.length==0||Kb(this.h)||fw(this))};function fw(d,m){var b;m?b=m.l:b=d.U++;const N=is(d.I);Zt(N,"SID",d.K),Zt(N,"RID",b),Zt(N,"AID",d.T),Cu(d,N),d.m&&d.o&&Lm(N,d.m,d.o),b=new Ms(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),m&&(d.i=m.D.concat(d.i)),m=pw(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Mm(d.h,b),Rm(b,N,m)}function Cu(d,m){d.H&&L(d.H,function(b,N){Zt(m,N,b)}),d.l&&Xb({},function(b,N){Zt(m,N,b)})}function pw(d,m,b){b=Math.min(d.i.length,b);var N=d.l?f(d.l.Na,d.l,d):null;e:{var J=d.i;let re=-1;for(;;){const Ae=["count="+b];re==-1?0<b?(re=J[0].g,Ae.push("ofs="+re)):re=0:Ae.push("ofs="+re);let Ht=!0;for(let qn=0;qn<b;qn++){let Ct=J[qn].g;const rr=J[qn].map;if(Ct-=re,0>Ct)re=Math.max(0,J[qn].g-100),Ht=!1;else try{$N(rr,Ae,"req"+Ct+"_")}catch{N&&N(rr)}}if(Ht){N=Ae.join("&");break e}}}return d=d.i.splice(0,b),m.D=d,N}function mw(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;F||O(),U||(F(),U=!0),x.add(m,d),d.v=0}}function Fm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=vu(f(d.Fa,d),yw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,gw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=vu(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wr(10),oh(this),gw(this))};function $m(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function gw(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=is(d.qa);Zt(m,"RID","rpc"),Zt(m,"SID",d.K),Zt(m,"AID",d.T),Zt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(m,"TO",d.ja),Zt(m,"TYPE","xmlhttp"),Cu(d,m),d.m&&d.o&&Lm(m,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=nh(is(m)),b.m=null,b.P=!0,Hb(b,d)}t.Za=function(){this.C!=null&&(this.C=null,oh(this),Fm(this),wr(19))};function lh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function vw(d,m){var b=null;if(d.g==m){lh(d),$m(d),d.g=null;var N=2}else if(Nm(d.h,m))b=m.D,Gb(d.h,m),N=1;else return;if(d.G!=0){if(m.o)if(N==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var J=d.B;N=Qd(),Y(N,new $b(N,b)),ah(d)}else mw(d);else if(J=m.s,J==3||J==0&&0<m.X||!(N==1&&HN(d,m)||N==2&&Fm(d)))switch(b&&0<b.length&&(m=d.h,m.i=m.i.concat(b)),J){case 1:xo(d,5);break;case 4:xo(d,10);break;case 3:xo(d,6);break;default:xo(d,2)}}}function yw(d,m){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*m}function xo(d,m){if(d.j.info("Error code "+m),m==2){var b=f(d.fb,d),N=d.Xa;const J=!N;N=new Do(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eh(N,"https"),nh(N),J?LN(N.toString(),b):VN(N.toString(),b)}else wr(2);d.G=0,d.l&&d.l.sa(m),_w(d),hw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wr(2)):(this.j.info("Failed to ping google.com"),wr(1))};function _w(d){if(d.G=0,d.ka=[],d.l){const m=Qb(d.h);(m.length!=0||d.i.length!=0)&&(C(d.ka,m),C(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function bw(d,m,b){var N=b instanceof Do?is(b):new Do(b);if(N.g!="")m&&(N.g=m+"."+N.g),th(N,N.s);else{var J=a.location;N=J.protocol,m=m?m+"."+J.hostname:J.hostname,J=+J.port;var re=new Do(null);N&&eh(re,N),m&&(re.g=m),J&&th(re,J),b&&(re.l=b),N=re}return b=d.D,m=d.ya,b&&m&&Zt(N,b,m),Zt(N,"VER",d.la),Cu(d,N),N}function ww(d,m,b){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new pn(new rh({eb:b})):new pn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tw(){}t=Tw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uh(){}uh.prototype.g=function(d,m){return new qr(d,m)};function qr(d,m){Ke.call(this),this.g=new dw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!k(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Va(this)}g(qr,Ke),qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){Vm(this.g)},qr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Be(d),d=b);m.i.push(new CN(m.Ya++,d)),m.G==3&&ah(m)},qr.prototype.N=function(){this.g.l=null,delete this.j,Vm(this.g),delete this.g,qr.aa.N.call(this)};function Ew(d){Am.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const b in m){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Ew,Am);function Iw(){Om.call(this),this.status=1}g(Iw,Om);function Va(d){this.g=d}g(Va,Tw),Va.prototype.ua=function(){Y(this.g,"a")},Va.prototype.ta=function(d){Y(this.g,new Ew(d))},Va.prototype.sa=function(d){Y(this.g,new Iw)},Va.prototype.ra=function(){Y(this.g,"b")},uh.prototype.createWebChannel=uh.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,aP=function(){return new uh},oP=function(){return Qd()},sP=ko,Fv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xd.NO_ERROR=0,Xd.TIMEOUT=8,Xd.HTTP_ERROR=6,Gh=Xd,Ub.COMPLETE="complete",iP=Ub,Mb.EventType=mu,mu.OPEN="a",mu.CLOSE="b",mu.ERROR="c",mu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Ku=Mb,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,rP=pn}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const o1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new su("@firebase/firestore");function Ru(){return la.logLevel}function Ue(t,...e){if(la.logLevel<=ht.DEBUG){const n=e.map(k_);la.debug(`Firestore (${au}): ${t}`,...n)}}function Cs(t,...e){if(la.logLevel<=ht.ERROR){const n=e.map(k_);la.error(`Firestore (${au}): ${t}`,...n)}}function Nl(t,...e){if(la.logLevel<=ht.WARN){const n=e.map(k_);la.warn(`Firestore (${au}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: `+t;throw Cs(e),new Error(e)}function Ut(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class J4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z4{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string"),new lP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string"),new ar(e)}}class eU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ut(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new nU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function Ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Qt(0,0))}static max(){return new st(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Gt extends qc{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Gt(n)}static emptyPath(){return new Gt([])}}const sU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends qc{construct(e,n,r){return new Qn(e,n,r)}static isValidIdentifier(e){return sU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Gt.fromString(e))}static fromName(e){return new Ye(Gt.fromString(e).popFirst(5))}static empty(){return new Ye(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Gt(e.slice()))}}function oU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new yo(i,Ye.empty(),e)}function aU(t){return new yo(t.readTime,t.key,-1)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(st.min(),Ye.empty(),-1)}static max(){return new yo(st.max(),Ye.empty(),-1)}}function lU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==uU)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ve((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function dU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Od(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}R_.oe=-1;function Up(t){return t==null}function Nf(t){return t===0&&1/t==-1/0}function hU(t){return typeof t=="number"&&Number.isInteger(t)&&!Nf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class $v{constructor(e,n){this.comparator=e,this.root=n||ao.EMPTY}insert(e,n){return new $v(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new $v(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ih(this.root,e,this.comparator,!0)}},Ih=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ao=class us{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??us.RED,this.left=i??us.EMPTY,this.right=s??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new us(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1;ao.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ao(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l1(this.data.getIterator())}getIteratorFrom(e){return new l1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class l1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new tr(Qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dP("Invalid base64 string: "+s):s}}(e);return new nr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const fU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(Ut(!!t),typeof t=="string"){let e=0;const n=fU.exec(t);if(Ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function D_(t){const e=t.mapValue.fields.__previous_value__;return Bp(e)?D_(e):e}function zc(t){const e=_o(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Kc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bp(t)?4:gU(t)?9007199254740991:mU(t)?10:11:rt()}function es(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_o(i.timestampValue),a=_o(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ua(i.bytesValue).isEqual(ua(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _n(i.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _n(i.integerValue)===_n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=_n(i.doubleValue),a=_n(s.doubleValue);return o===a?Nf(o)===Nf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(a1(o)!==a1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!es(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function Yc(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function Ll(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=_n(s.integerValue||s.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return u1(t.timestampValue,e.timestampValue);case 4:return u1(zc(t),zc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ua(s),l=ua(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(_n(s.latitude),_n(o.latitude));return a!==0?a:Ot(_n(s.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return c1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:c1(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sh.mapValue&&o===Sh.mapValue)return 0;if(s===Sh.mapValue)return 1;if(o===Sh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Ll(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function u1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=_o(t),r=_o(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function c1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ll(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function Vl(t){return Uv(t)}function Uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Uv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Uv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function Mf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bv(t){return!!t&&"integerValue"in t}function x_(t){return!!t&&"arrayValue"in t}function d1(t){return!!t&&"nullValue"in t}function h1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function mU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=Qn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ia(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(dc(this.value))}}function hP(t){const e=[];return Ia(t.fields,(n,r)=>{const i=new Qn([n]);if(Qh(r)){const s=hP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cr(e,0,st.min(),st.min(),st.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,i){return new cr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new cr(e,2,n,st.min(),st.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,st.min(),st.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.position=e,this.inclusive=n}}function f1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ye.comparator(Ye.fromName(o.referenceValue),n.key):r=Ll(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function p1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function vU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{}class An extends fP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _U(e,n,r):n==="array-contains"?new TU(e,r):n==="in"?new EU(e,r):n==="not-in"?new IU(e,r):n==="array-contains-any"?new SU(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bU(e,r):new wU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ll(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends fP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xi(e,n)}matches(e){return pP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pP(t){return t.op==="and"}function mP(t){return yU(t)&&pP(t)}function yU(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function jv(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(mP(t))return t.filters.map(e=>jv(e)).join(",");{const e=t.filters.map(n=>jv(n)).join(",");return`${t.op}(${e})`}}function gP(t,e){return t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)}(t,e):t instanceof xi?function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gP(o,i.filters[a]),!0):!1}(t,e):void rt()}function vP(t){return t instanceof An?function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`}(t):t instanceof xi?function(n){return n.op.toString()+" {"+n.getFilters().map(vP).join(" ,")+"}"}(t):"Filter"}class _U extends An{constructor(e,n,r){super(e,n,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class bU extends An{constructor(e,n){super(e,"in",n),this.keys=yP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wU extends An{constructor(e,n){super(e,"not-in",n),this.keys=yP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class TU extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x_(n)&&Yc(n.arrayValue,this.value)}}class EU extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yc(this.value.arrayValue,n)}}class IU extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yc(this.value.arrayValue,n)}}class SU extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function m1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new CU(t,e,n,r,i,s,o)}function N_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Up(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),e.ue=n}return e.ue}function M_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p1(t.startAt,e.startAt)&&p1(t.endAt,e.endAt)}function Hv(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function AU(t,e,n,r,i,s,o,a){return new Sa(t,e,n,r,i,s,o,a)}function jp(t){return new Sa(t)}function g1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L_(t){return t.collectionGroup!==null}function vl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tr(Qn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gc(s,r))}),n.has(Qn.keyField().canonicalString())||e.ce.push(new Gc(Qn.keyField(),r))}return e.ce}function Yi(t){const e=ot(t);return e.le||(e.le=OU(e,vl(t))),e.le}function OU(t,e){if(t.limitType==="F")return m1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gc(i.field,s)});const n=t.endAt?new Fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fl(t.startAt.position,t.startAt.inclusive):null;return m1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wv(t,e){const n=t.filters.concat([e]);return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lf(t,e,n){return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hp(t,e){return M_(Yi(t),Yi(e))&&t.limitType===e.limitType}function _P(t){return`${N_(Yi(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vP(i)).join(", ")}]`),Up(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vl(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function Wp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=f1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,vl(r),i)||r.endAt&&!function(o,a,l){const u=f1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,vl(r),i))}(t,e)}function PU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bP(t){return(e,n)=>{let r=!1;for(const i of vl(t)){const s=kU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kU(t,e,n){const r=t.field.isKeyField()?Ye.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ll(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new On(Ye.comparator);function As(){return RU}const wP=new On(Ye.comparator);function Yu(...t){let e=wP;for(const n of t)e=e.insert(n.key,n);return e}function TP(t){let e=wP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wo(){return hc()}function EP(){return hc()}function hc(){return new lu(t=>t.toString(),(t,e)=>t.isEqual(e))}const DU=new On(Ye.comparator),xU=new tr(Ye.comparator);function ft(...t){let e=xU;for(const n of t)e=e.add(n);return e}const NU=new tr(Ot);function MU(){return NU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function IP(t){return{integerValue:""+t}}function LU(t,e){return hU(e)?IP(e):V_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this._=void 0}}function VU(t,e,n){return t instanceof Vf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Bp(s)&&(s=D_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Qc?CP(t,e):t instanceof Xc?AP(t,e):function(i,s){const o=SP(i,s),a=v1(o)+v1(i.Pe);return Bv(o)&&Bv(i.Pe)?IP(a):V_(i.serializer,a)}(t,e)}function FU(t,e,n){return t instanceof Qc?CP(t,e):t instanceof Xc?AP(t,e):n}function SP(t,e){return t instanceof Ff?function(r){return Bv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vf extends qp{}class Qc extends qp{constructor(e){super(),this.elements=e}}function CP(t,e){const n=OP(e);for(const r of t.elements)n.some(i=>es(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xc extends qp{constructor(e){super(),this.elements=e}}function AP(t,e){let n=OP(e);for(const r of t.elements)n=n.filter(i=>!es(i,r));return{arrayValue:{values:n}}}class Ff extends qp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function v1(t){return _n(t.integerValue||t.doubleValue)}function OP(t){return x_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $U(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Xc&&i instanceof Xc?Ml(r.elements,i.elements,es):r instanceof Ff&&i instanceof Ff?es(r.Pe,i.Pe):r instanceof Vf&&i instanceof Vf}(t.transform,e.transform)}class UU{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zp{}function PP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new F_(t.key,ci.none()):new Pd(t.key,t.data,ci.none());{const n=t.data,r=Vr.empty();let i=new tr(Qn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oo(t.key,r,new Yr(i.toArray()),ci.none())}}function BU(t,e,n){t instanceof Pd?function(i,s,o){const a=i.value.clone(),l=_1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(i,s,o){if(!Xh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(kP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fc(t,e,n,r){return t instanceof Pd?function(s,o,a,l){if(!Xh(s.precondition,o))return a;const u=s.value.clone(),c=b1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(s,o,a,l){if(!Xh(s.precondition,o))return a;const u=b1(s.fieldTransforms,l,o),c=o.data;return c.setAll(kP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Xh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function jU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=SP(r.transform,i||null);s!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,s))}return n||null}function y1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,(s,o)=>$U(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pd extends zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _1(t,e,n){const r=new Map;Ut(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,FU(o,a,n[i]))}return r}function b1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,VU(s,o,e))}return r}class F_ extends zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HU extends zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&BU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=PP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(n,r)=>y1(n,r))&&Ml(this.baseMutations,e.baseMutations,(n,r)=>y1(n,r))}}class $_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length);let i=function(){return DU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,_t;function KU(t){switch(t){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function RP(t){if(t===void 0)return Cs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Sn.OK:return ue.OK;case Sn.CANCELLED:return ue.CANCELLED;case Sn.UNKNOWN:return ue.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return ue.INTERNAL;case Sn.UNAVAILABLE:return ue.UNAVAILABLE;case Sn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Sn.NOT_FOUND:return ue.NOT_FOUND;case Sn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Sn.ABORTED:return ue.ABORTED;case Sn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Sn.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(_t=Sn||(Sn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new Qo([4294967295,4294967295],0);function w1(t){const e=YU().encode(t),n=new nP;return n.update(e),new Uint8Array(n.digest())}function T1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,s],0)]}class U_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gu(`Invalid padding: ${n}`);if(r<0)throw new Gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(GU)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=w1(e),[r,i]=T1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new U_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=w1(e),[r,i]=T1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kp(st.min(),i,new On(Ot),As(),ft())}}class kd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kd(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class DP{constructor(e,n){this.targetId=e,this.me=n}}class xP{constructor(e,n,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class E1{constructor(){this.fe=0,this.ge=S1(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ft(),n=ft(),r=ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new kd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=S1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QU{constructor(e){this.Le=e,this.Be=new Map,this.ke=As(),this.qe=I1(),this.Qe=new On(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Hv(s))if(r===0){const o=new Ye(s.path);this.Ue(n,o,cr.newNoDocument(o,st.min()))}else Ut(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ua(r).toUint8Array()}catch(l){if(l instanceof dP)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new U_(o,i,s)}catch(l){return Nl(l instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Hv(a.target)){const l=new Ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,cr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Kp(e,n,this.Qe,this.ke,r);return this.ke=As(),this.qe=I1(),this.Qe=new On(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new E1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new E1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function I1(){return new On(Ye.comparator)}function S1(){return new On(Ye.comparator)}const XU={asc:"ASCENDING",desc:"DESCENDING"},JU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZU={and:"AND",or:"OR"};class e6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qv(t,e){return t.useProto3Json||Up(e)?e:{value:e}}function $f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t6(t,e){return $f(t,e.toTimestamp())}function Gi(t){return Ut(!!t),st.fromTimestamp(function(n){const r=_o(n);return new Qt(r.seconds,r.nanos)}(t))}function B_(t,e){return zv(t,e).canonicalString()}function zv(t,e){const n=function(i){return new Gt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MP(t){const e=Gt.fromString(t);return Ut(UP(e)),e}function Kv(t,e){return B_(t.databaseId,e.path)}function fg(t,e){const n=MP(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(VP(n))}function LP(t,e){return B_(t.databaseId,e)}function n6(t){const e=MP(t);return e.length===4?Gt.emptyPath():VP(e)}function Yv(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VP(t){return Ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function C1(t,e,n){return{name:Kv(t,e),fields:n.value.mapValue.fields}}function r6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ut(c===void 0||typeof c=="string"),nr.fromBase64String(c||"")):(Ut(c===void 0||c instanceof Buffer||c instanceof Uint8Array),nr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ue.UNKNOWN:RP(u.code);return new Pe(c,u.message||"")}(o);n=new xP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fg(t,r.document.name),s=Gi(r.document.updateTime),o=r.document.createTime?Gi(r.document.createTime):st.min(),a=new Vr({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fg(t,r.document),s=r.readTime?Gi(r.readTime):st.min(),o=cr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fg(t,r.document),s=r.removedTargetIds||[];n=new Jh([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zU(i,s),a=r.targetId;n=new DP(a,o)}}return n}function i6(t,e){let n;if(e instanceof Pd)n={update:C1(t,e.key,e.value)};else if(e instanceof F_)n={delete:Kv(t,e.key)};else if(e instanceof Oo)n={update:C1(t,e.key,e.data),updateMask:f6(e.fieldMask)};else{if(!(e instanceof HU))return rt();n={verify:Kv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Vf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ff)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:t6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function s6(t,e){return t&&t.length>0?(Ut(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gi(i.updateTime):Gi(s);return o.isEqual(st.min())&&(o=Gi(s)),new UU(o,i.transformResults||[])}(n,e))):[]}function o6(t,e){return{documents:[LP(t,e.path)]}}function a6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LP(t,i);const s=function(u){if(u.length!==0)return $P(xi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Xa(f.field),direction:c6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function l6(t){let e=n6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=FP(h);return f instanceof xi&&mP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Gc(Ja(g.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Up(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Fl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Fl(p,f)}(n.endAt)),AU(e,i,o,s,a,"F",l,u)}function u6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ja(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ja(n.unaryFilter.field);return An.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ja(n.unaryFilter.field);return An.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return An.create(Ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xi.create(n.compositeFilter.filters.map(r=>FP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function c6(t){return XU[t]}function d6(t){return JU[t]}function h6(t){return ZU[t]}function Xa(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Qn.fromServerFormat(t.fieldPath)}function $P(t){return t instanceof An?function(n){if(n.op==="=="){if(h1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(d1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(d1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:d6(n.op),value:n.value}}}(t):t instanceof xi?function(n){const r=n.getFilters().map(i=>$P(i));return r.length===1?r[0]:{compositeFilter:{op:h6(n.op),filters:r}}}(t):rt()}function f6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,s=st.min(),o=st.min(),a=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.ct=e}}function m6(t){const e=l6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.un=new v6}addToCollectionParentIndex(e,n){return this.un.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(yo.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class v6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(Gt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $l(0)}static kn(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.changes=new lu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fc(r.mutation,i,Yr.empty(),Qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const i=Wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=As();const o=hc(),a=function(){return hc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Oo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),fc(c.mutation,u,c.mutation.getFieldMask(),Qt.now())):o.set(u.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new _6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hc();let i=new On((o,a)=>o-a),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Yr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ft()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=EP();c.forEach(f=>{if(!s.has(f)){const p=PP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(Wo());let a=-1,l=s;return o.next(u=>ve.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ve.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ft())).next(c=>({batchId:a,changes:TP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next(r=>{let i=Yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yu();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,l=>{const u=function(h,f){return new Sa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,cr.newInvalidDocument(c)))});let a=Yu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&fc(c.mutation,u,Yr.empty(),Qt.now()),Wp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ve.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:m6(i.bundledQuery),readTime:Gi(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.overlays=new On(Ye.comparator),this.Ir=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return ve.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Wo(),s=n.length+1,o=new Ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Wo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ve.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qU(n,r));let s=this.Ir.get(n);s===void 0&&(s=ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.Tr=new tr($n.Er),this.dr=new tr($n.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $n(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ye(new Gt([])),r=new $n(n,e),i=new $n(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ye(new Gt([])),r=new $n(n,e),i=new $n(n,e+1);let s=ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $n(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ye.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tr($n.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new $n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),i=new $n(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(Ot);return n.forEach(i=>{const s=new $n(i,0),o=new $n(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ve.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ye.isDocumentKey(s)||(s=s.child(""));const o=new $n(new Ye(s),0);let a=new tr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ve.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ve.forEach(n.mutations,i=>{const s=new $n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $n(n,0),i=this.br.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.Mr=e,this.docs=function(){return new On(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=As();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=As();const o=n.path,a=new Ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lU(aU(c),r)<=0||(i.has(c.key)||Wp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C6(this)}getSize(e){return ve.resolve(this.size)}}class C6 extends y6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.persistence=e,this.Nr=new lu(n=>N_(n),M_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new j_,this.targetCount=0,this.kr=$l.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Kn(n),ve.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new R_(0),this.Kr=!1,this.Kr=!0,this.$r=new E6,this.referenceDelegate=e(this),this.Ur=new A6(this),this.indexManager=new g6,this.remoteDocumentCache=function(i){return new S6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new p6(n),this.Gr=new w6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new I6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new P6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ve.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class P6 extends cU{constructor(e){super(),this.currentSequenceNumber=e}}class H_{constructor(e){this.persistence=e,this.Jr=new j_,this.Yr=null}static Zr(e){return new H_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,r=>{const i=Ye.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ve.or([()=>ve.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ft(),i=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new W_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uF()?8:dU(br())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new k6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ru()<=ht.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(Ru()<=ht.DEBUG&&Ue("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ru()<=ht.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ve.resolve())}Yi(e,n){if(g1(n))return ve.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lf(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Lf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return g1(n)||i.isEqual(st.min())?ve.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ve.resolve(null):(Ru()<=ht.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.rs(e,o,n,oU(i,-1)).next(a=>a))})}ts(e,n){let r=new tr(bP(e));return n.forEach((i,s)=>{Wp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ru()<=ht.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,yo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Ot),this._s=new lu(s=>N_(s),M_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function x6(t,e,n,r){return new D6(t,e,n,r)}async function BP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ft();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function N6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ve.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const C=u.docVersions.get(g);Ut(C!==null),y.version.compareTo(C)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jP(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function M6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(y,C,R){return y.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=As(),u=ft();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(L6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function L6(t,e,n){let r=ft(),i=ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=As();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function V6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new no(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Od(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function A1(t,e,n){const r=ot(t);let i=st.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?ve.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:ft())).next(a=>($6(r,PU(e),a),{documents:a,Ts:s})))}function $6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class O1{constructor(){this.activeTargetIds=MU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U6{constructor(){this.so=new O1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new O1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function pg(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class W6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=pg(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Nl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+au}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=j6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=pg();return new Promise((o,a)=>{const l=new rP;l.setWithCredentials(!0),l.listenOnce(iP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gh.NO_ERROR:const c=l.getResponseJson();Ue(sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Gh.TIMEOUT:Ue(sr,`RPC '${e}' ${s} timed out`),a(new Pe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const h=l.getStatus();if(Ue(sr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(R)>=0?R:ue.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(sr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(sr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=pg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aP(),a=oP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(sr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new H6({Io:C=>{p?Ue(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(Ue(sr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(sr,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},To:()=>h.close()}),y=(C,R,k)=>{C.listen(R,w=>{try{k(w)}catch(S){setTimeout(()=>{throw S},0)}})};return y(h,Ku.EventType.OPEN,()=>{p||(Ue(sr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(h,Ku.EventType.CLOSE,()=>{p||(p=!0,Ue(sr,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(h,Ku.EventType.ERROR,C=>{p||(p=!0,Nl(sr,`RPC '${e}' stream ${i} transport errored:`,C),g.So(new Pe(ue.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ku.EventType.MESSAGE,C=>{var R;if(!p){const k=C.data[0];Ut(!!k);const w=k,S=w.error||((R=w[0])===null||R===void 0?void 0:R.error);if(S){Ue(sr,`RPC '${e}' stream ${i} received error:`,S);const M=S.status;let L=function(_){const v=Sn[_];if(v!==void 0)return RP(v)}(M),I=S.message;L===void 0&&(L=ue.INTERNAL,I="Unknown error status: "+M+" with message "+S.message),p=!0,g.So(new Pe(L,I)),h.close()}else Ue(sr,`RPC '${e}' stream ${i} received:`,k),g.bo(k)}}),y(a,sP.STAT_EVENT,C=>{C.stat===Fv.PROXY?Ue(sr,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Fv.NOPROXY&&Ue(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){return new e6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new HP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q6 extends WP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=r6(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Gi(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Yv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Hv(l)?{documents:o6(s,l)}:{query:a6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NP(s,o.resumeToken);const u=qv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=$f(s,o.snapshotVersion.toTimestamp());const u=qv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=u6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Yv(this.serializer),n.removeTarget=e,this.a_(n)}}class z6 extends WP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=s6(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Yv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>i6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,zv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ue.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,zv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ue.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Y6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cs(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ca(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await Rd(u),u.q_.set("Unknown"),u.L_.delete(4),await Gp(u)}(this))})}),this.q_=new Y6(r,i)}}async function Gp(t){if(Ca(t))for(const e of t.B_)await e(!0)}async function Rd(t){for(const e of t.B_)await e(!1)}function qP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Y_(n)?K_(n):uu(n).r_()&&z_(n,e))}function q_(t,e){const n=ot(t),r=uu(n);n.N_.delete(e),r.r_()&&zP(n,e),n.N_.size===0&&(r.r_()?r.o_():Ca(n)&&n.q_.set("Unknown"))}function z_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uu(t).A_(e)}function zP(t,e){t.Q_.xe(e),uu(t).R_(e)}function K_(t){t.Q_=new QU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uu(t).start(),t.q_.v_()}function Y_(t){return Ca(t)&&!uu(t).n_()&&t.N_.size>0}function Ca(t){return ot(t).L_.size===0}function KP(t){t.Q_=void 0}async function Q6(t){t.q_.set("Online")}async function X6(t){t.N_.forEach((e,n)=>{z_(t,e)})}async function J6(t,e){KP(t),Y_(t)?(t.q_.M_(e),K_(t)):t.q_.set("Unknown")}async function Z6(t,e,n){if(t.q_.set("Online"),e instanceof xP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uf(t,r)}else if(e instanceof Jh?t.Q_.Ke(e):e instanceof DP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await jP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(nr.EMPTY_BYTE_STRING,c.snapshotVersion)),zP(s,l);const h=new no(c.target,l,u,c.sequenceNumber);z_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Uf(t,r)}}async function Uf(t,e,n){if(!Od(e))throw e;t.L_.add(1),await Rd(t),t.q_.set("Offline"),n||(n=()=>jP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gp(t)})}function YP(t,e){return e().catch(n=>Uf(t,n,e))}async function Qp(t){const e=ot(t),n=bo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;e9(e);)try{const i=await V6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,t9(e,i)}catch(i){await Uf(e,i)}GP(e)&&QP(e)}function e9(t){return Ca(t)&&t.O_.length<10}function t9(t,e){t.O_.push(e);const n=bo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function GP(t){return Ca(t)&&!bo(t).n_()&&t.O_.length>0}function QP(t){bo(t).start()}async function n9(t){bo(t).p_()}async function r9(t){const e=bo(t);for(const n of t.O_)e.m_(n.mutations)}async function i9(t,e,n){const r=t.O_.shift(),i=$_.from(r,e,n);await YP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qp(t)}async function s9(t,e){e&&bo(t).V_&&await async function(r,i){if(function(o){return KU(o)&&o!==ue.ABORTED}(i.code)){const s=r.O_.shift();bo(r).s_(),await YP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qp(r)}}(t,e),GP(t)&&QP(t)}async function k1(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Ca(n);n.L_.add(3),await Rd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gp(n)}async function o9(t,e){const n=ot(t);e?(n.L_.delete(2),await Gp(n)):e||(n.L_.add(2),await Rd(n),n.q_.set("Unknown"))}function uu(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new q6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Q6.bind(null,t),Ro:X6.bind(null,t),mo:J6.bind(null,t),d_:Z6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Y_(t)?K_(t):t.q_.set("Unknown")):(await t.K_.stop(),KP(t))})),t.K_}function bo(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new z6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:n9.bind(null,t),mo:s9.bind(null,t),f_:r9.bind(null,t),g_:i9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Qp(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new G_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q_(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),Od(t))return new Pe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ye.comparator(n.key,r.key):(n,r)=>Ye.comparator(n.key,r.key),this.keyedMap=Yu(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.W_=new On(Ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ul{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ul(e,n,yl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class l9{constructor(){this.queries=D1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=D1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(ue.ABORTED,"Firestore shutting down"))}}function D1(){return new lu(t=>_P(t),Hp)}async function X_(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new a9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Q_(o,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Z_(n)}async function J_(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u9(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Z_(n)}function c9(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Z_(t){t.Y_.forEach(e=>{e.next()})}var Qv,x1;(x1=Qv||(Qv={})).ea="default",x1.Cache="cache";class e0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.key=e}}class JP{constructor(e){this.key=e}}class d9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ft(),this.mutatedKeys=ft(),this.Aa=bP(e),this.Ra=new yl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new R1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Wp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let C=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),C=!0):this.ga(f,p)||(r.track({type:2,doc:p}),C=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),C=!0):f&&!p&&(r.track({type:1,doc:f}),C=!0,(l||u)&&(a=!0)),C&&(p?(o=o.add(p),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const y=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return y(p)-y(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ul(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new R1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new JP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new XP(r))}),n}ba(e){this.Ta=e.Ts,this.da=ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ul.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class h9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f9{constructor(e){this.key=e,this.va=!1}}class p9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new lu(a=>_P(a),Hp),this.Ma=new Map,this.xa=new Set,this.Oa=new On(Ye.comparator),this.Na=new Map,this.La=new j_,this.Ba={},this.ka=new Map,this.qa=$l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function m9(t,e,n=!0){const r=ik(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ZP(r,e,n,!0),i}async function g9(t,e){const n=ik(t);await ZP(n,e,!0,!1)}async function ZP(t,e,n,r){const i=await F6(t.localStore,Yi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await v9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&qP(t.remoteStore,i),a}async function v9(t,e,n,r,i){t.Ka=(h,f,p)=>async function(y,C,R,k){let w=C.view.ma(R);w.ns&&(w=await A1(y.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,w)));const S=k&&k.targetChanges.get(C.targetId),M=k&&k.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(w,y.isPrimaryClient,S,M);return M1(y,C.targetId,L.wa),L.snapshot}(t,h,f,p);const s=await A1(t.localStore,e,!0),o=new d9(e,s.Ts),a=o.ma(s.documents),l=kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);M1(t,n,u.wa);const c=new h9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function y9(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Hp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&q_(r.remoteStore,i.targetId),Xv(r,i.targetId)}).catch(Ad)):(Xv(r,i.targetId),await Gv(r.localStore,i.targetId,!0))}async function _9(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),q_(n.remoteStore,r.targetId))}async function b9(t,e,n){const r=A9(t);try{const i=await function(o,a){const l=ot(o),u=Qt.now(),c=a.reduce((p,g)=>p.add(g.key),ft());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=As(),y=ft();return l.cs.getEntries(p,c).next(C=>{g=C,g.forEach((R,k)=>{k.isValidDocument()||(y=y.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(C=>{h=C;const R=[];for(const k of a){const w=jU(k,h.get(k.key).overlayedDocument);w!=null&&R.push(new Oo(k.key,w,hP(w.value.mapValue),ci.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,R,a)}).next(C=>{f=C;const R=C.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,C.batchId,R)})}).then(()=>({batchId:f.batchId,changes:TP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Dd(r,i.changes),await Qp(r.remoteStore)}catch(i){const s=Q_(i,"Failed to persist write");n.reject(s)}}async function ek(t,e){const n=ot(t);try{const r=await M6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ut(o.va):i.removedDocuments.size>0&&(Ut(o.va),o.va=!1))}),await Dd(n,r,e)}catch(r){await Ad(r)}}function N1(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Z_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w9(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(Ye.comparator);o=o.insert(s,cr.newNoDocument(s,st.min()));const a=ft().add(s),l=new Kp(st.min(),new Map,new On(Ot),o,a);await ek(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),t0(r)}else await Gv(r.localStore,e,!1).then(()=>Xv(r,e,n)).catch(Ad)}async function T9(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await N6(n.localStore,e);nk(n,r,null),tk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(n,i)}catch(i){await Ad(i)}}async function E9(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ut(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);nk(r,e,n),tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dd(r,i)}catch(i){await Ad(i)}}function tk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nk(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rk(t,r)})}function rk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(q_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),t0(t))}function M1(t,e,n){for(const r of n)r instanceof XP?(t.La.addReference(r.key,e),I9(t,r)):r instanceof JP?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rk(t,r.key)):rt()}function I9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),t0(t))}function t0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ye(Gt.fromString(e)),r=t.qa.next();t.Na.set(r,new f9(n)),t.Oa=t.Oa.insert(n,r),qP(t.remoteStore,new no(Yi(jp(n.path)),r,"TargetPurposeLimboResolution",R_.oe))}}async function Dd(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=W_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(u,f=>ve.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ve.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Od(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,y)}}}(r.localStore,s))}async function S9(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await BP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ue.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dd(n,r.hs)}}function C9(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return ft().add(r.key);{let i=ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function ik(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ek.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w9.bind(null,e),e.Ca.d_=u9.bind(null,e.eventManager),e.Ca.$a=c9.bind(null,e.eventManager),e}function A9(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E9.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return x6(this.persistence,new R6,e.initialUser,this.serializer)}Ga(e){return new O6(H_.Zr,this.serializer)}Wa(e){return new U6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class Jv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S9.bind(null,this.syncEngine),await o9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l9}()}createDatastore(e){const n=Yp(e.databaseInfo.databaseId),r=function(s){return new W6(s)}(e.databaseInfo);return function(s,o,a,l){return new K6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new G6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>N1(this.syncEngine,n,0),function(){return P1.D()?new P1:new B6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new p9(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Rd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jv.provider={build:()=>new Jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=uP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Q_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function L1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P9(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>k1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>k1(e.remoteStore,i)),t._onlineComponents=e}async function P9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await gg(t,new Bf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await gg(t,new Bf);return t._offlineComponents}async function sk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await L1(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await L1(t,new Jv))),t._onlineComponents}function k9(t){return sk(t).then(e=>e.syncEngine)}async function jf(t){const e=await sk(t),n=e.eventManager;return n.onListen=m9.bind(null,e.syncEngine),n.onUnlisten=y9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_9.bind(null,e.syncEngine),n}function R9(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new n0({next:f=>{c.Za(),o.enqueueAndForget(()=>J_(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new e0(jp(a.path),c,{includeMetadataChanges:!0,_a:!0});return X_(s,h)}(await jf(t),t.asyncQueue,e,n,r)),r.promise}function D9(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new n0({next:f=>{c.Za(),o.enqueueAndForget(()=>J_(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new e0(a,c,{includeMetadataChanges:!0,_a:!0});return X_(s,h)}(await jf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e,n){if(!n)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x9(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F1(t){if(!Ye.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $1(t){if(Ye.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function Br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new Pe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function N9(t,e){if(e<=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ok((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X4;switch(r.type){case"firstParty":return new tU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V1.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),V1.delete(n),r.terminate())}(this),Promise.resolve()}}function M9(t,e,n,r={}){var i;const s=(t=Br(t,Jp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ar.MOCK_USER;else{a=rO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ar(u)}t._authCredentials=new J4(new lP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class lo extends ts{constructor(e,n,r){super(e,n,jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Ye(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=Dt(t),ak("collection","path",e),t instanceof Jp){const r=Gt.fromString(e,...n);return $1(r),new lo(t,null,r)}{if(!(t instanceof yr||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return $1(r),new lo(t.firestore,null,r)}}function bt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=uP.newId()),ak("doc","path",e),t instanceof Jp){const r=Gt.fromString(e,...n);return F1(r),new yr(t,null,new Ye(r))}{if(!(t instanceof yr||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return F1(r),new yr(t.firestore,t instanceof lo?t.converter:null,new Ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new HP(this,"async_queue_retry"),this.Vu=()=>{const r=mg();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new bs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Od(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=G_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function j1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends Jp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new B1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B1(e),this._firestoreClient=void 0,await e}}}function L9(t,e){const n=typeof t=="object"?t:Cd(),r=typeof t=="string"?t:e||"(default)",i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tO("firestore");s&&M9(i,...s)}return i}function Zp(t){if(t._terminated)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V9(t),t._firestoreClient}function V9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new pU(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ok(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new O9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(nr.fromBase64String(e))}catch(n){throw new Pe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=/^__.*__$/;class $9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pd(e,this.data,n,this.fieldTransforms)}}class lk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class o0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new o0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uk(this.Cu)&&F9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class U9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yp(e)}Qu(e,n,r,i=!1){return new o0({Cu:e,methodName:n,qu:r,path:Qn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(t){const e=t._freezeSettings(),n=Yp(t._databaseId);return new U9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ck(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);a0("Data must be an object, but it was:",o,r);const a=hk(r,o);let l,u;if(s.merge)l=new Yr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Zv(e,h,n);if(!o.contains(f))throw new Pe(ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pk(c,f)||c.push(f)}l=new Yr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new $9(new Vr(a),l,u)}class tm extends r0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function B9(t,e,n,r){const i=t.Qu(1,e,n);a0("Data must be an object, but it was:",i,r);const s=[],o=Vr.empty();Ia(r,(l,u)=>{const c=l0(e,l,n);u=Dt(u);const h=i.Nu(c);if(u instanceof tm)s.push(c);else{const f=Nd(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Yr(s);return new lk(o,a,i.fieldTransforms)}function j9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Zv(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Zv(e,s[f])),l.push(s[f+1]);const u=[],c=Vr.empty();for(let f=a.length-1;f>=0;--f)if(!pk(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const y=o.Nu(p);if(g instanceof tm)u.push(p);else{const C=Nd(g,y);C!=null&&(u.push(p),c.set(p,C))}}const h=new Yr(u);return new lk(c,h,o.fieldTransforms)}function dk(t,e,n,r=!1){return Nd(n,t.Qu(r?4:3,e))}function Nd(t,e){if(fk(t=Dt(t)))return a0("Unsupported field value:",e,t),hk(t,e);if(t instanceof r0)return function(r,i){if(!uk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Nd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qt.fromDate(r);return{timestampValue:$f(i.serializer,s)}}if(r instanceof Qt){const s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,s)}}if(r instanceof i0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:NP(i.serializer,r._byteString)};if(r instanceof yr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:B_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof s0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return V_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Xp(r)}`)}(t,e)}function hk(t,e){const n={};return cP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(r,i)=>{const s=Nd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof i0||t instanceof Bl||t instanceof yr||t instanceof r0||t instanceof s0)}function a0(t,e,n){if(!fk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Zv(t,e,n){if((e=Dt(e))instanceof em)return e._internalPath;if(typeof e=="string")return l0(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const H9=new RegExp("[~\\*/\\[\\]]");function l0(t,e,n){if(e.search(H9)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new em(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(ue.INVALID_ARGUMENT,a+t+l)}function pk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W9 extends u0{data(){return super.data()}}function nm(t,e){return typeof e=="string"?l0(t,e):e instanceof em?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c0{}class rm extends c0{}function q9(t,e,...n){let r=[];e instanceof c0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof d0).length,a=s.filter(l=>l instanceof im).length;if(o>1||o>0&&a>0)throw new Pe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class im extends rm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new im(e,n,r)}_apply(e){const n=this._parse(e);return vk(e._query,n),new ts(e.firestore,e.converter,Wv(e._query,n))}_parse(e){const n=xd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){q1(h,c);const p=[];for(const g of h)p.push(W1(l,s,g));f={arrayValue:{values:p}}}else f=W1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||q1(h,c),f=dk(a,o,h,c==="in"||c==="not-in");return An.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gk(t,e,n){const r=e,i=nm("where",t);return im._create(i,r,n)}class d0 extends c0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new d0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vk(o,l),o=Wv(o,l)}(e._query,n),new ts(e.firestore,e.converter,Wv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h0 extends rm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new h0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(s,o)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function H1(t,e="asc"){const n=e,r=nm("orderBy",t);return h0._create(r,n)}class f0 extends rm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new f0(e,n,r)}_apply(e){return new ts(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}function z9(t){return N9("limit",t),f0._create("limit",t,"F")}class p0 extends rm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new p0(e,n,r)}_apply(e){const n=Y9(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,function(i,s){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function K9(...t){return p0._create("startAfter",t,!1)}function Y9(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof u0)return function(s,o,a,l,u){if(!l)throw new Pe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of vl(s))if(h.field.isKeyField())c.push(Mf(o,l.key));else{const f=l.data.field(h.field);if(Bp(f))throw new Pe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new Fl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=xd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const y=c[g];if(f[g].field.isKeyField()){if(typeof y!="string")throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof y}`);if(!L_(o)&&y.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${y}' contains a slash.`);const C=o.path.child(Gt.fromString(y));if(!Ye.isDocumentKey(C))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const R=new Ye(C);p.push(Mf(a,R))}else{const C=dk(l,u,y);p.push(C)}}return new Fl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function W1(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(e)&&n.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!Ye.isDocumentKey(r))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mf(t,new Ye(r))}if(n instanceof yr)return Mf(t,n._key);throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function q1(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class G9{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ia(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>_n(o.doubleValue));return new s0(s)}convertGeoPoint(e){return new i0(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=D_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=_o(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Ut(UP(r));const i=new Kc(r.get(1),r.get(3)),s=new Ye(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _k extends u0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zh extends _k{data(e={}){return super.data(e)}}class bk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zh(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Zh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Zh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Q9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){t=Br(t,yr);const e=Br(t.firestore,Os);return R9(Zp(e),t._key).then(n=>Tk(e,t,n))}class m0 extends G9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}function X9(t){t=Br(t,ts);const e=Br(t.firestore,Os),n=Zp(e),r=new m0(e);return mk(t._query),D9(n,t._query).then(i=>new bk(e,r,t,i))}function J9(t,e,n){t=Br(t,yr);const r=Br(t.firestore,Os),i=yk(t.converter,e,n);return sm(r,[ck(xd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function Z9(t,e,n,...r){t=Br(t,yr);const i=Br(t.firestore,Os),s=xd(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof em?j9(s,"updateDoc",t._key,e,n,r):B9(s,"updateDoc",t._key,e),sm(i,[o.toMutation(t._key,ci.exists(!0))])}function eB(t){return sm(Br(t.firestore,Os),[new F_(t._key,ci.none())])}function tB(t,e){const n=Br(t.firestore,Os),r=bt(t),i=yk(t.converter,e);return sm(n,[ck(xd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function yre(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||j1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(j1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof yr)u=Br(t.firestore,Os),c=jp(t._key.path),l={next:h=>{e[o]&&e[o](Tk(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Br(t,ts);u=Br(h.firestore,Os),c=h._query;const f=new m0(u);l={next:p=>{e[o]&&e[o](new bk(u,f,h,p))},error:e[o+1],complete:e[o+2]},mk(t._query)}return function(f,p,g,y){const C=new n0(y),R=new e0(p,C,g);return f.asyncQueue.enqueueAndForget(async()=>X_(await jf(f),R)),()=>{C.Za(),f.asyncQueue.enqueueAndForget(async()=>J_(await jf(f),R))}}(Zp(u),c,a,l)}function sm(t,e){return function(r,i){const s=new bs;return r.asyncQueue.enqueueAndForget(async()=>b9(await k9(r),i,s)),s.promise}(Zp(t),e)}function Tk(t,e,n){const r=n.docs.get(e._key),i=new m0(t);return new _k(t,i,e._key,r,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){au=i})(Ao),jr(new Dr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Os(new Z4(r.getProvider("auth-internal")),new rU(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),er(o1,"4.7.3",e),er(o1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebasestorage.googleapis.com",Ik="storageBucket",nB=2*60*1e3,rB=10*60*1e3,iB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends ti{constructor(e,n,r=0){super(vg(e),`Firebase Storage: ${n} (${vg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function vg(t){return"storage/"+t}function g0(){const t="An unknown error occurred, please check the error payload for server response.";return new fn(ln.UNKNOWN,t)}function sB(t){return new fn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oB(t){return new fn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(ln.UNAUTHENTICATED,t)}function lB(){return new fn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uB(t){return new fn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Sk(){return new fn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ck(){return new fn(ln.CANCELED,"User canceled the upload/download.")}function cB(t){return new fn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function dB(t){return new fn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hB(){return new fn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ik+"' property when initializing the app?")}function Ak(){return new fn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fB(){return new fn(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function pB(){return new fn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mB(t){return new fn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ey(t){return new fn(ln.INVALID_ARGUMENT,t)}function Ok(){return new fn(ln.APP_DELETED,"The Firebase app was deleted.")}function gB(t){return new fn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pc(t,e){return new fn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Du(t){throw new fn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gr.makeFromUrl(e,n)}catch{return new Gr(e,"")}if(r.path==="")return r;throw dB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=n===Ek?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",R=new RegExp(`^https?://${y}/${i}/${C}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<w.length;S++){const M=w[S],L=M.regex.exec(e);if(L){const I=L[M.indices.bucket];let E=L[M.indices.path];E||(E=""),r=new Gr(I,E),M.postModify(r);break}}if(r==null)throw cB(e);return r}}class vB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...C){u||(u=!0,e.apply(null,C))}function h(C){i=setTimeout(()=>{i=null,t(p,l())},C)}function f(){s&&clearTimeout(s)}function p(C,...R){if(u){f();return}if(C){f(),c.call(null,C,...R);return}if(l()||o){f(),c.call(null,C,...R);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let g=!1;function y(C){g||(g=!0,f(),!u&&(i!==null?(C||(a=2),clearTimeout(i),h(0)):C||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function _B(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){return t!==void 0}function wB(t){return typeof t=="function"}function TB(t){return typeof t=="object"&&!Array.isArray(t)}function om(t){return typeof t=="string"||t instanceof String}function z1(t){return v0()&&t instanceof Blob}function v0(){return typeof Blob<"u"}function K1(t,e,n,r){if(r<e)throw ey(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ey(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Pk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ah(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Xo.NO_ERROR,l=s.getStatus();if(!a||kk(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Xo.ABORT;r(!1,new Ah(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ah(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=g0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ok():Ck();o(l)}else{const l=Sk();o(l)}};this.canceled_?n(!1,new Ah(!1,null,!0)):this.backoffId_=yB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_B(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ah{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function IB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OB(t,e,n,r,i,s,o=!0){const a=Pk(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return CB(u,e),IB(u,n),SB(u,s),AB(u,r),new EB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kB(...t){const e=PB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(v0())return new Blob(t);throw new fn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){if(typeof atob>"u")throw mB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yg{constructor(e,n){this.data=e,this.contentType=n||null}}function xB(t,e){switch(t){case Wi.RAW:return new yg(Rk(e));case Wi.BASE64:case Wi.BASE64URL:return new yg(Dk(t,e));case Wi.DATA_URL:return new yg(MB(e),LB(e))}throw g0()}function Rk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NB(t){let e;try{e=decodeURIComponent(t)}catch{throw pc(Wi.DATA_URL,"Malformed data URL.")}return Rk(e)}function Dk(t,e){switch(t){case Wi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw pc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw pc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DB(e)}catch(i){throw i.message.includes("polyfill")?i:pc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class xk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw pc(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function MB(t){const e=new xk(t);return e.base64?Dk(Wi.BASE64,e.rest):NB(e.rest)}function LB(t){return new xk(t).contentType}function VB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){let r=0,i="";z1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(z1(this.data_)){const r=this.data_,i=RB(r,e,n);return i===null?null:new Xs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xs(r,!0)}}static getBlob(...e){if(v0()){const n=e.map(r=>r instanceof Xs?r.data_:r);return new Xs(kB.apply(null,n))}else{const n=e.map(o=>om(o)?xB(Wi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){let e;try{e=JSON.parse(t)}catch{return null}return TB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $B(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Mk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||UB}}let Oh=null;function BB(t){return!om(t)||t.length<2?t:Mk(t)}function Lk(){if(Oh)return Oh;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,o){return BB(o)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),Oh=t,Oh}function jB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Gr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function HB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return jB(r,t),r}function Vk(t,e,n){const r=Nk(e);return r===null?null:HB(t,r,n)}function WB(t,e,n,r){const i=Nk(e);if(i===null||!om(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=cu(f,n,r),g=Pk({alt:"media",token:u});return p+g})[0]}function Fk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Aa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){if(!t)throw g0()}function y0(t,e){function n(r,i){const s=Vk(t,i,e);return ws(s!==null),s}return n}function qB(t,e){function n(r,i){const s=Vk(t,i,e);return ws(s!==null),WB(s,i,t.host,t._protocol)}return n}function Md(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lB():i=aB():n.getStatus()===402?i=oB(t.bucket):n.getStatus()===403?i=uB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _0(t){const e=Md(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=sB(t.path)),s.serverResponse=i.serverResponse,s}return n}function zB(t,e,n){const r=e.fullServerUrl(),i=cu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Aa(i,s,y0(t,n),o);return a.errorHandler=_0(e),a}function KB(t,e,n){const r=e.fullServerUrl(),i=cu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Aa(i,s,qB(t,n),o);return a.errorHandler=_0(e),a}function YB(t,e){const n=e.fullServerUrl(),r=cu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Aa(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=_0(e),a}function GB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $k(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=GB(null,e)),r}function QB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let S=0;S<2;S++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=$k(e,r,i),c=Fk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Xs.getBlob(h,r,f);if(p===null)throw Ak();const g={name:u.fullPath},y=cu(s,t.host,t._protocol),C="POST",R=t.maxUploadRetryTime,k=new Aa(y,C,y0(t,n),R);return k.urlParams=g,k.headers=o,k.body=p.uploadData(),k.errorHandler=Md(e),k}class Wf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function b0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ws(!1)}return ws(!!n&&(e||["active"]).indexOf(n)!==-1),n}function XB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=$k(e,r,i),a={name:o.fullPath},l=cu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Fk(o,n),f=t.maxUploadRetryTime;function p(y){b0(y);let C;try{C=y.getResponseHeader("X-Goog-Upload-URL")}catch{ws(!1)}return ws(om(C)),C}const g=new Aa(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Md(e),g}function JB(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=b0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ws(!1)}h||ws(!1);const f=Number(h);return ws(!isNaN(f)),new Wf(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Aa(n,o,s,a);return l.headers=i,l.errorHandler=Md(e),l}const Y1=256*1024;function ZB(t,e,n,r,i,s,o,a){const l=new Wf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw fB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(h,f);if(y===null)throw Ak();function C(S,M){const L=b0(S,["active","final"]),I=l.current+c,E=r.size();let _;return L==="final"?_=y0(e,s)(S,M):_=null,new Wf(I,E,L==="final",_)}const R="POST",k=e.maxUploadRetryTime,w=new Aa(n,R,C,k);return w.headers=g,w.body=y.uploadData(),w.progressCallback=a||null,w.errorHandler=Md(t),w}const Nr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _g(t){switch(t){case"running":case"pausing":case"canceling":return Nr.RUNNING;case"paused":return Nr.PAUSED;case"success":return Nr.SUCCESS;case"canceled":return Nr.CANCELED;case"error":return Nr.ERROR;default:return Nr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r){if(wB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class t5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Du("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Du("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Du("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Du("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Du("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class n5 extends t5{initXhr(){this.xhr_.responseType="text"}}function Bo(){return new n5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Lk(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(kk(i.status,[]))if(s)i=Sk();else{this.sleepTime=Math.max(this.sleepTime*2,iB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=XB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=JB(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Bo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Y1*this._chunkMultiplier,n=new Wf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=ZB(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Bo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Y1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=zB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=QB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ck(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_g(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new e5(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_g(this._state)){case Nr.SUCCESS:ja(this._resolve.bind(null,this.snapshot))();break;case Nr.CANCELED:case Nr.ERROR:const n=this._reject;ja(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_g(this._state)){case Nr.RUNNING:case Nr.PAUSED:e.next&&ja(e.next.bind(e,this.snapshot))();break;case Nr.SUCCESS:e.complete&&ja(e.complete.bind(e))();break;case Nr.CANCELED:case Nr.ERROR:e.error&&ja(e.error.bind(e,this._error))();break;default:e.error&&ja(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this._service=e,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new da(e,n)}get root(){const e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mk(this._location.path)}get storage(){return this._service}get parent(){const e=FB(this._location.path);if(e===null)return null;const n=new Gr(this._location.bucket,e);return new da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gB(e)}}function i5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new r5(t,new Xs(e),n)}function s5(t){t._throwIfRoot("getDownloadURL");const e=KB(t.storage,t._location,Lk());return t.storage.makeRequestWithTokens(e,Bo).then(n=>{if(n===null)throw pB();return n})}function o5(t){t._throwIfRoot("deleteObject");const e=YB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Bo)}function a5(t,e){const n=$B(t._location.path,e),r=new Gr(t._location.bucket,n);return new da(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){return/^[A-Za-z]+:\/\//.test(t)}function u5(t,e){return new da(t,e)}function Uk(t,e){if(t instanceof w0){const n=t;if(n._bucket==null)throw hB();const r=new da(n,n._bucket);return e!=null?Uk(r,e):r}else return e!==void 0?a5(t,e):t}function c5(t,e){if(e&&l5(e)){if(t instanceof w0)return u5(t,e);throw ey("To use ref(service, url), the first argument must be a Storage instance.")}else return Uk(t,e)}function G1(t,e){const n=e==null?void 0:e[Ik];return n==null?null:Gr.makeFromBucketSpec(n,t)}function d5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:rO(i,t.app.options.projectId))}class w0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ek,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nB,this._maxUploadRetryTime=rB,this._requests=new Set,i!=null?this._bucket=Gr.makeFromBucketSpec(i,this._host):this._bucket=G1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=G1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new vB(Ok());{const o=OB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Q1="@firebase/storage",X1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="storage";function h5(t,e,n){return t=Dt(t),i5(t,e,n)}function _re(t){return t=Dt(t),s5(t)}function f5(t){return t=Dt(t),o5(t)}function p5(t,e){return t=Dt(t),c5(t,e)}function m5(t=Cd(),e){t=Dt(t);const r=xs(t,Bk).getImmediate({identifier:e}),i=tO("storage");return i&&g5(r,...i),r}function g5(t,e,n,r={}){d5(t,e,n,r)}function v5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new w0(n,r,i,e,Ao)}function y5(){jr(new Dr(Bk,v5,"PUBLIC").setMultipleInstances(!0)),er(Q1,X1,""),er(Q1,X1,"esm2017")}y5();let Ph;const _5=new Uint8Array(16);function b5(){if(!Ph&&(Ph=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ph))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ph(_5)}const Kn=[];for(let t=0;t<256;++t)Kn.push((t+256).toString(16).slice(1));function w5(t,e=0){return Kn[t[e+0]]+Kn[t[e+1]]+Kn[t[e+2]]+Kn[t[e+3]]+"-"+Kn[t[e+4]]+Kn[t[e+5]]+"-"+Kn[t[e+6]]+Kn[t[e+7]]+"-"+Kn[t[e+8]]+Kn[t[e+9]]+"-"+Kn[t[e+10]]+Kn[t[e+11]]+Kn[t[e+12]]+Kn[t[e+13]]+Kn[t[e+14]]+Kn[t[e+15]]}const T5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),J1={randomUUID:T5};function E5(t,e,n){if(J1.randomUUID&&!e&&!t)return J1.randomUUID();t=t||{};const r=t.random||(t.rng||b5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return w5(r)}const Yn=class Yn{constructor(e,n,r={},i,s){os(this,"errorCode");this.errorCode=s,Yn.log(r.debug,n),r.route&&GD.push({name:r.route}),$2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};os(Yn,"success",(e,n={})=>new Yn("Success",e,n)),os(Yn,"update",(e,n={})=>new Yn("Warning",e,n,"Update")),os(Yn,"warning",(e,n={})=>new Yn("Warning",e,n)),os(Yn,"error",(e,n={})=>new Yn("Error",e,n)),os(Yn,"generalError",(e,n,r)=>new Yn("Error",(n==null?void 0:n.message)||jk,{debug:e},void 0,r)),os(Yn,"firebaseError",(e,n)=>{Yn.log(e,n);let r;return n instanceof ti&&Object.keys(kh).includes(n.code)?(r=n.code,n.message=kh[r]):n instanceof Error&&Object.keys(kh).includes(n.name)?(r=n.name,n.message=kh[r]):n.message=void 0,Yn.generalError(e,n,r)}),os(Yn,"log",(e,n)=>{e&&console.log(n)});let Ve=Yn;const jk="Something went wrong";var Hk=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(Hk||{});const Z1=t=>Object.values(Hk).includes(t),kh={"":jk,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};function T0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I5=Wk,qk=new Co("auth","Firebase",Wk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new su("@firebase/auth");function S5(t,...e){qf.logLevel<=ht.WARN&&qf.warn(`Auth (${Ao}): ${t}`,...e)}function ef(t,...e){qf.logLevel<=ht.ERROR&&qf.error(`Auth (${Ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw E0(t,...e)}function Qi(t,...e){return E0(t,...e)}function zk(t,e,n){const r=Object.assign(Object.assign({},I5()),{[e]:n});return new Co("auth","Firebase",r).create(e,{appName:t.name})}function Xi(t){return zk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qk.create(t,...e)}function Je(t,e,...n){if(!t)throw E0(e,...n)}function ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ef(e),new Error(e)}function Ps(t,e){t||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function C5(){return eE()==="http:"||eE()==="https:"}function eE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C5()||iO()||"connection"in navigator)?navigator.onLine:!0}function O5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=y_()||sO()}get(){return A5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new Ld(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return Yk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=iu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return aF()||(u.referrerPolicy="no-referrer"),Kk.fetch()(Gk(t,t.config.apiHost,n,a),u)})}async function Yk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},P5),e);try{const i=new D5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Rh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Rh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zk(t,c,u);Ni(t,c)}}catch(i){if(i instanceof ti)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function Vd(t,e,n,r,i={}){const s=await ns(t,e,n,r,i);return"mfaPendingCredential"in s&&Ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Gk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?I0(t.config,i):`${t.config.apiScheme}://${i}`}function R5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),k5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function tE(t){return t!==void 0&&t.enterprise!==void 0}class x5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function N5(t,e){return ns(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Qk(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L5(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=S0(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mc(bg(i.auth_time)),issuedAtTime:mc(bg(i.iat)),expirationTime:mc(bg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bg(t){return Number(t)*1e3}function S0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pf(n);return i?JSON.parse(i):(ef("Failed to decode base64 JWT payload"),null)}catch(i){return ef("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nE(t){const e=S0(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&V5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jl(t,Qk(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Xk(s.providerUserInfo):[],a=U5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ny(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function $5(t){const e=Dt(t);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xk(t){return t.map(e=>{var{providerId:n}=e,r=T0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){const n=await Yk(t,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Gk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j5(t,e){return ns(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=nE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await B5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _l;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=T0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L5(this,e)}reload(){return $5(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await jl(this,M5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:S,isAnonymous:M,providerData:L,stsTokenManager:I}=n;Je(w&&I,e,"internal-error");const E=_l.fromJSON(this.name,I);Je(typeof w=="string",e,"internal-error"),Us(h,e.name),Us(f,e.name),Je(typeof S=="boolean",e,"internal-error"),Je(typeof M=="boolean",e,"internal-error"),Us(p,e.name),Us(g,e.name),Us(y,e.name),Us(C,e.name),Us(R,e.name),Us(k,e.name);const _=new gs({uid:w,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:R,lastLoginAt:k});return L&&Array.isArray(L)&&(_.providerData=L.map(v=>Object.assign({},v))),C&&(_._redirectEventId=C),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Xk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _l;a.updateFromIdToken(r);const l=new gs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ny(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function vs(t){Ps(t instanceof Function,"Expected a class definition");let e=rE.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jk.type="NONE";const iE=Jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tf(this.userKey,i.apiKey,s),this.fullPersistenceKey=tf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(vs(iE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||vs(iE);const o=tf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=gs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new bl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iR(e))return"Blackberry";if(sR(e))return"Webos";if(eR(e))return"Safari";if((e.includes("chrome/")||tR(e))&&!e.includes("edge/"))return"Chrome";if(rR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zk(t=br()){return/firefox\//i.test(t)}function eR(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tR(t=br()){return/crios\//i.test(t)}function nR(t=br()){return/iemobile/i.test(t)}function rR(t=br()){return/android/i.test(t)}function iR(t=br()){return/blackberry/i.test(t)}function sR(t=br()){return/webos/i.test(t)}function C0(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H5(t=br()){var e;return C0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W5(){return lF()&&document.documentMode===10}function oR(t=br()){return C0(t)||rR(t)||sR(t)||iR(t)||/windows phone/i.test(t)||nR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e=[]){let n;switch(t){case"Browser":n=sE(br());break;case"Worker":n=`${sE(br())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e={}){return ns(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=6;class Y5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:K5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new q5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qk(this,{idToken:e}),r=await gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Xi(this));const n=e?Dt(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z5(this),n=new Y5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await j5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&S5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oa(t){return Dt(t)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vF(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q5(t){am=t}function lR(t){return am.loadJS(t)}function X5(){return am.recaptchaEnterpriseScript}function J5(){return am.gapiScript}function Z5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ej="recaptcha-enterprise",tj="NO_RECAPTCHA";class nj{constructor(e){this.type=ej,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{N5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new x5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;tE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(tj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&tE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=X5();l.length!==0&&(l+=a),lR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function aE(t,e,n,r=!1){const i=new nj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await aE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await aE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){const n=xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Uc(s,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function ij(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function sj(t,e){return ns(t,"POST","/v1/accounts:update",e)}async function oj(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return Vd(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function lj(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",Ns(t,e))}async function uj(t,e){return lj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e){return Vd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function dj(t,e){return Vd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends A0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kf(e,n,"signInWithPassword",aj);case"emailLink":return cj(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kf(e,r,"signUpPassword",oj);case"emailLink":return dj(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return Vd(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="http://localhost";class ha extends A0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=T0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ha(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:hj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pj(t){const e=qu(zu(t)).link,n=e?qu(zu(e)).deep_link_id:null,r=qu(zu(t)).deep_link_id;return(r?qu(zu(r)).link:null)||r||n||e||t}class O0{constructor(e){var n,r,i,s,o,a;const l=qu(zu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=fj((i=l.mode)!==null&&i!==void 0?i:null);Je(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=pj(e);try{return new O0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=O0.parseLink(n);return Je(r,"argument-error"),Jc._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends uR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Fd{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Fd{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Fd{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return Vd(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await gs._fromIdTokenResponse(e,r,i),o=lE(r);return new fa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lE(r);return new fa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yf(e,n,r,i)}}function cR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(t,s,e,r):s})}async function gj(t,e,n=!1){const r=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,n=!1){const{auth:r}=t;if(Ti(r.app))return Promise.reject(Xi(r));const i="reauthenticate";try{const s=await jl(t,cR(r,i,e,t),n);Je(s.idToken,r,"internal-error");const o=S0(s.idToken);Je(o,r,"internal-error");const{sub:a}=o;return Je(t.uid===a,r,"user-mismatch"),fa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e,n=!1){if(Ti(t.app))return Promise.reject(Xi(t));const r="signIn",i=await cR(t,r,e),s=await fa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function vj(t,e){return hR(Oa(t),e)}async function uE(t,e){return dR(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e,n){var r;Je(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _j(t,e,n){const r=Oa(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&yj(r,i,n),await Kf(r,i,"getOobCode",uj)}async function bj(t,e,n){if(Ti(t.app))return Promise.reject(Xi(t));const r=Oa(t),o=await Kf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fR(t),l}),a=await fa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function wj(t,e,n){return Ti(t.app)?Promise.reject(Xi(t)):vj(Dt(t),wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fR(t),r})}function Tj(t,e){const n=Dt(t);return Ti(n.auth.app)?Promise.reject(Xi(n.auth)):pR(n,e,null)}function Ej(t,e){return pR(Dt(t),null,e)}async function pR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await jl(t,sj(r,s));await t._updateTokensIfNecessary(o,!0)}function Ij(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Sj(t){return Dt(t).signOut()}async function Cj(t){return Dt(t).delete()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=1e3,Oj=10;class gR extends mR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);W5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Oj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Aj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gR.type="LOCAL";const Pj=gR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends mR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vR.type="SESSION";const yR=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await kj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=P0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function Dj(t){Ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function xj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Mj(){return _R()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebaseLocalStorageDb",Lj=1,Qf="firebaseLocalStorage",wR="fbase_key";class $d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(t,e){return t.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function Vj(){const t=indexedDB.deleteDatabase(bR);return new $d(t).toPromise()}function ry(){const t=indexedDB.open(bR,Lj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qf,{keyPath:wR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await Vj(),e(await ry()))})})}async function cE(t,e,n){const r=um(t,!0).put({[wR]:e,value:n});return new $d(r).toPromise()}async function Fj(t,e){const n=um(t,!1).get(e),r=await new $d(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=um(t,!0).delete(e);return new $d(n).toPromise()}const $j=800,Uj=3;class TR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Uj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _R()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(Mj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xj(),!this.activeServiceWorker)return;this.sender=new Rj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await cE(e,Gf,"1"),await dE(e,Gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Fj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=um(i,!1).getAll();return new $d(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TR.type="LOCAL";const Bj=TR;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e){return e?vs(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends A0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hj(t){return hR(t.auth,new k0(t),t.bypassAuthState)}function Wj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),dR(n,new k0(t),t.bypassAuthState)}async function qj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),gj(n,new k0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hj;case"linkViaPopup":case"linkViaRedirect":return qj;case"reauthViaPopup":case"reauthViaRedirect":return Wj;default:Ni(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Ld(2e3,1e4);class rl extends ER{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=P0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zj.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="pendingRedirect",nf=new Map;class Yj extends ER{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const r=await Gj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gj(t,e){const n=Jj(e),r=Xj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qj(t,e){nf.set(t._key(),e)}function Xj(t){return vs(t._redirectPersistence)}function Jj(t){return tf(Kj,t.config.apiKey,t.name)}async function Zj(t,e,n=!1){if(Ti(t.app))return Promise.reject(Xi(t));const r=Oa(t),i=jj(r,e),o=await new Yj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=10*60*1e3;class tH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eH&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sH=/^https?/;async function oH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rH(t);for(const n of e)try{if(aH(n))return}catch{}Ni(t,"unauthorized-domain")}function aH(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sH.test(n))return!1;if(iH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=new Ld(3e4,6e4);function fE(){const t=Ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uH(t){return new Promise((e,n)=>{var r,i,s;function o(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),n(Qi(t,"network-request-failed"))},timeout:lH.get()})}if(!((i=(r=Ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ji().gapi)===null||s===void 0)&&s.load)o();else{const a=Z5("iframefcb");return Ji()[a]=()=>{gapi.load?o():n(Qi(t,"network-request-failed"))},lR(`${J5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rf=null,e})}let rf=null;function cH(t){return rf=rf||uH(t),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=new Ld(5e3,15e3),hH="__/auth/iframe",fH="emulator/auth/iframe",pH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gH(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I0(e,fH):`https://${t.config.authDomain}/${hH}`,r={apiKey:e.apiKey,appName:t.name,v:Ao},i=mH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${iu(r).slice(1)}`}async function vH(t){const e=await cH(t),n=Ji().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:gH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qi(t,"network-request-failed"),a=Ji().setTimeout(()=>{s(o)},dH.get());function l(){Ji().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_H=500,bH=600,wH="_blank",TH="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EH(t,e,n,r=_H,i=bH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=br().toLowerCase();n&&(a=tR(u)?wH:n),Zk(u)&&(e=e||TH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(H5(u)&&a!=="_self")return IH(e||"",a),new pE(null);const h=window.open(e||"",a,c);Je(h,t,"popup-blocked");try{h.focus()}catch{}return new pE(h)}function IH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="__/auth/handler",CH="emulator/auth/handler",AH=encodeURIComponent("fac");async function mE(t,e,n,r,i,s){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ao,eventId:i};if(e instanceof uR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Cv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Fd){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${AH}=${encodeURIComponent(l)}`:"";return`${OH(t)}?${iu(a).slice(1)}${u}`}function OH({config:t}){return t.emulator?I0(t,CH):`https://${t.authDomain}/${SH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="webStorageSupport";class PH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yR,this._completeRedirectFn=Zj,this._overrideRedirectResult=Qj}async _openPopup(e,n,r,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await mE(e,n,r,ty(),i);return EH(e,o,P0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await mE(e,n,r,ty(),i);return Dj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vH(e),r=new tH(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wg,{type:wg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wg];o!==void 0&&n(!!o),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oR()||eR()||C0()}}const kH=PH;var gE="@firebase/auth",vE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xH(t){jr(new Dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aR(t)},u=new G5(r,i,s,l);return ij(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new Dr("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new RH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(gE,vE,DH(t)),er(gE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=5*60;sF("authIdTokenMaxAge");function MH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",MH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xH("Browser");const SR=Symbol("firebaseApp");function R0(t){return ei()&&kr(SR,null)||Cd(t)}const LH=typeof window<"u",Dh=new WeakMap;function VH(t,e){if(!Dh.has(t)){const n=Yy(!0);Dh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Dh.delete(t)}}return Dh.get(t)}const CR=new WeakMap;function FH(t){return CR.get(R0(t))}const xh=new WeakMap;function $H(t){const e=R0(t);if(!xh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{xh.set(e,s),n(s.value)}];xh.set(e,i)}return xh.get(e)}function UH(t,e){Ij(e,n=>{const r=$H();t.value=n,Array.isArray(r)&&r[1](t)})}var yE={};const _E="@firebase/database",bE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR="";function BH(t){AR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$c(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jH(e)}}catch{}return new HH},qo=OR("localStorage"),iy=OR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new su("@firebase/database"),WH=function(){let t=1;return function(){return t++}}(),PR=function(t){const e=wF(t),n=new gF;n.update(e);const r=n.digest();return Dp.encodeByteArray(r)},Ud=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ud.apply(null,r):typeof r=="object"?e+=Gn(r):e+=r,e+=" "}return e};let Jo=null,wE=!0;const qH=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Tl.logLevel=ht.VERBOSE,Jo=Tl.log.bind(Tl),e&&iy.set("logging_enabled",!0)):typeof t=="function"?Jo=t:(Jo=null,iy.remove("logging_enabled"))},dr=function(...t){if(wE===!0&&(wE=!1,Jo===null&&iy.get("logging_enabled")===!0&&qH(!0)),Jo){const e=Ud.apply(null,t);Jo(e)}},Bd=function(t){return function(...e){dr(t,...e)}},sy=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ud(...t);Tl.error(e)},pa=function(...t){const e=`FIREBASE FATAL ERROR: ${Ud(...t)}`;throw Tl.error(e),new Error(e)},Zr=function(...t){const e="FIREBASE WARNING: "+Ud(...t);Tl.warn(e)},zH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},KH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hl="[MIN_NAME]",ma="[MAX_NAME]",du=function(t,e){if(t===e)return 0;if(t===Hl||e===ma)return-1;if(e===Hl||t===ma)return 1;{const n=TE(t),r=TE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},YH=function(t,e){return t===e?0:t<e?-1:1},xu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Gn(e))},D0=function(t){if(typeof t!="object"||t===null)return Gn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Gn(e[r]),n+=":",n+=D0(t[e[r]]);return n+="}",n},RR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function di(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DR=function(t){ke(!kR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},GH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},XH=new RegExp("^-?(0*)\\d{1,10}$"),JH=-2147483648,ZH=2147483647,TE=function(t){if(XH.test(t)){const e=Number(t);if(e>=JH&&e<=ZH)return e}return null},jd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Zr("Exception was thrown by user callback.",n),e},Math.floor(0))}},e7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Zr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zr(e)}}class oy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}oy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="5",xR="v",NR="s",MR="r",LR="f",VR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FR="ls",$R="p",ay="ac",UR="websocket",BR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function i7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function jR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===UR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);i7(t)&&(n.ns=t.namespace);const i=[];return di(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.counters_={}}incrementCounter(e,n=1){Ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ZV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg={},Eg={};function N0(t){const e=t.toString();return Tg[e]||(Tg[e]=new s7),Tg[e]}function o7(t,e){const n=t.toString();return Eg[n]||(Eg[n]=e()),Eg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&jd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="start",l7="close",u7="pLPCommand",c7="pRTLPCB",HR="id",WR="pw",qR="ser",d7="cb",h7="seg",f7="ts",p7="d",m7="dframe",zR=1870,KR=30,g7=zR-KR,v7=25e3,y7=3e4;class il{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bd(e),this.stats_=N0(n),this.urlFn=l=>(this.appCheckToken&&(l[ay]=this.appCheckToken),jR(n,BR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(y7)),KH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new M0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===EE)this.id=a,this.password=l;else if(o===l7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[EE]="t",r[qR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[d7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[xR]=x0,this.transportSessionId&&(r[NR]=this.transportSessionId),this.lastSessionId&&(r[FR]=this.lastSessionId),this.applicationId&&(r[$R]=this.applicationId),this.appCheckToken&&(r[ay]=this.appCheckToken),typeof location<"u"&&location.hostname&&VR.test(location.hostname)&&(r[MR]=LR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){il.forceAllow_=!0}static forceDisallow(){il.forceDisallow_=!0}static isAvailable(){return il.forceAllow_?!0:!il.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!GH()&&!QH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=JA(n),i=RR(r,g7);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[m7]="t",r[HR]=e,r[WR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class M0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WH(),window[u7+this.uniqueCallbackIdentifier]=e,window[c7+this.uniqueCallbackIdentifier]=n,this.myIFrame=M0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dr("frame writing exception"),a.stack&&dr(a.stack),dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[HR]=this.myID,e[WR]=this.myPW,e[qR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+KR+r.length<=zR;){const o=this.pendingSegs.shift();r=r+"&"+h7+i+"="+o.seg+"&"+f7+i+"="+o.ts+"&"+p7+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(v7)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=16384,b7=45e3;let Xf=null;typeof MozWebSocket<"u"?Xf=MozWebSocket:typeof WebSocket<"u"&&(Xf=WebSocket);class bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bd(this.connId),this.stats_=N0(n),this.connURL=bi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[xR]=x0,typeof location<"u"&&location.hostname&&VR.test(location.hostname)&&(o[MR]=LR),n&&(o[NR]=n),r&&(o[FR]=r),i&&(o[ay]=i),s&&(o[$R]=s),jR(e,UR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qo.set("previous_websocket_failure",!0);try{let r;oO(),this.mySock=new Xf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Xf!==null&&!bi.forceDisallow_}static previouslyFailed(){return qo.isInMemoryStorage||qo.get("previous_websocket_failure")===!0}markConnectionHealthy(){qo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$c(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RR(n,_7);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(b7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[il,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=bi&&bi.isAvailable();let r=n&&!bi.previouslyFailed();if(e.webSocketOnly&&(n||Zr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bi];else{const i=this.transports_=[];for(const s of Zc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Zc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=6e4,T7=5e3,E7=10*1024,I7=100*1024,Ig="t",IE="d",S7="s",SE="r",C7="e",CE="o",AE="a",OE="n",PE="p",A7="h";class O7{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bd("c:"+this.id+":"),this.transportManager_=new Zc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=gc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>I7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>E7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ig in e){const n=e[Ig];n===AE?this.upgradeIfSecondaryHealthy_():n===SE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===CE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xu("t",e),r=xu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:AE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:OE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xu("t",e),r=xu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xu(Ig,e);if(IE in e){const r=e[IE];if(n===A7){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===OE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===S7?this.onConnectionShutdown_(r):n===SE?this.onReset_(r):n===C7?sy("Server Error: "+r):n===CE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),x0!==r&&Zr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(w7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(T7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends GR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!y_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jf}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=32,RE=768;class un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Bt(){return new un("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function To(t){return t.pieces_.length-t.pieceNum_}function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function QR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function P7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function XR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function JR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new un(e,0)}function Bn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new un(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function oi(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return oi(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ZR(t,e){if(To(t)!==To(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(To(t)>To(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class k7{constructor(e,n){this.errorPrefix_=n,this.parts_=XR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Mp(this.parts_[r]);eD(this)}}function R7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mp(e),eD(t)}function D7(t){const e=t.parts_.pop();t.byteLength_-=Mp(e),t.parts_.length>0&&(t.byteLength_-=1)}function eD(t){if(t.byteLength_>RE)throw new Error(t.errorPrefix_+"has a key path longer than "+RE+" bytes ("+t.byteLength_+").");if(t.parts_.length>kE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kE+") or object contains a cycle "+Fo(t))}function Fo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends GR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new L0}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=1e3,x7=60*5*1e3,DE=30*1e3,N7=1.3,M7=3e4,L7="server_kill",xE=3;class Ts extends YR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ts.nextPersistentConnectionId_++,this.log_=Bd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nu,this.maxReconnectDelay_=x7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!oO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");L0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Gn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new sa,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Ts.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ds(e,"w")){const r=xl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Zr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=DE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):sy("Unrecognized action received from server: "+Gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>M7&&(this.reconnectDelay_=Nu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*N7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ts.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new O7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Zr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(L7)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Zr(h),l())}}}interrupt(e){dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cv(this.interruptReasons_)&&(this.reconnectDelay_=Nu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>D0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xE&&(this.reconnectDelay_=DE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+AR.replace(/\./g,"-")]=1,y_()?e["framework.cordova"]=1:sO()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jf.getInstance().currentlyOnline();return Cv(this.interruptReasons_)&&e}}Ts.nextPersistentConnectionId_=0;Ts.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Hl,e),i=new Tt(Hl,n);return this.compare(r,i)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;class tD extends cm{static get __EMPTY_NODE(){return Nh}static set __EMPTY_NODE(e){Nh=e}compare(e,n){return du(e.name,n.name)}isDefinedOn(e){throw ru("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(ma,Nh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,Nh)}toString(){return".key"}}const El=new tD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Un.RED,this.left=i??$r.EMPTY_NODE,this.right=s??$r.EMPTY_NODE}copy(e,n,r,i,s){return new Un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return $r.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return $r.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Un.RED=!0;Un.BLACK=!1;class V7{copy(e,n,r,i,s){return this}insert(e,n,r){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $r{constructor(e,n=$r.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $r(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new $r(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Mh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Mh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Mh(this.root_,null,this.comparator_,!0,e)}}$r.EMPTY_NODE=new V7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t,e){return du(t.name,e.name)}function V0(t,e){return du(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ly;function $7(t){ly=t}const nD=function(t){return typeof t=="number"?"number:"+DR(t):"string:"+t},rD=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ds(e,".sv"),"Priority must be a string or number.")}else ke(t===ly||t.isEmpty(),"priority of unexpected type.");ke(t===ly||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NE;class Fn{constructor(e,n=Fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rD(this.priorityNode_)}static set __childrenNodeConstructor(e){NE=e}static get __childrenNodeConstructor(){return NE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:wt(e)===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||To(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DR(this.value_):e+=this.value_,this.lazyHash_=PR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fn.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fn.VALUE_TYPE_ORDER.indexOf(n),s=Fn.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iD,sD;function U7(t){iD=t}function B7(t){sD=t}class j7 extends cm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?du(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(ma,new Fn("[PRIORITY-POST]",sD))}makePost(e,n){const r=iD(e);return new Tt(n,new Fn("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new j7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=Math.log(2);class W7{constructor(e){const n=s=>parseInt(Math.log(s)/H7,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zf=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Un(f,h.node,Un.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),y=i(p+1,u);return h=t[p],f=n?n(h):h,new Un(f,h.node,Un.BLACK,g,y)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,y){const C=h-g,R=h;h-=g;const k=i(C+1,R),w=t[C],S=n?n(w):w;p(new Un(S,w.node,y,null,k))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const y=l.nextBitIsOne(),C=Math.pow(2,l.count-(g+1));y?f(C,Un.BLACK):(f(C,Un.BLACK),f(C,Un.RED))}return c},o=new W7(t.length),a=s(o);return new $r(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg;const Ha={};class ys{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(Ha&&mr,"ChildrenNode.ts has not been loaded"),Sg=Sg||new ys({".priority":Ha},{".priority":mr}),Sg}get(e){const n=xl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $r?n:null}hasIndex(e){return Ds(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==El,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Zf(r,e.getCompare()):a=Ha;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new ys(c,u)}addToIndexes(e,n){const r=kf(this.indexes_,(i,s)=>{const o=xl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===Ha)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Tt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Zf(a,o.getCompare())}else return Ha;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Tt(e.name,a))),l.insert(e,e.node)}});return new ys(r,this.indexSet_)}removeFromIndexes(e,n){const r=kf(this.indexes_,i=>{if(i===Ha)return i;{const s=n.get(e.name);return s?i.remove(new Tt(e.name,s)):i}});return new ys(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rD(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Mu||(Mu=new Vt(new $r(V0),null,ys.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Mu:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Mu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{ke(wt(e)!==".priority"||To(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(mr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+nD(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":PR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hd?-1:0}withIndex(e){if(e===El||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===El||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),i=n.getIterator(mr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===El?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class q7 extends Vt{constructor(){super(new $r(V0),Vt.EMPTY_NODE,ys.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const Hd=new q7;Object.defineProperties(Tt,{MIN:{value:new Tt(Hl,Vt.EMPTY_NODE)},MAX:{value:new Tt(ma,Hd)}});tD.__EMPTY_NODE=Vt.EMPTY_NODE;Fn.__childrenNodeConstructor=Vt;$7(Hd);B7(Hd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=!0;function hr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fn(n,hr(e))}if(!(t instanceof Array)&&z7){const n=[];let r=!1;if(di(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=hr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Tt(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=Zf(n,F7,o=>o.name,V0);if(r){const o=Zf(n,mr.getCompare());return new Vt(s,hr(e),new ys({".priority":o},{".priority":mr}))}else return new Vt(s,hr(e),ys.Default)}else{let n=Vt.EMPTY_NODE;return di(t,(r,i)=>{if(Ds(t,r)&&r.substring(0,1)!=="."){const s=hr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(hr(e))}}U7(hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7 extends cm{constructor(e){super(),this.indexPath_=e,ke(!gt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?du(e.name,n.name):s}makePost(e,n){const r=hr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,Hd);return new Tt(ma,e)}toString(){return XR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7 extends cm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?du(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=hr(e);return new Tt(n,r)}toString(){return".value"}}const G7=new Y7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){return{type:"value",snapshotNode:t}}function X7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function J7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ME(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Z7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hl}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new F0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===G7?n="$value":t.index_===El?n="$key":(ke(t.index_ instanceof K7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Gn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Gn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Gn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Gn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function VE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends YR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ep.getListenId_(e,r),a={};this.listens_[o]=a;const l=LE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),xl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=ep.getListenId_(e,n);delete this.listens_[r]}get(e){const n=LE(e._queryParams),r=e._path.toString(),i=new sa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+iu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=$c(a.responseText)}catch{Zr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Zr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){return{value:null,children:new Map}}function oD(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,tp());const i=t.children.get(r);e=sn(e),oD(i,e,n)}}function uy(t,e,n){t.value!==null?n(e,t.value):t8(t,(r,i)=>{const s=new un(e.toString()+"/"+r);uy(i,s,n)})}function t8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&di(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=10*1e3,r8=30*1e3,i8=5*60*1e3;class s8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new n8(e);const r=FE+(r8-FE)*Math.random();gc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;di(e,(i,s)=>{s>0&&Ds(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),gc(this.reportStats_.bind(this),Math.floor(Math.random()*2*i8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function aD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=aD()}operationForChild(e){if(gt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new un(e));return new np(Bt(),n,this.revert)}}else return ke(wt(this.path)===e,"operationForChild called for unrelated child."),new np(sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}operationForChild(e){return gt(this.path)?new ga(this.source,Bt(),this.snap.getImmediateChild(e)):new ga(this.source,sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new un(e));return n.isEmpty()?null:n.value?new ga(this.source,Bt(),n.value):new ed(this.source,Bt(),n)}else return ke(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ed(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function o8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Z7(o.childName,o.snapshotNode))}),Lu(t,i,"child_removed",e,r,n),Lu(t,i,"child_added",e,r,n),Lu(t,i,"child_moved",s,r,n),Lu(t,i,"child_changed",e,r,n),Lu(t,i,"value",e,r,n),i}function Lu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>l8(t,a,l)),o.forEach(a=>{const l=a8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function a8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function l8(t,e,n){if(e.childName==null||n.childName==null)throw ru("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){return{eventCache:t,serverCache:e}}function vc(t,e,n,r){return cD(new $0(e,n,r),t.serverCache)}function dD(t,e,n,r){return cD(t.eventCache,new $0(e,n,r))}function cy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg;const u8=()=>(Cg||(Cg=new $r(YH)),Cg);class rn{constructor(e,n=u8()){this.value=e,this.children=n}static fromObject(e){let n=new rn(null);return di(e,(r,i)=>{n=n.set(new un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Bt(),value:this.value};if(gt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sn(e),n);return s!=null?{path:Bn(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,n){if(gt(e))return new rn(n,this.children);{const r=wt(e),s=(this.children.get(r)||new rn(null)).set(sn(e),n),o=this.children.insert(r,s);return new rn(this.value,o)}}remove(e){if(gt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(sn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rn(null):new rn(this.value,s)}else return this}}get(e){if(gt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(gt(e))return n;{const r=wt(e),s=(this.children.get(r)||new rn(null)).setTree(sn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rn(this.value,o)}}fold(e){return this.fold_(Bt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Bn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Bt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(gt(e))return null;{const s=wt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),Bn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Bt(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=wt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),Bn(n,i),r):new rn(null)}}foreach(e){this.foreach_(Bt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Bn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.writeTree_=e}static empty(){return new Ci(new rn(null))}}function yc(t,e,n){if(gt(e))return new Ci(new rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=oi(i,e);return s=s.updateChild(o,n),new Ci(t.writeTree_.set(i,s))}else{const i=new rn(n),s=t.writeTree_.setTree(e,i);return new Ci(s)}}}function $E(t,e,n){let r=t;return di(n,(i,s)=>{r=yc(r,Bn(e,i),s)}),r}function UE(t,e){if(gt(e))return Ci.empty();{const n=t.writeTree_.setTree(e,new rn(null));return new Ci(n)}}function dy(t,e){return Pa(t,e)!=null}function Pa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(oi(n.path,e)):null}function BE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,i)=>{e.push(new Tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Tt(r,i.value))}),e}function uo(t,e){if(gt(e))return t;{const n=Pa(t,e);return n!=null?new Ci(new rn(n)):new Ci(t.writeTree_.subtree(e))}}function hy(t){return t.writeTree_.isEmpty()}function Wl(t,e){return hD(Bt(),t.writeTree_,e)}function hD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=hD(Bn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Bn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){return yD(e,t)}function c8(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=yc(t.visibleWrites,e,n)),t.lastWriteId=r}function d8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function h8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&f8(a,r.path)?i=!1:Ei(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return p8(t),!0;if(r.snap)t.visibleWrites=UE(t.visibleWrites,r.path);else{const a=r.children;di(a,l=>{t.visibleWrites=UE(t.visibleWrites,Bn(r.path,l))})}return!0}else return!1}function f8(t,e){if(t.snap)return Ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ei(Bn(t.path,n),e))return!0;return!1}function p8(t){t.visibleWrites=pD(t.allWrites,m8,Bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m8(t){return t.visible}function pD(t,e,n){let r=Ci.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ei(n,o)?(a=oi(n,o),r=yc(r,a,s.snap)):Ei(o,n)&&(a=oi(o,n),r=yc(r,Bt(),s.snap.getChild(a)));else if(s.children){if(Ei(n,o))a=oi(n,o),r=$E(r,a,s.children);else if(Ei(o,n))if(a=oi(o,n),gt(a))r=$E(r,Bt(),s.children);else{const l=xl(s.children,wt(a));if(l){const u=l.getChild(sn(a));r=yc(r,Bt(),u)}}}else throw ru("WriteRecord should have .snap or .children")}}return r}function mD(t,e,n,r,i){if(!r&&!i){const s=Pa(t.visibleWrites,e);if(s!=null)return s;{const o=uo(t.visibleWrites,e);if(hy(o))return n;if(n==null&&!dy(o,Bt()))return null;{const a=n||Vt.EMPTY_NODE;return Wl(o,a)}}}else{const s=uo(t.visibleWrites,e);if(!i&&hy(s))return n;if(!i&&n==null&&!dy(s,Bt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ei(u.path,e)||Ei(e,u.path))},a=pD(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return Wl(a,l)}}}function g8(t,e,n){let r=Vt.EMPTY_NODE;const i=Pa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(mr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=uo(t.visibleWrites,e);return n.forEachChild(mr,(o,a)=>{const l=Wl(uo(s,new un(o)),a);r=r.updateImmediateChild(o,l)}),BE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=uo(t.visibleWrites,e);return BE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function v8(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Bn(e,n);if(dy(t.visibleWrites,s))return null;{const o=uo(t.visibleWrites,s);return hy(o)?i.getChild(n):Wl(o,i.getChild(n))}}function y8(t,e,n,r){const i=Bn(e,n),s=Pa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=uo(t.visibleWrites,i);return Wl(o,r.getNode().getImmediateChild(n))}else return null}function _8(t,e){return Pa(t.visibleWrites,e)}function b8(t,e,n,r,i,s,o){let a;const l=uo(t.visibleWrites,e),u=Pa(l,Bt());if(u!=null)a=u;else if(n!=null)a=Wl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function w8(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function fy(t,e,n,r){return mD(t.writeTree,t.treePath,e,n,r)}function gD(t,e){return g8(t.writeTree,t.treePath,e)}function jE(t,e,n,r){return v8(t.writeTree,t.treePath,e,n,r)}function rp(t,e){return _8(t.writeTree,Bn(t.treePath,e))}function T8(t,e,n,r,i,s){return b8(t.writeTree,t.treePath,e,n,r,i,s)}function U0(t,e,n){return y8(t.writeTree,t.treePath,e,n)}function vD(t,e){return yD(Bn(t.treePath,e),t.writeTree)}function yD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ME(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,J7(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,X7(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ME(r,e.snapshotNode,i.oldSnap));else throw ru("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _D=new I8;class B0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return U0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=T8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function S8(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function C8(t,e,n,r,i){const s=new E8;let o,a;if(n.type===qi.OVERWRITE){const u=n;u.source.fromUser?o=py(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!gt(u.path),o=ip(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===qi.MERGE){const u=n;u.source.fromUser?o=O8(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=my(t,e,u.path,u.children,r,i,a,s))}else if(n.type===qi.ACK_USER_WRITE){const u=n;u.revert?o=R8(t,e,u.path,r,i,s):o=P8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===qi.LISTEN_COMPLETE)o=k8(t,e,n.path,r,s);else throw ru("Unknown operation type: "+n.type);const l=s.getChanges();return A8(e,o,l),{viewCache:o,changes:l}}function A8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=cy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Q7(cy(e)))}}function bD(t,e,n,r,i,s){const o=e.eventCache;if(rp(r,n)!=null)return e;{let a,l;if(gt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=va(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,h=gD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=fy(r,va(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=wt(n);if(u===".priority"){ke(To(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=jE(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=sn(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=jE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=U0(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return vc(e,a,o.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function ip(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(gt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&To(n)>1)return e;const g=sn(n),C=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),C):u=c.updateChild(l.getNode(),p,C,g,_D,null)}const h=dD(e,u,l.isFullyInitialized()||gt(n),c.filtersNodes()),f=new B0(i,h,s);return bD(t,h,n,i,f,a)}function py(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new B0(i,e,s);if(gt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=vc(e,u,!0,t.filter.filtersNodes());else{const h=wt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=vc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=sn(n),p=a.getNode().getImmediateChild(h);let g;if(gt(f))g=r;else{const y=c.getCompleteChild(h);y!=null?QR(f)===".priority"&&y.getChild(JR(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=Vt.EMPTY_NODE}if(p.equals(g))l=e;else{const y=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=vc(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function HE(t,e){return t.eventCache.isCompleteForChild(e)}function O8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Bn(n,l);HE(e,wt(c))&&(a=py(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Bn(n,l);HE(e,wt(c))||(a=py(t,a,c,u,i,s,o))}),a}function WE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function my(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;gt(n)?u=r:u=new rn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=WE(t,p,f);l=ip(t,l,new un(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),y=WE(t,g,f);l=ip(t,l,new un(h),y,i,s,o,a)}}),l}function P8(t,e,n,r,i,s,o){if(rp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(gt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ip(t,e,n,l.getNode().getChild(n),i,s,a,o);if(gt(n)){let u=new rn(null);return l.getNode().forEachChild(El,(c,h)=>{u=u.set(new un(c),h)}),my(t,e,n,u,i,s,a,o)}else return e}else{let u=new rn(null);return r.foreach((c,h)=>{const f=Bn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),my(t,e,n,u,i,s,a,o)}}function k8(t,e,n,r,i){const s=e.serverCache,o=dD(e,s.getNode(),s.isFullyInitialized()||gt(n),s.isFiltered());return bD(t,o,n,r,_D,i)}function R8(t,e,n,r,i,s){let o;if(rp(r,n)!=null)return e;{const a=new B0(r,e,i),l=e.eventCache.getNode();let u;if(gt(n)||wt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=fy(r,va(e));else{const h=e.serverCache.getNode();ke(h instanceof Vt,"serverChildren would be complete if leaf node"),c=gD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=wt(n);let h=U0(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,sn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,sn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=fy(r,va(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||rp(r,Bt())!=null,vc(e,u,o,t.filter.filtersNodes())}}function D8(t,e){const n=va(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function qE(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(ke(va(t.viewCache_),"We should always have a full cache before handling merges"),ke(cy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=C8(t.processor_,i,e,n,r);return S8(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,x8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function x8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return o8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zE;function N8(t){ke(!zE,"__referenceConstructor has already been defined"),zE=t}function j0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),qE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(qE(o,e,n,r));return s}}function H0(t,e){let n=null;for(const r of t.views.values())n=n||D8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KE;function M8(t){ke(!KE,"__referenceConstructor has already been defined"),KE=t}class YE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=w8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function L8(t,e,n,r,i){return c8(t.pendingWriteTree_,e,n,r,i),i?hm(t,new ga(aD(),e,n)):[]}function sl(t,e,n=!1){const r=d8(t.pendingWriteTree_,e);if(h8(t.pendingWriteTree_,e)){let s=new rn(null);return r.snap!=null?s=s.set(Bt(),!0):di(r.children,o=>{s=s.set(new un(o),!0)}),hm(t,new np(r.path,s,n))}else return[]}function dm(t,e,n){return hm(t,new ga(lD(),e,n))}function V8(t,e,n){const r=rn.fromObject(n);return hm(t,new ed(lD(),e,r))}function F8(t,e,n,r){const i=ID(t,r);if(i!=null){const s=SD(i),o=s.path,a=s.queryId,l=oi(o,e),u=new ga(uD(a),l,n);return CD(t,o,u)}else return[]}function $8(t,e,n,r){const i=ID(t,r);if(i){const s=SD(i),o=s.path,a=s.queryId,l=oi(o,e),u=rn.fromObject(n),c=new ed(uD(a),l,u);return CD(t,o,c)}else return[]}function wD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=oi(o,e),u=H0(a,l);if(u)return u});return mD(i,e,s,n,!0)}function hm(t,e){return TD(e,t.syncPointTree_,null,fD(t.pendingWriteTree_,Bt()))}function TD(t,e,n,r){if(gt(t.path))return ED(t,e,n,r);{const i=e.get(Bt());n==null&&i!=null&&(n=H0(i,Bt()));let s=[];const o=wt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=vD(r,o);s=s.concat(TD(a,l,u,c))}return i&&(s=s.concat(j0(i,t,r,n))),s}}function ED(t,e,n,r){const i=e.get(Bt());n==null&&i!=null&&(n=H0(i,Bt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=vD(r,o),c=t.operationForChild(o);c&&(s=s.concat(ED(c,a,l,u)))}),i&&(s=s.concat(j0(i,t,r,n))),s}function ID(t,e){return t.tagToQueryMap.get(e)}function SD(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function CD(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=fD(t.pendingWriteTree_,e);return j0(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new W0(n)}node(){return this.node_}}class q0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bn(this.path_,e);return new q0(this.syncTree_,n)}node(){return wD(this.syncTree_,this.path_)}}const U8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},GE=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return B8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return j8(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},B8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},j8=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},H8=function(t,e,n,r){return z0(e,new q0(n,t),r)},W8=function(t,e,n){return z0(t,new W0(e),n)};function z0(t,e,n){const r=t.getPriority().val(),i=GE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=GE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Fn(a,hr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fn(i))),o.forEachChild(mr,(a,l)=>{const u=z0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Y0(t,e){let n=e instanceof un?e:new un(e),r=t,i=wt(n);for(;i!==null;){const s=xl(r.node.children,i)||{children:{},childCount:0};r=new K0(i,r,s),n=sn(n),i=wt(n)}return r}function hu(t){return t.node.value}function AD(t,e){t.node.value=e,gy(t)}function OD(t){return t.node.childCount>0}function q8(t){return hu(t)===void 0&&!OD(t)}function fm(t,e){di(t.node.children,(n,r)=>{e(new K0(n,t,r))})}function PD(t,e,n,r){n&&!r&&e(t),fm(t,i=>{PD(i,e,!0,r)}),n&&r&&e(t)}function z8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wd(t){return new un(t.parent===null?t.name:Wd(t.parent)+"/"+t.name)}function gy(t){t.parent!==null&&K8(t.parent,t.name,t)}function K8(t,e,n){const r=q8(n),i=Ds(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,gy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,gy(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=/[\[\].#$\/\u0000-\u001F\u007F]/,G8=/[\[\].#$\u0000-\u001F\u007F]/,Ag=10*1024*1024,kD=function(t){return typeof t=="string"&&t.length!==0&&!Y8.test(t)},Q8=function(t){return typeof t=="string"&&t.length!==0&&!G8.test(t)},X8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Q8(t)},RD=function(t,e,n){const r=n instanceof un?new k7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fo(r)+" with contents = "+e.toString());if(kR(e))throw new Error(t+"contains "+e.toString()+" "+Fo(r));if(typeof e=="string"&&e.length>Ag/3&&Mp(e)>Ag)throw new Error(t+"contains a string greater than "+Ag+" utf8 bytes "+Fo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(di(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!kD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);R7(r,o),RD(t,a,r),D7(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fo(r)+" in addition to actual children.")}},J8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!X8(n))throw new Error(bF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eW(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ZR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ka(t,e,n){eW(t,n),tW(t,r=>Ei(r,e)||Ei(e,r))}function tW(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(nW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function nW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Jo&&dr("event: "+n.toString()),jd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW="repo_interrupt",iW=25;class sW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Z8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tp(),this.transactionQueueTree_=new K0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oW(t,e,n){if(t.stats_=N0(t.repoInfo_),t.forceRestClient_||e7())t.server_=new ep(t.repoInfo_,(r,i,s,o)=>{QE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>XE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ts(t.repoInfo_,e,(r,i,s,o)=>{QE(t,r,i,s,o)},r=>{XE(t,r)},r=>{lW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=o7(t.repoInfo_,()=>new s8(t.stats_,t.server_)),t.infoData_=new e8,t.infoSyncTree_=new YE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=dm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),G0(t,"connected",!1),t.serverSyncTree_=new YE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ka(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function aW(t){const n=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function DD(t){return U8({timestamp:aW(t)})}function QE(t,e,n,r,i){t.dataUpdateCount++;const s=new un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=kf(n,u=>hr(u));o=$8(t.serverSyncTree_,s,l,i)}else{const l=hr(n);o=F8(t.serverSyncTree_,s,l,i)}else if(r){const l=kf(n,u=>hr(u));o=V8(t.serverSyncTree_,s,l)}else{const l=hr(n);o=dm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=X0(t,s)),ka(t.eventQueue_,a,o)}function XE(t,e){G0(t,"connected",e),e===!1&&cW(t)}function lW(t,e){di(e,(n,r)=>{G0(t,n,r)})}function G0(t,e,n){const r=new un("/.info/"+e),i=hr(n);t.infoData_.updateSnapshot(r,i);const s=dm(t.infoSyncTree_,r,i);ka(t.eventQueue_,r,s)}function uW(t){return t.nextWriteId_++}function cW(t){xD(t,"onDisconnectEvents");const e=DD(t),n=tp();uy(t.onDisconnect_,Bt(),(i,s)=>{const o=H8(i,s,t.serverSyncTree_,e);oD(n,i,o)});let r=[];uy(n,Bt(),(i,s)=>{r=r.concat(dm(t.serverSyncTree_,i,s));const o=pW(t,i);X0(t,o)}),t.onDisconnect_=tp(),ka(t.eventQueue_,Bt(),r)}function dW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rW)}function xD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dr(n,...e)}function ND(t,e,n){return wD(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function Q0(t,e=t.transactionQueueTree_){if(e||pm(t,e),hu(e)){const n=LD(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&hW(t,Wd(e),n)}else OD(e)&&fm(e,n=>{Q0(t,n)})}function hW(t,e,n){const r=n.map(u=>u.currentWriteId),i=ND(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=oi(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{xD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(sl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();pm(t,Y0(t.transactionQueueTree_,e)),Q0(t,t.transactionQueueTree_),ka(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)jd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Zr("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}X0(t,e)}},o)}function X0(t,e){const n=MD(t,e),r=Wd(n),i=LD(t,n);return fW(t,i,r),r}function fW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=oi(n,l.path);let c=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=iW)c=!0,h="maxretry",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=ND(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){RD("transaction failed: Data returned ",p,l.path);let g=hr(p);typeof p=="object"&&p!=null&&Ds(p,".priority")||(g=g.updatePriority(f.getPriority()));const C=l.currentWriteId,R=DD(t),k=W8(g,f,R);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=k,l.currentWriteId=uW(t),o.splice(o.indexOf(C),1),i=i.concat(L8(t.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),i=i.concat(sl(t.serverSyncTree_,C,!0))}else c=!0,h="nodata",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0))}ka(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}pm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)jd(r[a]);Q0(t,t.transactionQueueTree_)}function MD(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&hu(r)===void 0;)r=Y0(r,n),e=sn(e),n=wt(e);return r}function LD(t,e){const n=[];return VD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function VD(t,e,n){const r=hu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fm(e,i=>{VD(t,i,n)})}function pm(t,e){const n=hu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,AD(e,n.length>0?n:void 0)}fm(e,r=>{pm(t,r)})}function pW(t,e){const n=Wd(MD(t,e)),r=Y0(t.transactionQueueTree_,e);return z8(r,i=>{Og(t,i)}),Og(t,r),PD(r,i=>{Og(t,i)}),n}function Og(t,e){const n=hu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?AD(e,void 0):n.length=s+1,ka(t.eventQueue_,Wd(e),i);for(let o=0;o<r.length;o++)jd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gW(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zr(`Invalid query segment '${n}' in query '${t}'`)}return e}const JE=function(t,e){const n=vW(t),r=n.namespace;n.domain==="firebase.com"&&pa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new r7(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new un(n.pathString)}},vW=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=mW(t.substring(c,h)));const f=gW(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:QR(this._path)}get ref(){return new fu(this._repo,this._path)}get _queryIdentifier(){const e=VE(this._queryParams),n=D0(e);return n==="{}"?"default":n}get _queryObject(){return VE(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof J0))return!1;const n=this._repo===e._repo,r=ZR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+P7(this._path)}}class fu extends J0{constructor(e,n){super(e,n,new F0,!1)}get parent(){const e=JR(this._path);return e===null?null:new fu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}N8(fu);M8(fu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="FIREBASE_DATABASE_EMULATOR_HOST",vy={};let _W=!1;function bW(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||pa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=JE(s,i),a=o.repoInfo,l,u;typeof process<"u"&&yE&&(u=yE[yW]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=JE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new oy(oy.OWNER):new n7(t.name,t.options,e);J8("Invalid Firebase Database URL",o),gt(o.path)||pa("Database URL must point to the root of a Firebase Database (not including a child path).");const h=TW(a,t,c,new t7(t.name,n));return new EW(h,t)}function wW(t,e){const n=vy[e];(!n||n[t.key]!==t)&&pa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dW(t),delete n[t.key]}function TW(t,e,n,r){let i=vy[e.name];i||(i={},vy[e.name]=i);let s=i[t.toURLString()];return s&&pa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sW(t,_W,n,r),i[t.toURLString()]=s,s}class EW{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fu(this._repo,Bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pa("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){BH(Ao),jr(new Dr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),er(_E,bE,t),er(_E,bE,"esm2017")}Ts.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ts.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};IW();function qd(t){return L9(R0(t))}function SW(t){return CW({initialUser:t,dependencies:{popupRedirectResolver:kH,persistence:[Bj,Pj,yR]}})}const FD=Symbol("VueFireAuth");function CW({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=AW(n,r,e,t);UH(i,s)}}function AW(t,e,n,r,i=rj(t,r)){const s=VH(t,e).run(()=>fe(n));return CR.set(t,s),e.provide(FD,i),[s,i]}function OW(t){return LH?kr(FD):null}function PW(t,{firebaseApp:e,modules:n=[]}){t.provide(SR,e);for(const r of n)r(e,t)}var kn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.GAMES="games",t.NOT_FOUND="notfound",t))(kn||{}),sf=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t.GAMES_PATIENCE="patience",t))(sf||{});const Z0=ou("settingsStore",()=>{const t=fe(!0),e=fe(!1);return{isOnline:t,debug:e}},{persist:{enabled:!0}}),ZE={visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},eI={isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},$D=ou("blogPostStore",()=>{const t=qd(),e=Z0(),{debug:n}=Wc(e),r={blogPosts:F=>fr(t,F?Cn.BLOG_POSTS_PRIVATE:Cn.BLOG_POSTS),blogPostsPrivate:fr(t,Cn.BLOG_POSTS_PRIVATE),blogReactions:F=>fr(t,F?Cn.BLOG_REACTIONS_PRIVATE:Cn.BLOG_REACTIONS),files:fr(t,Cn.FILES),usersPublic:fr(t,Cn.USERS_PUBLIC)},i=Rr({...ZE}),s=Rr({...eI}),o=le(()=>[...i.data.public,...i.data.private]),a=le(()=>i.data[i.visibility]),l=le(()=>i.previousData[i.visibility]),u=le(()=>i.isLoading.public.fetch||i.isLoading.private.fetch),c=le(()=>i.isLoading.public.mutation||i.isLoading.private.mutation),h=le(()=>i.isDatabaseCreationActive||i.isDatabaseMutationActive||i.isDatabaseDeletionActive||s.isDatabaseCreationActive||s.isDatabaseDeletionActive),f=()=>{Object.assign(i,ZE),Object.assign(s,eI)},p=async(F,U={})=>{const x=U.visibility??i.visibility;U.loadingIndicator!==!1&&(i.isLoading[x].fetch=!0);try{const z=i.data[x][i.data[x].length-1],K=[H1("datePinned","desc"),H1("date","desc"),z9(U.amount||3)];a.value.length||(i.isLastPage=!1),U.amount&&U.loadingIndicator!==!1&&(i.data[x]=[]),!U.amount&&z&&K.push(K9(z.datePinned,z.date));var O=[];x==="private"&&F?O=await Es(r.blogPostsPrivate,[gk("allowedUserIds","array-contains",bt(t,r.usersPublic.id,F).id),...K]):x==="public"&&(O=await Es(r.blogPosts(!1),K));const te=await Promise.all(O.map(async he=>await $i.mapIncoming(he)));if(U.amount)i.data[x]=te;else for(const he of te)i.data[x].push(he);te.length<3&&(i.isLastPage=!0)}catch(z){Ve.firebaseError(n.value,z)}finally{i.isLoading[x].fetch=!1}},g=async(F,U,x={})=>{console.log("attempt to fetch single");const O=(U==null?void 0:U.visibility)??"public";x.loadingIndicator!==!1&&(i.isLoading[O].fetch=!0);try{var z=await ii(bt(r.blogPosts(!!(U!=null&&U.isPrivate)),F));return z||(z=await ii(bt(r.blogPostsPrivate,F))),z?(i.data.single=await $i.mapIncoming(z),i.data.single):null}catch(K){return Ve.firebaseError(n.value,K).errorCode??null}finally{i.isLoading[O].fetch=!1}},y=()=>{i.previousData.single=i.data.single,i.previousData[i.visibility]=a.value},C=(F,U)=>{const x=s.unread.length;if(F){let O;if(U?O=i.data.single:O=a.value.find(z=>z.id===F.id),O&&O.reactions.length!==F.reactions.length){const z=O.reactions.filter(K=>!F.reactions.some(te=>te.id===K.id));for(const K of z)s.unread.every(te=>te.id!==K.id)&&s.unread.push(K)}}U&&(x!==s.unread.length&&Ve.update("There are unread comments on this page"),y())},R=()=>{const F=s.unread.length;if(l.value.length)for(const U of l.value)C(U);F!==s.unread.length&&Ve.update("There are unread comments on this page"),y()},k=async(F,U,x,O={includeTime:!1,fetch:!0})=>{const z=Lo(U);i.isLoading[z.visibility].mutation=!0,i.isDatabaseCreationActive=!0;try{return await zl(bt(t,r.blogPosts(z.isPrivate).id,F),{...U,date:O!=null&&O.includeTime?U.date:Qt.now(),dateUpdated:O!=null&&O.includeTime?U.dateUpdated:null,countdown:U.countdown?Qt.fromDate(U.countdown):null,timer:U.timer?Qt.fromDate(U.timer):null}),i.visibility=z.visibility,O!=null&&O.fetch&&p(x,{amount:a.value.length+1}),Ve.success("Successfully created Post"),!0}catch(K){return Ve.firebaseError(n.value,K),!1}finally{y(),i.isLoading[z.visibility].mutation=!1,i.isDatabaseCreationActive=!1}},w=async(F,U,x,O)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[x.visibility].mutation=!0;const z=r.blogPosts(x.isPrivate).id;let K="";if($i.Content.instanceOf(U)&&(await yi(bt(t,z,F),{...$i.Content.convert(U),dateUpdated:Qt.now()}),K="content"),$i.Styling.instanceOf(U)&&(await yi(bt(t,z,F),{...$i.Styling.convert(U)}),K="styling"),$i.Settings.instanceOf(U)&&(await yi(bt(t,z,F),{...$i.Settings.convert(U)}),K="settings"),K==="content"||K==="styling"){let te=await g(F,x);Z1(te)&&(te=null),i.data[x.visibility]=i.data[x.visibility].map(he=>he.id===(te==null?void 0:te.id)?te:he)}else p(O,{amount:i.data[x.visibility].length});return K}catch(z){Ve.firebaseError(n.value,z)}finally{y(),i.isLoading[x.visibility].mutation=!1,i.isDatabaseMutationActive=!1}},S=async(F,U,x,O,z)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[O].mutation=!0;const K=o.value.find(te=>te.id===F);if(await M(F,{includeFiles:!1,includeReactions:!1}),K&&await k(F,U,z,{includeTime:!0,fetch:!1})){let te;do i.data[O]=[],await p(z,{visibility:O}),te=o.value.find(he=>he.id===F);while(!te);if(i.visibility=O,te){for(const he of x)await I(he.id,K,{mutatePost:!1,fetch:!1})||Ve.error("Failed to delete old Reaction",{debug:n.value}),await L(te,sp.convert(he),{includeTime:!0,fetch:!1})||Ve.error("Failed to re-create Reaction",{debug:n.value});for(const he of _(K)){const Z=rI(he);await q(Z.name,te)||Ve.error("Failed to move Image",{debug:n.value})}return p(z,{amount:a.value.length}),!0}else return Ve.error("Failed to re-create Post",{debug:n.value}),!1}else return Ve.error("Failed to re-create Post",{debug:n.value}),!1}catch(K){return Ve.firebaseError(n.value,K),!1}finally{y(),i.isLoading[O].mutation=!1,i.isDatabaseMutationActive=!1}},M=async(F,U={includeFiles:!0,includeReactions:!0})=>{try{i.isDatabaseDeletionActive=!0;const x=o.value.find(O=>O.id===F);if(x){U.includeReactions&&await E(x),U.includeFiles&&await j(x);const O=Lo(x);return await Xu(bt(t,r.blogPosts(O.isPrivate).id,F)),i.data[O.visibility]=i.data[O.visibility].filter(z=>z.id!==F),Ve.success("Successfully deleted Post"),!0}return!1}catch(x){return Ve.firebaseError(n.value,x),!1}finally{y(),i.isDatabaseDeletionActive=!1}},L=async(F,U,x={includeTime:!1,fetch:!0})=>{try{s.isDatabaseCreationActive=!0;const O=Lo(F),z=bt(t,r.blogPosts(O.isPrivate).id,F.id),K=await ii(z);if(K){const te=await NW(r.blogReactions(O.isPrivate),{user:bt(t,r.usersPublic.id,U.userId),message:U.message,date:x!=null&&x.includeTime?U.date:Qt.now(),post:z});if(await yi(bt(t,r.blogPosts(O.isPrivate).id,K.id),{reactions:[...K.reactions??[],te]}),x!=null&&x.fetch){let he=await g(K.id,O,{loadingIndicator:!1});Z1(he)&&(he=null),i.data[O.visibility]=i.data[O.visibility].map(Z=>Z.id===K.id?he??Z:Z)}return Ve.success("Successfully created Reaction"),!0}return!1}catch(O){return Ve.firebaseError(n.value,O),!1}finally{y(),s.isDatabaseCreationActive=!1}},I=async(F,U,x={mutatePost:!0,fetch:!0})=>{var O;try{s.isDatabaseDeletionActive=!0;const z=Lo(U);if(x.mutatePost){const K=bt(t,r.blogPosts(z.isPrivate).id,U.id),te=await ii(K);te&&await yi(K,{reactions:((O=te.reactions)==null?void 0:O.filter(he=>he.id!==F))??[]})}return await Xu(bt(t,r.blogReactions(z.isPrivate).id,F)),x!=null&&x.fetch&&(U.reactions=U.reactions.filter(K=>K.id!==F),i.data[z.visibility]=i.data[z.visibility].map(K=>K.id===U.id?U:K)),Ve.success("Successfully deleted Reaction"),!0}catch(z){return Ve.firebaseError(n.value,z),!1}finally{y(),s.isDatabaseDeletionActive=!1}},E=async F=>{try{s.isDatabaseDeletionActive=!0;const U=Lo(F),x=(F==null?void 0:F.reactions)??[];for(const O of x)await Xu(bt(t,r.blogReactions(U.isPrivate).id,O.id));return x.length&&Ve.success(`Successfully deleted ${x.length} Reaction${x.length!==1?"s":""}`),!0}catch(U){return Ve.firebaseError(n.value,U),!1}finally{y(),s.isDatabaseDeletionActive=!1}},_=(F,U)=>{var O,z;const x=[];if(F.coverImageUrl&&(!U||!U.coverImageUrl)&&x.push(F.coverImageUrl),F.sections.length)for(const[K,te]of F.sections.entries()){const he=(z=(O=U==null?void 0:U.sections)==null?void 0:O[K])==null?void 0:z.coverImageUrl,Z=te.coverImageUrl;Z&&(!U||!he)&&x.push(Z)}return x},v=async F=>{try{return await ii(bt(t,r.files.path,F))}catch(U){return Ve.firebaseError(n.value,U),null}},T=async(F,U,x,O,z,K,te)=>await P(F.name,O,z,K,te)&&await A(F,U,x),A=async(F,U,x)=>{try{const O=h5(F,U);return O.on("state_changed",z=>{const K=z.bytesTransferred/z.totalBytes*100;x(K)}),await O,Ve.success("Successfully uploaded File"),!0}catch(O){return Ve.firebaseError(n.value,O),!1}},P=async(F,U,x,O,z)=>{try{let K;if(z){const te=Lo(z);K=bt(t,r.blogPosts(te.isPrivate).id,z.id)}return await zl(bt(t,r.files.path,F),{name:U,owner:x,post:K??null,public:O??!1}),!0}catch(K){return Ve.firebaseError(n.value,K),!1}},q=async(F,U)=>{try{let x;if(U){const O=Lo(U);x=bt(t,r.blogPosts(O.isPrivate).id,U.id)}return await yi(bt(t,r.files.path,F),{post:x??null}),!0}catch(x){return Ve.firebaseError(n.value,x),!1}},$=async(F,U=!1)=>{try{return await Xu(bt(t,r.files.path,F.name)),await f5(F),U||Ve.success("Successfully deleted File"),!0}catch(x){return Ve.firebaseError(n.value,x),!1}},j=async(F,U)=>{try{const x=_(F,U);for(const O of x)await $(rI(O),!0);return x.length&&Ve.success(`Successfully deleted ${x.length} File${x.length!==1?"s":""}`),!0}catch(x){return Ve.firebaseError(n.value,x),!1}};return{collections:r,blogPosts:i,blogReactions:s,allBlogPosts:o,visibleBlogPosts:a,previousVisibleBlogPosts:l,isBlogPostsFetchLoading:u,isBlogPostsMutationLoading:c,isBlogPostDatabaseActionActive:h,$reset:f,fetchBlogPosts:p,fetchBlogPost:g,setPreviousBlogPosts:y,checkBlogPostForUnreadReactions:C,checkBlogPostsForUnreadReactions:R,createBlogPost:k,updateBlogPost:w,toggleBlogPostVisibility:S,deleteBlogPost:M,createBlogReaction:L,deleteBlogReaction:I,deleteBlogReactionsOfBlogPost:E,getFilesOfPost:_,fetchFileInfo:v,uploadFile:T,createFile:A,createFileInfo:P,updateFileInfo:q,deleteFile:$,deleteFilesOfBlogPost:j}},{persist:{enabled:!0}}),UD=ou("userStore",()=>{const t=qd(),e=ql(),n=Z0(),{firebaseUser:r}=Wc(e),{debug:i}=Wc(n),s={users:fr(t,Cn.USERS),usersPublic:fr(t,Cn.USERS_PUBLIC),usersOnline:fr(t,Cn.USERS_ONLINE)},o=fe(null),a=fe(null),l=fe([]),u=fe([]),c=fe([]),h=fe([]),f=fe(!1),p=le(()=>R(a.value,o.value,c.value.find(T=>{var A;return T.id===((A=o.value)==null?void 0:A.id)}))),g=le(()=>c.value.filter(T=>WD(new Date(Date.parse(T.lastOnline.toString())))<=60));En(()=>[u.value,l.value,c.value],()=>{h.value=u.value.map(T=>{if(p.value&&p.value.id===T.id)return p.value;const A=l.value.find(q=>q.id===T.id),P=c.value.find(q=>q.id===T.id);return R(T,A,P)}).filter(T=>T!==null).sort((T,A)=>{var P,q;try{return(((P=A.lastOnline)==null?void 0:P.getTime())??0)-(((q=T.lastOnline)==null?void 0:q.getTime())??0)}catch{return 0}})});const y=()=>{l.value=[],u.value=[],c.value=[]},C=()=>{o.value=null,a.value=null},R=(T,A,P)=>T?{...A,...T??{displayName:"Anonymous"},lastOnline:(P==null?void 0:P.lastOnline)??null}:null,k=async T=>{const A=T==null?void 0:T.uid;if(A){a.value=await ii(bt(t,s.usersPublic.id,A));const P=await ii(bt(t,s.users.id,A));P!=null&&(o.value=await bc.mapIncoming(P))}},w=async()=>{try{const T=await Es(s.users);l.value=await Promise.all(T.map(async A=>await bc.mapIncoming(A)))}catch(T){return Ve.firebaseError(i.value,T),null}},S=async()=>{try{u.value=await Es(s.usersPublic)}catch(T){return Ve.firebaseError(i.value,T),null}},M=async T=>{try{return await ii(bt(t,s.usersPublic.id,T))}catch(A){return Ve.firebaseError(i.value,A),null}};return{currentUser:o,publicUser:a,combinedUser:p,users:l,publicUsers:u,onlineUsersInfo:c,onlineUsers:g,combinedUsers:h,isMutationLoading:f,$reset:y,$resetCurrentUser:C,fetchUser:k,fetchUsers:w,fetchPublicUsers:S,fetchPublicUser:M,allowedPublicUsers:async T=>{try{return(await Promise.all(T.map(async P=>{const q=await M(P);return q?{...q,displayName:q.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},fetchOnlineUsers:async()=>{try{const T=await Es(s.usersOnline);c.value=await Promise.all(T.map(_y.mapIncoming))}catch{return null}},updateUser:async T=>{try{f.value=!0,o.value&&r.value&&(_c(bc.convert(o.value),T)?Ve.warning("Nothing changed in your details"):(await yi(bt(t,s.users.id,r.value.uid),{firstName:T.firstName,lastName:T.lastName}),await k(r.value),Ve.success("Successfully updated your profile")))}catch(A){Ve.firebaseError(!1,A)}finally{f.value=!1}},updatePublicUser:async T=>{try{f.value=!0,r.value&&a.value?_c(a.value,T)?Ve.warning("Nothing changed in your public profile"):(await yi(bt(t,s.usersPublic.id,a.value.id),{displayName:T.displayName,avatar:T.avatar}),await k(r.value),Ve.success("Successfully updated your public profile")):r.value?(await zl(bt(t,s.usersPublic.id,r.value.uid),{displayName:T.displayName,avatar:T.avatar}),await k(r.value),Ve.success("Successfully updated your public profile")):Ve.firebaseError(!1)}catch(A){Ve.firebaseError(!1,A)}finally{f.value=!1}},updateOnlineUser:async T=>{try{const A=bt(t,s.usersOnline.id,T);(await wk(A)).exists()?await yi(A,{lastOnline:Qt.now()}):await zl(A,{lastOnline:Qt.now()})}catch{return null}}}},{persist:{enabled:!0}}),eb=ou("mainStore",()=>{const t=qd(),e=ql(),n=UD(),r=$D(),i=Z0(),{debug:s,isOnline:o}=Wc(i),{fetchPublicUsers:a,fetchUsers:l}=n,{fetchBlogPosts:u}=r,c={content:fr(t,Cn.CONTENT),projects:fr(t,Cn.PROJECTS),menuItems:A=>fr(t,A?Cn.MENU_ITEMS_PRIVATE:Cn.MENU_ITEMS),menuItemsPrivate:fr(t,Cn.MENU_ITEMS_PRIVATE),usersPublic:fr(t,Cn.USERS_PUBLIC)},h=fe(yy),f=fe(sI),p=fe(aI),g=fe(oI),y=fe(!1),C=fe(null),R=fe(null),k=le(()=>g.value.filter(A=>!A.loading)),w=le(()=>p.value.filter(A=>!A.loading)),S=le(()=>p.value.filter(A=>!A.invisible)),M=()=>{h.value=yy,f.value=sI,p.value=aI,g.value=oI},L=()=>{M(),n.$reset(),r.$reset()},I=async(A,P)=>{try{y.value||(y.value=!0,console.log("attempt to fetch all"),(s.value||o.value&&(!w.value.length||P))&&(console.log("fetch all"),L(),await Promise.all([T(A),E(),_(),u(A),a()]),e.isOwner&&await l()))}catch(q){Ve.firebaseError(s.value,q)}finally{y.value=!1}},E=async()=>{try{const A=await ii(bt(t,c.content.id,"production"));f.value={...f.value,...A||{}}}catch(A){Ve.firebaseError(s.value,A)}},_=async()=>{try{const A=await Promise.all((await Es(c.projects)).map(async P=>({...P,technologies:await Promise.all(P.technologies.map(async q=>await ii(q)))})));g.value=A.length?iI(A):g.value}catch(A){Ve.firebaseError(s.value,A)}},v=(A,P)=>{const q=g.value.splice(A,1)[0];g.value.splice(P,0,q)},T=async A=>{try{let P=await Es(c.menuItems());if(A)try{P=P.concat(await Es(c.menuItemsPrivate,[gk("allowedUserIds","array-contains",bt(t,c.usersPublic.id,A).id)]))}catch{}return p.value=P.length?iI(P):p.value,p.value}catch(P){Ve.firebaseError(s.value,P)}};return{profile:h,content:f,menuItems:p,projects:g,isFetchAllLoading:y,routeLoading:C,routeLoadingId:R,filteredProjects:k,filteredMenuItems:w,visibleMenuItems:S,fetchAll:I,fetchContent:E,fetchProjects:_,moveProject:v,fetchMenuItems:T}},{persist:{enabled:!0}}),ql=ou("authStore",()=>{const t=qd(),e=OW(),n=eb(),r=UD(),i=$D(),s=FH(),{$resetCurrentUser:o,fetchUser:a,updatePublicUser:l}=r,u=le(()=>(s==null?void 0:s.value)??null);e.onAuthStateChanged(async I=>{o(),a(I),n.filteredMenuItems.length,i.$patch({blogPosts:{...i.blogPosts,data:{...i.blogPosts.data,private:[]}}}),n.fetchAll(I==null?void 0:I.uid,!0)});const c={users:fr(t,"users")},h=fe(!1),f=fe(!1),p=le(()=>!!u.value),g=le(()=>{var I;return((I=u.value)==null?void 0:I.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}),y=async(I,E)=>{try{h.value=!0;const{user:_}=await wj(e,I,E);await S(_.uid),await a(_),n.fetchAll(_.uid,!0),Ve.success("Successfully logged in",{route:kn.DASHBOARD})}catch(_){Ve.firebaseError(!1,_)}finally{h.value=!1}},C=async(I,E,_)=>{try{h.value=!0;const{user:v}=await bj(e,I,E);await zl(bt(t,c.users.id,v.uid),{firstName:_,createdAt:new Date}),await l({displayName:"Anonymous",avatar:""}),await a(v),Ve.success("Successfully created your account",{route:kn.DASHBOARD})}catch(v){Ve.firebaseError(!1,v)}finally{h.value=!1}},R=async(I,E)=>{try{if(h.value=!0,u.value&&u.value.email){const _=wo.credential(u.value.email,E);await uE(u.value,_),await Tj(u.value,I),Ve.success("Successfully changed your e-mail")}}catch(_){Ve.firebaseError(!1,_)}finally{h.value=!1}},k=async(I,E)=>{try{if(h.value=!0,u.value&&u.value.email){const _=wo.credential(u.value.email,E);await uE(u.value,_),await Ej(u.value,I),Ve.success("Successfully changed your password")}}catch(_){Ve.firebaseError(!1,_)}finally{h.value=!1}},w=async I=>{try{await _j(e,I),Ve.success("Successfully requested password reset")}catch(E){Ve.firebaseError(!1,E)}},S=async I=>{try{await yi(bt(t,c.users.id,I),{lastLogin:new Date})}catch(E){Ve.firebaseError(!1,E)}};return{firebaseUser:u,isLoggedIn:p,isLoginLoading:h,isLogoutLoading:f,isOwner:g,login:y,register:C,updateMail:R,updatePassword:k,resetPassword:w,updateUserLastLogin:S,logout:async()=>{try{f.value=!0,await Sj(e),n.fetchAll(void 0,!0),Ve.success("Successfully logged out",{route:kn.HOME})}catch(I){Ve.firebaseError(!1,I)}finally{f.value=!1}},deleteAccount:async()=>{try{f.value=!0,u.value&&(await Xu(bt(t,c.users.id,u.value.uid)),await Cj(u.value),Ve.success("Successfully deleted your account",{route:kn.HOME}))}catch(I){Ve.firebaseError(!1,I)}finally{f.value=!1}}}},{persist:{enabled:!0}});var BD=(t=>(t.YAHTZEE="yahtzee",t.RAINWORMS="rainworms",t.PATIENCE="patience",t))(BD||{});const Pg=()=>({gameData:{highscores:[]},previousPersonalBest:null,previousHighscorePosition:null}),tI=()=>({yahtzee:Pg(),rainworms:Pg(),patience:Pg()}),kW=t=>ou("gameStore",()=>{const e=qd(),n=ql(),{firebaseUser:r}=Wc(n),i={gameData:fr(e,Cn.GAME_DATA),highscores:fr(e,Cn.GAME_DATA,t,Cn.HIGHSCORES)},s=fe(!0),o=fe(1.5),a=Rr(tI()),l=le(()=>{var R,k;const y=(R=r.value)==null?void 0:R.uid;return y?((k=a[t].gameData.highscores.find(w=>w.id===y))==null?void 0:k.score)??0:0}),u=le(()=>{var k;const y=(k=r.value)==null?void 0:k.uid;return y?a[t].gameData.highscores.findIndex(w=>w.id===y)+1:0}),c=()=>{Object.assign(a,tI())},h=(y=!1)=>{if(r.value){const C=a[t];(!y||C.previousPersonalBest===null)&&(C.previousPersonalBest=l.value),(!y||C.previousHighscorePosition===null)&&(C.previousHighscorePosition=u.value)}},f=async()=>{try{const y=await Es(i.highscores);a[t].gameData.highscores=await Promise.all(y.map(by.Highscore.mapIncoming)),g(),h(!0)}catch(y){Ve.firebaseError(!0,y)}},p=async(y,C)=>{var R;try{const k=(R=r.value)==null?void 0:R.uid;if(!k)return!1;if(y){await f();const w=a[t].gameData,S=w.highscores.find(M=>M.id===k);if(!S||S.score<y){h();const M={score:y,date:new Date,bonus:(C==null?void 0:C.bonus)??null,turns:(C==null?void 0:C.turns)??null,time:(C==null?void 0:C.time)??null,penalty:(C==null?void 0:C.penalty)??null},L={id:k,...M},I=bt(i.highscores,k);if(S){try{await yi(I,M)}catch(E){console.log(E)}Object.assign(S,L)}else await zl(I,M),w.highscores.push(L);return g(),!0}}return!1}catch(k){return Ve.firebaseError(!0,k),!1}},g=()=>{a[t].gameData.highscores=a[t].gameData.highscores.sort((y,C)=>C.score-y.score)};return{useAudio:s,diceRollSpeed:o,allGameData:a,personalBest:l,highscorePosition:u,$reset:c,setPreviousHighscores:h,fetchGameData:f,updateHighscores:p,sortHighscores:g}},{persist:{enabled:!0}}),RW=1e3,DW=RW*60,xW=DW*60,jD=xW*24,nI=jD*365,HD=async t=>{const e=await wk(t),n=e.data();return n?{id:e.id,...n}:null},Es=async(t,e)=>{const n=await X9(e?q9(t,...e):t);return Promise.all(n.docs.map(r=>HD(r.ref)))},ii=HD,NW=tB,zl=J9,yi=Z9,Xu=eB,rI=t=>p5(m5(),t),iI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),bre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},_c=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!_c(a,o[l])||o.some((u,c)=>!_c(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!_c(r,i))return!1}else if(r!==i)return!1}return!0},WD=t=>Math.round((Date.now()-t.getTime())/1e3),wre=t=>{try{const e=WD(t);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/nI,o=r%nI/jD,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}}catch{return"Unknown"}},Tre=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},Ere=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},Ire=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Lo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Sre=t=>Array.isArray(t)?t:[t],Cre=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Are=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),Ore=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},Pre=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},MW=()=>E5(),kre=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},Rre=t=>{let e=t.length;for(;e!=0;){let n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}},Dre={value:new Audio("/sounds/applause-and-cheer.mp3"),startTime:0},qD={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},zD={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};qD.value.preload="auto";zD.value.preload="auto";const xre=t=>{const{useAudio:e}=kW(BD.YAHTZEE)();if(!e)return;[qD,zD].forEach(r=>{r.value!==t.value&&(r.value.pause(),r.value.currentTime=r.startTime)}),t.value.currentTime=t.startTime,t.value.play()},yy={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},sI={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},oI=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],aI=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],Nre=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var $i;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await ii(l)))??[])).map(async l=>sp.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??MW(),subTitle:l.subTitle??"",alignment:l.alignment??"center",tableAlignment:l.tableAlignment??"left",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,tableAlignment:n.tableAlignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","tableAlignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})($i||($i={}));var sp;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await ii(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(sp||(sp={}));var bc;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(bc||(bc={}));var lI;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(lI||(lI={}));var _y;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate()})})(_y||(_y={}));var by;(t=>{t.mapIncoming=async n=>({...n,highscores:await Promise.all(n.highscores.map(e.mapIncoming))});let e;(n=>{n.mapIncoming=async r=>{var i;return{...r,date:((i=r.date)==null?void 0:i.toDate())??new Date,bonus:r.bonus??null,turns:r.turns??null,time:r.time??null,penalty:r.penalty??null}}})(e=t.Highscore||(t.Highscore={}))})(by||(by={}));const KD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],Mre=t=>KD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),Lre=KD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),Vre=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],uI=()=>Hr(()=>import("./assets/c-Blog-D54aoo-Q.js").then(t=>t.B),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),LW=()=>Hr(()=>import("./assets/c-CatCalc-ksSybYf7.js"),__vite__mapDeps([12,2,11,6,5,3]),import.meta.url),VW=()=>Hr(()=>import("./assets/c-CustomVoting-DxydbRsd.js"),__vite__mapDeps([13,2,3,7,8,14,15]),import.meta.url),FW=()=>Hr(()=>import("./assets/c-Dashboard-e1tC8-Iw.js"),__vite__mapDeps([16,2,1,17,5,6,10,3]),import.meta.url),$W=()=>Hr(()=>import("./assets/c-Home-Z_YHxWX_.js"),__vite__mapDeps([18,3,2,19,14,20,21,4,5,6,7,8,9]),import.meta.url),UW=()=>Hr(()=>import("./assets/c-Login-Dc6NhFOR.js"),__vite__mapDeps([22,2,17,5,6,3]),import.meta.url),BW=()=>Hr(()=>import("./assets/c-NotFound-DOtptbaG.js"),__vite__mapDeps([23,2,3]),import.meta.url),jW=()=>Hr(()=>import("./assets/c-Profile-BtHc9nzw.js"),__vite__mapDeps([24,2,3]),import.meta.url),HW=()=>Hr(()=>import("./assets/c-Profiles-BSBq61F4.js"),__vite__mapDeps([25,2,3]),import.meta.url),WW=()=>Hr(()=>import("./assets/c-Register-vYfpeyGd.js"),__vite__mapDeps([26,2,17,5,6,3]),import.meta.url),qW=()=>Hr(()=>import("./assets/c-Games-bb2FwWEV.js"),__vite__mapDeps([27,2,3,28,1,11,6,20,14,21,19]),import.meta.url),zW=()=>Hr(()=>import("./assets/c-Yahtzee-C7GjgdNN.js"),__vite__mapDeps([29,2,21,30,14,31,28,1,11,6,32]),import.meta.url),KW=()=>Hr(()=>import("./assets/c-Rainworms-BZ9tygl6.js"),__vite__mapDeps([33,2,30,14,31,28,1,11,6,20]),import.meta.url),YW=()=>Hr(()=>import("./assets/c-Patience-B_npF8Yh.js"),__vite__mapDeps([34,2,28,1,11,6,30,14,31,19]),import.meta.url),GW={HOME:{path:"/",meta:{title:"Home"},component:$W,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];zd.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:UW,beforeEnter:(t,e,n)=>{ql().isLoggedIn?n({name:kn.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:WW,beforeEnter:(t,e,n)=>{ql().isLoggedIn?n({name:kn.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:FW},USER_OVERVIEW:{path:"/profiles",meta:{title:"Profiles"},component:HW},USER_DETAILS:{path:"/profiles/:userId",meta:{title:"Profile"},component:jW},BLOG:{path:"/blog",meta:{title:"Blog"},component:uI},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:uI},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:VW},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:LW},GAMES:{path:"/games",meta:{title:"Games"},component:qW,children:[{name:sf.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:zW},{name:sf.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:KW},{name:sf.GAMES_PATIENCE,path:"/games/patience",meta:{title:"Patience"},component:YW}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:BW}},YD=Object.entries(GW).map(([t,e])=>({...e,name:kn[t]})),zd=YV({history:IV(),routes:YD,scrollBehavior(t,e,n){return n||((t.name===kn.LOGIN||t.name===kn.REGISTER)&&(e.name===kn.LOGIN||e.name===kn.REGISTER)?!1:{top:0})}}),cI=yy.name;zd.beforeEach(async(t,e,n)=>{var r,i,s;if(t===e)n();else if(!t.name)n({name:kn.NOT_FOUND});else{const o=t.name,a=eb();if(a.routeLoading=o,a.routeLoadingId=((r=t.params.postId)==null?void 0:r.toString())||((i=t.params.userId)==null?void 0:i.toString())||null,[kn.HOME,kn.LOGIN,kn.REGISTER,kn.DASHBOARD,kn.NOT_FOUND].includes(o))n();else{const u=await a.fetchMenuItems((s=ql().firebaseUser)==null?void 0:s.uid);(u==null?void 0:u.some(h=>h.route?o===h.route||YD.some(f=>{var p;return(p=f.children)==null?void 0:p.some(g=>g.name===o)}):h.url?t.path.startsWith(h.url):!1))?n():n({name:kn.NOT_FOUND})}}});zd.afterEach(()=>{const t=eb();t.routeLoading=null});zd.beforeResolve(t=>{document.title=cI+" | "+t.meta.title||cI;const e=VO();FO(e,"screen_view",{screen_name:t.path})});const GD=zd;function hi(t){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(t)}function Xe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||hi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ps(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Ai(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function QD(t,e){if(Le(2,arguments),!e||hi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=ze(t),c=r||n?Ai(u,r+n*12):u,h=s||i?ps(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,y=new Date(h.getTime()+g);return y}function QW(t,e){Le(2,arguments);var n=ze(t).getTime(),r=Xe(e);return new Date(n+r)}var XW={};function rs(){return XW}function ya(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function op(t){return Le(1,arguments),ya(t,{weekStartsOn:1})}function JW(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=op(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=op(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ZW(t){Le(1,arguments);var e=JW(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=op(n);return r}function ap(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function dI(t){Le(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var eq=864e5;function tq(t,e){Le(2,arguments);var n=dI(t),r=dI(e),i=n.getTime()-ap(n),s=r.getTime()-ap(r);return Math.round((i-s)/eq)}function nq(t,e){Le(2,arguments);var n=Xe(e),r=n*3;return Ai(t,r)}function tb(t,e){Le(2,arguments);var n=Xe(e);return Ai(t,n*12)}var nb=6e4,rb=36e5,rq=1e3;function XD(t){return Le(1,arguments),t instanceof Date||hi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function wc(t){if(Le(1,arguments),!XD(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function hI(t){Le(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function JD(t,e){var n;Le(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function td(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function iq(t){Le(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=td(n),o=td(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=nq(l,1);return a}function sq(t){Le(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function oq(t){Le(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function fI(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function ZD(t,e){Le(2,arguments);var n=Xe(e);return QW(t,-n)}var lq=864e5;function uq(t){Le(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/lq)+1}function Kl(t){Le(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function ex(t){Le(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Kl(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Kl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cq(t){Le(1,arguments);var e=ex(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Kl(n);return r}var dq=6048e5;function tx(t){Le(1,arguments);var e=ze(t),n=Kl(e).getTime()-cq(e).getTime();return Math.round(n/dq)+1}function _a(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function ib(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=rs(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var y=_a(g,e),C=new Date(0);C.setUTCFullYear(h,0,p),C.setUTCHours(0,0,0,0);var R=_a(C,e);return c.getTime()>=y.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function hq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=ib(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=_a(p,e);return g}var fq=6048e5;function nx(t,e){Le(1,arguments);var n=ze(t),r=_a(n,e).getTime()-hq(n,e).getTime();return Math.round(r/fq)+1}function $t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var pq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return $t(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$t(r+1,2)},d:function(e,n){return $t(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $t(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $t(e.getUTCHours(),n.length)},m:function(e,n){return $t(e.getUTCMinutes(),n.length)},s:function(e,n){return $t(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return $t(s,n.length)}};const Bs=pq;var Wa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Bs.y(e,n)},Y:function(e,n,r,i){var s=ib(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return $t(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):$t(o,n.length)},R:function(e,n){var r=ex(e);return $t(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $t(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return $t(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return $t(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Bs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return $t(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=nx(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,n.length)},I:function(e,n,r){var i=tx(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):$t(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Bs.d(e,n)},D:function(e,n,r){var i=uq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):$t(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return $t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return $t(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return $t(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Wa.noon:i===0?s=Wa.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Wa.evening:i>=12?s=Wa.afternoon:i>=4?s=Wa.morning:s=Wa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Bs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Bs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Bs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Bs.s(e,n)},S:function(e,n){return Bs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return mI(o);case"XXXX":case"XX":return $o(o);case"XXXXX":case"XXX":default:return $o(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return mI(o);case"xxxx":case"xx":return $o(o);case"xxxxx":case"xxx":default:return $o(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+pI(o,":");case"OOOO":default:return"GMT"+$o(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+pI(o,":");case"zzzz":default:return"GMT"+$o(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return $t(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return $t(o,n.length)}};function pI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+$t(s,2)}function mI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$t(Math.abs(t)/60,2)}return $o(t,e)}function $o(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=$t(Math.floor(i/60),2),o=$t(i%60,2);return r+s+n+o}var gI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},rx=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},gq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return gI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",gI(i,n)).replace("{{time}}",rx(s,n))},wy={p:rx,P:gq},vq=["D","DD"],yq=["YY","YYYY"];function ix(t){return vq.indexOf(t)!==-1}function sx(t){return yq.indexOf(t)!==-1}function lp(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _q={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bq=function(e,n,r){var i,s=_q[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const wq=bq;function kg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Tq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Eq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Iq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sq={date:kg({formats:Tq,defaultWidth:"full"}),time:kg({formats:Eq,defaultWidth:"full"}),dateTime:kg({formats:Iq,defaultWidth:"full"})};const Cq=Sq;var Aq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Oq=function(e,n,r,i){return Aq[e]};const Pq=Oq;function Vu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var kq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vq={ordinalNumber:Lq,era:Vu({values:kq,defaultWidth:"wide"}),quarter:Vu({values:Rq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Vu({values:Dq,defaultWidth:"wide"}),day:Vu({values:xq,defaultWidth:"wide"}),dayPeriod:Vu({values:Nq,defaultWidth:"wide",formattingValues:Mq,defaultFormattingWidth:"wide"})};const Fq=Vq;function Fu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Uq(a,function(h){return h.test(o)}):$q(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function $q(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Uq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Bq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var jq=/^(\d+)(th|st|nd|rd)?/i,Hq=/\d+/i,Wq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qq={any:[/^b/i,/^(a|c)/i]},zq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kq={any:[/1/i,/2/i,/3/i,/4/i]},Yq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ez={ordinalNumber:Bq({matchPattern:jq,parsePattern:Hq,valueCallback:function(e){return parseInt(e,10)}}),era:Fu({matchPatterns:Wq,defaultMatchWidth:"wide",parsePatterns:qq,defaultParseWidth:"any"}),quarter:Fu({matchPatterns:zq,defaultMatchWidth:"wide",parsePatterns:Kq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Fu({matchPatterns:Yq,defaultMatchWidth:"wide",parsePatterns:Gq,defaultParseWidth:"any"}),day:Fu({matchPatterns:Qq,defaultMatchWidth:"wide",parsePatterns:Xq,defaultParseWidth:"any"}),dayPeriod:Fu({matchPatterns:Jq,defaultMatchWidth:"any",parsePatterns:Zq,defaultParseWidth:"any"})};const tz=ez;var nz={code:"en-US",formatDistance:wq,formatLong:Cq,formatRelative:Pq,localize:Fq,match:tz,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ox=nz;var rz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sz=/^'([^]*?)'?$/,oz=/''/g,az=/[a-zA-Z]/;function co(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,y,C,R,k,w,S;Le(2,arguments);var M=String(e),L=rs(),I=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:ox,E=Xe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=Xe((p=(g=(y=(C=n==null?void 0:n.weekStartsOn)!==null&&C!==void 0?C:n==null||(R=n.locale)===null||R===void 0||(k=R.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&y!==void 0?y:L.weekStartsOn)!==null&&g!==void 0?g:(w=L.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!wc(v))throw new RangeError("Invalid time value");var T=ap(v),A=ZD(v,T),P={firstWeekContainsDate:E,weekStartsOn:_,locale:I,_originalDate:v},q=M.match(iz).map(function($){var j=$[0];if(j==="p"||j==="P"){var F=wy[j];return F($,I.formatLong)}return $}).join("").match(rz).map(function($){if($==="''")return"'";var j=$[0];if(j==="'")return lz($);var F=mq[j];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&sx($)&&lp($,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ix($)&&lp($,e,String(t)),F(A,$,I.localize,P);if(j.match(az))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return $}).join("");return q}function lz(t){var e=t.match(sz);return e?e[1].replace(oz,"'"):t}function uz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function cz(t){Le(1,arguments);var e=ze(t),n=e.getDay();return n}function dz(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Oi(t){Le(1,arguments);var e=ze(t),n=e.getHours();return n}var hz=6048e5;function fz(t){Le(1,arguments);var e=ze(t),n=op(e).getTime()-ZW(e).getTime();return Math.round(n/hz)+1}function Zi(t){Le(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Et(t){Le(1,arguments);var e=ze(t),n=e.getMonth();return n}function Yl(t){Le(1,arguments);var e=ze(t),n=e.getSeconds();return n}function pz(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getFullYear(),f=rs(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var y=ya(g,e),C=new Date(0);C.setFullYear(h,0,p),C.setHours(0,0,0,0);var R=ya(C,e);return c.getTime()>=y.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function mz(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=pz(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=ya(p,e);return g}var gz=6048e5;function vz(t,e){Le(1,arguments);var n=ze(t),r=ya(n,e).getTime()-mz(n,e).getTime();return Math.round(r/gz)+1}function ut(t){return Le(1,arguments),ze(t).getFullYear()}function nd(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function rd(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function ol(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yz(t,e){if(t){if(typeof t=="string")return vI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vI(t,e):void 0}}function yI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=yz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ty(t,e)}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},up(t)}function ax(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ax=function(){return!!t})()}function _z(t,e){if(e&&(hi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(t)}function St(t){var e=ax();return function(){var n,r=up(t);if(e){var i=up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _z(this,n)}}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bz(t,e){if(hi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lx(t){var e=bz(t,"string");return hi(e)=="symbol"?e:e+""}function _I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lx(r.key),r)}}function yt(t,e,n){return e&&_I(t.prototype,e),n&&_I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e,n){return(e=lx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wz=10,ux=function(){function t(){vt(this,t),Re(this,"priority",void 0),Re(this,"subPriority",0)}return yt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Tz=function(t){It(n,t);var e=St(n);function n(r,i,s,o,a){var l;return vt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return yt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(ux),Ez=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",wz),Re(Me(r),"subPriority",-1),r}return yt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(ux),xt=function(){function t(){vt(this,t),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return yt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Tz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Iz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",140),Re(Me(r),"incompatibleTokens",["R","u","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),wn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ji={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(t,e){return t&&{value:e(t.value),rest:t.rest}}function hn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Hi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*rb+s*nb+o*rq),rest:e.slice(n[0].length)}}function cx(t){return hn(wn.anyDigitsSigned,t)}function gn(t,e){switch(t){case 1:return hn(wn.singleDigit,e);case 2:return hn(wn.twoDigits,e);case 3:return hn(wn.threeDigits,e);case 4:return hn(wn.fourDigits,e);default:return hn(new RegExp("^\\d{1,"+t+"}"),e)}}function cp(t,e){switch(t){case 1:return hn(wn.singleDigitSigned,e);case 2:return hn(wn.twoDigitsSigned,e);case 3:return hn(wn.threeDigitsSigned,e);case 4:return hn(wn.fourDigitsSigned,e);default:return hn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function sb(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dx(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function hx(t){return t%400===0||t%4===0&&t%100!==0}var Sz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Tn(gn(4,i),a);case"yo":return Tn(o.ordinalNumber(i,{unit:"year"}),a);default:return Tn(gn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=dx(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Cz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Tn(gn(4,i),a);case"Yo":return Tn(o.ordinalNumber(i,{unit:"year"}),a);default:return Tn(gn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=ib(i,a);if(o.isTwoDigitYear){var u=dx(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_a(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_a(i,a)}}]),n}(xt),Az=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return cp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Kl(a)}}]),n}(xt),Oz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return cp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Pz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return gn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),kz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return gn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Rz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Me(r),"priority",110),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Tn(hn(wn.month,i),a);case"MM":return Tn(gn(2,i),a);case"Mo":return Tn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Dz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",110),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Tn(hn(wn.month,i),a);case"LL":return Tn(gn(2,i),a);case"Lo":return Tn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function xz(t,e,n){Le(2,arguments);var r=ze(t),i=Xe(e),s=nx(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Nz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return hn(wn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return _a(xz(i,o,a),a)}}]),n}(xt);function Mz(t,e){Le(2,arguments);var n=ze(t),r=Xe(e),i=tx(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Lz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return hn(wn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Kl(Mz(i,o))}}]),n}(xt),Vz=[31,28,31,30,31,30,31,31,30,31,30,31],Fz=[31,29,31,30,31,30,31,31,30,31,30,31],$z=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subPriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return hn(wn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=hx(o),l=i.getUTCMonth();return a?s>=1&&s<=Fz[l]:s>=1&&s<=Vz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Uz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subpriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return hn(wn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=hx(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function ob(t,e,n){var r,i,s,o,a,l,u,c;Le(2,arguments);var h=rs(),f=Xe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Xe(e),y=p.getUTCDay(),C=g%7,R=(C+7)%7,k=(R<f?7:0)+g-y;return p.setUTCDate(p.getUTCDate()+k),p}var Bz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=ob(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),jz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return Tn(gn(s.length,i),l);case"eo":return Tn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=ob(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Hz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return Tn(gn(s.length,i),l);case"co":return Tn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=ob(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function Wz(t,e){Le(2,arguments);var n=Xe(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var qz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return gn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Tn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Tn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Tn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Tn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=Wz(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),zz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(sb(o),0,0,0),i}}]),n}(xt),Kz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(sb(o),0,0,0),i}}]),n}(xt),Yz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","b","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(sb(o),0,0,0),i}}]),n}(xt),Gz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["H","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return hn(wn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),Qz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return hn(wn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(xt),Xz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["h","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return hn(wn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),Jz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return hn(wn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(xt),Zz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",60),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return hn(wn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(xt),eK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",50),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return hn(wn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(xt),tK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",30),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Tn(gn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(xt),nK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","x"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Hi(ji.basicOptionalMinutes,i);case"XX":return Hi(ji.basic,i);case"XXXX":return Hi(ji.basicOptionalSeconds,i);case"XXXXX":return Hi(ji.extendedOptionalSeconds,i);case"XXX":default:return Hi(ji.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),rK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","X"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Hi(ji.basicOptionalMinutes,i);case"xx":return Hi(ji.basic,i);case"xxxx":return Hi(ji.basicOptionalSeconds,i);case"xxxxx":return Hi(ji.extendedOptionalSeconds,i);case"xxx":default:return Hi(ji.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),iK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",40),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return cx(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(xt),sK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",20),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return cx(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(xt),oK={G:new Iz,y:new Sz,Y:new Cz,R:new Az,u:new Oz,Q:new Pz,q:new kz,M:new Rz,L:new Dz,w:new Nz,I:new Lz,d:new $z,D:new Uz,E:new Bz,e:new jz,c:new Hz,i:new qz,a:new zz,b:new Kz,B:new Yz,h:new Gz,H:new Qz,K:new Xz,k:new Jz,m:new Zz,s:new eK,S:new tK,X:new nK,x:new rK,t:new iK,T:new sK},aK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uK=/^'([^]*?)'?$/,cK=/''/g,dK=/\S/,hK=/[a-zA-Z]/;function Ey(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,y,C,R,k,w,S,M;Le(3,arguments);var L=String(t),I=String(e),E=rs(),_=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:E.locale)!==null&&i!==void 0?i:ox;if(!_.match)throw new RangeError("locale must contain match property");var v=Xe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&a!==void 0?a:(f=E.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Xe((g=(y=(C=(R=r==null?void 0:r.weekStartsOn)!==null&&R!==void 0?R:r==null||(k=r.locale)===null||k===void 0||(w=k.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&C!==void 0?C:E.weekStartsOn)!==null&&y!==void 0?y:(S=E.locale)===null||S===void 0||(M=S.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return L===""?ze(n):new Date(NaN);var A={firstWeekContainsDate:v,weekStartsOn:T,locale:_},P=[new Ez],q=I.match(lK).map(function(ie){var X=ie[0];if(X in wy){var ce=wy[X];return ce(ie,_.formatLong)}return ie}).join("").match(aK),$=[],j=yI(q),F;try{var U=function(){var X=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&sx(X)&&lp(X,I,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ix(X)&&lp(X,I,t);var ce=X[0],be=oK[ce];if(be){var ne=be.incompatibleTokens;if(Array.isArray(ne)){var D=$.find(function(B){return ne.includes(B.token)||B.token===ce});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));$.push({token:ce,fullToken:X});var V=be.run(L,X,_.match,A);if(!V)return{v:new Date(NaN)};P.push(V.setter),L=V.rest}else{if(ce.match(hK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");if(X==="''"?X="'":ce==="'"&&(X=fK(X)),L.indexOf(X)===0)L=L.slice(X.length);else return{v:new Date(NaN)}}};for(j.s();!(F=j.n()).done;){var x=U();if(hi(x)==="object")return x.v}}catch(ie){j.e(ie)}finally{j.f()}if(L.length>0&&dK.test(L))return new Date(NaN);var O=P.map(function(ie){return ie.priority}).sort(function(ie,X){return X-ie}).filter(function(ie,X,ce){return ce.indexOf(ie)===X}).map(function(ie){return P.filter(function(X){return X.priority===ie}).sort(function(X,ce){return ce.subPriority-X.subPriority})}).map(function(ie){return ie[0]}),z=ze(n);if(isNaN(z.getTime()))return new Date(NaN);var K=ZD(z,ap(z)),te={},he=yI(O),Z;try{for(he.s();!(Z=he.n()).done;){var H=Z.value;if(!H.validate(K,A))return new Date(NaN);var Q=H.set(K,te,A);Array.isArray(Q)?(K=Q[0],uz(te,Q[1])):K=Q}}catch(ie){he.e(ie)}finally{he.f()}return K}function fK(t){return t.match(uK)[1].replace(cK,"'")}function bI(t,e){Le(2,arguments);var n=td(t),r=td(e);return n.getTime()===r.getTime()}function pK(t,e){Le(2,arguments);var n=Xe(e);return ps(t,-n)}function mK(t,e){var n;Le(1,arguments);var r=Xe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=_K(t),s;if(i.date){var o=bK(i.date,r);s=wK(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=TK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=EK(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Lh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _K(t){var e={},n=t.split(Lh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Lh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Lh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Lh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function bK(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function wK(t,e){if(e===null)return new Date(NaN);var n=t.match(gK);if(!n)return new Date(NaN);var r=!!n[4],i=$u(n[1]),s=$u(n[2])-1,o=$u(n[3]),a=$u(n[4]),l=$u(n[5])-1;if(r)return OK(e,a,l)?IK(e,a,l):new Date(NaN);var u=new Date(0);return!CK(e,s,o)||!AK(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function $u(t){return t?parseInt(t):1}function TK(t){var e=t.match(vK);if(!e)return NaN;var n=Rg(e[1]),r=Rg(e[2]),i=Rg(e[3]);return PK(n,r,i)?n*rb+r*nb+i*1e3:NaN}function Rg(t){return t&&parseFloat(t.replace(",","."))||0}function EK(t){if(t==="Z")return 0;var e=t.match(yK);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return kK(r,i)?n*(r*rb+i*nb):NaN}function IK(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var SK=[31,null,31,30,31,30,31,31,30,31,30,31];function fx(t){return t%400===0||t%4===0&&t%100!==0}function CK(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(SK[e]||(fx(t)?29:28))}function AK(t,e){return e>=1&&e<=(fx(t)?366:365)}function OK(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function PK(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function kK(t,e){return e>=0&&e<=59}function px(t,e){Le(2,arguments);var n=ze(t),r=Xe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=dz(o);return n.setMonth(r,Math.min(s,a)),n}function on(t,e){if(Le(2,arguments),hi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=px(n,e.month)),e.date!=null&&n.setDate(Xe(e.date)),e.hours!=null&&n.setHours(Xe(e.hours)),e.minutes!=null&&n.setMinutes(Xe(e.minutes)),e.seconds!=null&&n.setSeconds(Xe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Xe(e.milliseconds)),n)}function mx(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setHours(r),n}function ab(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setMilliseconds(r),n}function gx(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setMinutes(r),n}function lb(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setSeconds(r),n}function zi(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Gl(t,e){Le(2,arguments);var n=Xe(e);return Ai(t,-n)}function RK(t,e){if(Le(2,arguments),!e||hi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=Gl(t,r+n*12),c=pK(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function vx(t,e){Le(2,arguments);var n=Xe(e);return tb(t,-n)}function pu(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ce("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}pu.compatConfig={MODE:3};function yx(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ce("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}yx.compatConfig={MODE:3};function ub(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ub.compatConfig={MODE:3};function cb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}cb.compatConfig={MODE:3};function db(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ce("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}db.compatConfig={MODE:3};function hb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}hb.compatConfig={MODE:3};function fb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}fb.compatConfig={MODE:3};function pb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _x={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(_x);var DK=_x.exports,Iy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Iy,Iy.exports);var xK=Iy.exports;const NK=pb(xK);var Sy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Sy,Sy.exports);var MK=Sy.exports;const wI=pb(MK);function LK(t,e){var n=UK(e);return n.formatToParts?FK(n,t):$K(n,t)}var VK={year:0,month:1,day:2,hour:3,minute:4,second:5};function FK(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=VK[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function $K(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Dg={};function UK(t){if(!Dg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";Dg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Dg[t]}function mb(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var TI=36e5,BK=6e4,xg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function gb(t,e,n){var r,i;if(t===""||(r=xg.timezoneZ.exec(t),r))return 0;var s;if(r=xg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),EI(s)?-(s*TI):NaN;if(r=xg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return EI(s,o)?(i=Math.abs(s)*TI+o*BK,s>0?-i:i):NaN}if(WK(t)){e=new Date(e||Date.now());var a=n?e:jK(e),l=Cy(a,t),u=n?l:HK(e,l,t);return-u}return NaN}function jK(t){return mb(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Cy(t,e){var n=LK(t,e),r=mb(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function HK(t,e,n){var r=t.getTime(),i=r-e,s=Cy(new Date(i),n);if(e===s)return e;i-=s-e;var o=Cy(new Date(i),n);return s===o?s:Math.max(s,o)}function EI(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var II={};function WK(t){if(II[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),II[t]=!0,!0}catch{return!1}}var bx=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ng=36e5,SI=6e4,qK=2,Or={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:bx};function Ay(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?qK:NK(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=zK(t),s=KK(i.date,r),o=s.year,a=s.restDateString,l=YK(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=GK(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=gb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=wI(new Date(u+c)),h=wI(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function zK(t){var e={},n=Or.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Or.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Or.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function KK(t,e){var n=Or.YYY[e],r=Or.YYYYY[e],i;if(i=Or.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Or.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function YK(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Or.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,AI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Or.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return JK(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Or.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return AI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Or.Www.exec(t),n)return s=parseInt(n[1],10)-1,OI(e,s)?CI(e,s):new Date(NaN);if(n=Or.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return OI(e,s,l)?CI(e,s,l):new Date(NaN)}return null}function GK(t){var e,n,r;if(e=Or.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Mg(n)?n%24*Ng:NaN;if(e=Or.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Mg(n,r)?n%24*Ng+r*SI:NaN;if(e=Or.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Mg(n,r,i)?n%24*Ng+r*SI+i*1e3:NaN}return null}function CI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var QK=[31,28,31,30,31,30,31,31,30,31,30,31],XK=[31,29,31,30,31,30,31,31,30,31,30,31];function wx(t){return t%400===0||t%4===0&&t%100!==0}function AI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=wx(t);if(r&&n>XK[e]||!r&&n>QK[e])return!1}return!0}function JK(t,e){if(e<1)return!1;var n=wx(t);return!(n&&e>366||!n&&e>365)}function OI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Mg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Oy={exports:{}},Py={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Py,Py.exports);var ZK=Py.exports;(function(t,e){var n=DK.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(ZK);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Oy,Oy.exports);var eY=Oy.exports;const tY=pb(eY);function nY(t,e,n){var r=Ay(t,n),i=gb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function rY(t,e,n){if(typeof t=="string"&&!t.match(bx)){var r=tY(n);return r.timeZone=e,Ay(t,r)}var i=Ay(t,n),s=mb(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=gb(e,new Date(s));return new Date(s+o)}function PI(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function iY(t){return e=>co(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const sY=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(iY(t))}catch{i=r.map(PI(e))}else i=r.map(PI(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},vb=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},Tx=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=co(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},oY=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Nn=t=>{const e=G(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},aY=t=>Object.assign({type:"dot"},t),Ex=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,dp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Vn=t=>t,kI=t=>t===0?t:!t||isNaN(+t)?null:+t,RI=t=>t===null,lY=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},uY=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},id=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Ql=(t,e)=>uY(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ho=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},cY=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function dY(t,e){let n=[...document.querySelectorAll(cY())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const hY=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},DI=(t,e,n,r,i)=>{const s=Ey(t,e.slice(0,t.length),new Date);return wc(s)&&XD(s)?r||i?s:on(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},fY=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return DI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=DI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ye=t=>t?new Date(t):new Date,pY=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},_r=t=>{let e=ye(JSON.parse(JSON.stringify(t)));return e=mx(e,0),e=gx(e,0),e=lb(e,0),e=ab(e,0),e},fo=(t,e,n,r)=>{let i=t?ye(t):ye();return(e||e===0)&&(i=mx(i,+e)),(n||n===0)&&(i=gx(i,+n)),(r||r===0)&&(i=lb(i,+r)),ab(i,0)},Xn=(t,e)=>!t||!e?!1:rd(_r(t),_r(e)),Rt=(t,e)=>!t||!e?!1:ol(_r(t),_r(e)),gr=(t,e)=>!t||!e?!1:nd(_r(t),_r(e)),mm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?gr(n,t[0])&&Xn(n,t[1]):t!=null&&t[0]&&e?gr(n,t[0])&&Xn(n,e)||Xn(n,t[0])&&gr(n,e):!1,wi=t=>{const e=on(new Date(t),{date:1});return _r(e)},Lg=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Zo=t=>({hours:Oi(t),minutes:Zi(t),seconds:Yl(t)}),Ix=(t,e)=>{if(e){const n=ut(ye(e));if(n>t)return 12;if(n===t)return Et(ye(e))}},Sx=(t,e)=>{if(e){const n=ut(ye(e));return n<t?-1:n===t?Et(ye(e)):void 0}},Xl=t=>{if(t)return ut(ye(t))},Pi=(t,e)=>e?nY(t,e):t,Cx=(t,e)=>e?rY(t,e):t,mY=t=>t instanceof Date?t:mK(t),Ax=(t,e)=>{const n=gr(t,e)?e:t,r=gr(e,t)?e:t;return JD({start:n,end:r})},gY=t=>{const e=Ai(t,1);return{month:Et(e),year:ut(e)}},of=(t,e,n)=>{const r=ya(Pi(t,e),{weekStartsOn:+n}),i=aq(Pi(t,e),{weekStartsOn:+n});return[r,i]},Ox=(t,e)=>{const n={hours:Oi(ye()),minutes:Zi(ye()),seconds:e?Yl(ye()):0};return Object.assign(n,t)},ro=(t,e,n)=>[on(ye(t),{date:1}),on(ye(),{month:e,year:n,date:1})],_s=(t,e,n)=>{let r=t?ye(t):ye();return(e||e===0)&&(r=px(r,e)),n&&(r=zi(r,n)),r},Px=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Ai(t,1):Gl(t,1),o=[Et(s),ut(s)];return i?!yY(...o,e):!vY(...o,n)},vY=(t,e,n)=>Xn(...ro(n,t,e))||Rt(...ro(n,t,e)),yY=(t,e,n)=>gr(...ro(n,t,e))||Rt(...ro(n,t,e)),kx=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${co(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?co(t[1],s,a):""}`:co(t,s,a)},qa=t=>{if(t)return null;throw new Error(dp.prop("partial-range"))},Vh=(t,e)=>{if(e)return t();throw new Error(dp.prop("range"))},ky=t=>Array.isArray(t)?wc(t[0])&&(t[1]?wc(t[1]):!0):t?wc(t):!1,_Y=(t,e)=>on(e??ye(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Vg=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?rd(t,e):nd(t,e),s={seconds:0,milliseconds:0};return i||ol(on(t,s),on(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Fg=(t,e,n)=>t?_Y(t,e):ye(n??e),xI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Fg(t,r[0],e),a=Fg(t,r[1],e);return Vg(r[0],o,n,!!e)&&Vg(r[1],a,n,!!e)&&i}const s=Fg(t,r,e);return Vg(r,s,n,!!e)&&i},$g=t=>on(ye(),Zo(t)),bY=(t,e)=>Array.isArray(t)?t.map(n=>ye(n)).filter(n=>ut(ye(n))===e).map(n=>Et(n)):[],Rx=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),yb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Uu=Rr({menuFocused:!1,shiftKeyInMenu:!1}),Dx=()=>{const t=n=>{Uu.menuFocused=n},e=n=>{Uu.shiftKeyInMenu!==n&&(Uu.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:Uu.shiftKeyInMenu,menuFocused:Uu.menuFocused})),setMenuFocused:t,setShiftKey:e}},en=Rr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Ug=fe(null),Fh=fe(!1),Bg=fe(!1),jg=fe(!1),Hg=fe(!1),Er=fe(0),zn=fe(0),Po=()=>{const t=le(()=>Fh.value?[...en.selectionGrid,en.actionRow].filter(h=>h.length):Bg.value?[...en.timePicker[0],...en.timePicker[1],Hg.value?[]:[Ug.value],en.actionRow].filter(h=>h.length):jg.value?[...en.monthPicker,en.actionRow]:[en.monthYear,...en.calendar,en.time,en.actionRow].filter(h=>h.length)),e=h=>{Er.value=h?Er.value+1:Er.value-1;let f=null;t.value[zn.value]&&(f=t.value[zn.value][Er.value]),f||(Er.value=h?Er.value-1:Er.value+1)},n=h=>{zn.value===0&&!h||zn.value===t.value.length&&h||(zn.value=h?zn.value+1:zn.value-1,t.value[zn.value]?t.value[zn.value]&&!t.value[zn.value][Er.value]&&Er.value!==0&&(Er.value=t.value[zn.value].length-1):zn.value=h?zn.value-1:zn.value+1)},r=h=>{let f=null;t.value[zn.value]&&(f=t.value[zn.value][Er.value]),f?f.focus({preventScroll:!Fh.value}):Er.value=h?Er.value-1:Er.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{en[f]=h},u=(h,f)=>{en[f]=h},c=()=>{Er.value=0,zn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Ug.value=h},setSelectionGrid:h=>{Fh.value=h,c(),h||(en.selectionGrid=[])},setTimePicker:(h,f=!1)=>{Bg.value=h,Hg.value=f,c(),h||(en.timePicker[0]=[],en.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{en.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{en.monthYear=[],en.calendar=[],en.time=[],en.actionRow=[],en.selectionGrid=[],en.timePicker[0]=[],en.timePicker[1]=[],Fh.value=!1,Bg.value=!1,Hg.value=!1,jg.value=!1,c(),Ug.value=null},setMonthPicker:h=>{jg.value=h,c()},refSets:en}},NI=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),wY=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),MI=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,TY=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:MI(!1)};const r=e?t:{},i=e?r.count??!0:t,s=MI(i);return Object.assign(n,r,{count:s})},EY=(t,e,n)=>t||(typeof n=="string"?n:e),IY=t=>typeof t=="boolean"?t?NI({}):!1:NI(t),SY=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},CY=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),AY=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),OY=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},PY=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),kY=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ye(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},RY=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},In=t=>{const e=()=>{const R=t.enableSeconds?":ss":"";return t.is24?`HH:mm${R}`:`hh:mm${R} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=R=>Ox(R,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>TY(t.multiCalendars)),o=le(()=>i()),a=le(()=>wY(t.ariaLabels)),l=le(()=>CY(t.filters)),u=le(()=>IY(t.transitions)),c=le(()=>AY(t.actionRow)),h=le(()=>EY(t.previewFormat,t.format,n())),f=le(()=>SY(t.textInput)),p=le(()=>OY(t.inline)),g=le(()=>PY(t.config)),y=le(()=>kY(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),C=le(()=>RY(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:y,defaultedWeekNumbers:C,getDefaultPattern:n,getDefaultStartTime:i}},DY=(t,e,n)=>{const r=fe(),{defaultedTextInput:i,getDefaultPattern:s}=In(e),o=fe(""),a=Pc(e,"format");En(r,()=>{t("internal-model-change",r.value)}),En(a,()=>{q()});const l=O=>Cx(O,e.timezone),u=O=>Pi(O,e.timezone),c=(O,z,K=!1)=>kx(O,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,z??s(),K),h=O=>O?e.modelType?j(O):{hours:Oi(O),minutes:Zi(O),seconds:e.enableSeconds?Yl(O):0}:null,f=O=>e.modelType?j(O):{month:Et(O),year:ut(O)},p=O=>Array.isArray(O)?e.multiDates?O.map(z=>g(z,zi(ye(),z))):Vh(()=>[zi(ye(),O[0]),O[1]?zi(ye(),O[1]):qa(e.partialRange)],e.range):zi(ye(),+O),g=(O,z)=>(typeof O=="string"||typeof O=="number")&&e.modelType?$(O):z,y=O=>Array.isArray(O)?[g(O[0],fo(null,+O[0].hours,+O[0].minutes,O[0].seconds)),g(O[1],fo(null,+O[1].hours,+O[1].minutes,O[1].seconds))]:g(O,fo(null,O.hours,O.minutes,O.seconds)),C=O=>Array.isArray(O)?e.multiDates?O.map(z=>g(z,_s(null,+z.month,+z.year))):Vh(()=>[g(O[0],_s(null,+O[0].month,+O[0].year)),g(O[1],O[1]?_s(null,+O[1].month,+O[1].year):qa(e.partialRange))],e.range):g(O,_s(null,+O.month,+O.year)),R=O=>{if(Array.isArray(O))return O.map(z=>$(z));throw new Error(dp.dateArr("multi-dates"))},k=O=>{if(Array.isArray(O))return[ye(O[0]),ye(O[1])];throw new Error(dp.dateArr("week-picker"))},w=O=>e.modelAuto?Array.isArray(O)?[$(O[0]),$(O[1])]:e.autoApply?[$(O)]:[$(O),null]:Array.isArray(O)?Vh(()=>[$(O[0]),O[1]?$(O[1]):qa(e.partialRange)],e.range):$(O),S=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(qa(e.partialRange))},M=()=>{const O=r.value;return[j(O[0]),O[1]?j(O[1]):qa(e.partialRange)]},L=()=>r.value[1]?M():j(Vn(r.value[0])),I=()=>(r.value||[]).map(O=>j(O)),E=()=>(S(),e.modelAuto?L():e.multiDates?I():Array.isArray(r.value)?Vh(()=>M(),e.range):j(Vn(r.value))),_=O=>!O||Array.isArray(O)&&!O.length?null:e.timePicker?y(Vn(O)):e.monthPicker?C(Vn(O)):e.yearPicker?p(Vn(O)):e.multiDates?R(Vn(O)):e.weekPicker?k(Vn(O)):w(Vn(O)),v=O=>{const z=_(O);ky(Vn(z))?(r.value=Vn(z),q()):(r.value=null,o.value="")},T=()=>{const O=z=>co(z,i.value.format);return`${O(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?O(r.value[1]):""}`},A=()=>n.value&&r.value?Array.isArray(r.value)?T():co(r.value,i.value.format):c(r.value),P=()=>r.value?e.multiDates?r.value.map(O=>c(O)).join("; "):i.value.enabled&&typeof i.value.format=="string"?A():c(r.value):"",q=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=P():o.value=e.format(r.value)},$=O=>{if(e.utc){const z=new Date(O);return e.utc==="preserve"?new Date(z.getTime()+z.getTimezoneOffset()*6e4):z}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(O)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Ey(O,s(),new Date):u(Ey(O,e.modelType,new Date)):u(new Date(O))},j=O=>O?e.utc?pY(O,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(O):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(O)):c(l(O),e.modelType,!0):l(O):"",F=(O,z=!1)=>{if(t("update:model-value",O),e.emitTimezone&&z){const K=Array.isArray(O)?O.map(te=>Pi(Vn(te)),e.emitTimezone):Pi(Vn(O),e.emitTimezone);t("update:model-timezone-value",K)}},U=O=>Array.isArray(r.value)?e.multiDates?r.value.map(z=>O(z)):[O(r.value[0]),r.value[1]?O(r.value[1]):qa(e.partialRange)]:O(Vn(r.value)),x=O=>F(Vn(U(O)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:q,emitModelValue:()=>(q(),e.monthPicker?x(f):e.timePicker?x(h):e.yearPicker?x(ut):e.weekPicker?F(r.value.map(O=>j(O)),!0):F(E(),!0))}},xY=(t,e)=>{const{defaultedFilters:n}=In(t),{validateMonthYearInRange:r}=Ra(t),i=(u,c)=>{let h=u;return n.value.months.includes(Et(h))?(h=c?Ai(u,1):Gl(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ut(h))?(h=c?tb(u,1):vx(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=on(new Date,{month:t.month,year:t.year});let f=u?Ai(h,1):Gl(h,1);t.disableYearSelect&&(f=zi(f,t.year));let p=Et(f),g=ut(f);n.value.months.includes(p)&&(f=i(f,u),p=Et(f),g=ut(f)),n.value.years.includes(g)&&(f=s(f,u),g=ut(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=le(()=>u=>Px(on(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var Za=(t=>(t.center="center",t.left="left",t.right="right",t))(Za||{}),gi=(t=>(t.month="month",t.year="year",t))(gi||{}),Uo=(t=>(t.top="top",t.bottom="bottom",t))(Uo||{}),ea=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ea||{}),Bi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bi||{});const NY=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=fe({}),u=fe(!1),c=fe({top:"0",left:"0"}),h=fe(!1),f=Pc(o,"teleportCenter");En(f,()=>{c.value=JSON.parse(JSON.stringify({})),S()});const p=$=>{if(o.teleport){const j=$.getBoundingClientRect();return{left:j.left+window.scrollX,top:j.top+window.scrollY}}return{top:0,left:0}},g=($,j)=>{c.value.left=`${$+j-l.value.width}px`},y=$=>{c.value.left=`${$}px`},C=($,j)=>{o.position===Za.left&&y($),o.position===Za.right&&g($,j),o.position===Za.center&&(c.value.left=`${$+j/2-l.value.width/2}px`)},R=$=>{const{width:j,height:F}=$.getBoundingClientRect(),{top:U,left:x}=o.altPosition?o.altPosition($):p($);return{top:+U,left:+x,width:j,height:F}},k=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},w=()=>{const $=Nn(n),{top:j,left:F,transform:U}=o.altPosition($);c.value={top:`${j}px`,left:`${F}px`,transform:U??""}},S=($=!0)=>{var j;if(!i.value.enabled){if(f.value)return k();if(o.altPosition!==null)return w();if($){const F=o.teleport?(j=e.value)==null?void 0:j.$el:t.value;F&&(l.value=F.getBoundingClientRect()),s("recalculate-position")}return T()}},M=({inputEl:$,left:j,width:F})=>{window.screen.width>768&&!u.value&&C(j,F),E($)},L=$=>{const{top:j,left:F,height:U,width:x}=R($);c.value.top=`${U+j+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${F+x/2-l.value.width/2}px`),M({inputEl:$,left:F,width:x})},I=$=>{const{top:j,left:F,width:U}=R($);c.value.top=`${j-+o.offset-l.value.height}px`,h.value=!0,M({inputEl:$,left:F,width:U})},E=$=>{if(o.autoPosition){const{left:j,width:F}=R($),{left:U,right:x}=l.value;if(!u.value){if(Math.abs(U)!==Math.abs(x)){if(U<=0)return u.value=!0,y(j);if(x>=document.documentElement.clientWidth)return u.value=!0,g(j,F)}return C(j,F)}}},_=()=>{const $=Nn(n);if($){const{height:j}=l.value,{top:F,height:U}=$.getBoundingClientRect(),x=window.innerHeight-F-U,O=F;return j<=x?Uo.bottom:j>x&&j<=O?Uo.top:x>=O?Uo.bottom:Uo.top}return Uo.bottom},v=$=>_()===Uo.bottom?L($):I($),T=()=>{const $=Nn(n);if($)return o.autoPosition?v($):L($)},A=function($){if($){const j=$.scrollHeight>$.clientHeight,F=window.getComputedStyle($).overflowY.indexOf("hidden")!==-1;return j&&!F}return!0},P=function($){return!$||$===document.body||$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:A($)?$:P($.parentNode)},q=$=>{if($)switch(o.position){case Za.left:return{left:0,transform:"translateX(0)"};case Za.right:return{left:`${$.width}px`,transform:"translateX(-100%)"};default:return{left:`${$.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:S,getScrollableParent:P,shadowRender:($,j)=>{var F,U,x;const O=document.createElement("div"),z=(F=Nn(n))==null?void 0:F.getBoundingClientRect();O.setAttribute("id","dp--temp-container");const K=(U=r.value)!=null&&U.clientWidth?r.value:document.body;K.append(O);const te=q(z),he=Ol($,{...j,shadow:!0,style:{opacity:0,position:"absolute",...te}},Object.fromEntries(Object.keys(a).filter(Z=>["right-sidebar","left-sidebar"].includes(Z)).map(Z=>[Z,a[Z]])));Lc(he,O),l.value=(x=he.el)==null?void 0:x.getBoundingClientRect(),Lc(null,O),K.removeChild(O)}}},js=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],MY=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],LY={all:()=>js,monthYear:()=>js.filter(t=>t.use.includes("month-year")),input:()=>MY,timePicker:()=>js.filter(t=>t.use.includes("time")),action:()=>js.filter(t=>t.use.includes("action")),calendar:()=>js.filter(t=>t.use.includes("calendar")),menu:()=>js.filter(t=>t.use.includes("menu")),shared:()=>js.filter(t=>t.use.includes("shared")),yearMode:()=>js.filter(t=>t.use.includes("year-mode"))},Qr=(t,e,n)=>{const r=[];return LY[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Kd=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Yd=(t,e)=>{const n=ye(Pi(new Date,t.timezone)),r=fe([{month:Et(n),year:ut(n)}]),i=Rr({hours:t.range?[Oi(n),Oi(n)]:Oi(n),minutes:t.range?[Zi(n),Zi(n)]:Zi(n),seconds:t.range?[0,0]:0}),s=le({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=le(()=>l=>r.value[l]?r.value[l].month:0),a=le(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},VY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=In(e),{isDisabled:i,matchDate:s}=Ra(e),o=fe(null),a=fe(ye(Pi(new Date,e.timezone))),l=x=>{!x.current&&e.hideOffsetDates||(o.value=x.value)},u=()=>{o.value=null},c=x=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?x?gr(o.value,t.value[0]):Xn(o.value,t.value[0]):!0,h=(x,O)=>{const z=()=>t.value?O?t.value[0]||null:t.value[1]:null,K=t.value&&Array.isArray(t.value)?z():null;return Rt(ye(x.value),K)},f=x=>{const O=Array.isArray(t.value)?t.value[0]:null;return x?!Xn(o.value??null,O):!0},p=(x,O=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!x.current?!1:Rt(ye(x.value),t.value[O?0:1]):e.range?h(x,O)&&f(O)||Rt(x.value,Array.isArray(t.value)?t.value[0]:null)&&c(O):!1,g=(x,O,z)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?x?!1:z?gr(t.value[0],O.value):Xn(t.value[0],O.value):!1,y=x=>!t.value||e.hideOffsetDates&&!x.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Rt(x.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(O=>Rt(O,x.value)):Rt(x.value,t.value?t.value:a.value),C=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const O=ps(o.value,+e.autoRange),z=of(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(z[1],ye(x.value)):Rt(O,ye(x.value))}return!1}return!1},R=x=>{if(e.autoRange||e.weekPicker){if(o.value){const O=ps(o.value,+e.autoRange);if(e.hideOffsetDates&&!x.current)return!1;const z=of(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?gr(x.value,z[0])&&Xn(x.value,z[1]):gr(x.value,o.value)&&Xn(x.value,O)}return!1}return!1},k=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const O=of(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(O[0],x.value):Rt(o.value,x.value)}return!1}return!1},w=x=>mm(t.value,o.value,x.value),S=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?Ex(e.internalModelValue):!0,L=x=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const O=e.range?!p(x)&&!p(x,!1):!0;return!i(x.value)&&!y(x)&&!(!x.current&&e.hideOffsetDates)&&O},I=x=>e.range?e.modelAuto?S()&&y(x):!1:y(x),E=x=>{var O;return r.value?typeof r.value=="function"?r.value(x.value):s(x.value,(O=e.arrMapValues)!=null&&O.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},_=x=>{const O=i(x.value);return O&&(typeof r.value=="function"?!r.value(x.value,O):!r.value.options.highlightDisabled)},v=x=>{var O;return typeof r.value=="function"?r.value(x.value):(O=r.value.weekdays)==null?void 0:O.includes(x.value.getDay())},T=x=>(e.range||e.weekPicker)&&(!(n.value.count>0)||x.current)&&M()&&!(!x.current&&e.hideOffsetDates)&&!y(x)?w(x):!1,A=x=>{const{isRangeStart:O,isRangeEnd:z}=$(x),K=e.range?O||z:!1;return{dp__cell_offset:!x.current,dp__pointer:!e.disabled&&!(!x.current&&e.hideOffsetDates)&&!i(x.value),dp__cell_disabled:i(x.value),dp__cell_highlight:!_(x)&&(E(x)||v(x))&&!I(x)&&!K&&!k(x)&&!(T(x)&&e.weekPicker)&&!z,dp__cell_highlight_active:!_(x)&&(E(x)||v(x))&&I(x),dp__today:!e.noToday&&Rt(x.value,a.value)&&x.current}},P=x=>({dp__active_date:I(x),dp__date_hover:L(x)}),q=x=>({...j(x),...F(x),dp__range_between_week:T(x)&&e.weekPicker}),$=x=>{const O=n.value.count>0?x.current&&p(x)&&M():p(x)&&M(),z=n.value.count>0?x.current&&p(x,!1)&&M():p(x,!1)&&M();return{isRangeStart:O,isRangeEnd:z}},j=x=>{const{isRangeStart:O,isRangeEnd:z}=$(x);return{dp__range_start:O,dp__range_end:z,dp__range_between:T(x)&&!e.weekPicker,dp__date_hover_start:g(L(x),x,!0),dp__date_hover_end:g(L(x),x,!1)}},F=x=>({...j(x),dp__cell_auto_range:R(x),dp__cell_auto_range_start:k(x),dp__cell_auto_range_end:C(x)}),U=x=>e.range?e.autoRange?F(x):e.modelAuto?{...P(x),...j(x)}:j(x):e.weekPicker?q(x):P(x);return{setHoverDate:l,clearHoverDate:u,getDayClassData:x=>e.hideOffsetDates&&!x.current?{}:{...A(x),...U(x),[e.dayClass?e.dayClass(x.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ra=t=>{const{defaultedFilters:e,defaultedHighlight:n}=In(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const T=_r(s(ye(v))).toISOString(),[A]=T.split("T");return A},s=v=>t.utc==="preserve"?Cx(v,r()):Pi(v,r()),o=v=>{var T;const A=t.maxDate?gr(v,s(ye(t.maxDate))):!1,P=t.minDate?Xn(v,s(ye(t.minDate))):!1,q=c(s(v),(T=t.arrMapValues)!=null&&T.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),$=e.value.months.map(O=>+O).includes(Et(v)),j=t.disabledWeekDays.length?t.disabledWeekDays.some(O=>+O===cz(v)):!1,F=f(v),U=ut(v),x=U<+t.yearRange[0]||U>+t.yearRange[1];return!(A||P||q||$||x||j||F)},a=(v,T)=>Xn(...ro(t.minDate,v,T))||Rt(...ro(t.minDate,v,T)),l=(v,T)=>gr(...ro(t.maxDate,v,T))||Rt(...ro(t.maxDate,v,T)),u=(v,T,A)=>{let P=!1;return t.maxDate&&A&&l(v,T)&&(P=!0),t.minDate&&!A&&a(v,T)&&(P=!0),P},c=(v,T)=>v?T instanceof Map?!!T.get(i(v)):Array.isArray(T)?T.some(A=>Rt(s(ye(A)),v)):T?T(ye(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,T,A,P)=>{let q=!1;return P?t.minDate&&t.maxDate?q=u(v,T,A):(t.minDate&&a(v,T)||t.maxDate&&l(v,T))&&(q=!0):q=!0,q},f=v=>{var T,A,P,q,$;return Array.isArray(t.allowedDates)&&!((T=t.allowedDates)!=null&&T.length)?!0:(A=t.arrMapValues)!=null&&A.allowedDates?!c(v,(P=t.arrMapValues)==null?void 0:P.allowedDates):(q=t.allowedDates)!=null&&q.length?!(($=t.allowedDates)!=null&&$.some(j=>Rt(_r(j),s(_r(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!JD({start:v[0],end:v[1]}).some(T=>p(T)):!0,y=(v,T,A=0)=>{if(Array.isArray(T)&&T[A]){const P=tq(v,T[A]),q=Ax(T[A],v),$=q.length===1?0:q.filter(F=>p(F)).length,j=Math.abs(P)-$;if(t.minRange&&t.maxRange)return j>=+t.minRange&&j<=+t.maxRange;if(t.minRange)return j>=+t.minRange;if(t.maxRange)return j<=+t.maxRange}return!0},C=v=>new Map(v.map(T=>[i(T),!0])),R=v=>Array.isArray(v)&&v.length>0,k=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return R(t.allowedDates)&&(v.allowedDates=C(t.allowedDates)),typeof n.value!="function"&&R(n.value.dates)&&(v.highlightedDates=C(n.value.dates)),R(t.disabledDates)&&(v.disabledDates=C(t.disabledDates)),v},w=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,S=v=>Array.isArray(v)?[v[0]?$g(v[0]):null,v[1]?$g(v[1]):null]:$g(v),M=(v,T,A)=>v.find(P=>+P.hours===Oi(T)&&P.minutes==="*"?!0:+P.minutes===Zi(T)&&+P.hours===Oi(T))&&A,L=(v,T,A)=>{const[P,q]=v,[$,j]=T;return!M(P,$,A)&&!M(q,j,A)&&A},I=(v,T)=>{const A=Array.isArray(T)?T:[T];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,A,v):!A.some(P=>M(t.disabledTimes,P,v)):v},E=(v,T)=>{const A=Array.isArray(T)?[Zo(T[0]),T[1]?Zo(T[1]):void 0]:Zo(T),P=!t.disabledTimes(A);return v&&P},_=(v,T)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(T,v):E(T,v):T;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:y,matchDate:c,mapDatesArrToMap:k,isValidTime:v=>{let T=!0;if(!v||w())return!0;const A=!t.minDate&&!t.maxDate?S(v):v;return(t.maxTime||t.maxDate)&&(T=xI(t.maxTime,t.maxDate,"max",Vn(A),T)),(t.minTime||t.minDate)&&(T=xI(t.minTime,t.minDate,"min",Vn(A),T)),_(v,T)}}},gm=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},FY=(t,e,n)=>{const r=fe(0),i=Rr({[ea.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ea.calendar]:!1,[ea.header]:!1}),s=le(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Bi.month,"toggleMonthPicker",!0),u(Bi.year,"toggleYearPicker",!0),u(Bi.calendar,"toggleTimePicker",!1,!0),u(Bi.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Bi.hours||h===Bi.minutes||h===Bi.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},vm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Mi={...vm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},$Y={key:1,class:"dp__input_wrap"},UY=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],BY={key:2,class:"dp__clear_icon"},jY=Kt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...vm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=In(i),{checkMinMaxRange:h}=Ra(i),f=fe(),p=fe(null),g=fe(!1),y=fe(!1),C=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},k=q=>{const $=c();return fY(q,s.value.format??u(),$??Ox({},i.enableSeconds),i.inputValue,y.value)},w=q=>{const{rangeSeparator:$}=s.value,[j,F]=q.split(`${$}`);if(j){const U=k(j.trim()),x=F?k(F.trim()):null,O=U&&x?[U,x]:[U];h(x,O,0)&&(f.value=U?O:null)}},S=()=>{y.value=!0},M=q=>{if(i.range)w(q);else if(i.multiDates){const $=q.split(";");f.value=$.map(j=>k(j.trim())).filter(j=>j)}else f.value=k(q)},L=q=>{var $;const j=typeof q=="string"?q:($=q.target)==null?void 0:$.value;j!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M(j),r("set-input-date",f.value)):R(),y.value=!1,r("update:input-value",j)},I=q=>{s.value.enabled?(M(q.target.value),s.value.enterSubmit&&ky(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(q)},E=q=>{s.value.enabled&&s.value.tabSubmit&&M(q.target.value),s.value.tabSubmit&&ky(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},_=()=>{var q;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((q=p.value)==null||q.select())},v=q=>{q.preventDefault(),ho(q,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},T=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},A=q=>{ho(q,l.value,!0),r("clear")},P=q=>{if(!s.value.enabled){if(q.code==="Tab")return;q.preventDefault()}};return e({focusInput:()=>{var q;(q=p.value)==null||q.focus({preventScroll:!0})},setParsedDate:q=>{f.value=q}}),(q,$)=>{var j;return W(),ee("div",{onClick:v},[q.$slots.trigger&&!q.$slots["dp-input"]&&!G(a).enabled?_e(q.$slots,"trigger",{key:0}):de("",!0),!q.$slots.trigger&&(!G(a).enabled||G(a).input)?(W(),ee("div",$Y,[q.$slots["dp-input"]&&!q.$slots.trigger&&!G(a).enabled?_e(q.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:I,onTab:E,onClear:A,onBlur:T,onKeypress:P,onPaste:S,openMenu:()=>q.$emit("open"),closeMenu:()=>q.$emit("close"),toggleMenu:()=>q.$emit("toggle")}):de("",!0),q.$slots["dp-input"]?de("",!0):(W(),ee("input",{key:1,id:q.uid?`dp-input-${q.uid}`:void 0,ref_key:"inputRef",ref:p,name:q.name,class:tt(C.value),inputmode:G(s).enabled?"text":"none",placeholder:q.placeholder,disabled:q.disabled,readonly:q.readonly,required:q.required,value:t.inputValue,autocomplete:q.autocomplete,"aria-label":(j=G(o))==null?void 0:j.input,"aria-disabled":q.disabled||void 0,"aria-invalid":q.state===!1?!0:void 0,onInput:L,onKeydown:[at(I,["enter"]),at(E,["tab"]),P],onBlur:T,onFocus:_,onKeypress:P,onPaste:S},null,42,UY)),Ce("div",{onClick:$[2]||($[2]=F=>r("toggle"))},[q.$slots["input-icon"]&&!q.hideInputIcon?(W(),ee("span",{key:0,class:"dp__input_icon",onClick:$[0]||($[0]=F=>r("toggle"))},[_e(q.$slots,"input-icon")])):de("",!0),!q.$slots["input-icon"]&&!q.hideInputIcon&&!q.$slots["dp-input"]?(W(),qe(G(pu),{key:1,class:"dp__input_icon dp__input_icons",onClick:$[1]||($[1]=F=>r("toggle"))})):de("",!0)]),q.$slots["clear-icon"]&&t.inputValue&&q.clearable&&!q.disabled&&!q.readonly?(W(),ee("span",BY,[_e(q.$slots,"clear-icon",{clear:A})])):de("",!0),q.clearable&&!q.$slots["clear-icon"]&&t.inputValue&&!q.disabled&&!q.readonly?(W(),qe(G(yx),{key:3,class:"dp__clear_icon dp__input_icons",onClick:$[3]||($[3]=Lt(F=>A(F),["prevent"]))})):de("",!0)])):de("",!0)])}}}),HY=["title"],WY={class:"dp__action_buttons"},qY=["disabled"],zY=Kt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Mi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=In(r),{isValidTime:c}=Ra(r),{buildMatrix:h}=Po(),f=fe(null),p=fe(null);vn(()=>{r.arrowNavigation&&h([Nn(f),Nn(p)],"actionRow")});const g=le(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),y=le(()=>!C.value||!R.value||!g.value),C=le(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),R=le(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!E(v)).length:E(r.internalModelValue):!0),k=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Vn(r.internalModelValue))},w=()=>{const v=r.internalModelValue;return o.value.count>0?`${S(v[0])} - ${S(v[1])}`:[S(v[0]),S(v[1])]},S=v=>kx(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?w():r.multiDates?r.internalModelValue.map(v=>`${S(v)}`):r.modelAuto?`${S(r.internalModelValue[0])}`:`${S(r.internalModelValue[0])} -`:S(r.internalModelValue):k()),L=()=>r.multiDates?"; ":" - ",I=le(()=>Array.isArray(M.value)?M.value.join(L()):M.value),E=v=>{if(!r.monthPicker)return!0;let T=!0;const A=ye(wi(v));if(r.minDate&&r.maxDate){const P=ye(wi(r.minDate)),q=ye(wi(r.maxDate));return gr(A,P)&&Xn(A,q)||Rt(A,P)||Rt(A,q)}if(r.minDate){const P=ye(wi(r.minDate));T=gr(A,P)||Rt(A,P)}if(r.maxDate){const P=ye(wi(r.maxDate));T=Xn(A,P)||Rt(A,P)}return T},_=()=>{C.value&&R.value&&g.value?n("select-date"):n("invalid-select")};return(v,T)=>(W(),ee("div",{class:"dp__action_row",style:Pr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?_e(v.$slots,"action-row",bn(pe({key:0},{internalModelValue:v.internalModelValue,disabled:y.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(W(),ee(Ne,{key:1},[G(i).showPreview?(W(),ee("div",{key:0,class:"dp__selection_preview",title:I.value},[v.$slots["action-preview"]?_e(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-preview"]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(I.value),1)],64))],8,HY)):de("",!0),Ce("div",WY,[v.$slots["action-buttons"]?_e(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-buttons"]?de("",!0):(W(),ee(Ne,{key:1},[!G(l).enabled&&G(i).showCancel?(W(),ee("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:T[0]||(T[0]=A=>v.$emit("close-picker")),onKeydown:[T[1]||(T[1]=at(A=>v.$emit("close-picker"),["enter"])),T[2]||(T[2]=at(A=>v.$emit("close-picker"),["space"]))]},dt(v.cancelText),545)):de("",!0),G(i).showNow?(W(),ee("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:T[3]||(T[3]=A=>v.$emit("select-now")),onKeydown:[T[4]||(T[4]=at(A=>v.$emit("select-now"),["enter"])),T[5]||(T[5]=at(A=>v.$emit("select-now"),["space"]))]},dt(v.nowButtonLabel),545)):de("",!0),G(i).showSelect?(W(),ee("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:y.value,onKeydown:[at(_,["enter"]),at(_,["space"])],onClick:_},dt(v.selectText),41,qY)):de("",!0)],64))])],64))],4))}}),KY=["onKeydown"],YY={class:"dp__selection_grid_header"},GY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],QY=["aria-label"],Gd=Kt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Po(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=In(a),{hideNavigationButtons:h}=gm(),f=fe(!1),p=fe(null),g=fe(null),y=fe([]),C=fe(),R=fe(null),k=fe(0),w=fe(null);s_(()=>{p.value=null}),vn(()=>{jn().then(()=>T()),a.noOverlayFocus||M(),S(!0)}),Ta(()=>S(!1));const S=x=>{var O;a.arrowNavigation&&((O=a.headerRefs)!=null&&O.length?s(x):r(x))},M=()=>{var x;const O=Nn(g);O&&(u.value.enabled||(p.value?(x=p.value)==null||x.focus({preventScroll:!0}):O.focus({preventScroll:!0})),f.value=O.clientHeight<O.scrollHeight)},L=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),I=le(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=le(()=>({dp__overlay_col:!0})),_=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=le(()=>{var x,O;return{dp__overlay_container:!0,dp__container_flex:((x=a.items)==null?void 0:x.length)<=6,dp__container_block:((O=a.items)==null?void 0:O.length)>6}});En(()=>a.items,()=>T(),{deep:!0});const T=()=>{jn().then(()=>{const x=Nn(p),O=Nn(g),z=Nn(R),K=Nn(w),te=z?z.getBoundingClientRect().height:0;O&&(O.getBoundingClientRect().height?k.value=O.getBoundingClientRect().height-te:k.value=c.value.modeHeight-te),x&&K&&(K.scrollTop=x.offsetTop-K.offsetTop-(k.value/2-x.getBoundingClientRect().height)-te)})},A=x=>{x.disabled||o("selected",x.value)},P=()=>{o("toggle"),o("reset-flow")},q=()=>{a.escClose&&P()},$=(x,O,z,K)=>{x&&((O.active||O.value===a.focusValue)&&(p.value=x),a.arrowNavigation&&(Array.isArray(y.value[z])?y.value[z][K]=x:y.value[z]=[x],j()))},j=()=>{var x,O;const z=(x=a.headerRefs)!=null&&x.length?[a.headerRefs].concat(y.value):y.value.concat([a.skipButtonRef?[]:[R.value]]);i(Vn(z),(O=a.headerRefs)!=null&&O.length?"monthPicker":"selectionGrid")},F=x=>{a.arrowNavigation||ho(x,c.value,!0)},U=x=>{C.value=x,o("hover-value",x)};return e({focusGrid:M}),(x,O)=>{var z;return W(),ee("div",{ref_key:"gridWrapRef",ref:g,class:tt(L.value),style:Pr(I.value),role:"dialog",tabindex:"0",onKeydown:[at(Lt(q,["prevent"]),["esc"]),O[0]||(O[0]=at(Lt(K=>F(K),["prevent"]),["left"])),O[1]||(O[1]=at(Lt(K=>F(K),["prevent"]),["up"])),O[2]||(O[2]=at(Lt(K=>F(K),["prevent"]),["down"])),O[3]||(O[3]=at(Lt(K=>F(K),["prevent"]),["right"]))]},[Ce("div",{ref_key:"containerRef",ref:w,class:tt(v.value),role:"grid",style:Pr({height:`${k.value}px`})},[Ce("div",YY,[_e(x.$slots,"header")]),x.$slots.overlay?_e(x.$slots,"overlay",{key:0}):(W(!0),ee(Ne,{key:1},Ft(x.items,(K,te)=>(W(),ee("div",{key:te,class:tt(["dp__overlay_row",{dp__flex_row:x.items.length>=3}]),role:"row"},[(W(!0),ee(Ne,null,Ft(K,(he,Z)=>(W(),ee("div",{key:he.value,ref_for:!0,ref:H=>$(H,he,te,Z),role:"gridcell",class:tt(E.value),"aria-selected":he.active,"aria-disabled":he.disabled||void 0,tabindex:"0",onClick:H=>A(he),onKeydown:[at(Lt(H=>A(he),["prevent"]),["enter"]),at(Lt(H=>A(he),["prevent"]),["space"])],onMouseover:H=>U(he.value)},[Ce("div",{class:tt(he.className)},[x.$slots.item?_e(x.$slots,"item",{key:0,item:he}):de("",!0),x.$slots.item?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(he.text),1)],64))],2)],42,GY))),128))],2))),128))],6),x.$slots["button-icon"]?Ko((W(),ee("button",{key:0,ref_key:"toggleButton",ref:R,type:"button","aria-label":(z=G(l))==null?void 0:z.toggleOverlay,class:tt(_.value),tabindex:"0",onClick:P,onKeydown:[at(P,["enter"]),at(P,["tab"])]},[_e(x.$slots,"button-icon")],42,QY)),[[sc,!G(h)(x.hideNavigation,x.type)]]):de("",!0)],46,KY)}}}),ym=Kt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(W(),ee("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(W(!0),ee(Ne,null,Ft(n.value,(o,a)=>(W(),ee("div",{key:o,class:tt(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),XY=["aria-label","aria-disabled"],Tc=Kt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=fe(null);return vn(()=>n("set-ref",r)),(i,s)=>(W(),ee("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Lt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Lt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ce("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,XY))}}),JY={class:"dp--year-mode-picker"},ZY=["aria-label"],xx=Kt({__name:"YearModePicker",props:{...Mi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=gm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=In(r),{showTransition:c,transitionName:h}=Kd(u),f=(y=!1,C)=>{n("toggle-year-picker",{flow:y,show:C})},p=y=>{n("year-select",y)},g=(y=!1)=>{n("handle-year",y)};return(y,C)=>{var R,k,w;return W(),ee("div",JY,[G(s)(G(a),t.instance)?(W(),qe(Tc,{key:0,ref:"mpPrevIconRef","aria-label":(R=G(l))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),onActivate:C[0]||(C[0]=S=>g(!1))},{default:Qe(()=>[y.$slots["arrow-left"]?_e(y.$slots,"arrow-left",{key:0}):de("",!0),y.$slots["arrow-left"]?de("",!0):(W(),qe(G(ub),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ce("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(k=G(l))==null?void 0:k.openYearsOverlay,onClick:C[1]||(C[1]=()=>f(!1)),onKeydown:C[2]||(C[2]=at(()=>f(!1),["enter"]))},[y.$slots.year?_e(y.$slots,"year",{key:0,year:t.year}):de("",!0),y.$slots.year?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(t.year),1)],64))],40,ZY),G(i)(G(a),t.instance)?(W(),qe(Tc,{key:1,ref:"mpNextIconRef","aria-label":(w=G(l))==null?void 0:w.nextYear,disabled:t.isDisabled(!0),onActivate:C[3]||(C[3]=S=>g(!0))},{default:Qe(()=>[y.$slots["arrow-right"]?_e(y.$slots,"arrow-right",{key:0}):de("",!0),y.$slots["arrow-right"]?de("",!0):(W(),qe(G(cb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),et(So,{name:G(h)(t.showYearPicker),css:G(c)},{default:Qe(()=>[t.showYearPicker?(W(),qe(Gd,{key:0,items:t.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!G(o).keepActionRow,"hide-navigation":y.hideNavigation,type:"year",onToggle:f,onSelected:C[4]||(C[4]=S=>p(S))},Zn({"button-icon":Qe(()=>[y.$slots["calendar-icon"]?_e(y.$slots,"calendar-icon",{key:0}):de("",!0),y.$slots["calendar-icon"]?de("",!0):(W(),qe(G(pu),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:S})=>[_e(y.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):de("",!0)]),_:3},8,["name","css"])])}}}),_b=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Rt(t,r))){const r=e.value.filter(i=>!Rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},bb=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Xn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},_m=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Nx=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Pi(ye(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Pi(ye(t.value),t.timezone))},Mx=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=le(()=>vb(i.yearRange,i.reverseYears)),u=fe([!1]),c=le(()=>(S,M)=>{const L=on(wi(new Date),{month:o.value(S),year:s.value(S)});return Px(L,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),h=()=>{for(let S=0;S<t.value.count;S++)if(S===0)n.value[S]=n.value[0];else{const M=on(ye(),n.value[S-1]);n.value[S]={month:Et(M),year:ut(tb(M,1))}}},f=S=>{if(!S)return h();const M=on(ye(),n.value[S]);return n.value[0].year=ut(vx(M,t.value.count-1)),h()},p=S=>i.focusStartDate?S[0]:S[1]?S[1]:S[0],g=()=>{if(r.value){const S=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Et(S),year:ut(S)}}};vn(()=>{g(),t.value.count&&h()});const y=(S,M)=>{n.value[M].year=S,t.value.count&&!t.value.solo&&f(M)},C=le(()=>S=>Ql(l.value,M=>{const L=s.value(S)===M.value,I=id(M.value,Xl(i.minDate),Xl(i.maxDate)),E=yb(e.value,M.value);return{active:L,disabled:I,highlighted:E}})),R=(S,M)=>{y(S,M),w(M)},k=(S,M=!1)=>{if(!c.value(S,M)){const L=M?s.value(S)+1:s.value(S)-1;y(L,S)}},w=(S,M=!1,L)=>{M||a("reset-flow"),L!==void 0?u.value[S]=L:u.value[S]=!u.value[S],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:C,showYearPicker:u,selectYear:y,toggleYearPicker:w,handleYearSelect:R,handleYear:k}},eG=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=In(t),{modelValue:a,year:l,month:u,calendars:c}=Yd(t,e),h=le(()=>Tx(t.formatLocale,t.locale,t.monthNameFormat)),f=fe(null),{selectYear:p,groupedYears:g,showYearPicker:y,toggleYearPicker:C,handleYearSelect:R,handleYear:k,isDisabled:w}=Mx({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});vn(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ut(ye(t.startDate)),0)});const S=F=>F?{month:Et(F),year:ut(F)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(F=>S(F)):S(a.value):S(),L=(F,U)=>{const x=c.value[F],O=M();return Array.isArray(O)?O.some(z=>z.year===(x==null?void 0:x.year)&&z.month===U):(x==null?void 0:x.year)===O.year&&U===O.month},I=(F,U,x)=>{var O,z;const K=M();return Array.isArray(K)?l.value(U)===((O=K[x])==null?void 0:O.year)&&F===((z=K[x])==null?void 0:z.month):!1},E=(F,U)=>{if(t.range){const x=M();if(Array.isArray(a.value)&&Array.isArray(x)){const O=I(F,U,0)||I(F,U,1),z=_s(wi(ye()),F,l.value(U));return mm(a.value,f.value,z)&&!O}return!1}return!1},_=le(()=>F=>Ql(h.value,U=>{const x=L(F,U.value),O=id(U.value,Ix(l.value(F),t.minDate),Sx(l.value(F),t.maxDate))||bY(t.disabledDates,l.value(F)).includes(U.value),z=E(U.value,F),K=Rx(o.value,U.value,l.value(F));return{active:x,disabled:O,isBetween:z,highlighted:K}})),v=(F,U)=>_s(wi(ye()),F,l.value(U)),T=(F,U)=>{const x=a.value?a.value:wi(new Date);a.value=_s(x,F,l.value(U)),e("auto-apply")},A=(F,U)=>{const x=bb(a,v(F,U),e);_m(x,e,t.autoApply,t.modelAuto)},P=(F,U)=>{_b(v(F,U),a,t.multiDatesLimit),e("auto-apply",!0)},q=(F,U)=>(c.value[U].month=F,j(U,c.value[U].year,F),t.multiDates?P(F,U):t.range?A(F,U):T(F,U)),$=(F,U)=>{p(F,U),j(U,F,null)},j=(F,U,x)=>{let O=x;if(!O&&O!==0){const z=M();O=Array.isArray(z)?z[F].month:z.month}e("update-month-year",{instance:F,year:U,month:O})};return{groupedMonths:_,groupedYears:g,year:l,isDisabled:w,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:y,modelValue:a,presetDate:(F,U)=>{Nx({value:F,modelValue:a,range:t.range,timezone:U?void 0:t.timezone}),e("auto-apply")},setHoverDate:(F,U)=>{f.value=v(F,U)},selectMonth:q,selectYear:$,toggleYearPicker:C,handleYearSelect:R,handleYear:k,getModelMonthYear:M}},tG=Kt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Mi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Ea(),s=Qr(i,"yearMode"),o=t;vn(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:y,setHoverDate:C,selectMonth:R,selectYear:k,toggleYearPicker:w,handleYearSelect:S,handleYear:M,getModelMonthYear:L}=eG(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:L,selectMonth:R,selectYear:k,handleYear:M}),presetDate:y,toggleYearPicker:I=>w(0,I)}),(I,E)=>(W(),qe(ym,{"multi-calendars":G(h).count,stretch:""},{default:Qe(({instance:_})=>[I.$slots["month-year"]?_e(I.$slots,"month-year",bn(pe({key:0},{year:G(u),months:G(a)(_),years:G(l)(_),selectMonth:G(R),selectYear:G(k),instance:_}))):(W(),qe(Gd,{key:1,items:G(a)(_),"arrow-navigation":I.arrowNavigation,"is-last":I.autoApply&&!G(f).keepActionRow,"esc-close":I.escClose,height:G(f).modeHeight,config:I.config,"no-overlay-focus":!!(I.noOverlayFocus||I.textInput),"use-relative":"",type:"month",onSelected:v=>G(R)(v,_),onHoverValue:v=>G(C)(v,_)},{header:Qe(()=>[et(xx,pe(I.$props,{items:G(l)(_),instance:_,"show-year-picker":G(p)[_],year:G(u)(_),"is-disabled":v=>G(c)(_,v),onHandleYear:v=>G(M)(_,v),onYearSelect:v=>G(S)(v,_),onToggleYearPicker:v=>G(w)(_,v==null?void 0:v.flow,v==null?void 0:v.show)}),Zn({_:2},[Ft(G(s),(v,T)=>({name:v,fn:Qe(A=>[_e(I.$slots,v,bn(Jn(A)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),nG=(t,e)=>{const{modelValue:n}=Yd(t,e),r=fe(null),{defaultedHighlight:i,defaultedFilters:s}=In(t),o=fe();vn(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ut(ye(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ut(f)===h):n.value?ut(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?mm(n.value,r.value,c(h)):!1,u=le(()=>Ql(vb(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=id(h.value,Xl(t.minDate),Xl(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,y=yb(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:y}})),c=h=>zi(wi(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=zi(wi(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ut(p))).includes(h)?n.value=n.value.filter(p=>ut(p)!==h):n.value.push(zi(_r(ye()),h))):n.value=[zi(_r(ye()),h)],e("auto-apply",!0);if(t.range){const p=bb(n,c(h),e);return _m(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},rG=Kt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Mi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=nG(i,r),{defaultedConfig:c}=In(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(W(),ee("div",null,[h.$slots["month-year"]?_e(h.$slots,"month-year",bn(pe({key:0},{years:G(s),selectYear:G(l)}))):(W(),qe(Gd,{key:1,items:G(s),"is-last":h.autoApply&&!G(c).keepActionRow,height:G(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":G(a),type:"year","use-relative":"",onSelected:G(l),onHoverValue:G(u)},Zn({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[_e(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),iG={key:0,class:"dp__time_input"},sG=["aria-label","onKeydown","onClick"],oG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),aG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),lG=["aria-label","disabled","onKeydown","onClick"],uG=["aria-label","onKeydown","onClick"],cG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),dG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),hG={key:0},fG=["aria-label","onKeydown"],pG=Kt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Mi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Po(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=In(i),{transitionName:h,showTransition:f}=Kd(l),p=Rr({hours:!1,minutes:!1,seconds:!1}),g=fe("AM"),y=fe(null),C=fe([]);vn(()=>{r("mounted")});const R=H=>on(new Date,{hours:H.hours,minutes:H.minutes,seconds:i.enableSeconds?H.seconds:0,milliseconds:0}),k=le(()=>H=>q(H,i[H])||S(H,i[H])),w=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),S=(H,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(H,Q):!1,M=(H,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ie=Q?+i[`${H}Increment`]:-+i[`${H}Increment`],X=i[H]+ie;return!i.validateTime(H,X)}return!1},L=le(()=>H=>!j(+i[H]+ +i[`${H}Increment`],H)||M(H,!0)),I=le(()=>H=>!j(+i[H]-+i[`${H}Increment`],H)||M(H,!1)),E=(H,Q)=>QD(on(ye(),H),Q),_=(H,Q)=>RK(on(ye(),H),Q),v=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),T=le(()=>{const H=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?H.concat([{type:"",separator:!0},{type:"seconds"}]):H}),A=le(()=>T.value.filter(H=>!H.separator)),P=le(()=>H=>{if(H==="hours"){const Q=z(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[H]<10?`0${i[H]}`:`${i[H]}`,value:i[H]}}),q=(H,Q)=>{var ie;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,H==="hours"?Q:void 0);return X[H]?!!((ie=X[H])!=null&&ie.includes(Q)):!0},$=H=>{const Q=i.is24?24:12,ie=H==="hours"?Q:60,X=+i[`${H}GridIncrement`],ce=H==="hours"&&!i.is24?X:0,be=[];for(let ne=ce;ne<ie;ne+=X)be.push({value:ne,text:ne<10?`0${ne}`:`${ne}`});return H==="hours"&&!i.is24&&be.push({value:0,text:"12"}),Ql(be,ne=>({active:!1,disabled:u.value.times[H].includes(ne.value)||!j(ne.value,H)||q(H,ne.value)||S(H,ne.value)}))},j=(H,Q)=>{const ie=i.minTime?R(Lg(i.minTime)):null,X=i.maxTime?R(Lg(i.maxTime)):null,ce=R(Lg(w.value,Q,H));return ie&&X?(rd(ce,X)||ol(ce,X))&&(nd(ce,ie)||ol(ce,ie)):ie?nd(ce,ie)||ol(ce,ie):X?rd(ce,X)||ol(ce,X):!0},F=H=>i[`no${H[0].toUpperCase()+H.slice(1)}Overlay`],U=H=>{F(H)||(p[H]=!p[H],p[H]||r("overlay-closed"))},x=H=>H==="hours"?Oi:H==="minutes"?Zi:Yl,O=(H,Q=!0)=>{const ie=Q?E:_,X=Q?+i[`${H}Increment`]:-+i[`${H}Increment`];j(+i[H]+X,H)&&r(`update:${H}`,x(H)(ie({[H]:+i[H]},{[H]:+i[`${H}Increment`]})))},z=H=>i.is24?H:(H>=12?g.value="PM":g.value="AM",oY(H)),K=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},te=H=>{p[H]=!0},he=(H,Q,ie)=>{if(H&&i.arrowNavigation){Array.isArray(C.value[Q])?C.value[Q][ie]=H:C.value[Q]=[H];const X=C.value.reduce((ce,be)=>be.map((ne,D)=>[...ce[D]||[],be[D]]),[]);o(i.closeTimePickerBtn),y.value&&(X[1]=X[1].concat(y.value)),s(X,i.order)}},Z=(H,Q)=>(U(H),H==="hours"&&!i.is24?r(`update:${H}`,g.value==="PM"?Q+12:Q):r(`update:${H}`,Q));return e({openChildCmp:te}),(H,Q)=>{var ie;return H.disabled?de("",!0):(W(),ee("div",iG,[(W(!0),ee(Ne,null,Ft(T.value,(X,ce)=>{var be,ne,D;return W(),ee("div",{key:ce,class:tt(v.value)},[X.separator?(W(),ee(Ne,{key:0},[Dn(" : ")],64)):(W(),ee(Ne,{key:1},[Ce("button",{ref_for:!0,ref:V=>he(V,ce,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_top:H.timePickerInline,dp__inc_dec_button_disabled:L.value(X.type)}),"aria-label":(be=G(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type),["prevent"]),["enter"]),at(Lt(V=>O(X.type),["prevent"]),["space"])],onClick:V=>O(X.type)},[i.timePickerInline?(W(),ee(Ne,{key:1},[oG,aG],64)):(W(),ee(Ne,{key:0},[H.$slots["arrow-up"]?_e(H.$slots,"arrow-up",{key:0}):de("",!0),H.$slots["arrow-up"]?de("",!0):(W(),qe(G(hb),{key:1}))],64))],42,sG),Ce("button",{ref_for:!0,ref:V=>he(V,ce,1),type:"button","aria-label":(ne=G(a))==null?void 0:ne.openTpOverlay(X.type),class:tt({dp__time_display:!0,dp__time_display_block:!H.timePickerInline,dp__time_display_inline:H.timePickerInline,"dp--time-invalid":k.value(X.type),"dp--time-overlay-btn":!k.value(X.type)}),disabled:F(X.type),tabindex:"0",onKeydown:[at(Lt(V=>U(X.type),["prevent"]),["enter"]),at(Lt(V=>U(X.type),["prevent"]),["space"])],onClick:V=>U(X.type)},[H.$slots[X.type]?_e(H.$slots,X.type,{key:0,text:P.value(X.type).text,value:P.value(X.type).value}):de("",!0),H.$slots[X.type]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(P.value(X.type).text),1)],64))],42,lG),Ce("button",{ref_for:!0,ref:V=>he(V,ce,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_bottom:H.timePickerInline,dp__inc_dec_button_disabled:I.value(X.type)}),"aria-label":(D=G(a))==null?void 0:D.decrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type,!1),["prevent"]),["enter"]),at(Lt(V=>O(X.type,!1),["prevent"]),["space"])],onClick:V=>O(X.type,!1)},[i.timePickerInline?(W(),ee(Ne,{key:1},[cG,dG],64)):(W(),ee(Ne,{key:0},[H.$slots["arrow-down"]?_e(H.$slots,"arrow-down",{key:0}):de("",!0),H.$slots["arrow-down"]?de("",!0):(W(),qe(G(fb),{key:1}))],64))],42,uG)],64))],2)}),128)),H.is24?de("",!0):(W(),ee("div",hG,[H.$slots["am-pm-button"]?_e(H.$slots,"am-pm-button",{key:0,toggle:K,value:g.value}):de("",!0),H.$slots["am-pm-button"]?de("",!0):(W(),ee("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=G(a))==null?void 0:ie.amPmButton,tabindex:"0",onClick:K,onKeydown:[at(Lt(K,["prevent"]),["enter"]),at(Lt(K,["prevent"]),["space"])]},dt(g.value),41,fG))])),(W(!0),ee(Ne,null,Ft(A.value,(X,ce)=>(W(),qe(So,{key:ce,name:G(h)(p[X.type]),css:G(f)},{default:Qe(()=>[p[X.type]?(W(),qe(Gd,{key:0,items:$(X.type),"is-last":H.autoApply&&!G(c).keepActionRow,"esc-close":H.escClose,type:X.type,"text-input":H.textInput,config:H.config,"arrow-navigation":H.arrowNavigation,onSelected:be=>Z(X.type,be),onToggle:be=>U(X.type),onResetFlow:Q[0]||(Q[0]=be=>H.$emit("reset-flow"))},Zn({"button-icon":Qe(()=>[H.$slots["clock-icon"]?_e(H.$slots,"clock-icon",{key:0}):de("",!0),H.$slots["clock-icon"]?de("",!0):(W(),qe(zr(H.timePickerInline?G(pu):G(db)),{key:1}))]),_:2},[H.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:be})=>[_e(H.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),mG={class:"dp--tp-wrap"},gG=["aria-label","tabindex"],vG=["tabindex"],yG=["aria-label"],Lx=Kt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Mi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Po(),a=Ea(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=In(i),{transitionName:f,showTransition:p}=Kd(l),{hideNavigationButtons:g}=gm(),y=fe(null),C=fe(null),R=fe([]),k=fe(null);vn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Nn(y.value)],"time"):o(!0,i.timePicker)});const w=le(()=>i.range&&i.modelAuto?Ex(i.internalModelValue):!0),S=fe(!1),M=$=>({hours:Array.isArray(i.hours)?i.hours[$]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[$]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[$]:i.seconds}),L=le(()=>{const $=[];if(i.range)for(let j=0;j<2;j++)$.push(M(j));else $.push(M(0));return $}),I=($,j=!1,F="")=>{j||r("reset-flow"),S.value=$,r($?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o($),jn(()=>{F!==""&&R.value[0]&&R.value[0].openChildCmp(F)})},E=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),_=Qr(a,"timePicker"),v=($,j,F)=>i.range?j===0?[$,L.value[1][F]]:[L.value[0][F],$]:$,T=$=>{r("update:hours",$)},A=$=>{r("update:minutes",$)},P=$=>{r("update:seconds",$)},q=()=>{if(k.value&&!c.value.enabled&&!i.noOverlayFocus){const $=lY(k.value);$&&$.focus({preventScroll:!0})}};return e({toggleTimePicker:I}),($,j)=>{var F;return W(),ee("div",mG,[!$.timePicker&&!$.timePickerInline?Ko((W(),ee("button",{key:0,ref_key:"openTimePickerBtn",ref:y,type:"button",class:tt(E.value),"aria-label":(F=G(u))==null?void 0:F.openTimePicker,tabindex:$.noOverlayFocus?void 0:0,onKeydown:[j[0]||(j[0]=at(U=>I(!0),["enter"])),j[1]||(j[1]=at(U=>I(!0),["space"]))],onClick:j[2]||(j[2]=U=>I(!0))},[$.$slots["clock-icon"]?_e($.$slots,"clock-icon",{key:0}):de("",!0),$.$slots["clock-icon"]?de("",!0):(W(),qe(G(db),{key:1}))],42,gG)),[[sc,!G(g)($.hideNavigation,"time")]]):de("",!0),et(So,{name:G(f)(S.value),css:G(p)&&!$.timePickerInline},{default:Qe(()=>{var U;return[S.value||$.timePicker||$.timePickerInline?(W(),ee("div",{key:0,ref_key:"overlayRef",ref:k,class:tt({dp__overlay:!$.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!$.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Pr($.timePicker?{height:`${G(h).modeHeight}px`}:void 0),tabindex:$.timePickerInline?void 0:0},[Ce("div",{class:tt($.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[$.$slots["time-picker-overlay"]?_e($.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:T,setMinutes:A,setSeconds:P}):de("",!0),$.$slots["time-picker-overlay"]?de("",!0):(W(),ee("div",{key:1,class:tt($.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(W(!0),ee(Ne,null,Ft(L.value,(x,O)=>Ko((W(),qe(pG,pe({key:O},{...$.$props,order:O,hours:x.hours,minutes:x.minutes,seconds:x.seconds,closeTimePickerBtn:C.value,disabledTimesConfig:t.disabledTimesConfig,disabled:O===0?$.fixedStart:$.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"validate-time":(z,K)=>t.validateTime(z,v(K,O,z)),"onUpdate:hours":z=>T(v(z,O,"hours")),"onUpdate:minutes":z=>A(v(z,O,"minutes")),"onUpdate:seconds":z=>P(v(z,O,"seconds")),onMounted:q,onOverlayClosed:q,onAmPmChange:j[3]||(j[3]=z=>$.$emit("am-pm-change",z))}),Zn({_:2},[Ft(G(_),(z,K)=>({name:z,fn:Qe(te=>[_e($.$slots,z,bn(Jn(te)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[sc,O===0?!0:w.value]])),128))],2)),!$.timePicker&&!$.timePickerInline?Ko((W(),ee("button",{key:2,ref_key:"closeTimePickerBtn",ref:C,type:"button",class:tt(E.value),"aria-label":(U=G(u))==null?void 0:U.closeTimePicker,tabindex:"0",onKeydown:[j[4]||(j[4]=at(x=>I(!1),["enter"])),j[5]||(j[5]=at(x=>I(!1),["space"]))],onClick:j[6]||(j[6]=x=>I(!1))},[$.$slots["calendar-icon"]?_e($.$slots,"calendar-icon",{key:0}):de("",!0),$.$slots["calendar-icon"]?de("",!0):(W(),qe(G(pu),{key:1}))],42,yG)),[[sc,!G(g)($.hideNavigation,"time")]]):de("",!0)],2)],14,vG)):de("",!0)]}),_:3},8,["name","css"])])}}}),Vx=(t,e,n,r)=>{const i=(R,k)=>Array.isArray(e[R])?e[R][k]:e[R],s=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,o=(R,k)=>R?k!==void 0?fo(R,i("hours",k),i("minutes",k),s(k)):fo(R,e.hours,e.minutes,s()):lb(ye(),s(k)),a=(R,k)=>{e[R]=k},l=(R,k)=>{const w=Object.fromEntries(Object.keys(e).map(S=>S===R?[S,k]:[S,e[S]].slice()));if(t.range&&!t.disableTimeRangeValidation){const S=L=>n.value?fo(n.value[L],w.hours[L],w.minutes[L],w.seconds[L]):null,M=L=>ab(n.value[L],0);return!(Rt(S(0),S(1))&&(nd(S(0),M(1))||rd(S(1),M(0))))}return!0},u=(R,k)=>{l(R,k)&&(a(R,k),r&&r())},c=R=>{u("hours",R)},h=R=>{u("minutes",R)},f=R=>{u("seconds",R)},p=(R,k,w,S)=>{k&&c(R),!k&&!w&&h(R),w&&f(R),n.value&&S(n.value)},g=R=>{if(R){const k=Array.isArray(R),w=k?[+R[0].hours,+R[1].hours]:+R.hours,S=k?[+R[0].minutes,+R[1].minutes]:+R.minutes,M=k?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",w),a("minutes",S),t.enableSeconds&&a("seconds",M)}},y=(R,k)=>{const w={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(k||k===0)&&(w.hours=k),Array.isArray(t.disabledTimes)&&(w.disabledArr=t.range&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),w},C=le(()=>(R,k)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:S,hours:M}=y(R,k),L=S.filter(I=>+I.hours===M);return((w=L[0])==null?void 0:w.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(I=>+I.minutes))??[],seconds:(L==null?void 0:L.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:C}},_G=(t,e)=>{const{modelValue:n,time:r}=Yd(t,e),{defaultedStartTime:i}=In(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Vx(t,r,n),h=k=>{const{hours:w,minutes:S,seconds:M}=k;return{hours:+w,minutes:+S,seconds:M?+M:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),S=h(t.startTime[1]);return[on(ye(),w),on(ye(),S)]}const k=h(t.startTime);return on(ye(),k)}return t.range?[null,null]:null},p=()=>{if(t.range){const[k,w]=f();n.value=[o(k,0),o(w,1)]}else n.value=o(f())},g=k=>Array.isArray(k)?[Zo(ye(k[0])),Zo(ye(k[1]))]:[Zo(k??ye())],y=(k,w,S)=>{a("hours",k),a("minutes",w),a("seconds",t.enableSeconds?S:0)},C=()=>{const[k,w]=g(n.value);return t.range?y([k.hours,w.hours],[k.minutes,w.minutes],[k.seconds,w.minutes]):y(k.hours,k.minutes,k.seconds)};vn(()=>{if(!t.shadow)return l(i.value),n.value?C():p()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((k,w)=>k&&o(k,w)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(k,w=!0,S=!1)=>{s(k,w,S,R)},validateTime:c}},bG=Kt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Mi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=Qr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=_G(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(W(),qe(ym,{"multi-calendars":0,stretch:""},{default:Qe(()=>[et(Lx,pe(f.$props,{hours:G(a).hours,minutes:G(a).minutes,seconds:G(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":G(u),"validate-time":G(h),"onUpdate:hours":p[0]||(p[0]=g=>G(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>G(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>G(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),Zn({_:2},[Ft(G(o),(g,y)=>({name:g,fn:Qe(C=>[_e(f.$slots,g,bn(Jn(C)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),wG={class:"dp__month_year_row"},TG=["aria-label","onClick","onKeydown"],EG=Kt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Mi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=In(i),{transitionName:h,showTransition:f}=Kd(s),{buildMatrix:p}=Po(),{handleMonthYearChange:g,isDisabled:y,updateMonthYear:C}=xY(i,r),{showLeftIcon:R,showRightIcon:k}=gm(),w=fe(!1),S=fe(!1),M=fe([null,null,null,null]);vn(()=>{r("mount")});const L=O=>({get:()=>i[O],set:z=>{const K=O===gi.month?gi.year:gi.month;r("update-month-year",{[O]:z,[K]:i[K]}),O===gi.month?q(!0):$(!0)}}),I=le(L(gi.month)),E=le(L(gi.year)),_=le(()=>O=>({month:i.month,year:i.year,items:O===gi.month?i.months:i.years,instance:i.instance,updateMonthYear:C,toggle:O===gi.month?q:$})),v=le(()=>i.months.find(z=>z.value===i.month)||{text:"",value:0}),T=le(()=>Ql(i.months,O=>{const z=i.month===O.value,K=id(O.value,Ix(i.year,i.minDate),Sx(i.year,i.maxDate))||l.value.months.includes(O.value),te=Rx(c.value,O.value,i.year);return{active:z,disabled:K,highlighted:te}})),A=le(()=>Ql(i.years,O=>{const z=i.year===O.value,K=id(O.value,Xl(i.minDate),Xl(i.maxDate))||l.value.years.includes(O.value),te=yb(c.value,O.value);return{active:z,disabled:K,highlighted:te}})),P=(O,z)=>{z!==void 0?O.value=z:O.value=!O.value,O.value||r("overlay-closed")},q=(O=!1,z)=>{j(O),P(w,z)},$=(O=!1,z)=>{j(O),P(S,z)},j=O=>{O||r("reset-flow")},F=(O,z)=>{i.arrowNavigation&&(M.value[z]=Nn(O),p(M.value,"monthYear"))},U=le(()=>{var O,z;return[{type:gi.month,index:1,toggle:q,modelValue:I.value,updateModelValue:K=>I.value=K,text:v.value.text,showSelectionGrid:w.value,items:T.value,ariaLabel:(O=o.value)==null?void 0:O.openMonthsOverlay},{type:gi.year,index:2,toggle:$,modelValue:E.value,updateModelValue:K=>E.value=K,text:i.year,showSelectionGrid:S.value,items:A.value,ariaLabel:(z=o.value)==null?void 0:z.openYearsOverlay}]}),x=le(()=>i.disableYearSelect?[U.value[0]]:i.yearFirst?[...U.value].reverse():U.value);return e({toggleMonthPicker:q,toggleYearPicker:$,handleMonthYearChange:g}),(O,z)=>{var K,te,he;return W(),ee("div",wG,[O.$slots["month-year"]?_e(O.$slots,"month-year",bn(pe({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:G(C),handleMonthYearChange:G(g),instance:t.instance}))):(W(),ee(Ne,{key:1},[G(R)(G(a),t.instance)&&!O.vertical?(W(),qe(Tc,{key:0,"aria-label":(K=G(o))==null?void 0:K.prevMonth,disabled:G(y)(!1),onActivate:z[0]||(z[0]=Z=>G(g)(!1,!0)),onSetRef:z[1]||(z[1]=Z=>F(Z,0))},{default:Qe(()=>[O.$slots["arrow-left"]?_e(O.$slots,"arrow-left",{key:0}):de("",!0),O.$slots["arrow-left"]?de("",!0):(W(),qe(G(ub),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ce("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:O.disableYearSelect}])},[(W(!0),ee(Ne,null,Ft(x.value,(Z,H)=>(W(),ee(Ne,{key:Z.type},[Ce("button",{ref_for:!0,ref:Q=>F(Q,H+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Z.ariaLabel,onClick:Z.toggle,onKeydown:[at(Lt(Z.toggle,["prevent"]),["enter"]),at(Lt(Z.toggle,["prevent"]),["space"])]},[O.$slots[Z.type]?_e(O.$slots,Z.type,{key:0,text:Z.text,value:i[Z.type]}):de("",!0),O.$slots[Z.type]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(Z.text),1)],64))],40,TG),et(So,{name:G(h)(Z.showSelectionGrid),css:G(f)},{default:Qe(()=>[Z.showSelectionGrid?(W(),qe(Gd,{key:0,items:Z.items,"arrow-navigation":O.arrowNavigation,"hide-navigation":O.hideNavigation,"is-last":O.autoApply&&!G(u).keepActionRow,"skip-button-ref":!1,config:O.config,type:Z.type,"header-refs":[],"esc-close":O.escClose,"text-input":O.textInput,onSelected:Z.updateModelValue,onToggle:Z.toggle},Zn({"button-icon":Qe(()=>[O.$slots["calendar-icon"]?_e(O.$slots,"calendar-icon",{key:0}):de("",!0),O.$slots["calendar-icon"]?de("",!0):(W(),qe(G(pu),{key:1}))]),_:2},[O.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:Qe(({item:Q})=>[_e(O.$slots,`${Z.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,O.$slots[`${Z.type}-overlay`]?{name:"overlay",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay`,bn(Jn(_.value(Z.type))))]),key:"1"}:void 0,O.$slots[`${Z.type}-overlay-header`]?{name:"header",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay-header`,{toggle:Z.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"])],64))),128))],2),G(R)(G(a),t.instance)&&O.vertical?(W(),qe(Tc,{key:1,"aria-label":(te=G(o))==null?void 0:te.prevMonth,disabled:G(y)(!1),onActivate:z[2]||(z[2]=Z=>G(g)(!1,!0))},{default:Qe(()=>[O.$slots["arrow-up"]?_e(O.$slots,"arrow-up",{key:0}):de("",!0),O.$slots["arrow-up"]?de("",!0):(W(),qe(G(hb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),G(k)(G(a),t.instance)?(W(),qe(Tc,{key:2,ref:"rightIcon",disabled:G(y)(!0),"aria-label":(he=G(o))==null?void 0:he.nextMonth,onActivate:z[3]||(z[3]=Z=>G(g)(!0,!0)),onSetRef:z[4]||(z[4]=Z=>F(Z,O.disableYearSelect?2:3))},{default:Qe(()=>[O.$slots[O.vertical?"arrow-down":"arrow-right"]?_e(O.$slots,O.vertical?"arrow-down":"arrow-right",{key:0}):de("",!0),O.$slots[O.vertical?"arrow-down":"arrow-right"]?de("",!0):(W(),qe(zr(O.vertical?G(fb):G(cb)),{key:1}))]),_:3},8,["disabled","aria-label"])):de("",!0)],64))])}}}),IG=["aria-label"],SG={class:"dp__calendar_header",role:"row"},CG={key:0,class:"dp__calendar_header_item",role:"gridcell"},AG=Ce("div",{class:"dp__calendar_header_separator"},null,-1),OG=["aria-label"],PG={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},kG={class:"dp__cell_inner"},RG=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],DG=Kt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Mi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Po(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=In(i),h=fe(null),f=fe({bottom:"",left:"",transform:""}),p=fe([]),g=fe(null),y=fe(!0),C=fe(""),R=fe({startX:0,endX:0,startY:0,endY:0}),k=fe([]),w=fe({left:"50%"}),S=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):sY(i.formatLocale,i.locale,+i.weekStart));vn(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",$,{passive:!1}),g.value.addEventListener("touchend",j,{passive:!1}),g.value.addEventListener("touchmove",F,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",O,{passive:!1})});const L=Z=>Z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",I=(Z,H)=>{if(i.transitions){const Q=_r(_s(ye(),i.month,i.year));C.value=gr(_r(_s(ye(),Z,H)),Q)?o.value[L(!0)]:o.value[L(!1)],y.value=!1,jn(()=>{y.value=!0})}},E=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),_=le(()=>Z=>{const H=aY(Z);return{dp__marker_dot:H.type==="dot",dp__marker_line:H.type==="line"}}),v=le(()=>Z=>Rt(Z,h.value)),T=le(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),A=le(()=>Z=>i.hideOffsetDates?Z.current:!0),P=async(Z,H,Q)=>{var ie,X;if(r("set-hover-date",Z),(X=(ie=Z.marker)==null?void 0:ie.tooltip)!=null&&X.length){const ce=Nn(p.value[H][Q]);if(ce){const{width:be,height:ne}=ce.getBoundingClientRect();h.value=Z.value;let D={left:`${be/2}px`},V=-50;if(await jn(),k.value[0]){const{left:B,width:oe}=k.value[0].getBoundingClientRect();B<0&&(D={left:"0"},V=0,w.value.left=`${be/2}px`),window.innerWidth<B+oe&&(D={right:"0"},V=0,w.value.left=`${oe-be/2}px`)}f.value={bottom:`${ne}px`,...D,transform:`translateX(${V}%)`},r("tooltip-open",Z.marker)}}},q=Z=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Z.marker))},$=Z=>{R.value.startX=Z.changedTouches[0].screenX,R.value.startY=Z.changedTouches[0].screenY},j=Z=>{R.value.endX=Z.changedTouches[0].screenX,R.value.endY=Z.changedTouches[0].screenY,U()},F=Z=>{i.vertical&&!i.inline&&Z.preventDefault()},U=()=>{const Z=i.vertical?"Y":"X";Math.abs(R.value[`start${Z}`]-R.value[`end${Z}`])>10&&r("handle-swipe",R.value[`start${Z}`]>R.value[`end${Z}`]?"right":"left")},x=(Z,H,Q)=>{Z&&(Array.isArray(p.value[H])?p.value[H][Q]=Z:p.value[H]=[Z]),i.arrowNavigation&&s(p.value,"calendar")},O=Z=>{i.monthChangeOnScroll&&(Z.preventDefault(),r("handle-scroll",Z))},z=Z=>c.value.type==="local"?vz(Z.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?fz(Z.value):typeof c.value.type=="function"?c.value.type(Z.value):"",K=Z=>{const H=Z[0];return c.value.hideOnOffsetDates?Z.some(Q=>Q.current)?z(H):"":z(H)},te=(Z,H)=>{ho(Z,a.value),r("select-date",H)},he=Z=>{ho(Z,a.value)};return e({triggerTransition:I}),(Z,H)=>{var Q;return W(),ee("div",{class:tt(T.value)},[Ce("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(E.value),"aria-label":(Q=G(l))==null?void 0:Q.calendarWrap},[(W(),ee(Ne,{key:0},[Ce("div",SG,[Z.weekNumbers?(W(),ee("div",CG,dt(Z.weekNumName),1)):de("",!0),(W(!0),ee(Ne,null,Ft(M.value,(ie,X)=>(W(),ee("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[Z.$slots["calendar-header"]?_e(Z.$slots,"calendar-header",{key:0,day:ie,index:X}):de("",!0),Z.$slots["calendar-header"]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(ie),1)],64))]))),128))]),AG,et(So,{name:C.value,css:!!Z.transitions},{default:Qe(()=>{var ie;return[y.value?(W(),ee("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ie=G(l))==null?void 0:ie.calendarDays)||void 0},[(W(!0),ee(Ne,null,Ft(S.value,(X,ce)=>(W(),ee("div",{key:ce,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(W(),ee("div",PG,[Ce("div",kG,dt(K(X.days)),1)])):de("",!0),(W(!0),ee(Ne,null,Ft(X.days,(be,ne)=>{var D,V,B;return W(),ee("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:oe=>x(oe,ce,ne),key:ne+ce,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(V=(D=G(l))==null?void 0:D.day)==null?void 0:V.call(D,be),tabindex:"0",onClick:Lt(oe=>te(oe,be),["prevent"]),onKeydown:[at(oe=>Z.$emit("select-date",be),["enter"]),at(oe=>Z.$emit("handle-space",be),["space"])],onMouseenter:oe=>P(be,ce,ne),onMouseleave:oe=>q(be)},[Ce("div",{class:tt(["dp__cell_inner",be.classData])},[Z.$slots.day&&A.value(be)?_e(Z.$slots,"day",{key:0,day:+be.text,date:be.value}):de("",!0),Z.$slots.day?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(be.text),1)],64)),be.marker&&A.value(be)?(W(),ee(Ne,{key:2},[Z.$slots.marker?_e(Z.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(W(),ee("div",{key:1,class:tt(_.value(be.marker)),style:Pr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):de("",!0),v.value(be.value)?(W(),ee("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:k,class:"dp__marker_tooltip",style:Pr(f.value)},[(B=be.marker)!=null&&B.tooltip?(W(),ee("div",{key:0,class:"dp__tooltip_content",onClick:he},[(W(!0),ee(Ne,null,Ft(be.marker.tooltip,(oe,se)=>(W(),ee("div",{key:se,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?_e(Z.$slots,"marker-tooltip",{key:0,tooltip:oe,day:be.value}):de("",!0),Z.$slots["marker-tooltip"]?de("",!0):(W(),ee(Ne,{key:1},[Ce("div",{class:"dp__tooltip_mark",style:Pr(oe.color?{backgroundColor:oe.color}:{})},null,4),Ce("div",null,dt(oe.text),1)],64))]))),128)),Ce("div",{class:"dp__arrow_bottom_tp",style:Pr(w.value)},null,4)])):de("",!0)],4)):de("",!0)],2)],40,RG)}),128))]))),128))],8,OG)):de("",!0)]}),_:3},8,["name","css"])],64))],10,IG)],2)}}}),LI=t=>Array.isArray(t),xG=(t,e,n,r)=>{const i=fe([]),{modelValue:s,calendars:o,time:a}=Yd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=In(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=Ra(t),{updateTimeValues:g,getSetDateTime:y,setTime:C,assignStartTime:R,validateTime:k,disabledTimesConfig:w}=Vx(t,a,s,r),S=le(()=>Y=>o.value[Y]?o.value[Y].month:0),M=le(()=>Y=>o.value[Y]?o.value[Y].year:0),L=(Y,ae,xe)=>{var We,ct;o.value[Y]||(o.value[Y]={month:0,year:0}),o.value[Y].month=RI(ae)?(We=o.value[Y])==null?void 0:We.month:ae,o.value[Y].year=RI(xe)?(ct=o.value[Y])==null?void 0:ct.year:xe},I=()=>{t.autoApply&&e("select-date")};En(s,(Y,ae)=>{JSON.stringify(Y)!==JSON.stringify(ae)&&v()}),vn(()=>{t.shadow||(s.value||(O(),u.value&&R(u.value)),v(!0),t.focusStartDate&&t.startDate&&O())});const E=le(()=>{var Y;return(Y=t.flow)!=null&&Y.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),_=()=>{t.autoApply&&E.value&&e("auto-apply",t.partialFlow)},v=(Y=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,j(Y)):A(s.value,Y);if(l.value.count&&Y&&!t.startDate)return T(ye(),Y)},T=(Y,ae=!1)=>{if((!l.value.count||!l.value.static||ae)&&L(0,Et(Y),ut(Y)),l.value.count&&(!l.value.solo||!s.value))for(let xe=1;xe<l.value.count;xe++){const We=on(ye(),{month:S.value(xe-1),year:M.value(xe-1)}),ct=QD(We,{months:1});o.value[xe]={month:Et(ct),year:ut(ct)}}},A=(Y,ae)=>{T(Y),C("hours",Oi(Y)),C("minutes",Zi(Y)),C("seconds",Yl(Y)),l.value.count&&ae&&x()},P=Y=>{if(l.value.count){if(l.value.solo)return 0;const ae=Et(Y[0]),xe=Et(Y[1]);return Math.abs(xe-ae)<l.value.count?0:1}return 1},q=(Y,ae)=>{Y[1]&&t.showLastInRange?T(Y[P(Y)],ae):T(Y[0],ae);const xe=(We,ct)=>[We(Y[0]),Y[1]?We(Y[1]):a[ct][1]];C("hours",xe(Oi,"hours")),C("minutes",xe(Zi,"minutes")),C("seconds",xe(Yl,"seconds"))},$=(Y,ae)=>{if((t.range||t.weekPicker)&&!t.multiDates)return q(Y,ae);if(t.multiDates&&ae){const xe=Y[Y.length-1];return A(xe,ae)}},j=Y=>{const ae=s.value;$(ae,Y),l.value.count&&l.value.solo&&x()},F=(Y,ae)=>{const xe=on(ye(),{month:S.value(ae),year:M.value(ae)}),We=Y<0?Ai(xe,1):Gl(xe,1);c(Et(We),ut(We),Y<0,t.preventMinMaxNavigation)&&(L(ae,Et(We),ut(We)),e("update-month-year",{instance:ae,month:Et(We),year:ut(We)}),l.value.count&&!l.value.solo&&U(ae),n())},U=Y=>{for(let ae=Y-1;ae>=0;ae--){const xe=Gl(on(ye(),{month:S.value(ae+1),year:M.value(ae+1)}),1);L(ae,Et(xe),ut(xe))}for(let ae=Y+1;ae<=l.value.count-1;ae++){const xe=Ai(on(ye(),{month:S.value(ae-1),year:M.value(ae-1)}),1);L(ae,Et(xe),ut(xe))}},x=()=>{if(Array.isArray(s.value)&&s.value.length===2){const Y=ye(ye(s.value[1]?s.value[1]:Ai(s.value[0],1))),[ae,xe]=[Et(s.value[0]),ut(s.value[0])],[We,ct]=[Et(s.value[1]),ut(s.value[1])];(ae!==We||ae===We&&xe!==ct)&&l.value.solo&&L(1,Et(Y),ut(Y))}else s.value&&!Array.isArray(s.value)&&(L(0,Et(s.value),ut(s.value)),T(ye()))},O=()=>{t.startDate&&(L(0,Et(ye(t.startDate)),ut(ye(t.startDate))),l.value.count&&U(0))},z=hY((Y,ae)=>{t.monthChangeOnScroll&&F(t.monthChangeOnScroll!=="inverse"?-Y.deltaY:Y.deltaY,ae)},50),K=(Y,ae,xe=!1)=>{t.monthChangeOnArrows&&t.vertical===xe&&te(Y,ae)},te=(Y,ae)=>{F(Y==="right"?-1:1,ae)},he=Y=>t.markers.find(ae=>Rt(mY(Y.value),Pi(ye(ae.date),t.timezone))),Z=(Y,ae)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[Y==0,!0];case"fair":return[Y==0||ae>Y,!0];case"append":return[!1,!1];default:return[!1,!1]}},H=(Y,ae,xe,We)=>{if(t.sixWeeks&&Y.length<6){const ct=6-Y.length,Nt=(ae.getDay()+7-We)%7,Hn=6-(xe.getDay()+7-We)%7,[Oe,Be]=Z(Nt,Hn);for(let je=1;je<=ct;je++)if(Be?!!(je%2)==Oe:Oe){const Wn=Y[0].days[0],Wr=Q(ps(Wn.value,-7),Et(ae));Y.unshift({days:Wr})}else{const Wn=Y[Y.length-1],Wr=Wn.days[Wn.days.length-1],Na=Q(ps(Wr.value,1),Et(ae));Y.push({days:Na})}}return Y},Q=(Y,ae)=>{const xe=ye(Y),We=[];for(let ct=0;ct<7;ct++){const Nt=ps(xe,ct),Hn=Et(Nt)!==ae;We.push({text:t.hideOffsetDates&&Hn?"":Nt.getDate(),value:Nt,current:!Hn,classData:{}})}return We},ie=(Y,ae)=>{const xe=[],We=new Date(ae,Y),ct=new Date(ae,Y+1,0),Nt=t.weekStart,Hn=ya(We,{weekStartsOn:Nt}),Oe=Be=>{const je=Q(Be,Y);if(xe.push({days:je}),!xe[xe.length-1].days.some(Wn=>Rt(_r(Wn.value),_r(ct)))){const Wn=ps(Be,7);Oe(Wn)}};return Oe(Hn),H(xe,We,ct,Nt)},X=Y=>(s.value=of(ye(Y.value),t.timezone,t.weekStart),e("date-update",Y.value),_()),ce=Y=>{const ae=fo(ye(Y.value),a.hours,a.minutes,me());e("date-update",ae),t.multiDates?_b(ae,s,t.multiDatesLimit):s.value=ae,r(),jn().then(()=>{_()})},be=Y=>t.noDisabledRange?Ax(i.value[0],Y).some(ae=>h(ae)):!1,ne=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(Y,ae)=>{const xe=[ye(Y.value),ps(ye(Y.value),+t.autoRange)];f(xe)?(ae&&V(Y.value),i.value=xe):e("invalid-date",Y.value)},V=Y=>{const ae=Et(ye(Y)),xe=ut(ye(Y));if(L(0,ae,xe),l.value.count>0)for(let We=1;We<l.value.count;We++){const ct=gY(on(ye(Y),{year:S.value(We-1),month:M.value(We-1)}));L(We,ct.month,ct.year)}},B=Y=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(gr(Y,s.value[0])||Rt(Y,s.value[0]))?[s.value[0],Y]:t.fixedEnd&&(Xn(Y,s.value[1])||Rt(Y,s.value[1]))?[Y,s.value[1]]:(e("invalid-fixed-range",Y),s.value):[],oe=Y=>{if(be(Y.value)||!p(Y.value,s.value,t.fixedStart?0:1))return e("invalid-date",Y.value);i.value=B(ye(Y.value))},se=(Y,ae)=>{if(ne(),t.autoRange)return D(Y,ae);if(t.fixedStart||t.fixedEnd)return oe(Y);i.value[0]?p(ye(Y.value),s.value)&&!be(Y.value)?Xn(ye(Y.value),ye(i.value[0]))?(i.value.unshift(ye(Y.value)),e("range-end",i.value[0])):(i.value[1]=ye(Y.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",Y.value),e("invalid-date",Y.value)):(i.value[0]=ye(Y.value),e("range-start",i.value[0]))},me=(Y=!0)=>t.enableSeconds?Array.isArray(a.seconds)?Y?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=Y=>{i.value[Y]=fo(i.value[Y],a.hours[Y],a.minutes[Y],me(Y!==1))},Ee=()=>{var Y,ae;i.value[0]&&i.value[1]&&+((Y=i.value)==null?void 0:Y[0])>+((ae=i.value)==null?void 0:ae[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Te=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),_m(i.value,e,t.autoApply,t.modelAuto))},ge=(Y,ae=!1)=>{if(h(Y.value)||!Y.current&&t.hideOffsetDates)return e("invalid-date",Y.value);if(t.weekPicker)return X(Y);if(!t.range)return ce(Y);LI(a.hours)&&LI(a.minutes)&&!t.multiDates&&(se(Y,ae),Te())},He=(Y,ae)=>{var xe;L(Y,ae.month,ae.year),l.value.count&&!l.value.solo&&U(Y),e("update-month-year",{instance:Y,month:ae.month,year:ae.year}),n(l.value.solo?Y:void 0);const We=(xe=t.flow)!=null&&xe.length?t.flow[t.flowStep]:void 0;!ae.fromNav&&(We===Bi.month||We===Bi.year)&&r()},Ie=(Y,ae)=>{Nx({value:Y,modelValue:s,range:t.range,timezone:ae?void 0:t.timezone}),I(),t.multiCalendars&&jn().then(()=>v(!0))},Fe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Xn(ye(),s.value[0])?[ye(),s.value[0]]:[s.value[0],ye()]:s.value=[ye()]:s.value=ye(),I()},Ge=()=>{if(Array.isArray(s.value))if(t.multiDates){const Y=Ke();s.value[s.value.length-1]=y(Y)}else s.value=s.value.map((Y,ae)=>Y&&y(Y,ae));else s.value=y(s.value);e("time-update")},Ke=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:S,year:M,time:a,disabledTimesConfig:w,validateTime:k,getCalendarDays:ie,getMarker:he,handleScroll:z,handleSwipe:te,handleArrow:K,selectDate:ge,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Fe,updateTime:(Y,ae=!0,xe=!1)=>{g(Y,ae,xe,Ge)}}},NG={key:0},MG=Kt({__name:"DatePicker",props:{...Mi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:y,handleSwipe:C,selectDate:R,updateMonthYear:k,presetDate:w,selectCurrentDate:S,updateTime:M}=xG(i,r,x,O),L=Ea(),{setHoverDate:I,getDayClassData:E,clearHoverDate:_}=VY(l,i),{defaultedMultiCalendars:v}=In(i),T=fe([]),A=fe([]),P=fe(null),q=Qr(L,"calendar"),$=Qr(L,"monthYear"),j=Qr(L,"timePicker"),F=K=>{i.shadow||r("mount",K)};En(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const U=le(()=>K=>f(o.value(K),a.value(K)).map(te=>({...te,days:te.days.map(he=>(he.marker=p(he),he.classData=E(he),he))})));function x(K){var te;K||K===0?(te=A.value[K])==null||te.triggerTransition(o.value(K),a.value(K)):A.value.forEach((he,Z)=>he.triggerTransition(o.value(Z),a.value(Z)))}function O(){r("update-flow-step")}const z=(K,te=!1)=>{R(K,te),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:_,presetDate:w,selectCurrentDate:S,toggleMonthPicker:(K,te,he=0)=>{var Z;(Z=T.value[he])==null||Z.toggleMonthPicker(K,te)},toggleYearPicker:(K,te,he=0)=>{var Z;(Z=T.value[he])==null||Z.toggleYearPicker(K,te)},toggleTimePicker:(K,te,he)=>{var Z;(Z=P.value)==null||Z.toggleTimePicker(K,te,he)},handleArrow:g,updateMonthYear:k,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:k,selectDate:R,presetDate:w})}),(K,te)=>(W(),ee(Ne,null,[et(ym,{"multi-calendars":G(v).count},{default:Qe(({instance:he,index:Z})=>[K.disableMonthYearSelect?de("",!0):(W(),qe(EG,pe({key:0,ref:H=>{H&&(T.value[Z]=H)},months:G(Tx)(K.formatLocale,K.locale,K.monthNameFormat),years:G(vb)(K.yearRange,K.reverseYears),month:G(o)(he),year:G(a)(he),instance:he},K.$props,{onMount:te[0]||(te[0]=H=>F(G(ea).header)),onResetFlow:te[1]||(te[1]=H=>K.$emit("reset-flow")),onUpdateMonthYear:H=>G(k)(he,H),onOverlayClosed:te[2]||(te[2]=H=>K.$emit("focus-menu"))}),Zn({_:2},[Ft(G($),(H,Q)=>({name:H,fn:Qe(ie=>[_e(K.$slots,H,bn(Jn(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),et(DG,pe({ref:H=>{H&&(A.value[Z]=H)},"mapped-dates":U.value(he),month:G(o)(he),year:G(a)(he),instance:he},K.$props,{onSelectDate:H=>G(R)(H,he!==1),onHandleSpace:H=>z(H,he!==1),onSetHoverDate:te[3]||(te[3]=H=>G(I)(H)),onHandleScroll:H=>G(y)(H,he),onHandleSwipe:H=>G(C)(H,he),onMount:te[4]||(te[4]=H=>F(G(ea).calendar)),onResetFlow:te[5]||(te[5]=H=>K.$emit("reset-flow")),onTooltipOpen:te[6]||(te[6]=H=>K.$emit("tooltip-open",H)),onTooltipClose:te[7]||(te[7]=H=>K.$emit("tooltip-close",H))}),Zn({_:2},[Ft(G(q),(H,Q)=>({name:H,fn:Qe(ie=>[_e(K.$slots,H,bn(Jn({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),K.enableTimePicker?(W(),ee("div",NG,[K.$slots["time-picker"]?_e(K.$slots,"time-picker",bn(pe({key:0},{time:G(u),updateTime:G(M)}))):(W(),qe(Lx,pe({key:1,ref_key:"timePickerRef",ref:P},K.$props,{hours:G(u).hours,minutes:G(u).minutes,seconds:G(u).seconds,"internal-model-value":K.internalModelValue,"disabled-times-config":G(c),"validate-time":G(h),onMount:te[8]||(te[8]=he=>F(G(ea).timePicker)),"onUpdate:hours":te[9]||(te[9]=he=>G(M)(he)),"onUpdate:minutes":te[10]||(te[10]=he=>G(M)(he,!1)),"onUpdate:seconds":te[11]||(te[11]=he=>G(M)(he,!1,!0)),onResetFlow:te[12]||(te[12]=he=>K.$emit("reset-flow")),onOverlayClosed:te[13]||(te[13]=he=>K.$emit("time-picker-close")),onOverlayOpened:te[14]||(te[14]=he=>K.$emit("time-picker-open",he)),onAmPmChange:te[15]||(te[15]=he=>K.$emit("am-pm-change",he))}),Zn({_:2},[Ft(G(j),(he,Z)=>({name:he,fn:Qe(H=>[_e(K.$slots,he,bn(Jn(H)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):de("",!0)],64))}}),LG=(t,e)=>{const n=fe(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=In(t),{modelValue:o,year:a,month:l,calendars:u}=Yd(t,e),{isDisabled:c}=Ra(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:y,handleYearSelect:C,handleYear:R}=Mx({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),k=(_,v)=>[_,v].map(T=>co(T,"MMMM",{locale:t.formatLocale})).join("-"),w=le(()=>_=>o.value?Array.isArray(o.value)?o.value.some(v=>bI(_,v)):bI(o.value,_):!1),S=_=>{if(t.range){if(Array.isArray(o.value)){const v=Rt(_,o.value[0])||Rt(_,o.value[1]);return mm(o.value,n.value,_)&&!v}return!1}return!1},M=le(()=>_=>{const v=on(new Date,{year:a.value(_)});return iq({start:oq(v),end:sq(v)}).map(T=>{const A=td(T),P=fI(T),q=c(T),$=S(A),j=typeof s.value=="function"?s.value({quarter:hI(A),year:ut(A)}):!!s.value.quarters.find(F=>F.quarter===hI(A)&&F.year===ut(A));return{text:k(A,P),value:A,active:w.value(A),highlighted:j,disabled:q,isBetween:$}})}),L=_=>{_b(_,o,t.multiDatesLimit),e("auto-apply",!0)},I=_=>{const v=bb(o,_,e);_m(v,e,t.autoApply,t.modelAuto)},E=_=>{o.value=_,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:_=>{n.value=_},selectYear:h,selectQuarter:(_,v,T)=>{if(!T)return u.value[v].month=Et(fI(_)),t.multiDates?L(_):t.range?I(_):E(_)},toggleYearPicker:y,handleYearSelect:C,handleYear:R}},VG={class:"dp--quarter-items"},FG=["disabled","onClick","onMouseover"],$G=Kt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Mi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=Qr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:y,selectQuarter:C,toggleYearPicker:R,handleYearSelect:k,handleYear:w}=LG(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:C,handleYearSelect:k,handleYear:w})}),(S,M)=>(W(),qe(ym,{"multi-calendars":G(a).count,stretch:""},{default:Qe(({instance:L})=>[Ce("div",{class:"dp-quarter-picker-wrap",style:Pr({minHeight:`${G(l).modeHeight}px`})},[Ce("div",null,[et(xx,pe(S.$props,{items:G(u)(L),instance:L,"show-year-picker":G(g)[L],year:G(c)(L),"is-disabled":I=>G(h)(L,I),onHandleYear:I=>G(w)(L,I),onYearSelect:I=>G(k)(I,L),onToggleYearPicker:I=>G(R)(L,I==null?void 0:I.flow,I==null?void 0:I.show)}),Zn({_:2},[Ft(G(o),(I,E)=>({name:I,fn:Qe(_=>[_e(S.$slots,I,bn(Jn(_)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ce("div",VG,[(W(!0),ee(Ne,null,Ft(G(f)(L),(I,E)=>(W(),ee("div",{key:E},[Ce("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":I.active,"dp--qr-btn-between":I.isBetween,"dp--qr-btn-disabled":I.disabled,"dp--highlighted":I.highlighted}]),disabled:I.disabled,onClick:_=>G(C)(I.value,L,I.disabled),onMouseover:_=>G(y)(I.value)},[S.$slots.quarter?_e(S.$slots,"quarter",{key:0,value:I.value,text:I.text}):(W(),ee(Ne,{key:1},[Dn(dt(I.text),1)],64))],42,FG)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),UG=["id"],BG={key:0,class:"dp__sidebar_left"},jG={key:1,class:"dp--preset-dates"},HG=["onClick","onKeydown"],WG={key:2,class:"dp__sidebar_right"},qG={key:3,class:"dp__action_extra"},VI=Kt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...vm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=le(()=>{const{openOnTop:ne,...D}=i;return{...D,flowStep:E.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=Dx(),u=Ea(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=In(i),p=fe(null),g=fe(0),y=fe(null),C=fe(null),R=fe(!1),k=fe(null);vn(()=>{if(!i.shadow){R.value=!0,w(),window.addEventListener("resize",w);const ne=Nn(y);if(ne&&!c.value.enabled&&!h.value.enabled&&(o(!0),P()),ne){const D=V=>{f.value.allowPreventDefault&&V.preventDefault(),ho(V,f.value,!0)};ne.addEventListener("pointerdown",D),ne.addEventListener("mousedown",D)}}}),Ta(()=>{window.removeEventListener("resize",w)});const w=()=>{const ne=Nn(C);ne&&(g.value=ne.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:M,arrowDown:L,arrowUp:I}=Po(),{flowStep:E,updateFlowStep:_,childMount:v,resetFlow:T}=FY(i,r,k),A=le(()=>i.monthPicker?tG:i.yearPicker?rG:i.timePicker?bG:i.quarterPicker?$G:MG),P=()=>{const ne=Nn(y);ne&&ne.focus({preventScroll:!0})},q=le(()=>{var ne;return((ne=k.value)==null?void 0:ne.getSidebarProps())||{}}),$=()=>{i.openOnTop&&r("recalculate-position")},j=Qr(u,"action"),F=le(()=>i.monthPicker||i.yearPicker?Qr(u,"monthYear"):i.timePicker?Qr(u,"timePicker"):Qr(u,"shared")),U=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),x=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),O=le(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),z=ne=>{ho(ne,f.value,!0)},K=()=>{i.escClose&&r("close-picker")},te=ne=>{if(i.arrowNavigation){if(ne==="up")return I();if(ne==="down")return L();if(ne==="left")return M();if(ne==="right")return S()}else ne==="left"||ne==="up"?ie("handleArrow","left",0,ne==="up"):ie("handleArrow","right",0,ne==="down")},he=ne=>{a(ne.shiftKey),!i.disableMonthYearSelect&&ne.code==="Tab"&&ne.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(ne.preventDefault(),ho(ne,f.value,!0),r("close-picker"))},Z=()=>{P(),r("time-picker-close")},H=ne=>{var D,V,B;(D=k.value)==null||D.toggleTimePicker(!1,!1),(V=k.value)==null||V.toggleMonthPicker(!1,!1,ne),(B=k.value)==null||B.toggleYearPicker(!1,!1,ne)},Q=(ne,D=0)=>{var V,B,oe;return ne==="month"?(V=k.value)==null?void 0:V.toggleMonthPicker(!1,!0,D):ne==="year"?(B=k.value)==null?void 0:B.toggleYearPicker(!1,!0,D):ne==="time"?(oe=k.value)==null?void 0:oe.toggleTimePicker(!0,!1):H(D)},ie=(ne,...D)=>{var V,B;(V=k.value)!=null&&V[ne]&&((B=k.value)==null||B[ne](...D))},X=()=>{ie("selectCurrentDate")},ce=(ne,D)=>{ie("presetDate",ne,D)},be=()=>{ie("clearHoverDate")};return e({updateMonthYear:(ne,D)=>{ie("updateMonthYear",ne,D)},switchView:Q}),(ne,D)=>{var V;return W(),ee("div",{id:ne.uid?`dp-menu-${ne.uid}`:void 0,ref_key:"dpMenuRef",ref:y,tabindex:"0",role:"dialog",class:tt(O.value),onMouseleave:be,onClick:z,onKeydown:[at(K,["esc"]),D[18]||(D[18]=at(Lt(B=>te("left"),["prevent"]),["left"])),D[19]||(D[19]=at(Lt(B=>te("up"),["prevent"]),["up"])),D[20]||(D[20]=at(Lt(B=>te("down"),["prevent"]),["down"])),D[21]||(D[21]=at(Lt(B=>te("right"),["prevent"]),["right"])),he]},[(ne.disabled||ne.readonly)&&G(h).enabled?(W(),ee("div",{key:0,class:tt(x.value)},null,2)):de("",!0),!G(h).enabled&&!ne.teleportCenter?(W(),ee("div",{key:1,class:tt(U.value)},null,2)):de("",!0),Ce("div",{ref_key:"innerMenuRef",ref:C,class:tt({dp__menu_content_wrapper:((V=ne.presetDates)==null?void 0:V.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"]}),style:Pr({"--dp-menu-width":`${g.value}px`})},[ne.$slots["left-sidebar"]?(W(),ee("div",BG,[_e(ne.$slots,"left-sidebar",bn(Jn(q.value)))])):de("",!0),ne.presetDates.length?(W(),ee("div",jG,[(W(!0),ee(Ne,null,Ft(ne.presetDates,(B,oe)=>(W(),ee(Ne,{key:oe},[B.slot?_e(ne.$slots,B.slot,{key:0,presetDate:ce,label:B.label,value:B.value}):(W(),ee("button",{key:1,type:"button",style:Pr(B.style||{}),class:"dp__btn dp--preset-range",onClick:Lt(se=>ce(B.value,B.noTz),["prevent"]),onKeydown:[at(Lt(se=>ce(B.value,B.noTz),["prevent"]),["enter"]),at(Lt(se=>ce(B.value,B.noTz),["prevent"]),["space"])]},dt(B.label),45,HG))],64))),128))])):de("",!0),Ce("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(W(),qe(zr(A.value),pe({ref_key:"dynCmpRef",ref:k},s.value,{"flow-step":G(E),onMount:G(v),onUpdateFlowStep:G(_),onResetFlow:G(T),onFocusMenu:P,onSelectDate:D[0]||(D[0]=B=>ne.$emit("select-date")),onDateUpdate:D[1]||(D[1]=B=>ne.$emit("date-update",B)),onTooltipOpen:D[2]||(D[2]=B=>ne.$emit("tooltip-open",B)),onTooltipClose:D[3]||(D[3]=B=>ne.$emit("tooltip-close",B)),onAutoApply:D[4]||(D[4]=B=>ne.$emit("auto-apply",B)),onRangeStart:D[5]||(D[5]=B=>ne.$emit("range-start",B)),onRangeEnd:D[6]||(D[6]=B=>ne.$emit("range-end",B)),onInvalidFixedRange:D[7]||(D[7]=B=>ne.$emit("invalid-fixed-range",B)),onTimeUpdate:D[8]||(D[8]=B=>ne.$emit("time-update")),onAmPmChange:D[9]||(D[9]=B=>ne.$emit("am-pm-change",B)),onTimePickerOpen:D[10]||(D[10]=B=>ne.$emit("time-picker-open",B)),onTimePickerClose:Z,onRecalculatePosition:$,onUpdateMonthYear:D[11]||(D[11]=B=>ne.$emit("update-month-year",B)),onAutoApplyInvalid:D[12]||(D[12]=B=>ne.$emit("auto-apply-invalid",B)),onInvalidDate:D[13]||(D[13]=B=>ne.$emit("invalid-date",B)),"onUpdate:internalModelValue":D[14]||(D[14]=B=>ne.$emit("update:internal-model-value",B))}),Zn({_:2},[Ft(F.value,(B,oe)=>({name:B,fn:Qe(se=>[_e(ne.$slots,B,bn(Jn({...se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ne.$slots["right-sidebar"]?(W(),ee("div",WG,[_e(ne.$slots,"right-sidebar",bn(Jn(q.value)))])):de("",!0),ne.$slots["action-extra"]?(W(),ee("div",qG,[ne.$slots["action-extra"]?_e(ne.$slots,"action-extra",{key:0,selectCurrentDate:X}):de("",!0)])):de("",!0)],6),!ne.autoApply||G(f).keepActionRow?(W(),qe(zY,pe({key:2,"menu-mount":R.value},s.value,{"calendar-width":g.value,onClosePicker:D[15]||(D[15]=B=>ne.$emit("close-picker")),onSelectDate:D[16]||(D[16]=B=>ne.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=B=>ne.$emit("invalid-select")),onSelectNow:X}),Zn({_:2},[Ft(G(j),(B,oe)=>({name:B,fn:Qe(se=>[_e(ne.$slots,B,bn(Jn({...se})))])}))]),1040,["menu-mount","calendar-width"])):de("",!0)],42,UG)}}}),zG=typeof window<"u"?window:void 0,Wg=()=>{},KG=t=>Gy()?(iC(t),!0):!1,YG=(t,e,n,r)=>{if(!t)return Wg;let i=Wg;const s=En(()=>G(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Wg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return KG(o),o},GG=(t,e,n,r={})=>{const{window:i=zG,event:s="pointerdown"}=r;return i?YG(i,s,o=>{const a=Nn(t),l=Nn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},QG=Kt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...vm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=fe(!1),a=Pc(i,"modelValue"),l=Pc(i,"timezone"),u=fe(null),c=fe(null),h=fe(null),f=fe(!1),p=fe(null),g=fe(!1),y=fe(!1),{setMenuFocused:C,setShiftKey:R}=Dx(),{clearArrowNav:k}=Po(),{mapDatesArrToMap:w,validateDate:S,isValidTime:M}=Ra(i),{defaultedTransitions:L,defaultedTextInput:I,defaultedInline:E,defaultedConfig:_}=In(i),{menuTransition:v,showTransition:T}=Kd(L);vn(()=>{te(i.modelValue),jn().then(()=>{if(!E.value.enabled){const Oe=x(p.value);Oe==null||Oe.addEventListener("scroll",ne),window==null||window.addEventListener("resize",D)}}),E.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",V),window==null||window.addEventListener("keydown",B)});const A=le(()=>w());Ta(()=>{if(!E.value.enabled){const Oe=x(p.value);Oe==null||Oe.removeEventListener("scroll",ne),window==null||window.removeEventListener("resize",D)}window==null||window.removeEventListener("keyup",V),window==null||window.removeEventListener("keydown",B)});const P=Qr(s,"all",i.presetDates),q=Qr(s,"input");En([a,l],()=>{te(a.value)},{deep:!0});const{openOnTop:$,menuStyle:j,xCorrect:F,setMenuPosition:U,getScrollableParent:x,shadowRender:O}=NY({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:E,emit:r,props:i,slots:s}),{inputValue:z,internalModelValue:K,parseExternalModelValue:te,emitModelValue:he,formatInputValue:Z,checkBeforeEmit:H}=DY(r,i,f),Q=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,dp__flex_display_with_input:E.value.input})),ie=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=le(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled})),ce=le(()=>({class:"dp__outer_menu_wrap"})),be=le(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ne=()=>{o.value&&(_.value.closeOnScroll?Ie():U())},D=()=>{o.value&&U()},V=Oe=>{Oe.key==="Tab"&&!E.value.enabled&&!i.teleport&&_.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),y.value=Oe.shiftKey},B=Oe=>{y.value=Oe.shiftKey},oe=()=>{!i.disabled&&!i.readonly&&(O(VI,i),U(!1),o.value=!0,o.value&&r("open"),o.value||He(),te(i.modelValue))},se=()=>{var Oe;z.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),_.value.closeOnClearValue&&Ie()},me=()=>{const Oe=K.value;return!Oe||!Array.isArray(Oe)&&S(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&S(Oe[0])&&S(Oe[1])?!0:i.partialRange&&!i.timePicker?S(Oe[0]):!1:!1},Se=()=>{H()&&me()?(he(),Ie()):r("invalid-select",K.value)},Ee=Oe=>{Te(),he(),_.value.closeOnAutoApply&&!Oe&&Ie()},Te=()=>{h.value&&I.value.enabled&&h.value.setParsedDate(K.value)},ge=(Oe=!1)=>{i.autoApply&&M(K.value)&&me()&&(i.range&&Array.isArray(K.value)?(i.partialRange||K.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{I.value.enabled||(K.value=null)},Ie=()=>{E.value.enabled||(o.value&&(o.value=!1,F.value=!1,C(!1),R(!1),k(),r("closed"),z.value&&te(a.value)),He(),r("blur"))},Fe=(Oe,Be,je=!1)=>{if(!Oe){K.value=null;return}const Wn=Array.isArray(Oe)?!Oe.some(Na=>!S(Na)):S(Oe),Wr=M(Oe);Wn&&Wr&&(K.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ge=()=>{i.autoApply&&M(K.value)&&he(),Te()},Ke=()=>o.value?Ie():oe(),Y=Oe=>{K.value=Oe},ae=()=>{I.value.enabled&&(f.value=!0,Z()),r("focus")},xe=()=>{if(I.value.enabled&&(f.value=!1,te(i.modelValue),g.value)){const Oe=dY(p.value,y.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:kI(Oe.month),year:kI(Oe.year)})},ct=Oe=>{te(Oe??i.modelValue)},Nt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},Hn=Oe=>_.value.onClickOutside?_.value.onClickOutside(Oe):Ie();return GG(u,h,()=>Hn(me)),e({closeMenu:Ie,selectDate:Se,clearValue:se,openMenu:oe,onScroll:ne,formatInputValue:Z,updateInternalModelValue:Y,setMonthYear:We,parseModel:ct,switchView:Nt,toggleMenu:Ke}),(Oe,Be)=>(W(),ee("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(Q.value),"data-datepicker-instance":""},[et(jY,pe({ref_key:"inputRef",ref:h,"input-value":G(z),"onUpdate:inputValue":Be[0]||(Be[0]=je=>an(z)?z.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:se,onOpen:oe,onSetInputDate:Fe,onSetEmptyDate:G(he),onSelectDate:Se,onToggle:Ke,onClose:Ie,onFocus:ae,onBlur:xe,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),Zn({_:2},[Ft(G(q),(je,Wn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,bn(Jn(Wr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),et(xC,bn(Jn(X.value)),{default:Qe(()=>[et(So,{name:G(v)(G($)),css:G(T)&&!G(E).enabled},{default:Qe(()=>[o.value?(W(),ee("div",pe({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!G(E).enabled},style:G(E).enabled?void 0:G(j)}),[et(VI,pe({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":G(K),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>an(K)?K.value=je:null),class:{[ie.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":G($),"arr-map-values":A.value,"no-overlay-focus":be.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:ge,onTimeUpdate:Ge,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",G(K))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:G(U),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),Zn({_:2},[Ft(G(P),(je,Wn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,bn(Jn({...Wr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):de("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),wb=(()=>{const t=QG;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),XG=Object.freeze(Object.defineProperty({__proto__:null,default:wb},Symbol.toStringTag,{value:"Module"}));Object.entries(XG).forEach(([t,e])=>{t!=="default"&&(wb[t]=e)});function qg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Tb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function JG(t){return tQ(t)||eQ(t)||Tb(t)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tQ(t){if(Array.isArray(t))return Ry(t)}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function zg(t,e){return iQ(t)||rQ(t,e)||Tb(t,e)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tb(t,e){if(t){if(typeof t=="string")return Ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(t,e)}}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function iQ(t){if(Array.isArray(t))return t}var De={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=zg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Ec(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(y){var C=zg(y,2),R=C[0],k=C[1];return o==="style"&&(k||k===0)?"".concat(R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(k):k?R:void 0});h=g.length?h.concat(g.filter(function(y){return!!y})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=zg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?JG(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,y="top";u.top+a+s>f.height?(p=u.top+c-s,y="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=y,r&&(e.style.marginTop=y==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(C){try{var R=window.getComputedStyle(C,null);return i.test(R.getPropertyValue("overflow"))||i.test(R.getPropertyValue("overflowX"))||i.test(R.getPropertyValue("overflowY"))}catch{return!1}},o=qg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=qg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(y){h.e(y)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(y){o.e(y)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Ec(HTMLElement))==="object"?e instanceof HTMLElement:e&&Ec(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=qg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function sQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aQ(r.key),r)}}function oQ(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aQ(t){var e=lQ(t,"string");return sd(e)=="symbol"?e:String(e)}function lQ(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};sQ(this,t),this.element=e,this.listener=n}return oQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=De.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function uQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function $I(t,e){return hQ(t)||dQ(t,e)||Eb(t,e)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function hQ(t){if(Array.isArray(t))return t}function UI(t){return mQ(t)||pQ(t)||Eb(t)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mQ(t){if(Array.isArray(t))return Dy(t)}function Kg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Eb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Eb(t,e){if(t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}var we={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Ic(e)=="object"&&Ic(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=Kg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=Kg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=Kg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Ic(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=UI(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(UI(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=$I(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=$I(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},BI=0;function hp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return BI++,"".concat(t).concat(BI)}function gQ(t){return bQ(t)||_Q(t)||yQ(t)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){if(t){if(typeof t=="string")return xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(t,e)}}function _Q(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bQ(t){if(Array.isArray(t))return xy(t)}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return gQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Il=wQ(),or={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function jI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=TQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function TQ(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $x={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=jI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=jI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=we.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)==we.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)!=we.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(we.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){EQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQ(t,e,n){return e=IQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=SQ(t,"string");return od(e)=="symbol"?e:String(e)}function SQ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[or.STARTS_WITH,or.CONTAINS,or.NOT_CONTAINS,or.ENDS_WITH,or.EQUALS,or.NOT_EQUALS],numeric:[or.EQUALS,or.NOT_EQUALS,or.LESS_THAN,or.LESS_THAN_OR_EQUAL_TO,or.GREATER_THAN,or.GREATER_THAN_OR_EQUAL_TO],date:[or.DATE_IS,or.DATE_IS_NOT,or.DATE_BEFORE,or.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},CQ=Symbol();function AQ(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var OQ={install:function(e,n){var r=n?Yg(Yg({},qI),n):Yg({},qI),i={config:Rr(r),changeTheme:AQ};e.config.globalProperties.$primevue=i,e.provide(CQ,i)}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return e=kQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=RQ(t,"string");return ad(e)=="symbol"?e:String(e)}function RQ(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ei()?vn(t):e?t():jn(t)}var xQ=0;function Ux(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=fe(!1),r=fe(t),i=fe(null),s=De.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++xQ):f,g=e.id,y=g===void 0?void 0:g,C=e.media,R=C===void 0?void 0:C,k=e.nonce,w=k===void 0?void 0:k,S=e.props,M=S===void 0?{}:S,L=function(){},I=function(v){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var A=KI(KI({},M),T),P=A.name||p,q=A.id||y,$=A.nonce||w;i.value=a.querySelector('style[data-primevue-style-id="'.concat(P,'"]'))||a.getElementById(q)||a.createElement("style"),i.value.isConnected||(r.value=v||t,De.setAttributes(i.value,{type:"text/css",id:q,media:R,nonce:$}),a.head.appendChild(i.value),De.setAttribute(i.value,"data-primevue-style-id",p),De.setAttributes(i.value,A)),!n.value&&(L=En(r,function(j){i.value.textContent=j},{immediate:!0}),n.value=!0)}},E=function(){!a||!n.value||(L(),De.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&DQ(I),{id:y,name:p,css:r,unload:E,load:I,isLoaded:Zy(n)}}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function NQ(t,e){return FQ(t)||VQ(t,e)||LQ(t,e)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(t,e){if(t){if(typeof t=="string")return YI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(t,e)}}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function FQ(t){if(Array.isArray(t))return t}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return e=UQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UQ(t){var e=BQ(t,"string");return ld(e)=="symbol"?e:String(e)}function BQ(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,HQ={},WQ={},fi={name:"base",css:jQ,classes:HQ,inlineStyles:WQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?Ux(this.css,Gg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=NQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Gg(Gg({},this),{},{css:void 0},e)}};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){zQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zQ(t,e,n){return e=KQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KQ(t){var e=YQ(t,"string");return ud(e)=="symbol"?e:String(e)}function YQ(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qg=fi.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ux(e,qQ({name:"global"},n))}});function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function GQ(t){return Hx(t)||QQ(t)||jx(t)||Bx()}function QQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $h(t,e){return Hx(t)||XQ(t,e)||jx(t,e)||Bx()}function Bx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jx(t,e){if(t){if(typeof t=="string")return XI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(t,e)}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Hx(t){if(Array.isArray(t))return t}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){af(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function af(t,e,n){return e=JQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=ZQ(t,"string");return cd(e)=="symbol"?e:String(e)}function ZQ(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Da={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Qg.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var y=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,C=y?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,R=y?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=R||C)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;fi.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);we.isNotEmpty(n)&&Qg.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?this._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,tn(tn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):tn(tn(tn({},f),p),g):tn(tn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return pe(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&we.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&tn(tn({},r==="root"&&tn(af({},"".concat(i,"name"),we.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&af({},"".concat(i,"extend"),we.toFlatCase(this.$.type.name)))),{},af({},"".concat(i,"section"),we.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return we.isString(e)||we.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=we.toFlatCase(r),f=we.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(y){return n(y,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:we.isString(p)?p:we.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):tn(tn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,tn(tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pe(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,tn(tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,tn(tn({},this.$params),r)),s=this._getOptionValue(Qg.inlineStyles,e,tn(tn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return we.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,tn({},n.$params))||we.getItemValue(r,tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return tn(tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=$h(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=$h(n,2),i=r[0],s=r[1],o=i.split(":"),a=GQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=$h(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=$h(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},eX=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,tX=fi.extend({name:"baseicon",css:eX});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return e=rX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return dd(e)=="symbol"?e:String(e)}function iX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xa={name:"BaseIcon",extends:Da,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:tX,methods:{pti:function(){var e=we.isEmpty(this.label);return eS(eS({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Wx={name:"BlankIcon",extends:xa},sX=Ce("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),oX=[sX];function aX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),oX,16)}Wx.render=aX;var bm={name:"CheckIcon",extends:xa},lX=Ce("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),uX=[lX];function cX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),uX,16)}bm.render=cX;var Ib={name:"ChevronDownIcon",extends:xa},dX=Ce("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),hX=[dX];function fX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),hX,16)}Ib.render=fX;var Sb={name:"SearchIcon",extends:xa},pX=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),mX=[pX];function gX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),mX,16)}Sb.render=gX;var wm={name:"SpinnerIcon",extends:xa},vX=Ce("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),yX=[vX];function _X(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),yX,16)}wm.render=_X;var Cb={name:"TimesIcon",extends:xa},bX=Ce("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),wX=[bX];function TX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),wX,16)}Cb.render=TX;var qx=uQ(),Ab={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=De.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function EX(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(W(),qe(xC,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):de("",!0)}Ab.render=EX;function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function tS(t,e){return AX(t)||CX(t,e)||SX(t,e)||IX()}function IX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function AX(t){if(Array.isArray(t))return t}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){Ny(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ny(t,e,n){return e=OX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OX(t){var e=PX(t,"string");return hd(e)=="symbol"?e:String(e)}function PX(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var At={_getMeta:function(){return[we.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],we.getItemValue(we.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?At._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var k=At._getOptionValue.apply(At,arguments);return we.isString(k)||we.isArray(k)?{class:k}:k},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?At._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,y=At._usePT(r,At._getPT(i,r.$name),l,s,cn(cn({},o),{},{global:g||{}})),C=At._getPTDatasets(r,s);return h||!h&&y?p?At._mergeProps(r,p,g,y,C):cn(cn(cn({},g),y),C):cn(cn({},y),C)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return cn(cn({},n==="root"&&Ny({},"".concat(r,"name"),we.toFlatCase(e.$name))),{},Ny({},"".concat(r,"section"),we.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=we.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(C){return r(C,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:we.isString(g)?g:we.isString(p)?p:c||!c&&g?f?At._mergeProps(e,f,p,g):cn(cn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return At._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(we.toCapitalCase(n)),c=At._getConfig(i,s),h=r==null?void 0:r.$instance,f=At._usePT(h,At._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),At._getOptionValue,"hooks.".concat(u)),p=At._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],At._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=At._getConfig(a,l),p=o._$instances[e]||{},g=we.isEmpty(p)?cn(cn({},n),n==null?void 0:n.methods):{};o._$instances[e]=cn(cn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:cn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return At._getPT(f==null?void 0:f.pt,void 0,function(C){var R;return C==null||(R=C.directives)===null||R===void 0?void 0:R[e]})},isUnstyled:function(){var C,R;return((C=o.$instance)===null||C===void 0||(C=C.$binding)===null||C===void 0||(C=C.value)===null||C===void 0?void 0:C.unstyled)!==void 0?(R=o.$instance)===null||R===void 0||(R=R.$binding)===null||R===void 0||(R=R.value)===null||R===void 0?void 0:R.unstyled:f==null?void 0:f.unstyled},ptm:function(){var C,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return At._getPTValue(o.$instance,(C=o.$instance)===null||C===void 0||(C=C.$binding)===null||C===void 0||(C=C.value)===null||C===void 0?void 0:C.pt,R,cn({},k))},ptmo:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return At._getPTValue(o.$instance,C,R,k,!1)},cx:function(){var C,R,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(C=o.$instance)!==null&&C!==void 0&&C.isUnstyled()?void 0:At._getOptionValue((R=o.$instance)===null||R===void 0||(R=R.$style)===null||R===void 0?void 0:R.classes,k,cn({},w))},sx:function(){var C,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k?At._getOptionValue((C=o.$instance)===null||C===void 0||(C=C.$style)===null||C===void 0?void 0:C.inlineStyles,R,cn({},w)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,At._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=At._getConfig(o,a);fi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=At._getConfig(o,a);fi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=At._getMeta.apply(At,arguments),n=tS(e,2),r=n[0],i=n[1];return cn({extend:function(){var o=At._getMeta.apply(At,arguments),a=tS(o,2),l=a[0],u=a[1];return At.extend(l,cn(cn(cn({},i),i==null?void 0:i.methods),u))}},At._extend(r,i))}},kX={root:"p-ink"},RX=fi.extend({name:"ripple",classes:kX}),DX=At.extend({style:RX});function xX(t){return VX(t)||LX(t)||MX(t)||NX()}function NX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MX(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function LX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VX(t){if(Array.isArray(t))return My(t)}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zx=DX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=De.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!De.getHeight(i)&&!De.getWidth(i)){var s=Math.max(De.getOuterWidth(r),De.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=De.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-De.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-De.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&De.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&De.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?xX(e.children).find(function(n){return De.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),FX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,iS=fi.extend({name:"virtualscroller",css:FX}),$X={name:"BaseVirtualScroller",extends:Da,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:iS,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;iS.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(n),!0).forEach(function(r){Kx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kx(t,e,n){return e=UX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=BX(t,"string");return fd(e)=="symbol"?e:String(e)}function BX(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ob={name:"VirtualScroller",extends:$X,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){De.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=De.getWidth(this.element),this.defaultHeight=De.getHeight(this.element),this.defaultContentWidth=De.getWidth(this.content),this.defaultContentHeight=De.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(I){return I>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,y=this.getContentPosition(),C=this.itemSize,R=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1?arguments[1]:void 0;return E<=_?0:E},k=function(E,_,v){return E*_+v},w=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:E,top:_,behavior:r})},S=i?{rows:0,cols:0}:0,M=!1,L=!1;i?(S={rows:R(e[0],g[0]),cols:R(e[1],g[1])},w(k(S.cols,C[1],y.left),k(S.rows,C[0],y.top)),L=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,M=S.rows!==a.rows||S.cols!==a.cols):(S=R(e,g),s?w(k(S,C,y.left),c):w(f,k(S,C,y.top)),L=this.lastScrollPos!==(s?f:c),M=S!==a),this.isRangeChanged=M,L&&(this.first=S)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(C){return C>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:R,top:k,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var y=(c.first+1)*this.itemSize;o?h(y,0):h(0,y)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Bu(Bu({},e.spacerStyle),Kx({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Bu(Bu({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(T,A){return T?T>A?T-A:T:0},l=function(T,A){return Math.floor(T/(A||T))},u=function(T,A,P,q,$,j){return T<=$?$:j?P-q-$:A+$-1},c=function(T,A,P,q,$,j,F){return T<=j?0:Math.max(0,F?T<A?P:T-j:T>A?P:T-2*j)},h=function(T,A,P,q,$,j){var F=A+q+2*$;return T>=$&&(F+=$+1),n.getLast(F,j)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,y=this.last,C=!1,R=this.lastScrollPos;if(i){var k=this.lastScrollPos.top<=f,w=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(k||w)){var S={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(S.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],k),cols:u(S.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],w)};g={rows:c(S.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],k),cols:c(S.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],w)},y={rows:h(S.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(S.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},C=g.rows!==this.first.rows||y.rows!==this.last.rows||g.cols!==this.first.cols||y.cols!==this.last.cols||this.isRangeChanged,R={top:f,left:p}}}else{var L=s?p:f,I=this.lastScrollPos<=L;if(!this.appendOnly||this.appendOnly&&I){var E=l(L,this.itemSize),_=u(E,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I);g=c(E,_,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I),y=h(E,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),C=g!==this.first||y!==this.last||this.isRangeChanged,R=L}}return{first:g,last:y,isRangeChanged:C,scrollPos:R}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(De.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=De.getWidth(e.content),e.defaultContentHeight=De.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Bu({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||De.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:wm}},jX=["tabindex"];function HX(t,e,n,r,i,s){var o=Kr("SpinnerIcon");return t.disabled?(W(),ee(Ne,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(W(),ee("div",pe({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ce("div",pe({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(W(!0),ee(Ne,null,Ft(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(W(),ee("div",pe({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):de("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(W(),ee("div",pe({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(W(!0),ee(Ne,{key:0},Ft(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):de("",!0),_e(t.$slots,"loadingicon",{},function(){return[et(o,pe({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):de("",!0)],16,jX))}Ob.render=HX;var WX={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},qX=fi.extend({name:"dropdown",classes:WX}),zX={name:"BaseDropdown",extends:Da,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:qX,provide:function(){return{$parentInstance:this}}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function KX(t){return XX(t)||QX(t)||GX(t)||YX()}function YX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GX(t,e){if(t){if(typeof t=="string")return Ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(t,e)}}function QX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XX(t){if(Array.isArray(t))return Ly(t)}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){Yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yx(t,e,n){return e=JX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JX(t){var e=ZX(t,"string");return pd(e)=="symbol"?e:String(e)}function ZX(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gx={name:"Dropdown",extends:zX,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||hp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||hp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Il.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||De.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&we.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){qx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Il.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Il.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Fx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&De.isVisible(n)&&(this.labelClickListener=function(){De.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&De.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&we.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=$x.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(aS(aS({},o),{},Yx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",KX(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:zx},components:{VirtualScroller:Ob,Portal:Ab,TimesIcon:Cb,ChevronDownIcon:Ib,SpinnerIcon:wm,SearchIcon:Sb,CheckIcon:bm,BlankIcon:Wx}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){eJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eJ(t,e,n){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tJ(t){var e=nJ(t,"string");return md(e)=="symbol"?e:String(e)}function nJ(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rJ=["id"],iJ=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],sJ=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],oJ=["value","placeholder","aria-owns","aria-activedescendant"],aJ=["id","aria-label"],lJ=["id"],uJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function cJ(t,e,n,r,i,s){var o=Kr("SpinnerIcon"),a=Kr("CheckIcon"),l=Kr("BlankIcon"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=jC("ripple");return W(),ee("div",pe({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(W(),ee("input",pe({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Li(Li({},t.inputProps),t.ptm("input"))),null,16,iJ)):(W(),ee("span",pe({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Li(Li({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Dn(dt(s.label==="p-emptylabel"?"":s.label||"empty"),1)]})],16,sJ)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(W(),qe(zr(t.clearIcon?"i":"TimesIcon"),pe({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Li(Li({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):de("",!0),Ce("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(o,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(So,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),ee("div",pe({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Li(Li({},t.panelProps),t.ptm("panel"))),[Ce("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(W(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[Ce("div",pe({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Li(Li({},t.filterInputProps),t.ptm("filterInput"))),null,16,oJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ce("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)],16)):de("",!0),Ce("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,y=f.items,C=f.getItemOptions,R=f.contentStyle,k=f.itemSize;return[Ce("ul",pe({ref:function(S){return s.listRef(S,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),ee(Ne,null,Ft(y,function(w,S){return W(),ee(Ne,{key:s.getOptionRenderKey(w,s.getOptionIndex(S,C))},[s.isOptionGroup(w)?(W(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(S,C),style:{height:k?k+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:w.optionGroup,index:s.getOptionIndex(S,C)},function(){return[Ce("span",pe({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),dt(s.getOptionGroupLabel(w.optionGroup)),17)]})],16,lJ)):Ko((W(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(S,C),class:t.cx("item",{option:w,focusedOption:s.getOptionIndex(S,C)}),style:{height:k?k+"px":void 0},role:"option","aria-label":s.getOptionLabel(w),"aria-selected":s.isSelected(w),"aria-disabled":s.isOptionDisabled(w),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(S,C)),onClick:function(L){return s.onOptionSelect(L,w)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(S,C))},"data-p-highlight":s.isSelected(w),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(S,C),"data-p-disabled":s.isOptionDisabled(w)},s.getPTItemOptions(w,C,S,"item")),[t.checkmark?(W(),ee(Ne,{key:0},[s.isSelected(w)?(W(),qe(a,pe({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(W(),qe(l,pe({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):de("",!0),_e(t.$slots,"option",{option:w,index:s.getOptionIndex(S,C)},function(){return[Ce("span",pe({class:t.cx("itemLabel")},t.ptm("itemLabel")),dt(s.getOptionLabel(w)),17)]})],16,uJ)),[[h]])],64)}),128)),i.filterValue&&(!y||y&&y.length===0)?(W(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[Dn(dt(s.emptyMessageText),1)]})],16)):de("",!0)],16,aJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):de("",!0),Ce("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,rJ)}Gx.render=cJ;var dJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},hJ=fi.extend({name:"inputtext",classes:dJ}),fJ={name:"BaseInputText",extends:Da,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:hJ,provide:function(){return{$parentInstance:this}}},Qx={name:"InputText",extends:fJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},pJ=["value","aria-invalid"];function mJ(t,e,n,r,i,s){return W(),ee("input",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,pJ)}Qx.render=mJ;var gJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},vJ=fi.extend({name:"checkbox",classes:gJ}),yJ={name:"BaseCheckbox",extends:Da,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:vJ,provide:function(){return{$parentInstance:this}}};function _J(t){return EJ(t)||TJ(t)||wJ(t)||bJ()}function bJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJ(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function TJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EJ(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xx={name:"Checkbox",extends:yJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!we.equals(i,n.value)}):r=this.modelValue?[].concat(_J(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:we.contains(this.value,this.modelValue)}},components:{CheckIcon:bm}},IJ=["data-p-highlight","data-p-disabled"],SJ=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function CJ(t,e,n,r,i,s){var o=Kr("CheckIcon");return W(),ee("div",pe({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ce("input",pe({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,SJ),Ce("div",pe({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(W(),qe(o,pe({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):de("",!0)]})],16)],16,IJ)}Xx.render=CJ;var Jx={name:"TimesCircleIcon",extends:xa},AJ=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),OJ=[AJ];function PJ(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),OJ,16)}Jx.render=PJ;var kJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},RJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},DJ=fi.extend({name:"multiselect",classes:RJ,inlineStyles:kJ}),xJ={name:"BaseMultiSelect",extends:Da,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:DJ,provide:function(){return{$parentInstance:this}}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){Zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zx(t,e,n){return e=NJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJ(t){var e=MJ(t,"string");return gd(e)=="symbol"?e:String(e)}function MJ(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dS(t){return $J(t)||FJ(t)||VJ(t)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(t,e){if(t){if(typeof t=="string")return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(t,e)}}function FJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $J(t){if(Array.isArray(t))return Fy(t)}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eN={name:"MultiSelect",extends:xJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||hp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||hp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Il.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!we.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(dS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&De.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){qx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Il.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Il.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Fx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&we.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!we.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return we.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?we.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=$x.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(cS(cS({},o),{},Zx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",dS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:we.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:zx},components:{Checkbox:Xx,VirtualScroller:Ob,Portal:Ab,TimesIcon:Cb,SearchIcon:Sb,TimesCircleIcon:Jx,ChevronDownIcon:Ib,SpinnerIcon:wm,CheckIcon:bm}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $y(t,e,n){return e=UJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UJ(t){var e=BJ(t,"string");return vd(e)=="symbol"?e:String(e)}function BJ(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jJ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],HJ=["onClick"],WJ=["value","placeholder","aria-owns","aria-activedescendant"],qJ=["aria-label"],zJ=["id","aria-label"],KJ=["id"],YJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function GJ(t,e,n,r,i,s){var o=Kr("TimesCircleIcon"),a=Kr("SpinnerIcon"),l=Kr("Checkbox"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=jC("ripple");return W(),ee("div",pe({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ce("div",pe({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ce("input",pe({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Hs(Hs({},t.inputProps),t.ptm("hiddenInput"))),null,16,jJ)],16),Ce("div",pe({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ce("div",pe({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(W(),ee(Ne,{key:0},[Dn(dt(s.label||"empty"),1)],64)):t.display==="chip"?(W(),ee(Ne,{key:1},[(W(!0),ee(Ne,null,Ft(s.chipSelectedItems,function(f){return W(),ee("div",pe({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:f},function(){return[Ce("span",pe({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),dt(s.getLabelByValue(f)),17)]}),t.disabled?de("",!0):_e(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(W(),ee("span",pe({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,HJ)):(W(),qe(o,pe({key:1,class:t.cx("removeTokenIcon"),onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(W(),ee(Ne,{key:0},[Dn(dt(t.placeholder||"empty"),1)],64)):de("",!0)],64)):de("",!0)]})],16)],16),Ce("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(a,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(So,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),ee("div",pe({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Hs(Hs({},t.panelProps),t.ptm("panel"))),[Ce("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(W(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(W(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(W(),qe(zr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(W(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[f.class,$y({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):de("",!0),t.filter?(W(),ee("div",pe({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Hs(Hs({},t.filterInputProps),t.ptm("filterInput"))),null,16,WJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):de("",!0),t.filter?(W(),ee("span",pe({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)):de("",!0),Ko((W(),ee("button",pe({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Hs(Hs({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(W(),qe(zr(t.closeIcon?"span":"TimesIcon"),pe({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,qJ)),[[h]])],16)):de("",!0),Ce("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,y=f.items,C=f.getItemOptions,R=f.contentStyle,k=f.itemSize;return[Ce("ul",pe({ref:function(S){return s.listRef(S,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),ee(Ne,null,Ft(y,function(w,S){return W(),ee(Ne,{key:s.getOptionRenderKey(w,s.getOptionIndex(S,C))},[s.isOptionGroup(w)?(W(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(S,C),style:{height:k?k+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:w.optionGroup,index:s.getOptionIndex(S,C)},function(){return[Dn(dt(s.getOptionGroupLabel(w.optionGroup)),1)]})],16,KJ)):Ko((W(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(S,C),style:{height:k?k+"px":void 0},class:t.cx("item",{option:w,index:S,getItemOptions:C}),role:"option","aria-label":s.getOptionLabel(w),"aria-selected":s.isSelected(w),"aria-disabled":s.isOptionDisabled(w),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(S,C)),onClick:function(L){return s.onOptionSelect(L,w,s.getOptionIndex(S,C),!0)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(S,C))}},s.getCheckboxPTOptions(w,C,S,"item"),{"data-p-highlight":s.isSelected(w),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(S,C),"data-p-disabled":s.isOptionDisabled(w)}),[et(l,{modelValue:s.isSelected(w),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(w,C,S,"itemCheckbox")},{icon:Qe(function(M){return[t.$slots.itemcheckboxicon?(W(),qe(zr(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:tt(M.class)},null,8,["checked","class"])):M.checked?(W(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[M.class,$y({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(w,C,S,"itemCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:w,index:s.getOptionIndex(S,C)},function(){return[Ce("span",bn(Jn(t.ptm("option"))),dt(s.getOptionLabel(w)),17)]})],16,YJ)),[[h]])],64)}),128)),i.filterValue&&(!y||y&&y.length===0)?(W(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[Dn(dt(s.emptyMessageText),1)]})],16)):de("",!0)],16,zJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):de("",!0),Ce("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}eN.render=GJ;var QJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},XJ=fi.extend({name:"textarea",classes:QJ}),JJ={name:"BaseTextarea",extends:Da,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:XJ,provide:function(){return{$parentInstance:this}}},tN={name:"Textarea",extends:JJ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},ZJ=["value","aria-invalid"];function eZ(t,e,n,r,i,s){return W(),ee("textarea",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,ZJ)}tN.render=eZ;/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function tZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nN(r.key),r)}}function nZ(t,e,n){return e&&fS(t.prototype,e),n&&fS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rZ(t,e,n){return(e=nN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pS(Object(n),!0).forEach(function(r){rZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nN(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}var mS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},sZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Tm=typeof window<"u"&&typeof window.document<"u",ks=Tm?window:{},Sl=Tm&&ks.document.documentElement?"ontouchstart"in ks.document.documentElement:!1,kb=Tm?"PointerEvent"in ks:!1,lt="viewer",lf="move",rN="switch",Ju="zoom",Uh="".concat(lt,"-active"),oZ="".concat(lt,"-close"),uf="".concat(lt,"-fade"),By="".concat(lt,"-fixed"),aZ="".concat(lt,"-fullscreen"),gS="".concat(lt,"-fullscreen-exit"),jo="".concat(lt,"-hide"),lZ="".concat(lt,"-hide-md-down"),uZ="".concat(lt,"-hide-sm-down"),cZ="".concat(lt,"-hide-xs-down"),ri="".concat(lt,"-in"),Sc="".concat(lt,"-invisible"),Cl="".concat(lt,"-loading"),dZ="".concat(lt,"-move"),vS="".concat(lt,"-open"),za="".concat(lt,"-show"),mn="".concat(lt,"-transition"),Jl="click",jy="dblclick",yS="dragstart",_S="focusin",bS="keydown",si="load",ta="error",hZ=Sl?"touchend touchcancel":"mouseup",fZ=Sl?"touchmove":"mousemove",pZ=Sl?"touchstart":"mousedown",wS=kb?"pointerdown":pZ,TS=kb?"pointermove":fZ,ES=kb?"pointerup pointercancel":hZ,IS="resize",vi="transitionend",SS="wheel",CS="ready",AS="show",OS="shown",PS="hide",kS="hidden",RS="view",yd="viewed",DS="move",xS="moved",NS="rotate",MS="rotated",LS="scale",VS="scaled",FS="zoom",$S="zoomed",US="play",BS="stop",fp="".concat(lt,"Action"),Rb=/\s\s*/,Bh=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function _d(t){return typeof t=="string"}var mZ=Number.isNaN||ks.isNaN;function dn(t){return typeof t=="number"&&!mZ(t)}function al(t){return typeof t>"u"}function Zl(t){return Uy(t)==="object"&&t!==null}var gZ=Object.prototype.hasOwnProperty;function ll(t){if(!Zl(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&gZ.call(n,"isPrototypeOf")}catch{return!1}}function Wt(t){return typeof t=="function"}function Xt(t,e){if(t&&Wt(e))if(Array.isArray(t)||dn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else Zl(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Xr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Zl(e)&&r.length>0&&r.forEach(function(s){Zl(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},vZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ii(t,e){var n=t.style;Xt(e,function(r,i){vZ.test(i)&&dn(r)&&(r+="px"),n[i]=r})}function yZ(t){return _d(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function el(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(n){Pt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function bd(t,e,n){if(e){if(dn(t.length)){Xt(t,function(r){bd(r,e,n)});return}n?nt(t,e):Pt(t,e)}}var _Z=/([a-z\d])([A-Z])/g;function Db(t){return t.replace(_Z,"$1-$2").toLowerCase()}function ul(t,e){return Zl(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Db(e)))}function Hy(t,e,n){Zl(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Db(e)),n)}var iN=function(){var t=!1;if(Tm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});ks.addEventListener("test",n,r),ks.removeEventListener("test",n,r)}return t}();function qt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Rb).forEach(function(s){if(!iN){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Rb).forEach(function(s){if(r.once&&!iN){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function yn(t,e,n,r){var i;return Wt(Event)&&Wt(CustomEvent)?i=new CustomEvent(e,Pb({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function bZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function cf(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];dn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),dn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),dn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),dn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),dn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function wZ(t){return _d(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Xg=ks.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ks.navigator.userAgent);function sN(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Xg)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Xg||i.removeChild(r)},Xt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,Xg||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function jh(t){switch(t){case 2:return cZ;case 3:return uZ;case 4:return lZ;default:return""}}function TZ(t){var e=Pb({},t),n=[];return Xt(t,function(r,i){delete e[i],Xt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Hh(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:Pb({timeStamp:Date.now(),startX:n,startY:r},i)}function EZ(t){var e=0,n=0,r=0;return Xt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var IZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Xr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Ii(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Xt(this.images,function(o,a){var l=o.src,u=o.alt||wZ(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Xt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Xt(s,function(o){var a=o.firstElementChild,l,u;Hy(a,"filled",!0),r.loading&&nt(o,Cl),it(a,si,l=function(h){qt(a,ta,u),r.loading&&Pt(o,Cl),e.loadImage(h)},{once:!0}),it(a,ta,u=function(){qt(a,si,l),r.loading&&Pt(o,Cl)},{once:!0})}),r.transition&&it(n,yd,function(){nt(i,mn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Ii(this.list,Xr({width:o*this.length-i},cf({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Pt(e,mn),Ii(e,cf({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=sN(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),y=a,C=l;n.imageInitializing=!1,l*p>a?C=a/p:y=l*p,g=dn(g)?g:.9,y=Math.min(y*g,h),C=Math.min(C*g,f);var R=(a-y)/2,k=(l-C)/2,w={left:R,top:k,x:R,y:k,width:y,height:C,oldRatio:1,ratio:y/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},S=Xr({},w);r.rotatable&&(w.rotate=u.rotate||0,S.rotate=0),r.scalable&&(w.scaleX=u.scaleX||1,w.scaleY=u.scaleY||1,S.scaleX=1,S.scaleY=1),n.imageData=w,n.initialImageData=S,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Ii(r,Xr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},cf(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&el(r,mn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){qt(r,vi,s)}},it(r,vi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},SZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,Jl,this.onClick=this.click.bind(this)),it(n,yS,this.onDragStart=this.dragstart.bind(this)),it(r,wS,this.onPointerDown=this.pointerdown.bind(this)),it(i,TS,this.onPointerMove=this.pointermove.bind(this)),it(i,ES,this.onPointerUp=this.pointerup.bind(this)),it(i,bS,this.onKeyDown=this.keydown.bind(this)),it(window,IS,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,SS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,jy,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;qt(n,Jl,this.onClick),qt(n,yS,this.onDragStart),qt(r,wS,this.onPointerDown),qt(i,TS,this.onPointerMove),qt(i,ES,this.onPointerUp),qt(i,bS,this.onKeyDown),qt(window,IS,this.onResize),e.zoomable&&e.zoomOnWheel&&qt(n,SS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&qt(r,jy,this.onDblclick)}},CZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=ul(i,fp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=ul(i,fp)),Sl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(ul(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Sl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Pt(i,Sc),r.loading&&Pt(this.canvas,Cl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){bd(i,dZ,r.movable),bd(i,mn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,Wt(r.viewed)&&it(n,yd,r.viewed,{once:!0}),yn(n,yd,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!ul(n,"filled");sN(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Ii(n,Xr({width:c,height:h},cf({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(dn(i)&&i!==1||dn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(a){r[a.identifier]=Hh(a)}):r[e.pointerId||0]=Hh(e);var o=n.movable?lf:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=Ju:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=rN),n.transition&&(o===lf||o===Ju)&&Pt(this.image,mn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(i){Xr(n[i.identifier]||{},Hh(i,!0))}):Xr(n[e.pointerId||0]||{},Hh(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Xt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===lf||i===Ju)&&nt(this.image,mn),this.action=!1,Sl&&i!==Ju&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){yn(n.image,jy,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){yn(n.canvas,Jl,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Xt(this.player.getElementsByTagName("img"),function(n){it(n,si,e.loadImage.bind(e),{once:!0}),yn(n,si)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},AZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(Wt(r.show)&&it(n,AS,r.show,{once:!0}),yn(n,AS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Pt(i,jo),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){qt(i,vi,s),Pt(i,ri)}},nt(i,mn),i.initialOffsetWidth=i.offsetWidth,it(i,vi,s,{once:!0}),nt(i,ri)}else nt(i,ri),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(Wt(i.hide)&&it(r,PS,i.hide,{once:!0}),yn(r,PS)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Pt(s,ri),e.hidden()};if(i.transition&&!n){var l=function(h){h&&h.target===s&&(qt(s,vi,l),e.hidden())},u=function(){el(s,mn)?(it(s,vi,l),Pt(s,ri)):a()};this.transitioning={abort:function(){e.viewed&&el(o,mn)?qt(o,vi,u):el(s,mn)&&qt(s,vi,l)}},this.viewed&&el(o,mn)?(it(o,vi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=ul(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Xt(i.inheritedAttributes,function(C){var R=l.getAttribute(C);R!==null&&h.setAttribute(C,R)}),h.src=u,h.alt=c,Wt(i.view)&&it(r,RS,i.view,{once:!0}),yn(r,RS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,Uh),f.removeAttribute("aria-selected")),nt(a,Uh),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Sc),i.loading&&nt(o,Cl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var R=e.imageData,k=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=yZ(Wt(k)?k.call(e,h,R):"".concat(c," (").concat(R.naturalWidth,"  ").concat(R.naturalHeight,")"))},g,y;return it(r,yd,p,{once:!0}),this.viewing={abort:function(){qt(r,yd,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",qt(h,si,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,si,g=function(){qt(h,ta,y),e.load()},{once:!0}),it(h,ta,y=function(){qt(h,si,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Pt(h,Sc),i.loading&&Pt(e.canvas,Cl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Pt(h,Sc),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(al(e)?e:r.x+Number(e),al(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(dn(e)?c=!0:e=l,dn(r)?c=!0:r=u,c){if(Wt(o.move)&&it(s,DS,o.move,{once:!0}),yn(s,DS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,Wt(o.moved)&&it(s,xS,o.moved,{once:!0}),yn(s,xS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),dn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(Wt(i.rotate)&&it(r,NS,i.rotate,{once:!0}),yn(r,NS,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,Wt(i.rotated)&&it(r,MS,i.rotated,{once:!0}),yn(r,MS,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(dn(e)?u=!0:e=a,dn(r)?u=!0:r=l,u){if(Wt(s.scale)&&it(i,LS,s.scale,{once:!0}),yn(i,LS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,Wt(s.scaled)&&it(i,VS,s.scaled,{once:!0}),yn(i,VS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,y=c.naturalWidth,C=c.naturalHeight;if(e=Math.max(0,e),dn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var R=Math.max(.01,l.minZoomRatio),k=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,R),k)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var w=y*e,S=C*e,M=w-p,L=S-g,I=c.ratio;if(Wt(l.zoom)&&it(a,FS,l.zoom,{once:!0}),yn(a,FS,{ratio:e,oldRatio:I,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var E=bZ(this.viewer),_=u&&Object.keys(u).length>0?EZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((_.pageX-E.left-h)/p),c.y-=L*((_.pageY-E.top-f)/g)}else ll(i)&&dn(i.x)&&dn(i.y)?(c.x-=M*((i.x-h)/p),c.y-=L*((i.y-f)/g)):(c.x-=M/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=w,c.height=S,c.oldRatio=I,c.ratio=e,this.renderImage(function(){n.zooming=!1,Wt(l.zoomed)&&it(a,$S,l.zoomed,{once:!0}),yn(a,$S,{ratio:e,oldRatio:I,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(Wt(i.play)&&it(r,US,i.play,{once:!0}),yn(r,US)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,za),Xt(this.items,function(f,p){var g=f.querySelector("img"),y=document.createElement("img");y.src=ul(g,"originalUrl"),y.alt=g.getAttribute("alt"),y.referrerPolicy=g.referrerPolicy,l+=1,nt(y,uf),bd(y,mn,i.transition),el(f,Uh)&&(nt(y,ri),u=p),a.push(y),it(y,si,o,{once:!0}),s.appendChild(y)}),dn(i.interval)&&i.interval>0){var c=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u-=1,u=u>=0?u:l-1,nt(a[u],ri),e.playing.timeout=setTimeout(c,i.interval)},h=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u+=1,u=u<l?u:0,nt(a[u],ri),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(Wt(r.stop)&&it(n,BS,r.stop,{once:!0}),yn(n,BS)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Xt(i.getElementsByTagName("img"),function(s){qt(s,si,e.onLoadWhenPlay)}),Pt(i,za),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,gS),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),nt(r,By),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Ii(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Xr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Pt(this.button,gS),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Pt(r,By),Ii(r,{zIndex:n.zIndexInline}),this.viewerData=Xr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&yn(r,vi),nt(r,za),nt(r,uf),nt(r,mn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ri)):(nt(r,za),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,vi,function(){Pt(r,za),Pt(r,uf),Pt(r,mn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Pt(r,ri),e.fading=!0):(Pt(r,za),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Xr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Xt(i?[n]:n.querySelectorAll("img"),function(u){Wt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Xt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Ii(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,Uh),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[lt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||qt(e,Jl,this.onStart),e[lt]=void 0,this):this}},OZ={getImageURL:function(e){var n=this.options.url;return _d(n)?n=e.getAttribute(n):Wt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,_S,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(qt(document,_S,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,vS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Pt(e,vS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),Wt(n.shown)&&it(e,OS,n.shown,{once:!0}),yn(e,OS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,jo),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(Wt(n.hidden)&&it(e,kS,n.hidden,{once:!0}),yn(e,kS,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?ll(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case lf:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case Ju:this.zoom(TZ(r),!1,null,e);break;case rN:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Xt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},PZ=ks.Viewer,kZ=function(t){return function(){return t+=1,t}}(-1),eu=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Xr({},mS,ll(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=kZ(),this.init()}return nZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[lt]){r[lt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Xt(s?[r]:r.querySelectorAll("img"),function(u){Wt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),al(document.createElement(lt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Xt(o,function(c){c.complete||(qt(c,si,l),qt(c,ta,l))})}},Xt(o,function(u){if(u.complete)l();else{var c,h;it(u,si,c=function(){qt(u,ta,h),l()},{once:!0}),it(u,ta,h=function(){qt(u,si,c),l()},{once:!0})}})}else it(r,Jl,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!Wt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=sZ;var o=s.querySelector(".".concat(lt,"-container")),a=o.querySelector(".".concat(lt,"-title")),l=o.querySelector(".".concat(lt,"-toolbar")),u=o.querySelector(".".concat(lt,"-navbar")),c=o.querySelector(".".concat(lt,"-button")),h=o.querySelector(".".concat(lt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(lt,"-footer")),this.tooltipBox=o.querySelector(".".concat(lt,"-tooltip")),this.player=o.querySelector(".".concat(lt,"-player")),this.list=o.querySelector(".".concat(lt,"-list")),o.id="".concat(lt).concat(this.id),a.id="".concat(lt,"Title").concat(this.id),nt(a,r.title?jh(Array.isArray(r.title)?r.title[0]:r.title):jo),nt(u,r.navbar?jh(r.navbar):jo),bd(c,jo,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(lt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Hy(h,fp,"hide")),_d(r.className)&&r.className&&r.className.split(Rb).forEach(function(w){nt(o,w)}),r.toolbar){var f=document.createElement("ul"),p=ll(r.toolbar),g=Bh.slice(0,3),y=Bh.slice(7,9),C=Bh.slice(9);p||nt(l,jh(r.toolbar)),Xt(p?r.toolbar:Bh,function(w,S){var M=p&&ll(w),L=p?Db(S):w,I=M&&!al(w.show)?w.show:w;if(!(!I||!r.zoomable&&g.indexOf(L)!==-1||!r.rotatable&&y.indexOf(L)!==-1||!r.scalable&&C.indexOf(L)!==-1)){var E=M&&!al(w.size)?w.size:w,_=M&&!al(w.click)?w.click:w,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(lt,"-").concat(L)),Wt(_)||Hy(v,fp,L),dn(I)&&nt(v,jh(I)),["small","large"].indexOf(E)!==-1?nt(v,"".concat(lt,"-").concat(E)):L==="play"&&nt(v,"".concat(lt,"-large")),Wt(_)&&it(v,Jl,_),f.appendChild(v)}}),l.appendChild(f)}else nt(l,jo);if(!r.rotatable){var R=l.querySelectorAll('li[class*="rotate"]');nt(R,Sc),Xt(R,function(w){l.appendChild(w)})}if(r.inline)nt(c,aZ),Ii(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Ii(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,oZ),nt(o,By),nt(o,uf),nt(o,jo),Ii(o,{zIndex:r.zIndex});var k=r.container;_d(k)&&(k=n.ownerDocument.querySelector(k)),k||(k=this.body),k.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Wt(r.ready)&&it(n,CS,r.ready,{once:!0}),yn(n,CS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=PZ,t}},{key:"setDefaults",value:function(n){Xr(mS,ll(n)&&n)}}])}();Xr(eu.prototype,IZ,SZ,CZ,AZ,OZ);var RZ=typeof global=="object"&&global&&global.Object===Object&&global;const oN=RZ;var DZ=typeof self=="object"&&self&&self.Object===Object&&self,xZ=oN||DZ||Function("return this")();const Em=xZ;var NZ=Em.Symbol;const pp=NZ;var aN=Object.prototype,MZ=aN.hasOwnProperty,LZ=aN.toString,ju=pp?pp.toStringTag:void 0;function VZ(t){var e=MZ.call(t,ju),n=t[ju];try{t[ju]=void 0;var r=!0}catch{}var i=LZ.call(t);return r&&(e?t[ju]=n:delete t[ju]),i}var FZ=Object.prototype,$Z=FZ.toString;function UZ(t){return $Z.call(t)}var BZ="[object Null]",jZ="[object Undefined]",jS=pp?pp.toStringTag:void 0;function Im(t){return t==null?t===void 0?jZ:BZ:jS&&jS in Object(t)?VZ(t):UZ(t)}function Sm(t){return t!=null&&typeof t=="object"}var HZ="[object Symbol]";function WZ(t){return typeof t=="symbol"||Sm(t)&&Im(t)==HZ}var qZ=Array.isArray;const zZ=qZ;var KZ=/\s/;function YZ(t){for(var e=t.length;e--&&KZ.test(t.charAt(e)););return e}var GZ=/^\s+/;function QZ(t){return t&&t.slice(0,YZ(t)+1).replace(GZ,"")}function ba(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var HS=NaN,XZ=/^[-+]0x[0-9a-f]+$/i,JZ=/^0b[01]+$/i,ZZ=/^0o[0-7]+$/i,eee=parseInt;function WS(t){if(typeof t=="number")return t;if(WZ(t))return HS;if(ba(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ba(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=QZ(t);var n=JZ.test(t);return n||ZZ.test(t)?eee(t.slice(2),n?2:8):XZ.test(t)?HS:+t}function lN(t){return t}var tee="[object AsyncFunction]",nee="[object Function]",ree="[object GeneratorFunction]",iee="[object Proxy]";function uN(t){if(!ba(t))return!1;var e=Im(t);return e==nee||e==ree||e==tee||e==iee}var see=Em["__core-js_shared__"];const Jg=see;var qS=function(){var t=/[^.]+$/.exec(Jg&&Jg.keys&&Jg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oee(t){return!!qS&&qS in t}var aee=Function.prototype,lee=aee.toString;function uee(t){if(t!=null){try{return lee.call(t)}catch{}try{return t+""}catch{}}return""}var cee=/[\\^$.*+?()[\]{}|]/g,dee=/^\[object .+?Constructor\]$/,hee=Function.prototype,fee=Object.prototype,pee=hee.toString,mee=fee.hasOwnProperty,gee=RegExp("^"+pee.call(mee).replace(cee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vee(t){if(!ba(t)||oee(t))return!1;var e=uN(t)?gee:dee;return e.test(uee(t))}function yee(t,e){return t==null?void 0:t[e]}function _ee(t,e){var n=yee(t,e);return vee(n)?n:void 0}function bee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var wee=800,Tee=16,Eee=Date.now;function Iee(t){var e=0,n=0;return function(){var r=Eee(),i=Tee-(r-n);if(n=r,i>0){if(++e>=wee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function See(t){return function(){return t}}var Cee=function(){try{var t=_ee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const mp=Cee;var Aee=mp?function(t,e){return mp(t,"toString",{configurable:!0,enumerable:!1,value:See(e),writable:!0})}:lN;const Oee=Aee;var Pee=Iee(Oee);const kee=Pee;var Ree=9007199254740991,Dee=/^(?:0|[1-9]\d*)$/;function cN(t,e){var n=typeof t;return e=e??Ree,!!e&&(n=="number"||n!="symbol"&&Dee.test(t))&&t>-1&&t%1==0&&t<e}function dN(t,e,n){e=="__proto__"&&mp?mp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function xb(t,e){return t===e||t!==t&&e!==e}var xee=Object.prototype,Nee=xee.hasOwnProperty;function hN(t,e,n){var r=t[e];(!(Nee.call(t,e)&&xb(r,n))||n===void 0&&!(e in t))&&dN(t,e,n)}function Mee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?dN(n,a,l):hN(n,a,l)}return n}var zS=Math.max;function Lee(t,e,n){return e=zS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=zS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),bee(t,this,a)}}function fN(t,e){return kee(Lee(t,e,lN),t+"")}var Vee=9007199254740991;function pN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Vee}function Cm(t){return t!=null&&pN(t.length)&&!uN(t)}function mN(t,e,n){if(!ba(n))return!1;var r=typeof e;return(r=="number"?Cm(n)&&cN(e,n.length):r=="string"&&e in n)?xb(n[e],t):!1}function Fee(t){return fN(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&mN(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var $ee=Object.prototype;function Nb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$ee;return t===n}function Uee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Bee="[object Arguments]";function KS(t){return Sm(t)&&Im(t)==Bee}var gN=Object.prototype,jee=gN.hasOwnProperty,Hee=gN.propertyIsEnumerable,Wee=KS(function(){return arguments}())?KS:function(t){return Sm(t)&&jee.call(t,"callee")&&!Hee.call(t,"callee")};const qee=Wee;function zee(){return!1}var vN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,YS=vN&&typeof module=="object"&&module&&!module.nodeType&&module,Kee=YS&&YS.exports===vN,GS=Kee?Em.Buffer:void 0,Yee=GS?GS.isBuffer:void 0,Gee=Yee||zee;const Qee=Gee;var Xee="[object Arguments]",Jee="[object Array]",Zee="[object Boolean]",ete="[object Date]",tte="[object Error]",nte="[object Function]",rte="[object Map]",ite="[object Number]",ste="[object Object]",ote="[object RegExp]",ate="[object Set]",lte="[object String]",ute="[object WeakMap]",cte="[object ArrayBuffer]",dte="[object DataView]",hte="[object Float32Array]",fte="[object Float64Array]",pte="[object Int8Array]",mte="[object Int16Array]",gte="[object Int32Array]",vte="[object Uint8Array]",yte="[object Uint8ClampedArray]",_te="[object Uint16Array]",bte="[object Uint32Array]",nn={};nn[hte]=nn[fte]=nn[pte]=nn[mte]=nn[gte]=nn[vte]=nn[yte]=nn[_te]=nn[bte]=!0;nn[Xee]=nn[Jee]=nn[cte]=nn[Zee]=nn[dte]=nn[ete]=nn[tte]=nn[nte]=nn[rte]=nn[ite]=nn[ste]=nn[ote]=nn[ate]=nn[lte]=nn[ute]=!1;function wte(t){return Sm(t)&&pN(t.length)&&!!nn[Im(t)]}function Tte(t){return function(e){return t(e)}}var yN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cc=yN&&typeof module=="object"&&module&&!module.nodeType&&module,Ete=Cc&&Cc.exports===yN,Zg=Ete&&oN.process,Ite=function(){try{var t=Cc&&Cc.require&&Cc.require("util").types;return t||Zg&&Zg.binding&&Zg.binding("util")}catch{}}();const QS=Ite;var XS=QS&&QS.isTypedArray,Ste=XS?Tte(XS):wte;const Cte=Ste;var Ate=Object.prototype,Ote=Ate.hasOwnProperty;function _N(t,e){var n=zZ(t),r=!n&&qee(t),i=!n&&!r&&Qee(t),s=!n&&!r&&!i&&Cte(t),o=n||r||i||s,a=o?Uee(t.length,String):[],l=a.length;for(var u in t)(e||Ote.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cN(u,l)))&&a.push(u);return a}function Pte(t,e){return function(n){return t(e(n))}}var kte=Pte(Object.keys,Object);const Rte=kte;var Dte=Object.prototype,xte=Dte.hasOwnProperty;function Nte(t){if(!Nb(t))return Rte(t);var e=[];for(var n in Object(t))xte.call(t,n)&&n!="constructor"&&e.push(n);return e}function Mte(t){return Cm(t)?_N(t):Nte(t)}var Lte=Object.prototype,Vte=Lte.hasOwnProperty,Fte=Fee(function(t,e){if(Nb(e)||Cm(e)){Mee(e,Mte(e),t);return}for(var n in e)Vte.call(e,n)&&hN(t,n,e[n])});const $te=Fte;function Ute(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Bte=Object.prototype,jte=Bte.hasOwnProperty;function Hte(t){if(!ba(t))return Ute(t);var e=Nb(t),n=[];for(var r in t)r=="constructor"&&(e||!jte.call(t,r))||n.push(r);return n}function Wte(t){return Cm(t)?_N(t,!0):Hte(t)}var qte=function(){return Em.Date.now()};const ev=qte;var zte="Expected a function",Kte=Math.max,Yte=Math.min;function Gte(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(zte);e=WS(e)||0,ba(n)&&(c=!!n.leading,h="maxWait"in n,s=h?Kte(WS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(L){var I=r,E=i;return r=i=void 0,u=L,o=t.apply(E,I),o}function g(L){return u=L,a=setTimeout(R,e),c?p(L):o}function y(L){var I=L-l,E=L-u,_=e-I;return h?Yte(_,s-E):_}function C(L){var I=L-l,E=L-u;return l===void 0||I>=e||I<0||h&&E>=s}function R(){var L=ev();if(C(L))return k(L);a=setTimeout(R,y(L))}function k(L){return a=void 0,f&&r?p(L):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function S(){return a===void 0?o:k(ev())}function M(){var L=ev(),I=C(L);if(r=arguments,i=this,l=L,I){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(R,e),p(l)}return a===void 0&&(a=setTimeout(R,e)),o}return M.cancel=w,M.flush=S,M}var bN=Object.prototype,Qte=bN.hasOwnProperty,Xte=fN(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&mN(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Wte(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||xb(c,bN[u])&&!Qte.call(t,u))&&(t[u]=s[u])}return t});const Jte=Xte,Zte=({images:t=[],options:e})=>{e=$te(e,{inline:!1});const n=document.createElement("div"),r=Ol("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Ol("img",typeof a=="string"?{src:a}:a)));Lc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new eu(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Lc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},ene=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await jn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new eu(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const y=new g(R=>{R.forEach(k=>{u(`Viewer mutation:${k.type}`),f(c,h,p,!0)})}),C={attributes:!0,childList:!0,characterData:!0,subtree:!0};y.observe(c,C),c.__viewerMutationObserver=y,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=En(()=>h.value,(g,y)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=Gte(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},tne=Kt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=fe();function i(){n=new eu(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return En(()=>t.images,()=>{jn(()=>{l()})},u),En(()=>t.trigger,()=>{jn(()=>{l()})},u),En(()=>t.options,()=>{jn(()=>{o()})},u),vn(()=>i()),Ta(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),nne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},rne={ref:"root"};function ine(t,e,n,r,i,s){return W(),ee("div",rne,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const sne=nne(tne,[["render",ine]]),one={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&eu.setDefaults(r),t.config.globalProperties[`$${e}Api`]=Zte,t.component(e,Jte(sne,{name:e})),t.directive(e,ene({name:e,debug:n}))},setDefaults(t){eu.setDefaults(t)}},pi=wv(QV);pi.use(GD);pi.use(PW,{firebaseApp:U4,modules:[SW()]});pi.use(tP);pi.use(F2);pi.use(one);pi.use(OQ);pi.component("VueDatePicker",wb);pi.component("PrimeInputText",Qx);pi.component("PrimeTextArea",tN);pi.component("PrimeDropdown",Gx);pi.component("PrimeMultiSelect",eN);pi.mount("#app");export{Yy as $,Zn as A,WM as B,Rn as C,sre as D,rC as E,Ne as F,Kne as G,Dn as H,et as I,PM as J,One as K,Ane as L,Kt as M,v2 as N,Rne as O,Dne as P,Mne as Q,ff as R,gl as S,xC as T,xne as U,m_ as V,kne as W,are as X,Nne as Y,ere as Z,lne as _,LC as a,Dc as a$,ei as a0,Gy as a1,mne as a2,r_ as a3,Jn as a4,Ol as a5,nu as a6,vL as a7,cre as a8,Ene as a9,tL as aA,aL as aB,vn as aC,oL as aD,sL as aE,iC as aF,iL as aG,Ta as aH,o_ as aI,MM as aJ,W as aK,_ne as aL,rc as aM,EC as aN,yne as aO,vf as aP,Rr as aQ,Zy as aR,fe as aS,Yne as aT,Lc as aU,Ft as aV,_e as aW,Kr as aX,jC as aY,zr as aZ,rre as a_,Cne as aa,Sne as ab,Ine as ac,Qne as ad,dre as ae,kr as af,YL as ag,e_ as ah,Ki as ai,na as aj,an as ak,Gne as al,li as am,go as an,t_ as ao,Fne as ap,$ne as aq,pe as ar,jn as as,tt as at,bn as au,Pr as av,eL as aw,rL as ax,a_ as ay,s_ as az,vne as b,fi as b$,Hw as b0,tre as b1,mo as b2,bC as b3,cne as b4,wC as b5,AL as b6,nre as b7,une as b8,dt as b9,GL as bA,Jne as bB,En as bC,jne as bD,Hne as bE,PL as bF,Bne as bG,Qe as bH,Lne as bI,Ko as bJ,at as bK,Xne as bL,Lt as bM,bne as bN,ou as bO,$i as bP,E5 as bQ,_c as bR,fre as bS,hre as bT,eb as bU,ql as bV,$D as bW,Wc as bX,Z1 as bY,Hk as bZ,kn as b_,Wh as ba,Pne as bb,pt as bc,Pc as bd,kM as be,hne as bf,zne as bg,dne as bh,G as bi,Vne as bj,ure as bk,ore as bl,_2 as bm,wne as bn,Wne as bo,OL as bp,lre as bq,Ea as br,Tne as bs,MC as bt,CA as bu,P2 as bv,AA as bw,O2 as bx,bv as by,sc as bz,Zne as c,Da as c0,UD as c1,wre as c2,GD as c3,GW as c4,Ve as c5,Tre as c6,Hr as c7,De as c8,Ore as c9,Cre as cA,Jx as cB,xa as cC,hp as cD,Ib as cE,zx as cF,sne as cG,GA as cH,kW as cI,BD as cJ,xre as cK,Dre as cL,kre as cM,zD as cN,qD as cO,Rre as cP,Sre as cQ,Ire as cR,YD as cS,we as cT,wm as cU,Pre as ca,Nre as cb,Ere as cc,MW as cd,Mre as ce,KD as cf,Vre as cg,Lre as ch,Are as ci,Lo as cj,Z0 as ck,bc as cl,lI as cm,rI as cn,_re as co,bre as cp,sf as cq,nI as cr,jD as cs,xW as ct,DW as cu,RW as cv,bt as cw,q9 as cx,gk as cy,yre as cz,qne as d,Go as e,fne as f,So as g,T2 as h,pne as i,gne as j,Ri as k,Td as l,vr as m,_p as n,Is as o,ire as p,le as q,wv as r,qe as s,de as t,ee as u,Ce as v,SL as w,Une as x,IL as y,N2 as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/c-Blog-D54aoo-Q.js","./assets/c-SwitchField.vue_vue_type_script_setup_true_lang-BLC6R9kK.js","./assets/c-Bubble.vue_vue_type_script_setup_true_lang-bYHBWxaz.js","./assets/c-Page.vue_vue_type_script_setup_true_lang-FMSOt8Qw.js","./assets/c-BlogPost.vue_vue_type_script_setup_true_lang-DFlL08-k.js","./assets/c-TextField.vue_vue_type_script_setup_true_lang-CiDJdyXc.js","./assets/c-validation-Bf-E2UlI.js","./assets/c-Image.vue_vue_type_script_setup_true_lang-DBsrzpEZ.js","./bundle11.css","./bundle10.css","./assets/c-FileUpload.vue_vue_type_script_setup_true_lang-Dkr4245O.js","./assets/c-SelectField.vue_vue_type_script_setup_true_lang-DejAEVFU.js","./assets/c-CatCalc-ksSybYf7.js","./assets/c-CustomVoting-DxydbRsd.js","./assets/c-_plugin-vue_export-helper-DlAUqK2U.js","./bundle9.css","./assets/c-Dashboard-e1tC8-Iw.js","./assets/c-PasswordField.vue_vue_type_script_setup_true_lang-D0lZriuJ.js","./assets/c-Home-Z_YHxWX_.js","./assets/c-Spades-CYpo1pQt.js","./assets/c-Worm-yU2ZWgQJ.js","./assets/c-Dice6.vue_vue_type_script_setup_true_lang-lzciAH4f.js","./assets/c-Login-Dc6NhFOR.js","./assets/c-NotFound-DOtptbaG.js","./assets/c-Profile-BtHc9nzw.js","./assets/c-Profiles-BSBq61F4.js","./assets/c-Register-vYfpeyGd.js","./assets/c-Games-bb2FwWEV.js","./assets/c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-BxDvgQjP.js","./assets/c-Yahtzee-C7GjgdNN.js","./assets/c-useScoreInfo-CdrYgX0T.js","./bundle13.css","./bundle12.css","./assets/c-Rainworms-BZ9tygl6.js","./assets/c-Patience-B_npF8Yh.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
