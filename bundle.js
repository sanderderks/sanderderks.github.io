var KN=Object.defineProperty;var GN=(t,e,n)=>e in t?KN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vi=(t,e,n)=>(GN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const gt={},ml=[],li=()=>{},YN=()=>!1,Td=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),zy=t=>t.startsWith("onUpdate:"),Kt=Object.assign,Ky=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},QN=Object.prototype.hasOwnProperty,kt=(t,e)=>QN.call(t,e),$e=Array.isArray,gl=t=>iu(t)==="[object Map]",Ia=t=>iu(t)==="[object Set]",Pw=t=>iu(t)==="[object Date]",XN=t=>iu(t)==="[object RegExp]",et=t=>typeof t=="function",Jt=t=>typeof t=="string",Ri=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",Gy=t=>(Ht(t)||et(t))&&et(t.then)&&et(t.catch),ZS=Object.prototype.toString,iu=t=>ZS.call(t),JN=t=>iu(t).slice(8,-1),wp=t=>iu(t)==="[object Object]",Yy=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vl=bp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ZN=/-(\w)/g,yr=Tp(t=>t.replace(ZN,(e,n)=>n?n.toUpperCase():"")),eM=/\B([A-Z])/g,Vr=Tp(t=>t.replace(eM,"-$1").toLowerCase()),Ep=Tp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gh=Tp(t=>t?`on${Ep(t)}`:""),Cr=(t,e)=>!Object.is(t,e),yl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},eA=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},pf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},mf=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let kw;const Ip=()=>kw||(kw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),tM="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",nM=bp(tM);function kr(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Jt(r)?oM(r):kr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Jt(t)||Ht(t))return t}const rM=/;(?![^(]*\))/g,iM=/:([^]+)/,sM=/\/\*[^]*?\*\//g;function oM(t){const e={};return t.replace(sM,"").split(rM).forEach(n=>{if(n){const r=n.split(iM);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Jt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(Ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function wn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=tt(e)),n&&(t.style=kr(n)),t}const aM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lM=bp(aM);function tA(t){return!!t||t===""}function uM(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=mo(t[r],e[r]);return n}function mo(t,e){if(t===e)return!0;let n=Pw(t),r=Pw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ri(t),r=Ri(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?uM(t,e):!1;if(n=Ht(t),r=Ht(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!mo(t[o],e[o]))return!1}}return String(t)===String(e)}function Sp(t,e){return t.findIndex(n=>mo(n,e))}const nA=t=>!!(t&&t.__v_isRef===!0),ht=t=>Jt(t)?t:t==null?"":$e(t)||Ht(t)&&(t.toString===ZS||!et(t.toString))?nA(t)?ht(t.value):JSON.stringify(t,rA,2):String(t),rA=(t,e)=>nA(e)?rA(t,e.value):gl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[qm(r,s)+" =>"]=i,n),{})}:Ia(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>qm(n))}:Ri(e)?qm(e):Ht(e)&&!$e(e)&&!wp(e)?String(e):e,qm=(t,e="")=>{var n;return Ri(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ar;class iA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ar,!e&&Ar&&(this.index=(Ar.scopes||(Ar.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ar;try{return Ar=this,e()}finally{Ar=n}}}on(){Ar=this}off(){Ar=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Qy(t){return new iA(t)}function Xy(){return Ar}function sA(t,e=!1){Ar&&Ar.cleanups.push(t)}let Yt;const zm=new WeakSet;class gf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ar&&Ar.active&&Ar.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zm.has(this)&&(zm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||aA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rw(this),lA(this);const e=Yt,n=Si;Yt=this,Si=!0;try{return this.fn()}finally{uA(this),Yt=e,Si=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)e_(e);this.deps=this.depsTail=void 0,Rw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){rv(this)&&this.run()}get dirty(){return rv(this)}}let oA=0,ec,tc;function aA(t,e=!1){if(t.flags|=8,e){t.next=tc,tc=t;return}t.next=ec,ec=t}function Jy(){oA++}function Zy(){if(--oA>0)return;if(tc){let e=tc;for(tc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ec;){let e=ec;for(ec=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function lA(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function uA(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),e_(r),cM(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function rv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(cA(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function cA(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oc))return;t.globalVersion=Oc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!rv(t)){t.flags&=-3;return}const n=Yt,r=Si;Yt=t,Si=!0;try{lA(t);const i=t.fn(t._value);(e.version===0||Cr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Yt=n,Si=r,uA(t),t.flags&=-3}}function e_(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)e_(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function cM(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function bne(t,e){t.effect instanceof gf&&(t=t.effect.fn);const n=new gf(t);e&&Kt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function wne(t){t.effect.stop()}let Si=!0;const dA=[];function So(){dA.push(Si),Si=!1}function Ao(){const t=dA.pop();Si=t===void 0?!0:t}function Rw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Yt;Yt=void 0;try{e()}finally{Yt=n}}}let Oc=0;class dM{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ap{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Yt||!Si||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new dM(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,hA(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=r)}return n}trigger(e){this.version++,Oc++,this.notify(e)}notify(e){Jy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Zy()}}}function hA(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)hA(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const vf=new WeakMap,Yo=Symbol(""),iv=Symbol(""),Pc=Symbol("");function cr(t,e,n){if(Si&&Yt){let r=vf.get(t);r||vf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ap),i.map=r,i.key=n),i.track()}}function hs(t,e,n,r,i,s){const o=vf.get(t);if(!o){Oc++;return}const a=l=>{l&&l.trigger()};if(Jy(),e==="clear")o.forEach(a);else{const l=$e(t),u=l&&Yy(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Pc||!Ri(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Pc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Yo)),gl(t)&&a(o.get(iv)));break;case"delete":l||(a(o.get(Yo)),gl(t)&&a(o.get(iv)));break;case"set":gl(t)&&a(o.get(Yo));break}}Zy()}function hM(t,e){const n=vf.get(t);return n&&n.get(e)}function Ha(t){const e=mt(t);return e===t?e:(cr(e,"iterate",Pc),ui(t)?e:e.map(dr))}function Cp(t){return cr(t=mt(t),"iterate",Pc),t}const fM={__proto__:null,[Symbol.iterator](){return Km(this,Symbol.iterator,dr)},concat(...t){return Ha(this).concat(...t.map(e=>$e(e)?Ha(e):e))},entries(){return Km(this,"entries",t=>(t[1]=dr(t[1]),t))},every(t,e){return ls(this,"every",t,e,void 0,arguments)},filter(t,e){return ls(this,"filter",t,e,n=>n.map(dr),arguments)},find(t,e){return ls(this,"find",t,e,dr,arguments)},findIndex(t,e){return ls(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ls(this,"findLast",t,e,dr,arguments)},findLastIndex(t,e){return ls(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ls(this,"forEach",t,e,void 0,arguments)},includes(...t){return Gm(this,"includes",t)},indexOf(...t){return Gm(this,"indexOf",t)},join(t){return Ha(this).join(t)},lastIndexOf(...t){return Gm(this,"lastIndexOf",t)},map(t,e){return ls(this,"map",t,e,void 0,arguments)},pop(){return Pu(this,"pop")},push(...t){return Pu(this,"push",t)},reduce(t,...e){return Dw(this,"reduce",t,e)},reduceRight(t,...e){return Dw(this,"reduceRight",t,e)},shift(){return Pu(this,"shift")},some(t,e){return ls(this,"some",t,e,void 0,arguments)},splice(...t){return Pu(this,"splice",t)},toReversed(){return Ha(this).toReversed()},toSorted(t){return Ha(this).toSorted(t)},toSpliced(...t){return Ha(this).toSpliced(...t)},unshift(...t){return Pu(this,"unshift",t)},values(){return Km(this,"values",dr)}};function Km(t,e,n){const r=Cp(t),i=r[e]();return r!==t&&!ui(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const pM=Array.prototype;function ls(t,e,n,r,i,s){const o=Cp(t),a=o!==t&&!ui(t),l=o[e];if(l!==pM[e]){const h=l.apply(t,s);return a?dr(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,dr(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function Dw(t,e,n,r){const i=Cp(t);let s=n;return i!==t&&(ui(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,dr(a),l,t)}),i[e](s,...r)}function Gm(t,e,n){const r=mt(t);cr(r,"iterate",Pc);const i=r[e](...n);return(i===-1||i===!1)&&n_(n[0])?(n[0]=mt(n[0]),r[e](...n)):i}function Pu(t,e,n=[]){So(),Jy();const r=mt(t)[e].apply(t,n);return Zy(),Ao(),r}const mM=bp("__proto__,__v_isRef,__isVue"),fA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ri));function gM(t){Ri(t)||(t=String(t));const e=mt(this);return cr(e,"has",t),e.hasOwnProperty(t)}class pA{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?bA:_A:s?yA:vA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=fM[n]))return l;if(n==="hasOwnProperty")return gM}const a=Reflect.get(e,n,an(e)?e:r);return(Ri(n)?fA.has(n):mM(n))||(i||cr(e,"get",n),s)?a:an(a)?o&&Yy(n)?a:a.value:Ht(a)?i?t_(a):Dr(a):a}}class mA extends pA{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=sa(s);if(!ui(r)&&!sa(r)&&(s=mt(s),r=mt(r)),!$e(e)&&an(s)&&!an(r))return l?!1:(s.value=r,!0)}const o=$e(e)&&Yy(n)?Number(n)<e.length:kt(e,n),a=Reflect.set(e,n,r,an(e)?e:i);return e===mt(i)&&(o?Cr(r,s)&&hs(e,"set",n,r):hs(e,"add",n,r)),a}deleteProperty(e,n){const r=kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&hs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Ri(n)||!fA.has(n))&&cr(e,"has",n),r}ownKeys(e){return cr(e,"iterate",$e(e)?"length":Yo),Reflect.ownKeys(e)}}class gA extends pA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vM=new mA,yM=new gA,_M=new mA(!0),bM=new gA(!0),sv=t=>t,fh=t=>Reflect.getPrototypeOf(t);function wM(t,e,n){return function(...r){const i=this.__v_raw,s=mt(i),o=gl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?sv:e?ov:dr;return!e&&cr(s,"iterate",l?iv:Yo),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function ph(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function TM(t,e){const n={get(i){const s=this.__v_raw,o=mt(s),a=mt(i);t||(Cr(i,a)&&cr(o,"get",i),cr(o,"get",a));const{has:l}=fh(o),u=e?sv:t?ov:dr;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&cr(mt(i),"iterate",Yo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=mt(s),a=mt(i);return t||(Cr(i,a)&&cr(o,"has",i),cr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=mt(a),u=e?sv:t?ov:dr;return!t&&cr(l,"iterate",Yo),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return Kt(n,t?{add:ph("add"),set:ph("set"),delete:ph("delete"),clear:ph("clear")}:{add(i){!e&&!ui(i)&&!sa(i)&&(i=mt(i));const s=mt(this);return fh(s).has.call(s,i)||(s.add(i),hs(s,"add",i,i)),this},set(i,s){!e&&!ui(s)&&!sa(s)&&(s=mt(s));const o=mt(this),{has:a,get:l}=fh(o);let u=a.call(o,i);u||(i=mt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Cr(s,c)&&hs(o,"set",i,s):hs(o,"add",i,s),this},delete(i){const s=mt(this),{has:o,get:a}=fh(s);let l=o.call(s,i);l||(i=mt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&hs(s,"delete",i,void 0),u},clear(){const i=mt(this),s=i.size!==0,o=i.clear();return s&&hs(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=wM(i,t,e)}),n}function Op(t,e){const n=TM(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kt(n,i)&&i in r?n:r,i,s)}const EM={get:Op(!1,!1)},IM={get:Op(!1,!0)},SM={get:Op(!0,!1)},AM={get:Op(!0,!0)},vA=new WeakMap,yA=new WeakMap,_A=new WeakMap,bA=new WeakMap;function CM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OM(t){return t.__v_skip||!Object.isExtensible(t)?0:CM(JN(t))}function Dr(t){return sa(t)?t:Pp(t,!1,vM,EM,vA)}function wA(t){return Pp(t,!1,_M,IM,yA)}function t_(t){return Pp(t,!0,yM,SM,_A)}function Tne(t){return Pp(t,!0,bM,AM,bA)}function Pp(t,e,n,r,i){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=OM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Yi(t){return sa(t)?Yi(t.__v_raw):!!(t&&t.__v_isReactive)}function sa(t){return!!(t&&t.__v_isReadonly)}function ui(t){return!!(t&&t.__v_isShallow)}function n_(t){return t?!!t.__v_raw:!1}function mt(t){const e=t&&t.__v_raw;return e?mt(e):t}function r_(t){return!kt(t,"__v_skip")&&Object.isExtensible(t)&&eA(t,"__v_skip",!0),t}const dr=t=>Ht(t)?Dr(t):t,ov=t=>Ht(t)?t_(t):t;function an(t){return t?t.__v_isRef===!0:!1}function he(t){return EA(t,!1)}function TA(t){return EA(t,!0)}function EA(t,e){return an(t)?t:new PM(t,e)}class PM{constructor(e,n){this.dep=new Ap,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:mt(e),this._value=n?e:dr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ui(e)||sa(e);e=r?e:mt(e),Cr(e,n)&&(this._rawValue=e,this._value=r?e:dr(e),this.dep.trigger())}}function Ene(t){t.dep&&t.dep.trigger()}function Y(t){return an(t)?t.value:t}function Ine(t){return et(t)?t():Y(t)}const kM={get:(t,e,n)=>e==="__v_raw"?t:Y(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function IA(t){return Yi(t)?t:new Proxy(t,kM)}class RM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ap,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function DM(t){return new RM(t)}function xM(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=SA(t,n);return e}class NM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hM(mt(this._object),this._key)}}class MM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function kc(t,e,n){return an(t)?t:et(t)?new MM(t):Ht(t)&&arguments.length>1?SA(t,e,n):he(t)}function SA(t,e,n){const r=t[e];return an(r)?r:new NM(t,e,n)}class LM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ap(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return aA(this,!0),!0}get value(){const e=this.dep.track();return cA(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function VM(t,e,n=!1){let r,i;return et(t)?r=t:(r=t.get,i=t.set),new LM(r,i,n)}const Sne={GET:"get",HAS:"has",ITERATE:"iterate"},Ane={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},mh={},yf=new WeakMap;let zs;function Cne(){return zs}function FM(t,e=!1,n=zs){if(n){let r=yf.get(n);r||yf.set(n,r=[]),r.push(t)}}function $M(t,e,n=gt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=y=>i?y:ui(y)||i===!1||i===0?fs(y,1):fs(y);let c,h,f,p,g=!1,w=!1;if(an(t)?(h=()=>t.value,g=ui(t)):Yi(t)?(h=()=>u(t),g=!0):$e(t)?(w=!0,g=t.some(y=>Yi(y)||ui(y)),h=()=>t.map(y=>{if(an(y))return y.value;if(Yi(y))return u(y);if(et(y))return l?l(y,2):y()})):et(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){So();try{f()}finally{Ao()}}const y=zs;zs=c;try{return l?l(t,3,[p]):t(p)}finally{zs=y}}:h=li,e&&i){const y=h,M=i===!0?1/0:i;h=()=>fs(y(),M)}const E=Xy(),k=()=>{c.stop(),E&&E.active&&Ky(E.effects,c)};if(s&&e){const y=e;e=(...M)=>{y(...M),k()}}let P=w?new Array(t.length).fill(mh):mh;const T=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const M=c.run();if(i||g||(w?M.some((L,S)=>Cr(L,P[S])):Cr(M,P))){f&&f();const L=zs;zs=c;try{const S=[M,P===mh?void 0:w&&P[0]===mh?[]:P,p];l?l(e,3,S):e(...S),P=M}finally{zs=L}}}else c.run()};return a&&a(T),c=new gf(h),c.scheduler=o?()=>o(T,!1):T,p=y=>FM(y,!1,c),f=c.onStop=()=>{const y=yf.get(c);if(y){if(l)l(y,4);else for(const M of y)M();yf.delete(c)}},e?r?T(!0):P=c.run():o?o(T.bind(null,!0),!0):c.run(),k.pause=c.pause.bind(c),k.resume=c.resume.bind(c),k.stop=k,k}function fs(t,e=1/0,n){if(e<=0||!Ht(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))fs(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)fs(t[r],e,n);else if(Ia(t)||gl(t))t.forEach(r=>{fs(r,e,n)});else if(wp(t)){for(const r in t)fs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&fs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const AA=[];function UM(t){AA.push(t)}function BM(){AA.pop()}function One(t,e){}const Pne={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},jM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ed(t,e,n,r){try{return r?t(...r):t()}catch(i){su(i,e,n)}}function Di(t,e,n,r){if(et(t)){const i=Ed(t,e,n,r);return i&&Gy(i)&&i.catch(s=>{su(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Di(t[s],e,n,r));return i}}function su(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||gt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){So(),Ed(s,null,10,[t,l,u]),Ao();return}}HM(t,n,i,r,o)}function HM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Or=[];let Ui=-1;const _l=[];let Ks=null,Xa=0;const CA=Promise.resolve();let _f=null;function Hn(t){const e=_f||CA;return t?e.then(this?t.bind(this):t):e}function WM(t){let e=Ui+1,n=Or.length;for(;e<n;){const r=e+n>>>1,i=Or[r],s=Rc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function i_(t){if(!(t.flags&1)){const e=Rc(t),n=Or[Or.length-1];!n||!(t.flags&2)&&e>=Rc(n)?Or.push(t):Or.splice(WM(e),0,t),t.flags|=1,OA()}}function OA(){_f||(_f=CA.then(PA))}function bf(t){$e(t)?_l.push(...t):Ks&&t.id===-1?Ks.splice(Xa+1,0,t):t.flags&1||(_l.push(t),t.flags|=1),OA()}function xw(t,e,n=Ui+1){for(;n<Or.length;n++){const r=Or[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Or.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wf(t){if(_l.length){const e=[...new Set(_l)].sort((n,r)=>Rc(n)-Rc(r));if(_l.length=0,Ks){Ks.push(...e);return}for(Ks=e,Xa=0;Xa<Ks.length;Xa++){const n=Ks[Xa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,Xa=0}}const Rc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function PA(t){try{for(Ui=0;Ui<Or.length;Ui++){const e=Or[Ui];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ed(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ui<Or.length;Ui++){const e=Or[Ui];e&&(e.flags&=-2)}Ui=-1,Or.length=0,wf(),_f=null,(Or.length||_l.length)&&PA()}}let Ja,gh=[];function kA(t,e){var n,r;Ja=t,Ja?(Ja.enabled=!0,gh.forEach(({event:i,args:s})=>Ja.emit(i,...s)),gh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{kA(s,e)}),setTimeout(()=>{Ja||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,gh=[])},3e3)):gh=[]}let Ln=null,kp=null;function Dc(t){const e=Ln;return Ln=t,kp=t&&t.type.__scopeId||null,e}function kne(t){kp=t}function Rne(){kp=null}const Dne=t=>Qe;function Qe(t,e=Ln,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Kw(-1);const s=Dc(e);let o;try{o=t(...i)}finally{Dc(s),r._d&&Kw(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Qo(t,e){if(Ln===null)return t;const n=Ad(Ln),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=gt]=e[i];s&&(et(s)&&(s={mounted:s,updated:s}),s.deep&&fs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ji(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(So(),Di(l,n,8,[t.el,a,t,e]),Ao())}}const RA=Symbol("_vte"),DA=t=>t.__isTeleport,nc=t=>t&&(t.disabled||t.disabled===""),Nw=t=>t&&(t.defer||t.defer===""),Mw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Lw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,av=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},xA={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:w,createComment:E}}=u,k=nc(e.props);let{shapeFlag:P,children:T,dynamicChildren:y}=e;if(t==null){const M=e.el=w(""),L=e.anchor=w("");p(M,n,r),p(L,n,r);const S=(b,v)=>{P&16&&(i&&i.isCE&&(i.ce._teleportTarget=b),c(T,b,v,i,s,o,a,l))},I=()=>{const b=e.target=av(e.props,g),v=MA(b,e,w,p);b&&(o!=="svg"&&Mw(b)?o="svg":o!=="mathml"&&Lw(b)&&(o="mathml"),k||(S(b,v),Yh(e,!1)))};k&&(S(n,L),Yh(e,!0)),Nw(e.props)?kn(()=>{I(),e.el.__isMounted=!0},s):I()}else{if(Nw(e.props)&&!t.el.__isMounted){kn(()=>{xA.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,L=e.target=t.target,S=e.targetAnchor=t.targetAnchor,I=nc(t.props),b=I?n:L,v=I?M:S;if(o==="svg"||Mw(L)?o="svg":(o==="mathml"||Lw(L))&&(o="mathml"),y?(f(t.dynamicChildren,y,b,i,s,o,a),m_(t,e,!0)):l||h(t,e,b,v,i,s,o,a,!1),k)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):vh(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=av(e.props,g);A&&vh(e,A,null,u,0)}else I&&vh(e,L,S,u,1);Yh(e,k)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!nc(f);for(let g=0;g<a.length;g++){const w=a[g];r(w,e,n,p,!!w.dynamicChildren)}}},move:vh,hydrate:qM};function vh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||nc(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function qM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=av(e.props,l);if(f){const p=nc(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let w=g;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}w=o(w)}e.targetAnchor||MA(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}Yh(e,p)}return e.anchor&&o(e.anchor)}const NA=xA;function Yh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function MA(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[RA]=s,t&&(r(i,t),r(s,t)),s}const Gs=Symbol("_leaveCb"),yh=Symbol("_enterCb");function LA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{t.isMounted=!0}),u_(()=>{t.isUnmounting=!0}),t}const ni=[Function,Array],VA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},FA=t=>{const e=t.subTree;return e.component?FA(e.component):e},zM={name:"BaseTransition",props:VA,setup(t,{slots:e}){const n=ei(),r=LA();return()=>{const i=e.default&&s_(e.default(),!0);if(!i||!i.length)return;const s=$A(i),o=mt(t),{mode:a}=o;if(r.isLeaving)return Ym(s);const l=Vw(s);if(!l)return Ym(s);let u=xc(l,o,r,n,h=>u=h);l.type!==Dn&&go(l,u);let c=n.subTree&&Vw(n.subTree);if(c&&c.type!==Dn&&!_i(l,c)&&FA(n).type!==Dn){let h=xc(c,o,r,n);if(go(c,h),a==="out-in"&&l.type!==Dn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},Ym(s);a==="in-out"&&l.type!==Dn?h.delayLeave=(f,p,g)=>{const w=UA(r,c);w[String(c.key)]=c,f[Gs]=()=>{p(),f[Gs]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function $A(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Dn){e=n;break}}return e}const KM=zM;function UA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function xc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:E,onAppear:k,onAfterAppear:P,onAppearCancelled:T}=e,y=String(t.key),M=UA(n,t),L=(b,v)=>{b&&Di(b,r,9,v)},S=(b,v)=>{const A=v[1];L(b,v),$e(b)?b.every(O=>O.length<=1)&&A():b.length<=1&&A()},I={mode:o,persisted:a,beforeEnter(b){let v=l;if(!n.isMounted)if(s)v=E||l;else return;b[Gs]&&b[Gs](!0);const A=M[y];A&&_i(t,A)&&A.el[Gs]&&A.el[Gs](),L(v,[b])},enter(b){let v=u,A=c,O=h;if(!n.isMounted)if(s)v=k||u,A=P||c,O=T||h;else return;let R=!1;const j=b[yh]=V=>{R||(R=!0,V?L(O,[b]):L(A,[b]),I.delayedLeave&&I.delayedLeave(),b[yh]=void 0)};v?S(v,[b,j]):j()},leave(b,v){const A=String(t.key);if(b[yh]&&b[yh](!0),n.isUnmounting)return v();L(f,[b]);let O=!1;const R=b[Gs]=j=>{O||(O=!0,v(),j?L(w,[b]):L(g,[b]),b[Gs]=void 0,M[A]===t&&delete M[A])};M[A]=t,p?S(p,[b,R]):R()},clone(b){const v=xc(b,e,n,r,i);return i&&i(v),v}};return I}function Ym(t){if(Id(t))return t=Is(t),t.children=null,t}function Vw(t){if(!Id(t))return DA(t.type)&&t.children?$A(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&et(n.default))return n.default()}}function go(t,e){t.shapeFlag&6&&t.component?(t.transition=e,go(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function s_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Me?(o.patchFlag&128&&i++,r=r.concat(s_(o.children,e,a))):(e||o.type!==Dn)&&r.push(a!=null?Is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Gt(t,e){return et(t)?Kt({name:t.name},e,{setup:t}):t}function xne(){const t=ei();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function o_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Nne(t){const e=ei(),n=TA(null);if(e){const i=e.refs===gt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Nc(t,e,n,r,i=!1){if($e(t)){t.forEach((g,w)=>Nc(g,e&&($e(e)?e[w]:e),n,r,i));return}if(io(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Nc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Ad(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===gt?a.refs={}:a.refs,h=a.setupState,f=mt(h),p=h===gt?()=>!1:g=>kt(f,g);if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,p(u)&&(h[u]=null)):an(u)&&(u.value=null)),et(l))Ed(l,a,12,[o,c]);else{const g=Jt(l),w=an(l);if(g||w){const E=()=>{if(t.f){const k=g?p(l)?h[l]:c[l]:l.value;i?$e(k)&&Ky(k,s):$e(k)?k.includes(s)||k.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):w&&(l.value=o,t.k&&(c[t.k]=o))};o?(E.id=-1,kn(E,n)):E()}}}let Fw=!1;const Wa=()=>{Fw||(console.error("Hydration completed but contains mismatches."),Fw=!0)},GM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",YM=t=>t.namespaceURI.includes("MathML"),_h=t=>{if(t.nodeType===1){if(GM(t))return"svg";if(YM(t))return"mathml"}},ol=t=>t.nodeType===8;function QM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(T,y)=>{if(!y.hasChildNodes()){n(null,T,y),wf(),y._vnode=T;return}h(y.firstChild,T,null,null,null),wf(),y._vnode=T},h=(T,y,M,L,S,I=!1)=>{I=I||!!y.dynamicChildren;const b=ol(T)&&T.data==="[",v=()=>w(T,y,M,L,S,b),{type:A,ref:O,shapeFlag:R,patchFlag:j}=y;let V=T.nodeType;y.el=T,j===-2&&(I=!1,y.dynamicChildren=null);let B=null;switch(A){case Jo:V!==3?y.children===""?(l(y.el=i(""),o(T),T),B=T):B=v():(T.data!==y.children&&(Wa(),T.data=y.children),B=s(T));break;case Dn:P(T)?(B=s(T),k(y.el=T.content.firstChild,T,M)):V!==8||b?B=v():B=s(T);break;case wl:if(b&&(T=s(T),V=T.nodeType),V===1||V===3){B=T;const F=!y.children.length;for(let U=0;U<y.staticCount;U++)F&&(y.children+=B.nodeType===1?B.outerHTML:B.data),U===y.staticCount-1&&(y.anchor=B),B=s(B);return b?s(B):B}else v();break;case Me:b?B=g(T,y,M,L,S,I):B=v();break;default:if(R&1)(V!==1||y.type.toLowerCase()!==T.tagName.toLowerCase())&&!P(T)?B=v():B=f(T,y,M,L,S,I);else if(R&6){y.slotScopeIds=S;const F=o(T);if(b?B=E(T):ol(T)&&T.data==="teleport start"?B=E(T,T.data,"teleport end"):B=s(T),e(y,F,null,M,L,_h(F),I),io(y)&&!y.type.__asyncResolved){let U;b?(U=Je(Me),U.anchor=B?B.previousSibling:F.lastChild):U=T.nodeType===3?xn(""):Je("div"),U.el=T,y.component.subTree=U}}else R&64?V!==8?B=v():B=y.type.hydrate(T,y,M,L,S,I,t,p):R&128&&(B=y.type.hydrate(T,y,M,L,_h(o(T)),S,I,t,h))}return O!=null&&Nc(O,null,L,y),B},f=(T,y,M,L,S,I)=>{I=I||!!y.dynamicChildren;const{type:b,props:v,patchFlag:A,shapeFlag:O,dirs:R,transition:j}=y,V=b==="input"||b==="option";if(V||A!==-1){R&&ji(y,null,M,"created");let B=!1;if(P(T)){B=rC(null,j)&&M&&M.vnode.props&&M.vnode.props.appear;const U=T.content.firstChild;B&&j.beforeEnter(U),k(U,T,M),y.el=T=U}if(O&16&&!(v&&(v.innerHTML||v.textContent))){let U=p(T.firstChild,y,T,M,L,S,I);for(;U;){bh(T,1)||Wa();const x=U;U=U.nextSibling,a(x)}}else if(O&8){let U=y.children;U[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(U=U.slice(1)),T.textContent!==U&&(bh(T,0)||Wa(),T.textContent=y.children)}if(v){if(V||!I||A&48){const U=T.tagName.includes("-");for(const x in v)(V&&(x.endsWith("value")||x==="indeterminate")||Td(x)&&!vl(x)||x[0]==="."||U)&&r(T,x,null,v[x],void 0,M)}else if(v.onClick)r(T,"onClick",null,v.onClick,void 0,M);else if(A&4&&Yi(v.style))for(const U in v.style)v.style[U]}let F;(F=v&&v.onVnodeBeforeMount)&&Nr(F,M,y),R&&ji(y,null,M,"beforeMount"),((F=v&&v.onVnodeMounted)||R||B)&&uC(()=>{F&&Nr(F,M,y),B&&j.enter(T),R&&ji(y,null,M,"mounted")},L)}return T.nextSibling},p=(T,y,M,L,S,I,b)=>{b=b||!!y.dynamicChildren;const v=y.children,A=v.length;for(let O=0;O<A;O++){const R=b?v[O]:v[O]=Lr(v[O]),j=R.type===Jo;T?(j&&!b&&O+1<A&&Lr(v[O+1]).type===Jo&&(l(i(T.data.slice(R.children.length)),M,s(T)),T.data=R.children),T=h(T,R,L,S,I,b)):j&&!R.children?l(R.el=i(""),M):(bh(M,1)||Wa(),n(null,R,M,null,L,S,_h(M),I))}return T},g=(T,y,M,L,S,I)=>{const{slotScopeIds:b}=y;b&&(S=S?S.concat(b):b);const v=o(T),A=p(s(T),y,v,M,L,S,I);return A&&ol(A)&&A.data==="]"?s(y.anchor=A):(Wa(),l(y.anchor=u("]"),v,A),A)},w=(T,y,M,L,S,I)=>{if(bh(T.parentElement,1)||Wa(),y.el=null,I){const A=E(T);for(;;){const O=s(T);if(O&&O!==A)a(O);else break}}const b=s(T),v=o(T);return a(T),n(null,y,v,b,M,L,_h(v),S),M&&(M.vnode.el=y.el,xp(M,y.el)),b},E=(T,y="[",M="]")=>{let L=0;for(;T;)if(T=s(T),T&&ol(T)&&(T.data===y&&L++,T.data===M)){if(L===0)return s(T);L--}return T},k=(T,y,M)=>{const L=y.parentNode;L&&L.replaceChild(T,y);let S=M;for(;S;)S.vnode.el===y&&(S.vnode.el=S.subTree.el=T),S=S.parent},P=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[c,h]}const $w="data-allow-mismatch",XM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function bh(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute($w);)t=t.parentElement;const n=t&&t.getAttribute($w);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(XM[e])}}const JM=Ip().requestIdleCallback||(t=>setTimeout(t,1)),ZM=Ip().cancelIdleCallback||(t=>clearTimeout(t)),Mne=(t=1e4)=>e=>{const n=JM(e,{timeout:t});return()=>ZM(n)};function eL(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const Lne=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(eL(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},Vne=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},Fne=(t=[])=>(e,n)=>{Jt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function tL(t,e){if(ol(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ol(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const io=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function $ne(t){et(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),l)return new Promise((E,k)=>{l(w,()=>E(f()),()=>k(w),h+1)});throw w}).then(w=>g!==u&&u?u:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),c=w,w)))};return Gt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,w,E){const k=s?()=>{const P=s(E,T=>tL(g,T));P&&(w.bum||(w.bum=[])).push(P)}:E;c?k():p().then(()=>!w.isUnmounted&&k())},get __asyncResolved(){return c},setup(){const g=Nn;if(o_(g),c)return()=>Qm(c,g);const w=T=>{u=null,su(T,g,13,!r)};if(a&&g.suspense||Dl)return p().then(T=>()=>Qm(T,g)).catch(T=>(w(T),()=>r?Je(r,{error:T}):null));const E=he(!1),k=he(),P=he(!!i);return i&&setTimeout(()=>{P.value=!1},i),o!=null&&setTimeout(()=>{if(!E.value&&!k.value){const T=new Error(`Async component timed out after ${o}ms.`);w(T),k.value=T}},o),p().then(()=>{E.value=!0,g.parent&&Id(g.parent.vnode)&&g.parent.update()}).catch(T=>{w(T),k.value=T}),()=>{if(E.value&&c)return Qm(c,g);if(k.value&&r)return Je(r,{error:k.value});if(n&&!P.value)return Je(n)}}})}function Qm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=Je(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Id=t=>t.type.__isKeepAlive,nL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ei(),r=n.ctx;if(!r.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(P,T,y,M,L)=>{const S=P.component;u(P,T,y,0,a),l(S.vnode,P,T,y,S,a,M,P.slotScopeIds,L),kn(()=>{S.isDeactivated=!1,S.a&&yl(S.a);const I=P.props&&P.props.onVnodeMounted;I&&Nr(I,S.parent,P)},a)},r.deactivate=P=>{const T=P.component;Ef(T.m),Ef(T.a),u(P,f,null,1,a),kn(()=>{T.da&&yl(T.da);const y=P.props&&P.props.onVnodeUnmounted;y&&Nr(y,T.parent,P),T.isDeactivated=!0},a)};function p(P){Xm(P),c(P,n,a,!0)}function g(P){i.forEach((T,y)=>{const M=yv(T.type);M&&!P(M)&&w(y)})}function w(P){const T=i.get(P);T&&(!o||!_i(T,o))?p(T):o&&Xm(o),i.delete(P),s.delete(P)}In(()=>[t.include,t.exclude],([P,T])=>{P&&g(y=>qu(P,y)),T&&g(y=>!qu(T,y))},{flush:"post",deep:!0});let E=null;const k=()=>{E!=null&&(If(n.subTree.type)?kn(()=>{i.set(E,wh(n.subTree))},n.subTree.suspense):i.set(E,wh(n.subTree)))};return yn(k),l_(k),u_(()=>{i.forEach(P=>{const{subTree:T,suspense:y}=n,M=wh(T);if(P.type===M.type&&P.key===M.key){Xm(M);const L=M.component.da;L&&kn(L,y);return}p(P)})}),()=>{if(E=null,!e.default)return o=null;const P=e.default(),T=P[0];if(P.length>1)return o=null,P;if(!vo(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let y=wh(T);if(y.type===Dn)return o=null,y;const M=y.type,L=yv(io(y)?y.type.__asyncResolved||{}:M),{include:S,exclude:I,max:b}=t;if(S&&(!L||!qu(S,L))||I&&L&&qu(I,L))return y.shapeFlag&=-257,o=y,T;const v=y.key==null?M:y.key,A=i.get(v);return y.el&&(y=Is(y),T.shapeFlag&128&&(T.ssContent=y)),E=v,A?(y.el=A.el,y.component=A.component,y.transition&&go(y,y.transition),y.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),b&&s.size>parseInt(b,10)&&w(s.values().next().value)),y.shapeFlag|=256,o=y,If(T.type)?T:y}}},Une=nL;function qu(t,e){return $e(t)?t.some(n=>qu(n,e)):Jt(t)?t.split(",").includes(e):XN(t)?(t.lastIndex=0,t.test(e)):!1}function rL(t,e){BA(t,"a",e)}function iL(t,e){BA(t,"da",e)}function BA(t,e,n=Nn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Rp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Id(i.parent.vnode)&&sL(r,e,n,i),i=i.parent}}function sL(t,e,n,r){const i=Rp(e,t,r,!0);Sa(()=>{Ky(r[e],i)},n)}function Xm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function wh(t){return t.shapeFlag&128?t.ssContent:t}function Rp(t,e,n=Nn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{So();const a=aa(n),l=Di(e,n,t,o);return a(),Ao(),l});return r?i.unshift(s):i.push(s),s}}const Rs=t=>(e,n=Nn)=>{(!Dl||t==="sp")&&Rp(t,(...r)=>e(...r),n)},oL=Rs("bm"),yn=Rs("m"),a_=Rs("bu"),l_=Rs("u"),u_=Rs("bum"),Sa=Rs("um"),aL=Rs("sp"),lL=Rs("rtg"),uL=Rs("rtc");function cL(t,e=Nn){Rp("ec",t,e)}const c_="components",dL="directives";function Kr(t,e){return d_(c_,t,!0,e)||t}const jA=Symbol.for("v-ndc");function zr(t){return Jt(t)?d_(c_,t,!1)||t:t||jA}function HA(t){return d_(dL,t)}function d_(t,e,n=!0,r=!1){const i=Ln||Nn;if(i){const s=i.type;if(t===c_){const a=yv(s,!1);if(a&&(a===e||a===yr(e)||a===Ep(yr(e))))return s}const o=Uw(i[t]||s[t],e)||Uw(i.appContext[t],e);return!o&&r?s:o}}function Uw(t,e){return t&&(t[e]||t[yr(e)]||t[Ep(yr(e))])}function Ft(t,e,n,r){let i;const s=n&&n[r],o=$e(t);if(o||Jt(t)){const a=o&&Yi(t);let l=!1;a&&(l=!ui(t),t=Cp(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?dr(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Ht(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function tr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(Ln.ce||Ln.parent&&io(Ln.parent)&&Ln.parent.ce)return e!=="default"&&(n.name=e),q(),qe(Me,null,[Je("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),q();const o=s&&h_(s(n)),a=n.key||o&&o.key,l=qe(Me,{key:(a&&!Ri(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function h_(t){return t.some(e=>vo(e)?!(e.type===Dn||e.type===Me&&!h_(e.children)):!0)?t:null}function Bne(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Gh(r)]=t[r];return n}const lv=t=>t?pC(t)?Ad(t):lv(t.parent):null,rc=Kt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>lv(t.parent),$root:t=>lv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>f_(t),$forceUpdate:t=>t.f||(t.f=()=>{i_(t.update)}),$nextTick:t=>t.n||(t.n=Hn.bind(t.proxy)),$watch:t=>xL.bind(t)}),Jm=(t,e)=>t!==gt&&!t.__isScriptSetup&&kt(t,e),uv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Jm(r,e))return o[e]=1,r[e];if(i!==gt&&kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&kt(u,e))return o[e]=3,s[e];if(n!==gt&&kt(n,e))return o[e]=4,n[e];cv&&(o[e]=0)}}const c=rc[e];let h,f;if(c)return e==="$attrs"&&cr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==gt&&kt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,kt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Jm(i,e)?(i[e]=n,!0):r!==gt&&kt(r,e)?(r[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==gt&&kt(t,o)||Jm(e,o)||(a=s[0])&&kt(a,o)||kt(r,o)||kt(rc,o)||kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},hL=Kt({},uv,{get(t,e){if(e!==Symbol.unscopables)return uv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!nM(e)}});function jne(){return null}function Hne(){return null}function Wne(t){}function qne(t){}function zne(){return null}function Kne(){}function Gne(t,e){return null}function Aa(){return WA().slots}function Yne(){return WA().attrs}function WA(){const t=ei();return t.setupContext||(t.setupContext=vC(t))}function Mc(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Qne(t,e){const n=Mc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?$e(i)||et(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Xne(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):Kt({},Mc(t),Mc(e))}function Jne(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Zne(t){const e=ei();let n=t();return mv(),Gy(n)&&(n=n.catch(r=>{throw aa(e),r})),[n,()=>aa(e)]}let cv=!0;function fL(t){const e=f_(t),n=t.proxy,r=t.ctx;cv=!1,e.beforeCreate&&Bw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:w,deactivated:E,beforeDestroy:k,beforeUnmount:P,destroyed:T,unmounted:y,render:M,renderTracked:L,renderTriggered:S,errorCaptured:I,serverPrefetch:b,expose:v,inheritAttrs:A,components:O,directives:R,filters:j}=e;if(u&&pL(u,r,null),o)for(const F in o){const U=o[F];et(U)&&(r[F]=U.bind(n))}if(i){const F=i.call(n,n);Ht(F)&&(t.data=Dr(F))}if(cv=!0,s)for(const F in s){const U=s[F],x=et(U)?U.bind(n,n):et(U.get)?U.get.bind(n,n):li,C=!et(U)&&et(U.set)?U.set.bind(n):li,K=le({get:x,set:C});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>K.value,set:z=>K.value=z})}if(a)for(const F in a)qA(a[F],r,n,F);if(l){const F=et(l)?l.call(n):l;Reflect.ownKeys(F).forEach(U=>{ic(U,F[U])})}c&&Bw(c,t,"c");function B(F,U){$e(U)?U.forEach(x=>F(x.bind(n))):U&&F(U.bind(n))}if(B(oL,h),B(yn,f),B(a_,p),B(l_,g),B(rL,w),B(iL,E),B(cL,I),B(uL,L),B(lL,S),B(u_,P),B(Sa,y),B(aL,b),$e(v))if(v.length){const F=t.exposed||(t.exposed={});v.forEach(U=>{Object.defineProperty(F,U,{get:()=>n[U],set:x=>n[U]=x})})}else t.exposed||(t.exposed={});M&&t.render===li&&(t.render=M),A!=null&&(t.inheritAttrs=A),O&&(t.components=O),R&&(t.directives=R),b&&o_(t)}function pL(t,e,n=li){$e(t)&&(t=dv(t));for(const r in t){const i=t[r];let s;Ht(i)?"default"in i?s=Rr(i.from||r,i.default,!0):s=Rr(i.from||r):s=Rr(i),an(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Bw(t,e,n){Di($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function qA(t,e,n,r){let i=r.includes(".")?sC(n,r):()=>n[r];if(Jt(t)){const s=e[t];et(s)&&In(i,s)}else if(et(t))In(i,t.bind(n));else if(Ht(t))if($e(t))t.forEach(s=>qA(s,e,n,r));else{const s=et(t.handler)?t.handler.bind(n):e[t.handler];et(s)&&In(i,s,t)}}function f_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Tf(l,u,o,!0)),Tf(l,e,o)),Ht(e)&&s.set(e,l),l}function Tf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Tf(t,s,n,!0),i&&i.forEach(o=>Tf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=mL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const mL={data:jw,props:Hw,emits:Hw,methods:zu,computed:zu,beforeCreate:Sr,created:Sr,beforeMount:Sr,mounted:Sr,beforeUpdate:Sr,updated:Sr,beforeDestroy:Sr,beforeUnmount:Sr,destroyed:Sr,unmounted:Sr,activated:Sr,deactivated:Sr,errorCaptured:Sr,serverPrefetch:Sr,components:zu,directives:zu,watch:vL,provide:jw,inject:gL};function jw(t,e){return e?t?function(){return Kt(et(t)?t.call(this,this):t,et(e)?e.call(this,this):e)}:e:t}function gL(t,e){return zu(dv(t),dv(e))}function dv(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Sr(t,e){return t?[...new Set([].concat(t,e))]:e}function zu(t,e){return t?Kt(Object.create(null),t,e):e}function Hw(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:Kt(Object.create(null),Mc(t),Mc(e??{})):e}function vL(t,e){if(!t)return e;if(!e)return t;const n=Kt(Object.create(null),t);for(const r in e)n[r]=Sr(t[r],e[r]);return n}function zA(){return{app:null,config:{isNativeTag:YN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yL=0;function _L(t,e){return function(r,i=null){et(r)||(r=Kt({},r)),i!=null&&!Ht(i)&&(i=null);const s=zA(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:yL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:JL,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&et(c.install)?(o.add(c),c.install(u,...h)):et(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||Je(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Ad(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Di(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Xo;Xo=u;try{return c()}finally{Xo=h}}};return u}}let Xo=null;function ic(t,e){if(Nn){let n=Nn.provides;const r=Nn.parent&&Nn.parent.provides;r===n&&(n=Nn.provides=Object.create(r)),n[t]=e}}function Rr(t,e,n=!1){const r=Nn||Ln;if(r||Xo){const i=Xo?Xo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&et(e)?e.call(r&&r.proxy):e}}function bL(){return!!(Nn||Ln||Xo)}const KA={},GA=()=>Object.create(KA),YA=t=>Object.getPrototypeOf(t)===KA;function wL(t,e,n,r=!1){const i={},s=GA();t.propsDefaults=Object.create(null),QA(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:wA(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function TL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=mt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Dp(t.emitsOptions,f))continue;const p=e[f];if(l)if(kt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=yr(f);i[g]=hv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{QA(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!kt(e,h)&&((c=Vr(h))===h||!kt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=hv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!kt(e,h))&&(delete s[h],u=!0)}u&&hs(t.attrs,"set","")}function QA(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(vl(l))continue;const u=e[l];let c;i&&kt(i,c=yr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Dp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=mt(n),u=a||gt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=hv(i,l,h,u[h],t,!kt(u,h))}}return o}function hv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&et(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=aa(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Vr(n))&&(r=!0))}return r}const EL=new WeakMap;function XA(t,e,n=!1){const r=n?EL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!et(t)){const c=h=>{l=!0;const[f,p]=XA(h,e,!0);Kt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Ht(t)&&r.set(t,ml),ml;if($e(s))for(let c=0;c<s.length;c++){const h=yr(s[c]);Ww(h)&&(o[h]=gt)}else if(s)for(const c in s){const h=yr(c);if(Ww(h)){const f=s[c],p=o[h]=$e(f)||et(f)?{type:f}:Kt({},f),g=p.type;let w=!1,E=!0;if($e(g))for(let k=0;k<g.length;++k){const P=g[k],T=et(P)&&P.name;if(T==="Boolean"){w=!0;break}else T==="String"&&(E=!1)}else w=et(g)&&g.name==="Boolean";p[0]=w,p[1]=E,(w||kt(p,"default"))&&a.push(h)}}const u=[o,a];return Ht(t)&&r.set(t,u),u}function Ww(t){return t[0]!=="$"&&!vl(t)}const JA=t=>t[0]==="_"||t==="$stable",p_=t=>$e(t)?t.map(Lr):[Lr(t)],IL=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>p_(e(...i)),n);return r._c=!1,r},ZA=(t,e,n)=>{const r=t._ctx;for(const i in t){if(JA(i))continue;const s=t[i];if(et(s))e[i]=IL(i,s,r);else if(s!=null){const o=p_(s);e[i]=()=>o}}},eC=(t,e)=>{const n=p_(e);t.slots.default=()=>n},tC=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},SL=(t,e,n)=>{const r=t.slots=GA();if(t.vnode.shapeFlag&32){const i=e._;i?(tC(r,e,n),n&&eA(r,"_",i,!0)):ZA(e,r)}else e&&eC(t,e)},AL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=gt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:tC(i,e,n):(s=!e.$stable,ZA(e,i)),o=e}else e&&(eC(t,e),o={default:1});if(s)for(const a in i)!JA(a)&&o[a]==null&&delete i[a]},kn=uC;function CL(t){return nC(t)}function OL(t){return nC(t,QM)}function nC(t,e){const n=Ip();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=li,insertStaticContent:g}=t,w=(D,$,H,oe=null,se=null,me=null,Se=void 0,Ee=null,Te=!!$.dynamicChildren)=>{if(D===$)return;D&&!_i(D,$)&&(oe=Q(D),z(D,se,me,!0),D=null),$.patchFlag===-2&&(Te=!1,$.dynamicChildren=null);const{type:ge,ref:He,shapeFlag:Ie}=$;switch(ge){case Jo:E(D,$,H,oe);break;case Dn:k(D,$,H,oe);break;case wl:D==null&&P($,H,oe,Se);break;case Me:O(D,$,H,oe,se,me,Se,Ee,Te);break;default:Ie&1?M(D,$,H,oe,se,me,Se,Ee,Te):Ie&6?R(D,$,H,oe,se,me,Se,Ee,Te):(Ie&64||Ie&128)&&ge.process(D,$,H,oe,se,me,Se,Ee,Te,ce)}He!=null&&se&&Nc(He,D&&D.ref,me,$||D,!$)},E=(D,$,H,oe)=>{if(D==null)r($.el=a($.children),H,oe);else{const se=$.el=D.el;$.children!==D.children&&u(se,$.children)}},k=(D,$,H,oe)=>{D==null?r($.el=l($.children||""),H,oe):$.el=D.el},P=(D,$,H,oe)=>{[D.el,D.anchor]=g(D.children,$,H,oe,D.el,D.anchor)},T=({el:D,anchor:$},H,oe)=>{let se;for(;D&&D!==$;)se=f(D),r(D,H,oe),D=se;r($,H,oe)},y=({el:D,anchor:$})=>{let H;for(;D&&D!==$;)H=f(D),i(D),D=H;i($)},M=(D,$,H,oe,se,me,Se,Ee,Te)=>{$.type==="svg"?Se="svg":$.type==="math"&&(Se="mathml"),D==null?L($,H,oe,se,me,Se,Ee,Te):b(D,$,se,me,Se,Ee,Te)},L=(D,$,H,oe,se,me,Se,Ee)=>{let Te,ge;const{props:He,shapeFlag:Ie,transition:Fe,dirs:Ye}=D;if(Te=D.el=o(D.type,me,He&&He.is,He),Ie&8?c(Te,D.children):Ie&16&&I(D.children,Te,null,oe,se,Zm(D,me),Se,Ee),Ye&&ji(D,null,oe,"created"),S(Te,D,D.scopeId,Se,oe),He){for(const G in He)G!=="value"&&!vl(G)&&s(Te,G,null,He[G],me,oe);"value"in He&&s(Te,"value",null,He.value,me),(ge=He.onVnodeBeforeMount)&&Nr(ge,oe,D)}Ye&&ji(D,null,oe,"beforeMount");const Ke=rC(se,Fe);Ke&&Fe.beforeEnter(Te),r(Te,$,H),((ge=He&&He.onVnodeMounted)||Ke||Ye)&&kn(()=>{ge&&Nr(ge,oe,D),Ke&&Fe.enter(Te),Ye&&ji(D,null,oe,"mounted")},se)},S=(D,$,H,oe,se)=>{if(H&&p(D,H),oe)for(let me=0;me<oe.length;me++)p(D,oe[me]);if(se){let me=se.subTree;if($===me||If(me.type)&&(me.ssContent===$||me.ssFallback===$)){const Se=se.vnode;S(D,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},I=(D,$,H,oe,se,me,Se,Ee,Te=0)=>{for(let ge=Te;ge<D.length;ge++){const He=D[ge]=Ee?Ys(D[ge]):Lr(D[ge]);w(null,He,$,H,oe,se,me,Se,Ee)}},b=(D,$,H,oe,se,me,Se)=>{const Ee=$.el=D.el;let{patchFlag:Te,dynamicChildren:ge,dirs:He}=$;Te|=D.patchFlag&16;const Ie=D.props||gt,Fe=$.props||gt;let Ye;if(H&&Lo(H,!1),(Ye=Fe.onVnodeBeforeUpdate)&&Nr(Ye,H,$,D),He&&ji($,D,H,"beforeUpdate"),H&&Lo(H,!0),(Ie.innerHTML&&Fe.innerHTML==null||Ie.textContent&&Fe.textContent==null)&&c(Ee,""),ge?v(D.dynamicChildren,ge,Ee,H,oe,Zm($,se),me):Se||U(D,$,Ee,null,H,oe,Zm($,se),me,!1),Te>0){if(Te&16)A(Ee,Ie,Fe,H,se);else if(Te&2&&Ie.class!==Fe.class&&s(Ee,"class",null,Fe.class,se),Te&4&&s(Ee,"style",Ie.style,Fe.style,se),Te&8){const Ke=$.dynamicProps;for(let G=0;G<Ke.length;G++){const ae=Ke[G],Ne=Ie[ae],We=Fe[ae];(We!==Ne||ae==="value")&&s(Ee,ae,Ne,We,se,H)}}Te&1&&D.children!==$.children&&c(Ee,$.children)}else!Se&&ge==null&&A(Ee,Ie,Fe,H,se);((Ye=Fe.onVnodeUpdated)||He)&&kn(()=>{Ye&&Nr(Ye,H,$,D),He&&ji($,D,H,"updated")},oe)},v=(D,$,H,oe,se,me,Se)=>{for(let Ee=0;Ee<$.length;Ee++){const Te=D[Ee],ge=$[Ee],He=Te.el&&(Te.type===Me||!_i(Te,ge)||Te.shapeFlag&70)?h(Te.el):H;w(Te,ge,He,null,oe,se,me,Se,!0)}},A=(D,$,H,oe,se)=>{if($!==H){if($!==gt)for(const me in $)!vl(me)&&!(me in H)&&s(D,me,$[me],null,se,oe);for(const me in H){if(vl(me))continue;const Se=H[me],Ee=$[me];Se!==Ee&&me!=="value"&&s(D,me,Ee,Se,se,oe)}"value"in H&&s(D,"value",$.value,H.value,se)}},O=(D,$,H,oe,se,me,Se,Ee,Te)=>{const ge=$.el=D?D.el:a(""),He=$.anchor=D?D.anchor:a("");let{patchFlag:Ie,dynamicChildren:Fe,slotScopeIds:Ye}=$;Ye&&(Ee=Ee?Ee.concat(Ye):Ye),D==null?(r(ge,H,oe),r(He,H,oe),I($.children||[],H,He,se,me,Se,Ee,Te)):Ie>0&&Ie&64&&Fe&&D.dynamicChildren?(v(D.dynamicChildren,Fe,H,se,me,Se,Ee),($.key!=null||se&&$===se.subTree)&&m_(D,$,!0)):U(D,$,H,He,se,me,Se,Ee,Te)},R=(D,$,H,oe,se,me,Se,Ee,Te)=>{$.slotScopeIds=Ee,D==null?$.shapeFlag&512?se.ctx.activate($,H,oe,Se,Te):j($,H,oe,se,me,Se,Te):V(D,$,Te)},j=(D,$,H,oe,se,me,Se)=>{const Ee=D.component=fC(D,oe,se);if(Id(D)&&(Ee.ctx.renderer=ce),mC(Ee,!1,Se),Ee.asyncDep){if(se&&se.registerDep(Ee,B,Se),!D.el){const Te=Ee.subTree=Je(Dn);k(null,Te,$,H)}}else B(Ee,D,$,H,se,me,Se)},V=(D,$,H)=>{const oe=$.component=D.component;if(FL(D,$,H))if(oe.asyncDep&&!oe.asyncResolved){F(oe,$,H);return}else oe.next=$,oe.update();else $.el=D.el,oe.vnode=$},B=(D,$,H,oe,se,me,Se)=>{const Ee=()=>{if(D.isMounted){let{next:Ie,bu:Fe,u:Ye,parent:Ke,vnode:G}=D;{const Nt=iC(D);if(Nt){Ie&&(Ie.el=G.el,F(D,Ie,Se)),Nt.asyncDep.then(()=>{D.isUnmounted||Ee()});return}}let ae=Ie,Ne;Lo(D,!1),Ie?(Ie.el=G.el,F(D,Ie,Se)):Ie=G,Fe&&yl(Fe),(Ne=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Nr(Ne,Ke,Ie,G),Lo(D,!0);const We=Qh(D),dt=D.subTree;D.subTree=We,w(dt,We,h(dt.el),Q(dt),D,se,me),Ie.el=We.el,ae===null&&xp(D,We.el),Ye&&kn(Ye,se),(Ne=Ie.props&&Ie.props.onVnodeUpdated)&&kn(()=>Nr(Ne,Ke,Ie,G),se)}else{let Ie;const{el:Fe,props:Ye}=$,{bm:Ke,m:G,parent:ae,root:Ne,type:We}=D,dt=io($);if(Lo(D,!1),Ke&&yl(Ke),!dt&&(Ie=Ye&&Ye.onVnodeBeforeMount)&&Nr(Ie,ae,$),Lo(D,!0),Fe&&ne){const Nt=()=>{D.subTree=Qh(D),ne(Fe,D.subTree,D,se,null)};dt&&We.__asyncHydrate?We.__asyncHydrate(Fe,D,Nt):Nt()}else{Ne.ce&&Ne.ce._injectChildStyle(We);const Nt=D.subTree=Qh(D);w(null,Nt,H,oe,D,se,me),$.el=Nt.el}if(G&&kn(G,se),!dt&&(Ie=Ye&&Ye.onVnodeMounted)){const Nt=$;kn(()=>Nr(Ie,ae,Nt),se)}($.shapeFlag&256||ae&&io(ae.vnode)&&ae.vnode.shapeFlag&256)&&D.a&&kn(D.a,se),D.isMounted=!0,$=H=oe=null}};D.scope.on();const Te=D.effect=new gf(Ee);D.scope.off();const ge=D.update=Te.run.bind(Te),He=D.job=Te.runIfDirty.bind(Te);He.i=D,He.id=D.uid,Te.scheduler=()=>i_(He),Lo(D,!0),ge()},F=(D,$,H)=>{$.component=D;const oe=D.vnode.props;D.vnode=$,D.next=null,TL(D,$.props,oe,H),AL(D,$.children,H),So(),xw(D),Ao()},U=(D,$,H,oe,se,me,Se,Ee,Te=!1)=>{const ge=D&&D.children,He=D?D.shapeFlag:0,Ie=$.children,{patchFlag:Fe,shapeFlag:Ye}=$;if(Fe>0){if(Fe&128){C(ge,Ie,H,oe,se,me,Se,Ee,Te);return}else if(Fe&256){x(ge,Ie,H,oe,se,me,Se,Ee,Te);return}}Ye&8?(He&16&&W(ge,se,me),Ie!==ge&&c(H,Ie)):He&16?Ye&16?C(ge,Ie,H,oe,se,me,Se,Ee,Te):W(ge,se,me,!0):(He&8&&c(H,""),Ye&16&&I(Ie,H,oe,se,me,Se,Ee,Te))},x=(D,$,H,oe,se,me,Se,Ee,Te)=>{D=D||ml,$=$||ml;const ge=D.length,He=$.length,Ie=Math.min(ge,He);let Fe;for(Fe=0;Fe<Ie;Fe++){const Ye=$[Fe]=Te?Ys($[Fe]):Lr($[Fe]);w(D[Fe],Ye,H,null,se,me,Se,Ee,Te)}ge>He?W(D,se,me,!0,!1,Ie):I($,H,oe,se,me,Se,Ee,Te,Ie)},C=(D,$,H,oe,se,me,Se,Ee,Te)=>{let ge=0;const He=$.length;let Ie=D.length-1,Fe=He-1;for(;ge<=Ie&&ge<=Fe;){const Ye=D[ge],Ke=$[ge]=Te?Ys($[ge]):Lr($[ge]);if(_i(Ye,Ke))w(Ye,Ke,H,null,se,me,Se,Ee,Te);else break;ge++}for(;ge<=Ie&&ge<=Fe;){const Ye=D[Ie],Ke=$[Fe]=Te?Ys($[Fe]):Lr($[Fe]);if(_i(Ye,Ke))w(Ye,Ke,H,null,se,me,Se,Ee,Te);else break;Ie--,Fe--}if(ge>Ie){if(ge<=Fe){const Ye=Fe+1,Ke=Ye<He?$[Ye].el:oe;for(;ge<=Fe;)w(null,$[ge]=Te?Ys($[ge]):Lr($[ge]),H,Ke,se,me,Se,Ee,Te),ge++}}else if(ge>Fe)for(;ge<=Ie;)z(D[ge],se,me,!0),ge++;else{const Ye=ge,Ke=ge,G=new Map;for(ge=Ke;ge<=Fe;ge++){const Be=$[ge]=Te?Ys($[ge]):Lr($[ge]);Be.key!=null&&G.set(Be.key,ge)}let ae,Ne=0;const We=Fe-Ke+1;let dt=!1,Nt=0;const qn=new Array(We);for(ge=0;ge<We;ge++)qn[ge]=0;for(ge=Ye;ge<=Ie;ge++){const Be=D[ge];if(Ne>=We){z(Be,se,me,!0);continue}let je;if(Be.key!=null)je=G.get(Be.key);else for(ae=Ke;ae<=Fe;ae++)if(qn[ae-Ke]===0&&_i(Be,$[ae])){je=ae;break}je===void 0?z(Be,se,me,!0):(qn[je-Ke]=ge+1,je>=Nt?Nt=je:dt=!0,w(Be,$[je],H,null,se,me,Se,Ee,Te),Ne++)}const Oe=dt?PL(qn):ml;for(ae=Oe.length-1,ge=We-1;ge>=0;ge--){const Be=Ke+ge,je=$[Be],zn=Be+1<He?$[Be+1].el:oe;qn[ge]===0?w(null,je,H,zn,se,me,Se,Ee,Te):dt&&(ae<0||ge!==Oe[ae]?K(je,H,zn,2):ae--)}}},K=(D,$,H,oe,se=null)=>{const{el:me,type:Se,transition:Ee,children:Te,shapeFlag:ge}=D;if(ge&6){K(D.component.subTree,$,H,oe);return}if(ge&128){D.suspense.move($,H,oe);return}if(ge&64){Se.move(D,$,H,ce);return}if(Se===Me){r(me,$,H);for(let Ie=0;Ie<Te.length;Ie++)K(Te[Ie],$,H,oe);r(D.anchor,$,H);return}if(Se===wl){T(D,$,H);return}if(oe!==2&&ge&1&&Ee)if(oe===0)Ee.beforeEnter(me),r(me,$,H),kn(()=>Ee.enter(me),se);else{const{leave:Ie,delayLeave:Fe,afterLeave:Ye}=Ee,Ke=()=>r(me,$,H),G=()=>{Ie(me,()=>{Ke(),Ye&&Ye()})};Fe?Fe(me,Ke,G):G()}else r(me,$,H)},z=(D,$,H,oe=!1,se=!1)=>{const{type:me,props:Se,ref:Ee,children:Te,dynamicChildren:ge,shapeFlag:He,patchFlag:Ie,dirs:Fe,cacheIndex:Ye}=D;if(Ie===-2&&(se=!1),Ee!=null&&Nc(Ee,null,H,D,!0),Ye!=null&&($.renderCache[Ye]=void 0),He&256){$.ctx.deactivate(D);return}const Ke=He&1&&Fe,G=!io(D);let ae;if(G&&(ae=Se&&Se.onVnodeBeforeUnmount)&&Nr(ae,$,D),He&6)Z(D.component,H,oe);else{if(He&128){D.suspense.unmount(H,oe);return}Ke&&ji(D,null,$,"beforeUnmount"),He&64?D.type.remove(D,$,H,ce,oe):ge&&!ge.hasOnce&&(me!==Me||Ie>0&&Ie&64)?W(ge,$,H,!1,!0):(me===Me&&Ie&384||!se&&He&16)&&W(Te,$,H),oe&&te(D)}(G&&(ae=Se&&Se.onVnodeUnmounted)||Ke)&&kn(()=>{ae&&Nr(ae,$,D),Ke&&ji(D,null,$,"unmounted")},H)},te=D=>{const{type:$,el:H,anchor:oe,transition:se}=D;if($===Me){fe(H,oe);return}if($===wl){y(D);return}const me=()=>{i(H),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(D.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Ee}=se,Te=()=>Se(H,me);Ee?Ee(D.el,me,Te):Te()}else me()},fe=(D,$)=>{let H;for(;D!==$;)H=f(D),i(D),D=H;i($)},Z=(D,$,H)=>{const{bum:oe,scope:se,job:me,subTree:Se,um:Ee,m:Te,a:ge}=D;Ef(Te),Ef(ge),oe&&yl(oe),se.stop(),me&&(me.flags|=8,z(Se,D,$,H)),Ee&&kn(Ee,$),kn(()=>{D.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},W=(D,$,H,oe=!1,se=!1,me=0)=>{for(let Se=me;Se<D.length;Se++)z(D[Se],$,H,oe,se)},Q=D=>{if(D.shapeFlag&6)return Q(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const $=f(D.anchor||D.el),H=$&&$[RA];return H?f(H):$};let ie=!1;const X=(D,$,H)=>{D==null?$._vnode&&z($._vnode,null,null,!0):w($._vnode||null,D,$,null,null,null,H),$._vnode=D,ie||(ie=!0,xw(),wf(),ie=!1)},ce={p:w,um:z,m:K,r:te,mt:j,mc:I,pc:U,pbc:v,n:Q,o:t};let be,ne;return e&&([be,ne]=e(ce)),{render:X,hydrate:be,createApp:_L(X,be)}}function Zm({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Lo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function rC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function m_(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ys(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&m_(o,a)),a.type===Jo&&(a.el=o.el)}}function PL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function iC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:iC(e)}function Ef(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const kL=Symbol.for("v-scx"),RL=()=>Rr(kL);function ere(t,e){return Sd(t,null,e)}function tre(t,e){return Sd(t,null,{flush:"post"})}function DL(t,e){return Sd(t,null,{flush:"sync"})}function In(t,e,n){return Sd(t,e,n)}function Sd(t,e,n=gt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Kt({},n),l=e&&r||!e&&s!=="post";let u;if(Dl){if(s==="sync"){const p=RL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=li,p.resume=li,p.pause=li,p}}const c=Nn;a.call=(p,g,w)=>Di(p,c,g,w);let h=!1;s==="post"?a.scheduler=p=>{kn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():i_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=$M(t,e,a);return Dl&&(u?u.push(f):l&&f()),f}function xL(t,e,n){const r=this.proxy,i=Jt(t)?t.includes(".")?sC(r,t):()=>r[t]:t.bind(r,r);let s;et(e)?s=e:(s=e.handler,n=e);const o=aa(this),a=Sd(i,s.bind(r),n);return o(),a}function sC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function nre(t,e,n=gt){const r=ei(),i=yr(e),s=Vr(e),o=oC(t,i),a=DM((l,u)=>{let c,h=gt,f;return DL(()=>{const p=t[i];Cr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Cr(g,c)&&!(h!==gt&&Cr(p,h)))return;const w=r.vnode.props;w&&(e in w||i in w||s in w)&&(`onUpdate:${e}`in w||`onUpdate:${i}`in w||`onUpdate:${s}`in w)||(c=p,u()),r.emit(`update:${e}`,g),Cr(p,g)&&Cr(p,h)&&!Cr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||gt:a,done:!1}:{done:!0}}}},a}const oC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${yr(e)}Modifiers`]||t[`${Vr(e)}Modifiers`];function NL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||gt;let i=n;const s=e.startsWith("update:"),o=s&&oC(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Jt(c)?c.trim():c)),o.number&&(i=n.map(pf)));let a,l=r[a=Gh(e)]||r[a=Gh(yr(e))];!l&&s&&(l=r[a=Gh(Vr(e))]),l&&Di(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Di(u,t,6,i)}}function aC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!et(t)){const l=u=>{const c=aC(u,e,!0);c&&(a=!0,Kt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ht(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):Kt(o,s),Ht(t)&&r.set(t,o),o)}function Dp(t,e){return!t||!Td(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,Vr(e))||kt(t,e))}function Qh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:w}=t,E=Dc(t);let k,P;try{if(n.shapeFlag&4){const y=i||r,M=y;k=Lr(u.call(M,y,c,h,p,f,g)),P=a}else{const y=e;k=Lr(y.length>1?y(h,{attrs:a,slots:o,emit:l}):y(h,null)),P=e.props?a:LL(a)}}catch(y){sc.length=0,su(y,t,1),k=Je(Dn)}let T=k;if(P&&w!==!1){const y=Object.keys(P),{shapeFlag:M}=T;y.length&&M&7&&(s&&y.some(zy)&&(P=VL(P,s)),T=Is(T,P,!1,!0))}return n.dirs&&(T=Is(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&go(T,n.transition),k=T,Dc(E),k}function ML(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(vo(i)){if(i.type!==Dn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const LL=t=>{let e;for(const n in t)(n==="class"||n==="style"||Td(n))&&((e||(e={}))[n]=t[n]);return e},VL=(t,e)=>{const n={};for(const r in t)(!zy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function FL(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?qw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Dp(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?qw(r,o,u):!0:!!o;return!1}function qw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Dp(n,s))return!0}return!1}function xp({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const If=t=>t.__isSuspense;let fv=0;const $L={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)UL(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}BL(t,e,n,r,i,o,a,l,u)}},hydrate:jL,normalize:HL},rre=$L;function Lc(t,e){const n=t.props&&t.props[e];et(n)&&n()}function UL(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=lC(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Lc(t,"onPending"),Lc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),bl(f,t.ssFallback)):f.resolve(!1,!0)}function BL(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:w,isInFallback:E,isHydrating:k}=h;if(w)h.pendingBranch=f,_i(f,w)?(l(w,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():E&&(k||(l(g,p,n,r,i,null,s,o,a),bl(h,p)))):(h.pendingId=fv++,k?(h.isHydrating=!1,h.activeBranch=w):u(w,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),E?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),bl(h,p))):g&&_i(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&_i(f,g))l(g,f,n,r,i,h,s,o,a),bl(h,f);else if(Lc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=fv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:P,pendingId:T}=h;P>0?setTimeout(()=>{h.pendingId===T&&h.fallback(p)},P):P===0&&h.fallback(p)}}function lC(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:w,remove:E}}=u;let k;const P=WL(t);P&&e&&e.pendingBranch&&(k=e.pendingId,e.deps++);const T=t.props?mf(t.props.timeout):void 0,y=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:fv++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(L=!1,S=!1){const{vnode:I,activeBranch:b,pendingBranch:v,pendingId:A,effects:O,parentComponent:R,container:j}=M;let V=!1;M.isHydrating?M.isHydrating=!1:L||(V=b&&v.transition&&v.transition.mode==="out-in",V&&(b.transition.afterLeave=()=>{A===M.pendingId&&(f(v,j,s===y?g(b):s,0),bf(O))}),b&&(w(b.el)===j&&(s=g(b)),p(b,R,M,!0)),V||f(v,j,s,0)),bl(M,v),M.pendingBranch=null,M.isInFallback=!1;let B=M.parent,F=!1;for(;B;){if(B.pendingBranch){B.effects.push(...O),F=!0;break}B=B.parent}!F&&!V&&bf(O),M.effects=[],P&&e&&e.pendingBranch&&k===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),Lc(I,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:S,activeBranch:I,parentComponent:b,container:v,namespace:A}=M;Lc(S,"onFallback");const O=g(I),R=()=>{M.isInFallback&&(h(null,L,v,O,b,null,A,a,l),bl(M,L))},j=L.transition&&L.transition.mode==="out-in";j&&(I.transition.afterLeave=R),M.isInFallback=!0,p(I,b,null,!0),j||R()},move(L,S,I){M.activeBranch&&f(M.activeBranch,L,S,I),M.container=L},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(L,S,I){const b=!!M.pendingBranch;b&&M.deps++;const v=L.vnode.el;L.asyncDep.catch(A=>{su(A,L,0)}).then(A=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:O}=L;gv(L,A,!1),v&&(O.el=v);const R=!v&&L.subTree.el;S(L,O,w(v||L.subTree.el),v?null:g(L.subTree),M,o,I),R&&E(R),xp(L,O.el),b&&--M.deps===0&&M.resolve()})},unmount(L,S){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,S),M.pendingBranch&&p(M.pendingBranch,n,L,S)}};return M}function jL(t,e,n,r,i,s,o,a,l){const u=e.suspense=lC(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function HL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=zw(r?n.default:n),t.ssFallback=r?zw(n.fallback):Je(Dn)}function zw(t){let e;if(et(t)){const n=oa&&t._c;n&&(t._d=!1,q()),t=t(),n&&(t._d=!0,e=mr,cC())}return $e(t)&&(t=ML(t)),t=Lr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function uC(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):bf(t)}function bl(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,xp(r,i))}function WL(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Me=Symbol.for("v-fgt"),Jo=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),wl=Symbol.for("v-stc"),sc=[];let mr=null;function q(t=!1){sc.push(mr=t?null:[])}function cC(){sc.pop(),mr=sc[sc.length-1]||null}let oa=1;function Kw(t,e=!1){oa+=t,t<0&&mr&&e&&(mr.hasOnce=!0)}function dC(t){return t.dynamicChildren=oa>0?mr||ml:null,cC(),oa>0&&mr&&mr.push(t),t}function ee(t,e,n,r,i,s){return dC(Ae(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return dC(Je(t,e,n,r,i,!0))}function vo(t){return t?t.__v_isVNode===!0:!1}function _i(t,e){return t.type===e.type&&t.key===e.key}function ire(t){}const hC=({key:t})=>t??null,Xh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||an(t)||et(t)?{i:Ln,r:t,k:e,f:!!n}:t:null);function Ae(t,e=null,n=null,r=0,i=null,s=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&hC(e),ref:e&&Xh(e),scopeId:kp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ln};return a?(g_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),oa>0&&!o&&mr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&mr.push(l),l}const Je=qL;function qL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===jA)&&(t=Dn),vo(t)){const a=Is(t,e,!0);return n&&g_(a,n),oa>0&&!s&&mr&&(a.shapeFlag&6?mr[mr.indexOf(t)]=a:mr.push(a)),a.patchFlag=-2,a}if(QL(t)&&(t=t.__vccOpts),e){e=er(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=tt(a)),Ht(l)&&(n_(l)&&!$e(l)&&(l=Kt({},l)),e.style=kr(l))}const o=Jt(t)?1:If(t)?128:DA(t)?64:Ht(t)?4:et(t)?2:0;return Ae(t,e,n,r,i,o,s,!0)}function er(t){return t?n_(t)||YA(t)?Kt({},t):t:null}function Is(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?pe(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&hC(u),ref:e&&e.ref?n&&s?$e(s)?s.concat(Xh(e)):[s,Xh(e)]:Xh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&go(c,l.clone(c)),c}function xn(t=" ",e=0){return Je(Jo,null,t,e)}function sre(t,e){const n=Je(wl,null,t);return n.staticCount=e,n}function de(t="",e=!1){return e?(q(),qe(Dn,null,t)):Je(Dn,null,t)}function Lr(t){return t==null||typeof t=="boolean"?Je(Dn):$e(t)?Je(Me,null,t.slice()):vo(t)?Ys(t):Je(Jo,null,String(t))}function Ys(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function g_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),g_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!YA(e)?e._ctx=Ln:i===3&&Ln&&(Ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else et(e)?(e={default:e,_ctx:Ln},n=32):(e=String(e),r&64?(n=16,e=[xn(e)]):n=8);t.children=e,t.shapeFlag|=n}function pe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=kr([e.style,r.style]);else if(Td(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Nr(t,e,n,r=null){Di(t,e,7,[n,r])}const zL=zA();let KL=0;function fC(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||zL,s={uid:KL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new iA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:XA(r,i),emitsOptions:aC(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=NL.bind(null,s),t.ce&&t.ce(s),s}let Nn=null;const ei=()=>Nn||Ln;let Sf,pv;{const t=Ip(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Sf=e("__VUE_INSTANCE_SETTERS__",n=>Nn=n),pv=e("__VUE_SSR_SETTERS__",n=>Dl=n)}const aa=t=>{const e=Nn;return Sf(t),t.scope.on(),()=>{t.scope.off(),Sf(e)}},mv=()=>{Nn&&Nn.scope.off(),Sf(null)};function pC(t){return t.vnode.shapeFlag&4}let Dl=!1;function mC(t,e=!1,n=!1){e&&pv(e);const{props:r,children:i}=t.vnode,s=pC(t);wL(t,r,s,e),SL(t,i,n);const o=s?GL(t,e):void 0;return e&&pv(!1),o}function GL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,uv);const{setup:r}=n;if(r){So();const i=t.setupContext=r.length>1?vC(t):null,s=aa(t),o=Ed(r,t,0,[t.props,i]),a=Gy(o);if(Ao(),s(),(a||t.sp)&&!io(t)&&o_(t),a){if(o.then(mv,mv),e)return o.then(l=>{gv(t,l,e)}).catch(l=>{su(l,t,0)});t.asyncDep=o}else gv(t,o,e)}else gC(t,e)}function gv(t,e,n){et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=IA(e)),gC(t,n)}let Af,vv;function ore(t){Af=t,vv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,hL))}}const are=()=>!Af;function gC(t,e,n){const r=t.type;if(!t.render){if(!e&&Af&&!r.render){const i=r.template||f_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Kt(Kt({isCustomElement:s,delimiters:a},o),l);r.render=Af(i,u)}}t.render=r.render||li,vv&&vv(t)}{const i=aa(t);So();try{fL(t)}finally{Ao(),i()}}}const YL={get(t,e){return cr(t,"get",""),t[e]}};function vC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,YL),slots:t.slots,emit:t.emit,expose:e}}function Ad(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(IA(r_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in rc)return rc[n](t)},has(e,n){return n in e||n in rc}})):t.proxy}function yv(t,e=!0){return et(t)?t.displayName||t.name:t.name||e&&t.__name}function QL(t){return et(t)&&"__vccOpts"in t}const le=(t,e)=>VM(t,e,Dl);function xl(t,e,n){const r=arguments.length;return r===2?Ht(e)&&!$e(e)?vo(e)?Je(t,null,[e]):Je(t,e):Je(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vo(n)&&(n=[n]),Je(t,e,n))}function lre(){}function ure(t,e,n,r){const i=n[r];if(i&&XL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function XL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Cr(n[r],e[r]))return!1;return oa>0&&mr&&mr.push(t),!0}const JL="3.5.13",cre=li,dre=jM,hre=Ja,fre=kA,ZL={createComponentInstance:fC,setupComponent:mC,renderComponentRoot:Qh,setCurrentRenderingInstance:Dc,isVNode:vo,normalizeVNode:Lr,getComponentPublicInstance:Ad,ensureValidVNode:h_,pushWarningContext:UM,popWarningContext:BM},pre=ZL,mre=null,gre=null,vre=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _v;const Gw=typeof window<"u"&&window.trustedTypes;if(Gw)try{_v=Gw.createPolicy("vue",{createHTML:t=>t})}catch{}const yC=_v?t=>_v.createHTML(t):t=>t,e2="http://www.w3.org/2000/svg",t2="http://www.w3.org/1998/Math/MathML",ds=typeof document<"u"?document:null,Yw=ds&&ds.createElement("template"),n2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ds.createElementNS(e2,t):e==="mathml"?ds.createElementNS(t2,t):n?ds.createElement(t,{is:n}):ds.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ds.createTextNode(t),createComment:t=>ds.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ds.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Yw.innerHTML=yC(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Yw.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fs="transition",ku="animation",Nl=Symbol("_vtc"),_C={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bC=Kt({},VA,_C),r2=t=>(t.displayName="Transition",t.props=bC,t),Co=r2((t,{slots:e})=>xl(KM,wC(t),e)),Vo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},Qw=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function wC(t){const e={};for(const O in t)O in _C||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=i2(i),w=g&&g[0],E=g&&g[1],{onBeforeEnter:k,onEnter:P,onEnterCancelled:T,onLeave:y,onLeaveCancelled:M,onBeforeAppear:L=k,onAppear:S=P,onAppearCancelled:I=T}=e,b=(O,R,j,V)=>{O._enterCancelled=V,Ws(O,R?c:a),Ws(O,R?u:o),j&&j()},v=(O,R)=>{O._isLeaving=!1,Ws(O,h),Ws(O,p),Ws(O,f),R&&R()},A=O=>(R,j)=>{const V=O?S:P,B=()=>b(R,O,j);Vo(V,[R,B]),Xw(()=>{Ws(R,O?l:s),$i(R,O?c:a),Qw(V)||Jw(R,r,w,B)})};return Kt(e,{onBeforeEnter(O){Vo(k,[O]),$i(O,s),$i(O,o)},onBeforeAppear(O){Vo(L,[O]),$i(O,l),$i(O,u)},onEnter:A(!1),onAppear:A(!0),onLeave(O,R){O._isLeaving=!0;const j=()=>v(O,R);$i(O,h),O._enterCancelled?($i(O,f),bv()):(bv(),$i(O,f)),Xw(()=>{O._isLeaving&&(Ws(O,h),$i(O,p),Qw(y)||Jw(O,r,E,j))}),Vo(y,[O,j])},onEnterCancelled(O){b(O,!1,void 0,!0),Vo(T,[O])},onAppearCancelled(O){b(O,!0,void 0,!0),Vo(I,[O])},onLeaveCancelled(O){v(O),Vo(M,[O])}})}function i2(t){if(t==null)return null;if(Ht(t))return[eg(t.enter),eg(t.leave)];{const e=eg(t);return[e,e]}}function eg(t){return mf(t)}function $i(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Nl]||(t[Nl]=new Set)).add(e)}function Ws(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Nl];n&&(n.delete(e),n.size||(t[Nl]=void 0))}function Xw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let s2=0;function Jw(t,e,n,r){const i=t._endId=++s2,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=TC(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function TC(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${Fs}Delay`),s=r(`${Fs}Duration`),o=Zw(i,s),a=r(`${ku}Delay`),l=r(`${ku}Duration`),u=Zw(a,l);let c=null,h=0,f=0;e===Fs?o>0&&(c=Fs,h=o,f=s.length):e===ku?u>0&&(c=ku,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Fs:ku:null,f=c?c===Fs?s.length:l.length:0);const p=c===Fs&&/\b(transform|all)(,|$)/.test(r(`${Fs}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function Zw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>eT(n)+eT(t[r])))}function eT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function bv(){return document.body.offsetHeight}function o2(t,e,n){const r=t[Nl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Cf=Symbol("_vod"),EC=Symbol("_vsh"),oc={beforeMount(t,{value:e},{transition:n}){t[Cf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ru(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ru(t,!0),r.enter(t)):r.leave(t,()=>{Ru(t,!1)}):Ru(t,e))},beforeUnmount(t,{value:e}){Ru(t,e)}};function Ru(t,e){t.style.display=e?t[Cf]:"none",t[EC]=!e}function a2(){oc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const IC=Symbol("");function yre(t){const e=ei();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Of(s,i))},r=()=>{const i=t(e.proxy);e.ce?Of(e.ce,i):wv(e.subTree,i),n(i)};a_(()=>{bf(r)}),yn(()=>{In(r,li,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Sa(()=>i.disconnect())})}function wv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{wv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Of(t.el,e);else if(t.type===Me)t.children.forEach(n=>wv(n,e));else if(t.type===wl){let{el:n,anchor:r}=t;for(;n&&(Of(n,e),n!==r);)n=n.nextSibling}}function Of(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[IC]=r}}const l2=/(^|;)\s*display\s*:/;function u2(t,e,n){const r=t.style,i=Jt(n);let s=!1;if(n&&!i){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Jh(r,a,"")}else for(const o in e)n[o]==null&&Jh(r,o,"");for(const o in n)o==="display"&&(s=!0),Jh(r,o,n[o])}else if(i){if(e!==n){const o=r[IC];o&&(n+=";"+o),r.cssText=n,s=l2.test(n)}}else e&&t.removeAttribute("style");Cf in t&&(t[Cf]=s?r.display:"",t[EC]&&(r.display="none"))}const tT=/\s*!important$/;function Jh(t,e,n){if($e(n))n.forEach(r=>Jh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=c2(t,e);tT.test(n)?t.setProperty(Vr(r),n.replace(tT,""),"important"):t[r]=n}}const nT=["Webkit","Moz","ms"],tg={};function c2(t,e){const n=tg[e];if(n)return n;let r=yr(e);if(r!=="filter"&&r in t)return tg[e]=r;r=Ep(r);for(let i=0;i<nT.length;i++){const s=nT[i]+r;if(s in t)return tg[e]=s}return e}const rT="http://www.w3.org/1999/xlink";function iT(t,e,n,r,i,s=lM(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(rT,e.slice(6,e.length)):t.setAttributeNS(rT,e,n):n==null||s&&!tA(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Ri(n)?String(n):n)}function sT(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?yC(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=tA(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ps(t,e,n,r){t.addEventListener(e,n,r)}function d2(t,e,n,r){t.removeEventListener(e,n,r)}const oT=Symbol("_vei");function h2(t,e,n,r,i=null){const s=t[oT]||(t[oT]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=f2(e);if(r){const u=s[e]=g2(r,i);ps(t,a,u,l)}else o&&(d2(t,a,o,l),s[e]=void 0)}}const aT=/(?:Once|Passive|Capture)$/;function f2(t){let e;if(aT.test(t)){e={};let r;for(;r=t.match(aT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vr(t.slice(2)),e]}let ng=0;const p2=Promise.resolve(),m2=()=>ng||(p2.then(()=>ng=0),ng=Date.now());function g2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Di(v2(r,n.value),e,5,[r])};return n.value=t,n.attached=m2(),n}function v2(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const lT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,y2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?o2(t,r,o):e==="style"?u2(t,n,r):Td(e)?zy(e)||h2(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_2(t,e,r,o))?(sT(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&iT(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Jt(r))?sT(t,yr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),iT(t,e,r,o))};function _2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&lT(e)&&et(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return lT(e)&&Jt(n)?!1:e in t}const uT={};/*! #__NO_SIDE_EFFECTS__ */function b2(t,e,n){const r=Gt(t,e);wp(r)&&Kt(r,e);class i extends v_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const _re=(t,e)=>b2(t,e,V2),w2=typeof HTMLElement<"u"?HTMLElement:class{};class v_ extends w2{constructor(e,n={},r=Ev){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Ev?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof v_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Hn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!$e(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=mf(this._props[l])),(a||(a=Object.create(null)))[yr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)kt(this,r)||Object.defineProperty(this,r,{get:()=>Y(n[r])})}_resolveProps(e){const{props:n}=e,r=$e(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(yr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):uT;const i=yr(e);n&&this._numberProps&&this._numberProps[i]&&(r=mf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===uT?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Vr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Vr(e),n+""):n||this.removeAttribute(Vr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Vc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Je(this._def,Kt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,wp(o[0])?Kt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Vr(s)!==s&&i(Vr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function T2(t){const e=ei(),n=e&&e.ce;return n||null}function bre(){const t=T2();return t&&t.shadowRoot}function wre(t="$style"){{const e=ei();if(!e)return gt;const n=e.type.__cssModules;if(!n)return gt;const r=n[t];return r||gt}}const SC=new WeakMap,AC=new WeakMap,Pf=Symbol("_moveCb"),cT=Symbol("_enterCb"),E2=t=>(delete t.props.mode,t),I2=E2({name:"TransitionGroup",props:Kt({},bC,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ei(),r=LA();let i,s;return l_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!P2(i[0].el,n.vnode.el,o))return;i.forEach(A2),i.forEach(C2);const a=i.filter(O2);bv(),a.forEach(l=>{const u=l.el,c=u.style;$i(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[Pf]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[Pf]=null,Ws(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=mt(t),a=wC(o);let l=o.tag||Me;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),go(c,xc(c,a,r,n)),SC.set(c,c.el.getBoundingClientRect()))}s=e.default?s_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&go(c,xc(c,a,r,n))}return Je(l,null,s)}}}),S2=I2;function A2(t){const e=t.el;e[Pf]&&e[Pf](),e[cT]&&e[cT]()}function C2(t){AC.set(t,t.el.getBoundingClientRect())}function O2(t){const e=SC.get(t),n=AC.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function P2(t,e,n){const r=t.cloneNode(),i=t[Nl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=TC(r);return s.removeChild(r),o}const yo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>yl(e,n):e};function k2(t){t.target.composing=!0}function dT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ci=Symbol("_assign"),Tv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ci]=yo(i);const s=r||i.props&&i.props.type==="number";ps(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=pf(a)),t[ci](a)}),n&&ps(t,"change",()=>{t.value=t.value.trim()}),e||(ps(t,"compositionstart",k2),ps(t,"compositionend",dT),ps(t,"change",dT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[ci]=yo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?pf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},CC={deep:!0,created(t,e,n){t[ci]=yo(n),ps(t,"change",()=>{const r=t._modelValue,i=Ml(t),s=t.checked,o=t[ci];if($e(r)){const a=Sp(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ia(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(PC(t,s))})},mounted:hT,beforeUpdate(t,e,n){t[ci]=yo(n),hT(t,e,n)}};function hT(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if($e(e))i=Sp(e,r.props.value)>-1;else if(Ia(e))i=e.has(r.props.value);else{if(e===n)return;i=mo(e,PC(t,!0))}t.checked!==i&&(t.checked=i)}const OC={created(t,{value:e},n){t.checked=mo(e,n.props.value),t[ci]=yo(n),ps(t,"change",()=>{t[ci](Ml(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ci]=yo(r),e!==n&&(t.checked=mo(e,r.props.value))}},R2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ia(e);ps(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?pf(Ml(o)):Ml(o));t[ci](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Hn(()=>{t._assigning=!1})}),t[ci]=yo(r)},mounted(t,{value:e}){fT(t,e)},beforeUpdate(t,e,n){t[ci]=yo(n)},updated(t,{value:e}){t._assigning||fT(t,e)}};function fT(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!Ia(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Ml(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Sp(e,a)>-1}else o.selected=e.has(a);else if(mo(Ml(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ml(t){return"_value"in t?t._value:t.value}function PC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const D2={created(t,e,n){Th(t,e,n,null,"created")},mounted(t,e,n){Th(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Th(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Th(t,e,n,r,"updated")}};function kC(t,e){switch(t){case"SELECT":return R2;case"TEXTAREA":return Tv;default:switch(e){case"checkbox":return CC;case"radio":return OC;default:return Tv}}}function Th(t,e,n,r,i){const o=kC(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function x2(){Tv.getSSRProps=({value:t})=>({value:t}),OC.getSSRProps=({value:t},e)=>{if(e.props&&mo(e.props.value,t))return{checked:!0}},CC.getSSRProps=({value:t},e)=>{if($e(t)){if(e.props&&Sp(t,e.props.value)>-1)return{checked:!0}}else if(Ia(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},D2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=kC(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const N2=["ctrl","shift","alt","meta"],M2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>N2.some(n=>t[`${n}Key`]&&!e.includes(n))},Lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=M2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},L2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Vr(i.key);if(e.some(o=>o===s||L2[o]===s))return t(i)})},RC=Kt({patchProp:y2},n2);let ac,pT=!1;function DC(){return ac||(ac=CL(RC))}function xC(){return ac=pT?ac:OL(RC),pT=!0,ac}const Vc=(...t)=>{DC().render(...t)},Tre=(...t)=>{xC().hydrate(...t)},Ev=(...t)=>{const e=DC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=MC(r);if(!i)return;const s=e._component;!et(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,NC(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},V2=(...t)=>{const e=xC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=MC(r);if(i)return n(i,!0,NC(i))},e};function NC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function MC(t){return Jt(t)?document.querySelector(t):t}let mT=!1;const Ere=()=>{mT||(mT=!0,x2(),a2())};function F2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const kf=F2();let gT=0;const $2=()=>{const t=gT;return gT+=1,t},LC=()=>(t,e)=>{const n={...t,id:$2(),group:t.group||""};return kf.emit("notify",{notification:n,timeout:e}),()=>kf.emit("close",n.id)},VC="context",Iv=Gt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,i=Rr(VC),s=Dr({notifications:[],timeouts:{}}),o=le(()=>s.notifications.filter(p=>p.group===i.group)),a=le(()=>i.position==="bottom"?[...o.value]:[...o.value].reverse()),l=(p,g)=>{s.timeouts[p]=window.setTimeout(()=>{g!==-1&&u(p)},Math.max(g||3e3,0))},u=p=>{s.notifications.splice(s.notifications.findIndex(g=>g.id===p),1),clearTimeout(s.timeouts[p])},c=({notification:p,timeout:g})=>{s.notifications.length!==n.maxNotifications&&(s.notifications.push(p),l(p.id,g))},h=p=>{r("close"),u(p)},f=(p,g,w)=>{g?clearTimeout(s.timeouts[p]):l(p,w)};return yn(()=>{kf.on("notify",c),kf.on("close",u)}),(p,g)=>(q(),qe(S2,{"enter-active-class":o.value.length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[_e(p.$slots,"default",{notifications:a.value,close:h,hovering:f})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),vT=Gt({inheritAttrs:!1,__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return ic(VC,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:n.group})}});function U2(t){t.config.globalProperties.$notify=LC(),t.component("Notification",Iv),t.component("NotificationGroup",vT),t.component("notification",Iv),t.component("notificationGroup",vT)}const B2={install:U2},j2=LC(),H2={class:"px-4 py-2 -mx-3"},W2={class:"mx-3"},q2={class:"font-semibold text-white"},z2={class:"text-sm text-gray-100"},Eh=Gt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(q(),qe(Y(Iv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(q(!0),ee(Me,null,Ft(r,i=>(q(),ee("div",{key:i.id},[i.type===e.type?(q(),ee("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ae("div",H2,[Ae("div",W2,[Ae("span",q2,ht(i.title),1),Ae("p",z2,ht(i.text),1)])])],2)):de("",!0)]))),128))]),_:1}))}}),K2={class:"fixed z-50 inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},G2={class:"w-full max-w-sm"},Y2=Gt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Kr("NotificationGroup",!0);return q(),qe(r,null,{default:Qe(()=>[Ae("div",K2,[Ae("div",G2,[Je(Eh,{type:"success",color:"bg-green-800"}),Je(Eh,{type:"info",color:"bg-blue-500"}),Je(Eh,{type:"warning",color:"bg-yellow-800"}),Je(Eh,{type:"error",color:"bg-red-800"})])])]),_:1})}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Za=typeof document<"u";function FC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Q2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&FC(t.default)}const Mt=Object.assign;function rg(t,e){const n={};for(const r in e){const i=e[r];n[r]=xi(i)?i.map(t):t(i)}return n}const lc=()=>{},xi=Array.isArray,$C=/#/g,X2=/&/g,J2=/\//g,Z2=/=/g,eV=/\?/g,UC=/\+/g,tV=/%5B/g,nV=/%5D/g,BC=/%5E/g,rV=/%60/g,jC=/%7B/g,iV=/%7C/g,HC=/%7D/g,sV=/%20/g;function y_(t){return encodeURI(""+t).replace(iV,"|").replace(tV,"[").replace(nV,"]")}function oV(t){return y_(t).replace(jC,"{").replace(HC,"}").replace(BC,"^")}function Sv(t){return y_(t).replace(UC,"%2B").replace(sV,"+").replace($C,"%23").replace(X2,"%26").replace(rV,"`").replace(jC,"{").replace(HC,"}").replace(BC,"^")}function aV(t){return Sv(t).replace(Z2,"%3D")}function lV(t){return y_(t).replace($C,"%23").replace(eV,"%3F")}function uV(t){return t==null?"":lV(t).replace(J2,"%2F")}function Fc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const cV=/\/$/,dV=t=>t.replace(cV,"");function ig(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=mV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Fc(o)}}function hV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function yT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ll(e.matched[r],n.matched[i])&&WC(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ll(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function WC(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!pV(t[n],e[n]))return!1;return!0}function pV(t,e){return xi(t)?_T(t,e):xi(e)?_T(e,t):t===e}function _T(t,e){return xi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function mV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $c;(function(t){t.pop="pop",t.push="push"})($c||($c={}));var uc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(uc||(uc={}));function gV(t){if(!t)if(Za){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),dV(t)}const vV=/^[^#]+#/;function yV(t,e){return t.replace(vV,"#")+e}function _V(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Np=()=>({left:window.scrollX,top:window.scrollY});function bV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=_V(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function bT(t,e){return(history.state?history.state.position-e:-1)+t}const Av=new Map;function wV(t,e){Av.set(t,e)}function TV(t){const e=Av.get(t);return Av.delete(t),e}let EV=()=>location.protocol+"//"+location.host;function qC(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),yT(l,"")}return yT(n,t)+r+i}function IV(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=qC(t,location),g=n.value,w=e.value;let E=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}E=w?f.position-w.position:0}else r(p);i.forEach(k=>{k(n.value,g,{delta:E,type:$c.pop,direction:E?E>0?uc.forward:uc.back:uc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Mt({},f.state,{scroll:Np()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function wT(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Np():null}}function SV(t){const{history:e,location:n}=window,r={value:qC(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:EV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Mt({},e.state,wT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Mt({},i.value,e.state,{forward:l,scroll:Np()});s(c.current,c,!0);const h=Mt({},wT(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function AV(t){t=gV(t);const e=SV(t),n=IV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Mt({location:"",base:t,go:r,createHref:yV.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function CV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),AV(t)}function OV(t){return typeof t=="string"||t&&typeof t=="object"}function zC(t){return typeof t=="string"||typeof t=="symbol"}const KC=Symbol("");var TT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(TT||(TT={}));function Vl(t,e){return Mt(new Error,{type:t,[KC]:!0},e)}function us(t,e){return t instanceof Error&&KC in t&&(e==null||!!(t.type&e))}const ET="[^/]+?",PV={sensitive:!1,strict:!1,start:!0,end:!0},kV=/[.+*?^${}()[\]/\\]/g;function RV(t,e){const n=Mt({},PV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(kV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:w,optional:E,regexp:k}=f;s.push({name:g,repeatable:w,optional:E});const P=k||ET;if(P!==ET){p+=10;try{new RegExp(`(${P})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+y.message)}}let T=w?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(T=E&&u.length<2?`(?:/${T})`:"/"+T),E&&(T+="?"),i+=T,p+=20,E&&(p+=-8),w&&(p+=-20),P===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:w,optional:E}=p,k=g in u?u[g]:"";if(xi(k)&&!w)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=xi(k)?k.join("/"):k;if(!P)if(E)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=P}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function DV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function GC(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=DV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(IT(r))return 1;if(IT(i))return-1}return i.length-r.length}function IT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xV={type:0,value:""},NV=/[a-zA-Z0-9_]/;function MV(t){if(!t)return[[]];if(t==="/")return[[xV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:NV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function LV(t,e,n){const r=RV(MV(t.path),n),i=Mt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function VV(t,e){const n=[],r=new Map;e=OT({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,w=AT(h);w.aliasOf=p&&p.record;const E=OT(e,h),k=[w];if("alias"in h){const y=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of y)k.push(AT(Mt({},w,{components:p?p.record.components:w.components,path:M,aliasOf:p?p.record:w})))}let P,T;for(const y of k){const{path:M}=y;if(f&&M[0]!=="/"){const L=f.record.path,S=L[L.length-1]==="/"?"":"/";y.path=f.record.path+(M&&S+M)}if(P=LV(y,f,E),p?p.alias.push(P):(T=T||P,T!==P&&T.alias.push(P),g&&h.name&&!CT(P)&&o(h.name)),YC(P)&&l(P),w.children){const L=w.children;for(let S=0;S<L.length;S++)s(L[S],P,p&&p.children[S])}p=p||P}return T?()=>{o(T)}:lc}function o(h){if(zC(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=UV(h,n);n.splice(f,0,h),h.record.name&&!CT(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},w,E;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Vl(1,{location:h});E=p.record.name,g=Mt(ST(f.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&ST(h.params,p.keys.map(T=>T.name))),w=p.stringify(g)}else if(h.path!=null)w=h.path,p=n.find(T=>T.re.test(w)),p&&(g=p.parse(w),E=p.record.name);else{if(p=f.name?r.get(f.name):n.find(T=>T.re.test(f.path)),!p)throw Vl(1,{location:h,currentLocation:f});E=p.record.name,g=Mt({},f.params,h.params),w=p.stringify(g)}const k=[];let P=p;for(;P;)k.unshift(P.record),P=P.parent;return{name:E,path:w,params:g,matched:k,meta:$V(k)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function ST(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function AT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:FV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function FV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function CT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $V(t){return t.reduce((e,n)=>Mt(e,n.meta),{})}function OT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function UV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;GC(t,e[s])<0?r=s:n=s+1}const i=BV(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function BV(t){let e=t;for(;e=e.parent;)if(YC(e)&&GC(t,e)===0)return e}function YC({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function jV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(UC," "),o=s.indexOf("="),a=Fc(o<0?s:s.slice(0,o)),l=o<0?null:Fc(s.slice(o+1));if(a in e){let u=e[a];xi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function PT(t){let e="";for(let n in t){const r=t[n];if(n=aV(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(xi(r)?r.map(s=>s&&Sv(s)):[r&&Sv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function HV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=xi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const WV=Symbol(""),kT=Symbol(""),Mp=Symbol(""),__=Symbol(""),Cv=Symbol("");function Du(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Vl(4,{from:n,to:e})):f instanceof Error?l(f):OV(f)?l(Vl(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function sg(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(FC(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Qs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Q2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Qs(p,n,r,o,a,i)()}))}}return s}function RT(t){const e=Rr(Mp),n=Rr(__),r=le(()=>{const l=Y(t.to);return e.resolve(l)}),i=le(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Ll.bind(null,c));if(f>-1)return f;const p=DT(l[u-2]);return u>1&&DT(c)===p&&h[h.length-1].path!==p?h.findIndex(Ll.bind(null,l[u-2])):f}),s=le(()=>i.value>-1&&YV(n.params,r.value.params)),o=le(()=>i.value>-1&&i.value===n.matched.length-1&&WC(n.params,r.value.params));function a(l={}){if(GV(l)){const u=e[Y(t.replace)?"replace":"push"](Y(t.to)).catch(lc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function qV(t){return t.length===1?t[0]:t}const zV=Gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:RT,setup(t,{slots:e}){const n=Dr(RT(t)),{options:r}=Rr(Mp),i=le(()=>({[xT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[xT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&qV(e.default(n));return t.custom?s:xl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),KV=zV;function GV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function YV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!xi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function DT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const xT=(t,e,n)=>t??e??n,QV=Gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Rr(Cv),i=le(()=>t.route||r.value),s=Rr(kT,0),o=le(()=>{let u=Y(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=le(()=>i.value.matched[o.value]);ic(kT,le(()=>o.value+1)),ic(WV,a),ic(Cv,i);const l=he();return In(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Ll(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return NT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,E=xl(f,Mt({},g,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return NT(n.default,{Component:E,route:u})||E}}});function NT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const QC=QV;function XV(t){const e=VV(t.routes,t),n=t.parseQuery||jV,r=t.stringifyQuery||PT,i=t.history,s=Du(),o=Du(),a=Du(),l=TA($s);let u=$s;Za&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=rg.bind(null,Q=>""+Q),h=rg.bind(null,uV),f=rg.bind(null,Fc);function p(Q,ie){let X,ce;return zC(Q)?(X=e.getRecordMatcher(Q),ce=ie):ce=Q,e.addRoute(ce,X)}function g(Q){const ie=e.getRecordMatcher(Q);ie&&e.removeRoute(ie)}function w(){return e.getRoutes().map(Q=>Q.record)}function E(Q){return!!e.getRecordMatcher(Q)}function k(Q,ie){if(ie=Mt({},ie||l.value),typeof Q=="string"){const $=ig(n,Q,ie.path),H=e.resolve({path:$.path},ie),oe=i.createHref($.fullPath);return Mt($,H,{params:f(H.params),hash:Fc($.hash),redirectedFrom:void 0,href:oe})}let X;if(Q.path!=null)X=Mt({},Q,{path:ig(n,Q.path,ie.path).path});else{const $=Mt({},Q.params);for(const H in $)$[H]==null&&delete $[H];X=Mt({},Q,{params:h($)}),ie.params=h(ie.params)}const ce=e.resolve(X,ie),be=Q.hash||"";ce.params=c(f(ce.params));const ne=hV(r,Mt({},Q,{hash:oV(be),path:ce.path})),D=i.createHref(ne);return Mt({fullPath:ne,hash:be,query:r===PT?HV(Q.query):Q.query||{}},ce,{redirectedFrom:void 0,href:D})}function P(Q){return typeof Q=="string"?ig(n,Q,l.value.path):Mt({},Q)}function T(Q,ie){if(u!==Q)return Vl(8,{from:ie,to:Q})}function y(Q){return S(Q)}function M(Q){return y(Mt(P(Q),{replace:!0}))}function L(Q){const ie=Q.matched[Q.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let ce=typeof X=="function"?X(Q):X;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=P(ce):{path:ce},ce.params={}),Mt({query:Q.query,hash:Q.hash,params:ce.path!=null?{}:Q.params},ce)}}function S(Q,ie){const X=u=k(Q),ce=l.value,be=Q.state,ne=Q.force,D=Q.replace===!0,$=L(X);if($)return S(Mt(P($),{state:typeof $=="object"?Mt({},be,$.state):be,force:ne,replace:D}),ie||X);const H=X;H.redirectedFrom=ie;let oe;return!ne&&fV(r,ce,X)&&(oe=Vl(16,{to:H,from:ce}),K(ce,ce,!0,!1)),(oe?Promise.resolve(oe):v(H,ce)).catch(se=>us(se)?us(se,2)?se:C(se):U(se,H,ce)).then(se=>{if(se){if(us(se,2))return S(Mt({replace:D},P(se.to),{state:typeof se.to=="object"?Mt({},be,se.to.state):be,force:ne}),ie||H)}else se=O(H,ce,!0,D,be);return A(H,ce,se),se})}function I(Q,ie){const X=T(Q,ie);return X?Promise.reject(X):Promise.resolve()}function b(Q){const ie=fe.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(Q):Q()}function v(Q,ie){let X;const[ce,be,ne]=JV(Q,ie);X=sg(ce.reverse(),"beforeRouteLeave",Q,ie);for(const $ of ce)$.leaveGuards.forEach(H=>{X.push(Qs(H,Q,ie))});const D=I.bind(null,Q,ie);return X.push(D),W(X).then(()=>{X=[];for(const $ of s.list())X.push(Qs($,Q,ie));return X.push(D),W(X)}).then(()=>{X=sg(be,"beforeRouteUpdate",Q,ie);for(const $ of be)$.updateGuards.forEach(H=>{X.push(Qs(H,Q,ie))});return X.push(D),W(X)}).then(()=>{X=[];for(const $ of ne)if($.beforeEnter)if(xi($.beforeEnter))for(const H of $.beforeEnter)X.push(Qs(H,Q,ie));else X.push(Qs($.beforeEnter,Q,ie));return X.push(D),W(X)}).then(()=>(Q.matched.forEach($=>$.enterCallbacks={}),X=sg(ne,"beforeRouteEnter",Q,ie,b),X.push(D),W(X))).then(()=>{X=[];for(const $ of o.list())X.push(Qs($,Q,ie));return X.push(D),W(X)}).catch($=>us($,8)?$:Promise.reject($))}function A(Q,ie,X){a.list().forEach(ce=>b(()=>ce(Q,ie,X)))}function O(Q,ie,X,ce,be){const ne=T(Q,ie);if(ne)return ne;const D=ie===$s,$=Za?history.state:{};X&&(ce||D?i.replace(Q.fullPath,Mt({scroll:D&&$&&$.scroll},be)):i.push(Q.fullPath,be)),l.value=Q,K(Q,ie,X,D),C()}let R;function j(){R||(R=i.listen((Q,ie,X)=>{if(!Z.listening)return;const ce=k(Q),be=L(ce);if(be){S(Mt(be,{replace:!0,force:!0}),ce).catch(lc);return}u=ce;const ne=l.value;Za&&wV(bT(ne.fullPath,X.delta),Np()),v(ce,ne).catch(D=>us(D,12)?D:us(D,2)?(S(Mt(P(D.to),{force:!0}),ce).then($=>{us($,20)&&!X.delta&&X.type===$c.pop&&i.go(-1,!1)}).catch(lc),Promise.reject()):(X.delta&&i.go(-X.delta,!1),U(D,ce,ne))).then(D=>{D=D||O(ce,ne,!1),D&&(X.delta&&!us(D,8)?i.go(-X.delta,!1):X.type===$c.pop&&us(D,20)&&i.go(-1,!1)),A(ce,ne,D)}).catch(lc)}))}let V=Du(),B=Du(),F;function U(Q,ie,X){C(Q);const ce=B.list();return ce.length?ce.forEach(be=>be(Q,ie,X)):console.error(Q),Promise.reject(Q)}function x(){return F&&l.value!==$s?Promise.resolve():new Promise((Q,ie)=>{V.add([Q,ie])})}function C(Q){return F||(F=!Q,j(),V.list().forEach(([ie,X])=>Q?X(Q):ie()),V.reset()),Q}function K(Q,ie,X,ce){const{scrollBehavior:be}=t;if(!Za||!be)return Promise.resolve();const ne=!X&&TV(bT(Q.fullPath,0))||(ce||!X)&&history.state&&history.state.scroll||null;return Hn().then(()=>be(Q,ie,ne)).then(D=>D&&bV(D)).catch(D=>U(D,Q,ie))}const z=Q=>i.go(Q);let te;const fe=new Set,Z={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:w,resolve:k,options:t,push:y,replace:M,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:B.add,isReady:x,install(Q){const ie=this;Q.component("RouterLink",KV),Q.component("RouterView",QC),Q.config.globalProperties.$router=ie,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>Y(l)}),Za&&!te&&l.value===$s&&(te=!0,y(i.location).catch(be=>{}));const X={};for(const be in $s)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});Q.provide(Mp,ie),Q.provide(__,wA(X)),Q.provide(Cv,l);const ce=Q.unmount;fe.add(Q),Q.unmount=function(){fe.delete(Q),fe.size<1&&(u=$s,R&&R(),R=null,l.value=$s,te=!1,F=!1),ce()}}};function W(Q){return Q.reduce((ie,X)=>ie.then(()=>b(X)),Promise.resolve())}return Z}function JV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ll(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ll(u,l))||i.push(l))}return[n,r,i]}function Ire(){return Rr(Mp)}function Sre(t){return Rr(__)}const ZV=Gt({__name:"App",setup(t){return(e,n)=>(q(),ee(Me,null,[Je(Y(QC)),Je(Y2)],64))}});var MT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw ou(e)},ou=function(t){return new Error("Firebase Database ("+XC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Lp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new tF;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZC=function(t){const e=JC(t);return Lp.encodeByteArray(e,!0)},Rf=function(t){return ZC(t).replace(/\./g,"")},Df=function(t){try{return Lp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){return eO(void 0,t)}function eO(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rF(n)||(t[n]=eO(t[n],e[n]));return t}function rF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=()=>tO().__FIREBASE_DEFAULTS__,sF=()=>{if(typeof process>"u"||typeof MT>"u")return;const t=MT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Df(t[1]);return e&&JSON.parse(e)},Vp=()=>{try{return iF()||sF()||oF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aF=t=>{var e,n;return(n=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nO=t=>{const e=aF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rO=()=>{var t;return(t=Vp())===null||t===void 0?void 0:t.config},lF=t=>{var e;return(e=Vp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wr())}function uF(){var t;const e=(t=Vp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dF(){const t=wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aO(){return XC.NODE_ADMIN===!0}function hF(){return!uF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fp(){try{return typeof indexedDB=="object"}catch{return!1}}function lO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function fF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pF,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oo.prototype.create)}}class Oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ti(i,a,r)}}function mF(t,e){return t.replace(gF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return JSON.parse(t)}function Qn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Uc(Df(s[0])||""),n=Uc(Df(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},vF=function(t){const e=uO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yF=function(t){const e=uO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ov(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(LT(s)&&LT(o)){if(!Bc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function bF(t,e){const n=new wF(t,e);return n.subscribe.bind(n)}class wF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=og),i.error===void 0&&(i.error=og),i.complete===void 0&&(i.complete=og);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}function EF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$p=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=1e3,CF=2,OF=4*60*60*1e3,PF=.5;function Pv(t,e=AF,n=CF){const r=e*Math.pow(n,t),i=Math.round(PF*r*(Math.random()-.5)*2);return Math.min(OF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new la;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DF(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RF(t){return t===$o?void 0:t}function DF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const NF={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},MF=ft.INFO,LF={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},VF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lu{constructor(e){this.name=e,this._logLevel=MF,this._logHandler=VF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const FF=(t,e)=>e.some(n=>t instanceof n);let VT,FT;function $F(){return VT||(VT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UF(){return FT||(FT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cO=new WeakMap,kv=new WeakMap,dO=new WeakMap,ag=new WeakMap,w_=new WeakMap;function BF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(so(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cO.set(n,t)}).catch(()=>{}),w_.set(e,t),e}function jF(t){if(kv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kv.set(t,e)}let Rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HF(t){Rv=t(Rv)}function WF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lg(this),e,...n);return dO.set(r,e.sort?e.sort():[e]),so(r)}:UF().includes(t)?function(...e){return t.apply(lg(this),e),so(cO.get(this))}:function(...e){return so(t.apply(lg(this),e))}}function qF(t){return typeof t=="function"?WF(t):(t instanceof IDBTransaction&&jF(t),FF(t,$F())?new Proxy(t,Rv):t)}function so(t){if(t instanceof IDBRequest)return BF(t);if(ag.has(t))return ag.get(t);const e=qF(t);return e!==t&&(ag.set(t,e),w_.set(e,t)),e}const lg=t=>w_.get(t);function hO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=so(o);return r&&o.addEventListener("upgradeneeded",l=>{r(so(o.result),l.oldVersion,l.newVersion,so(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],ug=new Map;function $T(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ug.set(e,s),s}HF(t=>({...t,get:(e,n,r)=>$T(e,n)||t.get(e,n,r),has:(e,n)=>!!$T(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dv="@firebase/app",UT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new lu("@firebase/app"),QF="@firebase/app-compat",XF="@firebase/analytics-compat",JF="@firebase/analytics",ZF="@firebase/app-check-compat",e$="@firebase/app-check",t$="@firebase/auth",n$="@firebase/auth-compat",r$="@firebase/database",i$="@firebase/data-connect",s$="@firebase/database-compat",o$="@firebase/functions",a$="@firebase/functions-compat",l$="@firebase/installations",u$="@firebase/installations-compat",c$="@firebase/messaging",d$="@firebase/messaging-compat",h$="@firebase/performance",f$="@firebase/performance-compat",p$="@firebase/remote-config",m$="@firebase/remote-config-compat",g$="@firebase/storage",v$="@firebase/storage-compat",y$="@firebase/firestore",_$="@firebase/vertexai-preview",b$="@firebase/firestore-compat",w$="firebase",T$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="[DEFAULT]",E$={[Dv]:"fire-core",[QF]:"fire-core-compat",[JF]:"fire-analytics",[XF]:"fire-analytics-compat",[e$]:"fire-app-check",[ZF]:"fire-app-check-compat",[t$]:"fire-auth",[n$]:"fire-auth-compat",[r$]:"fire-rtdb",[i$]:"fire-data-connect",[s$]:"fire-rtdb-compat",[o$]:"fire-fn",[a$]:"fire-fn-compat",[l$]:"fire-iid",[u$]:"fire-iid-compat",[c$]:"fire-fcm",[d$]:"fire-fcm-compat",[h$]:"fire-perf",[f$]:"fire-perf-compat",[p$]:"fire-rc",[m$]:"fire-rc-compat",[g$]:"fire-gcs",[v$]:"fire-gcs-compat",[y$]:"fire-fst",[b$]:"fire-fst-compat",[_$]:"fire-vertex","fire-js":"fire-js",[w$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,I$=new Map,Nv=new Map;function BT(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hr(t){const e=t.name;if(Nv.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Nv.set(e,t);for(const n of Nf.values())BT(n,t);for(const n of I$.values())BT(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Oo("app","Firebase",S$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=T$;function fO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=rO()),!n)throw oo.create("no-options");const s=Nf.get(i);if(s){if(Bc(n,s.options)&&Bc(r,s.config))return s;throw oo.create("duplicate-app",{appName:i})}const o=new xF(i);for(const l of Nv.values())o.addComponent(l);const a=new A$(n,r,o);return Nf.set(i,a),a}function Cd(t=xv){const e=Nf.get(t);if(!e&&t===xv&&rO())return fO();if(!e)throw oo.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let i=(r=E$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(a.join(" "));return}Hr(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$="firebase-heartbeat-database",O$=1,jc="firebase-heartbeat-store";let cg=null;function pO(){return cg||(cg=hO(C$,O$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),cg}async function P$(t){try{const n=(await pO()).transaction(jc),r=await n.objectStore(jc).get(mO(t));return await n.done,r}catch(e){if(e instanceof ti)Ss.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function jT(t,e){try{const r=(await pO()).transaction(jc,"readwrite");await r.objectStore(jc).put(e,mO(t)),await r.done}catch(n){if(n instanceof ti)Ss.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function mO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=1024,R$=30*24*60*60*1e3;class D${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=R$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=HT(),{heartbeatsToSend:r,unsentEntries:i}=x$(this._heartbeatsCache.heartbeats),s=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ss.warn(n),""}}}function HT(){return new Date().toISOString().substring(0,10)}function x$(t,e=k$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fp()?lO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function WT(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){Hr(new xr("platform-logger",e=>new GF(e),"PRIVATE")),Hr(new xr("heartbeat",e=>new D$(e),"PRIVATE")),nr(Dv,UT,t),nr(Dv,UT,"esm2017"),nr("fire-js","")}M$("");const gO="@firebase/installations",T_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=1e4,yO=`w:${T_}`,_O="FIS_v2",L$="https://firebaseinstallations.googleapis.com/v1",V$=60*60*1e3,F$="installations",$$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ua=new Oo(F$,$$,U$);function bO(t){return t instanceof ti&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO({projectId:t}){return`${L$}/projects/${t}/installations`}function TO(t){return{token:t.token,requestStatus:2,expiresIn:j$(t.expiresIn),creationTime:Date.now()}}async function EO(t,e){const r=(await e.json()).error;return ua.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function IO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function B$(t,{refreshToken:e}){const n=IO(t);return n.append("Authorization",H$(e)),n}async function SO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function j$(t){return Number(t.replace("s","000"))}function H$(t){return`${_O} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wO(t),i=IO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:_O,appId:t.appId,sdkVersion:yO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await SO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:TO(u.authToken)}}else throw await EO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=/^[cdef][\w-]{21}$/,Mv="";function K$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=G$(t);return z$.test(n)?n:Mv}catch{return Mv}}function G$(t){return q$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new Map;function OO(t,e){const n=Up(t);PO(n,e),Y$(n,e)}function PO(t,e){const n=CO.get(t);if(n)for(const r of n)r(e)}function Y$(t,e){const n=Q$();n&&n.postMessage({key:t,fid:e}),X$()}let qo=null;function Q$(){return!qo&&"BroadcastChannel"in self&&(qo=new BroadcastChannel("[Firebase] FID Change"),qo.onmessage=t=>{PO(t.data.key,t.data.fid)}),qo}function X$(){CO.size===0&&qo&&(qo.close(),qo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="firebase-installations-database",Z$=1,ca="firebase-installations-store";let dg=null;function E_(){return dg||(dg=hO(J$,Z$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}})),dg}async function Mf(t,e){const n=Up(t),i=(await E_()).transaction(ca,"readwrite"),s=i.objectStore(ca),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&OO(t,e.fid),e}async function kO(t){const e=Up(t),r=(await E_()).transaction(ca,"readwrite");await r.objectStore(ca).delete(e),await r.done}async function Bp(t,e){const n=Up(t),i=(await E_()).transaction(ca,"readwrite"),s=i.objectStore(ca),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&OO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_(t){let e;const n=await Bp(t.appConfig,r=>{const i=e3(r),s=t3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Mv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function e3(t){const e=t||{fid:K$(),registrationStatus:0};return RO(e)}function t3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ua.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=n3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:r3(t)}:{installationEntry:e}}async function n3(t,e){try{const n=await W$(t,e);return Mf(t.appConfig,n)}catch(n){throw bO(n)&&n.customData.serverCode===409?await kO(t.appConfig):await Mf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function r3(t){let e=await qT(t.appConfig);for(;e.registrationStatus===1;)await AO(100),e=await qT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await I_(t);return r||n}return e}function qT(t){return Bp(t,e=>{if(!e)throw ua.create("installation-not-found");return RO(e)})}function RO(t){return i3(t)?{fid:t.fid,registrationStatus:0}:t}function i3(t){return t.registrationStatus===1&&t.registrationTime+vO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3({appConfig:t,heartbeatServiceProvider:e},n){const r=o3(t,n),i=B$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:yO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await SO(()=>fetch(r,a));if(l.ok){const u=await l.json();return TO(u)}else throw await EO("Generate Auth Token",l)}function o3(t,{fid:e}){return`${wO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_(t,e=!1){let n;const r=await Bp(t.appConfig,s=>{if(!DO(s))throw ua.create("not-registered");const o=s.authToken;if(!e&&u3(o))return s;if(o.requestStatus===1)return n=a3(t,e),s;{if(!navigator.onLine)throw ua.create("app-offline");const a=d3(s);return n=l3(t,a),a}});return n?await n:r.authToken}async function a3(t,e){let n=await zT(t.appConfig);for(;n.authToken.requestStatus===1;)await AO(100),n=await zT(t.appConfig);const r=n.authToken;return r.requestStatus===0?S_(t,e):r}function zT(t){return Bp(t,e=>{if(!DO(e))throw ua.create("not-registered");const n=e.authToken;return h3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function l3(t,e){try{const n=await s3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Mf(t.appConfig,r),n}catch(n){if(bO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mf(t.appConfig,r)}throw n}}function DO(t){return t!==void 0&&t.registrationStatus===2}function u3(t){return t.requestStatus===2&&!c3(t)}function c3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+V$}function d3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function h3(t){return t.requestStatus===1&&t.requestTime+vO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t){const e=t,{installationEntry:n,registrationPromise:r}=await I_(e);return r?r.catch(console.error):S_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e=!1){const n=t;return await m3(n),(await S_(n,e)).token}async function m3(t){const{registrationPromise:e}=await I_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){if(!t||!t.options)throw hg("App Configuration");if(!t.name)throw hg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hg(t){return ua.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="installations",v3="installations-internal",y3=t=>{const e=t.getProvider("app").getImmediate(),n=g3(e),r=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_3=t=>{const e=t.getProvider("app").getImmediate(),n=xs(e,xO).getImmediate();return{getId:()=>f3(n),getToken:i=>p3(n,i)}};function b3(){Hr(new xr(xO,y3,"PUBLIC")),Hr(new xr(v3,_3,"PRIVATE"))}b3();nr(gO,T_);nr(gO,T_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="analytics",w3="firebase_id",T3="origin",E3=60*1e3,I3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",A_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new lu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jr=new Oo("analytics","Analytics",S3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){if(!t.startsWith(A_)){const e=Jr.create("invalid-gtag-resource",{gtagURL:t});return Br.warn(e.message),""}return t}function NO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function C3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function O3(t,e){const n=C3("firebase-js-sdk-policy",{createScriptURL:A3}),r=document.createElement("script"),i=`${A_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function P3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function k3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await NO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Br.error(a)}t("config",i,s)}async function R3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await NO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Br.error(s)}}function D3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await R3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await k3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Br.error(a)}}return i}function x3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=D3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function N3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(A_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=30,L3=1e3;class V3{constructor(e={},n=L3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MO=new V3;function F3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:F3(r)},s=I3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function U3(t,e=MO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H3;return setTimeout(async()=>{a.abort()},n!==void 0?n:E3),LO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function LO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=MO){var s;const{appId:o,measurementId:a}=t;try{await B3(r,e)}catch(l){if(a)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await $3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!j3(u)){if(i.deleteThrottleMetadata(o),a)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Pv(n,i.intervalMillis,M3):Pv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Br.debug(`Calling attemptFetch again in ${c} millis`),LO(t,h,r,i)}}function B3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j3(t){if(!(t instanceof ti)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function W3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(){if(Fp())try{await lO()}catch(t){return Br.warn(Jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Br.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function z3(t,e,n,r,i,s,o){var a;const l=U3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Br.error(p)),e.push(l);const u=q3().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);N3(s)||O3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[T3]="firebase",f.update=!0,h!=null&&(f[w3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.app=e}_delete(){return delete cc[this.app.options.appId],Promise.resolve()}}let cc={},KT=[];const GT={};let fg="dataLayer",G3="gtag",YT,VO,QT=!1;function Y3(){const t=[];if(sO()&&t.push("This is a browser extension environment."),fF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jr.create("invalid-analytics-context",{errorInfo:e});Br.warn(n.message)}}function Q3(t,e,n){Y3();const r=t.options.appId;if(!r)throw Jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jr.create("no-api-key");if(cc[r]!=null)throw Jr.create("already-exists",{id:r});if(!QT){P3(fg);const{wrappedGtag:s,gtagCore:o}=x3(cc,KT,GT,fg,G3);VO=s,YT=o,QT=!0}return cc[r]=z3(t,KT,GT,e,YT,fg,n),new K3(t)}function FO(t=Cd()){t=Dt(t);const e=xs(t,Lf);return e.isInitialized()?e.getImmediate():X3(t)}function X3(t,e={}){const n=xs(t,Lf);if(n.isInitialized()){const i=n.getImmediate();if(Bc(e,n.getOptions()))return i;throw Jr.create("already-initialized")}return n.initialize({options:e})}function $O(t,e,n,r){t=Dt(t),W3(VO,cc[t.app.options.appId],e,n,r).catch(i=>Br.error(i))}const XT="@firebase/analytics",JT="0.10.8";function J3(){Hr(new xr(Lf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Q3(r,i,n)},"PUBLIC")),Hr(new xr("analytics-internal",t,"PRIVATE")),nr(XT,JT),nr(XT,JT,"esm2017");function t(e){try{const n=e.getProvider(Lf).getImmediate();return{logEvent:(r,i,s)=>$O(n,r,i,s)}}catch(n){throw Jr.create("interop-component-reg-failed",{reason:n})}}}J3();var Z3="firebase",eU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(Z3,eU,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map,UO={activated:!1,tokenObservers:[]},tU={initialized:!1,enabled:!1};function Vn(t){return Lv.get(t)||Object.assign({},UO)}function nU(t,e){return Lv.set(t,e),Lv.get(t)}function jp(){return tU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="https://content-firebaseappcheck.googleapis.com/v1",rU="exchangeRecaptchaV3Token",iU="exchangeDebugToken",ZT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},sU=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new la,this.pending.promise.catch(n=>{}),await aU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new la,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function aU(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$r=new Oo("appCheck","AppCheck",lU);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function C_(t){if(!Vn(t).activated)throw $r.create("use-before-activation",{appName:t.name})}function jO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Ih(n)+"d:"),r&&(o+=Ih(r)+"h:"),o+=Ih(i)+"m:"+Ih(s)+"s",o}function Ih(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw $r.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw $r.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw $r.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw $r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function uU(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${BO}/projects/${n}/apps/${r}:${rU}?key=${i}`,body:{recaptcha_v3_token:e}}}function HO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${BO}/projects/${n}/apps/${r}:${iU}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="firebase-app-check-database",dU=1,Hc="firebase-app-check-store",WO="debug-token";let Sh=null;function qO(){return Sh||(Sh=new Promise((t,e)=>{try{const n=indexedDB.open(cU,dU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($r.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Hc,{keyPath:"compositeKey"})}}}catch(n){e($r.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Sh)}function hU(t){return KO(GO(t))}function fU(t,e){return zO(GO(t),e)}function pU(t){return zO(WO,t)}function mU(){return KO(WO)}async function zO(t,e){const r=(await qO()).transaction(Hc,"readwrite"),s=r.objectStore(Hc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a($r.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function KO(t){const n=(await qO()).transaction(Hc,"readonly"),i=n.objectStore(Hc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o($r.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function GO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new lu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t){if(Fp()){let e;try{e=await hU(t)}catch(n){Wc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function pg(t,e){return Fp()?fU(t,e).catch(n=>{Wc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function vU(){let t;try{t=await mU()}catch{}if(t)return t;{const e=SF();return pU(e).catch(n=>Wc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(){return jp().enabled}async function k_(){const t=jp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function yU(){const t=tO(),e=jp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new la;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(vU())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U={error:"UNKNOWN_ERROR"};function bU(t){return Lp.encodeString(JSON.stringify(t),!1)}async function Vv(t,e=!1){const n=t.app;C_(n);const r=Vn(n);let i=r.token,s;if(i&&!al(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(al(l)?i=l:await pg(n,void 0))}if(!e&&i&&al(i))return{token:i.token};let o=!1;if(P_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=O_(HO(n,await k_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await pg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Vn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Wc.warn(l.message):Wc.error(l),s=l}let a;return i?s?al(i)?a={token:i.token,internalError:s}:a=n1(s):(a={token:i.token},r.token=i,await pg(n,i)):a=n1(s),o&&XO(n,a),a}async function wU(t){const e=t.app;C_(e);const{provider:n}=Vn(e);if(P_()){const r=await k_(),{token:i}=await O_(HO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function YO(t,e,n,r){const{app:i}=t,s=Vn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&al(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),t1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>t1(t))}function QO(t,e){const n=Vn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function t1(t){const{app:e}=t,n=Vn(e);let r=n.tokenRefresher;r||(r=TU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function TU(t){const{app:e}=t;return new oU(async()=>{const n=Vn(e);let r;if(n.token?r=await Vv(t,!0):r=await Vv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Vn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZT.RETRIAL_MIN_WAIT,ZT.RETRIAL_MAX_WAIT)}function XO(t,e){const n=Vn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function al(t){return t.expireTimeMillis-Date.now()>0}function n1(t){return{token:bU(_U),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Vn(this.app);for(const n of e)QO(this.app,n.next);return Promise.resolve()}}function IU(t,e){return new EU(t,e)}function SU(t){return{getToken:e=>Vv(t,e),getLimitedUseToken:()=>wU(t),addTokenListener:e=>YO(t,"INTERNAL",e),removeTokenListener:e=>QO(t.app,e)}}const AU="@firebase/app-check",CU="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="https://www.google.com/recaptcha/api.js";function PU(t,e){const n=new la,r=Vn(t);r.reCAPTCHAState={initialized:n};const i=kU(t),s=e1(!1);return s?r1(t,e,s,i,n):xU(()=>{const o=e1(!1);if(!o)throw new Error("no recaptcha");r1(t,e,o,i,n)}),n.promise}function r1(t,e,n,r,i){n.ready(()=>{DU(t,e,n,r),i.resolve(n)})}function kU(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function RU(t){C_(t);const n=await Vn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Vn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function DU(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Vn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Vn(t).reCAPTCHAState.succeeded=!1}}),s=Vn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function xU(t){const e=document.createElement("script");e.src=OU,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;MU(this._throttleData);const i=await RU(this._app).catch(o=>{throw $r.create("recaptcha-error")});if(!(!((e=Vn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw $r.create("recaptcha-error");let s;try{s=await O_(uU(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=NU(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$r.create("throttled",{time:jO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=xs(e,"heartbeat"),PU(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof R_?this._siteKey===e._siteKey:!1}}function NU(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+sU,httpStatus:t};{const n=e?e.backoffCount:0,r=Pv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function MU(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw $r.create("throttled",{time:jO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t=Cd(),e){t=Dt(t);const n=xs(t,"app-check");if(jp().initialized||yU(),P_()&&k_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw $r.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return VU(t,e.provider,e.isTokenAutoRefreshEnabled),Vn(t).isTokenAutoRefreshEnabled&&YO(r,"INTERNAL",()=>{}),r}function VU(t,e,n){const r=nU(t,Object.assign({},UO));r.activated=!0,r.provider=e,r.cachedTokenPromise=gU(t).then(i=>(i&&al(i)&&(r.token=i,XO(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const FU="app-check",i1="app-check-internal";function $U(){Hr(new xr(FU,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return IU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(i1).initialize()})),Hr(new xr(i1,t=>{const e=t.getProvider("app-check").getImmediate();return SU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nr(AU,CU)}$U();var hn=(t=>(t.CONTENT="content",t.PROJECTS="projects",t.MENU_ITEMS="menuItems",t.MENU_ITEMS_PRIVATE="menuItemsPrivate",t.BLOG_POSTS="blogPosts",t.BLOG_POSTS_PRIVATE="blogPostsPrivate",t.BLOG_REACTIONS="blogReactions",t.BLOG_REACTIONS_PRIVATE="blogReactionsPrivate",t.PETS="pets",t.USERS="users",t.USERS_PUBLIC="usersPublic",t.USERS_ONLINE="usersOnline",t.FILES="files",t.GAME_DATA="gameData",t.HIGHSCORES="highscores",t.SCORES="scores",t.ONLINE_GAMES="onlineGames",t))(hn||{});const UU={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},BU=t=>{LU(t,{provider:new R_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},jU=()=>{const t=fO(UU);return BU(t),FO(t),t},HU=jU();var WU=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let JO;const Hp=t=>JO=t,ZO=Symbol();function Fv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var dc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(dc||(dc={}));function qU(){const t=Qy(!0),e=t.run(()=>he({}));let n=[],r=[];const i=r_({install(s){Hp(i),i._a=s,s.provide(ZO,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!WU?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const eP=()=>{};function s1(t,e,n,r=eP){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Xy()&&sA(i),i}function qa(t,...e){t.slice().forEach(n=>{n(...e)})}const zU=t=>t(),o1=Symbol(),mg=Symbol();function $v(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Fv(i)&&Fv(r)&&t.hasOwnProperty(n)&&!an(r)&&!Yi(r)?t[n]=$v(i,r):t[n]=r}return t}const KU=Symbol();function GU(t){return!Fv(t)||!t.hasOwnProperty(KU)}const{assign:qs}=Object;function YU(t){return!!(an(t)&&t.effect)}function QU(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=xM(n.state.value[t]);return qs(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=r_(le(()=>{Hp(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=tP(t,u,e,n,r,!0),l}function tP(t,e,n={},r,i,s){let o;const a=qs({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),he({});let w;function E(I){let b;u=c=!1,typeof I=="function"?(I(r.state.value[t]),b={type:dc.patchFunction,storeId:t,events:p}):($v(r.state.value[t],I),b={type:dc.patchObject,payload:I,storeId:t,events:p});const v=w=Symbol();Hn().then(()=>{w===v&&(u=!0)}),c=!0,qa(h,b,r.state.value[t])}const k=s?function(){const{state:b}=n,v=b?b():{};this.$patch(A=>{qs(A,v)})}:eP;function P(){o.stop(),h=[],f=[],r._s.delete(t)}const T=(I,b="")=>{if(o1 in I)return I[mg]=b,I;const v=function(){Hp(r);const A=Array.from(arguments),O=[],R=[];function j(F){O.push(F)}function V(F){R.push(F)}qa(f,{args:A,name:v[mg],store:M,after:j,onError:V});let B;try{B=I.apply(this&&this.$id===t?this:M,A)}catch(F){throw qa(R,F),F}return B instanceof Promise?B.then(F=>(qa(O,F),F)).catch(F=>(qa(R,F),Promise.reject(F))):(qa(O,B),B)};return v[o1]=!0,v[mg]=b,v},y={_p:r,$id:t,$onAction:s1.bind(null,f),$patch:E,$reset:k,$subscribe(I,b={}){const v=s1(h,I,b.detached,()=>A()),A=o.run(()=>In(()=>r.state.value[t],O=>{(b.flush==="sync"?c:u)&&I({storeId:t,type:dc.direct,events:p},O)},qs({},l,b)));return v},$dispose:P},M=Dr(y);r._s.set(t,M);const S=(r._a&&r._a.runWithContext||zU)(()=>r._e.run(()=>(o=Qy()).run(()=>e({action:T}))));for(const I in S){const b=S[I];if(an(b)&&!YU(b)||Yi(b))s||(g&&GU(b)&&(an(b)?b.value=g[I]:$v(b,g[I])),r.state.value[t][I]=b);else if(typeof b=="function"){const v=T(b,I);S[I]=v,a.actions[I]=b}}return qs(M,S),qs(mt(M),S),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:I=>{E(b=>{qs(b,I)})}}),r._p.forEach(I=>{qs(M,o.run(()=>I({store:M,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),u=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function Ca(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=bL();return a=a||(u?Rr(ZO,null):null),a&&Hp(a),a=JO,a._s.has(r)||(s?tP(r,e,i,a):QU(r,i,a)),a._s.get(r)}return o.$id=r,o}function _o(t){{const e=mt(t),n={};for(const r in e){const i=e[r];i.effect?n[r]=le({get:()=>t[r],set(s){t[r]=s}}):(an(i)||Yi(i))&&(n[r]=kc(t,r))}return n}}const a1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var XU=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),a1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{a1(l,e)})})}};const nP=qU();nP.use(XU);const JU="modulepreload",ZU=function(t,e){return new URL(t,e).href},l1={},Wn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=ZU(o,r),o in l1)return;l1[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":JU,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,rP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function b(){}b.prototype=I.prototype,S.D=I.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(v,A,O){for(var R=Array(arguments.length-2),j=2;j<arguments.length;j++)R[j-2]=arguments[j];return I.prototype[A].apply(v,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,b){b||(b=0);var v=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)v[A]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(A=0;16>A;++A)v[A]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=S.g[0],b=S.g[1],A=S.g[2];var O=S.g[3],R=I+(O^b&(A^O))+v[0]+3614090360&4294967295;I=b+(R<<7&4294967295|R>>>25),R=O+(A^I&(b^A))+v[1]+3905402710&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(b^O&(I^b))+v[2]+606105819&4294967295,A=O+(R<<17&4294967295|R>>>15),R=b+(I^A&(O^I))+v[3]+3250441966&4294967295,b=A+(R<<22&4294967295|R>>>10),R=I+(O^b&(A^O))+v[4]+4118548399&4294967295,I=b+(R<<7&4294967295|R>>>25),R=O+(A^I&(b^A))+v[5]+1200080426&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(b^O&(I^b))+v[6]+2821735955&4294967295,A=O+(R<<17&4294967295|R>>>15),R=b+(I^A&(O^I))+v[7]+4249261313&4294967295,b=A+(R<<22&4294967295|R>>>10),R=I+(O^b&(A^O))+v[8]+1770035416&4294967295,I=b+(R<<7&4294967295|R>>>25),R=O+(A^I&(b^A))+v[9]+2336552879&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(b^O&(I^b))+v[10]+4294925233&4294967295,A=O+(R<<17&4294967295|R>>>15),R=b+(I^A&(O^I))+v[11]+2304563134&4294967295,b=A+(R<<22&4294967295|R>>>10),R=I+(O^b&(A^O))+v[12]+1804603682&4294967295,I=b+(R<<7&4294967295|R>>>25),R=O+(A^I&(b^A))+v[13]+4254626195&4294967295,O=I+(R<<12&4294967295|R>>>20),R=A+(b^O&(I^b))+v[14]+2792965006&4294967295,A=O+(R<<17&4294967295|R>>>15),R=b+(I^A&(O^I))+v[15]+1236535329&4294967295,b=A+(R<<22&4294967295|R>>>10),R=I+(A^O&(b^A))+v[1]+4129170786&4294967295,I=b+(R<<5&4294967295|R>>>27),R=O+(b^A&(I^b))+v[6]+3225465664&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^b&(O^I))+v[11]+643717713&4294967295,A=O+(R<<14&4294967295|R>>>18),R=b+(O^I&(A^O))+v[0]+3921069994&4294967295,b=A+(R<<20&4294967295|R>>>12),R=I+(A^O&(b^A))+v[5]+3593408605&4294967295,I=b+(R<<5&4294967295|R>>>27),R=O+(b^A&(I^b))+v[10]+38016083&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^b&(O^I))+v[15]+3634488961&4294967295,A=O+(R<<14&4294967295|R>>>18),R=b+(O^I&(A^O))+v[4]+3889429448&4294967295,b=A+(R<<20&4294967295|R>>>12),R=I+(A^O&(b^A))+v[9]+568446438&4294967295,I=b+(R<<5&4294967295|R>>>27),R=O+(b^A&(I^b))+v[14]+3275163606&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^b&(O^I))+v[3]+4107603335&4294967295,A=O+(R<<14&4294967295|R>>>18),R=b+(O^I&(A^O))+v[8]+1163531501&4294967295,b=A+(R<<20&4294967295|R>>>12),R=I+(A^O&(b^A))+v[13]+2850285829&4294967295,I=b+(R<<5&4294967295|R>>>27),R=O+(b^A&(I^b))+v[2]+4243563512&4294967295,O=I+(R<<9&4294967295|R>>>23),R=A+(I^b&(O^I))+v[7]+1735328473&4294967295,A=O+(R<<14&4294967295|R>>>18),R=b+(O^I&(A^O))+v[12]+2368359562&4294967295,b=A+(R<<20&4294967295|R>>>12),R=I+(b^A^O)+v[5]+4294588738&4294967295,I=b+(R<<4&4294967295|R>>>28),R=O+(I^b^A)+v[8]+2272392833&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^b)+v[11]+1839030562&4294967295,A=O+(R<<16&4294967295|R>>>16),R=b+(A^O^I)+v[14]+4259657740&4294967295,b=A+(R<<23&4294967295|R>>>9),R=I+(b^A^O)+v[1]+2763975236&4294967295,I=b+(R<<4&4294967295|R>>>28),R=O+(I^b^A)+v[4]+1272893353&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^b)+v[7]+4139469664&4294967295,A=O+(R<<16&4294967295|R>>>16),R=b+(A^O^I)+v[10]+3200236656&4294967295,b=A+(R<<23&4294967295|R>>>9),R=I+(b^A^O)+v[13]+681279174&4294967295,I=b+(R<<4&4294967295|R>>>28),R=O+(I^b^A)+v[0]+3936430074&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^b)+v[3]+3572445317&4294967295,A=O+(R<<16&4294967295|R>>>16),R=b+(A^O^I)+v[6]+76029189&4294967295,b=A+(R<<23&4294967295|R>>>9),R=I+(b^A^O)+v[9]+3654602809&4294967295,I=b+(R<<4&4294967295|R>>>28),R=O+(I^b^A)+v[12]+3873151461&4294967295,O=I+(R<<11&4294967295|R>>>21),R=A+(O^I^b)+v[15]+530742520&4294967295,A=O+(R<<16&4294967295|R>>>16),R=b+(A^O^I)+v[2]+3299628645&4294967295,b=A+(R<<23&4294967295|R>>>9),R=I+(A^(b|~O))+v[0]+4096336452&4294967295,I=b+(R<<6&4294967295|R>>>26),R=O+(b^(I|~A))+v[7]+1126891415&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~b))+v[14]+2878612391&4294967295,A=O+(R<<15&4294967295|R>>>17),R=b+(O^(A|~I))+v[5]+4237533241&4294967295,b=A+(R<<21&4294967295|R>>>11),R=I+(A^(b|~O))+v[12]+1700485571&4294967295,I=b+(R<<6&4294967295|R>>>26),R=O+(b^(I|~A))+v[3]+2399980690&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~b))+v[10]+4293915773&4294967295,A=O+(R<<15&4294967295|R>>>17),R=b+(O^(A|~I))+v[1]+2240044497&4294967295,b=A+(R<<21&4294967295|R>>>11),R=I+(A^(b|~O))+v[8]+1873313359&4294967295,I=b+(R<<6&4294967295|R>>>26),R=O+(b^(I|~A))+v[15]+4264355552&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~b))+v[6]+2734768916&4294967295,A=O+(R<<15&4294967295|R>>>17),R=b+(O^(A|~I))+v[13]+1309151649&4294967295,b=A+(R<<21&4294967295|R>>>11),R=I+(A^(b|~O))+v[4]+4149444226&4294967295,I=b+(R<<6&4294967295|R>>>26),R=O+(b^(I|~A))+v[11]+3174756917&4294967295,O=I+(R<<10&4294967295|R>>>22),R=A+(I^(O|~b))+v[2]+718787259&4294967295,A=O+(R<<15&4294967295|R>>>17),R=b+(O^(A|~I))+v[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var b=I-this.blockSize,v=this.B,A=this.h,O=0;O<I;){if(A==0)for(;O<=b;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<I;)if(v[A++]=S.charCodeAt(O++),A==this.blockSize){i(this,v),A=0;break}}else for(;O<I;)if(v[A++]=S[O++],A==this.blockSize){i(this,v),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var b=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=b&255,b/=256;for(this.u(S),S=Array(16),I=b=0;4>I;++I)for(var v=0;32>v;v+=8)S[b++]=this.g[I]>>>v&255;return S};function s(S,I){var b=a;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=I(S)}function o(S,I){this.h=I;for(var b=[],v=!0,A=S.length-1;0<=A;A--){var O=S[A]|0;v&&O==I||(b[A]=O,v=!1)}this.g=b}var a={};function l(S){return-128<=S&&128>S?s(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(u(-S));for(var I=[],b=1,v=0;S>=b;v++)I[v]=S/b|0,b*=4294967296;return new o(I,0)}function c(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return E(c(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(I,8)),v=h,A=0;A<S.length;A+=8){var O=Math.min(8,S.length-A),R=parseInt(S.substring(A,A+O),I);8>O?(O=u(Math.pow(I,O)),v=v.j(O).add(u(R))):(v=v.j(b),v=v.add(u(R)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var S=0,I=1,b=0;b<this.g.length;b++){var v=this.i(b);S+=(0<=v?v:4294967296+v)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(w(this))return"-"+E(this).toString(S);for(var I=u(Math.pow(S,6)),b=this,v="";;){var A=y(b,I).g;b=k(b,A.j(I));var O=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=A,g(b))return O+v;for(;6>O.length;)O="0"+O;v=O+v}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=k(this,S),w(S)?-1:g(S)?0:1};function E(S){for(var I=S.g.length,b=[],v=0;v<I;v++)b[v]=~S.g[v];return new o(b,~S.h).add(f)}t.abs=function(){return w(this)?E(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0,A=0;A<=I;A++){var O=v+(this.i(A)&65535)+(S.i(A)&65535),R=(O>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);v=R>>>16,O&=65535,R&=65535,b[A]=R<<16|O}return new o(b,b[b.length-1]&-2147483648?-1:0)};function k(S,I){return S.add(E(I))}t.j=function(S){if(g(this)||g(S))return h;if(w(this))return w(S)?E(this).j(E(S)):E(E(this).j(S));if(w(S))return E(this.j(E(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,b=[],v=0;v<2*I;v++)b[v]=0;for(v=0;v<this.g.length;v++)for(var A=0;A<S.g.length;A++){var O=this.i(v)>>>16,R=this.i(v)&65535,j=S.i(A)>>>16,V=S.i(A)&65535;b[2*v+2*A]+=R*V,P(b,2*v+2*A),b[2*v+2*A+1]+=O*V,P(b,2*v+2*A+1),b[2*v+2*A+1]+=R*j,P(b,2*v+2*A+1),b[2*v+2*A+2]+=O*j,P(b,2*v+2*A+2)}for(v=0;v<I;v++)b[v]=b[2*v+1]<<16|b[2*v];for(v=I;v<2*I;v++)b[v]=0;return new o(b,0)};function P(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function T(S,I){this.g=S,this.h=I}function y(S,I){if(g(I))throw Error("division by zero");if(g(S))return new T(h,h);if(w(S))return I=y(E(S),I),new T(E(I.g),E(I.h));if(w(I))return I=y(S,E(I)),new T(E(I.g),I.h);if(30<S.g.length){if(w(S)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var b=f,v=I;0>=v.l(S);)b=M(b),v=M(v);var A=L(b,1),O=L(v,1);for(v=L(v,2),b=L(b,2);!g(v);){var R=O.add(v);0>=R.l(S)&&(A=A.add(b),O=R),v=L(v,1),b=L(b,1)}return I=k(S,A.j(I)),new T(A,I)}for(A=h;0<=S.l(I);){for(b=Math.max(1,Math.floor(S.m()/I.m())),v=Math.ceil(Math.log(b)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),O=u(b),R=O.j(I);w(R)||0<R.l(S);)b-=v,O=u(b),R=O.j(I);g(O)&&(O=f),A=A.add(O),S=k(S,R)}return new T(A,S)}t.A=function(S){return y(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0;v<I;v++)b[v]=this.i(v)&S.i(v);return new o(b,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0;v<I;v++)b[v]=this.i(v)|S.i(v);return new o(b,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),b=[],v=0;v<I;v++)b[v]=this.i(v)^S.i(v);return new o(b,this.h^S.h)};function M(S){for(var I=S.g.length+1,b=[],v=0;v<I;v++)b[v]=S.i(v)<<1|S.i(v-1)>>>31;return new o(b,S.h)}function L(S,I){var b=I>>5;I%=32;for(var v=S.g.length-b,A=[],O=0;O<v;O++)A[O]=0<I?S.i(O+b)>>>I|S.i(O+b+1)<<32-I:S.i(O+b);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Zo=o}).apply(typeof u1<"u"?u1:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iP,Yu,sP,Zh,Uv,oP,aP,lP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,_){return d==Array.prototype||d==Object.prototype||(d[m]=_.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var m=0;m<d.length;++m){var _=d[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var _=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in _))break e;_=_[J]}d=d[d.length-1],N=_[d],m=m(N),m!=N&&m!=null&&e(_,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var _=0,N=!1,J={next:function(){if(!N&&_<d.length){var re=_++;return{value:m(re,d[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,_){return d.call.apply(d.bind,arguments)}function h(d,m,_){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),d.apply(m,J)}}return function(){return d.apply(m,arguments)}}function f(d,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function g(d,m){function _(){}_.prototype=m.prototype,d.aa=m.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(N,J,re){for(var Ce=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)Ce[Wt-2]=arguments[Wt];return m.prototype[J].apply(N,Ce)}}function w(d){const m=d.length;if(0<m){const _=Array(m);for(let N=0;N<m;N++)_[N]=d[N];return _}return[]}function E(d,m){for(let _=1;_<arguments.length;_++){const N=arguments[_];if(l(N)){const J=d.length||0,re=N.length||0;d.length=J+re;for(let Ce=0;Ce<re;Ce++)d[J+Ce]=N[Ce]}else d.push(N)}}class k{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function y(d){return y[" "](d),d}y[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(d,m,_){for(const N in d)m.call(_,d[N],N,d)}function S(d,m){for(const _ in d)m.call(void 0,d[_],_,d)}function I(d){const m={};for(const _ in d)m[_]=d[_];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let _,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(_ in N)d[_]=N[_];for(let re=0;re<b.length;re++)_=b[re],Object.prototype.hasOwnProperty.call(N,_)&&(d[_]=N[_])}}function A(d){var m=1;d=d.split(":");const _=[];for(;0<m&&d.length;)_.push(d.shift()),m--;return d.length&&_.push(d.join(":")),_}function O(d){a.setTimeout(()=>{throw d},0)}function R(){var d=x;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class j{constructor(){this.h=this.g=null}add(m,_){const N=V.get();N.set(m,_),this.h?this.h.next=N:this.g=N,this.h=N}}var V=new k(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,x=new j,C=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(K)}};var K=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(_){O(_)}var m=V;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}U=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return d}();function Z(d,m){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(M){e:{try{y(m.nodeName);var J=!0;break e}catch{}J=!1}J||(m=null)}}else _=="mouseover"?m=d.fromElement:_=="mouseout"&&(m=d.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:W[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}g(Z,te);var W={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function X(d,m,_,N,J){this.listener=d,this.proxy=null,this.src=m,this.type=_,this.capture=!!N,this.ha=J,this.key=++ie,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,_,N,J){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var Ce=D(d,m,N,J);return-1<Ce?(m=d[Ce],_||(m.fa=!1)):(m=new X(m,this.src,re,!!N,J),m.fa=_,d.push(m)),m};function ne(d,m){var _=m.type;if(_ in d.g){var N=d.g[_],J=Array.prototype.indexOf.call(N,m,void 0),re;(re=0<=J)&&Array.prototype.splice.call(N,J,1),re&&(ce(m),d.g[_].length==0&&(delete d.g[_],d.h--))}}function D(d,m,_,N){for(var J=0;J<d.length;++J){var re=d[J];if(!re.da&&re.listener==m&&re.capture==!!_&&re.ha==N)return J}return-1}var $="closure_lm_"+(1e6*Math.random()|0),H={};function oe(d,m,_,N,J){if(N&&N.once)return Se(d,m,_,N,J);if(Array.isArray(m)){for(var re=0;re<m.length;re++)oe(d,m[re],_,N,J);return null}return _=Ye(_),d&&d[Q]?d.K(m,_,u(N)?!!N.capture:!!N,J):se(d,m,_,!1,N,J)}function se(d,m,_,N,J,re){if(!m)throw Error("Invalid event type");var Ce=u(J)?!!J.capture:!!J,Wt=Ie(d);if(Wt||(d[$]=Wt=new be(d)),_=Wt.add(m,_,N,Ce,re),_.proxy)return _;if(N=me(),_.proxy=N,N.src=d,N.listener=_,d.addEventListener)fe||(J=Ce),J===void 0&&(J=!1),d.addEventListener(m.toString(),N,J);else if(d.attachEvent)d.attachEvent(ge(m.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function me(){function d(_){return m.call(d.src,d.listener,_)}const m=He;return d}function Se(d,m,_,N,J){if(Array.isArray(m)){for(var re=0;re<m.length;re++)Se(d,m[re],_,N,J);return null}return _=Ye(_),d&&d[Q]?d.L(m,_,u(N)?!!N.capture:!!N,J):se(d,m,_,!0,N,J)}function Ee(d,m,_,N,J){if(Array.isArray(m))for(var re=0;re<m.length;re++)Ee(d,m[re],_,N,J);else N=u(N)?!!N.capture:!!N,_=Ye(_),d&&d[Q]?(d=d.i,m=String(m).toString(),m in d.g&&(re=d.g[m],_=D(re,_,N,J),-1<_&&(ce(re[_]),Array.prototype.splice.call(re,_,1),re.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=D(m,_,N,J)),(_=-1<d?m[d]:null)&&Te(_))}function Te(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Q])ne(m.i,d);else{var _=d.type,N=d.proxy;m.removeEventListener?m.removeEventListener(_,N,d.capture):m.detachEvent?m.detachEvent(ge(_),N):m.addListener&&m.removeListener&&m.removeListener(N),(_=Ie(m))?(ne(_,d),_.h==0&&(_.src=null,m[$]=null)):ce(d)}}}function ge(d){return d in H?H[d]:H[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new Z(m,this);var _=d.listener,N=d.ha||d.src;d.fa&&Te(d),d=_.call(N,m)}return d}function Ie(d){return d=d[$],d instanceof be?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(m){return d.handleEvent(m)}),d[Fe])}function Ke(){z.call(this),this.i=new be(this),this.M=this,this.F=null}g(Ke,z),Ke.prototype[Q]=!0,Ke.prototype.removeEventListener=function(d,m,_,N){Ee(this,d,m,_,N)};function G(d,m){var _,N=d.F;if(N)for(_=[];N;N=N.F)_.push(N);if(d=d.M,N=m.type||m,typeof m=="string")m=new te(m,d);else if(m instanceof te)m.target=m.target||d;else{var J=m;m=new te(N,d),v(m,J)}if(J=!0,_)for(var re=_.length-1;0<=re;re--){var Ce=m.g=_[re];J=ae(Ce,N,!0,m)&&J}if(Ce=m.g=d,J=ae(Ce,N,!0,m)&&J,J=ae(Ce,N,!1,m)&&J,_)for(re=0;re<_.length;re++)Ce=m.g=_[re],J=ae(Ce,N,!1,m)&&J}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var _=d.g[m],N=0;N<_.length;N++)ce(_[N]);delete d.g[m],d.h--}}this.F=null},Ke.prototype.K=function(d,m,_,N){return this.i.add(String(d),m,!1,_,N)},Ke.prototype.L=function(d,m,_,N){return this.i.add(String(d),m,!0,_,N)};function ae(d,m,_,N){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var J=!0,re=0;re<m.length;++re){var Ce=m[re];if(Ce&&!Ce.da&&Ce.capture==_){var Wt=Ce.listener,Kn=Ce.ha||Ce.src;Ce.fa&&ne(d.i,Ce),J=Wt.call(Kn,N)!==!1&&J}}return J&&!N.defaultPrevented}function Ne(d,m,_){if(typeof d=="function")_&&(d=f(d,_));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=Ne(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class dt extends z{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(d){z.call(this),this.h=d,this.g={}}g(Nt,z);var qn=[];function Oe(d){L(d.g,function(m,_){this.g.hasOwnProperty(_)&&Te(m)},d),d.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),Oe(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,zn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Wr(){}Wr.prototype.h=null;function Fa(d){return d.h||(d.h=d.i())}function $b(){}var vu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rm(){te.call(this,"d")}g(Rm,te);function Dm(){te.call(this,"c")}g(Dm,te);var Do={},Ub=null;function Jd(){return Ub=Ub||new Ke}Do.La="serverreachability";function Bb(d){te.call(this,Do.La,d)}g(Bb,te);function yu(d){const m=Jd();G(m,new Bb(m))}Do.STAT_EVENT="statevent";function jb(d,m){te.call(this,Do.STAT_EVENT,d),this.stat=m}g(jb,te);function Tr(d){const m=Jd();G(m,new jb(m,d))}Do.Ma="timingevent";function Hb(d,m){te.call(this,Do.Ma,d),this.size=m}g(Hb,te);function _u(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function bu(){this.g=!0}bu.prototype.xa=function(){this.g=!1};function IN(d,m,_,N,J,re){d.info(function(){if(d.g)if(re)for(var Ce="",Wt=re.split("&"),Kn=0;Kn<Wt.length;Kn++){var At=Wt[Kn].split("=");if(1<At.length){var sr=At[0];At=At[1];var or=sr.split("_");Ce=2<=or.length&&or[1]=="type"?Ce+(sr+"="+At+"&"):Ce+(sr+"=redacted&")}}else Ce=null;else Ce=re;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+m+`
`+_+`
`+Ce})}function SN(d,m,_,N,J,re,Ce){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+m+`
`+_+`
`+re+" "+Ce})}function $a(d,m,_,N){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+CN(d,_)+(N?" "+N:"")})}function AN(d,m){d.info(function(){return"TIMEOUT: "+m})}bu.prototype.info=function(){};function CN(d,m){if(!d.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var N=_[d];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var Ce=1;Ce<J.length;Ce++)J[Ce]=""}}}}return Be(_)}catch{return m}}var Zd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xm;function eh(){}g(eh,Wr),eh.prototype.g=function(){return new XMLHttpRequest},eh.prototype.i=function(){return{}},xm=new eh;function Ms(d,m,_,N){this.j=d,this.i=m,this.l=_,this.R=N||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qb}function qb(){this.i=null,this.g="",this.h=!1}var zb={},Nm={};function Mm(d,m,_){d.L=1,d.v=ih(os(m)),d.m=_,d.P=!0,Kb(d,null)}function Kb(d,m){d.F=Date.now(),th(d),d.A=os(d.v);var _=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),aw(_.i,"t",N),d.C=0,_=d.j.J,d.h=new qb,d.g=Sw(d.j,_?m:null,!d.m),0<d.O&&(d.M=new dt(f(d.Y,d,d.g),d.O)),m=d.U,_=d.g,N=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(qn[0]=J.toString()),J=qn);for(var re=0;re<J.length;re++){var Ce=oe(_,J[re],N||m.handleEvent,!1,m.h||m);if(!Ce)break;m.g[Ce.key]=Ce}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),yu(),IN(d.i,d.u,d.A,d.l,d.R,d.m)}Ms.prototype.ca=function(d){d=d.target;const m=this.M;m&&as(d)==3?m.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const or=as(this.g);var m=this.g.Ba();const ja=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||pw(this.g)))){this.J||or!=4||m==7||(m==8||0>=ja?yu(3):yu(2)),Lm(this);var _=this.g.Z();this.X=_;t:if(Gb(this)){var N=pw(this.g);d="";var J=N.length,re=as(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),wu(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(m=0;m<J;m++)this.h.h=!0,d+=this.h.i.decode(N[m],{stream:!(re&&m==J-1)});N.length=0,this.h.g+=d,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=_==200,SN(this.i,this.u,this.A,this.l,this.R,or,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Kn=this.g;if((Wt=Kn.g?Kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Wt)){var At=Wt;break t}}At=null}if(_=At)$a(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vm(this,_);else{this.o=!1,this.s=3,Tr(12),xo(this),wu(this);break e}}if(this.P){_=!0;let gi;for(;!this.J&&this.C<Ce.length;)if(gi=ON(this,Ce),gi==Nm){or==4&&(this.s=4,Tr(14),_=!1),$a(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==zb){this.s=4,Tr(15),$a(this.i,this.l,Ce,"[Invalid Chunk]"),_=!1;break}else $a(this.i,this.l,gi,null),Vm(this,gi);if(Gb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||Ce.length!=0||this.h.h||(this.s=1,Tr(16),_=!1),this.o=this.o&&_,!_)$a(this.i,this.l,Ce,"[Invalid Chunked Response]"),xo(this),wu(this);else if(0<Ce.length&&!this.W){this.W=!0;var sr=this.j;sr.g==this&&sr.ba&&!sr.M&&(sr.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),Hm(sr),sr.M=!0,Tr(11))}}else $a(this.i,this.l,Ce,null),Vm(this,Ce);or==4&&xo(this),this.o&&!this.J&&(or==4?ww(this.j,this):(this.o=!1,th(this)))}else qN(this.g),_==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),xo(this),wu(this)}}}catch{}finally{}};function Gb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ON(d,m){var _=d.C,N=m.indexOf(`
`,_);return N==-1?Nm:(_=Number(m.substring(_,N)),isNaN(_)?zb:(N+=1,N+_>m.length?Nm:(m=m.slice(N,N+_),d.C=N+_,m)))}Ms.prototype.cancel=function(){this.J=!0,xo(this)};function th(d){d.S=Date.now()+d.I,Yb(d,d.I)}function Yb(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_u(f(d.ba,d),m)}function Lm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ms.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(AN(this.i,this.A),this.L!=2&&(yu(),Tr(17)),xo(this),this.s=2,wu(this)):Yb(this,this.S-d)};function wu(d){d.j.G==0||d.J||ww(d.j,d)}function xo(d){Lm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Vm(d,m){try{var _=d.j;if(_.G!=0&&(_.g==d||Fm(_.h,d))){if(!d.K&&Fm(_.h,d)&&_.G==3){try{var N=_.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)ch(_),lh(_);else break e;jm(_),Tr(18)}}else _.za=J[1],0<_.za-_.T&&37500>J[2]&&_.F&&_.v==0&&!_.C&&(_.C=_u(f(_.Za,_),6e3));if(1>=Jb(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mo(_,11)}else if((d.K||_.g==d)&&ch(_),!P(m))for(J=_.Da.g.parse(m),m=0;m<J.length;m++){let At=J[m];if(_.T=At[0],At=At[1],_.G==2)if(At[0]=="c"){_.K=At[1],_.ia=At[2];const sr=At[3];sr!=null&&(_.la=sr,_.j.info("VER="+_.la));const or=At[4];or!=null&&(_.Aa=or,_.j.info("SVER="+_.Aa));const ja=At[5];ja!=null&&typeof ja=="number"&&0<ja&&(N=1.5*ja,_.L=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const gi=d.g;if(gi){const hh=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hh){var re=N.h;re.g||hh.indexOf("spdy")==-1&&hh.indexOf("quic")==-1&&hh.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&($m(re,re.h),re.h=null))}if(N.D){const Wm=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Wm&&(N.ya=Wm,Zt(N.I,N.D,Wm))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),N=_;var Ce=d;if(N.qa=Iw(N,N.J?N.ia:null,N.W),Ce.K){Zb(N.h,Ce);var Wt=Ce,Kn=N.L;Kn&&(Wt.I=Kn),Wt.B&&(Lm(Wt),th(Wt)),N.g=Ce}else _w(N);0<_.i.length&&uh(_)}else At[0]!="stop"&&At[0]!="close"||Mo(_,7);else _.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Mo(_,7):Bm(_):At[0]!="noop"&&_.l&&_.l.ta(At),_.v=0)}}yu(4)}catch{}}var PN=class{constructor(d,m){this.g=d,this.map=m}};function Qb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Jb(d){return d.h?1:d.g?d.g.size:0}function Fm(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function $m(d,m){d.g?d.g.add(m):d.h=m}function Zb(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Qb.prototype.cancel=function(){if(this.i=ew(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ew(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const _ of d.g.values())m=m.concat(_.D);return m}return w(d.i)}function kN(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],_=d.length,N=0;N<_;N++)m.push(d[N]);return m}m=[],_=0;for(N in d)m[_++]=d[N];return m}function RN(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var _=0;_<d;_++)m.push(_);return m}m=[],_=0;for(const N in d)m[_++]=N;return m}}}function tw(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var _=RN(d),N=kN(d),J=N.length,re=0;re<J;re++)m.call(void 0,N[re],_&&_[re],d)}var nw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DN(d,m){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var N=d[_].indexOf("="),J=null;if(0<=N){var re=d[_].substring(0,N);J=d[_].substring(N+1)}else re=d[_];m(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function No(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof No){this.h=d.h,nh(this,d.j),this.o=d.o,this.g=d.g,rh(this,d.s),this.l=d.l;var m=d.i,_=new Iu;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),rw(this,_),this.m=d.m}else d&&(m=String(d).match(nw))?(this.h=!1,nh(this,m[1]||"",!0),this.o=Tu(m[2]||""),this.g=Tu(m[3]||"",!0),rh(this,m[4]),this.l=Tu(m[5]||"",!0),rw(this,m[6]||"",!0),this.m=Tu(m[7]||"")):(this.h=!1,this.i=new Iu(null,this.h))}No.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Eu(m,iw,!0),":");var _=this.g;return(_||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Eu(m,iw,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(Eu(_,_.charAt(0)=="/"?MN:NN,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Eu(_,VN)),d.join("")};function os(d){return new No(d)}function nh(d,m,_){d.j=_?Tu(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function rh(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function rw(d,m,_){m instanceof Iu?(d.i=m,FN(d.i,d.h)):(_||(m=Eu(m,LN)),d.i=new Iu(m,d.h))}function Zt(d,m,_){d.i.set(m,_)}function ih(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tu(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Eu(d,m,_){return typeof d=="string"?(d=encodeURI(d).replace(m,xN),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xN(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var iw=/[#\/\?@]/g,NN=/[#\?:]/g,MN=/[#\?]/g,LN=/[#\?@]/g,VN=/#/g;function Iu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ls(d){d.g||(d.g=new Map,d.h=0,d.i&&DN(d.i,function(m,_){d.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Iu.prototype,t.add=function(d,m){Ls(this),this.i=null,d=Ua(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(m),this.h+=1,this};function sw(d,m){Ls(d),m=Ua(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function ow(d,m){return Ls(d),m=Ua(d,m),d.g.has(m)}t.forEach=function(d,m){Ls(this),this.g.forEach(function(_,N){_.forEach(function(J){d.call(m,J,N,this)},this)},this)},t.na=function(){Ls(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let N=0;N<m.length;N++){const J=d[N];for(let re=0;re<J.length;re++)_.push(m[N])}return _},t.V=function(d){Ls(this);let m=[];if(typeof d=="string")ow(this,d)&&(m=m.concat(this.g.get(Ua(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)m=m.concat(d[_])}return m},t.set=function(d,m){return Ls(this),this.i=null,d=Ua(this,d),ow(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function aw(d,m,_){sw(d,m),0<_.length&&(d.i=null,d.g.set(Ua(d,m),w(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var N=m[_];const re=encodeURIComponent(String(N)),Ce=this.V(N);for(N=0;N<Ce.length;N++){var J=re;Ce[N]!==""&&(J+="="+encodeURIComponent(String(Ce[N]))),d.push(J)}}return this.i=d.join("&")};function Ua(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function FN(d,m){m&&!d.j&&(Ls(d),d.i=null,d.g.forEach(function(_,N){var J=N.toLowerCase();N!=J&&(sw(this,N),aw(this,J,_))},d)),d.j=m}function $N(d,m){const _=new bu;if(a.Image){const N=new Image;N.onload=p(Vs,_,"TestLoadImage: loaded",!0,m,N),N.onerror=p(Vs,_,"TestLoadImage: error",!1,m,N),N.onabort=p(Vs,_,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(Vs,_,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else m(!1)}function UN(d,m){const _=new bu,N=new AbortController,J=setTimeout(()=>{N.abort(),Vs(_,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:N.signal}).then(re=>{clearTimeout(J),re.ok?Vs(_,"TestPingServer: ok",!0,m):Vs(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(J),Vs(_,"TestPingServer: error",!1,m)})}function Vs(d,m,_,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(_)}catch{}}function BN(){this.g=new zn}function jN(d,m,_){const N=_||"";try{tw(d,function(J,re){let Ce=J;u(J)&&(Ce=Be(J)),m.push(N+re+"="+encodeURIComponent(Ce))})}catch(J){throw m.push(N+"type="+encodeURIComponent("_badmap")),J}}function sh(d){this.l=d.Ub||null,this.j=d.eb||!1}g(sh,Wr),sh.prototype.g=function(){return new oh(this.l,this.j)},sh.prototype.i=function(d){return function(){return d}}({});function oh(d,m){Ke.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(oh,Ke),t=oh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Au(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Su(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Au(this)),this.g&&(this.readyState=3,Au(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lw(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function lw(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Su(this):Au(this),this.readyState==3&&lw(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Su(this))},t.Qa=function(d){this.g&&(this.response=d,Su(this))},t.ga=function(){this.g&&Su(this)};function Su(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Au(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=m.next();return d.join(`\r
`)};function Au(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function uw(d){let m="";return L(d,function(_,N){m+=N,m+=":",m+=_,m+=`\r
`}),m}function Um(d,m,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=uw(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Zt(d,m,_))}function mn(d){Ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(mn,Ke);var HN=/^https?$/i,WN=["POST","PUT"];t=mn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xm.g(),this.v=this.o?Fa(this.o):Fa(xm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(re){cw(this,re);return}if(d=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)_.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())_.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(re=>re.toLowerCase()=="content-type"),J=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WN,m,void 0))||N||J||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Ce]of _)this.g.setRequestHeader(re,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fw(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){cw(this,re)}};function cw(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,dw(d),ah(d)}function dw(d){d.A||(d.A=!0,G(d,"complete"),G(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,G(this,"complete"),G(this,"abort"),ah(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ah(this,!0)),mn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hw(this):this.bb())},t.bb=function(){hw(this)};function hw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||as(d)!=4||d.Z()!=2)){if(d.u&&as(d)==4)Ne(d.Ea,0,d);else if(G(d,"readystatechange"),as(d)==4){d.h=!1;try{const Ce=d.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var N;if(N=Ce===0){var J=String(d.D).match(nw)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),N=!HN.test(J?J.toLowerCase():"")}_=N}if(_)G(d,"complete"),G(d,"success");else{d.m=6;try{var re=2<as(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",dw(d)}}finally{ah(d)}}}}function ah(d,m){if(d.g){fw(d);const _=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||G(d,"ready");try{_.onreadystatechange=N}catch{}}}function fw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function as(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function pw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function qN(d){const m={};d=(d.g&&2<=as(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var _=A(d[N]);const J=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const re=m[J]||[];m[J]=re,re.push(_)}S(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cu(d,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||m}function mw(d){this.Aa=0,this.i=[],this.j=new bu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cu("baseRetryDelayMs",5e3,d),this.cb=Cu("retryDelaySeedMs",1e4,d),this.Wa=Cu("forwardChannelMaxRetries",2,d),this.wa=Cu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Qb(d&&d.concurrentRequestLimit),this.Da=new BN,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mw.prototype,t.la=8,t.G=1,t.connect=function(d,m,_,N){Tr(0),this.W=d,this.H=m||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.I=Iw(this,null,this.W),uh(this)};function Bm(d){if(gw(d),d.G==3){var m=d.U++,_=os(d.I);if(Zt(_,"SID",d.K),Zt(_,"RID",m),Zt(_,"TYPE","terminate"),Ou(d,_),m=new Ms(d,d.j,m),m.L=2,m.v=ih(os(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=Sw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),th(m)}Ew(d)}function lh(d){d.g&&(Hm(d),d.g.cancel(),d.g=null)}function gw(d){lh(d),d.u&&(a.clearTimeout(d.u),d.u=null),ch(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function uh(d){if(!Xb(d.h)&&!d.s){d.s=!0;var m=d.Ga;F||C(),U||(F(),U=!0),x.add(m,d),d.B=0}}function zN(d,m){return Jb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_u(f(d.Ga,d,m),Tw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Ms(this,this.j,d);let re=this.o;if(this.S&&(re?(re=I(re),v(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=yw(this,J,m),_=os(this.I),Zt(_,"RID",d),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),Ou(this,_),re&&(this.O?m="headers="+encodeURIComponent(String(uw(re)))+"&"+m:this.m&&Um(_,this.m,re)),$m(this.h,J),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",m),Zt(_,"SID","null"),J.T=!0,Mm(J,_,null)):Mm(J,_,m),this.G=2}}else this.G==3&&(d?vw(this,d):this.i.length==0||Xb(this.h)||vw(this))};function vw(d,m){var _;m?_=m.l:_=d.U++;const N=os(d.I);Zt(N,"SID",d.K),Zt(N,"RID",_),Zt(N,"AID",d.T),Ou(d,N),d.m&&d.o&&Um(N,d.m,d.o),_=new Ms(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),m&&(d.i=m.D.concat(d.i)),m=yw(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$m(d.h,_),Mm(_,N,m)}function Ou(d,m){d.H&&L(d.H,function(_,N){Zt(m,N,_)}),d.l&&tw({},function(_,N){Zt(m,N,_)})}function yw(d,m,_){_=Math.min(d.i.length,_);var N=d.l?f(d.l.Na,d.l,d):null;e:{var J=d.i;let re=-1;for(;;){const Ce=["count="+_];re==-1?0<_?(re=J[0].g,Ce.push("ofs="+re)):re=0:Ce.push("ofs="+re);let Wt=!0;for(let Kn=0;Kn<_;Kn++){let At=J[Kn].g;const sr=J[Kn].map;if(At-=re,0>At)re=Math.max(0,J[Kn].g-100),Wt=!1;else try{jN(sr,Ce,"req"+At+"_")}catch{N&&N(sr)}}if(Wt){N=Ce.join("&");break e}}}return d=d.i.splice(0,_),m.D=d,N}function _w(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;F||C(),U||(F(),U=!0),x.add(m,d),d.v=0}}function jm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_u(f(d.Fa,d),Tw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,bw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_u(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tr(10),lh(this),bw(this))};function Hm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function bw(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=os(d.qa);Zt(m,"RID","rpc"),Zt(m,"SID",d.K),Zt(m,"AID",d.T),Zt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(m,"TO",d.ja),Zt(m,"TYPE","xmlhttp"),Ou(d,m),d.m&&d.o&&Um(m,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=ih(os(m)),_.m=null,_.P=!0,Kb(_,d)}t.Za=function(){this.C!=null&&(this.C=null,lh(this),jm(this),Tr(19))};function ch(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function ww(d,m){var _=null;if(d.g==m){ch(d),Hm(d),d.g=null;var N=2}else if(Fm(d.h,m))_=m.D,Zb(d.h,m),N=1;else return;if(d.G!=0){if(m.o)if(N==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var J=d.B;N=Jd(),G(N,new Hb(N,_)),uh(d)}else _w(d);else if(J=m.s,J==3||J==0&&0<m.X||!(N==1&&zN(d,m)||N==2&&jm(d)))switch(_&&0<_.length&&(m=d.h,m.i=m.i.concat(_)),J){case 1:Mo(d,5);break;case 4:Mo(d,10);break;case 3:Mo(d,6);break;default:Mo(d,2)}}}function Tw(d,m){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*m}function Mo(d,m){if(d.j.info("Error code "+m),m==2){var _=f(d.fb,d),N=d.Xa;const J=!N;N=new No(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nh(N,"https"),ih(N),J?$N(N.toString(),_):UN(N.toString(),_)}else Tr(2);d.G=0,d.l&&d.l.sa(m),Ew(d),gw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tr(2)):(this.j.info("Failed to ping google.com"),Tr(1))};function Ew(d){if(d.G=0,d.ka=[],d.l){const m=ew(d.h);(m.length!=0||d.i.length!=0)&&(E(d.ka,m),E(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function Iw(d,m,_){var N=_ instanceof No?os(_):new No(_);if(N.g!="")m&&(N.g=m+"."+N.g),rh(N,N.s);else{var J=a.location;N=J.protocol,m=m?m+"."+J.hostname:J.hostname,J=+J.port;var re=new No(null);N&&nh(re,N),m&&(re.g=m),J&&rh(re,J),_&&(re.l=_),N=re}return _=d.D,m=d.ya,_&&m&&Zt(N,_,m),Zt(N,"VER",d.la),Ou(d,N),N}function Sw(d,m,_){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new mn(new sh({eb:_})):new mn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aw(){}t=Aw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function dh(){}dh.prototype.g=function(d,m){return new qr(d,m)};function qr(d,m){Ke.call(this),this.g=new mw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!P(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Ba(this)}g(qr,Ke),qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){Bm(this.g)},qr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Be(d),d=_);m.i.push(new PN(m.Ya++,d)),m.G==3&&uh(m)},qr.prototype.N=function(){this.g.l=null,delete this.j,Bm(this.g),delete this.g,qr.aa.N.call(this)};function Cw(d){Rm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const _ in m){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Cw,Rm);function Ow(){Dm.call(this),this.status=1}g(Ow,Dm);function Ba(d){this.g=d}g(Ba,Aw),Ba.prototype.ua=function(){G(this.g,"a")},Ba.prototype.ta=function(d){G(this.g,new Cw(d))},Ba.prototype.sa=function(d){G(this.g,new Ow)},Ba.prototype.ra=function(){G(this.g,"b")},dh.prototype.createWebChannel=dh.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,lP=function(){return new dh},aP=function(){return Jd()},oP=Do,Uv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,Zh=Zd,Wb.COMPLETE="complete",sP=Wb,$b.EventType=vu,vu.OPEN="a",vu.CLOSE="b",vu.ERROR="c",vu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Yu=$b,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha,iP=mn}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const c1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ur=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new lu("@firebase/firestore");function xu(){return da.logLevel}function Ue(t,...e){if(da.logLevel<=ft.DEBUG){const n=e.map(D_);da.debug(`Firestore (${uu}): ${t}`,...n)}}function As(t,...e){if(da.logLevel<=ft.ERROR){const n=e.map(D_);da.error(`Firestore (${uu}): ${t}`,...n)}}function $l(t,...e){if(da.logLevel<=ft.WARN){const n=e.map(D_);da.warn(`Firestore (${uu}): ${t}`,...n)}}function D_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+t;throw As(e),new Error(e)}function Bt(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ur.UNAUTHENTICATED))}shutdown(){}}class t4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n4{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ws,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string"),new uP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new ur(e)}}class r4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new r4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bt(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt(typeof n.token=="string"),this.R=n.token,new s4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=a4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function Ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Ut(0,0))}static max(){return new st(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends qc{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const l4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends qc{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return l4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Qt.fromString(e))}static fromName(e){return new Ge(Qt.fromString(e).popFirst(5))}static empty(){return new Ge(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Qt(e.slice()))}}function u4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new bo(i,Ge.empty(),e)}function c4(t){return new bo(t.readTime,t.key,-1)}class bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bo(st.min(),Ge.empty(),-1)}static max(){return new bo(st.max(),Ge.empty(),-1)}}function d4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==h4)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ve((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function p4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}x_.oe=-1;function Wp(t){return t==null}function Vf(t){return t===0&&1/t==-1/0}function m4(t){return typeof t=="number"&&Number.isInteger(t)&&!Vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class Bv{constructor(e,n){this.comparator=e,this.root=n||ao.EMPTY}insert(e,n){return new Bv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new Bv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}},Ch=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ao=class cs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cs.RED,this.left=i??cs.EMPTY,this.right=s??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1;ao.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ao(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Gr([])}unionWith(e){let n=new rr(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hP("Invalid base64 string: "+s):s}}(e);return new ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const g4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Bt(!!t),typeof t=="string"){let e=0;const n=g4.exec(t);if(Bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?ir.fromBase64String(t):ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function N_(t){const e=t.mapValue.fields.__previous_value__;return qp(e)?N_(e):e}function zc(t){const e=wo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Kc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qp(t)?4:_4(t)?9007199254740991:y4(t)?10:11:rt()}function ns(t,e){if(t===e)return!0;const n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wo(i.timestampValue),a=wo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ha(i.bytesValue).isEqual(ha(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return bn(i.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return bn(i.integerValue)===bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=bn(i.doubleValue),a=bn(s.doubleValue);return o===a?Vf(o)===Vf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(d1(o)!==d1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ns(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function Gc(t,e){return(t.values||[]).find(n=>ns(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=fa(t),r=fa(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=bn(s.integerValue||s.doubleValue),l=bn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return f1(t.timestampValue,e.timestampValue);case 4:return f1(zc(t),zc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ha(s),l=ha(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(bn(s.latitude),bn(o.latitude));return a!==0?a:Ot(bn(s.longitude),bn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:p1(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Oh.mapValue&&o===Oh.mapValue)return 0;if(s===Oh.mapValue)return 1;if(o===Oh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Bl(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function f1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=wo(t),r=wo(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function p1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Bl(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function jl(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function Ff(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hv(t){return!!t&&"integerValue"in t}function M_(t){return!!t&&"arrayValue"in t}function m1(t){return!!t&&"nullValue"in t}function g1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function y4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fr(hc(this.value))}}function fP(t){const e=[];return Oa(t.fields,(n,r)=>{const i=new Xn([n]);if(ef(r)){const s=fP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hr(e,0,st.min(),st.min(),st.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new hr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new hr(e,2,n,st.min(),st.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,st.min(),st.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function v1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ge.comparator(Ge.fromName(o.referenceValue),n.key):r=Bl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function y1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function b4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{}class Cn extends pP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T4(e,n,r):n==="array-contains"?new S4(e,r):n==="in"?new A4(e,r):n==="not-in"?new C4(e,r):n==="array-contains-any"?new O4(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E4(e,r):new I4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends pP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ni(e,n)}matches(e){return mP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mP(t){return t.op==="and"}function gP(t){return w4(t)&&mP(t)}function w4(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function Wv(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(gP(t))return t.filters.map(e=>Wv(e)).join(",");{const e=t.filters.map(n=>Wv(n)).join(",");return`${t.op}(${e})`}}function vP(t,e){return t instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.field.isEqual(i.field)&&ns(r.value,i.value)}(t,e):t instanceof Ni?function(r,i){return i instanceof Ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&vP(o,i.filters[a]),!0):!1}(t,e):void rt()}function yP(t){return t instanceof Cn?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Ni?function(n){return n.op.toString()+" {"+n.getFilters().map(yP).join(" ,")+"}"}(t):"Filter"}class T4 extends Cn{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class E4 extends Cn{constructor(e,n){super(e,"in",n),this.keys=_P("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I4 extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=_P("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _P(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class S4 extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return M_(n)&&Gc(n.arrayValue,this.value)}}class A4 extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gc(this.value.arrayValue,n)}}class C4 extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gc(this.value.arrayValue,n)}}class O4 extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!M_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function _1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new P4(t,e,n,r,i,s,o)}function L_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ue=n}return e.ue}function V_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y1(t.startAt,e.startAt)&&y1(t.endAt,e.endAt)}function qv(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function k4(t,e,n,r,i,s,o,a){return new Pa(t,e,n,r,i,s,o,a)}function zp(t){return new Pa(t)}function b1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F_(t){return t.collectionGroup!==null}function Tl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(Xn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yc(s,r))}),n.has(Xn.keyField().canonicalString())||e.ce.push(new Yc(Xn.keyField(),r))}return e.ce}function Qi(t){const e=ot(t);return e.le||(e.le=R4(e,Tl(t))),e.le}function R4(t,e){if(t.limitType==="F")return _1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yc(i.field,s)});const n=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;return _1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zv(t,e){const n=t.filters.concat([e]);return new Pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new Pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kp(t,e){return V_(Qi(t),Qi(e))&&t.limitType===e.limitType}function bP(t){return`${L_(Qi(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yP(i)).join(", ")}]`),Wp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(Qi(t))}; limitType=${t.limitType})`}function Gp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=v1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Tl(r),i)||r.endAt&&!function(o,a,l){const u=v1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Tl(r),i))}(t,e)}function D4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wP(t){return(e,n)=>{let r=!1;for(const i of Tl(t)){const s=x4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function x4(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Bl(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new On(Ge.comparator);function Cs(){return N4}const TP=new On(Ge.comparator);function Qu(...t){let e=TP;for(const n of t)e=e.insert(n.key,n);return e}function EP(t){let e=TP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return fc()}function IP(){return fc()}function fc(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const M4=new On(Ge.comparator),L4=new rr(Ge.comparator);function pt(...t){let e=L4;for(const n of t)e=e.add(n);return e}const V4=new rr(Ot);function F4(){return V4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function SP(t){return{integerValue:""+t}}function $4(t,e){return m4(e)?SP(e):$_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this._=void 0}}function U4(t,e,n){return t instanceof Uf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qp(s)&&(s=N_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Qc?CP(t,e):t instanceof Xc?OP(t,e):function(i,s){const o=AP(i,s),a=w1(o)+w1(i.Pe);return Hv(o)&&Hv(i.Pe)?SP(a):$_(i.serializer,a)}(t,e)}function B4(t,e,n){return t instanceof Qc?CP(t,e):t instanceof Xc?OP(t,e):n}function AP(t,e){return t instanceof Bf?function(r){return Hv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Uf extends Yp{}class Qc extends Yp{constructor(e){super(),this.elements=e}}function CP(t,e){const n=PP(e);for(const r of t.elements)n.some(i=>ns(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xc extends Yp{constructor(e){super(),this.elements=e}}function OP(t,e){let n=PP(e);for(const r of t.elements)n=n.filter(i=>!ns(i,r));return{arrayValue:{values:n}}}class Bf extends Yp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function w1(t){return bn(t.integerValue||t.doubleValue)}function PP(t){return M_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Xc&&i instanceof Xc?Ul(r.elements,i.elements,ns):r instanceof Bf&&i instanceof Bf?ns(r.Pe,i.Pe):r instanceof Uf&&i instanceof Uf}(t.transform,e.transform)}class H4{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qp{}function kP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new U_(t.key,di.none()):new kd(t.key,t.data,di.none());{const n=t.data,r=Fr.empty();let i=new rr(Xn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ko(t.key,r,new Gr(i.toArray()),di.none())}}function W4(t,e,n){t instanceof kd?function(i,s,o){const a=i.value.clone(),l=E1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,s,o){if(!tf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=E1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n,r){return t instanceof kd?function(s,o,a,l){if(!tf(s.precondition,o))return a;const u=s.value.clone(),c=I1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(s,o,a,l){if(!tf(s.precondition,o))return a;const u=I1(s.fieldTransforms,l,o),c=o.data;return c.setAll(RP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return tf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function q4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AP(r.transform,i||null);s!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,s))}return n||null}function T1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ul(r,i,(s,o)=>j4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends Qp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends Qp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function E1(t,e,n){const r=new Map;Bt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,B4(o,a,n[i]))}return r}function I1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,U4(s,o,e))}return r}class U_ extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z4 extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&W4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=kP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(n,r)=>T1(n,r))&&Ul(this.baseMutations,e.baseMutations,(n,r)=>T1(n,r))}}class B_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bt(e.mutations.length===r.length);let i=function(){return M4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new B_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,bt;function Q4(t){switch(t){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function DP(t){if(t===void 0)return As("GRPC error has no .code"),ue.UNKNOWN;switch(t){case An.OK:return ue.OK;case An.CANCELLED:return ue.CANCELLED;case An.UNKNOWN:return ue.UNKNOWN;case An.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case An.INTERNAL:return ue.INTERNAL;case An.UNAVAILABLE:return ue.UNAVAILABLE;case An.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case An.NOT_FOUND:return ue.NOT_FOUND;case An.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case An.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case An.ABORTED:return ue.ABORTED;case An.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case An.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case An.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(bt=An||(An={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Zo([4294967295,4294967295],0);function S1(t){const e=X4().encode(t),n=new rP;return n.update(e),new Uint8Array(n.digest())}function A1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,s],0)]}class j_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare(J4)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=S1(e),[r,i]=A1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new j_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=S1(e),[r,i]=A1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xp(st.min(),i,new On(Ot),Cs(),pt())}}class Rd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class xP{constructor(e,n){this.targetId=e,this.me=n}}class NP{constructor(e,n,r=ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class C1{constructor(){this.fe=0,this.ge=P1(),this.pe=ir.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pt(),n=pt(),r=pt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Rd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=P1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Z4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cs(),this.qe=O1(),this.Qe=new On(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(qv(s))if(r===0){const o=new Ge(s.path);this.Ue(n,o,hr.newNoDocument(o,st.min()))}else Bt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ha(r).toUint8Array()}catch(l){if(l instanceof hP)return $l("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new j_(o,i,s)}catch(l){return $l(l instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&qv(a.target)){const l=new Ge(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,hr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Xp(e,n,this.Qe,this.ke,r);return this.ke=Cs(),this.qe=O1(),this.Qe=new On(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new C1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new C1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function O1(){return new On(Ge.comparator)}function P1(){return new On(Ge.comparator)}const e6={asc:"ASCENDING",desc:"DESCENDING"},t6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n6={and:"AND",or:"OR"};class r6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kv(t,e){return t.useProto3Json||Wp(e)?e:{value:e}}function jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i6(t,e){return jf(t,e.toTimestamp())}function Xi(t){return Bt(!!t),st.fromTimestamp(function(n){const r=wo(n);return new Ut(r.seconds,r.nanos)}(t))}function H_(t,e){return Gv(t,e).canonicalString()}function Gv(t,e){const n=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LP(t){const e=Qt.fromString(t);return Bt(BP(e)),e}function Yv(t,e){return H_(t.databaseId,e.path)}function gg(t,e){const n=LP(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(FP(n))}function VP(t,e){return H_(t.databaseId,e)}function s6(t){const e=LP(t);return e.length===4?Qt.emptyPath():FP(e)}function Qv(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FP(t){return Bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function k1(t,e,n){return{name:Yv(t,e),fields:n.value.mapValue.fields}}function o6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Bt(c===void 0||typeof c=="string"),ir.fromBase64String(c||"")):(Bt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ir.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ue.UNKNOWN:DP(u.code);return new Pe(c,u.message||"")}(o);n=new NP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gg(t,r.document.name),s=Xi(r.document.updateTime),o=r.document.createTime?Xi(r.document.createTime):st.min(),a=new Fr({mapValue:{fields:r.document.fields}}),l=hr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new nf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gg(t,r.document),s=r.readTime?Xi(r.readTime):st.min(),o=hr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gg(t,r.document),s=r.removedTargetIds||[];n=new nf([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Y4(i,s),a=r.targetId;n=new xP(a,o)}}return n}function a6(t,e){let n;if(e instanceof kd)n={update:k1(t,e.key,e.value)};else if(e instanceof U_)n={delete:Yv(t,e.key)};else if(e instanceof ko)n={update:k1(t,e.key,e.data),updateMask:g6(e.fieldMask)};else{if(!(e instanceof z4))return rt();n={verify:Yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Uf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:i6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function l6(t,e){return t&&t.length>0?(Bt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Xi(i.updateTime):Xi(s);return o.isEqual(st.min())&&(o=Xi(s)),new H4(o,i.transformResults||[])}(n,e))):[]}function u6(t,e){return{documents:[VP(t,e.path)]}}function c6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VP(t,i);const s=function(u){if(u.length!==0)return UP(Ni.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:tl(f.field),direction:f6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Kv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function d6(t){let e=s6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=$P(h);return f instanceof Ni&&gP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Yc(nl(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Wp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Hl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Hl(p,f)}(n.endAt)),k4(e,i,o,s,a,"F",l,u)}function h6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $P(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nl(n.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nl(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nl(n.unaryFilter.field);return Cn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nl(n.unaryFilter.field);return Cn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return Cn.create(nl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ni.create(n.compositeFilter.filters.map(r=>$P(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function f6(t){return e6[t]}function p6(t){return t6[t]}function m6(t){return n6[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return Xn.fromServerFormat(t.fieldPath)}function UP(t){return t instanceof Cn?function(n){if(n.op==="=="){if(g1(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(m1(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g1(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(m1(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:p6(n.op),value:n.value}}}(t):t instanceof Ni?function(n){const r=n.getFilters().map(i=>UP(i));return r.length===1?r[0]:{compositeFilter:{op:m6(n.op),filters:r}}}(t):rt()}function g6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,s=st.min(),o=st.min(),a=ir.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.ct=e}}function y6(t){const e=d6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.un=new b6}addToCollectionParentIndex(e,n){return this.un.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(bo.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class b6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(Qt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wl(0)}static kn(){return new Wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.changes=new cu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pc(r.mutation,i,Gr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cs();const o=fc(),a=function(){return fc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ko)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pc(c.mutation,u,c.mutation.getFieldMask(),Ut.now())):o.set(u.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new T6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fc();let i=new On((o,a)=>o-a),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||pt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=IP();c.forEach(f=>{if(!s.has(f)){const p=kP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(zo());let a=-1,l=s;return o.next(u=>ve.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ve.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pt())).next(c=>({batchId:a,changes:EP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next(r=>{let i=Qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qu();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,l=>{const u=function(h,f){return new Pa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,hr.newInvalidDocument(c)))});let a=Qu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&pc(c.mutation,u,Gr.empty(),Ut.now()),Gp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ve.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xi(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:y6(i.bundledQuery),readTime:Xi(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.overlays=new On(Ge.comparator),this.Ir=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return ve.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=zo(),s=n.length+1,o=new Ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=zo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=zo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ve.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new G4(n,r));let s=this.Ir.get(n);s===void 0&&(s=pt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.sessionToken=ir.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Tr=new rr(Un.Er),this.dr=new rr(Un.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Un(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Un(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ge(new Qt([])),r=new Un(n,e),i=new Un(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ge(new Qt([])),r=new Un(n,e),i=new Un(n,e+1);let s=pt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Un(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ge.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rr(Un.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),i=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Ot);return n.forEach(i=>{const s=new Un(i,0),o=new Un(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ve.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ge.isDocumentKey(s)||(s=s.child(""));const o=new Un(new Ge(s),0);let a=new rr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ve.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ve.forEach(n.mutations,i=>{const s=new Un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Un(n,0),i=this.br.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.Mr=e,this.docs=function(){return new On(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cs();const o=n.path,a=new Ge(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||d4(c4(c),r)<=0||(i.has(c.key)||Gp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P6(this)}getSize(e){return ve.resolve(this.size)}}class P6 extends w6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.persistence=e,this.Nr=new cu(n=>L_(n),V_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new W_,this.targetCount=0,this.kr=Wl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Kn(n),ve.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new x_(0),this.Kr=!1,this.Kr=!0,this.$r=new A6,this.referenceDelegate=e(this),this.Ur=new k6(this),this.indexManager=new _6,this.remoteDocumentCache=function(i){return new O6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new v6(n),this.Gr=new I6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new C6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new D6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ve.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class D6 extends f4{constructor(e){super(),this.currentSequenceNumber=e}}class q_{constructor(e){this.persistence=e,this.Jr=new W_,this.Yr=null}static Zr(e){return new q_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,r=>{const i=Ge.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ve.or([()=>ve.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pt(),i=pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new z_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hF()?8:p4(wr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new x6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(xu()<=ft.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(xu()<=ft.DEBUG&&Ue("QueryEngine","Query:",el(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xu()<=ft.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ve.resolve())}Yi(e,n){if(b1(n))return ve.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$f(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,$f(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return b1(n)||i.isEqual(st.min())?ve.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ve.resolve(null):(xu()<=ft.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),el(n)),this.rs(e,o,n,u4(i,-1)).next(a=>a))})}ts(e,n){let r=new rr(wP(e));return n.forEach((i,s)=>{Gp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return xu()<=ft.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",el(n)),this.Ji.getDocumentsMatchingQuery(e,n,bo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Ot),this._s=new cu(s=>L_(s),V_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function L6(t,e,n,r){return new M6(t,e,n,r)}async function jP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function V6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ve.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(w=>{const E=u.docVersions.get(g);Bt(E!==null),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HP(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function F6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(ir.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(w,E,k){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=Cs(),u=pt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push($6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function $6(t,e,n){let r=pt(),i=pt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function U6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new no(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Xv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pd(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function R1(t,e,n){const r=ot(t);let i=st.min(),s=pt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?ve.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Qi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:pt())).next(a=>(j6(r,D4(e),a),{documents:a,Ts:s})))}function j6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class D1{constructor(){this.activeTargetIds=F4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H6{constructor(){this.so=new D1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new D1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function vg(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class K6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=vg(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw $l("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=q6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=vg();return new Promise((o,a)=>{const l=new iP;l.setWithCredentials(!0),l.listenOnce(sP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zh.NO_ERROR:const c=l.getResponseJson();Ue(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Zh.TIMEOUT:Ue(ar,`RPC '${e}' ${s} timed out`),a(new Pe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const h=l.getStatus();if(Ue(ar,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(E){const k=E.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(k)>=0?k:ue.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(ar,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=vg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lP(),a=aP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(ar,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new z6({Io:E=>{p?Ue(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(Ue(ar,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(ar,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),w=(E,k,P)=>{E.listen(k,T=>{try{P(T)}catch(y){setTimeout(()=>{throw y},0)}})};return w(h,Yu.EventType.OPEN,()=>{p||(Ue(ar,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),w(h,Yu.EventType.CLOSE,()=>{p||(p=!0,Ue(ar,`RPC '${e}' stream ${i} transport closed`),g.So())}),w(h,Yu.EventType.ERROR,E=>{p||(p=!0,$l(ar,`RPC '${e}' stream ${i} transport errored:`,E),g.So(new Pe(ue.UNAVAILABLE,"The operation could not be completed")))}),w(h,Yu.EventType.MESSAGE,E=>{var k;if(!p){const P=E.data[0];Bt(!!P);const T=P,y=T.error||((k=T[0])===null||k===void 0?void 0:k.error);if(y){Ue(ar,`RPC '${e}' stream ${i} received error:`,y);const M=y.status;let L=function(b){const v=An[b];if(v!==void 0)return DP(v)}(M),S=y.message;L===void 0&&(L=ue.INTERNAL,S="Unknown error status: "+M+" with message "+y.message),p=!0,g.So(new Pe(L,S)),h.close()}else Ue(ar,`RPC '${e}' stream ${i} received:`,P),g.bo(P)}}),w(a,oP.STAT_EVENT,E=>{E.stat===Uv.PROXY?Ue(ar,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Uv.NOPROXY&&Ue(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){return new r6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G6 extends qP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=o6(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Xi(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=qv(l)?{documents:u6(s,l)}:{query:c6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MP(s,o.resumeToken);const u=Kv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=jf(s,o.snapshotVersion.toTimestamp());const u=Kv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=h6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qv(this.serializer),n.removeTarget=e,this.a_(n)}}class Y6 extends qP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=l6(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Gv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ue.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Gv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ue.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class X6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(As(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ka(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await Dd(u),u.q_.set("Unknown"),u.L_.delete(4),await Zp(u)}(this))})}),this.q_=new X6(r,i)}}async function Zp(t){if(ka(t))for(const e of t.B_)await e(!0)}async function Dd(t){for(const e of t.B_)await e(!1)}function zP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Q_(n)?Y_(n):du(n).r_()&&G_(n,e))}function K_(t,e){const n=ot(t),r=du(n);n.N_.delete(e),r.r_()&&KP(n,e),n.N_.size===0&&(r.r_()?r.o_():ka(n)&&n.q_.set("Unknown"))}function G_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).A_(e)}function KP(t,e){t.Q_.xe(e),du(t).R_(e)}function Y_(t){t.Q_=new Z4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),du(t).start(),t.q_.v_()}function Q_(t){return ka(t)&&!du(t).n_()&&t.N_.size>0}function ka(t){return ot(t).L_.size===0}function GP(t){t.Q_=void 0}async function Z6(t){t.q_.set("Online")}async function e9(t){t.N_.forEach((e,n)=>{G_(t,e)})}async function t9(t,e){GP(t),Q_(t)?(t.q_.M_(e),Y_(t)):t.q_.set("Unknown")}async function n9(t,e,n){if(t.q_.set("Online"),e instanceof NP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hf(t,r)}else if(e instanceof nf?t.Q_.Ke(e):e instanceof xP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await HP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(ir.EMPTY_BYTE_STRING,c.snapshotVersion)),KP(s,l);const h=new no(c.target,l,u,c.sequenceNumber);G_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Hf(t,r)}}async function Hf(t,e,n){if(!Pd(e))throw e;t.L_.add(1),await Dd(t),t.q_.set("Offline"),n||(n=()=>HP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zp(t)})}function YP(t,e){return e().catch(n=>Hf(t,n,e))}async function em(t){const e=ot(t),n=To(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;r9(e);)try{const i=await U6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,i9(e,i)}catch(i){await Hf(e,i)}QP(e)&&XP(e)}function r9(t){return ka(t)&&t.O_.length<10}function i9(t,e){t.O_.push(e);const n=To(t);n.r_()&&n.V_&&n.m_(e.mutations)}function QP(t){return ka(t)&&!To(t).n_()&&t.O_.length>0}function XP(t){To(t).start()}async function s9(t){To(t).p_()}async function o9(t){const e=To(t);for(const n of t.O_)e.m_(n.mutations)}async function a9(t,e,n){const r=t.O_.shift(),i=B_.from(r,e,n);await YP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await em(t)}async function l9(t,e){e&&To(t).V_&&await async function(r,i){if(function(o){return Q4(o)&&o!==ue.ABORTED}(i.code)){const s=r.O_.shift();To(r).s_(),await YP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await em(r)}}(t,e),QP(t)&&XP(t)}async function N1(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=ka(n);n.L_.add(3),await Dd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zp(n)}async function u9(t,e){const n=ot(t);e?(n.L_.delete(2),await Zp(n)):e||(n.L_.add(2),await Dd(n),n.q_.set("Unknown"))}function du(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new G6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Z6.bind(null,t),Ro:e9.bind(null,t),mo:t9.bind(null,t),d_:n9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Q_(t)?Y_(t):t.q_.set("Unknown")):(await t.K_.stop(),GP(t))})),t.K_}function To(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new Y6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:s9.bind(null,t),mo:l9.bind(null,t),f_:o9.bind(null,t),g_:a9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await em(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new X_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J_(t,e){if(As("AsyncQueue",`${e}: ${t}`),Pd(t))return new Pe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=Qu(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.W_=new On(Ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ql(e,n,El.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class d9{constructor(){this.queries=L1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=L1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(ue.ABORTED,"Firestore shutting down"))}}function L1(){return new cu(t=>bP(t),Kp)}async function Z_(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new c9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=J_(o,`Initialization of query '${el(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&t0(n)}async function e0(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h9(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&t0(n)}function f9(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function t0(t){t.Y_.forEach(e=>{e.next()})}var Jv,V1;(V1=Jv||(Jv={})).ea="default",V1.Cache="cache";class n0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.key=e}}class ZP{constructor(e){this.key=e}}class p9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pt(),this.mutatedKeys=pt(),this.Aa=wP(e),this.Ra=new El(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new M1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Gp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?g!==w&&(r.track({type:3,doc:p}),E=!0):this.ga(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return w(p)-w(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ql(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new M1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ZP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new JP(r))}),n}ba(e){this.Ta=e.Ts,this.da=pt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ql.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class m9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g9{constructor(e){this.key=e,this.va=!1}}class v9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cu(a=>bP(a),Kp),this.Ma=new Map,this.xa=new Set,this.Oa=new On(Ge.comparator),this.Na=new Map,this.La=new W_,this.Ba={},this.ka=new Map,this.qa=Wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function y9(t,e,n=!0){const r=sk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ek(r,e,n,!0),i}async function _9(t,e){const n=sk(t);await ek(n,e,!0,!1)}async function ek(t,e,n,r){const i=await B6(t.localStore,Qi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await b9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zP(t.remoteStore,i),a}async function b9(t,e,n,r,i){t.Ka=(h,f,p)=>async function(w,E,k,P){let T=E.view.ma(k);T.ns&&(T=await R1(w.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,T)));const y=P&&P.targetChanges.get(E.targetId),M=P&&P.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(T,w.isPrimaryClient,y,M);return $1(w,E.targetId,L.wa),L.snapshot}(t,h,f,p);const s=await R1(t.localStore,e,!0),o=new p9(e,s.Ts),a=o.ma(s.documents),l=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);$1(t,n,u.wa);const c=new m9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function w9(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Kp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&K_(r.remoteStore,i.targetId),Zv(r,i.targetId)}).catch(Od)):(Zv(r,i.targetId),await Xv(r.localStore,i.targetId,!0))}async function T9(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K_(n.remoteStore,r.targetId))}async function E9(t,e,n){const r=k9(t);try{const i=await function(o,a){const l=ot(o),u=Ut.now(),c=a.reduce((p,g)=>p.add(g.key),pt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Cs(),w=pt();return l.cs.getEntries(p,c).next(E=>{g=E,g.forEach((k,P)=>{P.isValidDocument()||(w=w.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(E=>{h=E;const k=[];for(const P of a){const T=q4(P,h.get(P.key).overlayedDocument);T!=null&&k.push(new ko(P.key,T,fP(T.value.mapValue),di.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,k,a)}).next(E=>{f=E;const k=E.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(p,E.batchId,k)})}).then(()=>({batchId:f.batchId,changes:EP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await xd(r,i.changes),await em(r.remoteStore)}catch(i){const s=J_(i,"Failed to persist write");n.reject(s)}}async function tk(t,e){const n=ot(t);try{const r=await F6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Bt(o.va):i.removedDocuments.size>0&&(Bt(o.va),o.va=!1))}),await xd(n,r,e)}catch(r){await Od(r)}}function F1(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&t0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I9(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(Ge.comparator);o=o.insert(s,hr.newNoDocument(s,st.min()));const a=pt().add(s),l=new Xp(st.min(),new Map,new On(Ot),o,a);await tk(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),r0(r)}else await Xv(r.localStore,e,!1).then(()=>Zv(r,e,n)).catch(Od)}async function S9(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await V6(n.localStore,e);rk(n,r,null),nk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xd(n,i)}catch(i){await Od(i)}}async function A9(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Bt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);rk(r,e,n),nk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xd(r,i)}catch(i){await Od(i)}}function nk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function rk(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Zv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ik(t,r)})}function ik(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(K_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),r0(t))}function $1(t,e,n){for(const r of n)r instanceof JP?(t.La.addReference(r.key,e),C9(t,r)):r instanceof ZP?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ik(t,r.key)):rt()}function C9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),r0(t))}function r0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ge(Qt.fromString(e)),r=t.qa.next();t.Na.set(r,new g9(n)),t.Oa=t.Oa.insert(n,r),zP(t.remoteStore,new no(Qi(zp(n.path)),r,"TargetPurposeLimboResolution",x_.oe))}}async function xd(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=z_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(u,f=>ve.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ve.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Pd(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,w)}}}(r.localStore,s))}async function O9(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await jP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ue.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(n,r.hs)}}function P9(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return pt().add(r.key);{let i=pt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function sk(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I9.bind(null,e),e.Ca.d_=h9.bind(null,e.eventManager),e.Ca.$a=f9.bind(null,e.eventManager),e}function k9(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A9.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return L6(this.persistence,new N6,e.initialUser,this.serializer)}Ga(e){return new R6(q_.Zr,this.serializer)}Wa(e){return new H6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O9.bind(null,this.syncEngine),await u9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d9}()}createDatastore(e){const n=Jp(e.databaseInfo.databaseId),r=function(s){return new K6(s)}(e.databaseInfo);return function(s,o,a,l){return new Q6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new J6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>F1(this.syncEngine,n,0),function(){return x1.D()?new x1:new W6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new v9(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Dd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=cP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=J_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _g(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function U1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D9(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N1(e.remoteStore,i)),t._onlineComponents=e}async function D9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await _g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$l("Error using user provided cache. Falling back to memory cache: "+n),await _g(t,new Wf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await _g(t,new Wf);return t._offlineComponents}async function ok(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await U1(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await U1(t,new ey))),t._onlineComponents}function x9(t){return ok(t).then(e=>e.syncEngine)}async function qf(t){const e=await ok(t),n=e.eventManager;return n.onListen=y9.bind(null,e.syncEngine),n.onUnlisten=w9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T9.bind(null,e.syncEngine),n}function N9(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new i0({next:f=>{c.Za(),o.enqueueAndForget(()=>e0(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new n0(zp(a.path),c,{includeMetadataChanges:!0,_a:!0});return Z_(s,h)}(await qf(t),t.asyncQueue,e,n,r)),r.promise}function M9(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new i0({next:f=>{c.Za(),o.enqueueAndForget(()=>e0(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new n0(a,c,{includeMetadataChanges:!0,_a:!0});return Z_(s,h)}(await qf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e,n){if(!n)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L9(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j1(t){if(!Ge.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H1(t){if(Ge.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new Pe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function V9(t,e){if(e<=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ak((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e4;switch(r.type){case"firstParty":return new i4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=B1.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),B1.delete(n),r.terminate())}(this),Promise.resolve()}}function F9(t,e,n,r={}){var i;const s=(t=jr(t,nm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ur.MOCK_USER;else{a=iO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ur(u)}t._authCredentials=new t4(new uP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class lo extends rs{constructor(e,n,r){super(e,n,zp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new Ge(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function Jn(t,e,...n){if(t=Dt(t),lk("collection","path",e),t instanceof nm){const r=Qt.fromString(e,...n);return H1(r),new lo(t,null,r)}{if(!(t instanceof _r||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return H1(r),new lo(t.firestore,null,r)}}function lt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=cP.newId()),lk("doc","path",e),t instanceof nm){const r=Qt.fromString(e,...n);return j1(r),new _r(t,null,new Ge(r))}{if(!(t instanceof _r||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return j1(r),new _r(t.firestore,t instanceof lo?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WP(this,"async_queue_retry"),this.Vu=()=>{const r=yg();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ws;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pd(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw As("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=X_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function z1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new q1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q1(e),this._firestoreClient=void 0,await e}}}function $9(t,e){const n=typeof t=="object"?t:Cd(),r=typeof t=="string"?t:e||"(default)",i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nO("firestore");s&&F9(i,...s)}return i}function rm(t){if(t._terminated)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U9(t),t._firestoreClient}function U9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new v4(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ak(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new R9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(ir.fromBase64String(e))}catch(n){throw new Pe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^__.*__$/;class j9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new kd(e,this.data,n,this.fieldTransforms)}}class uk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ck(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class l0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new l0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ck(this.Cu)&&B9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class H9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jp(e)}Qu(e,n,r,i=!1){return new l0({Cu:e,methodName:n,qu:r,path:Xn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nd(t){const e=t._freezeSettings(),n=Jp(t._databaseId);return new H9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dk(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);u0("Data must be an object, but it was:",o,r);const a=fk(r,o);let l,u;if(s.merge)l=new Gr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=ty(e,h,n);if(!o.contains(f))throw new Pe(ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);mk(c,f)||c.push(f)}l=new Gr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new j9(new Fr(a),l,u)}class sm extends s0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sm}}function W9(t,e,n,r){const i=t.Qu(1,e,n);u0("Data must be an object, but it was:",i,r);const s=[],o=Fr.empty();Oa(r,(l,u)=>{const c=c0(e,l,n);u=Dt(u);const h=i.Nu(c);if(u instanceof sm)s.push(c);else{const f=Md(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Gr(s);return new uk(o,a,i.fieldTransforms)}function q9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[ty(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ty(e,s[f])),l.push(s[f+1]);const u=[],c=Fr.empty();for(let f=a.length-1;f>=0;--f)if(!mk(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const w=o.Nu(p);if(g instanceof sm)u.push(p);else{const E=Md(g,w);E!=null&&(u.push(p),c.set(p,E))}}const h=new Gr(u);return new uk(c,h,o.fieldTransforms)}function hk(t,e,n,r=!1){return Md(n,t.Qu(r?4:3,e))}function Md(t,e){if(pk(t=Dt(t)))return u0("Unsupported field value:",e,t),fk(t,e);if(t instanceof s0)return function(r,i){if(!ck(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Md(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ut.fromDate(r);return{timestampValue:jf(i.serializer,s)}}if(r instanceof Ut){const s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jf(i.serializer,s)}}if(r instanceof o0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zl)return{bytesValue:MP(i.serializer,r._byteString)};if(r instanceof _r){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:H_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof a0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return $_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${tm(r)}`)}(t,e)}function fk(t,e){const n={};return dP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(t,(r,i)=>{const s=Md(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function pk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof o0||t instanceof zl||t instanceof _r||t instanceof s0||t instanceof a0)}function u0(t,e,n){if(!pk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ty(t,e,n){if((e=Dt(e))instanceof im)return e._internalPath;if(typeof e=="string")return c0(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const z9=new RegExp("[~\\*/\\[\\]]");function c0(t,e,n){if(e.search(z9)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new im(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(ue.INVALID_ARGUMENT,a+t+l)}function mk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K9 extends d0{data(){return super.data()}}function om(t,e){return typeof e=="string"?c0(t,e):e instanceof im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h0{}class am extends h0{}function G9(t,e,...n){let r=[];e instanceof h0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof p0).length,a=s.filter(l=>l instanceof lm).length;if(o>1||o>0&&a>0)throw new Pe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lm extends am{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lm(e,n,r)}_apply(e){const n=this._parse(e);return vk(e._query,n),new rs(e.firestore,e.converter,zv(e._query,n))}_parse(e){const n=Nd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Y1(h,c);const p=[];for(const g of h)p.push(G1(l,s,g));f={arrayValue:{values:p}}}else f=G1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Y1(h,c),f=hk(a,o,h,c==="in"||c==="not-in");return Cn.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function f0(t,e,n){const r=e,i=om("where",t);return lm._create(i,r,n)}class p0 extends h0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new p0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vk(o,l),o=zv(o,l)}(e._query,n),new rs(e.firestore,e.converter,zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m0 extends am{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new m0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(s,o)}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Pa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function K1(t,e="asc"){const n=e,r=om("orderBy",t);return m0._create(r,n)}class g0 extends am{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new g0(e,n,r)}_apply(e){return new rs(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function Y9(t){return V9("limit",t),g0._create("limit",t,"F")}class v0 extends am{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new v0(e,n,r)}_apply(e){const n=X9(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,function(i,s){return new Pa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Q9(...t){return v0._create("startAfter",t,!1)}function X9(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof d0)return function(s,o,a,l,u){if(!l)throw new Pe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of Tl(s))if(h.field.isKeyField())c.push(Ff(o,l.key));else{const f=l.data.field(h.field);if(qp(f))throw new Pe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new Hl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Nd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const w=c[g];if(f[g].field.isKeyField()){if(typeof w!="string")throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!F_(o)&&w.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const E=o.path.child(Qt.fromString(w));if(!Ge.isDocumentKey(E))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const k=new Ge(E);p.push(Ff(a,k))}else{const E=hk(l,u,w);p.push(E)}}return new Hl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function G1(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F_(e)&&n.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qt.fromString(n));if(!Ge.isDocumentKey(r))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ff(t,new Ge(r))}if(n instanceof _r)return Ff(t,n._key);throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function Y1(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J9{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>bn(o.doubleValue));return new a0(s)}convertGeoPoint(e){return new o0(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=N_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qt.fromString(e);Bt(BP(r));const i=new Kc(r.get(1),r.get(3)),s=new Ge(r.popFirst(5));return i.isEqual(n)||As(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _k extends d0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rf extends _k{data(e={}){return super.data(e)}}class bk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rf(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Z9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){t=jr(t,_r);const e=jr(t.firestore,Os);return N9(rm(e),t._key).then(n=>Tk(e,t,n))}class y0 extends J9{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function eB(t){t=jr(t,rs);const e=jr(t.firestore,Os),n=rm(e),r=new y0(e);return gk(t._query),M9(n,t._query).then(i=>new bk(e,r,t,i))}function tB(t,e,n){t=jr(t,_r);const r=jr(t.firestore,Os),i=yk(t.converter,e,n);return um(r,[dk(Nd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,di.none())])}function nB(t,e,n,...r){t=jr(t,_r);const i=jr(t.firestore,Os),s=Nd(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof im?q9(s,"updateDoc",t._key,e,n,r):W9(s,"updateDoc",t._key,e),um(i,[o.toMutation(t._key,di.exists(!0))])}function rB(t){return um(jr(t.firestore,Os),[new U_(t._key,di.none())])}function iB(t,e){const n=jr(t.firestore,Os),r=lt(t),i=yk(t.converter,e);return um(n,[dk(Nd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function Rre(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||z1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(z1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof _r)u=jr(t.firestore,Os),c=zp(t._key.path),l={next:h=>{e[o]&&e[o](Tk(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=jr(t,rs);u=jr(h.firestore,Os),c=h._query;const f=new y0(u);l={next:p=>{e[o]&&e[o](new bk(u,f,h,p))},error:e[o+1],complete:e[o+2]},gk(t._query)}return function(f,p,g,w){const E=new i0(w),k=new n0(p,E,g);return f.asyncQueue.enqueueAndForget(async()=>Z_(await qf(f),k)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>e0(await qf(f),k))}}(rm(u),c,a,l)}function um(t,e){return function(r,i){const s=new ws;return r.asyncQueue.enqueueAndForget(async()=>E9(await x9(r),i,s)),s.promise}(rm(t),e)}function Tk(t,e,n){const r=n.docs.get(e._key),i=new y0(t);return new _k(t,i,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uu=i})(Po),Hr(new xr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Os(new n4(r.getProvider("auth-internal")),new o4(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nr(c1,"4.7.3",e),nr(c1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebasestorage.googleapis.com",Ik="storageBucket",sB=2*60*1e3,oB=10*60*1e3,aB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends ti{constructor(e,n,r=0){super(bg(e),`Firebase Storage: ${n} (${bg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function bg(t){return"storage/"+t}function _0(){const t="An unknown error occurred, please check the error payload for server response.";return new pn(ln.UNKNOWN,t)}function lB(t){return new pn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uB(t){return new pn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pn(ln.UNAUTHENTICATED,t)}function dB(){return new pn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hB(t){return new pn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Sk(){return new pn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ak(){return new pn(ln.CANCELED,"User canceled the upload/download.")}function fB(t){return new pn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function pB(t){return new pn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mB(){return new pn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ik+"' property when initializing the app?")}function Ck(){return new pn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gB(){return new pn(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function vB(){return new pn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yB(t){return new pn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ny(t){return new pn(ln.INVALID_ARGUMENT,t)}function Ok(){return new pn(ln.APP_DELETED,"The Firebase app was deleted.")}function _B(t){return new pn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mc(t,e){return new pn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nu(t){throw new pn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw pB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},w=n===Ek?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",k=new RegExp(`^https?://${w}/${i}/${E}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<T.length;y++){const M=T[y],L=M.regex.exec(e);if(L){const S=L[M.indices.bucket];let I=L[M.indices.path];I||(I=""),r=new Yr(S,I),M.postModify(r);break}}if(r==null)throw fB(e);return r}}class bB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...k){if(u){f();return}if(E){f(),c.call(null,E,...k);return}if(l()||o){f(),c.call(null,E,...k);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function w(E){g||(g=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function TB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){return t!==void 0}function IB(t){return typeof t=="function"}function SB(t){return typeof t=="object"&&!Array.isArray(t)}function cm(t){return typeof t=="string"||t instanceof String}function Q1(t){return b0()&&t instanceof Blob}function b0(){return typeof Blob<"u"}function X1(t,e,n,r){if(r<e)throw ny(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ny(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Pk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ea;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ea||(ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ea.NO_ERROR,l=s.getStatus();if(!a||kk(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===ea.ABORT;r(!1,new kh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());EB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=_0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ok():Ak();o(l)}else{const l=Sk();o(l)}};this.canceled_?n(!1,new kh(!1,null,!0)):this.backoffId_=wB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RB(t,e,n,r,i,s,o=!0){const a=Pk(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return PB(u,e),CB(u,n),OB(u,s),kB(u,r),new AB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xB(...t){const e=DB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(b0())return new Blob(t);throw new pn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){if(typeof atob>"u")throw yB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wg{constructor(e,n){this.data=e,this.contentType=n||null}}function LB(t,e){switch(t){case zi.RAW:return new wg(Rk(e));case zi.BASE64:case zi.BASE64URL:return new wg(Dk(t,e));case zi.DATA_URL:return new wg(FB(e),$B(e))}throw _0()}function Rk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function VB(t){let e;try{e=decodeURIComponent(t)}catch{throw mc(zi.DATA_URL,"Malformed data URL.")}return Rk(e)}function Dk(t,e){switch(t){case zi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case zi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MB(e)}catch(i){throw i.message.includes("polyfill")?i:mc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class xk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw mc(zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function FB(t){const e=new xk(t);return e.base64?Dk(zi.BASE64,e.rest):VB(e.rest)}function $B(t){return new xk(t).contentType}function UB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){let r=0,i="";Q1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Q1(this.data_)){const r=this.data_,i=NB(r,e,n);return i===null?null:new Xs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xs(r,!0)}}static getBlob(...e){if(b0()){const n=e.map(r=>r instanceof Xs?r.data_:r);return new Xs(xB.apply(null,n))}else{const n=e.map(o=>cm(o)?LB(zi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){let e;try{e=JSON.parse(t)}catch{return null}return SB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Mk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){return e}class Er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||HB}}let Rh=null;function WB(t){return!cm(t)||t.length<2?t:Mk(t)}function Lk(){if(Rh)return Rh;const t=[];t.push(new Er("bucket")),t.push(new Er("generation")),t.push(new Er("metageneration")),t.push(new Er("name","fullPath",!0));function e(s,o){return WB(o)}const n=new Er("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Er("size");return i.xform=r,t.push(i),t.push(new Er("timeCreated")),t.push(new Er("updated")),t.push(new Er("md5Hash",null,!0)),t.push(new Er("cacheControl",null,!0)),t.push(new Er("contentDisposition",null,!0)),t.push(new Er("contentEncoding",null,!0)),t.push(new Er("contentLanguage",null,!0)),t.push(new Er("contentType",null,!0)),t.push(new Er("metadata","customMetadata",!0)),Rh=t,Rh}function qB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return qB(r,t),r}function Vk(t,e,n){const r=Nk(e);return r===null?null:zB(t,r,n)}function KB(t,e,n,r){const i=Nk(e);if(i===null||!cm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=hu(f,n,r),g=Pk({alt:"media",token:u});return p+g})[0]}function Fk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ra{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){if(!t)throw _0()}function w0(t,e){function n(r,i){const s=Vk(t,i,e);return Ts(s!==null),s}return n}function GB(t,e){function n(r,i){const s=Vk(t,i,e);return Ts(s!==null),KB(s,i,t.host,t._protocol)}return n}function Ld(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dB():i=cB():n.getStatus()===402?i=uB(t.bucket):n.getStatus()===403?i=hB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function T0(t){const e=Ld(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=lB(t.path)),s.serverResponse=i.serverResponse,s}return n}function YB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ra(i,s,w0(t,n),o);return a.errorHandler=T0(e),a}function QB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ra(i,s,GB(t,n),o);return a.errorHandler=T0(e),a}function XB(t,e){const n=e.fullServerUrl(),r=hu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Ra(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=T0(e),a}function JB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $k(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=JB(null,e)),r}function ZB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let y=0;y<2;y++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=$k(e,r,i),c=Fk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Xs.getBlob(h,r,f);if(p===null)throw Ck();const g={name:u.fullPath},w=hu(s,t.host,t._protocol),E="POST",k=t.maxUploadRetryTime,P=new Ra(w,E,w0(t,n),k);return P.urlParams=g,P.headers=o,P.body=p.uploadData(),P.errorHandler=Ld(e),P}class Kf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function E0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ts(!1)}return Ts(!!n&&(e||["active"]).indexOf(n)!==-1),n}function e5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=$k(e,r,i),a={name:o.fullPath},l=hu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Fk(o,n),f=t.maxUploadRetryTime;function p(w){E0(w);let E;try{E=w.getResponseHeader("X-Goog-Upload-URL")}catch{Ts(!1)}return Ts(cm(E)),E}const g=new Ra(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Ld(e),g}function t5(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=E0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ts(!1)}h||Ts(!1);const f=Number(h);return Ts(!isNaN(f)),new Kf(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ra(n,o,s,a);return l.headers=i,l.errorHandler=Ld(e),l}const J1=256*1024;function n5(t,e,n,r,i,s,o,a){const l=new Kf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw gB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw Ck();function E(y,M){const L=E0(y,["active","final"]),S=l.current+c,I=r.size();let b;return L==="final"?b=w0(e,s)(y,M):b=null,new Kf(S,I,L==="final",b)}const k="POST",P=e.maxUploadRetryTime,T=new Ra(n,k,E,P);return T.headers=g,T.body=w.uploadData(),T.progressCallback=a||null,T.errorHandler=Ld(t),T}const Mr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tg(t){switch(t){case"running":case"pausing":case"canceling":return Mr.RUNNING;case"paused":return Mr.PAUSED;case"success":return Mr.SUCCESS;case"canceled":return Mr.CANCELED;case"error":return Mr.ERROR;default:return Mr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r){if(IB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class i5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Nu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s5 extends i5{initXhr(){this.xhr_.responseType="text"}}function Ho(){return new s5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Lk(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(kk(i.status,[]))if(s)i=Sk();else{this.sleepTime=Math.max(this.sleepTime*2,aB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=e5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=t5(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ho,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=J1*this._chunkMultiplier,n=new Kf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=n5(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ho,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){J1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=YB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=ZB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ho,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ak(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Tg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new r5(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Tg(this._state)){case Mr.SUCCESS:za(this._resolve.bind(null,this.snapshot))();break;case Mr.CANCELED:case Mr.ERROR:const n=this._reject;za(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Tg(this._state)){case Mr.RUNNING:case Mr.PAUSED:e.next&&za(e.next.bind(e,this.snapshot))();break;case Mr.SUCCESS:e.complete&&za(e.complete.bind(e))();break;case Mr.CANCELED:case Mr.ERROR:e.error&&za(e.error.bind(e,this._error))();break;default:e.error&&za(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mk(this._location.path)}get storage(){return this._service}get parent(){const e=BB(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _B(e)}}function a5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new o5(t,new Xs(e),n)}function l5(t){t._throwIfRoot("getDownloadURL");const e=QB(t.storage,t._location,Lk());return t.storage.makeRequestWithTokens(e,Ho).then(n=>{if(n===null)throw vB();return n})}function u5(t){t._throwIfRoot("deleteObject");const e=XB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ho)}function c5(t,e){const n=jB(t._location.path,e),r=new Yr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){return/^[A-Za-z]+:\/\//.test(t)}function h5(t,e){return new pa(t,e)}function Uk(t,e){if(t instanceof I0){const n=t;if(n._bucket==null)throw mB();const r=new pa(n,n._bucket);return e!=null?Uk(r,e):r}else return e!==void 0?c5(t,e):t}function f5(t,e){if(e&&d5(e)){if(t instanceof I0)return h5(t,e);throw ny("To use ref(service, url), the first argument must be a Storage instance.")}else return Uk(t,e)}function Z1(t,e){const n=e==null?void 0:e[Ik];return n==null?null:Yr.makeFromBucketSpec(n,t)}function p5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:iO(i,t.app.options.projectId))}class I0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ek,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sB,this._maxUploadRetryTime=oB,this._requests=new Set,i!=null?this._bucket=Yr.makeFromBucketSpec(i,this._host):this._bucket=Z1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=Z1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){X1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){X1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new bB(Ok());{const o=RB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const eE="@firebase/storage",tE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="storage";function m5(t,e,n){return t=Dt(t),a5(t,e,n)}function Dre(t){return t=Dt(t),l5(t)}function g5(t){return t=Dt(t),u5(t)}function v5(t,e){return t=Dt(t),f5(t,e)}function y5(t=Cd(),e){t=Dt(t);const r=xs(t,Bk).getImmediate({identifier:e}),i=nO("storage");return i&&_5(r,...i),r}function _5(t,e,n,r={}){p5(t,e,n,r)}function b5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new I0(n,r,i,e,Po)}function w5(){Hr(new xr(Bk,b5,"PUBLIC").setMultipleInstances(!0)),nr(eE,tE,""),nr(eE,tE,"esm2017")}w5();let Dh;const T5=new Uint8Array(16);function E5(){if(!Dh&&(Dh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dh(T5)}const Yn=[];for(let t=0;t<256;++t)Yn.push((t+256).toString(16).slice(1));function I5(t,e=0){return Yn[t[e+0]]+Yn[t[e+1]]+Yn[t[e+2]]+Yn[t[e+3]]+"-"+Yn[t[e+4]]+Yn[t[e+5]]+"-"+Yn[t[e+6]]+Yn[t[e+7]]+"-"+Yn[t[e+8]]+Yn[t[e+9]]+"-"+Yn[t[e+10]]+Yn[t[e+11]]+Yn[t[e+12]]+Yn[t[e+13]]+Yn[t[e+14]]+Yn[t[e+15]]}const S5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nE={randomUUID:S5};function A5(t,e,n){if(nE.randomUUID&&!e&&!t)return nE.randomUUID();t=t||{};const r=t.random||(t.rng||E5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return I5(r)}const Pn=class Pn{constructor(e,n,r={},i,s){Vi(this,"errorCode");this.errorCode=s,Pn.log(r.debug,n),r.route&&JD.push({name:r.route}),j2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};Vi(Pn,"success",(e,n={})=>new Pn("Success",e,n)),Vi(Pn,"info",(e,n,r={})=>new Pn("Info",n,r,e)),Vi(Pn,"update",(e,n={})=>new Pn("Warning",e,n,"Update")),Vi(Pn,"warning",(e,n={})=>new Pn("Warning",e,n)),Vi(Pn,"error",(e,n={})=>new Pn("Error",e,n)),Vi(Pn,"generalError",(e,n,r)=>new Pn("Error",(n==null?void 0:n.message)||jk,{debug:e},void 0,r)),Vi(Pn,"firebaseError",(e,n)=>{Pn.log(e,n);let r;return n instanceof ti&&Object.keys(xh).includes(n.code)?(r=n.code,n.message=xh[r]):n instanceof Error&&Object.keys(xh).includes(n.name)?(r=n.name,n.message=xh[r]):n.message=void 0,Pn.generalError(e,n,r)}),Vi(Pn,"log",(e,n)=>{e&&console.log(n)});let Re=Pn;const jk="Something went wrong";var Hk=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_INVALID_CREDENTIAL="auth/invalid-credential",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(Hk||{});const rE=t=>Object.values(Hk).includes(t),xh={"":jk,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/invalid-credential":"Invalid credentials","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};function S0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C5=Wk,qk=new Oo("auth","Firebase",Wk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new lu("@firebase/auth");function O5(t,...e){Gf.logLevel<=ft.WARN&&Gf.warn(`Auth (${Po}): ${t}`,...e)}function sf(t,...e){Gf.logLevel<=ft.ERROR&&Gf.error(`Auth (${Po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw A0(t,...e)}function Ji(t,...e){return A0(t,...e)}function zk(t,e,n){const r=Object.assign(Object.assign({},C5()),{[e]:n});return new Oo("auth","Firebase",r).create(e,{appName:t.name})}function Zi(t){return zk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qk.create(t,...e)}function Ze(t,e,...n){if(!t)throw A0(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sf(e),new Error(e)}function Ps(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P5(){return iE()==="http:"||iE()==="https:"}function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P5()||sO()||"connection"in navigator)?navigator.onLine:!0}function R5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=b_()||oO()}get(){return k5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Vd(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function is(t,e,n,r,i={}){return Gk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=au(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return cF()||(u.referrerPolicy="no-referrer"),Kk.fetch()(Yk(t,t.config.apiHost,n,a),u)})}async function Gk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D5),e);try{const i=new M5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zk(t,c,u);Mi(t,c)}}catch(i){if(i instanceof ti)throw i;Mi(t,"network-request-failed",{message:String(i)})}}async function Fd(t,e,n,r,i={}){const s=await is(t,e,n,r,i);return"mfaPendingCredential"in s&&Mi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Yk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?C0(t.config,i):`${t.config.apiScheme}://${i}`}function N5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ji(this.auth,"network-request-failed")),x5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ji(t,e,r);return i.customData._tokenResponse=n,i}function sE(t){return t!==void 0&&t.enterprise!==void 0}class L5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V5(t,e){return is(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function Qk(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $5(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=O0(r);Ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gc(Eg(i.auth_time)),issuedAtTime:gc(Eg(i.iat)),expirationTime:gc(Eg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Eg(t){return Number(t)*1e3}function O0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Df(n);return i?JSON.parse(i):(sf("Failed to decode base64 JWT payload"),null)}catch(i){return sf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oE(t){const e=O0(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&U5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kl(t,Qk(n,{idToken:r}));Ze(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Xk(s.providerUserInfo):[],a=H5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function j5(t){const e=Dt(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xk(t){return t.map(e=>{var{providerId:n}=e,r=S0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e){const n=await Gk(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Yk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q5(t,e){return is(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const n=oE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await W5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Il;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ze(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=S0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $5(this,e)}reload(){return j5(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Kl(this,F5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:y,isAnonymous:M,providerData:L,stsTokenManager:S}=n;Ze(T&&S,e,"internal-error");const I=Il.fromJSON(this.name,S);Ze(typeof T=="string",e,"internal-error"),Us(h,e.name),Us(f,e.name),Ze(typeof y=="boolean",e,"internal-error"),Ze(typeof M=="boolean",e,"internal-error"),Us(p,e.name),Us(g,e.name),Us(w,e.name),Us(E,e.name),Us(k,e.name),Us(P,e.name);const b=new vs({uid:T,auth:e,email:f,emailVerified:y,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:w,stsTokenManager:I,createdAt:k,lastLoginAt:P});return L&&Array.isArray(L)&&(b.providerData=L.map(v=>Object.assign({},v))),E&&(b._redirectEventId=E),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Il;i.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ze(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Xk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Il;a.updateFromIdToken(r);const l=new vs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new iy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function ys(t){Ps(t instanceof Function,"Expected a class definition");let e=aE.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jk.type="NONE";const lE=Jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=of(this.userKey,i.apiKey,s),this.fullPersistenceKey=of("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sl(ys(lE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ys(lE);const o=of(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=vs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Sl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iR(e))return"Blackberry";if(sR(e))return"Webos";if(eR(e))return"Safari";if((e.includes("chrome/")||tR(e))&&!e.includes("edge/"))return"Chrome";if(rR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zk(t=wr()){return/firefox\//i.test(t)}function eR(t=wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tR(t=wr()){return/crios\//i.test(t)}function nR(t=wr()){return/iemobile/i.test(t)}function rR(t=wr()){return/android/i.test(t)}function iR(t=wr()){return/blackberry/i.test(t)}function sR(t=wr()){return/webos/i.test(t)}function P0(t=wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z5(t=wr()){var e;return P0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K5(){return dF()&&document.documentMode===10}function oR(t=wr()){return P0(t)||rR(t)||sR(t)||iR(t)||/windows phone/i.test(t)||nR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e=[]){let n;switch(t){case"Browser":n=uE(wr());break;case"Worker":n=`${uE(wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e={}){return is(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=6;class X5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Q5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new G5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qk(this,{idToken:e}),r=await vs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Zi(this));const n=e?Dt(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y5(this),n=new X5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Da(t){return Dt(t)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bF(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z5(t){dm=t}function lR(t){return dm.loadJS(t)}function ej(){return dm.recaptchaEnterpriseScript}function tj(){return dm.gapiScript}function nj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rj="recaptcha-enterprise",ij="NO_RECAPTCHA";class sj{constructor(e){this.type=rj,this.auth=Da(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{V5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new L5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;sE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(ij)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&sE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ej();l.length!==0&&(l+=a),lR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function dE(t,e,n,r=!1){const i=new sj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await dE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await dE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e){const n=xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bc(s,e??{}))return i;Mi(i,"already-initialized")}return n.initialize({options:e})}function aj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function lj(t,e){return is(t,"POST","/v1/accounts:update",e)}async function uj(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e){return Fd(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function dj(t,e){return is(t,"POST","/v1/accounts:sendOobCode",Ns(t,e))}async function hj(t,e){return dj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){return Fd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function pj(t,e){return Fd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends k0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,n,"signInWithPassword",cj);case"emailLink":return fj(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,r,"signUpPassword",uj);case"emailLink":return pj(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e){return Fd(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="http://localhost";class ma extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=S0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ma(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:mj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vj(t){const e=Ku(Gu(t)).link,n=e?Ku(Gu(e)).deep_link_id:null,r=Ku(Gu(t)).deep_link_id;return(r?Ku(Gu(r)).link:null)||r||n||e||t}class R0{constructor(e){var n,r,i,s,o,a;const l=Ku(Gu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=gj((i=l.mode)!==null&&i!==void 0?i:null);Ze(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vj(e);try{return new R0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=R0.parseLink(n);return Ze(r,"argument-error"),Jc._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends uR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends $d{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends $d{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends $d{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e){return Fd(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vs._fromIdTokenResponse(e,r,i),o=hE(r);return new ga({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hE(r);return new ga({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xf(e,n,r,i)}}function cR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,s,e,r):s})}async function _j(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,n=!1){const{auth:r}=t;if(Ti(r.app))return Promise.reject(Zi(r));const i="reauthenticate";try{const s=await Kl(t,cR(r,i,e,t),n);Ze(s.idToken,r,"internal-error");const o=O0(s.idToken);Ze(o,r,"internal-error");const{sub:a}=o;return Ze(t.uid===a,r,"user-mismatch"),ga._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e,n=!1){if(Ti(t.app))return Promise.reject(Zi(t));const r="signIn",i=await cR(t,r,e),s=await ga._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function bj(t,e){return hR(Da(t),e)}async function fE(t,e){return dR(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e,n){var r;Ze(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ze(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ze(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ze(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t){const e=Da(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tj(t,e,n){const r=Da(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&wj(r,i,n),await Qf(r,i,"getOobCode",hj)}async function Ej(t,e,n){if(Ti(t.app))return Promise.reject(Zi(t));const r=Da(t),o=await Qf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fR(t),l}),a=await ga._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ij(t,e,n){return Ti(t.app)?Promise.reject(Zi(t)):bj(Dt(t),Eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fR(t),r})}function Sj(t,e){const n=Dt(t);return Ti(n.auth.app)?Promise.reject(Zi(n.auth)):pR(n,e,null)}function Aj(t,e){return pR(Dt(t),null,e)}async function pR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Kl(t,lj(r,s));await t._updateTokensIfNecessary(o,!0)}function Cj(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Oj(t){return Dt(t).signOut()}async function Pj(t){return Dt(t).delete()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=1e3,Rj=10;class gR extends mR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);K5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gR.type="LOCAL";const Dj=gR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends mR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vR.type="SESSION";const yR=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await xj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=D0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return window}function Mj(t){es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function Lj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Fj(){return _R()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebaseLocalStorageDb",$j=1,Zf="firebaseLocalStorage",wR="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function Uj(){const t=indexedDB.deleteDatabase(bR);return new Ud(t).toPromise()}function sy(){const t=indexedDB.open(bR,$j);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zf,{keyPath:wR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await Uj(),e(await sy()))})})}async function pE(t,e,n){const r=fm(t,!0).put({[wR]:e,value:n});return new Ud(r).toPromise()}async function Bj(t,e){const n=fm(t,!1).get(e),r=await new Ud(n).toPromise();return r===void 0?null:r.value}function mE(t,e){const n=fm(t,!0).delete(e);return new Ud(n).toPromise()}const jj=800,Hj=3;class TR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Hj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _R()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Lj(),!this.activeServiceWorker)return;this.sender=new Nj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Vj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await pE(e,Jf,"1"),await mE(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Bj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fm(i,!1).getAll();return new Ud(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TR.type="LOCAL";const Wj=TR;new Vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){return e?ys(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends k0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zj(t){return hR(t.auth,new x0(t),t.bypassAuthState)}function Kj(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),dR(n,new x0(t),t.bypassAuthState)}async function Gj(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),_j(n,new x0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zj;case"linkViaPopup":case"linkViaRedirect":return Gj;case"reauthViaPopup":case"reauthViaRedirect":return Kj;default:Mi(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Vd(2e3,1e4);class ll extends ER{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yj.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="pendingRedirect",af=new Map;class Xj extends ER{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const r=await Jj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jj(t,e){const n=tH(e),r=eH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Zj(t,e){af.set(t._key(),e)}function eH(t){return ys(t._redirectPersistence)}function tH(t){return of(Qj,t.config.apiKey,t.name)}async function nH(t,e,n=!1){if(Ti(t.app))return Promise.reject(Zi(t));const r=Da(t),i=qj(r,e),o=await new Xj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=10*60*1e3;class iH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ji(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rH&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lH=/^https?/;async function uH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oH(t);for(const n of e)try{if(cH(n))return}catch{}Mi(t,"unauthorized-domain")}function cH(t){const e=ry(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lH.test(n))return!1;if(aH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=new Vd(3e4,6e4);function vE(){const t=es().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hH(t){return new Promise((e,n)=>{var r,i,s;function o(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),n(Ji(t,"network-request-failed"))},timeout:dH.get()})}if(!((i=(r=es().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=es().gapi)===null||s===void 0)&&s.load)o();else{const a=nj("iframefcb");return es()[a]=()=>{gapi.load?o():n(Ji(t,"network-request-failed"))},lR(`${tj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lf=null,e})}let lf=null;function fH(t){return lf=lf||hH(t),lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=new Vd(5e3,15e3),mH="__/auth/iframe",gH="emulator/auth/iframe",vH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _H(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?C0(e,gH):`https://${t.config.authDomain}/${mH}`,r={apiKey:e.apiKey,appName:t.name,v:Po},i=yH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${au(r).slice(1)}`}async function bH(t){const e=await fH(t),n=es().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:_H(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ji(t,"network-request-failed"),a=es().setTimeout(()=>{s(o)},pH.get());function l(){es().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TH=500,EH=600,IH="_blank",SH="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AH(t,e,n,r=TH,i=EH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=wr().toLowerCase();n&&(a=tR(u)?IH:n),Zk(u)&&(e=e||SH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(z5(u)&&a!=="_self")return CH(e||"",a),new yE(null);const h=window.open(e||"",a,c);Ze(h,t,"popup-blocked");try{h.focus()}catch{}return new yE(h)}function CH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="__/auth/handler",PH="emulator/auth/handler",kH=encodeURIComponent("fac");async function _E(t,e,n,r,i,s){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Po,eventId:i};if(e instanceof uR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ov(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof $d){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${kH}=${encodeURIComponent(l)}`:"";return`${RH(t)}?${au(a).slice(1)}${u}`}function RH({config:t}){return t.emulator?C0(t,PH):`https://${t.authDomain}/${OH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class DH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yR,this._completeRedirectFn=nH,this._overrideRedirectResult=Zj}async _openPopup(e,n,r,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await _E(e,n,r,ry(),i);return AH(e,o,D0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await _E(e,n,r,ry(),i);return Mj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bH(e),r=new iH(e);return n.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ig,{type:Ig},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ig];o!==void 0&&n(!!o),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oR()||eR()||P0()}}const xH=DH;var bE="@firebase/auth",wE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LH(t){Hr(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aR(t)},u=new J5(r,i,s,l);return aj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hr(new xr("auth-internal",e=>{const n=Da(e.getProvider("auth").getImmediate());return(r=>new NH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(bE,wE,MH(t)),nr(bE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=5*60;lF("authIdTokenMaxAge");function FH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ji("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LH("Browser");const SR=Symbol("firebaseApp");function N0(t){return ei()&&Rr(SR,null)||Cd(t)}const $H=typeof window<"u",Mh=new WeakMap;function UH(t,e){if(!Mh.has(t)){const n=Qy(!0);Mh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Mh.delete(t)}}return Mh.get(t)}const AR=new WeakMap;function CR(t){return AR.get(N0(t))}const Lh=new WeakMap;function OR(t){const e=N0(t);if(!Lh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Lh.set(e,s),n(s.value)}];Lh.set(e,i)}return Lh.get(e)}function PR(t){const e=OR(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function BH(t,e){Cj(e,n=>{const r=OR();t.value=n,Array.isArray(r)&&r[1](t)})}var TE={};const EE="@firebase/database",IE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kR="";function jH(t){kR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HH(e)}}catch{}return new WH},Ko=RR("localStorage"),oy=RR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new lu("@firebase/database"),qH=function(){let t=1;return function(){return t++}}(),DR=function(t){const e=IF(t),n=new _F;n.update(e);const r=n.digest();return Lp.encodeByteArray(r)},Bd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Bd.apply(null,r):typeof r=="object"?e+=Qn(r):e+=r,e+=" "}return e};let ta=null,SE=!0;const zH=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cl.logLevel=ft.VERBOSE,ta=Cl.log.bind(Cl),e&&oy.set("logging_enabled",!0)):typeof t=="function"?ta=t:(ta=null,oy.remove("logging_enabled"))},fr=function(...t){if(SE===!0&&(SE=!1,ta===null&&oy.get("logging_enabled")===!0&&zH(!0)),ta){const e=Bd.apply(null,t);ta(e)}},jd=function(t){return function(...e){fr(t,...e)}},ay=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bd(...t);Cl.error(e)},va=function(...t){const e=`FIREBASE FATAL ERROR: ${Bd(...t)}`;throw Cl.error(e),new Error(e)},Zr=function(...t){const e="FIREBASE WARNING: "+Bd(...t);Cl.warn(e)},KH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},GH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gl="[MIN_NAME]",ya="[MAX_NAME]",fu=function(t,e){if(t===e)return 0;if(t===Gl||e===ya)return-1;if(e===Gl||t===ya)return 1;{const n=AE(t),r=AE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},YH=function(t,e){return t===e?0:t<e?-1:1},Mu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qn(e))},M0=function(t){if(typeof t!="object"||t===null)return Qn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qn(e[r]),n+=":",n+=M0(t[e[r]]);return n+="}",n},NR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function hi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const MR=function(t){ke(!xR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},QH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},JH=new RegExp("^-?(0*)\\d{1,10}$"),ZH=-2147483648,e7=2147483647,AE=function(t){if(JH.test(t)){const e=Number(t);if(e>=ZH&&e<=e7)return e}return null},Hd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Zr("Exception was thrown by user callback.",n),e},Math.floor(0))}},t7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Zr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zr(e)}}class ly{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ly.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="5",LR="v",VR="s",FR="r",$R="f",UR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BR="ls",jR="p",uy="ac",HR="websocket",WR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ko.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ko.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function s7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===HR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===WR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);s7(t)&&(n.ns=t.namespace);const i=[];return hi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.counters_={}}incrementCounter(e,n=1){Ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg={},Ag={};function V0(t){const e=t.toString();return Sg[e]||(Sg[e]=new o7),Sg[e]}function a7(t,e){const n=t.toString();return Ag[n]||(Ag[n]=e()),Ag[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="start",u7="close",c7="pLPCommand",d7="pRTLPCB",zR="id",KR="pw",GR="ser",h7="cb",f7="seg",p7="ts",m7="d",g7="dframe",YR=1870,QR=30,v7=YR-QR,y7=25e3,_7=3e4;class ul{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jd(e),this.stats_=V0(n),this.urlFn=l=>(this.appCheckToken&&(l[uy]=this.appCheckToken),qR(n,WR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new l7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_7)),GH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new F0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===CE)this.id=a,this.password=l;else if(o===u7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[CE]="t",r[GR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[h7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[LR]=L0,this.transportSessionId&&(r[VR]=this.transportSessionId),this.lastSessionId&&(r[BR]=this.lastSessionId),this.applicationId&&(r[jR]=this.applicationId),this.appCheckToken&&(r[uy]=this.appCheckToken),typeof location<"u"&&location.hostname&&UR.test(location.hostname)&&(r[FR]=$R);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ul.forceAllow_=!0}static forceDisallow(){ul.forceDisallow_=!0}static isAvailable(){return ul.forceAllow_?!0:!ul.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QH()&&!XH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZC(n),i=NR(r,v7);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[g7]="t",r[zR]=e,r[KR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class F0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qH(),window[c7+this.uniqueCallbackIdentifier]=e,window[d7+this.uniqueCallbackIdentifier]=n,this.myIFrame=F0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){fr("frame writing exception"),a.stack&&fr(a.stack),fr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zR]=this.myID,e[KR]=this.myPW,e[GR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+QR+r.length<=YR;){const o=this.pendingSegs.shift();r=r+"&"+f7+i+"="+o.seg+"&"+p7+i+"="+o.ts+"&"+m7+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(y7)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=16384,w7=45e3;let ep=null;typeof MozWebSocket<"u"?ep=MozWebSocket:typeof WebSocket<"u"&&(ep=WebSocket);class bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jd(this.connId),this.stats_=V0(n),this.connURL=bi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[LR]=L0,typeof location<"u"&&location.hostname&&UR.test(location.hostname)&&(o[FR]=$R),n&&(o[VR]=n),r&&(o[BR]=r),i&&(o[uy]=i),s&&(o[jR]=s),qR(e,HR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ko.set("previous_websocket_failure",!0);try{let r;aO(),this.mySock=new ep(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ep!==null&&!bi.forceDisallow_}static previouslyFailed(){return Ko.isInMemoryStorage||Ko.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ko.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Qn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NR(n,b7);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(w7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ul,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=bi&&bi.isAvailable();let r=n&&!bi.previouslyFailed();if(e.webSocketOnly&&(n||Zr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bi];else{const i=this.transports_=[];for(const s of Zc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Zc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=6e4,E7=5e3,I7=10*1024,S7=100*1024,Cg="t",OE="d",A7="s",PE="r",C7="e",kE="o",RE="a",DE="n",xE="p",O7="h";class P7{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jd("c:"+this.id+":"),this.transportManager_=new Zc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=vc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>S7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>I7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cg in e){const n=e[Cg];n===RE?this.upgradeIfSecondaryHealthy_():n===PE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:RE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mu(Cg,e);if(OE in e){const r=e[OE];if(n===O7){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===DE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===A7?this.onConnectionShutdown_(r):n===PE?this.onReset_(r):n===C7?ay("Server Error: "+r):n===kE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ay("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),L0!==r&&Zr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(T7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(E7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ko.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends JR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!b_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tp}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=32,ME=768;class un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function jt(){return new un("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Io(t){return t.pieces_.length-t.pieceNum_}function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function ZR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function k7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function eD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new un(e,0)}function jn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new un(n,0)}function vt(t){return t.pieceNum_>=t.pieces_.length}function ai(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return ai(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nD(t,e){if(Io(t)!==Io(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Io(t)>Io(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class R7{constructor(e,n){this.errorPrefix_=n,this.parts_=eD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$p(this.parts_[r]);rD(this)}}function D7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$p(e),rD(t)}function x7(t){const e=t.parts_.pop();t.byteLength_-=$p(e),t.parts_.length>0&&(t.byteLength_-=1)}function rD(t){if(t.byteLength_>ME)throw new Error(t.errorPrefix_+"has a key path longer than "+ME+" bytes ("+t.byteLength_+").");if(t.parts_.length>NE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+NE+") or object contains a cycle "+Uo(t))}function Uo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends JR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $0}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=1e3,N7=60*5*1e3,LE=30*1e3,M7=1.3,L7=3e4,V7="server_kill",VE=3;class Es extends XR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Es.nextPersistentConnectionId_++,this.log_=jd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lu,this.maxReconnectDelay_=N7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!aO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Qn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new la,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Es.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ds(e,"w")){const r=Fl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Zr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=LE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ay("Unrecognized action received from server: "+Qn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>L7&&(this.reconnectDelay_=Lu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*M7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Es.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?fr("getToken() completed but was canceled"):(fr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new P7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Zr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(V7)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Zr(h),l())}}}interrupt(e){fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ov(this.interruptReasons_)&&(this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>M0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){fr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=VE&&(this.reconnectDelay_=LE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){fr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=VE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+kR.replace(/\./g,"-")]=1,b_()?e["framework.cordova"]=1:oO()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tp.getInstance().currentlyOnline();return Ov(this.interruptReasons_)&&e}}Es.nextPersistentConnectionId_=0;Es.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Gl,e),i=new Tt(Gl,n);return this.compare(r,i)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh;class iD extends pm{static get __EMPTY_NODE(){return Vh}static set __EMPTY_NODE(e){Vh=e}compare(e,n){return fu(e.name,n.name)}isDefinedOn(e){throw ou("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(ya,Vh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,Vh)}toString(){return".key"}}const Ol=new iD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bn.RED,this.left=i??Ur.EMPTY_NODE,this.right=s??Ur.EMPTY_NODE}copy(e,n,r,i,s){return new Bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ur.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ur.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bn.RED=!0;Bn.BLACK=!1;class F7{copy(e,n,r,i,s){return this}insert(e,n,r){return new Bn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ur{constructor(e,n=Ur.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ur(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Ur(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fh(this.root_,null,this.comparator_,!0,e)}}Ur.EMPTY_NODE=new F7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t,e){return fu(t.name,e.name)}function U0(t,e){return fu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy;function U7(t){cy=t}const sD=function(t){return typeof t=="number"?"number:"+MR(t):"string:"+t},oD=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ds(e,".sv"),"Priority must be a string or number.")}else ke(t===cy||t.isEmpty(),"priority of unexpected type.");ke(t===cy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE;class $n{constructor(e,n=$n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oD(this.priorityNode_)}static set __childrenNodeConstructor(e){FE=e}static get __childrenNodeConstructor(){return FE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vt(e)?this:wt(e)===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||Io(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$n.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=MR(this.value_):e+=this.value_,this.lazyHash_=DR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $n.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$n.VALUE_TYPE_ORDER.indexOf(n),s=$n.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$n.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aD,lD;function B7(t){aD=t}function j7(t){lD=t}class H7 extends pm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(ya,new $n("[PRIORITY-POST]",lD))}makePost(e,n){const r=aD(e);return new Tt(n,new $n("[PRIORITY-POST]",r))}toString(){return".priority"}}const gr=new H7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=Math.log(2);class q7{constructor(e){const n=s=>parseInt(Math.log(s)/W7,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const np=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Bn(f,h.node,Bn.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),w=i(p+1,u);return h=t[p],f=n?n(h):h,new Bn(f,h.node,Bn.BLACK,g,w)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,w){const E=h-g,k=h;h-=g;const P=i(E+1,k),T=t[E],y=n?n(T):T;p(new Bn(y,T.node,w,null,P))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const w=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));w?f(E,Bn.BLACK):(f(E,Bn.BLACK),f(E,Bn.RED))}return c},o=new q7(t.length),a=s(o);return new Ur(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og;const Ka={};class _s{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(Ka&&gr,"ChildrenNode.ts has not been loaded"),Og=Og||new _s({".priority":Ka},{".priority":gr}),Og}get(e){const n=Fl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ur?n:null}hasIndex(e){return Ds(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==Ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=np(r,e.getCompare()):a=Ka;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new _s(c,u)}addToIndexes(e,n){const r=xf(this.indexes_,(i,s)=>{const o=Fl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===Ka)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Tt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),np(a,o.getCompare())}else return Ka;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Tt(e.name,a))),l.insert(e,e.node)}});return new _s(r,this.indexSet_)}removeFromIndexes(e,n){const r=xf(this.indexes_,i=>{if(i===Ka)return i;{const s=n.get(e.name);return s?i.remove(new Tt(e.name,s)):i}});return new _s(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oD(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vu||(Vu=new Vt(new Ur(U0),null,_s.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vu:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Vu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{ke(wt(e)!==".priority"||Io(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(gr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sD(this.getPriority().val())+":"),this.forEachChild(gr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":DR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wd?-1:0}withIndex(e){if(e===Ol||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ol||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gr),i=n.getIterator(gr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ol?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class z7 extends Vt{constructor(){super(new Ur(U0),Vt.EMPTY_NODE,_s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const Wd=new z7;Object.defineProperties(Tt,{MIN:{value:new Tt(Gl,Vt.EMPTY_NODE)},MAX:{value:new Tt(ya,Wd)}});iD.__EMPTY_NODE=Vt.EMPTY_NODE;$n.__childrenNodeConstructor=Vt;U7(Wd);j7(Wd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=!0;function pr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $n(n,pr(e))}if(!(t instanceof Array)&&K7){const n=[];let r=!1;if(hi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=pr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Tt(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=np(n,$7,o=>o.name,U0);if(r){const o=np(n,gr.getCompare());return new Vt(s,pr(e),new _s({".priority":o},{".priority":gr}))}else return new Vt(s,pr(e),_s.Default)}else{let n=Vt.EMPTY_NODE;return hi(t,(r,i)=>{if(Ds(t,r)&&r.substring(0,1)!=="."){const s=pr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(pr(e))}}B7(pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7 extends pm{constructor(e){super(),this.indexPath_=e,ke(!vt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}makePost(e,n){const r=pr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,Wd);return new Tt(ya,e)}toString(){return eD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7 extends pm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=pr(e);return new Tt(n,r)}toString(){return".value"}}const Q7=new Y7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){return{type:"value",snapshotNode:t}}function J7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Z7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $E(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function e8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gl}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ya}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gr}copy(){const e=new B0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gr?n="$priority":t.index_===Q7?n="$value":t.index_===Ol?n="$key":(ke(t.index_ instanceof G7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function BE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends XR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=rp.getListenId_(e,r),a={};this.listens_[o]=a;const l=UE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Fl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=rp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=UE(e._queryParams),r=e._path.toString(),i=new la;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+au(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uc(a.responseText)}catch{Zr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Zr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){return{value:null,children:new Map}}function uD(t,e,n){if(vt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,ip());const i=t.children.get(r);e=sn(e),uD(i,e,n)}}function dy(t,e,n){t.value!==null?n(e,t.value):n8(t,(r,i)=>{const s=new un(e.toString()+"/"+r);dy(i,s,n)})}function n8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&hi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=10*1e3,i8=30*1e3,s8=5*60*1e3;class o8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new r8(e);const r=jE+(i8-jE)*Math.random();vc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;hi(e,(i,s)=>{s>0&&Ds(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),vc(this.reportStats_.bind(this),Math.floor(Math.random()*2*s8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ki||(Ki={}));function cD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ki.ACK_USER_WRITE,this.source=cD()}operationForChild(e){if(vt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new un(e));return new sp(jt(),n,this.revert)}}else return ke(wt(this.path)===e,"operationForChild called for unrelated child."),new sp(sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ki.OVERWRITE}operationForChild(e){return vt(this.path)?new _a(this.source,jt(),this.snap.getImmediateChild(e)):new _a(this.source,sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ki.MERGE}operationForChild(e){if(vt(this.path)){const n=this.children.subtree(new un(e));return n.isEmpty()?null:n.value?new _a(this.source,jt(),n.value):new ed(this.source,jt(),n)}else return ke(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ed(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function a8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(e8(o.childName,o.snapshotNode))}),Fu(t,i,"child_removed",e,r,n),Fu(t,i,"child_added",e,r,n),Fu(t,i,"child_moved",s,r,n),Fu(t,i,"child_changed",e,r,n),Fu(t,i,"value",e,r,n),i}function Fu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>u8(t,a,l)),o.forEach(a=>{const l=l8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function l8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function u8(t,e,n){if(e.childName==null||n.childName==null)throw ou("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){return{eventCache:t,serverCache:e}}function yc(t,e,n,r){return fD(new j0(e,n,r),t.serverCache)}function pD(t,e,n,r){return fD(t.eventCache,new j0(e,n,r))}function hy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ba(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg;const c8=()=>(Pg||(Pg=new Ur(YH)),Pg);class rn{constructor(e,n=c8()){this.value=e,this.children=n}static fromObject(e){let n=new rn(null);return hi(e,(r,i)=>{n=n.set(new un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:jt(),value:this.value};if(vt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sn(e),n);return s!=null?{path:jn(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,n){if(vt(e))return new rn(n,this.children);{const r=wt(e),s=(this.children.get(r)||new rn(null)).set(sn(e),n),o=this.children.insert(r,s);return new rn(this.value,o)}}remove(e){if(vt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(sn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rn(null):new rn(this.value,s)}else return this}}get(e){if(vt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(vt(e))return n;{const r=wt(e),s=(this.children.get(r)||new rn(null)).setTree(sn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rn(this.value,o)}}fold(e){return this.fold_(jt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(jn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,jt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(vt(e))return null;{const s=wt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),jn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,jt(),n)}foreachOnPath_(e,n,r){if(vt(e))return this;{this.value&&r(n,this.value);const i=wt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),jn(n,i),r):new rn(null)}}foreach(e){this.foreach_(jt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(jn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.writeTree_=e}static empty(){return new Ai(new rn(null))}}function _c(t,e,n){if(vt(e))return new Ai(new rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=ai(i,e);return s=s.updateChild(o,n),new Ai(t.writeTree_.set(i,s))}else{const i=new rn(n),s=t.writeTree_.setTree(e,i);return new Ai(s)}}}function HE(t,e,n){let r=t;return hi(n,(i,s)=>{r=_c(r,jn(e,i),s)}),r}function WE(t,e){if(vt(e))return Ai.empty();{const n=t.writeTree_.setTree(e,new rn(null));return new Ai(n)}}function fy(t,e){return xa(t,e)!=null}function xa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ai(n.path,e)):null}function qE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gr,(r,i)=>{e.push(new Tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Tt(r,i.value))}),e}function uo(t,e){if(vt(e))return t;{const n=xa(t,e);return n!=null?new Ai(new rn(n)):new Ai(t.writeTree_.subtree(e))}}function py(t){return t.writeTree_.isEmpty()}function Yl(t,e){return mD(jt(),t.writeTree_,e)}function mD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=mD(jn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(jn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){return wD(e,t)}function d8(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=_c(t.visibleWrites,e,n)),t.lastWriteId=r}function h8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function f8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&p8(a,r.path)?i=!1:Ei(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return m8(t),!0;if(r.snap)t.visibleWrites=WE(t.visibleWrites,r.path);else{const a=r.children;hi(a,l=>{t.visibleWrites=WE(t.visibleWrites,jn(r.path,l))})}return!0}else return!1}function p8(t,e){if(t.snap)return Ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ei(jn(t.path,n),e))return!0;return!1}function m8(t){t.visibleWrites=vD(t.allWrites,g8,jt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function g8(t){return t.visible}function vD(t,e,n){let r=Ai.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ei(n,o)?(a=ai(n,o),r=_c(r,a,s.snap)):Ei(o,n)&&(a=ai(o,n),r=_c(r,jt(),s.snap.getChild(a)));else if(s.children){if(Ei(n,o))a=ai(n,o),r=HE(r,a,s.children);else if(Ei(o,n))if(a=ai(o,n),vt(a))r=HE(r,jt(),s.children);else{const l=Fl(s.children,wt(a));if(l){const u=l.getChild(sn(a));r=_c(r,jt(),u)}}}else throw ou("WriteRecord should have .snap or .children")}}return r}function yD(t,e,n,r,i){if(!r&&!i){const s=xa(t.visibleWrites,e);if(s!=null)return s;{const o=uo(t.visibleWrites,e);if(py(o))return n;if(n==null&&!fy(o,jt()))return null;{const a=n||Vt.EMPTY_NODE;return Yl(o,a)}}}else{const s=uo(t.visibleWrites,e);if(!i&&py(s))return n;if(!i&&n==null&&!fy(s,jt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ei(u.path,e)||Ei(e,u.path))},a=vD(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return Yl(a,l)}}}function v8(t,e,n){let r=Vt.EMPTY_NODE;const i=xa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=uo(t.visibleWrites,e);return n.forEachChild(gr,(o,a)=>{const l=Yl(uo(s,new un(o)),a);r=r.updateImmediateChild(o,l)}),qE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=uo(t.visibleWrites,e);return qE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function y8(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=jn(e,n);if(fy(t.visibleWrites,s))return null;{const o=uo(t.visibleWrites,s);return py(o)?i.getChild(n):Yl(o,i.getChild(n))}}function _8(t,e,n,r){const i=jn(e,n),s=xa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=uo(t.visibleWrites,i);return Yl(o,r.getNode().getImmediateChild(n))}else return null}function b8(t,e){return xa(t.visibleWrites,e)}function w8(t,e,n,r,i,s,o){let a;const l=uo(t.visibleWrites,e),u=xa(l,jt());if(u!=null)a=u;else if(n!=null)a=Yl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function T8(){return{visibleWrites:Ai.empty(),allWrites:[],lastWriteId:-1}}function my(t,e,n,r){return yD(t.writeTree,t.treePath,e,n,r)}function _D(t,e){return v8(t.writeTree,t.treePath,e)}function zE(t,e,n,r){return y8(t.writeTree,t.treePath,e,n,r)}function op(t,e){return b8(t.writeTree,jn(t.treePath,e))}function E8(t,e,n,r,i,s){return w8(t.writeTree,t.treePath,e,n,r,i,s)}function H0(t,e,n){return _8(t.writeTree,t.treePath,e,n)}function bD(t,e){return wD(jn(t.treePath,e),t.writeTree)}function wD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,$E(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Z7(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,J7(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,$E(r,e.snapshotNode,i.oldSnap));else throw ou("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const TD=new S8;class W0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new j0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return H0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ba(this.viewCache_),s=E8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function A8(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function C8(t,e,n,r,i){const s=new I8;let o,a;if(n.type===Ki.OVERWRITE){const u=n;u.source.fromUser?o=gy(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!vt(u.path),o=ap(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ki.MERGE){const u=n;u.source.fromUser?o=P8(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=vy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ki.ACK_USER_WRITE){const u=n;u.revert?o=D8(t,e,u.path,r,i,s):o=k8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ki.LISTEN_COMPLETE)o=R8(t,e,n.path,r,s);else throw ou("Unknown operation type: "+n.type);const l=s.getChanges();return O8(e,o,l),{viewCache:o,changes:l}}function O8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=hy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(X7(hy(e)))}}function ED(t,e,n,r,i,s){const o=e.eventCache;if(op(r,n)!=null)return e;{let a,l;if(vt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ba(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,h=_D(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=my(r,ba(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=wt(n);if(u===".priority"){ke(Io(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=zE(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=sn(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=zE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=H0(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return yc(e,a,o.isFullyInitialized()||vt(n),t.filter.filtersNodes())}}function ap(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(vt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&Io(n)>1)return e;const g=sn(n),E=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),p,E,g,TD,null)}const h=pD(e,u,l.isFullyInitialized()||vt(n),c.filtersNodes()),f=new W0(i,h,s);return ED(t,h,n,i,f,a)}function gy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new W0(i,e,s);if(vt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=yc(e,u,!0,t.filter.filtersNodes());else{const h=wt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=yc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=sn(n),p=a.getNode().getImmediateChild(h);let g;if(vt(f))g=r;else{const w=c.getCompleteChild(h);w!=null?ZR(f)===".priority"&&w.getChild(tD(f)).isEmpty()?g=w:g=w.updateChild(f,r):g=Vt.EMPTY_NODE}if(p.equals(g))l=e;else{const w=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=yc(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function KE(t,e){return t.eventCache.isCompleteForChild(e)}function P8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=jn(n,l);KE(e,wt(c))&&(a=gy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=jn(n,l);KE(e,wt(c))||(a=gy(t,a,c,u,i,s,o))}),a}function GE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function vy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;vt(n)?u=r:u=new rn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=GE(t,p,f);l=ap(t,l,new un(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),w=GE(t,g,f);l=ap(t,l,new un(h),w,i,s,o,a)}}),l}function k8(t,e,n,r,i,s,o){if(op(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(vt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ap(t,e,n,l.getNode().getChild(n),i,s,a,o);if(vt(n)){let u=new rn(null);return l.getNode().forEachChild(Ol,(c,h)=>{u=u.set(new un(c),h)}),vy(t,e,n,u,i,s,a,o)}else return e}else{let u=new rn(null);return r.foreach((c,h)=>{const f=jn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),vy(t,e,n,u,i,s,a,o)}}function R8(t,e,n,r,i){const s=e.serverCache,o=pD(e,s.getNode(),s.isFullyInitialized()||vt(n),s.isFiltered());return ED(t,o,n,r,TD,i)}function D8(t,e,n,r,i,s){let o;if(op(r,n)!=null)return e;{const a=new W0(r,e,i),l=e.eventCache.getNode();let u;if(vt(n)||wt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=my(r,ba(e));else{const h=e.serverCache.getNode();ke(h instanceof Vt,"serverChildren would be complete if leaf node"),c=_D(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=wt(n);let h=H0(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,sn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,sn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=my(r,ba(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||op(r,jt())!=null,yc(e,u,o,t.filter.filtersNodes())}}function x8(t,e){const n=ba(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!vt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function YE(t,e,n,r){e.type===Ki.MERGE&&e.source.queryId!==null&&(ke(ba(t.viewCache_),"We should always have a full cache before handling merges"),ke(hy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=C8(t.processor_,i,e,n,r);return A8(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,N8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function N8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return a8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QE;function M8(t){ke(!QE,"__referenceConstructor has already been defined"),QE=t}function q0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),YE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(YE(o,e,n,r));return s}}function z0(t,e){let n=null;for(const r of t.views.values())n=n||x8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE;function L8(t){ke(!XE,"__referenceConstructor has already been defined"),XE=t}class JE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=T8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function V8(t,e,n,r,i){return d8(t.pendingWriteTree_,e,n,r,i),i?gm(t,new _a(cD(),e,n)):[]}function cl(t,e,n=!1){const r=h8(t.pendingWriteTree_,e);if(f8(t.pendingWriteTree_,e)){let s=new rn(null);return r.snap!=null?s=s.set(jt(),!0):hi(r.children,o=>{s=s.set(new un(o),!0)}),gm(t,new sp(r.path,s,n))}else return[]}function mm(t,e,n){return gm(t,new _a(dD(),e,n))}function F8(t,e,n){const r=rn.fromObject(n);return gm(t,new ed(dD(),e,r))}function $8(t,e,n,r){const i=CD(t,r);if(i!=null){const s=OD(i),o=s.path,a=s.queryId,l=ai(o,e),u=new _a(hD(a),l,n);return PD(t,o,u)}else return[]}function U8(t,e,n,r){const i=CD(t,r);if(i){const s=OD(i),o=s.path,a=s.queryId,l=ai(o,e),u=rn.fromObject(n),c=new ed(hD(a),l,u);return PD(t,o,c)}else return[]}function ID(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ai(o,e),u=z0(a,l);if(u)return u});return yD(i,e,s,n,!0)}function gm(t,e){return SD(e,t.syncPointTree_,null,gD(t.pendingWriteTree_,jt()))}function SD(t,e,n,r){if(vt(t.path))return AD(t,e,n,r);{const i=e.get(jt());n==null&&i!=null&&(n=z0(i,jt()));let s=[];const o=wt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=bD(r,o);s=s.concat(SD(a,l,u,c))}return i&&(s=s.concat(q0(i,t,r,n))),s}}function AD(t,e,n,r){const i=e.get(jt());n==null&&i!=null&&(n=z0(i,jt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=bD(r,o),c=t.operationForChild(o);c&&(s=s.concat(AD(c,a,l,u)))}),i&&(s=s.concat(q0(i,t,r,n))),s}function CD(t,e){return t.tagToQueryMap.get(e)}function OD(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function PD(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=gD(t.pendingWriteTree_,e);return q0(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new K0(n)}node(){return this.node_}}class G0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=jn(this.path_,e);return new G0(this.syncTree_,n)}node(){return ID(this.syncTree_,this.path_)}}const B8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ZE=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return j8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return H8(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},j8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},H8=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},W8=function(t,e,n,r){return Y0(e,new G0(n,t),r)},q8=function(t,e,n){return Y0(t,new K0(e),n)};function Y0(t,e,n){const r=t.getPriority().val(),i=ZE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=ZE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $n(a,pr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $n(i))),o.forEachChild(gr,(a,l)=>{const u=Y0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function X0(t,e){let n=e instanceof un?e:new un(e),r=t,i=wt(n);for(;i!==null;){const s=Fl(r.node.children,i)||{children:{},childCount:0};r=new Q0(i,r,s),n=sn(n),i=wt(n)}return r}function pu(t){return t.node.value}function kD(t,e){t.node.value=e,yy(t)}function RD(t){return t.node.childCount>0}function z8(t){return pu(t)===void 0&&!RD(t)}function vm(t,e){hi(t.node.children,(n,r)=>{e(new Q0(n,t,r))})}function DD(t,e,n,r){n&&!r&&e(t),vm(t,i=>{DD(i,e,!0,r)}),n&&r&&e(t)}function K8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qd(t){return new un(t.parent===null?t.name:qd(t.parent)+"/"+t.name)}function yy(t){t.parent!==null&&G8(t.parent,t.name,t)}function G8(t,e,n){const r=z8(n),i=Ds(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yy(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=/[\[\].#$\/\u0000-\u001F\u007F]/,Q8=/[\[\].#$\u0000-\u001F\u007F]/,kg=10*1024*1024,xD=function(t){return typeof t=="string"&&t.length!==0&&!Y8.test(t)},X8=function(t){return typeof t=="string"&&t.length!==0&&!Q8.test(t)},J8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),X8(t)},ND=function(t,e,n){const r=n instanceof un?new R7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Uo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Uo(r)+" with contents = "+e.toString());if(xR(e))throw new Error(t+"contains "+e.toString()+" "+Uo(r));if(typeof e=="string"&&e.length>kg/3&&$p(e)>kg)throw new Error(t+"contains a string greater than "+kg+" utf8 bytes "+Uo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(hi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!xD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Uo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);D7(r,o),ND(t,a,r),x7(r)}),i&&s)throw new Error(t+' contains ".value" child '+Uo(r)+" in addition to actual children.")}},Z8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!J8(n))throw new Error(EF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tW(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!nD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Na(t,e,n){tW(t,n),nW(t,r=>Ei(r,e)||Ei(e,r))}function nW(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(rW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ta&&fr("event: "+n.toString()),Hd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="repo_interrupt",sW=25;class oW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ip(),this.transactionQueueTree_=new Q0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aW(t,e,n){if(t.stats_=V0(t.repoInfo_),t.forceRestClient_||t7())t.server_=new rp(t.repoInfo_,(r,i,s,o)=>{eI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Es(t.repoInfo_,e,(r,i,s,o)=>{eI(t,r,i,s,o)},r=>{tI(t,r)},r=>{uW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=a7(t.repoInfo_,()=>new o8(t.stats_,t.server_)),t.infoData_=new t8,t.infoSyncTree_=new JE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=mm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),J0(t,"connected",!1),t.serverSyncTree_=new JE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Na(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function lW(t){const n=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function MD(t){return B8({timestamp:lW(t)})}function eI(t,e,n,r,i){t.dataUpdateCount++;const s=new un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xf(n,u=>pr(u));o=U8(t.serverSyncTree_,s,l,i)}else{const l=pr(n);o=$8(t.serverSyncTree_,s,l,i)}else if(r){const l=xf(n,u=>pr(u));o=F8(t.serverSyncTree_,s,l)}else{const l=pr(n);o=mm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=eb(t,s)),Na(t.eventQueue_,a,o)}function tI(t,e){J0(t,"connected",e),e===!1&&dW(t)}function uW(t,e){hi(e,(n,r)=>{J0(t,n,r)})}function J0(t,e,n){const r=new un("/.info/"+e),i=pr(n);t.infoData_.updateSnapshot(r,i);const s=mm(t.infoSyncTree_,r,i);Na(t.eventQueue_,r,s)}function cW(t){return t.nextWriteId_++}function dW(t){LD(t,"onDisconnectEvents");const e=MD(t),n=ip();dy(t.onDisconnect_,jt(),(i,s)=>{const o=W8(i,s,t.serverSyncTree_,e);uD(n,i,o)});let r=[];dy(n,jt(),(i,s)=>{r=r.concat(mm(t.serverSyncTree_,i,s));const o=mW(t,i);eb(t,o)}),t.onDisconnect_=ip(),Na(t.eventQueue_,jt(),r)}function hW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(iW)}function LD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fr(n,...e)}function VD(t,e,n){return ID(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function Z0(t,e=t.transactionQueueTree_){if(e||ym(t,e),pu(e)){const n=$D(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&fW(t,qd(e),n)}else RD(e)&&vm(e,n=>{Z0(t,n)})}function fW(t,e,n){const r=n.map(u=>u.currentWriteId),i=VD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=ai(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{LD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(cl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ym(t,X0(t.transactionQueueTree_,e)),Z0(t,t.transactionQueueTree_),Na(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)Hd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Zr("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}eb(t,e)}},o)}function eb(t,e){const n=FD(t,e),r=qd(n),i=$D(t,n);return pW(t,i,r),r}function pW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=ai(n,l.path);let c=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(cl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=sW)c=!0,h="maxretry",i=i.concat(cl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=VD(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){ND("transaction failed: Data returned ",p,l.path);let g=pr(p);typeof p=="object"&&p!=null&&Ds(p,".priority")||(g=g.updatePriority(f.getPriority()));const E=l.currentWriteId,k=MD(t),P=q8(g,f,k);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=P,l.currentWriteId=cW(t),o.splice(o.indexOf(E),1),i=i.concat(V8(t.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(cl(t.serverSyncTree_,E,!0))}else c=!0,h="nodata",i=i.concat(cl(t.serverSyncTree_,l.currentWriteId,!0))}Na(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}ym(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Hd(r[a]);Z0(t,t.transactionQueueTree_)}function FD(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&pu(r)===void 0;)r=X0(r,n),e=sn(e),n=wt(e);return r}function $D(t,e){const n=[];return UD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function UD(t,e,n){const r=pu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vm(e,i=>{UD(t,i,n)})}function ym(t,e){const n=pu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,kD(e,n.length>0?n:void 0)}vm(e,r=>{ym(t,r)})}function mW(t,e){const n=qd(FD(t,e)),r=X0(t.transactionQueueTree_,e);return K8(r,i=>{Rg(t,i)}),Rg(t,r),DD(r,i=>{Rg(t,i)}),n}function Rg(t,e){const n=pu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?kD(e,void 0):n.length=s+1,Na(t.eventQueue_,qd(e),i);for(let o=0;o<r.length;o++)Hd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function vW(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zr(`Invalid query segment '${n}' in query '${t}'`)}return e}const nI=function(t,e){const n=yW(t),r=n.namespace;n.domain==="firebase.com"&&va(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&va("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||KH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new i7(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new un(n.pathString)}},yW=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=gW(t.substring(c,h)));const f=vW(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return vt(this._path)?null:ZR(this._path)}get ref(){return new mu(this._repo,this._path)}get _queryIdentifier(){const e=BE(this._queryParams),n=M0(e);return n==="{}"?"default":n}get _queryObject(){return BE(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof tb))return!1;const n=this._repo===e._repo,r=nD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+k7(this._path)}}class mu extends tb{constructor(e,n){super(e,n,new B0,!1)}get parent(){const e=tD(this._path);return e===null?null:new mu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}M8(mu);L8(mu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W="FIREBASE_DATABASE_EMULATOR_HOST",_y={};let bW=!1;function wW(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||va("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=nI(s,i),a=o.repoInfo,l,u;typeof process<"u"&&TE&&(u=TE[_W]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=nI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new ly(ly.OWNER):new r7(t.name,t.options,e);Z8("Invalid Firebase Database URL",o),vt(o.path)||va("Database URL must point to the root of a Firebase Database (not including a child path).");const h=EW(a,t,c,new n7(t.name,n));return new IW(h,t)}function TW(t,e){const n=_y[e];(!n||n[t.key]!==t)&&va(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hW(t),delete n[t.key]}function EW(t,e,n,r){let i=_y[e.name];i||(i={},_y[e.name]=i);let s=i[t.toURLString()];return s&&va("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new oW(t,bW,n,r),i[t.toURLString()]=s,s}class IW{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mu(this._repo,jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&va("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){jH(Po),Hr(new xr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return wW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),nr(EE,IE,t),nr(EE,IE,"esm2017")}Es.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Es.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};SW();function zd(t){return $9(N0(t))}function AW(t){return CW({initialUser:t,dependencies:{popupRedirectResolver:xH,persistence:[Wj,Dj,yR]}})}const BD=Symbol("VueFireAuth");function CW({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=OW(n,r,e,t);BH(i,s)}}function OW(t,e,n,r,i=oj(t,r)){const s=UH(t,e).run(()=>he(n));return AR.set(t,s),e.provide(BD,i),[s,i]}function PW(t){return $H?Rr(BD):null}function kW(t,{firebaseApp:e,modules:n=[]}){t.provide(SR,e);for(const r of n)r(e,t)}var Rn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.PET_OVERVIEW="pets",t.PET_DETAILS="pet-details",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.TOOLS="tools",t.GAMES="games",t.NOT_FOUND="notfound",t))(Rn||{}),rl=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t.GAMES_PATIENCE="patience",t.GAMES_HANGMAN="guess",t.TOOLS_CAT_CALC="cat-calc",t))(rl||{});const Kd=Ca("settingsStore",()=>{const t=he(!0),e=he(!1);return{isOnline:t,debug:e}},{persist:{enabled:!0}}),rI={visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},iI={isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},jD=Ca("blogPostStore",()=>{const t=zd(),e=Kd(),{debug:n}=_o(e),r={blogPosts:F=>Jn(t,F?hn.BLOG_POSTS_PRIVATE:hn.BLOG_POSTS),blogPostsPrivate:Jn(t,hn.BLOG_POSTS_PRIVATE),blogReactions:F=>Jn(t,F?hn.BLOG_REACTIONS_PRIVATE:hn.BLOG_REACTIONS),files:Jn(t,hn.FILES),usersPublic:Jn(t,hn.USERS_PUBLIC)},i=Dr({...rI}),s=Dr({...iI}),o=le(()=>[...i.data.public,...i.data.private]),a=le(()=>i.data[i.visibility]),l=le(()=>i.previousData[i.visibility]),u=le(()=>i.isLoading.public.fetch||i.isLoading.private.fetch),c=le(()=>i.isLoading.public.mutation||i.isLoading.private.mutation),h=le(()=>i.isDatabaseCreationActive||i.isDatabaseMutationActive||i.isDatabaseDeletionActive||s.isDatabaseCreationActive||s.isDatabaseDeletionActive),f=()=>{Object.assign(i,rI),Object.assign(s,iI)},p=async(F,U={})=>{const x=U.visibility??i.visibility;U.loadingIndicator!==!1&&(i.isLoading[x].fetch=!0);try{const K=i.data[x][i.data[x].length-1],z=[K1("datePinned","desc"),K1("date","desc")];a.value.length||(i.isLastPage=!1),U.amount?U.loadingIndicator!==!1&&(i.data[x]=[]):K&&z.push(Q9(K.datePinned,new Date(K.date))),z.push(Y9(U.amount||3));var C=[];x==="private"&&F?C=await Ci(r.blogPostsPrivate,[f0("allowedUserIds","array-contains",lt(t,r.usersPublic.id,F).id),...z]):x==="public"&&(C=await Ci(r.blogPosts(!1),z));const te=await Promise.all(C.map(async fe=>await Bi.mapIncoming(fe)));if(U.amount)i.data[x]=te;else for(const fe of te)i.data[x].push(fe);te.length<3&&(i.isLastPage=!0)}catch(K){Re.firebaseError(n.value,K)}finally{i.isLoading[x].fetch=!1}},g=async(F,U,x={})=>{console.log("attempt to fetch single");const C=(U==null?void 0:U.visibility)??"public";x.loadingIndicator!==!1&&(i.isLoading[C].fetch=!0);try{var K=await si(lt(r.blogPosts(!!(U!=null&&U.isPrivate)),F));return K||(K=await si(lt(r.blogPostsPrivate,F))),K?(i.data.single=await Bi.mapIncoming(K),i.data.single):null}catch(z){return Re.firebaseError(n.value,z).errorCode??null}finally{i.isLoading[C].fetch=!1}},w=()=>{i.previousData.single=i.data.single,i.previousData[i.visibility]=a.value},E=(F,U)=>{const x=s.unread.length;if(F){let C;if(U?C=i.data.single:C=a.value.find(K=>K.id===F.id),C&&C.reactions.length!==F.reactions.length){const K=C.reactions.filter(z=>!F.reactions.some(te=>te.id===z.id));for(const z of K)s.unread.every(te=>te.id!==z.id)&&s.unread.push(z)}}U&&(x!==s.unread.length&&Re.update("There are unread comments on this page"),w())},k=()=>{const F=s.unread.length;if(l.value.length)for(const U of l.value)E(U);F!==s.unread.length&&Re.update("There are unread comments on this page"),w()},P=async(F,U,x,C={includeTime:!1,fetch:!0})=>{const K=Fo(U);i.isLoading[K.visibility].mutation=!0,i.isDatabaseCreationActive=!0;try{return await co(lt(t,r.blogPosts(K.isPrivate).id,F),{...U,date:C!=null&&C.includeTime?Ut.fromDate(U.date):Ut.now(),dateUpdated:C!=null&&C.includeTime&&U.dateUpdated?Ut.fromDate(U.dateUpdated):null,countdown:U.countdown?Ut.fromDate(U.countdown):null,timer:U.timer?Ut.fromDate(U.timer):null}),i.visibility=K.visibility,C!=null&&C.fetch&&p(x,{amount:a.value.length+1}),Re.success("Successfully created Post"),!0}catch(z){return Re.firebaseError(n.value,z),!1}finally{w(),i.isLoading[K.visibility].mutation=!1,i.isDatabaseCreationActive=!1}},T=async(F,U,x,C)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[x.visibility].mutation=!0;const K=r.blogPosts(x.isPrivate).id;let z="";if(Bi.Content.instanceOf(U)&&(await ii(lt(t,K,F),{...Bi.Content.convert(U),dateUpdated:Ut.now()}),z="content"),Bi.Styling.instanceOf(U)&&(await ii(lt(t,K,F),{...Bi.Styling.convert(U)}),z="styling"),Bi.Settings.instanceOf(U)&&(await ii(lt(t,K,F),{...Bi.Settings.convert(U)}),z="settings"),z==="content"||z==="styling"){let te=await g(F,x);rE(te)&&(te=null),i.data[x.visibility]=i.data[x.visibility].map(fe=>fe.id===(te==null?void 0:te.id)?te:fe)}else p(C,{amount:i.data[x.visibility].length});return z}catch(K){Re.firebaseError(n.value,K)}finally{w(),i.isLoading[x.visibility].mutation=!1,i.isDatabaseMutationActive=!1}},y=async(F,U,x,C,K)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[C].mutation=!0;const z=o.value.find(te=>te.id===F);if(await M(F,{includeFiles:!1,includeReactions:!1}),z&&await P(F,U,K,{includeTime:!0,fetch:!1})){let te;do i.data[C]=[],await p(K,{visibility:C}),te=o.value.find(fe=>fe.id===F);while(!te);if(i.visibility=C,te){for(const fe of x)await S(fe.id,z,{mutatePost:!1,fetch:!1})||Re.error("Failed to delete old Reaction",{debug:n.value}),await L(te,lp.convert(fe),{includeTime:!0,fetch:!1})||Re.error("Failed to re-create Reaction",{debug:n.value});for(const fe of b(z)){const Z=oI(fe);await j(Z.name,te)||Re.error("Failed to move Image",{debug:n.value})}return p(K,{amount:a.value.length}),!0}else return Re.error("Failed to re-create Post",{debug:n.value}),!1}else return Re.error("Failed to re-create Post",{debug:n.value}),!1}catch(z){return Re.firebaseError(n.value,z),!1}finally{w(),i.isLoading[C].mutation=!1,i.isDatabaseMutationActive=!1}},M=async(F,U={includeFiles:!0,includeReactions:!0})=>{try{i.isDatabaseDeletionActive=!0;const x=o.value.find(C=>C.id===F);if(x){U.includeReactions&&await I(x),U.includeFiles&&await B(x);const C=Fo(x);return await Go(lt(t,r.blogPosts(C.isPrivate).id,F)),i.data[C.visibility]=i.data[C.visibility].filter(K=>K.id!==F),Re.success("Successfully deleted Post"),!0}return!1}catch(x){return Re.firebaseError(n.value,x),!1}finally{w(),i.isDatabaseDeletionActive=!1}},L=async(F,U,x={includeTime:!1,fetch:!0})=>{try{s.isDatabaseCreationActive=!0;const C=Fo(F),K=lt(t,r.blogPosts(C.isPrivate).id,F.id),z=await si(K);if(z){const te=await VW(r.blogReactions(C.isPrivate),{user:lt(t,r.usersPublic.id,U.userId),message:U.message,date:x!=null&&x.includeTime?Ut.fromDate(U.date):Ut.now(),post:K});if(await ii(lt(t,r.blogPosts(C.isPrivate).id,z.id),{reactions:[...z.reactions??[],te]}),x!=null&&x.fetch){let fe=await g(z.id,C,{loadingIndicator:!1});rE(fe)&&(fe=null),i.data[C.visibility]=i.data[C.visibility].map(Z=>Z.id===z.id?fe??Z:Z)}return Re.success("Successfully created Reaction"),!0}return!1}catch(C){return Re.firebaseError(n.value,C),!1}finally{w(),s.isDatabaseCreationActive=!1}},S=async(F,U,x={mutatePost:!0,fetch:!0})=>{var C;try{s.isDatabaseDeletionActive=!0;const K=Fo(U);if(x.mutatePost){const z=lt(t,r.blogPosts(K.isPrivate).id,U.id),te=await si(z);te&&await ii(z,{reactions:((C=te.reactions)==null?void 0:C.filter(fe=>fe.id!==F))??[]})}return await Go(lt(t,r.blogReactions(K.isPrivate).id,F)),x!=null&&x.fetch&&(U.reactions=U.reactions.filter(z=>z.id!==F),i.data[K.visibility]=i.data[K.visibility].map(z=>z.id===U.id?U:z)),Re.success("Successfully deleted Reaction"),!0}catch(K){return Re.firebaseError(n.value,K),!1}finally{w(),s.isDatabaseDeletionActive=!1}},I=async F=>{try{s.isDatabaseDeletionActive=!0;const U=Fo(F),x=(F==null?void 0:F.reactions)??[];for(const C of x)await Go(lt(t,r.blogReactions(U.isPrivate).id,C.id));return x.length&&Re.success(`Successfully deleted ${x.length} Reaction${x.length!==1?"s":""}`),!0}catch(U){return Re.firebaseError(n.value,U),!1}finally{w(),s.isDatabaseDeletionActive=!1}},b=(F,U)=>{var C,K;const x=[];if(F.coverImageUrl&&(!U||!U.coverImageUrl)&&x.push(F.coverImageUrl),F.sections.length)for(const[z,te]of F.sections.entries()){const fe=(K=(C=U==null?void 0:U.sections)==null?void 0:C[z])==null?void 0:K.coverImageUrl,Z=te.coverImageUrl;Z&&(!U||!fe)&&x.push(Z)}return x},v=async F=>{try{return await si(lt(t,r.files.path,F))}catch(U){return Re.firebaseError(n.value,U),null}},A=async(F,U,x,C,K,z,te)=>await R(F.name,C,K,z,te)&&await O(F,U,x),O=async(F,U,x)=>{try{const C=m5(F,U);return C.on("state_changed",K=>{const z=K.bytesTransferred/K.totalBytes*100;x(z)}),await C,Re.success("Successfully uploaded File"),!0}catch(C){return Re.firebaseError(n.value,C),!1}},R=async(F,U,x,C,K)=>{try{let z;if(K){const te=Fo(K);z=lt(t,r.blogPosts(te.isPrivate).id,K.id)}return await co(lt(t,r.files.path,F),{name:U,owner:x,post:z??null,public:C??!1}),!0}catch(z){return Re.firebaseError(n.value,z),!1}},j=async(F,U)=>{try{let x;if(U){const C=Fo(U);x=lt(t,r.blogPosts(C.isPrivate).id,U.id)}return await ii(lt(t,r.files.path,F),{post:x??null}),!0}catch(x){return Re.firebaseError(n.value,x),!1}},V=async(F,U=!1)=>{try{return await Go(lt(t,r.files.path,F.name)),await g5(F),U||Re.success("Successfully deleted File"),!0}catch(x){return Re.firebaseError(n.value,x),!1}},B=async(F,U)=>{try{const x=b(F,U);for(const C of x)await V(oI(C),!0);return x.length&&Re.success(`Successfully deleted ${x.length} File${x.length!==1?"s":""}`),!0}catch(x){return Re.firebaseError(n.value,x),!1}};return{collections:r,blogPosts:i,blogReactions:s,allBlogPosts:o,visibleBlogPosts:a,previousVisibleBlogPosts:l,isBlogPostsFetchLoading:u,isBlogPostsMutationLoading:c,isBlogPostDatabaseActionActive:h,$reset:f,fetchBlogPosts:p,fetchBlogPost:g,setPreviousBlogPosts:w,checkBlogPostForUnreadReactions:E,checkBlogPostsForUnreadReactions:k,createBlogPost:P,updateBlogPost:T,toggleBlogPostVisibility:y,deleteBlogPost:M,createBlogReaction:L,deleteBlogReaction:S,deleteBlogReactionsOfBlogPost:I,getFilesOfPost:b,fetchFileInfo:v,uploadFile:A,createFile:O,createFileInfo:R,updateFileInfo:j,deleteFile:V,deleteFilesOfBlogPost:B}},{persist:{enabled:!0}}),HD=Ca("userStore",()=>{const t=zd(),e=Kd(),{debug:n}=_o(e),r=CR(),i={users:Jn(t,hn.USERS),usersPublic:Jn(t,hn.USERS_PUBLIC),usersOnline:Jn(t,hn.USERS_ONLINE)},s=he(null),o=he(null),a=he([]),l=he([]),u=he([]),c=he([]),h=he(!1),f=le(()=>E(o.value,s.value,u.value.find(j=>{var V;return j.id===((V=s.value)==null?void 0:V.id)}))),p=le(()=>u.value.filter(j=>ib(new Date(j.lastOnline))<=60));In(()=>[l.value,a.value,u.value],()=>{c.value=l.value.map(j=>{if(f.value&&f.value.id===j.id)return f.value;const V=a.value.find(F=>F.id===j.id),B=u.value.find(F=>F.id===j.id);return E(j,V,B)}).filter(j=>j!==null).sort((j,V)=>{try{const B=j.lastOnline?new Date(j.lastOnline).getTime():0;return(V.lastOnline?new Date(V.lastOnline).getTime():0)-B}catch{return 0}})});const g=()=>{a.value=[],l.value=[],u.value=[]},w=()=>{s.value=null,o.value=null},E=(j,V,B)=>j?{...V,...j??{displayName:"Anonymous"},lastOnline:(B==null?void 0:B.lastOnline)??null}:null,k=async()=>{if(!r.value)return;o.value=await si(lt(t,i.usersPublic.id,r.value.uid));const j=await si(lt(t,i.users.id,r.value.uid));j!=null&&(s.value=await wc.mapIncoming(j))},P=async()=>{try{const j=await Ci(i.users);a.value=await Promise.all(j.map(async V=>await wc.mapIncoming(V)))}catch(j){return Re.firebaseError(n.value,j),null}},T=async()=>{try{l.value=await Ci(i.usersPublic)}catch(j){return Re.firebaseError(n.value,j),null}},y=async j=>{try{return await si(lt(t,i.usersPublic.id,j))}catch(V){return Re.firebaseError(n.value,V),null}};return{currentUser:s,publicUser:o,combinedUser:f,users:a,publicUsers:l,onlineUsersInfo:u,onlineUsers:p,combinedUsers:c,isMutationLoading:h,$reset:g,$resetCurrentUser:w,fetchUser:k,fetchUsers:P,fetchPublicUsers:T,fetchPublicUser:y,allowedPublicUsers:async j=>{try{return(await Promise.all(j.map(async B=>{const F=await y(B);return F?{...F,displayName:F.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},fetchOnlineUsers:async()=>{try{const j=await Ci(i.usersOnline);u.value=await Promise.all(j.map(wy.mapIncoming))}catch{return null}},createUser:async(j,V)=>{try{h.value=!0,await co(lt(t,i.users.id,j),{firstName:V,createdAt:new Date})}catch(B){Re.firebaseError(n.value,B)}finally{h.value=!1}},updateUser:async j=>{try{if(!r.value)return;h.value=!0,s.value&&(bc(wc.convert(s.value),j)?Re.warning("Nothing changed in your details"):(await ii(lt(t,i.users.id,r.value.uid),{firstName:j.firstName,lastName:j.lastName}),await k(),Re.success("Successfully updated your profile")))}catch(V){Re.firebaseError(n.value,V)}finally{h.value=!1}},updateUserLastLogin:async()=>{try{if(!r.value)return;await ii(lt(t,i.users.id,r.value.uid),{lastLogin:new Date})}catch(j){Re.firebaseError(n.value,j)}},updatePublicUser:async j=>{try{h.value=!0,r.value&&o.value?bc(o.value,j)?Re.warning("Nothing changed in your public profile"):(await ii(lt(t,i.usersPublic.id,o.value.id),{displayName:j.displayName,avatar:j.avatar}),await k(),Re.success("Successfully updated your public profile")):r.value?(await co(lt(t,i.usersPublic.id,r.value.uid),{displayName:j.displayName,avatar:j.avatar}),await k(),Re.success("Successfully updated your public profile")):Re.firebaseError(n.value)}catch(V){Re.firebaseError(n.value,V)}finally{h.value=!1}},updateOnlineUser:async()=>{try{if(!r.value)return;const j=lt(t,i.usersOnline.id,r.value.uid);(await wk(j)).exists()?await ii(j,{lastOnline:Ut.now()}):await co(j,{lastOnline:Ut.now()})}catch{return null}},deleteOnlineUser:async()=>{r.value&&await Go(lt(t,i.usersOnline.id,r.value.uid))},deleteUser:async()=>{r.value&&await Go(lt(t,i.users.id,r.value.uid))}}},{persist:{enabled:!0}}),RW=Ca("petStore",()=>{const t=zd(),e=td(),n=Kd(),{firebaseUser:r}=_o(e),{debug:i}=_o(n),s={pets:Jn(t,hn.PETS)},o=he([]),a=he(!1),l=he(!1),u=le(()=>o.value.filter(E=>{var k;return E.userId===((k=r.value)==null?void 0:k.uid)})),c=le(()=>o.value.filter(E=>{var k;return E.userId!==((k=r.value)==null?void 0:k.uid)})),h=le(()=>a.value?o.value:u.value),f=()=>{o.value=[]},p=async(E=!1)=>{var P;const k=(P=r.value)==null?void 0:P.uid;if(k){const T=await Ci(Jn(t,hn.PETS),E?void 0:[f0("userId","==",k)]);o.value=await Promise.all(T.map(async y=>await Ty.mapIncoming(y)))}};return{pets:o,viewAllPets:a,isMutationLoading:l,myPets:u,notMyPets:c,visiblePets:h,$reset:f,fetchPets:p,mutatePet:async(E,k)=>{if(r.value)try{if(l.value=!0,r.value){const P={userId:r.value.uid,name:E.name,avatar:E.avatar,dateOfBirth:E.dateOfBirth,type:E.type,breed:E.breed,breedSize:E.breedSize,gender:E.gender,weight:E.weight,insideCat:E.insideCat,castrated:E.castrated,dewormingDate:E.dewormingDate,vetDate:E.vetDate,lastVaccinationDate:E.lastVaccinationDate,nextVaccinationDate:E.nextVaccinationDate,weightLog:E.weightLog};k?(await ii(lt(s.pets,k),P),Re.success("Successfully updated your Pet")):(await co(lt(s.pets),P),Re.success("Successfully updated your Pet")),await p()}}catch(P){Re.firebaseError(i.value,P)}finally{l.value=!1}},deletePet:async E=>{try{l.value=!0;const k=o.value.find(P=>P.id===E);k&&(await Go(lt(s.pets,E)),o.value=o.value.filter(P=>P.id!==k.id),Re.success("Successfully deleted your Pet"))}catch(k){Re.firebaseError(i.value,k)}finally{l.value=!1}}}},{persist:{enabled:!0}}),nb=Ca("mainStore",()=>{const t=zd(),e=td(),n=HD(),r=RW(),i=jD(),s=Kd(),{debug:o,isOnline:a}=_o(s),{isLoggedIn:l}=_o(e),{fetchPublicUsers:u,fetchUsers:c}=n,{fetchBlogPosts:h}=i,{fetchPets:f}=r,p={content:Jn(t,hn.CONTENT),projects:Jn(t,hn.PROJECTS),menuItems:V=>Jn(t,V?hn.MENU_ITEMS_PRIVATE:hn.MENU_ITEMS),menuItemsPrivate:Jn(t,hn.MENU_ITEMS_PRIVATE),usersPublic:Jn(t,hn.USERS_PUBLIC)},g=he(YD),w=he(jW),E=he(lI),k=he(HW),P=he(!1),T=he(null),y=he(null),M=le(()=>k.value.filter(V=>!V.loading)),L=le(()=>E.value.filter(V=>!V.loading)),S=le(()=>E.value.filter(V=>!V.invisible&&(!V.authenticated||l.value))),I=()=>{E.value=lI},b=()=>{I(),n.$reset(),i.$reset(),r.$reset()},v=async(V,B)=>{try{P.value||(P.value=!0,console.log("attempt to fetch all"),(o.value||a.value&&(!L.value.length||B))&&(console.log("fetch all"),b(),await Promise.all([j(V),A(),O(),h(V),u(),f(!0)]),e.isOwner&&await c()))}catch(F){Re.firebaseError(o.value,F)}finally{P.value=!1}},A=async()=>{try{const V=await si(lt(t,p.content.id,"production"));w.value={...w.value,...V||{}}}catch(V){Re.firebaseError(o.value,V)}},O=async()=>{try{const V=await Promise.all((await Ci(p.projects)).map(async B=>({...B,technologies:await Promise.all(B.technologies.map(async F=>await si(F)))})));k.value=V.length?aI(V):k.value}catch(V){Re.firebaseError(o.value,V)}},R=(V,B)=>{const F=k.value.splice(V,1)[0];k.value.splice(B,0,F)},j=async V=>{try{let B=await Ci(p.menuItems());if(V)try{B=B.concat(await Ci(p.menuItemsPrivate,[f0("allowedUserIds","array-contains",lt(t,p.usersPublic.id,V).id)]))}catch{}return E.value=B.length?aI(B):E.value,E.value}catch(B){Re.firebaseError(o.value,B)}};return{profile:g,content:w,menuItems:E,projects:k,isFetchAllLoading:P,routeLoading:T,routeLoadingId:y,filteredProjects:M,filteredMenuItems:L,visibleMenuItems:S,fetchAll:v,fetchContent:A,fetchProjects:O,moveProject:R,fetchMenuItems:j}},{persist:{enabled:!0}}),td=Ca("authStore",()=>{const t=PW(),e=nb(),n=HD(),r=jD(),i=Kd(),s=CR(),{$resetCurrentUser:o,fetchUser:a,createUser:l,updateUserLastLogin:u,updatePublicUser:c,deleteOnlineUser:h,deleteUser:f}=n,{debug:p}=_o(i);t.onAuthStateChanged(async v=>{await P(),o(),a(),e.filteredMenuItems.length,r.$patch({blogPosts:{...r.blogPosts,data:{...r.blogPosts.data,private:[]}}}),e.fetchAll(v==null?void 0:v.uid,!0)});const g=he(!1),w=he(!1),E=le(()=>!!s.value),k=le(()=>{var v;return((v=s.value)==null?void 0:v.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}),P=async()=>{s.value=await PR()};return{firebaseUser:s,isLoggedIn:E,isLoginLoading:g,isLogoutLoading:w,isOwner:k,login:async(v,A)=>{try{g.value=!0;const{user:O}=await Ij(t,v,A);await P(),await u(),await a(),e.fetchAll(O.uid,!0),Re.success("Successfully logged in",{route:Rn.DASHBOARD})}catch(O){Re.firebaseError(p.value,O)}finally{g.value=!1}},register:async(v,A,O)=>{try{g.value=!0;const{user:R}=await Ej(t,v,A);await l(R.uid,O),await P(),await c({displayName:"Anonymous",avatar:""}),await a(),Re.success("Successfully created your account",{route:Rn.DASHBOARD})}catch(R){Re.firebaseError(p.value,R)}finally{g.value=!1}},updateMail:async(v,A)=>{try{if(g.value=!0,s.value&&s.value.email){const O=Eo.credential(s.value.email,A);await fE(s.value,O),await P(),await Sj(s.value,v),Re.success("Successfully changed your e-mail")}}catch(O){Re.firebaseError(p.value,O)}finally{g.value=!1}},updatePassword:async(v,A)=>{try{if(g.value=!0,s.value&&s.value.email){const O=Eo.credential(s.value.email,A);await fE(s.value,O),await Aj(s.value,v),Re.success("Successfully changed your password")}}catch(O){Re.firebaseError(p.value,O)}finally{g.value=!1}},resetPassword:async v=>{try{await Tj(t,v),Re.success("Successfully requested password reset")}catch(A){Re.firebaseError(!1,A)}},updateUserLastLogin:u,logout:async()=>{try{w.value=!0,await Oj(t),e.fetchAll(void 0,!0),Re.success("Successfully logged out",{route:Rn.HOME})}catch(v){Re.firebaseError(p.value,v)}finally{w.value=!1}},deleteAccount:async()=>{try{w.value=!0,s.value&&(await h(),await f(),await Pj(s.value),Re.success("Successfully deleted your account",{route:Rn.HOME}))}catch(v){Re.firebaseError(p.value,v)}finally{w.value=!1}}}},{persist:{enabled:!0}});var DW=(t=>(t.YAHTZEE="yahtzee",t.RAINWORMS="rainworms",t.PATIENCE="patience",t.GUESS_THE_WORD="guess",t))(DW||{});const $h=()=>({gameData:{highscores:[],scores:[]},previousPersonalBest:null,previousHighscorePosition:null}),sI=()=>({yahtzee:$h(),rainworms:$h(),patience:$h(),guess:$h()}),xW=Ca("gameStore",()=>{const t=zd(),e=td(),{firebaseUser:n}=_o(e),r=he(null),i=he(!0),s=he(1.5),o=he(!1),a=Dr(sI()),l={highscores:y=>Jn(t,hn.GAME_DATA,y,hn.HIGHSCORES),scores:y=>Jn(t,hn.GAME_DATA,y,hn.SCORES)},u=le(()=>{var L,S;const y=(L=n.value)==null?void 0:L.uid;return!y||!r.value?0:((S=a[r.value].gameData.highscores.find(I=>I.id===y))==null?void 0:S.score)??0}),c=le(()=>{var S;const y=(S=n.value)==null?void 0:S.uid;return!y||!r.value?0:a[r.value].gameData.highscores.findIndex(I=>I.id===y)+1}),h=y=>{r.value=y},f=()=>{Object.assign(a,sI())},p=(y=!1)=>{if(n.value&&r.value){const M=a[r.value];(!y||M.previousPersonalBest===null)&&(M.previousPersonalBest=u.value),(!y||M.previousHighscorePosition===null)&&(M.previousHighscorePosition=c.value)}},g=async()=>{await w(),await E()},w=async()=>{try{if(!r.value)return;o.value=!0;const y=await Ci(l.highscores(r.value));a[r.value].gameData.highscores=await Promise.all(y.map(up.Highscore.mapIncoming)),T("highscores"),p(!0)}catch(y){Re.firebaseError(!0,y)}finally{o.value=!1}},E=async()=>{try{if(!r.value)return;o.value=!0;const y=await Ci(l.scores(r.value));a[r.value].gameData.scores=await Promise.all(y.map(up.Highscore.mapIncoming)),T("scores")}catch(y){Re.firebaseError(!0,y)}finally{o.value=!1}},k=async y=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L||!r.value)return!1;if(y.score){await P(y),await w();const S=a[r.value].gameData,I=S.highscores.find(b=>b.id===L);if(!I||I.score<y.score){p();const b={score:y.score,userId:L,date:new Date,bonus:(y==null?void 0:y.bonus)??null,turns:(y==null?void 0:y.turns)??null,time:(y==null?void 0:y.time)??null,penalty:(y==null?void 0:y.penalty)??null,difficulty:(y==null?void 0:y.difficulty)??null},v={id:L,...b},A=lt(l.highscores(r.value),L);if(I){try{await ii(A,b)}catch(O){console.log(O)}Object.assign(I,v)}else await co(A,b),S.highscores.push({...v,date:b.date.toString()});return T("highscores"),!0}}return!1}catch(L){return Re.firebaseError(!0,L),!1}},P=async y=>{var M;try{const L=(M=n.value)==null?void 0:M.uid;if(!L||!r.value)return!1;const S=a[r.value].gameData,I={score:y.score,userId:L,date:new Date,bonus:(y==null?void 0:y.bonus)??null,turns:(y==null?void 0:y.turns)??null,time:(y==null?void 0:y.time)??null,penalty:(y==null?void 0:y.penalty)??null,difficulty:(y==null?void 0:y.difficulty)??null},b=lt(l.scores(r.value));return await co(b,I),S.scores.push({id:b.id,...I,date:I.date.toString()}),T("scores"),!0}catch(L){return Re.firebaseError(!0,L),!1}},T=y=>{r.value&&a[r.value].gameData[y].sort((M,L)=>L.score-M.score)};return{gameId:r,useAudio:i,diceRollSpeed:s,fetchLoading:o,allGameData:a,personalBest:u,highscorePosition:c,$init:h,$reset:f,setPreviousHighscores:p,fetchGameData:g,fetchHighscores:w,fetchScores:E,updateHighscores:k,sortHighscores:T}},{persist:{enabled:!0}}),NW=1e3,MW=NW*60,LW=MW*60,rb=LW*24,by=rb*365,WD=async t=>{const e=await wk(t),n=e.data();return n?{id:e.id,...n}:null},Ci=async(t,e)=>{const n=await eB(e?G9(t,...e):t);return Promise.all(n.docs.map(r=>WD(r.ref)))},si=WD,VW=iB,co=tB,ii=nB,Go=rB,oI=t=>v5(y5(),t),aI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),xre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},bc=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!bc(a,o[l])||o.some((u,c)=>!bc(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!bc(r,i))return!1}else if(r!==i)return!1}return!0},ib=t=>Math.round((Date.now()-t.getTime())/1e3),Nre=t=>FW(new Date(t)),qD={month:"long",day:"numeric"},zD={year:"numeric",month:"long",day:"numeric"},FW=t=>new Date().getTime()-t.getTime()>0?$W(t):UW(t),$W=t=>{try{const e=ib(t);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const n=new Date,s=(n.getTime()-t.getTime())%by/rb,o=t.toLocaleDateString("en-GB",t.getFullYear()>=n.getFullYear()?qD:zD);if(s<=7){const a={weekday:"long"};return t.toLocaleDateString("en-GB",a)}else return o}}}catch{return"Unknown"}},UW=t=>{try{const e=ib(t)*-1;if(e<30)return"Now";if(e<60)return`In ${e} second${e!==1?"s":""}`;if(e<60*60){const n=Math.floor(e/60);return`In ${n} minute${n!==1?"s":""}`}else if(e<60*60*24){const n=Math.floor(e/3600);return`In ${n} hour${n!==1?"s":""}`}else{if(e<60*60*24*2)return"Tomorrow";{const n=new Date,r=t.getTime()-n.getTime(),i=r/by,o=r%by/rb,a=t.toLocaleDateString("en-GB",i<=1?qD:zD);if(o<=7){const l={weekday:"long"};return t.toLocaleDateString("en-GB",l)}else return a}}}catch{return"Unknown"}},Mre=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},Lre=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},Vre=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Fo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Fre=t=>Array.isArray(t)?t:[t],$re=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Ure=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),Bre=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},jre=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},BW=()=>A5(),Hre=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},Wre=t=>{let e=t.length;for(;e!=0;){let n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}},qre={value:new Audio("/sounds/applause-and-cheer.mp3"),startTime:0},KD={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},GD={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};KD.value.preload="auto";GD.value.preload="auto";const zre=t=>{const{useAudio:e}=xW();if(!e)return;[KD,GD].forEach(r=>{r.value!==t.value&&(r.value.pause(),r.value.currentTime=r.startTime)}),t.value.currentTime=t.startTime,t.value.play()},YD={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},jW={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},HW=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],lI=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],Kre=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Bi;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",date:e.date.toDate().toString(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate().toString())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate().toString())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await si(l)))??[])).map(async l=>lp.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??BW(),subTitle:l.subTitle??"",alignment:l.alignment??"center",tableAlignment:l.tableAlignment??"left",countdown:((u=l.countdown)==null?void 0:u.toDate().toString())??null,timer:((c=l.timer)==null?void 0:c.toDate().toString())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??"",openByDefault:l.openByDefault??!1}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate().toString())??null,timer:((a=e.timer)==null?void 0:a.toDate().toString())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",sections:e.sections.map(n=>({...n,countdown:n.countdown?new Date(n.countdown):null,timer:n.timer?new Date(n.timer):null}))??[],date:new Date(e.date),dateUpdated:e.dateUpdated?new Date(e.dateUpdated):null,datePinned:e.datePinned?new Date(e.datePinned):null,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown?new Date(e.countdown):null,timer:e.timer?new Date(e.timer):null,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,tableAlignment:n.tableAlignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","tableAlignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Bi||(Bi={}));var lp;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await si(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate().toString()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:new Date(e.date)})})(lp||(lp={}));var wc;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate().toString(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate().toString()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(wc||(wc={}));var uI;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(uI||(uI={}));var wy;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate().toString()})})(wy||(wy={}));const Gre=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"},{label:"Other",value:"other"}],Yre=[{label:"Male",value:"male"},{label:"Female",value:"female"}],Qre=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Giant",value:"giant"}];var Ty;(t=>{t.convert=e=>({userId:e.userId,name:e.name,avatar:e.avatar??null,dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth):null,type:e.type??null,breed:e.breed??null,breedSize:e.breedSize??null,gender:e.gender??null,weight:e.weight??null,insideCat:e.insideCat??null,castrated:e.castrated??!1,dewormingDate:e.dewormingDate?new Date(e.dewormingDate):null,vetDate:e.vetDate?new Date(e.vetDate):null,lastVaccinationDate:e.lastVaccinationDate?new Date(e.lastVaccinationDate):null,nextVaccinationDate:e.nextVaccinationDate?new Date(e.nextVaccinationDate):null,weightLog:e.weightLog?e.weightLog.map(n=>({...n,date:new Date(n.date)})):[]}),t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,dateOfBirth:((n=e.dateOfBirth)==null?void 0:n.toDate().toString())??null,dewormingDate:((r=e.dewormingDate)==null?void 0:r.toDate().toString())??null,vetDate:((i=e.vetDate)==null?void 0:i.toDate().toString())??null,lastVaccinationDate:((s=e.lastVaccinationDate)==null?void 0:s.toDate().toString())??null,nextVaccinationDate:((o=e.nextVaccinationDate)==null?void 0:o.toDate().toString())??null,weightLog:((a=e.weightLog)==null?void 0:a.map(l=>({...l,date:l.date.toDate().toString()})))??[]}}})(Ty||(Ty={}));var up;(t=>{t.mapIncoming=async n=>({...n,highscores:await Promise.all(n.highscores.map(e.mapIncoming)),scores:await Promise.all(n.scores.map(e.mapIncoming))});let e;(n=>{n.mapIncoming=async r=>{var i;return{...r,userId:r.userId??null,date:((i=r.date)==null?void 0:i.toDate().toString())??new Date().toString(),bonus:r.bonus??null,turns:r.turns??null,time:r.time??null,penalty:r.penalty??null,difficulty:r.difficulty??null}}})(e=t.Highscore||(t.Highscore={}))})(up||(up={}));const QD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],Xre=t=>QD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),Jre=QD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),Zre=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],cI=()=>Wn(()=>import("./assets/c-Blog-C-Ckw_C8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url),WW=()=>Wn(()=>import("./assets/c-Tools-v5bfQK5o.js"),__vite__mapDeps([18,2,3]),import.meta.url),qW=()=>Wn(()=>import("./assets/c-CatCalc-Dst5FRL1.js"),__vite__mapDeps([19,2,17,8,7,20]),import.meta.url),zW=()=>Wn(()=>import("./assets/c-CustomVoting-G4zwo8UU.js"),__vite__mapDeps([21,2,3,9,13,10,11,22]),import.meta.url),KW=()=>Wn(()=>import("./assets/c-Dashboard-Bn3JjjlX.js"),__vite__mapDeps([23,2,1,24,7,8,15,3]),import.meta.url),GW=()=>Wn(()=>import("./assets/c-Home-GKNqLVCM.js"),__vite__mapDeps([25,3,2,26,13,27,28,29,4,5,6,7,8,9,10,11]),import.meta.url),YW=()=>Wn(()=>import("./assets/c-Login-6304ObhP.js"),__vite__mapDeps([30,2,24,7,8,3]),import.meta.url),QW=()=>Wn(()=>import("./assets/c-NotFound-r15oZB2H.js"),__vite__mapDeps([31,2,3]),import.meta.url),XW=()=>Wn(()=>import("./assets/c-Pet-Cpk1l-Sy.js"),__vite__mapDeps([32,2,5,6,1,3,20,33,12,13,14,15,7,8,17,9,16,34]),import.meta.url),JW=()=>Wn(()=>import("./assets/c-Pets-0UArTTkD.js"),__vite__mapDeps([35,2,3,33,1,12,13,14,15,7,8,17,9,16]),import.meta.url),ZW=()=>Wn(()=>import("./assets/c-User-DzEcVF3b.js"),__vite__mapDeps([36,2,3,13,37]),import.meta.url),eq=()=>Wn(()=>import("./assets/c-Users-B7p-aZ5k.js"),__vite__mapDeps([38,2,3]),import.meta.url),tq=()=>Wn(()=>import("./assets/c-Register-CEgUDdP7.js"),__vite__mapDeps([39,2,24,7,8,3]),import.meta.url),nq=()=>Wn(()=>import("./assets/c-Games-Ce8no8Ag.js"),__vite__mapDeps([40,2,3,41,1,17,8,27,13,28,29,26]),import.meta.url),rq=()=>Wn(()=>import("./assets/c-Yahtzee-CLoXeTn5.js"),__vite__mapDeps([42,2,29,43,13,44,41,1,17,8,45]),import.meta.url),iq=()=>Wn(()=>import("./assets/c-Rainworms-DUTPBIS2.js"),__vite__mapDeps([46,2,43,13,44,41,1,17,8,28,7]),import.meta.url),sq=()=>Wn(()=>import("./assets/c-Patience-DYCRKw4B.js"),__vite__mapDeps([47,2,41,1,17,8,43,13,44,27,16,48]),import.meta.url),oq=()=>Wn(()=>import("./assets/c-Guess-BsggWeDq.js"),__vite__mapDeps([49,2,43,13,44,41,1,17,8]),import.meta.url),aq={HOME:{path:"/",meta:{title:"Home"},component:GW,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Gd.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:YW,beforeEnter:(t,e,n)=>{td().isLoggedIn?n({name:Rn.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:tq,beforeEnter:(t,e,n)=>{td().isLoggedIn?n({name:Rn.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:KW},PET_OVERVIEW:{path:"/pets",meta:{title:"Pets"},component:JW},PET_DETAILS:{path:"/pets/:petId",meta:{title:"Pet"},component:XW},USER_OVERVIEW:{path:"/users",meta:{title:"Users"},component:eq},USER_DETAILS:{path:"/users/:userId",meta:{title:"User"},component:ZW},BLOG:{path:"/blog",meta:{title:"Blog"},component:cI},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:cI},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:zW},TOOLS:{path:"/tools",meta:{title:"Tools"},component:WW,children:[{name:rl.TOOLS_CAT_CALC,path:"/tools/cat-calc",meta:{title:"CatCalc"},component:qW}]},GAMES:{path:"/games",meta:{title:"Games"},component:nq,children:[{name:rl.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:rq},{name:rl.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:iq},{name:rl.GAMES_PATIENCE,path:"/games/patience",meta:{title:"Patience"},component:sq},{name:rl.GAMES_HANGMAN,path:"/games/guess",meta:{title:"Hangman"},component:oq}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:QW}},XD=Object.entries(aq).map(([t,e])=>({...e,name:Rn[t]})),Gd=XV({history:CV(),routes:XD,scrollBehavior(t,e,n){return n||((t.name===Rn.LOGIN||t.name===Rn.REGISTER)&&(e.name===Rn.LOGIN||e.name===Rn.REGISTER)?!1:{top:0})}}),dI=YD.name;Gd.beforeEach(async(t,e,n)=>{var r,i,s;if(t===e)n();else if(!t.name)n({name:Rn.NOT_FOUND});else{const o=t.name,a=nb();if(a.routeLoading=o,a.routeLoadingId=((r=t.params.postId)==null?void 0:r.toString())||((i=t.params.userId)==null?void 0:i.toString())||((s=t.params.petId)==null?void 0:s.toString())||null,[Rn.HOME,Rn.LOGIN,Rn.REGISTER,Rn.DASHBOARD,Rn.NOT_FOUND].includes(o))n();else{const u=await PR(),c=await a.fetchMenuItems(u==null?void 0:u.uid);(c==null?void 0:c.some(f=>f.authenticated&&!u?!1:f.route?o===f.route||XD.some(p=>{var g;return(g=p.children)==null?void 0:g.some(w=>w.name===o)}):f.url?t.path.startsWith(f.url):!1))?n():n({name:Rn.NOT_FOUND})}}});Gd.afterEach(()=>{const t=nb();t.routeLoading=null});Gd.beforeResolve(t=>{document.title=dI+" | "+t.meta.title||dI;const e=FO();$O(e,"screen_view",{screen_name:t.path})});const JD=Gd;function fi(t){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(t)}function Xe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||fi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ms(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Oi(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function ZD(t,e){if(Ve(2,arguments),!e||fi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=ze(t),c=r||n?Oi(u,r+n*12):u,h=s||i?ms(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,w=new Date(h.getTime()+g);return w}function lq(t,e){Ve(2,arguments);var n=ze(t).getTime(),r=Xe(e);return new Date(n+r)}var uq={};function ss(){return uq}function wa(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ss(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function cp(t){return Ve(1,arguments),wa(t,{weekStartsOn:1})}function cq(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=cp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=cp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function dq(t){Ve(1,arguments);var e=cq(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=cp(n);return r}function dp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function hI(t){Ve(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var hq=864e5;function fq(t,e){Ve(2,arguments);var n=hI(t),r=hI(e),i=n.getTime()-dp(n),s=r.getTime()-dp(r);return Math.round((i-s)/hq)}function pq(t,e){Ve(2,arguments);var n=Xe(e),r=n*3;return Oi(t,r)}function sb(t,e){Ve(2,arguments);var n=Xe(e);return Oi(t,n*12)}var ob=6e4,ab=36e5,mq=1e3;function ex(t){return Ve(1,arguments),t instanceof Date||fi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tc(t){if(Ve(1,arguments),!ex(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function fI(t){Ve(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function tx(t,e){var n;Ve(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function nd(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function gq(t){Ve(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=nd(n),o=nd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=pq(l,1);return a}function vq(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function yq(t){Ve(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _q(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ss(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function pI(t){Ve(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function nx(t,e){Ve(2,arguments);var n=Xe(e);return lq(t,-n)}var bq=864e5;function wq(t){Ve(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/bq)+1}function Ql(t){Ve(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function rx(t){Ve(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ql(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Ql(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Tq(t){Ve(1,arguments);var e=rx(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ql(n);return r}var Eq=6048e5;function ix(t){Ve(1,arguments);var e=ze(t),n=Ql(e).getTime()-Tq(e).getTime();return Math.round(n/Eq)+1}function Ta(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ss(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function lb(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=ss(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var w=Ta(g,e),E=new Date(0);E.setUTCFullYear(h,0,p),E.setUTCHours(0,0,0,0);var k=Ta(E,e);return c.getTime()>=w.getTime()?h+1:c.getTime()>=k.getTime()?h:h-1}function Iq(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ss(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=lb(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=Ta(p,e);return g}var Sq=6048e5;function sx(t,e){Ve(1,arguments);var n=ze(t),r=Ta(n,e).getTime()-Iq(n,e).getTime();return Math.round(r/Sq)+1}function $t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Aq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return $t(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$t(r+1,2)},d:function(e,n){return $t(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $t(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $t(e.getUTCHours(),n.length)},m:function(e,n){return $t(e.getUTCMinutes(),n.length)},s:function(e,n){return $t(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return $t(s,n.length)}};const Bs=Aq;var Ga={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Bs.y(e,n)},Y:function(e,n,r,i){var s=lb(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return $t(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):$t(o,n.length)},R:function(e,n){var r=rx(e);return $t(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $t(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return $t(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return $t(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Bs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return $t(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=sx(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,n.length)},I:function(e,n,r){var i=ix(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):$t(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Bs.d(e,n)},D:function(e,n,r){var i=wq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):$t(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return $t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return $t(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return $t(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Ga.noon:i===0?s=Ga.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Ga.evening:i>=12?s=Ga.afternoon:i>=4?s=Ga.morning:s=Ga.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Bs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Bs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Bs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Bs.s(e,n)},S:function(e,n){return Bs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return gI(o);case"XXXX":case"XX":return Bo(o);case"XXXXX":case"XXX":default:return Bo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return gI(o);case"xxxx":case"xx":return Bo(o);case"xxxxx":case"xxx":default:return Bo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+mI(o,":");case"OOOO":default:return"GMT"+Bo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+mI(o,":");case"zzzz":default:return"GMT"+Bo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return $t(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return $t(o,n.length)}};function mI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+$t(s,2)}function gI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$t(Math.abs(t)/60,2)}return Bo(t,e)}function Bo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=$t(Math.floor(i/60),2),o=$t(i%60,2);return r+s+n+o}var vI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ox=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Oq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return vI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",vI(i,n)).replace("{{time}}",ox(s,n))},Ey={p:ox,P:Oq},Pq=["D","DD"],kq=["YY","YYYY"];function ax(t){return Pq.indexOf(t)!==-1}function lx(t){return kq.indexOf(t)!==-1}function hp(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Rq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dq=function(e,n,r){var i,s=Rq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const xq=Dq;function Dg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Nq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vq={date:Dg({formats:Nq,defaultWidth:"full"}),time:Dg({formats:Mq,defaultWidth:"full"}),dateTime:Dg({formats:Lq,defaultWidth:"full"})};const Fq=Vq;var $q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uq=function(e,n,r,i){return $q[e]};const Bq=Uq;function $u(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var jq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yq={ordinalNumber:Gq,era:$u({values:jq,defaultWidth:"wide"}),quarter:$u({values:Hq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:$u({values:Wq,defaultWidth:"wide"}),day:$u({values:qq,defaultWidth:"wide"}),dayPeriod:$u({values:zq,defaultWidth:"wide",formattingValues:Kq,defaultFormattingWidth:"wide"})};const Qq=Yq;function Uu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Jq(a,function(h){return h.test(o)}):Xq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Xq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Jq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Zq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var ez=/^(\d+)(th|st|nd|rd)?/i,tz=/\d+/i,nz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rz={any:[/^b/i,/^(a|c)/i]},iz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sz={any:[/1/i,/2/i,/3/i,/4/i]},oz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},az={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hz={ordinalNumber:Zq({matchPattern:ez,parsePattern:tz,valueCallback:function(e){return parseInt(e,10)}}),era:Uu({matchPatterns:nz,defaultMatchWidth:"wide",parsePatterns:rz,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:iz,defaultMatchWidth:"wide",parsePatterns:sz,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Uu({matchPatterns:oz,defaultMatchWidth:"wide",parsePatterns:az,defaultParseWidth:"any"}),day:Uu({matchPatterns:lz,defaultMatchWidth:"wide",parsePatterns:uz,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:cz,defaultMatchWidth:"any",parsePatterns:dz,defaultParseWidth:"any"})};const fz=hz;var pz={code:"en-US",formatDistance:xq,formatLong:Fq,formatRelative:Bq,localize:Qq,match:fz,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ux=pz;var mz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vz=/^'([^]*?)'?$/,yz=/''/g,_z=/[a-zA-Z]/;function ho(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,w,E,k,P,T,y;Ve(2,arguments);var M=String(e),L=ss(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:ux,I=Xe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=Xe((p=(g=(w=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(k=n.locale)===null||k===void 0||(P=k.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&w!==void 0?w:L.weekStartsOn)!==null&&g!==void 0?g:(T=L.locale)===null||T===void 0||(y=T.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!Tc(v))throw new RangeError("Invalid time value");var A=dp(v),O=nx(v,A),R={firstWeekContainsDate:I,weekStartsOn:b,locale:S,_originalDate:v},j=M.match(gz).map(function(V){var B=V[0];if(B==="p"||B==="P"){var F=Ey[B];return F(V,S.formatLong)}return V}).join("").match(mz).map(function(V){if(V==="''")return"'";var B=V[0];if(B==="'")return bz(V);var F=Cq[B];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&lx(V)&&hp(V,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ax(V)&&hp(V,e,String(t)),F(O,V,S.localize,R);if(B.match(_z))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return V}).join("");return j}function bz(t){var e=t.match(vz);return e?e[1].replace(yz,"'"):t}function wz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Tz(t){Ve(1,arguments);var e=ze(t),n=e.getDay();return n}function Ez(t){Ve(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Pi(t){Ve(1,arguments);var e=ze(t),n=e.getHours();return n}var Iz=6048e5;function Sz(t){Ve(1,arguments);var e=ze(t),n=cp(e).getTime()-dq(e).getTime();return Math.round(n/Iz)+1}function ts(t){Ve(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Et(t){Ve(1,arguments);var e=ze(t),n=e.getMonth();return n}function Xl(t){Ve(1,arguments);var e=ze(t),n=e.getSeconds();return n}function Az(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ze(t),h=c.getFullYear(),f=ss(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var w=wa(g,e),E=new Date(0);E.setFullYear(h,0,p),E.setHours(0,0,0,0);var k=wa(E,e);return c.getTime()>=w.getTime()?h+1:c.getTime()>=k.getTime()?h:h-1}function Cz(t,e){var n,r,i,s,o,a,l,u;Ve(1,arguments);var c=ss(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Az(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=wa(p,e);return g}var Oz=6048e5;function Pz(t,e){Ve(1,arguments);var n=ze(t),r=wa(n,e).getTime()-Cz(n,e).getTime();return Math.round(r/Oz)+1}function ct(t){return Ve(1,arguments),ze(t).getFullYear()}function rd(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function id(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function dl(t,e){Ve(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function yI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kz(t,e){if(t){if(typeof t=="string")return yI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yI(t,e):void 0}}function _I(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Iy(t,e)}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fp(t)}function cx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cx=function(){return!!t})()}function Rz(t,e){if(e&&(fi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(t)}function St(t){var e=cx();return function(){var n,r=fp(t);if(e){var i=fp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rz(this,n)}}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dz(t,e){if(fi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dx(t){var e=Dz(t,"string");return fi(e)=="symbol"?e:e+""}function bI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dx(r.key),r)}}function _t(t,e,n){return e&&bI(t.prototype,e),n&&bI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function De(t,e,n){return(e=dx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xz=10,hx=function(){function t(){yt(this,t),De(this,"priority",void 0),De(this,"subPriority",0)}return _t(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Nz=function(t){It(n,t);var e=St(n);function n(r,i,s,o,a){var l;return yt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return _t(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(hx),Mz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",xz),De(Le(r),"subPriority",-1),r}return _t(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(hx),xt=function(){function t(){yt(this,t),De(this,"incompatibleTokens",void 0),De(this,"priority",void 0),De(this,"subPriority",void 0)}return _t(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Nz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Lz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",140),De(Le(r),"incompatibleTokens",["R","u","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Tn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function En(t,e){return t&&{value:e(t.value),rest:t.rest}}function fn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function qi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*ab+s*ob+o*mq),rest:e.slice(n[0].length)}}function fx(t){return fn(Tn.anyDigitsSigned,t)}function vn(t,e){switch(t){case 1:return fn(Tn.singleDigit,e);case 2:return fn(Tn.twoDigits,e);case 3:return fn(Tn.threeDigits,e);case 4:return fn(Tn.fourDigits,e);default:return fn(new RegExp("^\\d{1,"+t+"}"),e)}}function pp(t,e){switch(t){case 1:return fn(Tn.singleDigitSigned,e);case 2:return fn(Tn.twoDigitsSigned,e);case 3:return fn(Tn.threeDigitsSigned,e);case 4:return fn(Tn.fourDigitsSigned,e);default:return fn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ub(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function px(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function mx(t){return t%400===0||t%4===0&&t%100!==0}var Vz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return En(vn(4,i),a);case"yo":return En(o.ordinalNumber(i,{unit:"year"}),a);default:return En(vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=px(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Fz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return En(vn(4,i),a);case"Yo":return En(o.ordinalNumber(i,{unit:"year"}),a);default:return En(vn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=lb(i,a);if(o.isTwoDigitYear){var u=px(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ta(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ta(i,a)}}]),n}(xt),$z=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return pp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Ql(a)}}]),n}(xt),Uz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",130),De(Le(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){return pp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Bz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",120),De(Le(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return vn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),jz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",120),De(Le(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return vn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Hz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),De(Le(r),"priority",110),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return En(fn(Tn.month,i),a);case"MM":return En(vn(2,i),a);case"Mo":return En(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Wz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",110),De(Le(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return En(fn(Tn.month,i),a);case"LL":return En(vn(2,i),a);case"Lo":return En(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function qz(t,e,n){Ve(2,arguments);var r=ze(t),i=Xe(e),s=sx(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var zz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",100),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return fn(Tn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Ta(qz(i,o,a),a)}}]),n}(xt);function Kz(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=ix(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Gz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",100),De(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return fn(Tn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Ql(Kz(i,o))}}]),n}(xt),Yz=[31,28,31,30,31,30,31,31,30,31,30,31],Qz=[31,29,31,30,31,30,31,31,30,31,30,31],Xz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"subPriority",1),De(Le(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return fn(Tn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=mx(o),l=i.getUTCMonth();return a?s>=1&&s<=Qz[l]:s>=1&&s<=Yz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Jz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"subpriority",1),De(Le(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return fn(Tn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=mx(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function cb(t,e,n){var r,i,s,o,a,l,u,c;Ve(2,arguments);var h=ss(),f=Xe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Xe(e),w=p.getUTCDay(),E=g%7,k=(E+7)%7,P=(k<f?7:0)+g-w;return p.setUTCDate(p.getUTCDate()+P),p}var Zz=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=cb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),eK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return En(vn(s.length,i),l);case"eo":return En(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=cb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),tK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return En(vn(s.length,i),l);case"co":return En(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=cb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function nK(t,e){Ve(2,arguments);var n=Xe(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var rK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",90),De(Le(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return vn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return En(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return En(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return En(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return En(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=nK(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),iK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ub(o),0,0,0),i}}]),n}(xt),sK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ub(o),0,0,0),i}}]),n}(xt),oK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",80),De(Le(r),"incompatibleTokens",["a","b","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ub(o),0,0,0),i}}]),n}(xt),aK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return fn(Tn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),lK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return fn(Tn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(xt),uK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return fn(Tn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),cK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",70),De(Le(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return fn(Tn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(xt),dK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",60),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return fn(Tn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(xt),hK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",50),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return fn(Tn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return vn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(xt),fK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",30),De(Le(r),"incompatibleTokens",["t","T"]),r}return _t(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return En(vn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(xt),pK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",10),De(Le(r),"incompatibleTokens",["t","T","x"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"X":return qi(Wi.basicOptionalMinutes,i);case"XX":return qi(Wi.basic,i);case"XXXX":return qi(Wi.basicOptionalSeconds,i);case"XXXXX":return qi(Wi.extendedOptionalSeconds,i);case"XXX":default:return qi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),mK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",10),De(Le(r),"incompatibleTokens",["t","T","X"]),r}return _t(n,[{key:"parse",value:function(i,s){switch(s){case"x":return qi(Wi.basicOptionalMinutes,i);case"xx":return qi(Wi.basic,i);case"xxxx":return qi(Wi.basicOptionalSeconds,i);case"xxxxx":return qi(Wi.extendedOptionalSeconds,i);case"xxx":default:return qi(Wi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),gK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",40),De(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return fx(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(xt),vK=function(t){It(n,t);var e=St(n);function n(){var r;yt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),De(Le(r),"priority",20),De(Le(r),"incompatibleTokens","*"),r}return _t(n,[{key:"parse",value:function(i){return fx(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(xt),yK={G:new Lz,y:new Vz,Y:new Fz,R:new $z,u:new Uz,Q:new Bz,q:new jz,M:new Hz,L:new Wz,w:new zz,I:new Gz,d:new Xz,D:new Jz,E:new Zz,e:new eK,c:new tK,i:new rK,a:new iK,b:new sK,B:new oK,h:new aK,H:new lK,K:new uK,k:new cK,m:new dK,s:new hK,S:new fK,X:new pK,x:new mK,t:new gK,T:new vK},_K=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wK=/^'([^]*?)'?$/,TK=/''/g,EK=/\S/,IK=/[a-zA-Z]/;function Sy(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,w,E,k,P,T,y,M;Ve(3,arguments);var L=String(t),S=String(e),I=ss(),b=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:I.locale)!==null&&i!==void 0?i:ux;if(!b.match)throw new RangeError("locale must contain match property");var v=Xe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:I.firstWeekContainsDate)!==null&&a!==void 0?a:(f=I.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Xe((g=(w=(E=(k=r==null?void 0:r.weekStartsOn)!==null&&k!==void 0?k:r==null||(P=r.locale)===null||P===void 0||(T=P.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&E!==void 0?E:I.weekStartsOn)!==null&&w!==void 0?w:(y=I.locale)===null||y===void 0||(M=y.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return L===""?ze(n):new Date(NaN);var O={firstWeekContainsDate:v,weekStartsOn:A,locale:b},R=[new Mz],j=S.match(bK).map(function(ie){var X=ie[0];if(X in Ey){var ce=Ey[X];return ce(ie,b.formatLong)}return ie}).join("").match(_K),V=[],B=_I(j),F;try{var U=function(){var X=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&lx(X)&&hp(X,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ax(X)&&hp(X,S,t);var ce=X[0],be=yK[ce];if(be){var ne=be.incompatibleTokens;if(Array.isArray(ne)){var D=V.find(function(H){return ne.includes(H.token)||H.token===ce});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&V.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));V.push({token:ce,fullToken:X});var $=be.run(L,X,b.match,O);if(!$)return{v:new Date(NaN)};R.push($.setter),L=$.rest}else{if(ce.match(IK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");if(X==="''"?X="'":ce==="'"&&(X=SK(X)),L.indexOf(X)===0)L=L.slice(X.length);else return{v:new Date(NaN)}}};for(B.s();!(F=B.n()).done;){var x=U();if(fi(x)==="object")return x.v}}catch(ie){B.e(ie)}finally{B.f()}if(L.length>0&&EK.test(L))return new Date(NaN);var C=R.map(function(ie){return ie.priority}).sort(function(ie,X){return X-ie}).filter(function(ie,X,ce){return ce.indexOf(ie)===X}).map(function(ie){return R.filter(function(X){return X.priority===ie}).sort(function(X,ce){return ce.subPriority-X.subPriority})}).map(function(ie){return ie[0]}),K=ze(n);if(isNaN(K.getTime()))return new Date(NaN);var z=nx(K,dp(K)),te={},fe=_I(C),Z;try{for(fe.s();!(Z=fe.n()).done;){var W=Z.value;if(!W.validate(z,O))return new Date(NaN);var Q=W.set(z,te,O);Array.isArray(Q)?(z=Q[0],wz(te,Q[1])):z=Q}}catch(ie){fe.e(ie)}finally{fe.f()}return z}function SK(t){return t.match(wK)[1].replace(TK,"'")}function wI(t,e){Ve(2,arguments);var n=nd(t),r=nd(e);return n.getTime()===r.getTime()}function AK(t,e){Ve(2,arguments);var n=Xe(e);return ms(t,-n)}function CK(t,e){var n;Ve(1,arguments);var r=Xe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=RK(t),s;if(i.date){var o=DK(i.date,r);s=xK(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=NK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=MK(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Uh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,PK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function RK(t){var e={},n=t.split(Uh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Uh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Uh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Uh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function DK(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function xK(t,e){if(e===null)return new Date(NaN);var n=t.match(OK);if(!n)return new Date(NaN);var r=!!n[4],i=Bu(n[1]),s=Bu(n[2])-1,o=Bu(n[3]),a=Bu(n[4]),l=Bu(n[5])-1;if(r)return UK(e,a,l)?LK(e,a,l):new Date(NaN);var u=new Date(0);return!FK(e,s,o)||!$K(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Bu(t){return t?parseInt(t):1}function NK(t){var e=t.match(PK);if(!e)return NaN;var n=xg(e[1]),r=xg(e[2]),i=xg(e[3]);return BK(n,r,i)?n*ab+r*ob+i*1e3:NaN}function xg(t){return t&&parseFloat(t.replace(",","."))||0}function MK(t){if(t==="Z")return 0;var e=t.match(kK);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return jK(r,i)?n*(r*ab+i*ob):NaN}function LK(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var VK=[31,null,31,30,31,30,31,31,30,31,30,31];function gx(t){return t%400===0||t%4===0&&t%100!==0}function FK(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(VK[e]||(gx(t)?29:28))}function $K(t,e){return e>=1&&e<=(gx(t)?366:365)}function UK(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function BK(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function jK(t,e){return e>=0&&e<=59}function vx(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Ez(o);return n.setMonth(r,Math.min(s,a)),n}function on(t,e){if(Ve(2,arguments),fi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=vx(n,e.month)),e.date!=null&&n.setDate(Xe(e.date)),e.hours!=null&&n.setHours(Xe(e.hours)),e.minutes!=null&&n.setMinutes(Xe(e.minutes)),e.seconds!=null&&n.setSeconds(Xe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Xe(e.milliseconds)),n)}function yx(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setHours(r),n}function db(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMilliseconds(r),n}function _x(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setMinutes(r),n}function hb(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return n.setSeconds(r),n}function Gi(t,e){Ve(2,arguments);var n=ze(t),r=Xe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Jl(t,e){Ve(2,arguments);var n=Xe(e);return Oi(t,-n)}function HK(t,e){if(Ve(2,arguments),!e||fi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=Jl(t,r+n*12),c=AK(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function bx(t,e){Ve(2,arguments);var n=Xe(e);return sb(t,-n)}function gu(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ae("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}gu.compatConfig={MODE:3};function wx(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ae("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}wx.compatConfig={MODE:3};function fb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}fb.compatConfig={MODE:3};function pb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}pb.compatConfig={MODE:3};function mb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ae("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}mb.compatConfig={MODE:3};function gb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}gb.compatConfig={MODE:3};function vb(){return q(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}vb.compatConfig={MODE:3};function yb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tx={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Tx);var WK=Tx.exports,Ay={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Ay,Ay.exports);var qK=Ay.exports;const zK=yb(qK);var Cy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Cy,Cy.exports);var KK=Cy.exports;const TI=yb(KK);function GK(t,e){var n=JK(e);return n.formatToParts?QK(n,t):XK(n,t)}var YK={year:0,month:1,day:2,hour:3,minute:4,second:5};function QK(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=YK[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function XK(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Ng={};function JK(t){if(!Ng[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Ng[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Ng[t]}function _b(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var EI=36e5,ZK=6e4,Mg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function bb(t,e,n){var r,i;if(t===""||(r=Mg.timezoneZ.exec(t),r))return 0;var s;if(r=Mg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),II(s)?-(s*EI):NaN;if(r=Mg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return II(s,o)?(i=Math.abs(s)*EI+o*ZK,s>0?-i:i):NaN}if(nG(t)){e=new Date(e||Date.now());var a=n?e:eG(e),l=Oy(a,t),u=n?l:tG(e,l,t);return-u}return NaN}function eG(t){return _b(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Oy(t,e){var n=GK(t,e),r=_b(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function tG(t,e,n){var r=t.getTime(),i=r-e,s=Oy(new Date(i),n);if(e===s)return e;i-=s-e;var o=Oy(new Date(i),n);return s===o?s:Math.max(s,o)}function II(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var SI={};function nG(t){if(SI[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),SI[t]=!0,!0}catch{return!1}}var Ex=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Lg=36e5,AI=6e4,rG=2,Pr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ex};function Py(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?rG:zK(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=iG(t),s=sG(i.date,r),o=s.year,a=s.restDateString,l=oG(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=aG(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=bb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=TI(new Date(u+c)),h=TI(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function iG(t){var e={},n=Pr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Pr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Pr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function sG(t,e){var n=Pr.YYY[e],r=Pr.YYYYY[e],i;if(i=Pr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Pr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function oG(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Pr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,OI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Pr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return cG(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Pr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return OI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Pr.Www.exec(t),n)return s=parseInt(n[1],10)-1,PI(e,s)?CI(e,s):new Date(NaN);if(n=Pr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return PI(e,s,l)?CI(e,s,l):new Date(NaN)}return null}function aG(t){var e,n,r;if(e=Pr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Vg(n)?n%24*Lg:NaN;if(e=Pr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Vg(n,r)?n%24*Lg+r*AI:NaN;if(e=Pr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Vg(n,r,i)?n%24*Lg+r*AI+i*1e3:NaN}return null}function CI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var lG=[31,28,31,30,31,30,31,31,30,31,30,31],uG=[31,29,31,30,31,30,31,31,30,31,30,31];function Ix(t){return t%400===0||t%4===0&&t%100!==0}function OI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=Ix(t);if(r&&n>uG[e]||!r&&n>lG[e])return!1}return!0}function cG(t,e){if(e<1)return!1;var n=Ix(t);return!(n&&e>366||!n&&e>365)}function PI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Vg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var ky={exports:{}},Ry={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Ry,Ry.exports);var dG=Ry.exports;(function(t,e){var n=WK.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(dG);function i(s){return(0,r.default)({},s)}t.exports=e.default})(ky,ky.exports);var hG=ky.exports;const fG=yb(hG);function pG(t,e,n){var r=Py(t,n),i=bb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function mG(t,e,n){if(typeof t=="string"&&!t.match(Ex)){var r=fG(n);return r.timeZone=e,Py(t,r)}var i=Py(t,n),s=_b(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=bb(e,new Date(s));return new Date(s+o)}function kI(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function gG(t){return e=>ho(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const vG=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(gG(t))}catch{i=r.map(kI(e))}else i=r.map(kI(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},wb=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},Sx=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=ho(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},yG=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Mn=t=>{const e=Y(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},_G=t=>Object.assign({type:"dot"},t),Ax=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,mp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Fn=t=>t,RI=t=>t===0?t:!t||isNaN(+t)?null:+t,DI=t=>t===null,bG=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},wG=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},sd=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Zl=(t,e)=>wG(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),fo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},TG=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function EG(t,e){let n=[...document.querySelectorAll(TG())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const IG=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},xI=(t,e,n,r,i)=>{const s=Sy(t,e.slice(0,t.length),new Date);return Tc(s)&&ex(s)?r||i?s:on(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},SG=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return xI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=xI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ye=t=>t?new Date(t):new Date,AG=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},br=t=>{let e=ye(JSON.parse(JSON.stringify(t)));return e=yx(e,0),e=_x(e,0),e=hb(e,0),e=db(e,0),e},po=(t,e,n,r)=>{let i=t?ye(t):ye();return(e||e===0)&&(i=yx(i,+e)),(n||n===0)&&(i=_x(i,+n)),(r||r===0)&&(i=hb(i,+r)),db(i,0)},Zn=(t,e)=>!t||!e?!1:id(br(t),br(e)),Rt=(t,e)=>!t||!e?!1:dl(br(t),br(e)),vr=(t,e)=>!t||!e?!1:rd(br(t),br(e)),_m=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?vr(n,t[0])&&Zn(n,t[1]):t!=null&&t[0]&&e?vr(n,t[0])&&Zn(n,e)||Zn(n,t[0])&&vr(n,e):!1,wi=t=>{const e=on(new Date(t),{date:1});return br(e)},Fg=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},na=t=>({hours:Pi(t),minutes:ts(t),seconds:Xl(t)}),Cx=(t,e)=>{if(e){const n=ct(ye(e));if(n>t)return 12;if(n===t)return Et(ye(e))}},Ox=(t,e)=>{if(e){const n=ct(ye(e));return n<t?-1:n===t?Et(ye(e)):void 0}},eu=t=>{if(t)return ct(ye(t))},ki=(t,e)=>e?pG(t,e):t,Px=(t,e)=>e?mG(t,e):t,CG=t=>t instanceof Date?t:CK(t),kx=(t,e)=>{const n=vr(t,e)?e:t,r=vr(e,t)?e:t;return tx({start:n,end:r})},OG=t=>{const e=Oi(t,1);return{month:Et(e),year:ct(e)}},uf=(t,e,n)=>{const r=wa(ki(t,e),{weekStartsOn:+n}),i=_q(ki(t,e),{weekStartsOn:+n});return[r,i]},Rx=(t,e)=>{const n={hours:Pi(ye()),minutes:ts(ye()),seconds:e?Xl(ye()):0};return Object.assign(n,t)},ro=(t,e,n)=>[on(ye(t),{date:1}),on(ye(),{month:e,year:n,date:1})],bs=(t,e,n)=>{let r=t?ye(t):ye();return(e||e===0)&&(r=vx(r,e)),n&&(r=Gi(r,n)),r},Dx=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Oi(t,1):Jl(t,1),o=[Et(s),ct(s)];return i?!kG(...o,e):!PG(...o,n)},PG=(t,e,n)=>Zn(...ro(n,t,e))||Rt(...ro(n,t,e)),kG=(t,e,n)=>vr(...ro(n,t,e))||Rt(...ro(n,t,e)),xx=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${ho(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?ho(t[1],s,a):""}`:ho(t,s,a)},Ya=t=>{if(t)return null;throw new Error(mp.prop("partial-range"))},Bh=(t,e)=>{if(e)return t();throw new Error(mp.prop("range"))},Dy=t=>Array.isArray(t)?Tc(t[0])&&(t[1]?Tc(t[1]):!0):t?Tc(t):!1,RG=(t,e)=>on(e??ye(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),$g=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?id(t,e):rd(t,e),s={seconds:0,milliseconds:0};return i||dl(on(t,s),on(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Ug=(t,e,n)=>t?RG(t,e):ye(n??e),NI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Ug(t,r[0],e),a=Ug(t,r[1],e);return $g(r[0],o,n,!!e)&&$g(r[1],a,n,!!e)&&i}const s=Ug(t,r,e);return $g(r,s,n,!!e)&&i},Bg=t=>on(ye(),na(t)),DG=(t,e)=>Array.isArray(t)?t.map(n=>ye(n)).filter(n=>ct(ye(n))===e).map(n=>Et(n)):[],Nx=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),Tb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),ju=Dr({menuFocused:!1,shiftKeyInMenu:!1}),Mx=()=>{const t=n=>{ju.menuFocused=n},e=n=>{ju.shiftKeyInMenu!==n&&(ju.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:ju.shiftKeyInMenu,menuFocused:ju.menuFocused})),setMenuFocused:t,setShiftKey:e}},en=Dr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),jg=he(null),jh=he(!1),Hg=he(!1),Wg=he(!1),qg=he(!1),Ir=he(0),Gn=he(0),Ro=()=>{const t=le(()=>jh.value?[...en.selectionGrid,en.actionRow].filter(h=>h.length):Hg.value?[...en.timePicker[0],...en.timePicker[1],qg.value?[]:[jg.value],en.actionRow].filter(h=>h.length):Wg.value?[...en.monthPicker,en.actionRow]:[en.monthYear,...en.calendar,en.time,en.actionRow].filter(h=>h.length)),e=h=>{Ir.value=h?Ir.value+1:Ir.value-1;let f=null;t.value[Gn.value]&&(f=t.value[Gn.value][Ir.value]),f||(Ir.value=h?Ir.value-1:Ir.value+1)},n=h=>{Gn.value===0&&!h||Gn.value===t.value.length&&h||(Gn.value=h?Gn.value+1:Gn.value-1,t.value[Gn.value]?t.value[Gn.value]&&!t.value[Gn.value][Ir.value]&&Ir.value!==0&&(Ir.value=t.value[Gn.value].length-1):Gn.value=h?Gn.value-1:Gn.value+1)},r=h=>{let f=null;t.value[Gn.value]&&(f=t.value[Gn.value][Ir.value]),f?f.focus({preventScroll:!jh.value}):Ir.value=h?Ir.value-1:Ir.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{en[f]=h},u=(h,f)=>{en[f]=h},c=()=>{Ir.value=0,Gn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{jg.value=h},setSelectionGrid:h=>{jh.value=h,c(),h||(en.selectionGrid=[])},setTimePicker:(h,f=!1)=>{Hg.value=h,qg.value=f,c(),h||(en.timePicker[0]=[],en.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{en.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{en.monthYear=[],en.calendar=[],en.time=[],en.actionRow=[],en.selectionGrid=[],en.timePicker[0]=[],en.timePicker[1]=[],jh.value=!1,Hg.value=!1,qg.value=!1,Wg.value=!1,c(),jg.value=null},setMonthPicker:h=>{Wg.value=h,c()},refSets:en}},MI=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),xG=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),LI=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,NG=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:LI(!1)};const r=e?t:{},i=e?r.count??!0:t,s=LI(i);return Object.assign(n,r,{count:s})},MG=(t,e,n)=>t||(typeof n=="string"?n:e),LG=t=>typeof t=="boolean"?t?MI({}):!1:MI(t),VG=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},FG=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),$G=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),UG=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},BG=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),jG=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ye(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},HG=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Sn=t=>{const e=()=>{const k=t.enableSeconds?":ss":"";return t.is24?`HH:mm${k}`:`hh:mm${k} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=k=>Rx(k,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>NG(t.multiCalendars)),o=le(()=>i()),a=le(()=>xG(t.ariaLabels)),l=le(()=>FG(t.filters)),u=le(()=>LG(t.transitions)),c=le(()=>$G(t.actionRow)),h=le(()=>MG(t.previewFormat,t.format,n())),f=le(()=>VG(t.textInput)),p=le(()=>UG(t.inline)),g=le(()=>BG(t.config)),w=le(()=>jG(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),E=le(()=>HG(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:w,defaultedWeekNumbers:E,getDefaultPattern:n,getDefaultStartTime:i}},WG=(t,e,n)=>{const r=he(),{defaultedTextInput:i,getDefaultPattern:s}=Sn(e),o=he(""),a=kc(e,"format");In(r,()=>{t("internal-model-change",r.value)}),In(a,()=>{j()});const l=C=>Px(C,e.timezone),u=C=>ki(C,e.timezone),c=(C,K,z=!1)=>xx(C,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,K??s(),z),h=C=>C?e.modelType?B(C):{hours:Pi(C),minutes:ts(C),seconds:e.enableSeconds?Xl(C):0}:null,f=C=>e.modelType?B(C):{month:Et(C),year:ct(C)},p=C=>Array.isArray(C)?e.multiDates?C.map(K=>g(K,Gi(ye(),K))):Bh(()=>[Gi(ye(),C[0]),C[1]?Gi(ye(),C[1]):Ya(e.partialRange)],e.range):Gi(ye(),+C),g=(C,K)=>(typeof C=="string"||typeof C=="number")&&e.modelType?V(C):K,w=C=>Array.isArray(C)?[g(C[0],po(null,+C[0].hours,+C[0].minutes,C[0].seconds)),g(C[1],po(null,+C[1].hours,+C[1].minutes,C[1].seconds))]:g(C,po(null,C.hours,C.minutes,C.seconds)),E=C=>Array.isArray(C)?e.multiDates?C.map(K=>g(K,bs(null,+K.month,+K.year))):Bh(()=>[g(C[0],bs(null,+C[0].month,+C[0].year)),g(C[1],C[1]?bs(null,+C[1].month,+C[1].year):Ya(e.partialRange))],e.range):g(C,bs(null,+C.month,+C.year)),k=C=>{if(Array.isArray(C))return C.map(K=>V(K));throw new Error(mp.dateArr("multi-dates"))},P=C=>{if(Array.isArray(C))return[ye(C[0]),ye(C[1])];throw new Error(mp.dateArr("week-picker"))},T=C=>e.modelAuto?Array.isArray(C)?[V(C[0]),V(C[1])]:e.autoApply?[V(C)]:[V(C),null]:Array.isArray(C)?Bh(()=>[V(C[0]),C[1]?V(C[1]):Ya(e.partialRange)],e.range):V(C),y=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Ya(e.partialRange))},M=()=>{const C=r.value;return[B(C[0]),C[1]?B(C[1]):Ya(e.partialRange)]},L=()=>r.value[1]?M():B(Fn(r.value[0])),S=()=>(r.value||[]).map(C=>B(C)),I=()=>(y(),e.modelAuto?L():e.multiDates?S():Array.isArray(r.value)?Bh(()=>M(),e.range):B(Fn(r.value))),b=C=>!C||Array.isArray(C)&&!C.length?null:e.timePicker?w(Fn(C)):e.monthPicker?E(Fn(C)):e.yearPicker?p(Fn(C)):e.multiDates?k(Fn(C)):e.weekPicker?P(Fn(C)):T(Fn(C)),v=C=>{const K=b(C);Dy(Fn(K))?(r.value=Fn(K),j()):(r.value=null,o.value="")},A=()=>{const C=K=>ho(K,i.value.format);return`${C(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?C(r.value[1]):""}`},O=()=>n.value&&r.value?Array.isArray(r.value)?A():ho(r.value,i.value.format):c(r.value),R=()=>r.value?e.multiDates?r.value.map(C=>c(C)).join("; "):i.value.enabled&&typeof i.value.format=="string"?O():c(r.value):"",j=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=R():o.value=e.format(r.value)},V=C=>{if(e.utc){const K=new Date(C);return e.utc==="preserve"?new Date(K.getTime()+K.getTimezoneOffset()*6e4):K}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(C)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Sy(C,s(),new Date):u(Sy(C,e.modelType,new Date)):u(new Date(C))},B=C=>C?e.utc?AG(C,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(C):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(C)):c(l(C),e.modelType,!0):l(C):"",F=(C,K=!1)=>{if(t("update:model-value",C),e.emitTimezone&&K){const z=Array.isArray(C)?C.map(te=>ki(Fn(te)),e.emitTimezone):ki(Fn(C),e.emitTimezone);t("update:model-timezone-value",z)}},U=C=>Array.isArray(r.value)?e.multiDates?r.value.map(K=>C(K)):[C(r.value[0]),r.value[1]?C(r.value[1]):Ya(e.partialRange)]:C(Fn(r.value)),x=C=>F(Fn(U(C)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:j,emitModelValue:()=>(j(),e.monthPicker?x(f):e.timePicker?x(h):e.yearPicker?x(ct):e.weekPicker?F(r.value.map(C=>B(C)),!0):F(I(),!0))}},qG=(t,e)=>{const{defaultedFilters:n}=Sn(t),{validateMonthYearInRange:r}=Ma(t),i=(u,c)=>{let h=u;return n.value.months.includes(Et(h))?(h=c?Oi(u,1):Jl(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ct(h))?(h=c?sb(u,1):bx(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=on(new Date,{month:t.month,year:t.year});let f=u?Oi(h,1):Jl(h,1);t.disableYearSelect&&(f=Gi(f,t.year));let p=Et(f),g=ct(f);n.value.months.includes(p)&&(f=i(f,u),p=Et(f),g=ct(f)),n.value.years.includes(g)&&(f=s(f,u),g=ct(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=le(()=>u=>Dx(on(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var il=(t=>(t.center="center",t.left="left",t.right="right",t))(il||{}),vi=(t=>(t.month="month",t.year="year",t))(vi||{}),jo=(t=>(t.top="top",t.bottom="bottom",t))(jo||{}),ra=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ra||{}),Hi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Hi||{});const zG=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=he({}),u=he(!1),c=he({top:"0",left:"0"}),h=he(!1),f=kc(o,"teleportCenter");In(f,()=>{c.value=JSON.parse(JSON.stringify({})),y()});const p=V=>{if(o.teleport){const B=V.getBoundingClientRect();return{left:B.left+window.scrollX,top:B.top+window.scrollY}}return{top:0,left:0}},g=(V,B)=>{c.value.left=`${V+B-l.value.width}px`},w=V=>{c.value.left=`${V}px`},E=(V,B)=>{o.position===il.left&&w(V),o.position===il.right&&g(V,B),o.position===il.center&&(c.value.left=`${V+B/2-l.value.width/2}px`)},k=V=>{const{width:B,height:F}=V.getBoundingClientRect(),{top:U,left:x}=o.altPosition?o.altPosition(V):p(V);return{top:+U,left:+x,width:B,height:F}},P=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},T=()=>{const V=Mn(n),{top:B,left:F,transform:U}=o.altPosition(V);c.value={top:`${B}px`,left:`${F}px`,transform:U??""}},y=(V=!0)=>{var B;if(!i.value.enabled){if(f.value)return P();if(o.altPosition!==null)return T();if(V){const F=o.teleport?(B=e.value)==null?void 0:B.$el:t.value;F&&(l.value=F.getBoundingClientRect()),s("recalculate-position")}return A()}},M=({inputEl:V,left:B,width:F})=>{window.screen.width>768&&!u.value&&E(B,F),I(V)},L=V=>{const{top:B,left:F,height:U,width:x}=k(V);c.value.top=`${U+B+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${F+x/2-l.value.width/2}px`),M({inputEl:V,left:F,width:x})},S=V=>{const{top:B,left:F,width:U}=k(V);c.value.top=`${B-+o.offset-l.value.height}px`,h.value=!0,M({inputEl:V,left:F,width:U})},I=V=>{if(o.autoPosition){const{left:B,width:F}=k(V),{left:U,right:x}=l.value;if(!u.value){if(Math.abs(U)!==Math.abs(x)){if(U<=0)return u.value=!0,w(B);if(x>=document.documentElement.clientWidth)return u.value=!0,g(B,F)}return E(B,F)}}},b=()=>{const V=Mn(n);if(V){const{height:B}=l.value,{top:F,height:U}=V.getBoundingClientRect(),x=window.innerHeight-F-U,C=F;return B<=x?jo.bottom:B>x&&B<=C?jo.top:x>=C?jo.bottom:jo.top}return jo.bottom},v=V=>b()===jo.bottom?L(V):S(V),A=()=>{const V=Mn(n);if(V)return o.autoPosition?v(V):L(V)},O=function(V){if(V){const B=V.scrollHeight>V.clientHeight,F=window.getComputedStyle(V).overflowY.indexOf("hidden")!==-1;return B&&!F}return!0},R=function(V){return!V||V===document.body||V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:O(V)?V:R(V.parentNode)},j=V=>{if(V)switch(o.position){case il.left:return{left:0,transform:"translateX(0)"};case il.right:return{left:`${V.width}px`,transform:"translateX(-100%)"};default:return{left:`${V.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:y,getScrollableParent:R,shadowRender:(V,B)=>{var F,U,x;const C=document.createElement("div"),K=(F=Mn(n))==null?void 0:F.getBoundingClientRect();C.setAttribute("id","dp--temp-container");const z=(U=r.value)!=null&&U.clientWidth?r.value:document.body;z.append(C);const te=j(K),fe=xl(V,{...B,shadow:!0,style:{opacity:0,position:"absolute",...te}},Object.fromEntries(Object.keys(a).filter(Z=>["right-sidebar","left-sidebar"].includes(Z)).map(Z=>[Z,a[Z]])));Vc(fe,C),l.value=(x=fe.el)==null?void 0:x.getBoundingClientRect(),Vc(null,C),z.removeChild(C)}}},js=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],KG=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],GG={all:()=>js,monthYear:()=>js.filter(t=>t.use.includes("month-year")),input:()=>KG,timePicker:()=>js.filter(t=>t.use.includes("time")),action:()=>js.filter(t=>t.use.includes("action")),calendar:()=>js.filter(t=>t.use.includes("calendar")),menu:()=>js.filter(t=>t.use.includes("menu")),shared:()=>js.filter(t=>t.use.includes("shared")),yearMode:()=>js.filter(t=>t.use.includes("year-mode"))},Qr=(t,e,n)=>{const r=[];return GG[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Yd=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Qd=(t,e)=>{const n=ye(ki(new Date,t.timezone)),r=he([{month:Et(n),year:ct(n)}]),i=Dr({hours:t.range?[Pi(n),Pi(n)]:Pi(n),minutes:t.range?[ts(n),ts(n)]:ts(n),seconds:t.range?[0,0]:0}),s=le({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=le(()=>l=>r.value[l]?r.value[l].month:0),a=le(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},YG=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Sn(e),{isDisabled:i,matchDate:s}=Ma(e),o=he(null),a=he(ye(ki(new Date,e.timezone))),l=x=>{!x.current&&e.hideOffsetDates||(o.value=x.value)},u=()=>{o.value=null},c=x=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?x?vr(o.value,t.value[0]):Zn(o.value,t.value[0]):!0,h=(x,C)=>{const K=()=>t.value?C?t.value[0]||null:t.value[1]:null,z=t.value&&Array.isArray(t.value)?K():null;return Rt(ye(x.value),z)},f=x=>{const C=Array.isArray(t.value)?t.value[0]:null;return x?!Zn(o.value??null,C):!0},p=(x,C=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!x.current?!1:Rt(ye(x.value),t.value[C?0:1]):e.range?h(x,C)&&f(C)||Rt(x.value,Array.isArray(t.value)?t.value[0]:null)&&c(C):!1,g=(x,C,K)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?x?!1:K?vr(t.value[0],C.value):Zn(t.value[0],C.value):!1,w=x=>!t.value||e.hideOffsetDates&&!x.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Rt(x.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(C=>Rt(C,x.value)):Rt(x.value,t.value?t.value:a.value),E=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const C=ms(o.value,+e.autoRange),K=uf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(K[1],ye(x.value)):Rt(C,ye(x.value))}return!1}return!1},k=x=>{if(e.autoRange||e.weekPicker){if(o.value){const C=ms(o.value,+e.autoRange);if(e.hideOffsetDates&&!x.current)return!1;const K=uf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?vr(x.value,K[0])&&Zn(x.value,K[1]):vr(x.value,o.value)&&Zn(x.value,C)}return!1}return!1},P=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const C=uf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(C[0],x.value):Rt(o.value,x.value)}return!1}return!1},T=x=>_m(t.value,o.value,x.value),y=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?Ax(e.internalModelValue):!0,L=x=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const C=e.range?!p(x)&&!p(x,!1):!0;return!i(x.value)&&!w(x)&&!(!x.current&&e.hideOffsetDates)&&C},S=x=>e.range?e.modelAuto?y()&&w(x):!1:w(x),I=x=>{var C;return r.value?typeof r.value=="function"?r.value(x.value):s(x.value,(C=e.arrMapValues)!=null&&C.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},b=x=>{const C=i(x.value);return C&&(typeof r.value=="function"?!r.value(x.value,C):!r.value.options.highlightDisabled)},v=x=>{var C;return typeof r.value=="function"?r.value(x.value):(C=r.value.weekdays)==null?void 0:C.includes(x.value.getDay())},A=x=>(e.range||e.weekPicker)&&(!(n.value.count>0)||x.current)&&M()&&!(!x.current&&e.hideOffsetDates)&&!w(x)?T(x):!1,O=x=>{const{isRangeStart:C,isRangeEnd:K}=V(x),z=e.range?C||K:!1;return{dp__cell_offset:!x.current,dp__pointer:!e.disabled&&!(!x.current&&e.hideOffsetDates)&&!i(x.value),dp__cell_disabled:i(x.value),dp__cell_highlight:!b(x)&&(I(x)||v(x))&&!S(x)&&!z&&!P(x)&&!(A(x)&&e.weekPicker)&&!K,dp__cell_highlight_active:!b(x)&&(I(x)||v(x))&&S(x),dp__today:!e.noToday&&Rt(x.value,a.value)&&x.current}},R=x=>({dp__active_date:S(x),dp__date_hover:L(x)}),j=x=>({...B(x),...F(x),dp__range_between_week:A(x)&&e.weekPicker}),V=x=>{const C=n.value.count>0?x.current&&p(x)&&M():p(x)&&M(),K=n.value.count>0?x.current&&p(x,!1)&&M():p(x,!1)&&M();return{isRangeStart:C,isRangeEnd:K}},B=x=>{const{isRangeStart:C,isRangeEnd:K}=V(x);return{dp__range_start:C,dp__range_end:K,dp__range_between:A(x)&&!e.weekPicker,dp__date_hover_start:g(L(x),x,!0),dp__date_hover_end:g(L(x),x,!1)}},F=x=>({...B(x),dp__cell_auto_range:k(x),dp__cell_auto_range_start:P(x),dp__cell_auto_range_end:E(x)}),U=x=>e.range?e.autoRange?F(x):e.modelAuto?{...R(x),...B(x)}:B(x):e.weekPicker?j(x):R(x);return{setHoverDate:l,clearHoverDate:u,getDayClassData:x=>e.hideOffsetDates&&!x.current?{}:{...O(x),...U(x),[e.dayClass?e.dayClass(x.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ma=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Sn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const A=br(s(ye(v))).toISOString(),[O]=A.split("T");return O},s=v=>t.utc==="preserve"?Px(v,r()):ki(v,r()),o=v=>{var A;const O=t.maxDate?vr(v,s(ye(t.maxDate))):!1,R=t.minDate?Zn(v,s(ye(t.minDate))):!1,j=c(s(v),(A=t.arrMapValues)!=null&&A.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),V=e.value.months.map(C=>+C).includes(Et(v)),B=t.disabledWeekDays.length?t.disabledWeekDays.some(C=>+C===Tz(v)):!1,F=f(v),U=ct(v),x=U<+t.yearRange[0]||U>+t.yearRange[1];return!(O||R||j||V||x||B||F)},a=(v,A)=>Zn(...ro(t.minDate,v,A))||Rt(...ro(t.minDate,v,A)),l=(v,A)=>vr(...ro(t.maxDate,v,A))||Rt(...ro(t.maxDate,v,A)),u=(v,A,O)=>{let R=!1;return t.maxDate&&O&&l(v,A)&&(R=!0),t.minDate&&!O&&a(v,A)&&(R=!0),R},c=(v,A)=>v?A instanceof Map?!!A.get(i(v)):Array.isArray(A)?A.some(O=>Rt(s(ye(O)),v)):A?A(ye(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,A,O,R)=>{let j=!1;return R?t.minDate&&t.maxDate?j=u(v,A,O):(t.minDate&&a(v,A)||t.maxDate&&l(v,A))&&(j=!0):j=!0,j},f=v=>{var A,O,R,j,V;return Array.isArray(t.allowedDates)&&!((A=t.allowedDates)!=null&&A.length)?!0:(O=t.arrMapValues)!=null&&O.allowedDates?!c(v,(R=t.arrMapValues)==null?void 0:R.allowedDates):(j=t.allowedDates)!=null&&j.length?!((V=t.allowedDates)!=null&&V.some(B=>Rt(br(B),s(br(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!tx({start:v[0],end:v[1]}).some(A=>p(A)):!0,w=(v,A,O=0)=>{if(Array.isArray(A)&&A[O]){const R=fq(v,A[O]),j=kx(A[O],v),V=j.length===1?0:j.filter(F=>p(F)).length,B=Math.abs(R)-V;if(t.minRange&&t.maxRange)return B>=+t.minRange&&B<=+t.maxRange;if(t.minRange)return B>=+t.minRange;if(t.maxRange)return B<=+t.maxRange}return!0},E=v=>new Map(v.map(A=>[i(A),!0])),k=v=>Array.isArray(v)&&v.length>0,P=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return k(t.allowedDates)&&(v.allowedDates=E(t.allowedDates)),typeof n.value!="function"&&k(n.value.dates)&&(v.highlightedDates=E(n.value.dates)),k(t.disabledDates)&&(v.disabledDates=E(t.disabledDates)),v},T=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,y=v=>Array.isArray(v)?[v[0]?Bg(v[0]):null,v[1]?Bg(v[1]):null]:Bg(v),M=(v,A,O)=>v.find(R=>+R.hours===Pi(A)&&R.minutes==="*"?!0:+R.minutes===ts(A)&&+R.hours===Pi(A))&&O,L=(v,A,O)=>{const[R,j]=v,[V,B]=A;return!M(R,V,O)&&!M(j,B,O)&&O},S=(v,A)=>{const O=Array.isArray(A)?A:[A];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,O,v):!O.some(R=>M(t.disabledTimes,R,v)):v},I=(v,A)=>{const O=Array.isArray(A)?[na(A[0]),A[1]?na(A[1]):void 0]:na(A),R=!t.disabledTimes(O);return v&&R},b=(v,A)=>t.disabledTimes?Array.isArray(t.disabledTimes)?S(A,v):I(A,v):A;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:w,matchDate:c,mapDatesArrToMap:P,isValidTime:v=>{let A=!0;if(!v||T())return!0;const O=!t.minDate&&!t.maxDate?y(v):v;return(t.maxTime||t.maxDate)&&(A=NI(t.maxTime,t.maxDate,"max",Fn(O),A)),(t.minTime||t.minDate)&&(A=NI(t.minTime,t.minDate,"min",Fn(O),A)),b(v,A)}}},bm=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},QG=(t,e,n)=>{const r=he(0),i=Dr({[ra.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ra.calendar]:!1,[ra.header]:!1}),s=le(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Hi.month,"toggleMonthPicker",!0),u(Hi.year,"toggleYearPicker",!0),u(Hi.calendar,"toggleTimePicker",!1,!0),u(Hi.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Hi.hours||h===Hi.minutes||h===Hi.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},wm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Li={...wm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},XG={key:1,class:"dp__input_wrap"},JG=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ZG={key:2,class:"dp__clear_icon"},eY=Gt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...wm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Sn(i),{checkMinMaxRange:h}=Ma(i),f=he(),p=he(null),g=he(!1),w=he(!1),E=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),k=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},P=j=>{const V=c();return SG(j,s.value.format??u(),V??Rx({},i.enableSeconds),i.inputValue,w.value)},T=j=>{const{rangeSeparator:V}=s.value,[B,F]=j.split(`${V}`);if(B){const U=P(B.trim()),x=F?P(F.trim()):null,C=U&&x?[U,x]:[U];h(x,C,0)&&(f.value=U?C:null)}},y=()=>{w.value=!0},M=j=>{if(i.range)T(j);else if(i.multiDates){const V=j.split(";");f.value=V.map(B=>P(B.trim())).filter(B=>B)}else f.value=P(j)},L=j=>{var V;const B=typeof j=="string"?j:(V=j.target)==null?void 0:V.value;B!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M(B),r("set-input-date",f.value)):k(),w.value=!1,r("update:input-value",B)},S=j=>{s.value.enabled?(M(j.target.value),s.value.enterSubmit&&Dy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(j)},I=j=>{s.value.enabled&&s.value.tabSubmit&&M(j.target.value),s.value.tabSubmit&&Dy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},b=()=>{var j;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((j=p.value)==null||j.select())},v=j=>{j.preventDefault(),fo(j,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},A=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},O=j=>{fo(j,l.value,!0),r("clear")},R=j=>{if(!s.value.enabled){if(j.code==="Tab")return;j.preventDefault()}};return e({focusInput:()=>{var j;(j=p.value)==null||j.focus({preventScroll:!0})},setParsedDate:j=>{f.value=j}}),(j,V)=>{var B;return q(),ee("div",{onClick:v},[j.$slots.trigger&&!j.$slots["dp-input"]&&!Y(a).enabled?_e(j.$slots,"trigger",{key:0}):de("",!0),!j.$slots.trigger&&(!Y(a).enabled||Y(a).input)?(q(),ee("div",XG,[j.$slots["dp-input"]&&!j.$slots.trigger&&!Y(a).enabled?_e(j.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:S,onTab:I,onClear:O,onBlur:A,onKeypress:R,onPaste:y,openMenu:()=>j.$emit("open"),closeMenu:()=>j.$emit("close"),toggleMenu:()=>j.$emit("toggle")}):de("",!0),j.$slots["dp-input"]?de("",!0):(q(),ee("input",{key:1,id:j.uid?`dp-input-${j.uid}`:void 0,ref_key:"inputRef",ref:p,name:j.name,class:tt(E.value),inputmode:Y(s).enabled?"text":"none",placeholder:j.placeholder,disabled:j.disabled,readonly:j.readonly,required:j.required,value:t.inputValue,autocomplete:j.autocomplete,"aria-label":(B=Y(o))==null?void 0:B.input,"aria-disabled":j.disabled||void 0,"aria-invalid":j.state===!1?!0:void 0,onInput:L,onKeydown:[at(S,["enter"]),at(I,["tab"]),R],onBlur:A,onFocus:b,onKeypress:R,onPaste:y},null,42,JG)),Ae("div",{onClick:V[2]||(V[2]=F=>r("toggle"))},[j.$slots["input-icon"]&&!j.hideInputIcon?(q(),ee("span",{key:0,class:"dp__input_icon",onClick:V[0]||(V[0]=F=>r("toggle"))},[_e(j.$slots,"input-icon")])):de("",!0),!j.$slots["input-icon"]&&!j.hideInputIcon&&!j.$slots["dp-input"]?(q(),qe(Y(gu),{key:1,class:"dp__input_icon dp__input_icons",onClick:V[1]||(V[1]=F=>r("toggle"))})):de("",!0)]),j.$slots["clear-icon"]&&t.inputValue&&j.clearable&&!j.disabled&&!j.readonly?(q(),ee("span",ZG,[_e(j.$slots,"clear-icon",{clear:O})])):de("",!0),j.clearable&&!j.$slots["clear-icon"]&&t.inputValue&&!j.disabled&&!j.readonly?(q(),qe(Y(wx),{key:3,class:"dp__clear_icon dp__input_icons",onClick:V[3]||(V[3]=Lt(F=>O(F),["prevent"]))})):de("",!0)])):de("",!0)])}}}),tY=["title"],nY={class:"dp__action_buttons"},rY=["disabled"],iY=Gt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Li},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Sn(r),{isValidTime:c}=Ma(r),{buildMatrix:h}=Ro(),f=he(null),p=he(null);yn(()=>{r.arrowNavigation&&h([Mn(f),Mn(p)],"actionRow")});const g=le(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),w=le(()=>!E.value||!k.value||!g.value),E=le(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),k=le(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!I(v)).length:I(r.internalModelValue):!0),P=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Fn(r.internalModelValue))},T=()=>{const v=r.internalModelValue;return o.value.count>0?`${y(v[0])} - ${y(v[1])}`:[y(v[0]),y(v[1])]},y=v=>xx(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?T():r.multiDates?r.internalModelValue.map(v=>`${y(v)}`):r.modelAuto?`${y(r.internalModelValue[0])}`:`${y(r.internalModelValue[0])} -`:y(r.internalModelValue):P()),L=()=>r.multiDates?"; ":" - ",S=le(()=>Array.isArray(M.value)?M.value.join(L()):M.value),I=v=>{if(!r.monthPicker)return!0;let A=!0;const O=ye(wi(v));if(r.minDate&&r.maxDate){const R=ye(wi(r.minDate)),j=ye(wi(r.maxDate));return vr(O,R)&&Zn(O,j)||Rt(O,R)||Rt(O,j)}if(r.minDate){const R=ye(wi(r.minDate));A=vr(O,R)||Rt(O,R)}if(r.maxDate){const R=ye(wi(r.maxDate));A=Zn(O,R)||Rt(O,R)}return A},b=()=>{E.value&&k.value&&g.value?n("select-date"):n("invalid-select")};return(v,A)=>(q(),ee("div",{class:"dp__action_row",style:kr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?_e(v.$slots,"action-row",wn(pe({key:0},{internalModelValue:v.internalModelValue,disabled:w.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(q(),ee(Me,{key:1},[Y(i).showPreview?(q(),ee("div",{key:0,class:"dp__selection_preview",title:S.value},[v.$slots["action-preview"]?_e(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-preview"]?de("",!0):(q(),ee(Me,{key:1},[xn(ht(S.value),1)],64))],8,tY)):de("",!0),Ae("div",nY,[v.$slots["action-buttons"]?_e(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-buttons"]?de("",!0):(q(),ee(Me,{key:1},[!Y(l).enabled&&Y(i).showCancel?(q(),ee("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[0]||(A[0]=O=>v.$emit("close-picker")),onKeydown:[A[1]||(A[1]=at(O=>v.$emit("close-picker"),["enter"])),A[2]||(A[2]=at(O=>v.$emit("close-picker"),["space"]))]},ht(v.cancelText),545)):de("",!0),Y(i).showNow?(q(),ee("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[3]||(A[3]=O=>v.$emit("select-now")),onKeydown:[A[4]||(A[4]=at(O=>v.$emit("select-now"),["enter"])),A[5]||(A[5]=at(O=>v.$emit("select-now"),["space"]))]},ht(v.nowButtonLabel),545)):de("",!0),Y(i).showSelect?(q(),ee("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:w.value,onKeydown:[at(b,["enter"]),at(b,["space"])],onClick:b},ht(v.selectText),41,rY)):de("",!0)],64))])],64))],4))}}),sY=["onKeydown"],oY={class:"dp__selection_grid_header"},aY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],lY=["aria-label"],Xd=Gt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Ro(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Sn(a),{hideNavigationButtons:h}=bm(),f=he(!1),p=he(null),g=he(null),w=he([]),E=he(),k=he(null),P=he(0),T=he(null);a_(()=>{p.value=null}),yn(()=>{Hn().then(()=>A()),a.noOverlayFocus||M(),y(!0)}),Sa(()=>y(!1));const y=x=>{var C;a.arrowNavigation&&((C=a.headerRefs)!=null&&C.length?s(x):r(x))},M=()=>{var x;const C=Mn(g);C&&(u.value.enabled||(p.value?(x=p.value)==null||x.focus({preventScroll:!0}):C.focus({preventScroll:!0})),f.value=C.clientHeight<C.scrollHeight)},L=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),S=le(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),I=le(()=>({dp__overlay_col:!0})),b=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=le(()=>{var x,C;return{dp__overlay_container:!0,dp__container_flex:((x=a.items)==null?void 0:x.length)<=6,dp__container_block:((C=a.items)==null?void 0:C.length)>6}});In(()=>a.items,()=>A(),{deep:!0});const A=()=>{Hn().then(()=>{const x=Mn(p),C=Mn(g),K=Mn(k),z=Mn(T),te=K?K.getBoundingClientRect().height:0;C&&(C.getBoundingClientRect().height?P.value=C.getBoundingClientRect().height-te:P.value=c.value.modeHeight-te),x&&z&&(z.scrollTop=x.offsetTop-z.offsetTop-(P.value/2-x.getBoundingClientRect().height)-te)})},O=x=>{x.disabled||o("selected",x.value)},R=()=>{o("toggle"),o("reset-flow")},j=()=>{a.escClose&&R()},V=(x,C,K,z)=>{x&&((C.active||C.value===a.focusValue)&&(p.value=x),a.arrowNavigation&&(Array.isArray(w.value[K])?w.value[K][z]=x:w.value[K]=[x],B()))},B=()=>{var x,C;const K=(x=a.headerRefs)!=null&&x.length?[a.headerRefs].concat(w.value):w.value.concat([a.skipButtonRef?[]:[k.value]]);i(Fn(K),(C=a.headerRefs)!=null&&C.length?"monthPicker":"selectionGrid")},F=x=>{a.arrowNavigation||fo(x,c.value,!0)},U=x=>{E.value=x,o("hover-value",x)};return e({focusGrid:M}),(x,C)=>{var K;return q(),ee("div",{ref_key:"gridWrapRef",ref:g,class:tt(L.value),style:kr(S.value),role:"dialog",tabindex:"0",onKeydown:[at(Lt(j,["prevent"]),["esc"]),C[0]||(C[0]=at(Lt(z=>F(z),["prevent"]),["left"])),C[1]||(C[1]=at(Lt(z=>F(z),["prevent"]),["up"])),C[2]||(C[2]=at(Lt(z=>F(z),["prevent"]),["down"])),C[3]||(C[3]=at(Lt(z=>F(z),["prevent"]),["right"]))]},[Ae("div",{ref_key:"containerRef",ref:T,class:tt(v.value),role:"grid",style:kr({height:`${P.value}px`})},[Ae("div",oY,[_e(x.$slots,"header")]),x.$slots.overlay?_e(x.$slots,"overlay",{key:0}):(q(!0),ee(Me,{key:1},Ft(x.items,(z,te)=>(q(),ee("div",{key:te,class:tt(["dp__overlay_row",{dp__flex_row:x.items.length>=3}]),role:"row"},[(q(!0),ee(Me,null,Ft(z,(fe,Z)=>(q(),ee("div",{key:fe.value,ref_for:!0,ref:W=>V(W,fe,te,Z),role:"gridcell",class:tt(I.value),"aria-selected":fe.active,"aria-disabled":fe.disabled||void 0,tabindex:"0",onClick:W=>O(fe),onKeydown:[at(Lt(W=>O(fe),["prevent"]),["enter"]),at(Lt(W=>O(fe),["prevent"]),["space"])],onMouseover:W=>U(fe.value)},[Ae("div",{class:tt(fe.className)},[x.$slots.item?_e(x.$slots,"item",{key:0,item:fe}):de("",!0),x.$slots.item?de("",!0):(q(),ee(Me,{key:1},[xn(ht(fe.text),1)],64))],2)],42,aY))),128))],2))),128))],6),x.$slots["button-icon"]?Qo((q(),ee("button",{key:0,ref_key:"toggleButton",ref:k,type:"button","aria-label":(K=Y(l))==null?void 0:K.toggleOverlay,class:tt(b.value),tabindex:"0",onClick:R,onKeydown:[at(R,["enter"]),at(R,["tab"])]},[_e(x.$slots,"button-icon")],42,lY)),[[oc,!Y(h)(x.hideNavigation,x.type)]]):de("",!0)],46,sY)}}}),Tm=Gt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(q(),ee("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(q(!0),ee(Me,null,Ft(n.value,(o,a)=>(q(),ee("div",{key:o,class:tt(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),uY=["aria-label","aria-disabled"],Ec=Gt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=he(null);return yn(()=>n("set-ref",r)),(i,s)=>(q(),ee("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Lt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Lt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ae("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,uY))}}),cY={class:"dp--year-mode-picker"},dY=["aria-label"],Lx=Gt({__name:"YearModePicker",props:{...Li,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=bm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Sn(r),{showTransition:c,transitionName:h}=Yd(u),f=(w=!1,E)=>{n("toggle-year-picker",{flow:w,show:E})},p=w=>{n("year-select",w)},g=(w=!1)=>{n("handle-year",w)};return(w,E)=>{var k,P,T;return q(),ee("div",cY,[Y(s)(Y(a),t.instance)?(q(),qe(Ec,{key:0,ref:"mpPrevIconRef","aria-label":(k=Y(l))==null?void 0:k.prevYear,disabled:t.isDisabled(!1),onActivate:E[0]||(E[0]=y=>g(!1))},{default:Qe(()=>[w.$slots["arrow-left"]?_e(w.$slots,"arrow-left",{key:0}):de("",!0),w.$slots["arrow-left"]?de("",!0):(q(),qe(Y(fb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ae("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(P=Y(l))==null?void 0:P.openYearsOverlay,onClick:E[1]||(E[1]=()=>f(!1)),onKeydown:E[2]||(E[2]=at(()=>f(!1),["enter"]))},[w.$slots.year?_e(w.$slots,"year",{key:0,year:t.year}):de("",!0),w.$slots.year?de("",!0):(q(),ee(Me,{key:1},[xn(ht(t.year),1)],64))],40,dY),Y(i)(Y(a),t.instance)?(q(),qe(Ec,{key:1,ref:"mpNextIconRef","aria-label":(T=Y(l))==null?void 0:T.nextYear,disabled:t.isDisabled(!0),onActivate:E[3]||(E[3]=y=>g(!0))},{default:Qe(()=>[w.$slots["arrow-right"]?_e(w.$slots,"arrow-right",{key:0}):de("",!0),w.$slots["arrow-right"]?de("",!0):(q(),qe(Y(pb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Je(Co,{name:Y(h)(t.showYearPicker),css:Y(c)},{default:Qe(()=>[t.showYearPicker?(q(),qe(Xd,{key:0,items:t.items,"text-input":w.textInput,"esc-close":w.escClose,config:w.config,"is-last":w.autoApply&&!Y(o).keepActionRow,"hide-navigation":w.hideNavigation,type:"year",onToggle:f,onSelected:E[4]||(E[4]=y=>p(y))},tr({"button-icon":Qe(()=>[w.$slots["calendar-icon"]?_e(w.$slots,"calendar-icon",{key:0}):de("",!0),w.$slots["calendar-icon"]?de("",!0):(q(),qe(Y(gu),{key:1}))]),_:2},[w.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:y})=>[_e(w.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):de("",!0)]),_:3},8,["name","css"])])}}}),Eb=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Rt(t,r))){const r=e.value.filter(i=>!Rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Ib=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Zn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Em=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Vx=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>ki(ye(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=ki(ye(t.value),t.timezone))},Fx=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=le(()=>wb(i.yearRange,i.reverseYears)),u=he([!1]),c=le(()=>(y,M)=>{const L=on(wi(new Date),{month:o.value(y),year:s.value(y)});return Dx(L,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),h=()=>{for(let y=0;y<t.value.count;y++)if(y===0)n.value[y]=n.value[0];else{const M=on(ye(),n.value[y-1]);n.value[y]={month:Et(M),year:ct(sb(M,1))}}},f=y=>{if(!y)return h();const M=on(ye(),n.value[y]);return n.value[0].year=ct(bx(M,t.value.count-1)),h()},p=y=>i.focusStartDate?y[0]:y[1]?y[1]:y[0],g=()=>{if(r.value){const y=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Et(y),year:ct(y)}}};yn(()=>{g(),t.value.count&&h()});const w=(y,M)=>{n.value[M].year=y,t.value.count&&!t.value.solo&&f(M)},E=le(()=>y=>Zl(l.value,M=>{const L=s.value(y)===M.value,S=sd(M.value,eu(i.minDate),eu(i.maxDate)),I=Tb(e.value,M.value);return{active:L,disabled:S,highlighted:I}})),k=(y,M)=>{w(y,M),T(M)},P=(y,M=!1)=>{if(!c.value(y,M)){const L=M?s.value(y)+1:s.value(y)-1;w(L,y)}},T=(y,M=!1,L)=>{M||a("reset-flow"),L!==void 0?u.value[y]=L:u.value[y]=!u.value[y],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:E,showYearPicker:u,selectYear:w,toggleYearPicker:T,handleYearSelect:k,handleYear:P}},hY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Sn(t),{modelValue:a,year:l,month:u,calendars:c}=Qd(t,e),h=le(()=>Sx(t.formatLocale,t.locale,t.monthNameFormat)),f=he(null),{selectYear:p,groupedYears:g,showYearPicker:w,toggleYearPicker:E,handleYearSelect:k,handleYear:P,isDisabled:T}=Fx({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});yn(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ct(ye(t.startDate)),0)});const y=F=>F?{month:Et(F),year:ct(F)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(F=>y(F)):y(a.value):y(),L=(F,U)=>{const x=c.value[F],C=M();return Array.isArray(C)?C.some(K=>K.year===(x==null?void 0:x.year)&&K.month===U):(x==null?void 0:x.year)===C.year&&U===C.month},S=(F,U,x)=>{var C,K;const z=M();return Array.isArray(z)?l.value(U)===((C=z[x])==null?void 0:C.year)&&F===((K=z[x])==null?void 0:K.month):!1},I=(F,U)=>{if(t.range){const x=M();if(Array.isArray(a.value)&&Array.isArray(x)){const C=S(F,U,0)||S(F,U,1),K=bs(wi(ye()),F,l.value(U));return _m(a.value,f.value,K)&&!C}return!1}return!1},b=le(()=>F=>Zl(h.value,U=>{const x=L(F,U.value),C=sd(U.value,Cx(l.value(F),t.minDate),Ox(l.value(F),t.maxDate))||DG(t.disabledDates,l.value(F)).includes(U.value),K=I(U.value,F),z=Nx(o.value,U.value,l.value(F));return{active:x,disabled:C,isBetween:K,highlighted:z}})),v=(F,U)=>bs(wi(ye()),F,l.value(U)),A=(F,U)=>{const x=a.value?a.value:wi(new Date);a.value=bs(x,F,l.value(U)),e("auto-apply")},O=(F,U)=>{const x=Ib(a,v(F,U),e);Em(x,e,t.autoApply,t.modelAuto)},R=(F,U)=>{Eb(v(F,U),a,t.multiDatesLimit),e("auto-apply",!0)},j=(F,U)=>(c.value[U].month=F,B(U,c.value[U].year,F),t.multiDates?R(F,U):t.range?O(F,U):A(F,U)),V=(F,U)=>{p(F,U),B(U,F,null)},B=(F,U,x)=>{let C=x;if(!C&&C!==0){const K=M();C=Array.isArray(K)?K[F].month:K.month}e("update-month-year",{instance:F,year:U,month:C})};return{groupedMonths:b,groupedYears:g,year:l,isDisabled:T,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:w,modelValue:a,presetDate:(F,U)=>{Vx({value:F,modelValue:a,range:t.range,timezone:U?void 0:t.timezone}),e("auto-apply")},setHoverDate:(F,U)=>{f.value=v(F,U)},selectMonth:j,selectYear:V,toggleYearPicker:E,handleYearSelect:k,handleYear:P,getModelMonthYear:M}},fY=Gt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Li},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Aa(),s=Qr(i,"yearMode"),o=t;yn(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:w,setHoverDate:E,selectMonth:k,selectYear:P,toggleYearPicker:T,handleYearSelect:y,handleYear:M,getModelMonthYear:L}=hY(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:L,selectMonth:k,selectYear:P,handleYear:M}),presetDate:w,toggleYearPicker:S=>T(0,S)}),(S,I)=>(q(),qe(Tm,{"multi-calendars":Y(h).count,stretch:""},{default:Qe(({instance:b})=>[S.$slots["month-year"]?_e(S.$slots,"month-year",wn(pe({key:0},{year:Y(u),months:Y(a)(b),years:Y(l)(b),selectMonth:Y(k),selectYear:Y(P),instance:b}))):(q(),qe(Xd,{key:1,items:Y(a)(b),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!Y(f).keepActionRow,"esc-close":S.escClose,height:Y(f).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:v=>Y(k)(v,b),onHoverValue:v=>Y(E)(v,b)},{header:Qe(()=>[Je(Lx,pe(S.$props,{items:Y(l)(b),instance:b,"show-year-picker":Y(p)[b],year:Y(u)(b),"is-disabled":v=>Y(c)(b,v),onHandleYear:v=>Y(M)(b,v),onYearSelect:v=>Y(y)(v,b),onToggleYearPicker:v=>Y(T)(b,v==null?void 0:v.flow,v==null?void 0:v.show)}),tr({_:2},[Ft(Y(s),(v,A)=>({name:v,fn:Qe(O=>[_e(S.$slots,v,wn(er(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),pY=(t,e)=>{const{modelValue:n}=Qd(t,e),r=he(null),{defaultedHighlight:i,defaultedFilters:s}=Sn(t),o=he();yn(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ct(ye(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ct(f)===h):n.value?ct(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?_m(n.value,r.value,c(h)):!1,u=le(()=>Zl(wb(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=sd(h.value,eu(t.minDate),eu(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,w=Tb(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:w}})),c=h=>Gi(wi(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=Gi(wi(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ct(p))).includes(h)?n.value=n.value.filter(p=>ct(p)!==h):n.value.push(Gi(br(ye()),h))):n.value=[Gi(br(ye()),h)],e("auto-apply",!0);if(t.range){const p=Ib(n,c(h),e);return Em(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},mY=Gt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Li},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=pY(i,r),{defaultedConfig:c}=Sn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(q(),ee("div",null,[h.$slots["month-year"]?_e(h.$slots,"month-year",wn(pe({key:0},{years:Y(s),selectYear:Y(l)}))):(q(),qe(Xd,{key:1,items:Y(s),"is-last":h.autoApply&&!Y(c).keepActionRow,height:Y(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":Y(a),type:"year","use-relative":"",onSelected:Y(l),onHoverValue:Y(u)},tr({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[_e(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),gY={key:0,class:"dp__time_input"},vY=["aria-label","onKeydown","onClick"],yY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),_Y=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),bY=["aria-label","disabled","onKeydown","onClick"],wY=["aria-label","onKeydown","onClick"],TY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),EY=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),IY={key:0},SY=["aria-label","onKeydown"],AY=Gt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Li},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Ro(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Sn(i),{transitionName:h,showTransition:f}=Yd(l),p=Dr({hours:!1,minutes:!1,seconds:!1}),g=he("AM"),w=he(null),E=he([]);yn(()=>{r("mounted")});const k=W=>on(new Date,{hours:W.hours,minutes:W.minutes,seconds:i.enableSeconds?W.seconds:0,milliseconds:0}),P=le(()=>W=>j(W,i[W])||y(W,i[W])),T=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),y=(W,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(W,Q):!1,M=(W,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ie=Q?+i[`${W}Increment`]:-+i[`${W}Increment`],X=i[W]+ie;return!i.validateTime(W,X)}return!1},L=le(()=>W=>!B(+i[W]+ +i[`${W}Increment`],W)||M(W,!0)),S=le(()=>W=>!B(+i[W]-+i[`${W}Increment`],W)||M(W,!1)),I=(W,Q)=>ZD(on(ye(),W),Q),b=(W,Q)=>HK(on(ye(),W),Q),v=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),A=le(()=>{const W=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?W.concat([{type:"",separator:!0},{type:"seconds"}]):W}),O=le(()=>A.value.filter(W=>!W.separator)),R=le(()=>W=>{if(W==="hours"){const Q=K(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[W]<10?`0${i[W]}`:`${i[W]}`,value:i[W]}}),j=(W,Q)=>{var ie;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,W==="hours"?Q:void 0);return X[W]?!!((ie=X[W])!=null&&ie.includes(Q)):!0},V=W=>{const Q=i.is24?24:12,ie=W==="hours"?Q:60,X=+i[`${W}GridIncrement`],ce=W==="hours"&&!i.is24?X:0,be=[];for(let ne=ce;ne<ie;ne+=X)be.push({value:ne,text:ne<10?`0${ne}`:`${ne}`});return W==="hours"&&!i.is24&&be.push({value:0,text:"12"}),Zl(be,ne=>({active:!1,disabled:u.value.times[W].includes(ne.value)||!B(ne.value,W)||j(W,ne.value)||y(W,ne.value)}))},B=(W,Q)=>{const ie=i.minTime?k(Fg(i.minTime)):null,X=i.maxTime?k(Fg(i.maxTime)):null,ce=k(Fg(T.value,Q,W));return ie&&X?(id(ce,X)||dl(ce,X))&&(rd(ce,ie)||dl(ce,ie)):ie?rd(ce,ie)||dl(ce,ie):X?id(ce,X)||dl(ce,X):!0},F=W=>i[`no${W[0].toUpperCase()+W.slice(1)}Overlay`],U=W=>{F(W)||(p[W]=!p[W],p[W]||r("overlay-closed"))},x=W=>W==="hours"?Pi:W==="minutes"?ts:Xl,C=(W,Q=!0)=>{const ie=Q?I:b,X=Q?+i[`${W}Increment`]:-+i[`${W}Increment`];B(+i[W]+X,W)&&r(`update:${W}`,x(W)(ie({[W]:+i[W]},{[W]:+i[`${W}Increment`]})))},K=W=>i.is24?W:(W>=12?g.value="PM":g.value="AM",yG(W)),z=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},te=W=>{p[W]=!0},fe=(W,Q,ie)=>{if(W&&i.arrowNavigation){Array.isArray(E.value[Q])?E.value[Q][ie]=W:E.value[Q]=[W];const X=E.value.reduce((ce,be)=>be.map((ne,D)=>[...ce[D]||[],be[D]]),[]);o(i.closeTimePickerBtn),w.value&&(X[1]=X[1].concat(w.value)),s(X,i.order)}},Z=(W,Q)=>(U(W),W==="hours"&&!i.is24?r(`update:${W}`,g.value==="PM"?Q+12:Q):r(`update:${W}`,Q));return e({openChildCmp:te}),(W,Q)=>{var ie;return W.disabled?de("",!0):(q(),ee("div",gY,[(q(!0),ee(Me,null,Ft(A.value,(X,ce)=>{var be,ne,D;return q(),ee("div",{key:ce,class:tt(v.value)},[X.separator?(q(),ee(Me,{key:0},[xn(" : ")],64)):(q(),ee(Me,{key:1},[Ae("button",{ref_for:!0,ref:$=>fe($,ce,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_top:W.timePickerInline,dp__inc_dec_button_disabled:L.value(X.type)}),"aria-label":(be=Y(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[at(Lt($=>C(X.type),["prevent"]),["enter"]),at(Lt($=>C(X.type),["prevent"]),["space"])],onClick:$=>C(X.type)},[i.timePickerInline?(q(),ee(Me,{key:1},[yY,_Y],64)):(q(),ee(Me,{key:0},[W.$slots["arrow-up"]?_e(W.$slots,"arrow-up",{key:0}):de("",!0),W.$slots["arrow-up"]?de("",!0):(q(),qe(Y(gb),{key:1}))],64))],42,vY),Ae("button",{ref_for:!0,ref:$=>fe($,ce,1),type:"button","aria-label":(ne=Y(a))==null?void 0:ne.openTpOverlay(X.type),class:tt({dp__time_display:!0,dp__time_display_block:!W.timePickerInline,dp__time_display_inline:W.timePickerInline,"dp--time-invalid":P.value(X.type),"dp--time-overlay-btn":!P.value(X.type)}),disabled:F(X.type),tabindex:"0",onKeydown:[at(Lt($=>U(X.type),["prevent"]),["enter"]),at(Lt($=>U(X.type),["prevent"]),["space"])],onClick:$=>U(X.type)},[W.$slots[X.type]?_e(W.$slots,X.type,{key:0,text:R.value(X.type).text,value:R.value(X.type).value}):de("",!0),W.$slots[X.type]?de("",!0):(q(),ee(Me,{key:1},[xn(ht(R.value(X.type).text),1)],64))],42,bY),Ae("button",{ref_for:!0,ref:$=>fe($,ce,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_bottom:W.timePickerInline,dp__inc_dec_button_disabled:S.value(X.type)}),"aria-label":(D=Y(a))==null?void 0:D.decrementValue(X.type),tabindex:"0",onKeydown:[at(Lt($=>C(X.type,!1),["prevent"]),["enter"]),at(Lt($=>C(X.type,!1),["prevent"]),["space"])],onClick:$=>C(X.type,!1)},[i.timePickerInline?(q(),ee(Me,{key:1},[TY,EY],64)):(q(),ee(Me,{key:0},[W.$slots["arrow-down"]?_e(W.$slots,"arrow-down",{key:0}):de("",!0),W.$slots["arrow-down"]?de("",!0):(q(),qe(Y(vb),{key:1}))],64))],42,wY)],64))],2)}),128)),W.is24?de("",!0):(q(),ee("div",IY,[W.$slots["am-pm-button"]?_e(W.$slots,"am-pm-button",{key:0,toggle:z,value:g.value}):de("",!0),W.$slots["am-pm-button"]?de("",!0):(q(),ee("button",{key:1,ref_key:"amPmButton",ref:w,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=Y(a))==null?void 0:ie.amPmButton,tabindex:"0",onClick:z,onKeydown:[at(Lt(z,["prevent"]),["enter"]),at(Lt(z,["prevent"]),["space"])]},ht(g.value),41,SY))])),(q(!0),ee(Me,null,Ft(O.value,(X,ce)=>(q(),qe(Co,{key:ce,name:Y(h)(p[X.type]),css:Y(f)},{default:Qe(()=>[p[X.type]?(q(),qe(Xd,{key:0,items:V(X.type),"is-last":W.autoApply&&!Y(c).keepActionRow,"esc-close":W.escClose,type:X.type,"text-input":W.textInput,config:W.config,"arrow-navigation":W.arrowNavigation,onSelected:be=>Z(X.type,be),onToggle:be=>U(X.type),onResetFlow:Q[0]||(Q[0]=be=>W.$emit("reset-flow"))},tr({"button-icon":Qe(()=>[W.$slots["clock-icon"]?_e(W.$slots,"clock-icon",{key:0}):de("",!0),W.$slots["clock-icon"]?de("",!0):(q(),qe(zr(W.timePickerInline?Y(gu):Y(mb)),{key:1}))]),_:2},[W.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:be})=>[_e(W.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),CY={class:"dp--tp-wrap"},OY=["aria-label","tabindex"],PY=["tabindex"],kY=["aria-label"],$x=Gt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Li},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Ro(),a=Aa(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=Sn(i),{transitionName:f,showTransition:p}=Yd(l),{hideNavigationButtons:g}=bm(),w=he(null),E=he(null),k=he([]),P=he(null);yn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Mn(w.value)],"time"):o(!0,i.timePicker)});const T=le(()=>i.range&&i.modelAuto?Ax(i.internalModelValue):!0),y=he(!1),M=V=>({hours:Array.isArray(i.hours)?i.hours[V]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[V]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[V]:i.seconds}),L=le(()=>{const V=[];if(i.range)for(let B=0;B<2;B++)V.push(M(B));else V.push(M(0));return V}),S=(V,B=!1,F="")=>{B||r("reset-flow"),y.value=V,r(V?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(V),Hn(()=>{F!==""&&k.value[0]&&k.value[0].openChildCmp(F)})},I=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),b=Qr(a,"timePicker"),v=(V,B,F)=>i.range?B===0?[V,L.value[1][F]]:[L.value[0][F],V]:V,A=V=>{r("update:hours",V)},O=V=>{r("update:minutes",V)},R=V=>{r("update:seconds",V)},j=()=>{if(P.value&&!c.value.enabled&&!i.noOverlayFocus){const V=bG(P.value);V&&V.focus({preventScroll:!0})}};return e({toggleTimePicker:S}),(V,B)=>{var F;return q(),ee("div",CY,[!V.timePicker&&!V.timePickerInline?Qo((q(),ee("button",{key:0,ref_key:"openTimePickerBtn",ref:w,type:"button",class:tt(I.value),"aria-label":(F=Y(u))==null?void 0:F.openTimePicker,tabindex:V.noOverlayFocus?void 0:0,onKeydown:[B[0]||(B[0]=at(U=>S(!0),["enter"])),B[1]||(B[1]=at(U=>S(!0),["space"]))],onClick:B[2]||(B[2]=U=>S(!0))},[V.$slots["clock-icon"]?_e(V.$slots,"clock-icon",{key:0}):de("",!0),V.$slots["clock-icon"]?de("",!0):(q(),qe(Y(mb),{key:1}))],42,OY)),[[oc,!Y(g)(V.hideNavigation,"time")]]):de("",!0),Je(Co,{name:Y(f)(y.value),css:Y(p)&&!V.timePickerInline},{default:Qe(()=>{var U;return[y.value||V.timePicker||V.timePickerInline?(q(),ee("div",{key:0,ref_key:"overlayRef",ref:P,class:tt({dp__overlay:!V.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!V.timePickerInline,"dp--overlay-relative":i.timePicker}),style:kr(V.timePicker?{height:`${Y(h).modeHeight}px`}:void 0),tabindex:V.timePickerInline?void 0:0},[Ae("div",{class:tt(V.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[V.$slots["time-picker-overlay"]?_e(V.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:A,setMinutes:O,setSeconds:R}):de("",!0),V.$slots["time-picker-overlay"]?de("",!0):(q(),ee("div",{key:1,class:tt(V.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(q(!0),ee(Me,null,Ft(L.value,(x,C)=>Qo((q(),qe(AY,pe({key:C},{...V.$props,order:C,hours:x.hours,minutes:x.minutes,seconds:x.seconds,closeTimePickerBtn:E.value,disabledTimesConfig:t.disabledTimesConfig,disabled:C===0?V.fixedStart:V.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:k,"validate-time":(K,z)=>t.validateTime(K,v(z,C,K)),"onUpdate:hours":K=>A(v(K,C,"hours")),"onUpdate:minutes":K=>O(v(K,C,"minutes")),"onUpdate:seconds":K=>R(v(K,C,"seconds")),onMounted:j,onOverlayClosed:j,onAmPmChange:B[3]||(B[3]=K=>V.$emit("am-pm-change",K))}),tr({_:2},[Ft(Y(b),(K,z)=>({name:K,fn:Qe(te=>[_e(V.$slots,K,wn(er(te)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[oc,C===0?!0:T.value]])),128))],2)),!V.timePicker&&!V.timePickerInline?Qo((q(),ee("button",{key:2,ref_key:"closeTimePickerBtn",ref:E,type:"button",class:tt(I.value),"aria-label":(U=Y(u))==null?void 0:U.closeTimePicker,tabindex:"0",onKeydown:[B[4]||(B[4]=at(x=>S(!1),["enter"])),B[5]||(B[5]=at(x=>S(!1),["space"]))],onClick:B[6]||(B[6]=x=>S(!1))},[V.$slots["calendar-icon"]?_e(V.$slots,"calendar-icon",{key:0}):de("",!0),V.$slots["calendar-icon"]?de("",!0):(q(),qe(Y(gu),{key:1}))],42,kY)),[[oc,!Y(g)(V.hideNavigation,"time")]]):de("",!0)],2)],14,PY)):de("",!0)]}),_:3},8,["name","css"])])}}}),Ux=(t,e,n,r)=>{const i=(k,P)=>Array.isArray(e[k])?e[k][P]:e[k],s=k=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[k]:e.seconds:0,o=(k,P)=>k?P!==void 0?po(k,i("hours",P),i("minutes",P),s(P)):po(k,e.hours,e.minutes,s()):hb(ye(),s(P)),a=(k,P)=>{e[k]=P},l=(k,P)=>{const T=Object.fromEntries(Object.keys(e).map(y=>y===k?[y,P]:[y,e[y]].slice()));if(t.range&&!t.disableTimeRangeValidation){const y=L=>n.value?po(n.value[L],T.hours[L],T.minutes[L],T.seconds[L]):null,M=L=>db(n.value[L],0);return!(Rt(y(0),y(1))&&(rd(y(0),M(1))||id(y(1),M(0))))}return!0},u=(k,P)=>{l(k,P)&&(a(k,P),r&&r())},c=k=>{u("hours",k)},h=k=>{u("minutes",k)},f=k=>{u("seconds",k)},p=(k,P,T,y)=>{P&&c(k),!P&&!T&&h(k),T&&f(k),n.value&&y(n.value)},g=k=>{if(k){const P=Array.isArray(k),T=P?[+k[0].hours,+k[1].hours]:+k.hours,y=P?[+k[0].minutes,+k[1].minutes]:+k.minutes,M=P?[+k[0].seconds,+k[1].seconds]:+k.seconds;a("hours",T),a("minutes",y),t.enableSeconds&&a("seconds",M)}},w=(k,P)=>{const T={hours:Array.isArray(e.hours)?e.hours[k]:e.hours,disabledArr:[]};return(P||P===0)&&(T.hours=P),Array.isArray(t.disabledTimes)&&(T.disabledArr=t.range&&Array.isArray(t.disabledTimes[k])?t.disabledTimes[k]:t.disabledTimes),T},E=le(()=>(k,P)=>{var T;if(Array.isArray(t.disabledTimes)){const{disabledArr:y,hours:M}=w(k,P),L=y.filter(S=>+S.hours===M);return((T=L[0])==null?void 0:T.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(S=>+S.minutes))??[],seconds:(L==null?void 0:L.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:E}},RY=(t,e)=>{const{modelValue:n,time:r}=Qd(t,e),{defaultedStartTime:i}=Sn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Ux(t,r,n),h=P=>{const{hours:T,minutes:y,seconds:M}=P;return{hours:+T,minutes:+y,seconds:M?+M:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=h(t.startTime[0]),y=h(t.startTime[1]);return[on(ye(),T),on(ye(),y)]}const P=h(t.startTime);return on(ye(),P)}return t.range?[null,null]:null},p=()=>{if(t.range){const[P,T]=f();n.value=[o(P,0),o(T,1)]}else n.value=o(f())},g=P=>Array.isArray(P)?[na(ye(P[0])),na(ye(P[1]))]:[na(P??ye())],w=(P,T,y)=>{a("hours",P),a("minutes",T),a("seconds",t.enableSeconds?y:0)},E=()=>{const[P,T]=g(n.value);return t.range?w([P.hours,T.hours],[P.minutes,T.minutes],[P.seconds,T.minutes]):w(P.hours,P.minutes,P.seconds)};yn(()=>{if(!t.shadow)return l(i.value),n.value?E():p()});const k=()=>{Array.isArray(n.value)?n.value=n.value.map((P,T)=>P&&o(P,T)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(P,T=!0,y=!1)=>{s(P,T,y,k)},validateTime:c}},DY=Gt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Li},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Aa(),o=Qr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=RY(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(q(),qe(Tm,{"multi-calendars":0,stretch:""},{default:Qe(()=>[Je($x,pe(f.$props,{hours:Y(a).hours,minutes:Y(a).minutes,seconds:Y(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":Y(u),"validate-time":Y(h),"onUpdate:hours":p[0]||(p[0]=g=>Y(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>Y(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>Y(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),tr({_:2},[Ft(Y(o),(g,w)=>({name:g,fn:Qe(E=>[_e(f.$slots,g,wn(er(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),xY={class:"dp__month_year_row"},NY=["aria-label","onClick","onKeydown"],MY=Gt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Li},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Sn(i),{transitionName:h,showTransition:f}=Yd(s),{buildMatrix:p}=Ro(),{handleMonthYearChange:g,isDisabled:w,updateMonthYear:E}=qG(i,r),{showLeftIcon:k,showRightIcon:P}=bm(),T=he(!1),y=he(!1),M=he([null,null,null,null]);yn(()=>{r("mount")});const L=C=>({get:()=>i[C],set:K=>{const z=C===vi.month?vi.year:vi.month;r("update-month-year",{[C]:K,[z]:i[z]}),C===vi.month?j(!0):V(!0)}}),S=le(L(vi.month)),I=le(L(vi.year)),b=le(()=>C=>({month:i.month,year:i.year,items:C===vi.month?i.months:i.years,instance:i.instance,updateMonthYear:E,toggle:C===vi.month?j:V})),v=le(()=>i.months.find(K=>K.value===i.month)||{text:"",value:0}),A=le(()=>Zl(i.months,C=>{const K=i.month===C.value,z=sd(C.value,Cx(i.year,i.minDate),Ox(i.year,i.maxDate))||l.value.months.includes(C.value),te=Nx(c.value,C.value,i.year);return{active:K,disabled:z,highlighted:te}})),O=le(()=>Zl(i.years,C=>{const K=i.year===C.value,z=sd(C.value,eu(i.minDate),eu(i.maxDate))||l.value.years.includes(C.value),te=Tb(c.value,C.value);return{active:K,disabled:z,highlighted:te}})),R=(C,K)=>{K!==void 0?C.value=K:C.value=!C.value,C.value||r("overlay-closed")},j=(C=!1,K)=>{B(C),R(T,K)},V=(C=!1,K)=>{B(C),R(y,K)},B=C=>{C||r("reset-flow")},F=(C,K)=>{i.arrowNavigation&&(M.value[K]=Mn(C),p(M.value,"monthYear"))},U=le(()=>{var C,K;return[{type:vi.month,index:1,toggle:j,modelValue:S.value,updateModelValue:z=>S.value=z,text:v.value.text,showSelectionGrid:T.value,items:A.value,ariaLabel:(C=o.value)==null?void 0:C.openMonthsOverlay},{type:vi.year,index:2,toggle:V,modelValue:I.value,updateModelValue:z=>I.value=z,text:i.year,showSelectionGrid:y.value,items:O.value,ariaLabel:(K=o.value)==null?void 0:K.openYearsOverlay}]}),x=le(()=>i.disableYearSelect?[U.value[0]]:i.yearFirst?[...U.value].reverse():U.value);return e({toggleMonthPicker:j,toggleYearPicker:V,handleMonthYearChange:g}),(C,K)=>{var z,te,fe;return q(),ee("div",xY,[C.$slots["month-year"]?_e(C.$slots,"month-year",wn(pe({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:Y(E),handleMonthYearChange:Y(g),instance:t.instance}))):(q(),ee(Me,{key:1},[Y(k)(Y(a),t.instance)&&!C.vertical?(q(),qe(Ec,{key:0,"aria-label":(z=Y(o))==null?void 0:z.prevMonth,disabled:Y(w)(!1),onActivate:K[0]||(K[0]=Z=>Y(g)(!1,!0)),onSetRef:K[1]||(K[1]=Z=>F(Z,0))},{default:Qe(()=>[C.$slots["arrow-left"]?_e(C.$slots,"arrow-left",{key:0}):de("",!0),C.$slots["arrow-left"]?de("",!0):(q(),qe(Y(fb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ae("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:C.disableYearSelect}])},[(q(!0),ee(Me,null,Ft(x.value,(Z,W)=>(q(),ee(Me,{key:Z.type},[Ae("button",{ref_for:!0,ref:Q=>F(Q,W+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Z.ariaLabel,onClick:Z.toggle,onKeydown:[at(Lt(Z.toggle,["prevent"]),["enter"]),at(Lt(Z.toggle,["prevent"]),["space"])]},[C.$slots[Z.type]?_e(C.$slots,Z.type,{key:0,text:Z.text,value:i[Z.type]}):de("",!0),C.$slots[Z.type]?de("",!0):(q(),ee(Me,{key:1},[xn(ht(Z.text),1)],64))],40,NY),Je(Co,{name:Y(h)(Z.showSelectionGrid),css:Y(f)},{default:Qe(()=>[Z.showSelectionGrid?(q(),qe(Xd,{key:0,items:Z.items,"arrow-navigation":C.arrowNavigation,"hide-navigation":C.hideNavigation,"is-last":C.autoApply&&!Y(u).keepActionRow,"skip-button-ref":!1,config:C.config,type:Z.type,"header-refs":[],"esc-close":C.escClose,"text-input":C.textInput,onSelected:Z.updateModelValue,onToggle:Z.toggle},tr({"button-icon":Qe(()=>[C.$slots["calendar-icon"]?_e(C.$slots,"calendar-icon",{key:0}):de("",!0),C.$slots["calendar-icon"]?de("",!0):(q(),qe(Y(gu),{key:1}))]),_:2},[C.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:Qe(({item:Q})=>[_e(C.$slots,`${Z.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,C.$slots[`${Z.type}-overlay`]?{name:"overlay",fn:Qe(()=>[_e(C.$slots,`${Z.type}-overlay`,wn(er(b.value(Z.type))))]),key:"1"}:void 0,C.$slots[`${Z.type}-overlay-header`]?{name:"header",fn:Qe(()=>[_e(C.$slots,`${Z.type}-overlay-header`,{toggle:Z.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Y(k)(Y(a),t.instance)&&C.vertical?(q(),qe(Ec,{key:1,"aria-label":(te=Y(o))==null?void 0:te.prevMonth,disabled:Y(w)(!1),onActivate:K[2]||(K[2]=Z=>Y(g)(!1,!0))},{default:Qe(()=>[C.$slots["arrow-up"]?_e(C.$slots,"arrow-up",{key:0}):de("",!0),C.$slots["arrow-up"]?de("",!0):(q(),qe(Y(gb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Y(P)(Y(a),t.instance)?(q(),qe(Ec,{key:2,ref:"rightIcon",disabled:Y(w)(!0),"aria-label":(fe=Y(o))==null?void 0:fe.nextMonth,onActivate:K[3]||(K[3]=Z=>Y(g)(!0,!0)),onSetRef:K[4]||(K[4]=Z=>F(Z,C.disableYearSelect?2:3))},{default:Qe(()=>[C.$slots[C.vertical?"arrow-down":"arrow-right"]?_e(C.$slots,C.vertical?"arrow-down":"arrow-right",{key:0}):de("",!0),C.$slots[C.vertical?"arrow-down":"arrow-right"]?de("",!0):(q(),qe(zr(C.vertical?Y(vb):Y(pb)),{key:1}))]),_:3},8,["disabled","aria-label"])):de("",!0)],64))])}}}),LY=["aria-label"],VY={class:"dp__calendar_header",role:"row"},FY={key:0,class:"dp__calendar_header_item",role:"gridcell"},$Y=Ae("div",{class:"dp__calendar_header_separator"},null,-1),UY=["aria-label"],BY={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},jY={class:"dp__cell_inner"},HY=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],WY=Gt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Li},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Ro(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Sn(i),h=he(null),f=he({bottom:"",left:"",transform:""}),p=he([]),g=he(null),w=he(!0),E=he(""),k=he({startX:0,endX:0,startY:0,endY:0}),P=he([]),T=he({left:"50%"}),y=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):vG(i.formatLocale,i.locale,+i.weekStart));yn(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",V,{passive:!1}),g.value.addEventListener("touchend",B,{passive:!1}),g.value.addEventListener("touchmove",F,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",C,{passive:!1})});const L=Z=>Z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",S=(Z,W)=>{if(i.transitions){const Q=br(bs(ye(),i.month,i.year));E.value=vr(br(bs(ye(),Z,W)),Q)?o.value[L(!0)]:o.value[L(!1)],w.value=!1,Hn(()=>{w.value=!0})}},I=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),b=le(()=>Z=>{const W=_G(Z);return{dp__marker_dot:W.type==="dot",dp__marker_line:W.type==="line"}}),v=le(()=>Z=>Rt(Z,h.value)),A=le(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),O=le(()=>Z=>i.hideOffsetDates?Z.current:!0),R=async(Z,W,Q)=>{var ie,X;if(r("set-hover-date",Z),(X=(ie=Z.marker)==null?void 0:ie.tooltip)!=null&&X.length){const ce=Mn(p.value[W][Q]);if(ce){const{width:be,height:ne}=ce.getBoundingClientRect();h.value=Z.value;let D={left:`${be/2}px`},$=-50;if(await Hn(),P.value[0]){const{left:H,width:oe}=P.value[0].getBoundingClientRect();H<0&&(D={left:"0"},$=0,T.value.left=`${be/2}px`),window.innerWidth<H+oe&&(D={right:"0"},$=0,T.value.left=`${oe-be/2}px`)}f.value={bottom:`${ne}px`,...D,transform:`translateX(${$}%)`},r("tooltip-open",Z.marker)}}},j=Z=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Z.marker))},V=Z=>{k.value.startX=Z.changedTouches[0].screenX,k.value.startY=Z.changedTouches[0].screenY},B=Z=>{k.value.endX=Z.changedTouches[0].screenX,k.value.endY=Z.changedTouches[0].screenY,U()},F=Z=>{i.vertical&&!i.inline&&Z.preventDefault()},U=()=>{const Z=i.vertical?"Y":"X";Math.abs(k.value[`start${Z}`]-k.value[`end${Z}`])>10&&r("handle-swipe",k.value[`start${Z}`]>k.value[`end${Z}`]?"right":"left")},x=(Z,W,Q)=>{Z&&(Array.isArray(p.value[W])?p.value[W][Q]=Z:p.value[W]=[Z]),i.arrowNavigation&&s(p.value,"calendar")},C=Z=>{i.monthChangeOnScroll&&(Z.preventDefault(),r("handle-scroll",Z))},K=Z=>c.value.type==="local"?Pz(Z.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Sz(Z.value):typeof c.value.type=="function"?c.value.type(Z.value):"",z=Z=>{const W=Z[0];return c.value.hideOnOffsetDates?Z.some(Q=>Q.current)?K(W):"":K(W)},te=(Z,W)=>{fo(Z,a.value),r("select-date",W)},fe=Z=>{fo(Z,a.value)};return e({triggerTransition:S}),(Z,W)=>{var Q;return q(),ee("div",{class:tt(A.value)},[Ae("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(I.value),"aria-label":(Q=Y(l))==null?void 0:Q.calendarWrap},[(q(),ee(Me,{key:0},[Ae("div",VY,[Z.weekNumbers?(q(),ee("div",FY,ht(Z.weekNumName),1)):de("",!0),(q(!0),ee(Me,null,Ft(M.value,(ie,X)=>(q(),ee("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[Z.$slots["calendar-header"]?_e(Z.$slots,"calendar-header",{key:0,day:ie,index:X}):de("",!0),Z.$slots["calendar-header"]?de("",!0):(q(),ee(Me,{key:1},[xn(ht(ie),1)],64))]))),128))]),$Y,Je(Co,{name:E.value,css:!!Z.transitions},{default:Qe(()=>{var ie;return[w.value?(q(),ee("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ie=Y(l))==null?void 0:ie.calendarDays)||void 0},[(q(!0),ee(Me,null,Ft(y.value,(X,ce)=>(q(),ee("div",{key:ce,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(q(),ee("div",BY,[Ae("div",jY,ht(z(X.days)),1)])):de("",!0),(q(!0),ee(Me,null,Ft(X.days,(be,ne)=>{var D,$,H;return q(),ee("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:oe=>x(oe,ce,ne),key:ne+ce,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":($=(D=Y(l))==null?void 0:D.day)==null?void 0:$.call(D,be),tabindex:"0",onClick:Lt(oe=>te(oe,be),["prevent"]),onKeydown:[at(oe=>Z.$emit("select-date",be),["enter"]),at(oe=>Z.$emit("handle-space",be),["space"])],onMouseenter:oe=>R(be,ce,ne),onMouseleave:oe=>j(be)},[Ae("div",{class:tt(["dp__cell_inner",be.classData])},[Z.$slots.day&&O.value(be)?_e(Z.$slots,"day",{key:0,day:+be.text,date:be.value}):de("",!0),Z.$slots.day?de("",!0):(q(),ee(Me,{key:1},[xn(ht(be.text),1)],64)),be.marker&&O.value(be)?(q(),ee(Me,{key:2},[Z.$slots.marker?_e(Z.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(q(),ee("div",{key:1,class:tt(b.value(be.marker)),style:kr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):de("",!0),v.value(be.value)?(q(),ee("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:P,class:"dp__marker_tooltip",style:kr(f.value)},[(H=be.marker)!=null&&H.tooltip?(q(),ee("div",{key:0,class:"dp__tooltip_content",onClick:fe},[(q(!0),ee(Me,null,Ft(be.marker.tooltip,(oe,se)=>(q(),ee("div",{key:se,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?_e(Z.$slots,"marker-tooltip",{key:0,tooltip:oe,day:be.value}):de("",!0),Z.$slots["marker-tooltip"]?de("",!0):(q(),ee(Me,{key:1},[Ae("div",{class:"dp__tooltip_mark",style:kr(oe.color?{backgroundColor:oe.color}:{})},null,4),Ae("div",null,ht(oe.text),1)],64))]))),128)),Ae("div",{class:"dp__arrow_bottom_tp",style:kr(T.value)},null,4)])):de("",!0)],4)):de("",!0)],2)],40,HY)}),128))]))),128))],8,UY)):de("",!0)]}),_:3},8,["name","css"])],64))],10,LY)],2)}}}),VI=t=>Array.isArray(t),qY=(t,e,n,r)=>{const i=he([]),{modelValue:s,calendars:o,time:a}=Qd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Sn(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=Ma(t),{updateTimeValues:g,getSetDateTime:w,setTime:E,assignStartTime:k,validateTime:P,disabledTimesConfig:T}=Ux(t,a,s,r),y=le(()=>G=>o.value[G]?o.value[G].month:0),M=le(()=>G=>o.value[G]?o.value[G].year:0),L=(G,ae,Ne)=>{var We,dt;o.value[G]||(o.value[G]={month:0,year:0}),o.value[G].month=DI(ae)?(We=o.value[G])==null?void 0:We.month:ae,o.value[G].year=DI(Ne)?(dt=o.value[G])==null?void 0:dt.year:Ne},S=()=>{t.autoApply&&e("select-date")};In(s,(G,ae)=>{JSON.stringify(G)!==JSON.stringify(ae)&&v()}),yn(()=>{t.shadow||(s.value||(C(),u.value&&k(u.value)),v(!0),t.focusStartDate&&t.startDate&&C())});const I=le(()=>{var G;return(G=t.flow)!=null&&G.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),b=()=>{t.autoApply&&I.value&&e("auto-apply",t.partialFlow)},v=(G=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,B(G)):O(s.value,G);if(l.value.count&&G&&!t.startDate)return A(ye(),G)},A=(G,ae=!1)=>{if((!l.value.count||!l.value.static||ae)&&L(0,Et(G),ct(G)),l.value.count&&(!l.value.solo||!s.value))for(let Ne=1;Ne<l.value.count;Ne++){const We=on(ye(),{month:y.value(Ne-1),year:M.value(Ne-1)}),dt=ZD(We,{months:1});o.value[Ne]={month:Et(dt),year:ct(dt)}}},O=(G,ae)=>{A(G),E("hours",Pi(G)),E("minutes",ts(G)),E("seconds",Xl(G)),l.value.count&&ae&&x()},R=G=>{if(l.value.count){if(l.value.solo)return 0;const ae=Et(G[0]),Ne=Et(G[1]);return Math.abs(Ne-ae)<l.value.count?0:1}return 1},j=(G,ae)=>{G[1]&&t.showLastInRange?A(G[R(G)],ae):A(G[0],ae);const Ne=(We,dt)=>[We(G[0]),G[1]?We(G[1]):a[dt][1]];E("hours",Ne(Pi,"hours")),E("minutes",Ne(ts,"minutes")),E("seconds",Ne(Xl,"seconds"))},V=(G,ae)=>{if((t.range||t.weekPicker)&&!t.multiDates)return j(G,ae);if(t.multiDates&&ae){const Ne=G[G.length-1];return O(Ne,ae)}},B=G=>{const ae=s.value;V(ae,G),l.value.count&&l.value.solo&&x()},F=(G,ae)=>{const Ne=on(ye(),{month:y.value(ae),year:M.value(ae)}),We=G<0?Oi(Ne,1):Jl(Ne,1);c(Et(We),ct(We),G<0,t.preventMinMaxNavigation)&&(L(ae,Et(We),ct(We)),e("update-month-year",{instance:ae,month:Et(We),year:ct(We)}),l.value.count&&!l.value.solo&&U(ae),n())},U=G=>{for(let ae=G-1;ae>=0;ae--){const Ne=Jl(on(ye(),{month:y.value(ae+1),year:M.value(ae+1)}),1);L(ae,Et(Ne),ct(Ne))}for(let ae=G+1;ae<=l.value.count-1;ae++){const Ne=Oi(on(ye(),{month:y.value(ae-1),year:M.value(ae-1)}),1);L(ae,Et(Ne),ct(Ne))}},x=()=>{if(Array.isArray(s.value)&&s.value.length===2){const G=ye(ye(s.value[1]?s.value[1]:Oi(s.value[0],1))),[ae,Ne]=[Et(s.value[0]),ct(s.value[0])],[We,dt]=[Et(s.value[1]),ct(s.value[1])];(ae!==We||ae===We&&Ne!==dt)&&l.value.solo&&L(1,Et(G),ct(G))}else s.value&&!Array.isArray(s.value)&&(L(0,Et(s.value),ct(s.value)),A(ye()))},C=()=>{t.startDate&&(L(0,Et(ye(t.startDate)),ct(ye(t.startDate))),l.value.count&&U(0))},K=IG((G,ae)=>{t.monthChangeOnScroll&&F(t.monthChangeOnScroll!=="inverse"?-G.deltaY:G.deltaY,ae)},50),z=(G,ae,Ne=!1)=>{t.monthChangeOnArrows&&t.vertical===Ne&&te(G,ae)},te=(G,ae)=>{F(G==="right"?-1:1,ae)},fe=G=>t.markers.find(ae=>Rt(CG(G.value),ki(ye(ae.date),t.timezone))),Z=(G,ae)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[G==0,!0];case"fair":return[G==0||ae>G,!0];case"append":return[!1,!1];default:return[!1,!1]}},W=(G,ae,Ne,We)=>{if(t.sixWeeks&&G.length<6){const dt=6-G.length,Nt=(ae.getDay()+7-We)%7,qn=6-(Ne.getDay()+7-We)%7,[Oe,Be]=Z(Nt,qn);for(let je=1;je<=dt;je++)if(Be?!!(je%2)==Oe:Oe){const zn=G[0].days[0],Wr=Q(ms(zn.value,-7),Et(ae));G.unshift({days:Wr})}else{const zn=G[G.length-1],Wr=zn.days[zn.days.length-1],Fa=Q(ms(Wr.value,1),Et(ae));G.push({days:Fa})}}return G},Q=(G,ae)=>{const Ne=ye(G),We=[];for(let dt=0;dt<7;dt++){const Nt=ms(Ne,dt),qn=Et(Nt)!==ae;We.push({text:t.hideOffsetDates&&qn?"":Nt.getDate(),value:Nt,current:!qn,classData:{}})}return We},ie=(G,ae)=>{const Ne=[],We=new Date(ae,G),dt=new Date(ae,G+1,0),Nt=t.weekStart,qn=wa(We,{weekStartsOn:Nt}),Oe=Be=>{const je=Q(Be,G);if(Ne.push({days:je}),!Ne[Ne.length-1].days.some(zn=>Rt(br(zn.value),br(dt)))){const zn=ms(Be,7);Oe(zn)}};return Oe(qn),W(Ne,We,dt,Nt)},X=G=>(s.value=uf(ye(G.value),t.timezone,t.weekStart),e("date-update",G.value),b()),ce=G=>{const ae=po(ye(G.value),a.hours,a.minutes,me());e("date-update",ae),t.multiDates?Eb(ae,s,t.multiDatesLimit):s.value=ae,r(),Hn().then(()=>{b()})},be=G=>t.noDisabledRange?kx(i.value[0],G).some(ae=>h(ae)):!1,ne=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(G,ae)=>{const Ne=[ye(G.value),ms(ye(G.value),+t.autoRange)];f(Ne)?(ae&&$(G.value),i.value=Ne):e("invalid-date",G.value)},$=G=>{const ae=Et(ye(G)),Ne=ct(ye(G));if(L(0,ae,Ne),l.value.count>0)for(let We=1;We<l.value.count;We++){const dt=OG(on(ye(G),{year:y.value(We-1),month:M.value(We-1)}));L(We,dt.month,dt.year)}},H=G=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(vr(G,s.value[0])||Rt(G,s.value[0]))?[s.value[0],G]:t.fixedEnd&&(Zn(G,s.value[1])||Rt(G,s.value[1]))?[G,s.value[1]]:(e("invalid-fixed-range",G),s.value):[],oe=G=>{if(be(G.value)||!p(G.value,s.value,t.fixedStart?0:1))return e("invalid-date",G.value);i.value=H(ye(G.value))},se=(G,ae)=>{if(ne(),t.autoRange)return D(G,ae);if(t.fixedStart||t.fixedEnd)return oe(G);i.value[0]?p(ye(G.value),s.value)&&!be(G.value)?Zn(ye(G.value),ye(i.value[0]))?(i.value.unshift(ye(G.value)),e("range-end",i.value[0])):(i.value[1]=ye(G.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",G.value),e("invalid-date",G.value)):(i.value[0]=ye(G.value),e("range-start",i.value[0]))},me=(G=!0)=>t.enableSeconds?Array.isArray(a.seconds)?G?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=G=>{i.value[G]=po(i.value[G],a.hours[G],a.minutes[G],me(G!==1))},Ee=()=>{var G,ae;i.value[0]&&i.value[1]&&+((G=i.value)==null?void 0:G[0])>+((ae=i.value)==null?void 0:ae[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Te=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),Em(i.value,e,t.autoApply,t.modelAuto))},ge=(G,ae=!1)=>{if(h(G.value)||!G.current&&t.hideOffsetDates)return e("invalid-date",G.value);if(t.weekPicker)return X(G);if(!t.range)return ce(G);VI(a.hours)&&VI(a.minutes)&&!t.multiDates&&(se(G,ae),Te())},He=(G,ae)=>{var Ne;L(G,ae.month,ae.year),l.value.count&&!l.value.solo&&U(G),e("update-month-year",{instance:G,month:ae.month,year:ae.year}),n(l.value.solo?G:void 0);const We=(Ne=t.flow)!=null&&Ne.length?t.flow[t.flowStep]:void 0;!ae.fromNav&&(We===Hi.month||We===Hi.year)&&r()},Ie=(G,ae)=>{Vx({value:G,modelValue:s,range:t.range,timezone:ae?void 0:t.timezone}),S(),t.multiCalendars&&Hn().then(()=>v(!0))},Fe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Zn(ye(),s.value[0])?[ye(),s.value[0]]:[s.value[0],ye()]:s.value=[ye()]:s.value=ye(),S()},Ye=()=>{if(Array.isArray(s.value))if(t.multiDates){const G=Ke();s.value[s.value.length-1]=w(G)}else s.value=s.value.map((G,ae)=>G&&w(G,ae));else s.value=w(s.value);e("time-update")},Ke=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:y,year:M,time:a,disabledTimesConfig:T,validateTime:P,getCalendarDays:ie,getMarker:fe,handleScroll:K,handleSwipe:te,handleArrow:z,selectDate:ge,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Fe,updateTime:(G,ae=!0,Ne=!1)=>{g(G,ae,Ne,Ye)}}},zY={key:0},KY=Gt({__name:"DatePicker",props:{...Li},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:w,handleSwipe:E,selectDate:k,updateMonthYear:P,presetDate:T,selectCurrentDate:y,updateTime:M}=qY(i,r,x,C),L=Aa(),{setHoverDate:S,getDayClassData:I,clearHoverDate:b}=YG(l,i),{defaultedMultiCalendars:v}=Sn(i),A=he([]),O=he([]),R=he(null),j=Qr(L,"calendar"),V=Qr(L,"monthYear"),B=Qr(L,"timePicker"),F=z=>{i.shadow||r("mount",z)};In(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const U=le(()=>z=>f(o.value(z),a.value(z)).map(te=>({...te,days:te.days.map(fe=>(fe.marker=p(fe),fe.classData=I(fe),fe))})));function x(z){var te;z||z===0?(te=O.value[z])==null||te.triggerTransition(o.value(z),a.value(z)):O.value.forEach((fe,Z)=>fe.triggerTransition(o.value(Z),a.value(Z)))}function C(){r("update-flow-step")}const K=(z,te=!1)=>{k(z,te),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:b,presetDate:T,selectCurrentDate:y,toggleMonthPicker:(z,te,fe=0)=>{var Z;(Z=A.value[fe])==null||Z.toggleMonthPicker(z,te)},toggleYearPicker:(z,te,fe=0)=>{var Z;(Z=A.value[fe])==null||Z.toggleYearPicker(z,te)},toggleTimePicker:(z,te,fe)=>{var Z;(Z=R.value)==null||Z.toggleTimePicker(z,te,fe)},handleArrow:g,updateMonthYear:P,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:P,selectDate:k,presetDate:T})}),(z,te)=>(q(),ee(Me,null,[Je(Tm,{"multi-calendars":Y(v).count},{default:Qe(({instance:fe,index:Z})=>[z.disableMonthYearSelect?de("",!0):(q(),qe(MY,pe({key:0,ref:W=>{W&&(A.value[Z]=W)},months:Y(Sx)(z.formatLocale,z.locale,z.monthNameFormat),years:Y(wb)(z.yearRange,z.reverseYears),month:Y(o)(fe),year:Y(a)(fe),instance:fe},z.$props,{onMount:te[0]||(te[0]=W=>F(Y(ra).header)),onResetFlow:te[1]||(te[1]=W=>z.$emit("reset-flow")),onUpdateMonthYear:W=>Y(P)(fe,W),onOverlayClosed:te[2]||(te[2]=W=>z.$emit("focus-menu"))}),tr({_:2},[Ft(Y(V),(W,Q)=>({name:W,fn:Qe(ie=>[_e(z.$slots,W,wn(er(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Je(WY,pe({ref:W=>{W&&(O.value[Z]=W)},"mapped-dates":U.value(fe),month:Y(o)(fe),year:Y(a)(fe),instance:fe},z.$props,{onSelectDate:W=>Y(k)(W,fe!==1),onHandleSpace:W=>K(W,fe!==1),onSetHoverDate:te[3]||(te[3]=W=>Y(S)(W)),onHandleScroll:W=>Y(w)(W,fe),onHandleSwipe:W=>Y(E)(W,fe),onMount:te[4]||(te[4]=W=>F(Y(ra).calendar)),onResetFlow:te[5]||(te[5]=W=>z.$emit("reset-flow")),onTooltipOpen:te[6]||(te[6]=W=>z.$emit("tooltip-open",W)),onTooltipClose:te[7]||(te[7]=W=>z.$emit("tooltip-close",W))}),tr({_:2},[Ft(Y(j),(W,Q)=>({name:W,fn:Qe(ie=>[_e(z.$slots,W,wn(er({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),z.enableTimePicker?(q(),ee("div",zY,[z.$slots["time-picker"]?_e(z.$slots,"time-picker",wn(pe({key:0},{time:Y(u),updateTime:Y(M)}))):(q(),qe($x,pe({key:1,ref_key:"timePickerRef",ref:R},z.$props,{hours:Y(u).hours,minutes:Y(u).minutes,seconds:Y(u).seconds,"internal-model-value":z.internalModelValue,"disabled-times-config":Y(c),"validate-time":Y(h),onMount:te[8]||(te[8]=fe=>F(Y(ra).timePicker)),"onUpdate:hours":te[9]||(te[9]=fe=>Y(M)(fe)),"onUpdate:minutes":te[10]||(te[10]=fe=>Y(M)(fe,!1)),"onUpdate:seconds":te[11]||(te[11]=fe=>Y(M)(fe,!1,!0)),onResetFlow:te[12]||(te[12]=fe=>z.$emit("reset-flow")),onOverlayClosed:te[13]||(te[13]=fe=>z.$emit("time-picker-close")),onOverlayOpened:te[14]||(te[14]=fe=>z.$emit("time-picker-open",fe)),onAmPmChange:te[15]||(te[15]=fe=>z.$emit("am-pm-change",fe))}),tr({_:2},[Ft(Y(B),(fe,Z)=>({name:fe,fn:Qe(W=>[_e(z.$slots,fe,wn(er(W)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):de("",!0)],64))}}),GY=(t,e)=>{const n=he(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Sn(t),{modelValue:o,year:a,month:l,calendars:u}=Qd(t,e),{isDisabled:c}=Ma(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:w,handleYearSelect:E,handleYear:k}=Fx({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),P=(b,v)=>[b,v].map(A=>ho(A,"MMMM",{locale:t.formatLocale})).join("-"),T=le(()=>b=>o.value?Array.isArray(o.value)?o.value.some(v=>wI(b,v)):wI(o.value,b):!1),y=b=>{if(t.range){if(Array.isArray(o.value)){const v=Rt(b,o.value[0])||Rt(b,o.value[1]);return _m(o.value,n.value,b)&&!v}return!1}return!1},M=le(()=>b=>{const v=on(new Date,{year:a.value(b)});return gq({start:yq(v),end:vq(v)}).map(A=>{const O=nd(A),R=pI(A),j=c(A),V=y(O),B=typeof s.value=="function"?s.value({quarter:fI(O),year:ct(O)}):!!s.value.quarters.find(F=>F.quarter===fI(O)&&F.year===ct(O));return{text:P(O,R),value:O,active:T.value(O),highlighted:B,disabled:j,isBetween:V}})}),L=b=>{Eb(b,o,t.multiDatesLimit),e("auto-apply",!0)},S=b=>{const v=Ib(o,b,e);Em(v,e,t.autoApply,t.modelAuto)},I=b=>{o.value=b,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:b=>{n.value=b},selectYear:h,selectQuarter:(b,v,A)=>{if(!A)return u.value[v].month=Et(pI(b)),t.multiDates?L(b):t.range?S(b):I(b)},toggleYearPicker:w,handleYearSelect:E,handleYear:k}},YY={class:"dp--quarter-items"},QY=["disabled","onClick","onMouseover"],XY=Gt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Li},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Aa(),o=Qr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:w,selectQuarter:E,toggleYearPicker:k,handleYearSelect:P,handleYear:T}=GY(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:E,handleYearSelect:P,handleYear:T})}),(y,M)=>(q(),qe(Tm,{"multi-calendars":Y(a).count,stretch:""},{default:Qe(({instance:L})=>[Ae("div",{class:"dp-quarter-picker-wrap",style:kr({minHeight:`${Y(l).modeHeight}px`})},[Ae("div",null,[Je(Lx,pe(y.$props,{items:Y(u)(L),instance:L,"show-year-picker":Y(g)[L],year:Y(c)(L),"is-disabled":S=>Y(h)(L,S),onHandleYear:S=>Y(T)(L,S),onYearSelect:S=>Y(P)(S,L),onToggleYearPicker:S=>Y(k)(L,S==null?void 0:S.flow,S==null?void 0:S.show)}),tr({_:2},[Ft(Y(o),(S,I)=>({name:S,fn:Qe(b=>[_e(y.$slots,S,wn(er(b)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ae("div",YY,[(q(!0),ee(Me,null,Ft(Y(f)(L),(S,I)=>(q(),ee("div",{key:I},[Ae("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),disabled:S.disabled,onClick:b=>Y(E)(S.value,L,S.disabled),onMouseover:b=>Y(w)(S.value)},[y.$slots.quarter?_e(y.$slots,"quarter",{key:0,value:S.value,text:S.text}):(q(),ee(Me,{key:1},[xn(ht(S.text),1)],64))],42,QY)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),JY=["id"],ZY={key:0,class:"dp__sidebar_left"},eQ={key:1,class:"dp--preset-dates"},tQ=["onClick","onKeydown"],nQ={key:2,class:"dp__sidebar_right"},rQ={key:3,class:"dp__action_extra"},FI=Gt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...wm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=le(()=>{const{openOnTop:ne,...D}=i;return{...D,flowStep:I.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=Mx(),u=Aa(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=Sn(i),p=he(null),g=he(0),w=he(null),E=he(null),k=he(!1),P=he(null);yn(()=>{if(!i.shadow){k.value=!0,T(),window.addEventListener("resize",T);const ne=Mn(w);if(ne&&!c.value.enabled&&!h.value.enabled&&(o(!0),R()),ne){const D=$=>{f.value.allowPreventDefault&&$.preventDefault(),fo($,f.value,!0)};ne.addEventListener("pointerdown",D),ne.addEventListener("mousedown",D)}}}),Sa(()=>{window.removeEventListener("resize",T)});const T=()=>{const ne=Mn(E);ne&&(g.value=ne.getBoundingClientRect().width)},{arrowRight:y,arrowLeft:M,arrowDown:L,arrowUp:S}=Ro(),{flowStep:I,updateFlowStep:b,childMount:v,resetFlow:A}=QG(i,r,P),O=le(()=>i.monthPicker?fY:i.yearPicker?mY:i.timePicker?DY:i.quarterPicker?XY:KY),R=()=>{const ne=Mn(w);ne&&ne.focus({preventScroll:!0})},j=le(()=>{var ne;return((ne=P.value)==null?void 0:ne.getSidebarProps())||{}}),V=()=>{i.openOnTop&&r("recalculate-position")},B=Qr(u,"action"),F=le(()=>i.monthPicker||i.yearPicker?Qr(u,"monthYear"):i.timePicker?Qr(u,"timePicker"):Qr(u,"shared")),U=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),x=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),C=le(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),K=ne=>{fo(ne,f.value,!0)},z=()=>{i.escClose&&r("close-picker")},te=ne=>{if(i.arrowNavigation){if(ne==="up")return S();if(ne==="down")return L();if(ne==="left")return M();if(ne==="right")return y()}else ne==="left"||ne==="up"?ie("handleArrow","left",0,ne==="up"):ie("handleArrow","right",0,ne==="down")},fe=ne=>{a(ne.shiftKey),!i.disableMonthYearSelect&&ne.code==="Tab"&&ne.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(ne.preventDefault(),fo(ne,f.value,!0),r("close-picker"))},Z=()=>{R(),r("time-picker-close")},W=ne=>{var D,$,H;(D=P.value)==null||D.toggleTimePicker(!1,!1),($=P.value)==null||$.toggleMonthPicker(!1,!1,ne),(H=P.value)==null||H.toggleYearPicker(!1,!1,ne)},Q=(ne,D=0)=>{var $,H,oe;return ne==="month"?($=P.value)==null?void 0:$.toggleMonthPicker(!1,!0,D):ne==="year"?(H=P.value)==null?void 0:H.toggleYearPicker(!1,!0,D):ne==="time"?(oe=P.value)==null?void 0:oe.toggleTimePicker(!0,!1):W(D)},ie=(ne,...D)=>{var $,H;($=P.value)!=null&&$[ne]&&((H=P.value)==null||H[ne](...D))},X=()=>{ie("selectCurrentDate")},ce=(ne,D)=>{ie("presetDate",ne,D)},be=()=>{ie("clearHoverDate")};return e({updateMonthYear:(ne,D)=>{ie("updateMonthYear",ne,D)},switchView:Q}),(ne,D)=>{var $;return q(),ee("div",{id:ne.uid?`dp-menu-${ne.uid}`:void 0,ref_key:"dpMenuRef",ref:w,tabindex:"0",role:"dialog",class:tt(C.value),onMouseleave:be,onClick:K,onKeydown:[at(z,["esc"]),D[18]||(D[18]=at(Lt(H=>te("left"),["prevent"]),["left"])),D[19]||(D[19]=at(Lt(H=>te("up"),["prevent"]),["up"])),D[20]||(D[20]=at(Lt(H=>te("down"),["prevent"]),["down"])),D[21]||(D[21]=at(Lt(H=>te("right"),["prevent"]),["right"])),fe]},[(ne.disabled||ne.readonly)&&Y(h).enabled?(q(),ee("div",{key:0,class:tt(x.value)},null,2)):de("",!0),!Y(h).enabled&&!ne.teleportCenter?(q(),ee("div",{key:1,class:tt(U.value)},null,2)):de("",!0),Ae("div",{ref_key:"innerMenuRef",ref:E,class:tt({dp__menu_content_wrapper:(($=ne.presetDates)==null?void 0:$.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"]}),style:kr({"--dp-menu-width":`${g.value}px`})},[ne.$slots["left-sidebar"]?(q(),ee("div",ZY,[_e(ne.$slots,"left-sidebar",wn(er(j.value)))])):de("",!0),ne.presetDates.length?(q(),ee("div",eQ,[(q(!0),ee(Me,null,Ft(ne.presetDates,(H,oe)=>(q(),ee(Me,{key:oe},[H.slot?_e(ne.$slots,H.slot,{key:0,presetDate:ce,label:H.label,value:H.value}):(q(),ee("button",{key:1,type:"button",style:kr(H.style||{}),class:"dp__btn dp--preset-range",onClick:Lt(se=>ce(H.value,H.noTz),["prevent"]),onKeydown:[at(Lt(se=>ce(H.value,H.noTz),["prevent"]),["enter"]),at(Lt(se=>ce(H.value,H.noTz),["prevent"]),["space"])]},ht(H.label),45,tQ))],64))),128))])):de("",!0),Ae("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(q(),qe(zr(O.value),pe({ref_key:"dynCmpRef",ref:P},s.value,{"flow-step":Y(I),onMount:Y(v),onUpdateFlowStep:Y(b),onResetFlow:Y(A),onFocusMenu:R,onSelectDate:D[0]||(D[0]=H=>ne.$emit("select-date")),onDateUpdate:D[1]||(D[1]=H=>ne.$emit("date-update",H)),onTooltipOpen:D[2]||(D[2]=H=>ne.$emit("tooltip-open",H)),onTooltipClose:D[3]||(D[3]=H=>ne.$emit("tooltip-close",H)),onAutoApply:D[4]||(D[4]=H=>ne.$emit("auto-apply",H)),onRangeStart:D[5]||(D[5]=H=>ne.$emit("range-start",H)),onRangeEnd:D[6]||(D[6]=H=>ne.$emit("range-end",H)),onInvalidFixedRange:D[7]||(D[7]=H=>ne.$emit("invalid-fixed-range",H)),onTimeUpdate:D[8]||(D[8]=H=>ne.$emit("time-update")),onAmPmChange:D[9]||(D[9]=H=>ne.$emit("am-pm-change",H)),onTimePickerOpen:D[10]||(D[10]=H=>ne.$emit("time-picker-open",H)),onTimePickerClose:Z,onRecalculatePosition:V,onUpdateMonthYear:D[11]||(D[11]=H=>ne.$emit("update-month-year",H)),onAutoApplyInvalid:D[12]||(D[12]=H=>ne.$emit("auto-apply-invalid",H)),onInvalidDate:D[13]||(D[13]=H=>ne.$emit("invalid-date",H)),"onUpdate:internalModelValue":D[14]||(D[14]=H=>ne.$emit("update:internal-model-value",H))}),tr({_:2},[Ft(F.value,(H,oe)=>({name:H,fn:Qe(se=>[_e(ne.$slots,H,wn(er({...se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ne.$slots["right-sidebar"]?(q(),ee("div",nQ,[_e(ne.$slots,"right-sidebar",wn(er(j.value)))])):de("",!0),ne.$slots["action-extra"]?(q(),ee("div",rQ,[ne.$slots["action-extra"]?_e(ne.$slots,"action-extra",{key:0,selectCurrentDate:X}):de("",!0)])):de("",!0)],6),!ne.autoApply||Y(f).keepActionRow?(q(),qe(iY,pe({key:2,"menu-mount":k.value},s.value,{"calendar-width":g.value,onClosePicker:D[15]||(D[15]=H=>ne.$emit("close-picker")),onSelectDate:D[16]||(D[16]=H=>ne.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=H=>ne.$emit("invalid-select")),onSelectNow:X}),tr({_:2},[Ft(Y(B),(H,oe)=>({name:H,fn:Qe(se=>[_e(ne.$slots,H,wn(er({...se})))])}))]),1040,["menu-mount","calendar-width"])):de("",!0)],42,JY)}}}),iQ=typeof window<"u"?window:void 0,zg=()=>{},sQ=t=>Xy()?(sA(t),!0):!1,oQ=(t,e,n,r)=>{if(!t)return zg;let i=zg;const s=In(()=>Y(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=zg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return sQ(o),o},aQ=(t,e,n,r={})=>{const{window:i=iQ,event:s="pointerdown"}=r;return i?oQ(i,s,o=>{const a=Mn(t),l=Mn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},lQ=Gt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...wm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Aa(),o=he(!1),a=kc(i,"modelValue"),l=kc(i,"timezone"),u=he(null),c=he(null),h=he(null),f=he(!1),p=he(null),g=he(!1),w=he(!1),{setMenuFocused:E,setShiftKey:k}=Mx(),{clearArrowNav:P}=Ro(),{mapDatesArrToMap:T,validateDate:y,isValidTime:M}=Ma(i),{defaultedTransitions:L,defaultedTextInput:S,defaultedInline:I,defaultedConfig:b}=Sn(i),{menuTransition:v,showTransition:A}=Yd(L);yn(()=>{te(i.modelValue),Hn().then(()=>{if(!I.value.enabled){const Oe=x(p.value);Oe==null||Oe.addEventListener("scroll",ne),window==null||window.addEventListener("resize",D)}}),I.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",$),window==null||window.addEventListener("keydown",H)});const O=le(()=>T());Sa(()=>{if(!I.value.enabled){const Oe=x(p.value);Oe==null||Oe.removeEventListener("scroll",ne),window==null||window.removeEventListener("resize",D)}window==null||window.removeEventListener("keyup",$),window==null||window.removeEventListener("keydown",H)});const R=Qr(s,"all",i.presetDates),j=Qr(s,"input");In([a,l],()=>{te(a.value)},{deep:!0});const{openOnTop:V,menuStyle:B,xCorrect:F,setMenuPosition:U,getScrollableParent:x,shadowRender:C}=zG({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:I,emit:r,props:i,slots:s}),{inputValue:K,internalModelValue:z,parseExternalModelValue:te,emitModelValue:fe,formatInputValue:Z,checkBeforeEmit:W}=WG(r,i,f),Q=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:I.value.enabled,dp__flex_display_with_input:I.value.input})),ie=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=le(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||I.value.enabled})),ce=le(()=>({class:"dp__outer_menu_wrap"})),be=le(()=>I.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ne=()=>{o.value&&(b.value.closeOnScroll?Ie():U())},D=()=>{o.value&&U()},$=Oe=>{Oe.key==="Tab"&&!I.value.enabled&&!i.teleport&&b.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),w.value=Oe.shiftKey},H=Oe=>{w.value=Oe.shiftKey},oe=()=>{!i.disabled&&!i.readonly&&(C(FI,i),U(!1),o.value=!0,o.value&&r("open"),o.value||He(),te(i.modelValue))},se=()=>{var Oe;K.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),b.value.closeOnClearValue&&Ie()},me=()=>{const Oe=z.value;return!Oe||!Array.isArray(Oe)&&y(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&y(Oe[0])&&y(Oe[1])?!0:i.partialRange&&!i.timePicker?y(Oe[0]):!1:!1},Se=()=>{W()&&me()?(fe(),Ie()):r("invalid-select",z.value)},Ee=Oe=>{Te(),fe(),b.value.closeOnAutoApply&&!Oe&&Ie()},Te=()=>{h.value&&S.value.enabled&&h.value.setParsedDate(z.value)},ge=(Oe=!1)=>{i.autoApply&&M(z.value)&&me()&&(i.range&&Array.isArray(z.value)?(i.partialRange||z.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{S.value.enabled||(z.value=null)},Ie=()=>{I.value.enabled||(o.value&&(o.value=!1,F.value=!1,E(!1),k(!1),P(),r("closed"),K.value&&te(a.value)),He(),r("blur"))},Fe=(Oe,Be,je=!1)=>{if(!Oe){z.value=null;return}const zn=Array.isArray(Oe)?!Oe.some(Fa=>!y(Fa)):y(Oe),Wr=M(Oe);zn&&Wr&&(z.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ye=()=>{i.autoApply&&M(z.value)&&fe(),Te()},Ke=()=>o.value?Ie():oe(),G=Oe=>{z.value=Oe},ae=()=>{S.value.enabled&&(f.value=!0,Z()),r("focus")},Ne=()=>{if(S.value.enabled&&(f.value=!1,te(i.modelValue),g.value)){const Oe=EG(p.value,w.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:RI(Oe.month),year:RI(Oe.year)})},dt=Oe=>{te(Oe??i.modelValue)},Nt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},qn=Oe=>b.value.onClickOutside?b.value.onClickOutside(Oe):Ie();return aQ(u,h,()=>qn(me)),e({closeMenu:Ie,selectDate:Se,clearValue:se,openMenu:oe,onScroll:ne,formatInputValue:Z,updateInternalModelValue:G,setMonthYear:We,parseModel:dt,switchView:Nt,toggleMenu:Ke}),(Oe,Be)=>(q(),ee("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(Q.value),"data-datepicker-instance":""},[Je(eY,pe({ref_key:"inputRef",ref:h,"input-value":Y(K),"onUpdate:inputValue":Be[0]||(Be[0]=je=>an(K)?K.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:se,onOpen:oe,onSetInputDate:Fe,onSetEmptyDate:Y(fe),onSelectDate:Se,onToggle:Ke,onClose:Ie,onFocus:ae,onBlur:Ne,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),tr({_:2},[Ft(Y(j),(je,zn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,wn(er(Wr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),Je(NA,wn(er(X.value)),{default:Qe(()=>[Je(Co,{name:Y(v)(Y(V)),css:Y(A)&&!Y(I).enabled},{default:Qe(()=>[o.value?(q(),ee("div",pe({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!Y(I).enabled},style:Y(I).enabled?void 0:Y(B)}),[Je(FI,pe({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":Y(z),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>an(z)?z.value=je:null),class:{[ie.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":Y(V),"arr-map-values":O.value,"no-overlay-focus":be.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:ge,onTimeUpdate:Ye,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",Y(z))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:Y(U),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),tr({_:2},[Ft(Y(R),(je,zn)=>({name:je,fn:Qe(Wr=>[_e(Oe.$slots,je,wn(er({...Wr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):de("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),Sb=(()=>{const t=lQ;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),uQ=Object.freeze(Object.defineProperty({__proto__:null,default:Sb},Symbol.toStringTag,{value:"Module"}));Object.entries(uQ).forEach(([t,e])=>{t!=="default"&&(Sb[t]=e)});function Kg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ab(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function cQ(t){return fQ(t)||hQ(t)||Ab(t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fQ(t){if(Array.isArray(t))return xy(t)}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Gg(t,e){return gQ(t)||mQ(t,e)||Ab(t,e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ab(t,e){if(t){if(typeof t=="string")return xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(t,e)}}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function gQ(t){if(Array.isArray(t))return t}var xe={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Gg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Ic(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(w){var E=Gg(w,2),k=E[0],P=E[1];return o==="style"&&(P||P===0)?"".concat(k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?k:void 0});h=g.length?h.concat(g.filter(function(w){return!!w})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=Gg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?cQ(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,w="top";u.top+a+s>f.height?(p=u.top+c-s,w="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=w,r&&(e.style.marginTop=w==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(E){try{var k=window.getComputedStyle(E,null);return i.test(k.getPropertyValue("overflow"))||i.test(k.getPropertyValue("overflowX"))||i.test(k.getPropertyValue("overflowY"))}catch{return!1}},o=Kg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Kg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(w){h.e(w)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(w){o.e(w)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Ic(HTMLElement))==="object"?e instanceof HTMLElement:e&&Ic(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Kg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function vQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_Q(r.key),r)}}function yQ(t,e,n){return e&&$I(t.prototype,e),n&&$I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Q(t){var e=bQ(t,"string");return od(e)=="symbol"?e:String(e)}function bQ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};vQ(this,t),this.element=e,this.listener=n}return yQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=xe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function wQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function UI(t,e){return IQ(t)||EQ(t,e)||Cb(t,e)||TQ()}function TQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function IQ(t){if(Array.isArray(t))return t}function BI(t){return CQ(t)||AQ(t)||Cb(t)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CQ(t){if(Array.isArray(t))return Ny(t)}function Yg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Cb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Cb(t,e){if(t){if(typeof t=="string")return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}}function Ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var we={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Sc(e)=="object"&&Sc(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=Yg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=Yg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=Yg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Sc(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=BI(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(BI(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=UI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=UI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},jI=0;function gp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return jI++,"".concat(t).concat(jI)}function OQ(t){return DQ(t)||RQ(t)||kQ(t)||PQ()}function PQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function RQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DQ(t){if(Array.isArray(t))return My(t)}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return OQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Pl=xQ(),lr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function HI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=NQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function NQ(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jx={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=HI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=HI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=we.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)==we.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)!=we.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(we.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){MQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MQ(t,e,n){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=VQ(t,"string");return ad(e)=="symbol"?e:String(e)}function VQ(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[lr.STARTS_WITH,lr.CONTAINS,lr.NOT_CONTAINS,lr.ENDS_WITH,lr.EQUALS,lr.NOT_EQUALS],numeric:[lr.EQUALS,lr.NOT_EQUALS,lr.LESS_THAN,lr.LESS_THAN_OR_EQUAL_TO,lr.GREATER_THAN,lr.GREATER_THAN_OR_EQUAL_TO],date:[lr.DATE_IS,lr.DATE_IS_NOT,lr.DATE_BEFORE,lr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},FQ=Symbol();function $Q(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var UQ={install:function(e,n){var r=n?Qg(Qg({},zI),n):Qg({},zI),i={config:Dr(r),changeTheme:$Q};e.config.globalProperties.$primevue=i,e.provide(FQ,i)}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){BQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=HQ(t,"string");return ld(e)=="symbol"?e:String(e)}function HQ(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ei()?yn(t):e?t():Hn(t)}var qQ=0;function Hx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=he(!1),r=he(t),i=he(null),s=xe.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++qQ):f,g=e.id,w=g===void 0?void 0:g,E=e.media,k=E===void 0?void 0:E,P=e.nonce,T=P===void 0?void 0:P,y=e.props,M=y===void 0?{}:y,L=function(){},S=function(v){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var O=GI(GI({},M),A),R=O.name||p,j=O.id||w,V=O.nonce||T;i.value=a.querySelector('style[data-primevue-style-id="'.concat(R,'"]'))||a.getElementById(j)||a.createElement("style"),i.value.isConnected||(r.value=v||t,xe.setAttributes(i.value,{type:"text/css",id:j,media:k,nonce:V}),a.head.appendChild(i.value),xe.setAttribute(i.value,"data-primevue-style-id",p),xe.setAttributes(i.value,O)),!n.value&&(L=In(r,function(B){i.value.textContent=B},{immediate:!0}),n.value=!0)}},I=function(){!a||!n.value||(L(),xe.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&WQ(S),{id:w,name:p,css:r,unload:I,load:S,isLoaded:t_(n)}}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function zQ(t,e){return QQ(t)||YQ(t,e)||GQ(t,e)||KQ()}function KQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return YI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(t,e)}}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function QQ(t){if(Array.isArray(t))return t}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=JQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=ZQ(t,"string");return ud(e)=="symbol"?e:String(e)}function ZQ(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eX=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,tX={},nX={},pi={name:"base",css:eX,classes:tX,inlineStyles:nX,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?Hx(this.css,Xg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=zQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Xg(Xg({},this),{},{css:void 0},e)}};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){iX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iX(t,e,n){return e=sX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t){var e=oX(t,"string");return cd(e)=="symbol"?e:String(e)}function oX(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jg=pi.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Hx(e,rX({name:"global"},n))}});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function aX(t){return zx(t)||lX(t)||qx(t)||Wx()}function lX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hh(t,e){return zx(t)||uX(t,e)||qx(t,e)||Wx()}function Wx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qx(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function zx(t){if(Array.isArray(t))return t}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cf(t,e,n){return e=cX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=dX(t,"string");return dd(e)=="symbol"?e:String(e)}function dX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var La={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Jg.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var w=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,E=w?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,k=w?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=k||E)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;pi.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);we.isNotEmpty(n)&&Jg.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?this._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,tn(tn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):tn(tn(tn({},f),p),g):tn(tn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return pe(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&we.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&tn(tn({},r==="root"&&tn(cf({},"".concat(i,"name"),we.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&cf({},"".concat(i,"extend"),we.toFlatCase(this.$.type.name)))),{},cf({},"".concat(i,"section"),we.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return we.isString(e)||we.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=we.toFlatCase(r),f=we.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(w){return n(w,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:we.isString(p)?p:we.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):tn(tn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,tn(tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pe(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,tn(tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,tn(tn({},this.$params),r)),s=this._getOptionValue(Jg.inlineStyles,e,tn(tn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return we.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,tn({},n.$params))||we.getItemValue(r,tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return tn(tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Hh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Hh(n,2),i=r[0],s=r[1],o=i.split(":"),a=aX(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Hh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Hh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},hX=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,fX=pi.extend({name:"baseicon",css:hX});function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function eS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(n),!0).forEach(function(r){pX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e,n){return e=mX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=gX(t,"string");return hd(e)=="symbol"?e:String(e)}function gX(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va={name:"BaseIcon",extends:La,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:fX,methods:{pti:function(){var e=we.isEmpty(this.label);return tS(tS({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Kx={name:"BlankIcon",extends:Va},vX=Ae("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),yX=[vX];function _X(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),yX,16)}Kx.render=_X;var Im={name:"CheckIcon",extends:Va},bX=Ae("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),wX=[bX];function TX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),wX,16)}Im.render=TX;var Ob={name:"ChevronDownIcon",extends:Va},EX=Ae("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),IX=[EX];function SX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),IX,16)}Ob.render=SX;var Pb={name:"SearchIcon",extends:Va},AX=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),CX=[AX];function OX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),CX,16)}Pb.render=OX;var Sm={name:"SpinnerIcon",extends:Va},PX=Ae("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),kX=[PX];function RX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),kX,16)}Sm.render=RX;var kb={name:"TimesIcon",extends:Va},DX=Ae("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),xX=[DX];function NX(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),xX,16)}kb.render=NX;var Gx=wQ(),Rb={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=xe.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function MX(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(q(),qe(NA,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):de("",!0)}Rb.render=MX;function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function nS(t,e){return $X(t)||FX(t,e)||VX(t,e)||LX()}function LX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(t,e){if(t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function $X(t){if(Array.isArray(t))return t}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ly(t,e,n){return e=UX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=BX(t,"string");return fd(e)=="symbol"?e:String(e)}function BX(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ct={_getMeta:function(){return[we.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],we.getItemValue(we.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?Ct._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var P=Ct._getOptionValue.apply(Ct,arguments);return we.isString(P)||we.isArray(P)?{class:P}:P},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?Ct._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,w=Ct._usePT(r,Ct._getPT(i,r.$name),l,s,cn(cn({},o),{},{global:g||{}})),E=Ct._getPTDatasets(r,s);return h||!h&&w?p?Ct._mergeProps(r,p,g,w,E):cn(cn(cn({},g),w),E):cn(cn({},w),E)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return cn(cn({},n==="root"&&Ly({},"".concat(r,"name"),we.toFlatCase(e.$name))),{},Ly({},"".concat(r,"section"),we.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=we.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(E){return r(E,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:we.isString(g)?g:we.isString(p)?p:c||!c&&g?f?Ct._mergeProps(e,f,p,g):cn(cn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Ct._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(we.toCapitalCase(n)),c=Ct._getConfig(i,s),h=r==null?void 0:r.$instance,f=Ct._usePT(h,Ct._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Ct._getOptionValue,"hooks.".concat(u)),p=Ct._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Ct._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=Ct._getConfig(a,l),p=o._$instances[e]||{},g=we.isEmpty(p)?cn(cn({},n),n==null?void 0:n.methods):{};o._$instances[e]=cn(cn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:cn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return Ct._getPT(f==null?void 0:f.pt,void 0,function(E){var k;return E==null||(k=E.directives)===null||k===void 0?void 0:k[e]})},isUnstyled:function(){var E,k;return((E=o.$instance)===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.unstyled)!==void 0?(k=o.$instance)===null||k===void 0||(k=k.$binding)===null||k===void 0||(k=k.value)===null||k===void 0?void 0:k.unstyled:f==null?void 0:f.unstyled},ptm:function(){var E,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ct._getPTValue(o.$instance,(E=o.$instance)===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.pt,k,cn({},P))},ptmo:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ct._getPTValue(o.$instance,E,k,P,!1)},cx:function(){var E,k,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(E=o.$instance)!==null&&E!==void 0&&E.isUnstyled()?void 0:Ct._getOptionValue((k=o.$instance)===null||k===void 0||(k=k.$style)===null||k===void 0?void 0:k.classes,P,cn({},T))},sx:function(){var E,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P?Ct._getOptionValue((E=o.$instance)===null||E===void 0||(E=E.$style)===null||E===void 0?void 0:E.inlineStyles,k,cn({},T)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,Ct._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);pi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);pi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Ct._getMeta.apply(Ct,arguments),n=nS(e,2),r=n[0],i=n[1];return cn({extend:function(){var o=Ct._getMeta.apply(Ct,arguments),a=nS(o,2),l=a[0],u=a[1];return Ct.extend(l,cn(cn(cn({},i),i==null?void 0:i.methods),u))}},Ct._extend(r,i))}},jX={root:"p-ink"},HX=pi.extend({name:"ripple",classes:jX}),WX=Ct.extend({style:HX});function qX(t){return YX(t)||GX(t)||KX(t)||zX()}function zX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function GX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YX(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yx=WX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=xe.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!xe.getHeight(i)&&!xe.getWidth(i)){var s=Math.max(xe.getOuterWidth(r),xe.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=xe.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-xe.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-xe.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&xe.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&xe.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&xe.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?qX(e.children).find(function(n){return xe.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),QX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,sS=pi.extend({name:"virtualscroller",css:QX}),XX={name:"BaseVirtualScroller",extends:La,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:sS,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;sS.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qx(t,e,n){return e=JX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JX(t){var e=ZX(t,"string");return pd(e)=="symbol"?e:String(e)}function ZX(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Db={name:"VirtualScroller",extends:XX,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){xe.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=xe.getWidth(this.element),this.defaultHeight=xe.getHeight(this.element),this.defaultContentWidth=xe.getWidth(this.content),this.defaultContentHeight=xe.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(S){return S>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,w=this.getContentPosition(),E=this.itemSize,k=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;return I<=b?0:I},P=function(I,b,v){return I*b+v},T=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:I,top:b,behavior:r})},y=i?{rows:0,cols:0}:0,M=!1,L=!1;i?(y={rows:k(e[0],g[0]),cols:k(e[1],g[1])},T(P(y.cols,E[1],w.left),P(y.rows,E[0],w.top)),L=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,M=y.rows!==a.rows||y.cols!==a.cols):(y=k(e,g),s?T(P(y,E,w.left),c):T(f,P(y,E,w.top)),L=this.lastScrollPos!==(s?f:c),M=y!==a),this.isRangeChanged=M,L&&(this.first=y)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(E){return E>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:k,top:P,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var w=(c.first+1)*this.itemSize;o?h(w,0):h(0,w)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Hu(Hu({},e.spacerStyle),Qx({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Hu(Hu({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(A,O){return A?A>O?A-O:A:0},l=function(A,O){return Math.floor(A/(O||A))},u=function(A,O,R,j,V,B){return A<=V?V:B?R-j-V:O+V-1},c=function(A,O,R,j,V,B,F){return A<=B?0:Math.max(0,F?A<O?R:A-B:A>O?R:A-2*B)},h=function(A,O,R,j,V,B){var F=O+j+2*V;return A>=V&&(F+=V+1),n.getLast(F,B)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,w=this.last,E=!1,k=this.lastScrollPos;if(i){var P=this.lastScrollPos.top<=f,T=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(P||T)){var y={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(y.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:u(y.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)};g={rows:c(y.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:c(y.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)},w={rows:h(y.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(y.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},E=g.rows!==this.first.rows||w.rows!==this.last.rows||g.cols!==this.first.cols||w.cols!==this.last.cols||this.isRangeChanged,k={top:f,left:p}}}else{var L=s?p:f,S=this.lastScrollPos<=L;if(!this.appendOnly||this.appendOnly&&S){var I=l(L,this.itemSize),b=u(I,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S);g=c(I,b,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S),w=h(I,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),E=g!==this.first||w!==this.last||this.isRangeChanged,k=L}}return{first:g,last:w,isRangeChanged:E,scrollPos:k}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(xe.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[xe.getWidth(e.element),xe.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=xe.getWidth(e.content),e.defaultContentHeight=xe.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Hu({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||xe.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Sm}},eJ=["tabindex"];function tJ(t,e,n,r,i,s){var o=Kr("SpinnerIcon");return t.disabled?(q(),ee(Me,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(q(),ee("div",pe({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ae("div",pe({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(q(!0),ee(Me,null,Ft(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(q(),ee("div",pe({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):de("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(q(),ee("div",pe({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(q(!0),ee(Me,{key:0},Ft(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):de("",!0),_e(t.$slots,"loadingicon",{},function(){return[Je(o,pe({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):de("",!0)],16,eJ))}Db.render=tJ;var nJ={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},rJ=pi.extend({name:"dropdown",classes:nJ}),iJ={name:"BaseDropdown",extends:La,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:rJ,provide:function(){return{$parentInstance:this}}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function sJ(t){return uJ(t)||lJ(t)||aJ(t)||oJ()}function oJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aJ(t,e){if(t){if(typeof t=="string")return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(t,e)}}function lJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uJ(t){if(Array.isArray(t))return Fy(t)}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xx(t,e,n){return e=cJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=dJ(t,"string");return md(e)=="symbol"?e:String(e)}function dJ(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jx={name:"Dropdown",extends:iJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||gp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||gp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Pl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||xe.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&we.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Gx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Pl.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Pl.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Bx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&xe.isVisible(n)&&(this.labelClickListener=function(){xe.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&xe.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&we.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=jx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(lS(lS({},o),{},Xx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",sJ(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Yx},components:{VirtualScroller:Db,Portal:Rb,TimesIcon:kb,ChevronDownIcon:Ob,SpinnerIcon:Sm,SearchIcon:Pb,CheckIcon:Im,BlankIcon:Kx}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return e=fJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=pJ(t,"string");return gd(e)=="symbol"?e:String(e)}function pJ(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mJ=["id"],gJ=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],vJ=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],yJ=["value","placeholder","aria-owns","aria-activedescendant"],_J=["id","aria-label"],bJ=["id"],wJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function TJ(t,e,n,r,i,s){var o=Kr("SpinnerIcon"),a=Kr("CheckIcon"),l=Kr("BlankIcon"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=HA("ripple");return q(),ee("div",pe({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(q(),ee("input",pe({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Fi(Fi({},t.inputProps),t.ptm("input"))),null,16,gJ)):(q(),ee("span",pe({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Fi(Fi({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[xn(ht(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,vJ)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(q(),qe(zr(t.clearIcon?"i":"TimesIcon"),pe({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Fi(Fi({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):de("",!0),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(q(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(q(),qe(o,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(q(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Je(c,{appendTo:t.appendTo},{default:Qe(function(){return[Je(Co,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(q(),ee("div",pe({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Fi(Fi({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(q(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[Ae("div",pe({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Fi(Fi({},t.filterInputProps),t.ptm("filterInput"))),null,16,yJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(q(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)],16)):de("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Je(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),tr({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,w=f.items,E=f.getItemOptions,k=f.contentStyle,P=f.itemSize;return[Ae("ul",pe({ref:function(y){return s.listRef(y,g)},id:i.id+"_list",class:[t.cx("list"),p],style:k,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(q(!0),ee(Me,null,Ft(w,function(T,y){return q(),ee(Me,{key:s.getOptionRenderKey(T,s.getOptionIndex(y,E))},[s.isOptionGroup(T)?(q(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(y,E)},function(){return[Ae("span",pe({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),ht(s.getOptionGroupLabel(T.optionGroup)),17)]})],16,bJ)):Qo((q(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(y,E),class:t.cx("item",{option:T,focusedOption:s.getOptionIndex(y,E)}),style:{height:P?P+"px":void 0},role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(y,E)),onClick:function(L){return s.onOptionSelect(L,T)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(y,E))},"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(y,E),"data-p-disabled":s.isOptionDisabled(T)},s.getPTItemOptions(T,E,y,"item")),[t.checkmark?(q(),ee(Me,{key:0},[s.isSelected(T)?(q(),qe(a,pe({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(q(),qe(l,pe({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):de("",!0),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(y,E)},function(){return[Ae("span",pe({class:t.cx("itemLabel")},t.ptm("itemLabel")),ht(s.getOptionLabel(T)),17)]})],16,wJ)),[[h]])],64)}),128)),i.filterValue&&(!w||w&&w.length===0)?(q(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[xn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(q(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[xn(ht(s.emptyMessageText),1)]})],16)):de("",!0)],16,_J)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(q(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):de("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,mJ)}Jx.render=TJ;var EJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},IJ=pi.extend({name:"inputtext",classes:EJ}),SJ={name:"BaseInputText",extends:La,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:IJ,provide:function(){return{$parentInstance:this}}},Zx={name:"InputText",extends:SJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},AJ=["value","aria-invalid"];function CJ(t,e,n,r,i,s){return q(),ee("input",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,AJ)}Zx.render=CJ;var OJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},PJ=pi.extend({name:"checkbox",classes:OJ}),kJ={name:"BaseCheckbox",extends:La,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:PJ,provide:function(){return{$parentInstance:this}}};function RJ(t){return MJ(t)||NJ(t)||xJ(t)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJ(t,e){if(t){if(typeof t=="string")return $y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(t,e)}}function NJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MJ(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eN={name:"Checkbox",extends:kJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!we.equals(i,n.value)}):r=this.modelValue?[].concat(RJ(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:we.contains(this.value,this.modelValue)}},components:{CheckIcon:Im}},LJ=["data-p-highlight","data-p-disabled"],VJ=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function FJ(t,e,n,r,i,s){var o=Kr("CheckIcon");return q(),ee("div",pe({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ae("input",pe({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,VJ),Ae("div",pe({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(q(),qe(o,pe({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):de("",!0)]})],16)],16,LJ)}eN.render=FJ;var tN={name:"TimesCircleIcon",extends:Va},$J=Ae("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),UJ=[$J];function BJ(t,e,n,r,i,s){return q(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),UJ,16)}tN.render=BJ;var jJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},HJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},WJ=pi.extend({name:"multiselect",classes:HJ,inlineStyles:jJ}),qJ={name:"BaseMultiSelect",extends:La,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:WJ,provide:function(){return{$parentInstance:this}}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){nN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nN(t,e,n){return e=zJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=KJ(t,"string");return vd(e)=="symbol"?e:String(e)}function KJ(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hS(t){return XJ(t)||QJ(t)||YJ(t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(t,e){if(t){if(typeof t=="string")return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}}function QJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XJ(t){if(Array.isArray(t))return Uy(t)}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rN={name:"MultiSelect",extends:qJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||gp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||gp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Pl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&xe.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&xe.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?xe.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;xe.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!we.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(hS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&xe.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Gx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(xe.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Pl.set("overlay",e,this.$primevue.config.zIndex.overlay),xe.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&xe.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Pl.clear(e)},alignOverlay:function(){this.appendTo==="self"?xe.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=xe.getOuterWidth(this.$el)+"px",xe.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Bx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!xe.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&we.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!we.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return xe.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return we.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?we.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=xe.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=jx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(dS(dS({},o),{},nN({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",hS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:we.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Yx},components:{Checkbox:eN,VirtualScroller:Db,Portal:Rb,TimesIcon:kb,SearchIcon:Pb,TimesCircleIcon:tN,ChevronDownIcon:Ob,SpinnerIcon:Sm,CheckIcon:Im}};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){By(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function By(t,e,n){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=ZJ(t,"string");return yd(e)=="symbol"?e:String(e)}function ZJ(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eZ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],tZ=["onClick"],nZ=["value","placeholder","aria-owns","aria-activedescendant"],rZ=["aria-label"],iZ=["id","aria-label"],sZ=["id"],oZ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function aZ(t,e,n,r,i,s){var o=Kr("TimesCircleIcon"),a=Kr("SpinnerIcon"),l=Kr("Checkbox"),u=Kr("VirtualScroller"),c=Kr("Portal"),h=HA("ripple");return q(),ee("div",pe({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ae("div",pe({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ae("input",pe({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Hs(Hs({},t.inputProps),t.ptm("hiddenInput"))),null,16,eZ)],16),Ae("div",pe({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ae("div",pe({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(q(),ee(Me,{key:0},[xn(ht(s.label||"empty"),1)],64)):t.display==="chip"?(q(),ee(Me,{key:1},[(q(!0),ee(Me,null,Ft(s.chipSelectedItems,function(f){return q(),ee("div",pe({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:f},function(){return[Ae("span",pe({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),ht(s.getLabelByValue(f)),17)]}),t.disabled?de("",!0):_e(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(q(),ee("span",pe({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,tZ)):(q(),qe(o,pe({key:1,class:t.cx("removeTokenIcon"),onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(q(),ee(Me,{key:0},[xn(ht(t.placeholder||"empty"),1)],64)):de("",!0)],64)):de("",!0)]})],16)],16),Ae("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(q(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(q(),qe(a,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(q(),qe(zr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Je(c,{appendTo:t.appendTo},{default:Qe(function(){return[Je(Co,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(q(),ee("div",pe({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Hs(Hs({},t.panelProps),t.ptm("panel"))),[Ae("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(q(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(q(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(q(),qe(zr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(q(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[f.class,By({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):de("",!0),t.filter?(q(),ee("div",pe({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ae("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Hs(Hs({},t.filterInputProps),t.ptm("filterInput"))),null,16,nZ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(q(),qe(zr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):de("",!0),t.filter?(q(),ee("span",pe({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ht(s.filterResultMessageText),17)):de("",!0),Qo((q(),ee("button",pe({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Hs(Hs({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(q(),qe(zr(t.closeIcon?"span":"TimesIcon"),pe({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,rZ)),[[h]])],16)):de("",!0),Ae("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Je(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),tr({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,w=f.items,E=f.getItemOptions,k=f.contentStyle,P=f.itemSize;return[Ae("ul",pe({ref:function(y){return s.listRef(y,g)},id:i.id+"_list",class:[t.cx("list"),p],style:k,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(q(!0),ee(Me,null,Ft(w,function(T,y){return q(),ee(Me,{key:s.getOptionRenderKey(T,s.getOptionIndex(y,E))},[s.isOptionGroup(T)?(q(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(y,E)},function(){return[xn(ht(s.getOptionGroupLabel(T.optionGroup)),1)]})],16,sZ)):Qo((q(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(y,E),style:{height:P?P+"px":void 0},class:t.cx("item",{option:T,index:y,getItemOptions:E}),role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(y,E)),onClick:function(L){return s.onOptionSelect(L,T,s.getOptionIndex(y,E),!0)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(y,E))}},s.getCheckboxPTOptions(T,E,y,"item"),{"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(y,E),"data-p-disabled":s.isOptionDisabled(T)}),[Je(l,{modelValue:s.isSelected(T),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(T,E,y,"itemCheckbox")},{icon:Qe(function(M){return[t.$slots.itemcheckboxicon?(q(),qe(zr(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:tt(M.class)},null,8,["checked","class"])):M.checked?(q(),qe(zr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[M.class,By({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(T,E,y,"itemCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(y,E)},function(){return[Ae("span",wn(er(t.ptm("option"))),ht(s.getOptionLabel(T)),17)]})],16,oZ)),[[h]])],64)}),128)),i.filterValue&&(!w||w&&w.length===0)?(q(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[xn(ht(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(q(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[xn(ht(s.emptyMessageText),1)]})],16)):de("",!0)],16,iZ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(q(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ht(s.emptyMessageText),17)):de("",!0),Ae("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ht(s.selectedMessageText),17),Ae("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}rN.render=aZ;var lZ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},uZ=pi.extend({name:"textarea",classes:lZ}),cZ={name:"BaseTextarea",extends:La,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:uZ,provide:function(){return{$parentInstance:this}}},iN={name:"Textarea",extends:cZ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},dZ=["value","aria-invalid"];function hZ(t,e,n,r,i,s){return q(),ee("textarea",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,dZ)}iN.render=hZ;/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function fZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sN(r.key),r)}}function pZ(t,e,n){return e&&pS(t.prototype,e),n&&pS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mZ(t,e,n){return(e=sN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sN(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}var gS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},vZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Am=typeof window<"u"&&typeof window.document<"u",ks=Am?window:{},kl=Am&&ks.document.documentElement?"ontouchstart"in ks.document.documentElement:!1,Nb=Am?"PointerEvent"in ks:!1,ut="viewer",df="move",oN="switch",Zu="zoom",Wh="".concat(ut,"-active"),yZ="".concat(ut,"-close"),hf="".concat(ut,"-fade"),Hy="".concat(ut,"-fixed"),_Z="".concat(ut,"-fullscreen"),vS="".concat(ut,"-fullscreen-exit"),Wo="".concat(ut,"-hide"),bZ="".concat(ut,"-hide-md-down"),wZ="".concat(ut,"-hide-sm-down"),TZ="".concat(ut,"-hide-xs-down"),ri="".concat(ut,"-in"),Ac="".concat(ut,"-invisible"),Rl="".concat(ut,"-loading"),EZ="".concat(ut,"-move"),yS="".concat(ut,"-open"),Qa="".concat(ut,"-show"),gn="".concat(ut,"-transition"),tu="click",Wy="dblclick",_S="dragstart",bS="focusin",wS="keydown",oi="load",ia="error",IZ=kl?"touchend touchcancel":"mouseup",SZ=kl?"touchmove":"mousemove",AZ=kl?"touchstart":"mousedown",TS=Nb?"pointerdown":AZ,ES=Nb?"pointermove":SZ,IS=Nb?"pointerup pointercancel":IZ,SS="resize",yi="transitionend",AS="wheel",CS="ready",OS="show",PS="shown",kS="hide",RS="hidden",DS="view",_d="viewed",xS="move",NS="moved",MS="rotate",LS="rotated",VS="scale",FS="scaled",$S="zoom",US="zoomed",BS="play",jS="stop",vp="".concat(ut,"Action"),Mb=/\s\s*/,qh=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function bd(t){return typeof t=="string"}var CZ=Number.isNaN||ks.isNaN;function dn(t){return typeof t=="number"&&!CZ(t)}function hl(t){return typeof t>"u"}function nu(t){return jy(t)==="object"&&t!==null}var OZ=Object.prototype.hasOwnProperty;function fl(t){if(!nu(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&OZ.call(n,"isPrototypeOf")}catch{return!1}}function qt(t){return typeof t=="function"}function Xt(t,e){if(t&&qt(e))if(Array.isArray(t)||dn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else nu(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Xr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return nu(e)&&r.length>0&&r.forEach(function(s){nu(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},PZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ii(t,e){var n=t.style;Xt(e,function(r,i){PZ.test(i)&&dn(r)&&(r+="px"),n[i]=r})}function kZ(t){return bd(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function sl(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(n){Pt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function wd(t,e,n){if(e){if(dn(t.length)){Xt(t,function(r){wd(r,e,n)});return}n?nt(t,e):Pt(t,e)}}var RZ=/([a-z\d])([A-Z])/g;function Lb(t){return t.replace(RZ,"$1-$2").toLowerCase()}function pl(t,e){return nu(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Lb(e)))}function qy(t,e,n){nu(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Lb(e)),n)}var aN=function(){var t=!1;if(Am){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});ks.addEventListener("test",n,r),ks.removeEventListener("test",n,r)}return t}();function zt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Mb).forEach(function(s){if(!aN){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(Mb).forEach(function(s){if(r.once&&!aN){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function _n(t,e,n,r){var i;return qt(Event)&&qt(CustomEvent)?i=new CustomEvent(e,xb({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function DZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function ff(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];dn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),dn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),dn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),dn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),dn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function xZ(t){return bd(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Zg=ks.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ks.navigator.userAgent);function lN(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Zg)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Zg||i.removeChild(r)},Xt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,Zg||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function zh(t){switch(t){case 2:return TZ;case 3:return wZ;case 4:return bZ;default:return""}}function NZ(t){var e=xb({},t),n=[];return Xt(t,function(r,i){delete e[i],Xt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Kh(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:xb({timeStamp:Date.now(),startX:n,startY:r},i)}function MZ(t){var e=0,n=0,r=0;return Xt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var LZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Xr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Ii(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Xt(this.images,function(o,a){var l=o.src,u=o.alt||xZ(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Xt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Xt(s,function(o){var a=o.firstElementChild,l,u;qy(a,"filled",!0),r.loading&&nt(o,Rl),it(a,oi,l=function(h){zt(a,ia,u),r.loading&&Pt(o,Rl),e.loadImage(h)},{once:!0}),it(a,ia,u=function(){zt(a,oi,l),r.loading&&Pt(o,Rl)},{once:!0})}),r.transition&&it(n,_d,function(){nt(i,gn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Ii(this.list,Xr({width:o*this.length-i},ff({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Pt(e,gn),Ii(e,ff({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=lN(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),w=a,E=l;n.imageInitializing=!1,l*p>a?E=a/p:w=l*p,g=dn(g)?g:.9,w=Math.min(w*g,h),E=Math.min(E*g,f);var k=(a-w)/2,P=(l-E)/2,T={left:k,top:P,x:k,y:P,width:w,height:E,oldRatio:1,ratio:w/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},y=Xr({},T);r.rotatable&&(T.rotate=u.rotate||0,y.rotate=0),r.scalable&&(T.scaleX=u.scaleX||1,T.scaleY=u.scaleY||1,y.scaleX=1,y.scaleY=1),n.imageData=T,n.initialImageData=y,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Ii(r,Xr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},ff(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&sl(r,gn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){zt(r,yi,s)}},it(r,yi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},VZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,tu,this.onClick=this.click.bind(this)),it(n,_S,this.onDragStart=this.dragstart.bind(this)),it(r,TS,this.onPointerDown=this.pointerdown.bind(this)),it(i,ES,this.onPointerMove=this.pointermove.bind(this)),it(i,IS,this.onPointerUp=this.pointerup.bind(this)),it(i,wS,this.onKeyDown=this.keydown.bind(this)),it(window,SS,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,AS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,Wy,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;zt(n,tu,this.onClick),zt(n,_S,this.onDragStart),zt(r,TS,this.onPointerDown),zt(i,ES,this.onPointerMove),zt(i,IS,this.onPointerUp),zt(i,wS,this.onKeyDown),zt(window,SS,this.onResize),e.zoomable&&e.zoomOnWheel&&zt(n,AS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&zt(r,Wy,this.onDblclick)}},FZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=pl(i,vp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=pl(i,vp)),kl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(pl(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(kl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Pt(i,Ac),r.loading&&Pt(this.canvas,Rl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){wd(i,EZ,r.movable),wd(i,gn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,qt(r.viewed)&&it(n,_d,r.viewed,{once:!0}),_n(n,_d,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!pl(n,"filled");lN(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Ii(n,Xr({width:c,height:h},ff({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(dn(i)&&i!==1||dn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(a){r[a.identifier]=Kh(a)}):r[e.pointerId||0]=Kh(e);var o=n.movable?df:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=Zu:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=oN),n.transition&&(o===df||o===Zu)&&Pt(this.image,gn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(i){Xr(n[i.identifier]||{},Kh(i,!0))}):Xr(n[e.pointerId||0]||{},Kh(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Xt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===df||i===Zu)&&nt(this.image,gn),this.action=!1,kl&&i!==Zu&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){_n(n.image,Wy,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){_n(n.canvas,tu,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Xt(this.player.getElementsByTagName("img"),function(n){it(n,oi,e.loadImage.bind(e),{once:!0}),_n(n,oi)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},$Z={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(qt(r.show)&&it(n,OS,r.show,{once:!0}),_n(n,OS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Pt(i,Wo),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){zt(i,yi,s),Pt(i,ri)}},nt(i,gn),i.initialOffsetWidth=i.offsetWidth,it(i,yi,s,{once:!0}),nt(i,ri)}else nt(i,ri),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(qt(i.hide)&&it(r,kS,i.hide,{once:!0}),_n(r,kS)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Pt(s,ri),e.hidden()};if(i.transition&&!n){var l=function(h){h&&h.target===s&&(zt(s,yi,l),e.hidden())},u=function(){sl(s,gn)?(it(s,yi,l),Pt(s,ri)):a()};this.transitioning={abort:function(){e.viewed&&sl(o,gn)?zt(o,yi,u):sl(s,gn)&&zt(s,yi,l)}},this.viewed&&sl(o,gn)?(it(o,yi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=pl(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Xt(i.inheritedAttributes,function(E){var k=l.getAttribute(E);k!==null&&h.setAttribute(E,k)}),h.src=u,h.alt=c,qt(i.view)&&it(r,DS,i.view,{once:!0}),_n(r,DS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,Wh),f.removeAttribute("aria-selected")),nt(a,Wh),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Ac),i.loading&&nt(o,Rl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var k=e.imageData,P=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=kZ(qt(P)?P.call(e,h,k):"".concat(c," (").concat(k.naturalWidth," × ").concat(k.naturalHeight,")"))},g,w;return it(r,_d,p,{once:!0}),this.viewing={abort:function(){zt(r,_d,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",zt(h,oi,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,oi,g=function(){zt(h,ia,w),e.load()},{once:!0}),it(h,ia,w=function(){zt(h,oi,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Pt(h,Ac),i.loading&&Pt(e.canvas,Rl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Pt(h,Ac),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(hl(e)?e:r.x+Number(e),hl(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(dn(e)?c=!0:e=l,dn(r)?c=!0:r=u,c){if(qt(o.move)&&it(s,xS,o.move,{once:!0}),_n(s,xS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,qt(o.moved)&&it(s,NS,o.moved,{once:!0}),_n(s,NS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),dn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(qt(i.rotate)&&it(r,MS,i.rotate,{once:!0}),_n(r,MS,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,qt(i.rotated)&&it(r,LS,i.rotated,{once:!0}),_n(r,LS,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(dn(e)?u=!0:e=a,dn(r)?u=!0:r=l,u){if(qt(s.scale)&&it(i,VS,s.scale,{once:!0}),_n(i,VS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,qt(s.scaled)&&it(i,FS,s.scaled,{once:!0}),_n(i,FS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,w=c.naturalWidth,E=c.naturalHeight;if(e=Math.max(0,e),dn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var k=Math.max(.01,l.minZoomRatio),P=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,k),P)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var T=w*e,y=E*e,M=T-p,L=y-g,S=c.ratio;if(qt(l.zoom)&&it(a,$S,l.zoom,{once:!0}),_n(a,$S,{ratio:e,oldRatio:S,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var I=DZ(this.viewer),b=u&&Object.keys(u).length>0?MZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((b.pageX-I.left-h)/p),c.y-=L*((b.pageY-I.top-f)/g)}else fl(i)&&dn(i.x)&&dn(i.y)?(c.x-=M*((i.x-h)/p),c.y-=L*((i.y-f)/g)):(c.x-=M/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=T,c.height=y,c.oldRatio=S,c.ratio=e,this.renderImage(function(){n.zooming=!1,qt(l.zoomed)&&it(a,US,l.zoomed,{once:!0}),_n(a,US,{ratio:e,oldRatio:S,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(qt(i.play)&&it(r,BS,i.play,{once:!0}),_n(r,BS)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,Qa),Xt(this.items,function(f,p){var g=f.querySelector("img"),w=document.createElement("img");w.src=pl(g,"originalUrl"),w.alt=g.getAttribute("alt"),w.referrerPolicy=g.referrerPolicy,l+=1,nt(w,hf),wd(w,gn,i.transition),sl(f,Wh)&&(nt(w,ri),u=p),a.push(w),it(w,oi,o,{once:!0}),s.appendChild(w)}),dn(i.interval)&&i.interval>0){var c=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u-=1,u=u>=0?u:l-1,nt(a[u],ri),e.playing.timeout=setTimeout(c,i.interval)},h=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u+=1,u=u<l?u:0,nt(a[u],ri),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(qt(r.stop)&&it(n,jS,r.stop,{once:!0}),_n(n,jS)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Xt(i.getElementsByTagName("img"),function(s){zt(s,oi,e.onLoadWhenPlay)}),Pt(i,Qa),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,vS),n.transition&&(Pt(s,gn),this.viewed&&Pt(i,gn)),nt(r,Hy),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Ii(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Xr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,gn),nt(s,gn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Pt(this.button,vS),n.transition&&(Pt(s,gn),this.viewed&&Pt(i,gn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Pt(r,Hy),Ii(r,{zIndex:n.zIndexInline}),this.viewerData=Xr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,gn),nt(s,gn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&_n(r,yi),nt(r,Qa),nt(r,hf),nt(r,gn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ri)):(nt(r,Qa),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,yi,function(){Pt(r,Qa),Pt(r,hf),Pt(r,gn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Pt(r,ri),e.fading=!0):(Pt(r,Qa),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Xr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Xt(i?[n]:n.querySelectorAll("img"),function(u){qt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Xt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Ii(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,Wh),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[ut]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||zt(e,tu,this.onStart),e[ut]=void 0,this):this}},UZ={getImageURL:function(e){var n=this.options.url;return bd(n)?n=e.getAttribute(n):qt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,bS,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(zt(document,bS,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,yS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Pt(e,yS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),qt(n.shown)&&it(e,PS,n.shown,{once:!0}),_n(e,PS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,Wo),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(qt(n.hidden)&&it(e,RS,n.hidden,{once:!0}),_n(e,RS,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?fl(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case df:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case Zu:this.zoom(NZ(r),!1,null,e);break;case oN:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Xt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},BZ=ks.Viewer,jZ=function(t){return function(){return t+=1,t}}(-1),ru=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Xr({},gS,fl(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=jZ(),this.init()}return pZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[ut]){r[ut]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Xt(s?[r]:r.querySelectorAll("img"),function(u){qt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),hl(document.createElement(ut).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Xt(o,function(c){c.complete||(zt(c,oi,l),zt(c,ia,l))})}},Xt(o,function(u){if(u.complete)l();else{var c,h;it(u,oi,c=function(){zt(u,ia,h),l()},{once:!0}),it(u,ia,h=function(){zt(u,oi,c),l()},{once:!0})}})}else it(r,tu,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!qt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=vZ;var o=s.querySelector(".".concat(ut,"-container")),a=o.querySelector(".".concat(ut,"-title")),l=o.querySelector(".".concat(ut,"-toolbar")),u=o.querySelector(".".concat(ut,"-navbar")),c=o.querySelector(".".concat(ut,"-button")),h=o.querySelector(".".concat(ut,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(ut,"-footer")),this.tooltipBox=o.querySelector(".".concat(ut,"-tooltip")),this.player=o.querySelector(".".concat(ut,"-player")),this.list=o.querySelector(".".concat(ut,"-list")),o.id="".concat(ut).concat(this.id),a.id="".concat(ut,"Title").concat(this.id),nt(a,r.title?zh(Array.isArray(r.title)?r.title[0]:r.title):Wo),nt(u,r.navbar?zh(r.navbar):Wo),wd(c,Wo,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(ut,"-backdrop")),!r.inline&&r.backdrop!=="static"&&qy(h,vp,"hide")),bd(r.className)&&r.className&&r.className.split(Mb).forEach(function(T){nt(o,T)}),r.toolbar){var f=document.createElement("ul"),p=fl(r.toolbar),g=qh.slice(0,3),w=qh.slice(7,9),E=qh.slice(9);p||nt(l,zh(r.toolbar)),Xt(p?r.toolbar:qh,function(T,y){var M=p&&fl(T),L=p?Lb(y):T,S=M&&!hl(T.show)?T.show:T;if(!(!S||!r.zoomable&&g.indexOf(L)!==-1||!r.rotatable&&w.indexOf(L)!==-1||!r.scalable&&E.indexOf(L)!==-1)){var I=M&&!hl(T.size)?T.size:T,b=M&&!hl(T.click)?T.click:T,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(ut,"-").concat(L)),qt(b)||qy(v,vp,L),dn(S)&&nt(v,zh(S)),["small","large"].indexOf(I)!==-1?nt(v,"".concat(ut,"-").concat(I)):L==="play"&&nt(v,"".concat(ut,"-large")),qt(b)&&it(v,tu,b),f.appendChild(v)}}),l.appendChild(f)}else nt(l,Wo);if(!r.rotatable){var k=l.querySelectorAll('li[class*="rotate"]');nt(k,Ac),Xt(k,function(T){l.appendChild(T)})}if(r.inline)nt(c,_Z),Ii(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Ii(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,yZ),nt(o,Hy),nt(o,hf),nt(o,Wo),Ii(o,{zIndex:r.zIndex});var P=r.container;bd(P)&&(P=n.ownerDocument.querySelector(P)),P||(P=this.body),P.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,qt(r.ready)&&it(n,CS,r.ready,{once:!0}),_n(n,CS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=BZ,t}},{key:"setDefaults",value:function(n){Xr(gS,fl(n)&&n)}}])}();Xr(ru.prototype,LZ,VZ,FZ,$Z,UZ);var HZ=typeof global=="object"&&global&&global.Object===Object&&global;const uN=HZ;var WZ=typeof self=="object"&&self&&self.Object===Object&&self,qZ=uN||WZ||Function("return this")();const Cm=qZ;var zZ=Cm.Symbol;const yp=zZ;var cN=Object.prototype,KZ=cN.hasOwnProperty,GZ=cN.toString,Wu=yp?yp.toStringTag:void 0;function YZ(t){var e=KZ.call(t,Wu),n=t[Wu];try{t[Wu]=void 0;var r=!0}catch{}var i=GZ.call(t);return r&&(e?t[Wu]=n:delete t[Wu]),i}var QZ=Object.prototype,XZ=QZ.toString;function JZ(t){return XZ.call(t)}var ZZ="[object Null]",eee="[object Undefined]",HS=yp?yp.toStringTag:void 0;function Om(t){return t==null?t===void 0?eee:ZZ:HS&&HS in Object(t)?YZ(t):JZ(t)}function Pm(t){return t!=null&&typeof t=="object"}var tee="[object Symbol]";function nee(t){return typeof t=="symbol"||Pm(t)&&Om(t)==tee}var ree=Array.isArray;const iee=ree;var see=/\s/;function oee(t){for(var e=t.length;e--&&see.test(t.charAt(e)););return e}var aee=/^\s+/;function lee(t){return t&&t.slice(0,oee(t)+1).replace(aee,"")}function Ea(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var WS=NaN,uee=/^[-+]0x[0-9a-f]+$/i,cee=/^0b[01]+$/i,dee=/^0o[0-7]+$/i,hee=parseInt;function qS(t){if(typeof t=="number")return t;if(nee(t))return WS;if(Ea(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ea(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lee(t);var n=cee.test(t);return n||dee.test(t)?hee(t.slice(2),n?2:8):uee.test(t)?WS:+t}function dN(t){return t}var fee="[object AsyncFunction]",pee="[object Function]",mee="[object GeneratorFunction]",gee="[object Proxy]";function hN(t){if(!Ea(t))return!1;var e=Om(t);return e==pee||e==mee||e==fee||e==gee}var vee=Cm["__core-js_shared__"];const ev=vee;var zS=function(){var t=/[^.]+$/.exec(ev&&ev.keys&&ev.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yee(t){return!!zS&&zS in t}var _ee=Function.prototype,bee=_ee.toString;function wee(t){if(t!=null){try{return bee.call(t)}catch{}try{return t+""}catch{}}return""}var Tee=/[\\^$.*+?()[\]{}|]/g,Eee=/^\[object .+?Constructor\]$/,Iee=Function.prototype,See=Object.prototype,Aee=Iee.toString,Cee=See.hasOwnProperty,Oee=RegExp("^"+Aee.call(Cee).replace(Tee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pee(t){if(!Ea(t)||yee(t))return!1;var e=hN(t)?Oee:Eee;return e.test(wee(t))}function kee(t,e){return t==null?void 0:t[e]}function Ree(t,e){var n=kee(t,e);return Pee(n)?n:void 0}function Dee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var xee=800,Nee=16,Mee=Date.now;function Lee(t){var e=0,n=0;return function(){var r=Mee(),i=Nee-(r-n);if(n=r,i>0){if(++e>=xee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Vee(t){return function(){return t}}var Fee=function(){try{var t=Ree(Object,"defineProperty");return t({},"",{}),t}catch{}}();const _p=Fee;var $ee=_p?function(t,e){return _p(t,"toString",{configurable:!0,enumerable:!1,value:Vee(e),writable:!0})}:dN;const Uee=$ee;var Bee=Lee(Uee);const jee=Bee;var Hee=9007199254740991,Wee=/^(?:0|[1-9]\d*)$/;function fN(t,e){var n=typeof t;return e=e??Hee,!!e&&(n=="number"||n!="symbol"&&Wee.test(t))&&t>-1&&t%1==0&&t<e}function pN(t,e,n){e=="__proto__"&&_p?_p(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Vb(t,e){return t===e||t!==t&&e!==e}var qee=Object.prototype,zee=qee.hasOwnProperty;function mN(t,e,n){var r=t[e];(!(zee.call(t,e)&&Vb(r,n))||n===void 0&&!(e in t))&&pN(t,e,n)}function Kee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?pN(n,a,l):mN(n,a,l)}return n}var KS=Math.max;function Gee(t,e,n){return e=KS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=KS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Dee(t,this,a)}}function gN(t,e){return jee(Gee(t,e,dN),t+"")}var Yee=9007199254740991;function vN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Yee}function km(t){return t!=null&&vN(t.length)&&!hN(t)}function yN(t,e,n){if(!Ea(n))return!1;var r=typeof e;return(r=="number"?km(n)&&fN(e,n.length):r=="string"&&e in n)?Vb(n[e],t):!1}function Qee(t){return gN(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&yN(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Xee=Object.prototype;function Fb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xee;return t===n}function Jee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Zee="[object Arguments]";function GS(t){return Pm(t)&&Om(t)==Zee}var _N=Object.prototype,ete=_N.hasOwnProperty,tte=_N.propertyIsEnumerable,nte=GS(function(){return arguments}())?GS:function(t){return Pm(t)&&ete.call(t,"callee")&&!tte.call(t,"callee")};const rte=nte;function ite(){return!1}var bN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,YS=bN&&typeof module=="object"&&module&&!module.nodeType&&module,ste=YS&&YS.exports===bN,QS=ste?Cm.Buffer:void 0,ote=QS?QS.isBuffer:void 0,ate=ote||ite;const lte=ate;var ute="[object Arguments]",cte="[object Array]",dte="[object Boolean]",hte="[object Date]",fte="[object Error]",pte="[object Function]",mte="[object Map]",gte="[object Number]",vte="[object Object]",yte="[object RegExp]",_te="[object Set]",bte="[object String]",wte="[object WeakMap]",Tte="[object ArrayBuffer]",Ete="[object DataView]",Ite="[object Float32Array]",Ste="[object Float64Array]",Ate="[object Int8Array]",Cte="[object Int16Array]",Ote="[object Int32Array]",Pte="[object Uint8Array]",kte="[object Uint8ClampedArray]",Rte="[object Uint16Array]",Dte="[object Uint32Array]",nn={};nn[Ite]=nn[Ste]=nn[Ate]=nn[Cte]=nn[Ote]=nn[Pte]=nn[kte]=nn[Rte]=nn[Dte]=!0;nn[ute]=nn[cte]=nn[Tte]=nn[dte]=nn[Ete]=nn[hte]=nn[fte]=nn[pte]=nn[mte]=nn[gte]=nn[vte]=nn[yte]=nn[_te]=nn[bte]=nn[wte]=!1;function xte(t){return Pm(t)&&vN(t.length)&&!!nn[Om(t)]}function Nte(t){return function(e){return t(e)}}var wN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cc=wN&&typeof module=="object"&&module&&!module.nodeType&&module,Mte=Cc&&Cc.exports===wN,tv=Mte&&uN.process,Lte=function(){try{var t=Cc&&Cc.require&&Cc.require("util").types;return t||tv&&tv.binding&&tv.binding("util")}catch{}}();const XS=Lte;var JS=XS&&XS.isTypedArray,Vte=JS?Nte(JS):xte;const Fte=Vte;var $te=Object.prototype,Ute=$te.hasOwnProperty;function TN(t,e){var n=iee(t),r=!n&&rte(t),i=!n&&!r&&lte(t),s=!n&&!r&&!i&&Fte(t),o=n||r||i||s,a=o?Jee(t.length,String):[],l=a.length;for(var u in t)(e||Ute.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fN(u,l)))&&a.push(u);return a}function Bte(t,e){return function(n){return t(e(n))}}var jte=Bte(Object.keys,Object);const Hte=jte;var Wte=Object.prototype,qte=Wte.hasOwnProperty;function zte(t){if(!Fb(t))return Hte(t);var e=[];for(var n in Object(t))qte.call(t,n)&&n!="constructor"&&e.push(n);return e}function Kte(t){return km(t)?TN(t):zte(t)}var Gte=Object.prototype,Yte=Gte.hasOwnProperty,Qte=Qee(function(t,e){if(Fb(e)||km(e)){Kee(e,Kte(e),t);return}for(var n in e)Yte.call(e,n)&&mN(t,n,e[n])});const Xte=Qte;function Jte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Zte=Object.prototype,ene=Zte.hasOwnProperty;function tne(t){if(!Ea(t))return Jte(t);var e=Fb(t),n=[];for(var r in t)r=="constructor"&&(e||!ene.call(t,r))||n.push(r);return n}function nne(t){return km(t)?TN(t,!0):tne(t)}var rne=function(){return Cm.Date.now()};const nv=rne;var ine="Expected a function",sne=Math.max,one=Math.min;function ane(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(ine);e=qS(e)||0,Ea(n)&&(c=!!n.leading,h="maxWait"in n,s=h?sne(qS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(L){var S=r,I=i;return r=i=void 0,u=L,o=t.apply(I,S),o}function g(L){return u=L,a=setTimeout(k,e),c?p(L):o}function w(L){var S=L-l,I=L-u,b=e-S;return h?one(b,s-I):b}function E(L){var S=L-l,I=L-u;return l===void 0||S>=e||S<0||h&&I>=s}function k(){var L=nv();if(E(L))return P(L);a=setTimeout(k,w(L))}function P(L){return a=void 0,f&&r?p(L):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function y(){return a===void 0?o:P(nv())}function M(){var L=nv(),S=E(L);if(r=arguments,i=this,l=L,S){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(k,e),p(l)}return a===void 0&&(a=setTimeout(k,e)),o}return M.cancel=T,M.flush=y,M}var EN=Object.prototype,lne=EN.hasOwnProperty,une=gN(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&yN(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=nne(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||Vb(c,EN[u])&&!lne.call(t,u))&&(t[u]=s[u])}return t});const cne=une,dne=({images:t=[],options:e})=>{e=Xte(e,{inline:!1});const n=document.createElement("div"),r=xl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>xl("img",typeof a=="string"?{src:a}:a)));Vc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new ru(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Vc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},hne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await Hn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new ru(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const w=new g(k=>{k.forEach(P=>{u(`Viewer mutation:${P.type}`),f(c,h,p,!0)})}),E={attributes:!0,childList:!0,characterData:!0,subtree:!0};w.observe(c,E),c.__viewerMutationObserver=w,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=In(()=>h.value,(g,w)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=ane(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},fne=Gt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=he();function i(){n=new ru(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return In(()=>t.images,()=>{Hn(()=>{l()})},u),In(()=>t.trigger,()=>{Hn(()=>{l()})},u),In(()=>t.options,()=>{Hn(()=>{o()})},u),yn(()=>i()),Sa(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),pne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},mne={ref:"root"};function gne(t,e,n,r,i,s){return q(),ee("div",mne,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const vne=pne(fne,[["render",gne]]),yne={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&ru.setDefaults(r),t.config.globalProperties[`$${e}Api`]=dne,t.component(e,cne(vne,{name:e})),t.directive(e,hne({name:e,debug:n}))},setDefaults(t){ru.setDefaults(t)}},mi=Ev(ZV);mi.use(JD);mi.use(kW,{firebaseApp:HU,modules:[AW()]});mi.use(nP);mi.use(B2);mi.use(yne);mi.use(UQ);mi.component("VueDatePicker",Sb);mi.component("PrimeInputText",Zx);mi.component("PrimeTextArea",iN);mi.component("PrimeDropdown",Jx);mi.component("PrimeMultiSelect",rN);mi.mount("#app");export{QD as $,HD as A,pi as B,Nre as C,Qe as D,tt as E,Hk as F,xn as G,ht as H,Bi as I,JD as J,aq as K,Re as L,In as M,Mre as N,Ft as O,xe as P,wn as Q,Rn as R,er as S,Bre as T,jre as U,at as V,Kre as W,Lre as X,BW as Y,Xre as Z,Wn as _,Dr as a,dre as a$,Zre as a0,Jre as a1,Ure as a2,Fo as a3,rl as a4,QC as a5,sre as a6,Kr as a7,Kd as a8,wc as a9,FW as aA,by as aB,rb as aC,LW as aD,MW as aE,NW as aF,Ty as aG,oI as aH,Dre as aI,Va as aJ,gp as aK,Ob as aL,Yx as aM,Co as aN,xW as aO,DW as aP,zre as aQ,qre as aR,Hre as aS,GD as aT,KD as aU,KM as aV,VA as aW,Dn as aX,vre as aY,iA as aZ,Pne as a_,uI as aa,ere as ab,Lt as ac,an as ad,kr as ae,Hn as af,xre as ag,oL as ah,lt as ai,G9 as aj,f0 as ak,Rre as al,Sa as am,tr as an,Qo as ao,oc as ap,$re as aq,tN as ar,zr as as,vne as at,Ine as au,RW as av,Nne as aw,Gre as ax,Qre as ay,Yre as az,bc as b,iL as b$,Une as b0,gf as b1,wl as b2,rre as b3,NA as b4,Jo as b5,Sne as b6,S2 as b7,Ane as b8,v_ as b9,Xy as bA,Cne as bB,s_ as bC,xl as bD,su as bE,bL as bF,Tre as bG,Mne as bH,Fne as bI,Vne as bJ,Lne as bK,lre as bL,Ere as bM,Rr as bN,XL as bO,n_ as bP,Yi as bQ,sa as bR,are as bS,ui as bT,vo as bU,r_ as bV,Qne as bW,Xne as bX,rL as bY,u_ as bZ,a_ as b_,One as ba,Di as bb,Ed as bc,yr as bd,Ep as be,Is as bf,gre as bg,Ev as bh,OL as bi,Jne as bj,CL as bk,V2 as bl,DM as bm,$ne as bn,b2 as bo,Hne as bp,Wne as bq,Kne as br,qne as bs,jne as bt,_re as bu,zne as bv,hre as bw,bne as bx,Qy as by,ei as bz,le as c,Ci as c$,cL as c0,uL as c1,lL as c2,sA as c3,aL as c4,l_ as c5,FM as c6,Rne as c7,ic as c8,IA as c9,yre as cA,T2 as cB,xne as cC,nre as cD,RL as cE,bre as cF,Aa as cG,LA as cH,CC as cI,D2 as cJ,OC as cK,R2 as cL,Tv as cM,JL as cN,cre as cO,tre as cP,DL as cQ,Zne as cR,Gne as cS,ure as cT,Dne as cU,Wre as cV,zd as cW,Jn as cX,hn as cY,ii as cZ,Go as c_,kne as ca,bf as cb,t_ as cc,ore as cd,Vc as ce,HA as cf,mre as cg,xc as ch,Kw as ci,fre as cj,go as ck,wA as cl,Tne as cm,TA as cn,kL as co,pre as cp,wne as cq,Gh as cr,Bne as cs,mt as ct,kc as cu,xM as cv,ire as cw,Ene as cx,Yne as cy,wre as cz,Ca as d,co as d0,Fre as d1,Vre as d2,XD as d3,we as d4,Sm as d5,Gt as e,Ire as f,nb as g,td as h,jD as i,rE as j,Y as k,q as l,ee as m,Je as n,yn as o,Ae as p,qe as q,he as r,_o as s,de as t,Sre as u,A5 as v,Me as w,La as x,pe as y,_e as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/c-Blog-C-Ckw_C8.js","./assets/c-SwitchField.vue_vue_type_script_setup_true_lang-R6e5xvIM.js","./assets/c-Bubble.vue_vue_type_script_setup_true_lang-BLfz40U2.js","./assets/c-Page.vue_vue_type_script_setup_true_lang-Dxb_1pd3.js","./assets/c-BlogPost.vue_vue_type_script_setup_true_lang-CgbQNy47.js","./assets/c-Countdown.vue_vue_type_script_setup_true_lang-D85vdNQ7.js","./bundle12.css","./assets/c-TextField.vue_vue_type_script_setup_true_lang-DeJvJEAf.js","./assets/c-validation-DokkLKHB.js","./assets/c-accordiontab.esm-CrO3SYCY.js","./assets/c-Image.vue_vue_type_script_setup_true_lang-DPmCCURW.js","./bundle10.css","./assets/c-DateField-CWvNIfkF.js","./assets/c-_plugin-vue_export-helper-DlAUqK2U.js","./bundle13.css","./assets/c-FileUpload.vue_vue_type_script_setup_true_lang-B2_K8Vcb.js","./assets/c-vuedraggable.umd-6GGnRdAM.js","./assets/c-SelectField.vue_vue_type_script_setup_true_lang-DIKuGEia.js","./assets/c-Tools-v5bfQK5o.js","./assets/c-CatCalc-Dst5FRL1.js","./assets/c-useCatCalc-6gobbMX9.js","./assets/c-CustomVoting-G4zwo8UU.js","./bundle9.css","./assets/c-Dashboard-Bn3JjjlX.js","./assets/c-PasswordField.vue_vue_type_script_setup_true_lang-DH-FFF_q.js","./assets/c-Home-GKNqLVCM.js","./assets/c-Hangman-B4yVhf8k.js","./assets/c-Spades-CRNFPKDk.js","./assets/c-Worm-JshW0EFQ.js","./assets/c-Dice6.vue_vue_type_script_setup_true_lang-CyLZpKXP.js","./assets/c-Login-6304ObhP.js","./assets/c-NotFound-r15oZB2H.js","./assets/c-Pet-Cpk1l-Sy.js","./assets/c-PetDialog.vue_vue_type_script_setup_true_lang-D9XqiWPz.js","./bundle11.css","./assets/c-Pets-0UArTTkD.js","./assets/c-User-DzEcVF3b.js","./bundle14.css","./assets/c-Users-B7p-aZ5k.js","./assets/c-Register-CEgUDdP7.js","./assets/c-Games-Ce8no8Ag.js","./assets/c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-jQyu4mMx.js","./assets/c-Yahtzee-CLoXeTn5.js","./assets/c-useScoreInfo-BX-f5KaG.js","./bundle17.css","./bundle15.css","./assets/c-Rainworms-DUTPBIS2.js","./assets/c-Patience-DYCRKw4B.js","./bundle16.css","./assets/c-Guess-BsggWeDq.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
